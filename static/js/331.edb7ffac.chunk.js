"use strict";(self.webpackChunkadmin_dashboard=self.webpackChunkadmin_dashboard||[]).push([[331],{7289:(e,t,i)=>{i.d(t,{Y:()=>f});var r=i(8452),n=function(){function e(e){this.pagerModule=e}return e.prototype.render=function(){this.pagerElement=this.pagerModule.element,this.renderNumericContainer(),this.refreshNumericLinks(),this.wireEvents()},e.prototype.refresh=function(){this.pagerModule.updateTotalPages(),this.links.length&&this.updateLinksHtml(),this.updateStyles()},e.prototype.refreshNumericLinks=function(){var e,t=this.pagerModule,i=t.element.querySelector(".e-numericcontainer"),n=document.createDocumentFragment();i.innerHTML="";for(var o=1;o<=t.pageCount;o++)e=(0,r.n)("a",{className:"e-link e-numericitem e-spacing e-pager-default",attrs:{role:"link",tabindex:"-1","aria-label":"Goto Page "+o,href:"javascript:void(0);",name:"Goto page"+o}}),t.currentPage===o&&(0,r.pP)(e,["e-currentitem","e-active"],["e-pager-default"]),n.appendChild(e);i.appendChild(n),this.links=[].slice.call(i.childNodes)},e.prototype.wireEvents=function(){r.Jm.add(this.pagerElement,"click",this.clickHandler,this)},e.prototype.unwireEvents=function(){r.Jm.remove(this.pagerModule.element,"click",this.clickHandler)},e.prototype.destroy=function(){this.unwireEvents()},e.prototype.renderNumericContainer=function(){this.element=(0,r.n)("div",{className:"e-pagercontainer",attrs:{role:"navigation"}}),this.renderFirstNPrev(this.element),this.renderPrevPagerSet(this.element),this.element.appendChild((0,r.n)("div",{className:"e-numericcontainer"})),this.renderNextPagerSet(this.element),this.renderNextNLast(this.element),this.pagerModule.element.appendChild(this.element)},e.prototype.renderFirstNPrev=function(e){this.first=(0,r.n)("div",{className:"e-first e-icons e-icon-first",attrs:{title:this.pagerModule.getLocalizedLabel("firstPageTooltip"),"aria-label":this.pagerModule.getLocalizedLabel("firstPageTooltip"),tabindex:"-1"}}),this.prev=(0,r.n)("div",{className:"e-prev e-icons e-icon-prev",attrs:{title:this.pagerModule.getLocalizedLabel("previousPageTooltip"),"aria-label":this.pagerModule.getLocalizedLabel("previousPageTooltip"),tabindex:"-1"}}),(0,r.BC)([this.first,this.prev],e)},e.prototype.renderPrevPagerSet=function(e){var t=(0,r.n)("div");this.PP=(0,r.n)("a",{className:"e-link e-pp e-spacing",innerHTML:"...",attrs:{title:this.pagerModule.getLocalizedLabel("previousPagerTooltip"),role:"link","aria-label":this.pagerModule.getLocalizedLabel("previousPagerTooltip"),tabindex:"-1",name:this.pagerModule.getLocalizedLabel("previousPagerTooltip"),href:"javascript:void(0);"}}),t.appendChild(this.PP),e.appendChild(t)},e.prototype.renderNextPagerSet=function(e){var t=(0,r.n)("div");this.NP=(0,r.n)("a",{className:"e-link e-np e-spacing",innerHTML:"...",attrs:{title:this.pagerModule.getLocalizedLabel("nextPagerTooltip"),role:"link","aria-label":this.pagerModule.getLocalizedLabel("nextPagerTooltip"),tabindex:"-1",name:this.pagerModule.getLocalizedLabel("nextPagerTooltip"),href:"javascript:void(0);"}}),t.appendChild(this.NP),e.appendChild(t)},e.prototype.renderNextNLast=function(e){this.next=(0,r.n)("div",{className:"e-next e-icons e-icon-next",attrs:{title:this.pagerModule.getLocalizedLabel("nextPageTooltip"),"aria-label":this.pagerModule.getLocalizedLabel("nextPageTooltip"),tabindex:"-1"}}),this.last=(0,r.n)("div",{className:"e-last e-icons e-icon-last",attrs:{title:this.pagerModule.getLocalizedLabel("lastPageTooltip"),"aria-label":this.pagerModule.getLocalizedLabel("lastPageTooltip"),tabindex:"-1"}}),(0,r.BC)([this.next,this.last],e)},e.prototype.clickHandler=function(e){var t=this.pagerModule,i=e.target;return t.previousPageNo=t.currentPage,i.classList.contains("e-disable")||(0,r.hX)(i.getAttribute("index"))||(t.currentPage=parseInt(i.getAttribute("index"),10),t.dataBind()),!1},e.prototype.updateLinksHtml=function(){var e,t,i=this.pagerModule;i.currentPage=1===i.totalPages?1:i.currentPage,i.currentPage>i.totalPages&&i.totalPages&&(i.currentPage=i.totalPages),e=parseInt((i.currentPage/i.pageCount).toString(),10),i.currentPage%i.pageCount===0&&e>0&&(e-=1);for(var n=0;n<i.pageCount;n++)(t=e*i.pageCount+1+n)<=i.totalPages?(this.links[n].style.display="",this.links[n].setAttribute("index",t.toString()),this.links[n].innerHTML=i.customText?i.customText+t:t.toString(),i.currentPage!==t?this.links[n].classList.add("e-pager-default"):this.links[n].classList.remove("e-pager-default")):(this.links[n].innerHTML=i.customText?i.customText+t:t.toString(),this.links[n].style.display="none"),(0,r.pP)(this.links[n],[],["e-currentitem","e-active"]);this.first.setAttribute("index","1"),this.last.setAttribute("index",i.totalPages.toString()),this.prev.setAttribute("index",(i.currentPage-1).toString()),this.next.setAttribute("index",(i.currentPage+1).toString()),this.pagerElement.querySelector(".e-mfirst").setAttribute("index","1"),this.pagerElement.querySelector(".e-mlast").setAttribute("index",i.totalPages.toString()),this.pagerElement.querySelector(".e-mprev").setAttribute("index",(i.currentPage-1).toString()),this.pagerElement.querySelector(".e-mnext").setAttribute("index",(i.currentPage+1).toString()),this.PP.setAttribute("index",(parseInt(this.links[0].getAttribute("index"),10)-i.pageCount).toString()),this.NP.setAttribute("index",(parseInt(this.links[this.links.length-1].getAttribute("index"),10)+1).toString())},e.prototype.updateStyles=function(){this.updateFirstNPrevStyles(),this.updatePrevPagerSetStyles(),this.updateNextPagerSetStyles(),this.updateNextNLastStyles(),this.links.length&&(0,r.pP)(this.links[(this.pagerModule.currentPage-1)%this.pagerModule.pageCount],["e-currentitem","e-active"],[])},e.prototype.updateFirstNPrevStyles=function(){var e=["e-firstpage","e-pager-default"],t=["e-firstpagedisabled","e-disable"],i=["e-prevpage","e-pager-default"],n=["e-prevpagedisabled","e-disable"];this.pagerModule.totalPages>0&&this.pagerModule.currentPage>1?((0,r.pP)(this.prev,i,n),(0,r.pP)(this.first,e,t),(0,r.pP)(this.pagerElement.querySelector(".e-mfirst"),e,t),(0,r.pP)(this.pagerElement.querySelector(".e-mprev"),i,n)):((0,r.pP)(this.prev,n,i),(0,r.pP)(this.first,t,e),(0,r.pP)(this.pagerElement.querySelector(".e-mprev"),n,i),(0,r.pP)(this.pagerElement.querySelector(".e-mfirst"),t,e))},e.prototype.updatePrevPagerSetStyles=function(){this.pagerModule.currentPage>this.pagerModule.pageCount?(0,r.pP)(this.PP,["e-numericitem","e-pager-default"],["e-nextprevitemdisabled","e-disable"]):(0,r.pP)(this.PP,["e-nextprevitemdisabled","e-disable"],["e-numericitem","e-pager-default"])},e.prototype.updateNextPagerSetStyles=function(){var e=this.pagerModule,t=this.links[0].innerHTML.replace(e.customText,"");!t.length||!this.links.length||parseInt(t,10)+e.pageCount>e.totalPages?(0,r.pP)(this.NP,["e-nextprevitemdisabled","e-disable"],["e-numericitem","e-pager-default"]):(0,r.pP)(this.NP,["e-numericitem","e-pager-default"],["e-nextprevitemdisabled","e-disable"])},e.prototype.updateNextNLastStyles=function(){var e=["e-lastpage","e-pager-default"],t=["e-lastpagedisabled","e-disable"],i=["e-nextpage","e-pager-default"],n=["e-nextpagedisabled","e-disable"],o=this.pagerModule;o.currentPage===o.totalPages||0===o.totalRecordsCount?((0,r.pP)(this.last,t,e),(0,r.pP)(this.next,n,i),(0,r.pP)(this.pagerElement.querySelector(".e-mlast"),t,e),(0,r.pP)(this.pagerElement.querySelector(".e-mnext"),n,i)):((0,r.pP)(this.last,e,t),(0,r.pP)(this.next,i,n),(0,r.pP)(this.pagerElement.querySelector(".e-mlast"),e,t),(0,r.pP)(this.pagerElement.querySelector(".e-mnext"),i,n))},e}(),o=function(){function e(e){this.pagerModule=e}return e.prototype.render=function(){var e=(0,r.n)("div",{className:"e-parentmsgbar",attrs:{"aria-label":"Pager Information"}});this.pageNoMsgElem=(0,r.n)("span",{className:"e-pagenomsg",styles:"textalign:right"}),this.pageCountMsgElem=(0,r.n)("span",{className:"e-pagecountmsg",styles:"textalign:right"}),(0,r.BC)([this.pageNoMsgElem,this.pageCountMsgElem],e),this.pagerModule.element.appendChild(e),this.refresh()},e.prototype.refresh=function(){var e=this.pagerModule;this.pageNoMsgElem.textContent=this.format(e.getLocalizedLabel("currentPageInfo"),[0===e.totalRecordsCount?0:e.currentPage,e.totalPages||0,e.totalRecordsCount||0])+" ",this.pageCountMsgElem.textContent=this.format(e.getLocalizedLabel(e.totalRecordsCount<=1?"totalItemInfo":"totalItemsInfo"),[e.totalRecordsCount||0,e.totalRecordsCount?e.pageSize*(e.currentPage-1)+1:0,e.pageSize*e.currentPage>e.totalRecordsCount?e.totalRecordsCount:e.pageSize*e.currentPage]),this.pageNoMsgElem.parentElement.setAttribute("aria-label",this.pageNoMsgElem.textContent+this.pageCountMsgElem.textContent)},e.prototype.hideMessage=function(){this.pageNoMsgElem&&(this.pageNoMsgElem.style.display="none"),this.pageCountMsgElem&&(this.pageCountMsgElem.style.display="none")},e.prototype.showMessage=function(){this.pageNoMsgElem||this.render(),this.pageNoMsgElem.style.display="",this.pageCountMsgElem.style.display=""},e.prototype.destroy=function(){},e.prototype.format=function(e,t){for(var i,r=0;r<t.length;r++)i=new RegExp("\\{"+r+"\\}","gm"),e=e.replace(i,t[r].toString());return e},e}(),s=i(969),l=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function r(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),a=function(e,t,i,r){var n,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,r);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},h=function(e){function t(t,i){var r=e.call(this,t,i)||this;return r.hasParent=!1,r.pageRefresh="pager-refresh",r}return l(t,e),t.prototype.requiredModules=function(){var e=[];return this.enableExternalMessage&&e.push({member:"externalMessage",args:[this]}),this.checkpagesizes()&&e.push({member:"pagerdropdown",args:[this]}),e},t.prototype.preRender=function(){this.defaultConstants={currentPageInfo:"{0} of {1} pages",totalItemsInfo:"({0} items)",totalItemInfo:"({0} item)",firstPageTooltip:"Go to first page",lastPageTooltip:"Go to last page",nextPageTooltip:"Go to next page",previousPageTooltip:"Go to previous page",nextPagerTooltip:"Go to next pager",previousPagerTooltip:"Go to previous pager",pagerDropDown:"Items per page",pagerAllDropDown:"Items",CurrentPageInfo:"{0} of {1} pages",TotalItemsInfo:"({0} items)",FirstPageTooltip:"Go to first page",LastPageTooltip:"Go to last page",NextPageTooltip:"Go to next page",PreviousPageTooltip:"Go to previous page",NextPagerTooltip:"Go to next pager",PreviousPagerTooltip:"Go to previous pager",PagerDropDown:"Items per page",PagerAllDropDown:"Items",All:"All"},this.containerModule=new n(this),this.pagerMessageModule=new o(this)},t.prototype.render=function(){this.template?this.isReactTemplate()?(this.on(this.pageRefresh,this.pagerTemplate,this),this.notify(this.pageRefresh,{})):this.pagerTemplate():(this.initLocalization(),this.updateRTL(),this.totalRecordsCount=this.totalRecordsCount||0,this.renderFirstPrevDivForDevice(),this.containerModule.render(),this.enablePagerMessage&&this.pagerMessageModule.render(),this.renderNextLastDivForDevice(),this.checkpagesizes()&&this.pagerdropdownModule&&this.pagerdropdownModule.render(),this.addAriaLabel(),this.enableExternalMessage&&this.externalMessageModule&&this.externalMessageModule.render(),this.refresh(),this.trigger("created",{currentPage:this.currentPage,totalRecordsCount:this.totalRecordsCount}))},t.prototype.getPersistData=function(){return this.addOnPersist(["currentPage","pageSize"])},t.prototype.destroy=function(){this.isDestroyed||(this.isReactTemplate()&&(this.off(this.pageRefresh,this.pagerTemplate),this.hasParent||this.destroyTemplate(["template"])),e.prototype.destroy.call(this),this.containerModule.destroy(),this.pagerMessageModule.destroy(),this.isReactTemplate()||(this.element.innerHTML=""))},t.prototype.destroyTemplate=function(e,t){this.clearTemplate(e,t)},t.prototype.getModuleName=function(){return"pager"},t.prototype.onPropertyChanged=function(e,t){if(!this.isDestroyed){e.pageCount!==t.pageCount&&(this.containerModule.refreshNumericLinks(),this.containerModule.refresh());for(var i=0,r=Object.keys(e);i<r.length;i++){switch(r[i]){case"currentPage":this.checkGoToPage(e.currentPage,t.currentPage)&&this.currentPageChanged(e,t);break;case"pageSize":case"totalRecordsCount":case"customText":this.checkpagesizes()&&this.pagerdropdownModule&&(t.pageSize!==e.pageSize&&(this.currentPage=1),this.pagerdropdownModule.setDropDownValue("value",this.pageSize)),e.pageSize!==t.pageSize?(this.pageSize=e.pageSize,this.currentPageChanged(e,t)):this.refresh();break;case"pageSizes":this.checkpagesizes()&&this.pagerdropdownModule&&(this.pagerdropdownModule.destroy(),this.pagerdropdownModule.render()),this.refresh();break;case"template":this.templateFn=this.compile(this.template),this.refresh();break;case"locale":this.initLocalization(),this.refresh();break;case"enableExternalMessage":this.enableExternalMessage&&this.externalMessageModule&&this.externalMessageModule.render();break;case"externalMessage":this.externalMessageModule&&this.externalMessageModule.refresh();break;case"enableRtl":this.updateRTL();break;case"enablePagerMessage":this.enablePagerMessage?this.pagerMessageModule.showMessage():this.pagerMessageModule.hideMessage()}}}},t.prototype.getLocalizedLabel=function(e){return this.localeObj.getConstant(e)},t.prototype.goToPage=function(e){this.checkGoToPage(e)&&(this.currentPage=e,this.dataBind())},t.prototype.setPageSize=function(e){this.pageSize=e,this.dataBind()},t.prototype.checkpagesizes=function(){return!(!0!==this.pageSizes&&!this.pageSizes.length)},t.prototype.checkGoToPage=function(e,t){return e!==this.currentPage&&(this.previousPageNo=this.currentPage),(0,r.hX)(t)||(this.previousPageNo=t),this.previousPageNo!==e&&e>=1&&e<=this.totalPages},t.prototype.currentPageChanged=function(e,t){if(this.enableQueryString&&this.updateQueryString(this.currentPage),e.currentPage!==t.currentPage||e.pageSize!==t.pageSize){var i={currentPage:this.currentPage,newProp:e,oldProp:t,cancel:!1};this.trigger("click",i),i.cancel||this.refresh()}},t.prototype.pagerTemplate=function(){if(!this.isReactTemplate()||!this.hasParent){var e;this.element.classList.add("e-pagertemplate"),this.compile(this.template);var t={currentPage:this.currentPage,pageSize:this.pageSize,pageCount:this.pageCount,totalRecordsCount:this.totalRecordsCount,totalPages:this.totalPages},i=this.element.parentElement.id+"_template";this.isReactTemplate()&&!this.isVue?(this.getPagerTemplate()(t,this,"template",i,null,null,this.element),this.renderReactTemplates()):(e=this.isVue?this.getPagerTemplate()(t,this,"template"):this.getPagerTemplate()(t),(0,s.Wp)(this.element,e))}},t.prototype.updateTotalPages=function(){this.totalPages=this.isAllPage?1:this.totalRecordsCount%this.pageSize===0?this.totalRecordsCount/this.pageSize:parseInt((this.totalRecordsCount/this.pageSize).toString(),10)+1},t.prototype.getPagerTemplate=function(){return this.templateFn},t.prototype.compile=function(e){if(e)try{document.querySelectorAll(e).length&&(this.templateFn=(0,r.wE)(document.querySelector(e).innerHTML.trim()))}catch(t){this.templateFn=(0,r.wE)(e)}},t.prototype.refresh=function(){this.template?this.isReactTemplate()?(this.updateTotalPages(),this.notify(this.pageRefresh,{})):(this.element.innerHTML="",this.updateTotalPages(),this.pagerTemplate()):(this.updateRTL(),this.containerModule.refresh(),this.enablePagerMessage&&this.pagerMessageModule.refresh(),this.pagerdropdownModule&&this.pagerdropdownModule.refresh(),this.enableExternalMessage&&this.externalMessageModule&&this.externalMessageModule.refresh())},t.prototype.updateRTL=function(){this.enableRtl?this.element.classList.add("e-rtl"):this.element.classList.remove("e-rtl")},t.prototype.initLocalization=function(){this.localeObj=new r.Wo(this.getModuleName(),this.defaultConstants,this.locale)},t.prototype.updateQueryString=function(e){var t=this.getUpdatedURL(window.location.href,"page",e.toString());window.history.pushState({path:t},"",t)},t.prototype.getUpdatedURL=function(e,t,i){var r=new RegExp("([?|&])"+t+"=.*?(&|#|$)","i");if(e.match(r))return e.replace(r,"$1"+t+"="+i+"$2");var n="";return-1!==e.indexOf("#")&&(n=e.replace(/.*#/,"#"),e=e.replace(/#.*/,"")),e+(-1!==e.indexOf("?")?"&":"?")+t+"="+i+n},t.prototype.renderFirstPrevDivForDevice=function(){this.element.appendChild((0,r.n)("div",{className:"e-mfirst e-icons e-icon-first",attrs:{title:this.getLocalizedLabel("firstPageTooltip"),tabindex:"-1"}})),this.element.appendChild((0,r.n)("div",{className:"e-mprev e-icons e-icon-prev",attrs:{title:this.getLocalizedLabel("previousPageTooltip"),tabindex:"-1"}}))},t.prototype.renderNextLastDivForDevice=function(){this.element.appendChild((0,r.n)("div",{className:"e-mnext e-icons e-icon-next",attrs:{title:this.getLocalizedLabel("nextPageTooltip"),tabindex:"-1"}})),this.element.appendChild((0,r.n)("div",{className:"e-mlast e-icons e-icon-last",attrs:{title:this.getLocalizedLabel("lastPageTooltip"),tabindex:"-1"}}))},t.prototype.addAriaLabel=function(){var e=[".e-mfirst",".e-mprev",".e-mnext",".e-mlast"];if(!r.Pw.isDevice)for(var t=0;t<e.length;t++){var i=this.element.querySelector(e[t]);i.setAttribute("aria-label",i.getAttribute("title"))}},t.prototype.isReactTemplate=function(){return(this.isReact||this.isVue)&&this.template&&"string"!==typeof this.template},a([(0,r.mA)(!1)],t.prototype,"enableQueryString",void 0),a([(0,r.mA)(!1)],t.prototype,"enableExternalMessage",void 0),a([(0,r.mA)(!0)],t.prototype,"enablePagerMessage",void 0),a([(0,r.mA)(12)],t.prototype,"pageSize",void 0),a([(0,r.mA)(10)],t.prototype,"pageCount",void 0),a([(0,r.mA)(1)],t.prototype,"currentPage",void 0),a([(0,r.mA)()],t.prototype,"totalRecordsCount",void 0),a([(0,r.mA)()],t.prototype,"externalMessage",void 0),a([(0,r.mA)(!1)],t.prototype,"pageSizes",void 0),a([(0,r.mA)()],t.prototype,"template",void 0),a([(0,r.mA)("")],t.prototype,"customText",void 0),a([(0,r.Jh)()],t.prototype,"click",void 0),a([(0,r.Jh)()],t.prototype,"dropDownChanged",void 0),a([(0,r.Jh)()],t.prototype,"created",void 0),t=a([r.kc],t)}(r.uA),c=i(3890),p=function(){function e(e){this.pagerModule=e}return e.prototype.getModuleName=function(){return"pagerdropdown"},e.prototype.render=function(){var e=this.pagerModule;this.pagerDropDownDiv=(0,r.n)("div",{className:"e-pagesizes"});var t=(0,r.n)("div",{className:"e-pagerdropdown"}),i=(0,r.n)("div",{className:"e-pagerconstant"}),n=(0,r.n)("input",{attrs:{type:"text",tabindex:"1"}});this.pagerCons=(0,r.n)("span",{className:"e-constant",innerHTML:this.pagerModule.getLocalizedLabel("pagerDropDown")}),t.appendChild(n),i.appendChild(this.pagerCons),this.pagerDropDownDiv.appendChild(t),this.pagerDropDownDiv.appendChild(i),this.pagerModule.element.appendChild(this.pagerDropDownDiv);var o=this.pagerModule.pageSizes,s=o.length?this.convertValue(o):[this.pagerModule.getLocalizedLabel("All"),"5","10","12","20"],l=this.pagerModule.pageSize;this.dropDownListObject=new c.O({dataSource:s,value:l.toString(),change:this.onChange.bind(this),cssClass:"e-alldrop"}),this.dropDownListObject.appendTo(n),o.length&&(this.dropDownListObject.element.value=this.pagerModule.pageSize.toString()),e.pageSize=l,e.dataBind(),e.trigger("dropDownChanged",{pageSize:l}),this.addEventListener()},e.prototype.onChange=function(e){this.dropDownListObject.value===this.pagerModule.getLocalizedLabel("All")?(this.pagerModule.pageSize=this.pagerModule.totalRecordsCount,this.pagerModule.isAllPage=!0,this.refresh(),e.value=this.pagerModule.pageSize,document.getElementsByClassName("e-popup-open e-alldrop").length&&(document.getElementsByClassName("e-popup-open e-alldrop")[0].style.display="none")):(this.pagerModule.pageSize=parseInt(this.dropDownListObject.value,10),this.pagerModule.isAllPage=!1,this.pagerCons.innerHTML!==this.pagerModule.getLocalizedLabel("pagerDropDown")&&this.refresh()),this.pagerModule.dataBind(),this.pagerModule.trigger("dropDownChanged",{pageSize:this.pagerModule.isAllPage?this.pagerModule.totalRecordsCount:parseInt(this.dropDownListObject.value,10)})},e.prototype.refresh=function(){this.pagerCons&&(this.pagerModule.pageSize===this.pagerModule.totalRecordsCount?this.pagerCons.innerHTML=this.pagerModule.getLocalizedLabel("pagerAllDropDown"):this.pagerCons.innerHTML=this.pagerModule.getLocalizedLabel("pagerDropDown"))},e.prototype.beforeValueChange=function(e){if("number"===typeof e.newProp.value){var t=e.newProp.value.toString();e.newProp.value=t}},e.prototype.convertValue=function(e){for(var t=e,i=0;i<t.length;i++)t[i]=parseInt(t[i],10)?t[i].toString():""!==this.pagerModule.getLocalizedLabel(t[i])?this.pagerModule.getLocalizedLabel(t[i]):t[i];return t},e.prototype.setDropDownValue=function(e,t){this.dropDownListObject&&(this.dropDownListObject[e]=this.pagerModule.isAllPage?this.pagerModule.getLocalizedLabel("All"):t)},e.prototype.addEventListener=function(){this.dropDownListObject.on("beforeValueChange",this.beforeValueChange,this)},e.prototype.removeEventListener=function(){this.dropDownListObject.off("beforeValueChange",this.beforeValueChange)},e.prototype.destroy=function(e){this.dropDownListObject&&!this.dropDownListObject.isDestroyed&&(this.removeEventListener(),this.dropDownListObject.destroy(),(0,r.TF)(this.pagerDropDownDiv))},e}(),d=function(){function e(e){this.pagerModule=e}return e.prototype.getModuleName=function(){return"externalMessage"},e.prototype.render=function(){this.element=(0,r.n)("div",{className:"e-pagerexternalmsg",attrs:{"aria-label":"Pager external message"}}),this.pagerModule.element.appendChild(this.element),this.refresh()},e.prototype.refresh=function(){this.pagerModule.externalMessage&&this.pagerModule.externalMessage.toString().length?(this.showMessage(),this.element.innerHTML=this.pagerModule.externalMessage):this.hideMessage()},e.prototype.hideMessage=function(){(0,r.hX)(this.element)||(this.element.style.display="none")},e.prototype.showMessage=function(){this.element.style.display=""},e.prototype.destroy=function(){(0,r.TF)(this.element)},e}(),u=i(669),g=i(6425),f=function(){function e(e,t){this.isInitialRender=!0,this.isCancel=!1,h.Inject(d,p),this.parent=e,this.pageSettings=t,this.addEventListener()}return e.prototype.getModuleName=function(){return"pager"},e.prototype.render=function(){var e=this.parent;this.pagerDestroy(),(0,r.hX)(this.parent.pagerTemplate)||(this.pageSettings.template=this.parent.pagerTemplate,this.parent.pageTemplateChange=!0),this.element=this.parent.createElement("div",{className:"e-gridpager"});var t=(0,s.X$)({},(0,r.X$)({},(0,s.yo)(this.pageSettings)),{click:this.clickHandler.bind(this),dropDownChanged:this.onSelect.bind(this),enableRtl:e.enableRtl,locale:e.locale,created:this.addAriaAttr.bind(this)},["parentObj","propName"]);this.pagerObj=new h(t),this.pagerObj.hasParent=!0,this.pagerObj.on(u.Pkc,this.renderReactPagerTemplate,this),this.pagerObj.allowServerDataBinding=!1},e.prototype.onSelect=function(e){this.pageSettings.pageSize=e.pageSize,this.isInitialLoad||(this.pageSettings.currentPage=1)},e.prototype.addAriaAttr=function(){if(!this.pageSettings.template){for(var e=this.parent.createElement("div",{className:"e-numericcontainer"}),t=this.element.querySelector(".e-pagercontainer"),i=document.createDocumentFragment(),r=this.element.querySelector(".e-numericcontainer"),n=r.querySelectorAll("a"),o=0;o<n.length;o++){this.parent.getContentTable()?n[o].setAttribute("aria-owns",this.parent.getContentTable().id):n[o].setAttribute("aria-owns",this.parent.element.getAttribute("id")+"_content_table");var s=this.parent.createElement("div");s.appendChild(n[o]),i.appendChild(s)}e.appendChild(i),t.replaceChild(e,r);for(var l=[".e-mfirst",".e-mprev",".e-first",".e-prev",".e-next",".e-last",".e-mnext",".e-mlast"],a=0;a<l.length;a++){var h=this.element.querySelector(l[a]);this.parent.getContentTable()&&h.setAttribute("aria-owns",this.parent.getContentTable().id)}}},e.prototype.dataReady=function(e){this.updateModel(e)},e.prototype.refresh=function(){this.pagerObj.refresh()},e.prototype.goToPage=function(e){this.pagerObj.goToPage(e)},e.prototype.setPageSize=function(e){this.pagerObj.setPageSize(e)},e.prototype.updateModel=function(e){this.parent.pageSettings.totalRecordsCount=e.count,this.parent.dataBind()},e.prototype.onActionComplete=function(e){this.parent.trigger(u.wn6,(0,r.X$)(e,{currentPage:this.parent.pageSettings.currentPage,requestType:"paging",type:u.wn6}))},e.prototype.onPropertyChanged=function(e){if(e.module===this.getModuleName()){for(var t=e.properties,i=0,r=Object.keys(t);i<r.length;i++){var n=r[i];this.pagerObj[n]=t[n]}this.pagerObj.dataBind()}},e.prototype.clickHandler=function(e){var t=this.parent;if(this.isForceCancel||(0,s.JB)(t)&&!t.prevPageMoving&&!this.isCancel)return this.isForceCancel?this.isForceCancel=!1:((0,r.hX)(e.newProp)||(0,r.hX)(e.newProp.pageSize)?e.currentPage&&(t.notify(u.Tgi,{instance:this,handler:this.goToPage,arg1:e.currentPage}),this.pagerObj.currentPage=t.pageSettings.currentPage===this.pagerObj.currentPage?this.pagerObj.previousPageNo:t.pageSettings.currentPage):(t.notify(u.Tgi,{instance:this,handler:this.setPageSize,arg1:e.newProp.pageSize}),this.pagerObj.pageSize=e.oldProp.pageSize,t.pageSettings.pageSize=e.newProp.pageSize),this.isForceCancel=!0,this.pagerObj.dataBind()),void(e.cancel=!0);t.pageSettings.pageSize=this.pagerObj.pageSize,t.prevPageMoving=!1;var i=this.pageSettings.currentPage;this.pageSettings.currentPage=e.currentPage;var n={cancel:!1,requestType:"paging",previousPage:i,currentPage:e.currentPage,type:u.eYd};if(this.isCancel||this.parent.notify(u.AyK,n),n.cancel)return e.cancel=!0,this.pagerObj.currentPage=i,void(this.isCancel=!0);this.isCancel=!1,this.parent.requestTypeAction="paging"},e.prototype.keyPressHandler=function(e){e.action in m&&(e.preventDefault(),this.element.querySelector(m[e.action]).click())},e.prototype.updateExternalMessage=function(e){this.pagerObj.enableExternalMessage||(this.pagerObj.enableExternalMessage=!0,this.pagerObj.dataBind()),this.pagerObj.externalMessage=e,this.pagerObj.dataBind()},e.prototype.appendToElement=function(){this.isInitialLoad=!0,this.parent.element.appendChild(this.element),this.parent.setGridPager(this.element),this.pagerObj.isReact=this.parent.isReact,this.pagerObj.isVue=this.parent.isVue,this.pagerObj.appendTo(this.element),this.isInitialLoad=!1},e.prototype.enableAfterRender=function(e){e.module===this.getModuleName()&&e.enable&&(this.render(),this.appendToElement(),this.isReactTemplate()&&(this.pagerObj.updateTotalPages(),this.created()))},e.prototype.addEventListener=function(){this.handlers={load:this.render,end:this.appendToElement,ready:this.dataReady,complete:this.onActionComplete,updateLayout:this.enableAfterRender,inboundChange:this.onPropertyChanged,keyPress:this.keyPressHandler,created:this.created},this.parent.isDestroyed||((this.parent.isReact||this.parent.isVue)&&this.parent.addEventListener(g.vt,this.handlers.created.bind(this)),this.evtHandlers=[{event:u.X0B,handler:this.handlers.load},{event:u.qOR,handler:this.handlers.end},{event:u.yUO,handler:this.handlers.ready},{event:u.lkH,handler:this.handlers.complete},{event:u.yPb,handler:this.handlers.updateLayout},{event:u.$HR,handler:this.handlers.inboundChange},{event:u._ld,handler:this.handlers.keyPress},{event:u.zrj,handler:this.destroy}],(0,s.yc)(this.parent,this.evtHandlers,!0,this))},e.prototype.created=function(){this.isInitialRender&&this.isReactTemplate()&&(this.isInitialRender=!1,this.renderReactPagerTemplate())},e.prototype.isReactTemplate=function(){return(this.parent.isReact||this.parent.isVue)&&this.pagerObj.template&&"string"!==typeof this.pagerObj.template},e.prototype.renderReactPagerTemplate=function(){if(!this.isInitialRender&&this.isReactTemplate()){var e=void 0;this.parent.destroyTemplate(["pagerTemplate"]),this.element.classList.add("e-pagertemplate"),this.pagerObj.compile(this.pagerObj.template);var t=this.parent.pageSettings,i={currentPage:t.currentPage,pageSize:t.pageSize,pageCount:t.pageCount,totalRecordsCount:t.totalRecordsCount,totalPages:this.pagerObj.totalPages},r=this.parent.id+"_pagertemplate";this.parent.isReact?(this.pagerObj.templateFn(i,this.parent,"pagerTemplate",r,null,null,this.pagerObj.element),this.parent.renderTemplates()):(e=this.pagerObj.templateFn(i,this.parent,"pagerTemplate"),(0,s.Wp)(this.pagerObj.element,e))}},e.prototype.removeEventListener=function(){this.parent.isDestroyed||((this.parent.isReact||this.parent.isVue)&&this.parent.removeEventListener(g.vt,this.handlers.created),this.parent.off(u.Pkc,this.renderReactPagerTemplate),(0,s.yc)(this.parent,this.evtHandlers,!1))},e.prototype.destroy=function(){this.removeEventListener(),this.isReactTemplate()&&this.parent.destroyTemplate(["pagerTemplate"]),this.pagerObj.destroy()},e.prototype.pagerDestroy=function(){this.pagerObj&&!this.pagerObj.isDestroyed&&(this.pagerObj.destroy(),(0,r.TF)(this.element))},e}(),m={pageUp:".e-prev",pageDown:".e-next",ctrlAltPageDown:".e-last",ctrlAltPageUp:".e-first",altPageUp:".e-pp",altPageDown:".e-np"}},9100:(e,t,i)=>{i.d(t,{a:()=>h});var r=i(8452),n=i(969),o=i(5127),s=i(669),l=i(9064),a=i(6425);var h=function(){function e(e,t){this.isAsyncPrint=!1,this.defered=new l.c,this.parent=e,this.parent.isDestroyed||(this.parent.on(s.PRb,this.isContentReady(),this),this.actionBeginFunction=this.actionBegin.bind(this),this.parent.addEventListener(s.eYd,this.actionBeginFunction),this.parent.on(s.DjW,this.onEmpty.bind(this)),this.parent.on(s.NrV,this.hierarchyPrint,this),this.scrollModule=t)}return e.prototype.isContentReady=function(){var e=this;return!this.isPrintGrid()||"None"!==this.parent.hierarchyPrintMode&&this.parent.childGrid?function(){e.defered.promise.then((function(){e.contentReady()})),e.isPrintGrid()&&e.hierarchyPrint()}:this.contentReady},e.prototype.hierarchyPrint=function(){this.removeColGroup(this.parent);var e=window.printGridObj;e&&!e.element.querySelector("[aria-busy=true")&&e.printModule.defered.resolve()},e.prototype.print=function(){this.renderPrintGrid()},e.prototype.onEmpty=function(){this.isPrintGrid()&&this.contentReady()},e.prototype.actionBegin=function(){this.isPrintGrid()&&(this.isAsyncPrint=!0)},e.prototype.renderPrintGrid=function(){var e=this.parent,t=(0,r.n)("div",{id:this.parent.element.id+"_print",className:e.element.className+" e-print-grid"});t.classList.remove("e-gridhover"),document.body.appendChild(t);for(var i=new o.xA((0,n.lD)(e,e.hierarchyPrintMode)),l=0;l<i.columns.length;l++)i.columns[l]=(0,r.X$)({},i.columns[l]),e.isFrozenGrid()&&!e.getFrozenColumns()&&(i.columns[l].freeze=void 0);this.parent.isAngular&&(i.viewContainerRef=this.parent.viewContainerRef),i.load=function(){},i.query=e.getQuery().clone(),window.printGridObj=i,i.isPrinting=!0;var a=i.getInjectedModules(),h=e.getInjectedModules();a&&a.length===h.length||i.setInjectedModules(h),e.notify(s.GDE,{element:t,printgrid:i}),this.parent.log("exporting_begin",this.getModuleName()),i.registeredTemplate=this.parent.registeredTemplate,i.isVue=this.parent.isVue,i.appendTo(t),i.trigger=e.trigger},e.prototype.contentReady=function(){if(this.isPrintGrid()){var e=this.parent;if(this.isAsyncPrint)return void this.printGrid();var t={requestType:"print",element:e.element,selectedRows:e.getContentTable().querySelectorAll('tr[aria-selected="true"]'),cancel:!1,hierarchyPrintMode:e.hierarchyPrintMode};if(this.isAsyncPrint||e.trigger(s.v5t,t),t.cancel)return void(0,r.Yo)(e.element);this.isAsyncPrint||this.printGrid()}},e.prototype.printGrid=function(){var e=this.parent;if("auto"!==e.height){var t=this.scrollModule.getCssProperties(),i=e.element.querySelector("."+a.Qs),n=e.element.querySelector("."+a.iM);i.style.height="auto",i.style.overflowY="auto",n.style[t.padding]="",n.firstElementChild.style[t.border]=""}e.allowGrouping&&(e.groupSettings.columns.length?this.removeColGroup(e):e.element.querySelector(".e-groupdroparea").style.display="none");for(var o=0,l=[].slice.call(e.element.getElementsByClassName(a.Qs));o<l.length;o++){(d=l[o]).style.overflowX="hidden"}for(var h=[].slice.call(e.element.getElementsByClassName("e-spin-show")),c=0,p=[].slice.call(h);c<p.length;c++){var d=p[c];(0,r.pP)(d,["e-spin-hide"],["e-spin-show"])}this.printGridElement(e),e.isPrinting=!1,delete window.printGridObj;var u={element:e.element};e.trigger(s.$uv,u),e.destroy(),this.parent.log("exporting_complete",this.getModuleName())},e.prototype.printGridElement=function(e){(0,r.pP)(e.element,["e-print-grid-layout"],["e-print-grid"]),e.isPrinting&&(0,r.Yo)(e.element),this.printWind=window.open("","print","height="+window.outerHeight+",width="+window.outerWidth+",tabbar=no"),this.printWind.moveTo(0,0),this.printWind.resizeTo(screen.availWidth,screen.availHeight),this.printWind=(0,r.yy)(e.element,this.printWind)},e.prototype.removeColGroup=function(e){var t=e.groupSettings.columns.length,i=e.element,n="#"+e.element.id;if(t){for(var o=(0,r.Ub)(n+"captioncell.e-groupcaption",i),s=o[t-1].getAttribute("colspan"),l=0;l<o.length;l++)o[l].setAttribute("colspan",s);var a=(0,r.Ub)("colgroup"+n+"colgroup",i),h=(0,r.Ub)(".e-content colgroup",i);this.hideColGroup(a,t),this.hideColGroup(h,t)}},e.prototype.hideColGroup=function(e,t){for(var i=0;i<e.length;i++)for(var r=0;r<t;r++)e[i].children[r].style.display="none"},e.prototype.isPrintGrid=function(){return this.parent.element.id.indexOf("_print")>0&&this.parent.isPrinting},e.prototype.destroy=function(){this.parent.isDestroyed||(this.parent.off(s.PRb,this.contentReady.bind(this)),this.parent.removeEventListener(s.eYd,this.actionBeginFunction),this.parent.off(s.DjW,this.onEmpty.bind(this)),this.parent.off(s.NrV,this.hierarchyPrint))},e.prototype.getModuleName=function(){return"print"},e.printGridProp=["aggregates","allowGrouping","allowFiltering","allowMultiSorting","allowReordering","allowSorting","allowTextWrap","childGrid","columns","currentViewData","dataSource","detailTemplate","enableAltRow","enableColumnVirtualization","filterSettings","gridLines","groupSettings","height","locale","pageSettings","printMode","query","queryString","enableRtl","rowHeight","rowTemplate","sortSettings","textWrapSettings","allowPaging","hierarchyPrintMode","searchSettings","queryCellInfo","beforeDataBound"].concat([s.v5t,s.$uv,s.Hh6]),e}()},1531:(e,t,i)=>{i.d(t,{v:()=>s});var r=i(8452),n=i(669),o=i(969),s=function(){function e(e){this.parent=e,this.addEventListener()}return e.prototype.search=function(e){var t=this.parent;e=(0,r.hX)(e)?"":e,(0,o.JB)(t)?t.notify(n.Tgi,{instance:this,handler:this.search,arg1:e}):e!==t.searchSettings.key?(t.searchSettings.key=e.toString(),t.dataBind()):this.refreshSearch&&t.refresh()},e.prototype.addEventListener=function(){this.parent.isDestroyed||(this.parent.on(n.$HR,this.onPropertyChanged,this),this.parent.on(n.KLC,this.onSearchComplete,this),this.parent.on(n.zrj,this.destroy,this),this.actionCompleteFunc=this.onActionComplete.bind(this),this.parent.addEventListener(n.wn6,this.actionCompleteFunc),this.parent.on(n.gvK,this.cancelBeginEvent,this))},e.prototype.removeEventListener=function(){this.parent.isDestroyed||(this.parent.off(n.$HR,this.onPropertyChanged),this.parent.off(n.KLC,this.onSearchComplete),this.parent.off(n.zrj,this.destroy),this.parent.removeEventListener(n.wn6,this.actionCompleteFunc),this.parent.off(n.gvK,this.cancelBeginEvent))},e.prototype.destroy=function(){this.removeEventListener()},e.prototype.onPropertyChanged=function(e){e.module===this.getModuleName()&&((0,r.hX)(e.properties.key)?this.parent.notify(n.AyK,{requestType:"searching",type:n.eYd}):this.parent.notify(n.AyK,{requestType:"searching",type:n.eYd,searchString:this.parent.searchSettings.key}))},e.prototype.onSearchComplete=function(e){this.parent.trigger(n.wn6,(0,r.X$)(e,{searchString:this.parent.searchSettings.key,requestType:"searching",type:n.wn6}))},e.prototype.onActionComplete=function(e){this.refreshSearch="searching"!==e.requestType},e.prototype.cancelBeginEvent=function(e){"searching"===e.requestType&&this.parent.setProperties({searchSettings:{key:""}},!0)},e.prototype.getModuleName=function(){return"search"},e}()},225:(e,t,i)=>{i.d(t,{L:()=>c});var r=i(8452),n=i(4455),o=i(969),s=i(669),l=i(7784),a=i(6425),h=function(){return h=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++)for(var n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},h.apply(this,arguments)},c=function(){function e(e,t,i){this.selectedRowIndexes=[],this.selectedRowCellIndexes=[],this.selectedRecords=[],this.preventFocus=!1,this.selectedColumnsIndexes=[],this.checkBoxState=!1,this.isMultiShiftRequest=!1,this.isMultiCtrlRequest=!1,this.enableSelectMultiTouch=!1,this.clearRowCheck=!1,this.selectRowCheck=!1,this.selectedRowState={},this.totalRecordsCount=0,this.chkAllCollec=[],this.isCheckedOnAdd=!1,this.persistSelectedData=[],this.deSelectedData=[],this.needColumnSelection=!1,this.isCancelDeSelect=!1,this.isPreventCellSelect=!1,this.disableUI=!1,this.isPersisted=!1,this.cmdKeyPressed=!1,this.cellselected=!1,this.isMultiSelection=!1,this.isAddRowsToSelection=!1,this.initialRowSelection=!1,this.isPrevRowSelection=!1,this.isKeyAction=!1,this.isRowDragSelected=!1,this.autoFillRLselection=!0,this.bottom="0 0 2px 0",this.top="2px 0 0 0",this.right_bottom="0 2px 2px 0",this.bottom_left="0 0 2px 2px",this.top_right="2px 2px 0 0",this.top_left="2px 0 0 2px",this.top_bottom="2px 0 2px 0",this.top_right_bottom="2px 2px 2px 0",this.top_bottom_left="2px 0 2px 2px",this.top_right_left="2px 2px 0 2px",this.right_bottom_left="0 2px 2px 2px",this.all_border="2px",this.parent=e,this.selectionSettings=t,this.factory=i.getService("rendererFactory"),this.focus=i.getService("focus"),this.addEventListener(),this.wireEvents()}return e.prototype.initializeSelection=function(){this.parent.log("selection_key_missing"),this.render()},e.prototype.onActionBegin=function(e,t){this.parent.trigger(t,this.fDataUpdate(e))},e.prototype.fDataUpdate=function(e){if(!this.isMultiSelection&&(!(0,r.hX)(e.cellIndex)||!(0,r.hX)(e.rowIndex))){var t=this.getRowObj((0,r.hX)(e.rowIndex)?(0,r.hX)(e.cellIndex)?this.currentIndex:e.cellIndex.rowIndex:e.rowIndex);e.foreignKeyData=t.foreignKeyData}return e},e.prototype.onActionComplete=function(e,t){this.parent.trigger(t,this.fDataUpdate(e)),this.isMultiSelection=!1},e.prototype.getModuleName=function(){return"selection"},e.prototype.destroy=function(){var e=this.parent.element;e&&(e.querySelector("."+a.iM)||e.querySelector("."+a.iV))&&(this.hidePopUp(),this.clearSelection(),this.removeEventListener(),this.unWireEvents(),r.Jm.remove(this.parent.getContent(),"mousedown",this.mouseDownHandler),r.Jm.remove(this.parent.getHeaderContent(),"mousedown",this.mouseDownHandler))},e.prototype.isEditing=function(){return("Normal"===this.parent.editSettings.mode||"Batch"===this.parent.editSettings.mode&&this.parent.editModule&&this.parent.editModule.formObj&&!this.parent.editModule.formObj.validate())&&this.parent.isEdit&&!this.parent.isPersistSelection},e.prototype.getSelectedMovableRow=function(e){var t=this.parent;return t.isFrozenGrid()&&this.parent.getContent().querySelector("."+a.S1)?t.getMovableRowByIndex(e):null},e.prototype.getSelectedFrozenRightRow=function(e){var t=this.parent;return t.isFrozenGrid()&&t.getFrozenMode()===a.U0&&t.getFrozenRightContent()?t.getFrozenRightRowByIndex(e):null},e.prototype.getCurrentBatchRecordChanges=function(){var e=this.parent;if("Batch"===e.editSettings.mode&&e.editModule){var t=(0,o.pA)(this.parent.getCurrentViewRecords());t="Bottom"===e.editSettings.newRowPosition?t.concat(this.parent.editModule.getBatchChanges()[a.V0]):this.parent.editModule.getBatchChanges()[a.V0].concat(t);for(var i=this.parent.editModule.getBatchChanges()[a.S4],r=this.parent.getPrimaryKeyFieldNames()[0],n=0;n<i.length;n++)for(var s=0;s<t.length;s++)if(i[n][r]===t[s][r]){t.splice(s,1);break}return t}return e.getCurrentViewRecords()},e.prototype.selectRow=function(e,t){if(this.selectedRowIndexes.length&&this.selectionSettings.enableSimpleMultiRowSelection)this.addRowsToSelection([e]);else{var i,r=this.parent,n=r.getRowByIndex(e),o=this.getSelectedMovableRow(e),l=this.getSelectedFrozenRightRow(e),a=!1;if(r.enableVirtualization&&e>-1){var h={selectedIndex:e,isAvailable:!0};this.parent.notify(s.ghX,h);var c=r.isFrozenGrid()?r.contentModule.getRowObjectByIndex(e):null;if(!n||!r.getRowObjectFromUID(n.getAttribute("data-uid"))&&!c){if(h.isAvailable&&!r.selectionSettings.persistSelection)this.parent.getSelectedRecords().length>0&&this.clearRowSelection();return}i=c||r.getRowObjectFromUID(n.getAttribute("data-uid")).data}else i=this.getRowObj(e).data;if(this.isRowType()&&n&&!this.isEditing()){var p,d=n.hasAttribute("aria-selected");this.activeTarget(),t=t?!!this.selectedRowIndexes.length&&(1===this.selectedRowIndexes.length&&((!this.isKeyAction||!this.parent.isCheckBoxSelection)&&e===this.selectedRowIndexes[0])):t,this.isKeyAction=!1;var u="cancel";t?this.rowSelectingCallBack(p,t,e,i,a,d,u)(p):(p={data:i,rowIndex:e,isCtrlPressed:this.isMultiCtrlRequest,isShiftPressed:this.isMultiShiftRequest,row:n,previousRow:r.getRowByIndex(this.prevRowIndex),previousRowIndex:this.prevRowIndex,target:this.actualTarget,cancel:!1,isInteracted:this.isInteracted,isHeaderCheckboxClicked:this.isHeaderCheckboxClicked},p=this.addMovableArgs(p,o,l),this.parent.trigger(s.FeU,this.fDataUpdate(p),this.rowSelectingCallBack(p,t,e,i,a,d,u)))}}},e.prototype.rowSelectingCallBack=function(e,t,i,n,o,s,l){var a=this;return function(e){(0,r.hX)(e)||!0!==e[l]?(a.index=i,a.toggle=t,a.data=n,a.removed=o,s&&a.selectionSettings.persistSelection&&"ResetOnRowClick"!==a.selectionSettings.checkboxMode?(a.clearSelectedRow(i),a.selectRowCallBack()):!s&&a.selectionSettings.persistSelection&&"ResetOnRowClick"!==a.selectionSettings.checkboxMode&&a.selectRowCallBack(),"ResetOnRowClick"===a.selectionSettings.checkboxMode&&a.clearSelection(),(!a.selectionSettings.persistSelection||"ResetOnRowClick"===a.selectionSettings.checkboxMode||!a.parent.isCheckBoxSelection&&a.selectionSettings.persistSelection)&&(a.selectRowCheck=!0,a.clearRow())):a.disableInteracted()}},e.prototype.selectRowCallBack=function(){var e,t=this.parent,i=this.index,r=this.toggle,n=this.data,o=this.removed,l=t.getRowByIndex(i),a=this.getSelectedMovableRow(i),h=this.getSelectedFrozenRightRow(i);r||o||(this.selectedRowIndexes.indexOf(i)<=-1&&(this.updateRowSelection(l,i),this.selectMovableRow(a,h,i)),this.selectRowIndex(i)),r||(e={data:n,rowIndex:i,row:l,previousRow:t.getRowByIndex(this.prevRowIndex),previousRowIndex:this.prevRowIndex,target:this.actualTarget,isInteracted:this.isInteracted,isHeaderCheckBoxClicked:this.isHeaderCheckboxClicked},e=this.addMovableArgs(e,a,h),this.onActionComplete(e,s.CZL)),this.isInteracted=!1,this.updateRowProps(i)},e.prototype.selectMovableRow=function(e,t,i){this.parent.isFrozenGrid()&&(this.updateRowSelection(e,i),this.parent.getFrozenMode()===a.U0&&t&&this.updateRowSelection(t,i))},e.prototype.addMovableArgs=function(e,t,i){if(this.parent.isFrozenGrid()){var r={mRow:t,previousMovRow:this.parent.getMovableRows()[this.prevRowIndex]};this.parent.getFrozenMode()===a.U0&&i&&(r.frozenRightRow=i,r.previousFrozenRightRow=this.parent.getFrozenRightDataRows()[this.prevRowIndex]),e=h({},e,r)}return e},e.prototype.selectRowsByRange=function(e,t){this.selectRows(this.getCollectionFromIndexes(e,t)),this.selectRowIndex(t)},e.prototype.selectedDataUpdate=function(e,t,i,r){for(var n=0,o=r.length;n<o;n++){var s=this.parent.getDataRows()[r[n]],l=this.getRowObj(s);l&&(e.push(l.data),i.push(s),t.push(l.foreignKeyData))}},e.prototype.selectRows=function(e){var t=this,i=this.parent,n=this.isSingleSel()?e[e.length-1]:e[0];this.isMultiSelection=!0;var o=[],l=[],h=this.getSelectedMovableRow(n),c=this.getSelectedFrozenRightRow(n),p=[];if(this.isRowType()&&!this.isEditing()){this.selectedDataUpdate(p,l,o,e),this.activeTarget();var d={cancel:!1,rowIndexes:e,row:o,rowIndex:n,target:this.actualTarget,prevRow:i.getRows()[this.prevRowIndex],previousRowIndex:this.prevRowIndex,isInteracted:this.isInteracted,isCtrlPressed:this.isMultiCtrlRequest,isShiftPressed:this.isMultiShiftRequest,data:p,isHeaderCheckboxClicked:this.isHeaderCheckboxClicked,foreignKeyData:l};d=this.addMovableArgs(d,h,c),this.parent.trigger(s.FeU,this.fDataUpdate(d),(function(p){if((0,r.hX)(p)||!0!==p.cancel){t.clearRow(),t.selectRowIndex(e.slice(-1)[0]);var d=function(e){if(t.updateRowSelection(i.getRowByIndex(e),e),i.isFrozenGrid()){var r=t.parent.getFrozenMode()===a.U0?i.getFrozenRightRowByIndex(e):void 0;t.selectMovableRow(i.getMovableRowByIndex(e),r,e)}t.updateRowProps(n)};if(t.isSingleSel())d(n);else for(var u=0,g=e;u<g.length;u++){d(g[u])}p={rowIndexes:e,row:o,rowIndex:n,target:t.actualTarget,prevRow:i.getRows()[t.prevRowIndex],previousRowIndex:t.prevRowIndex,data:t.getSelectedRecords(),isInteracted:t.isInteracted,isHeaderCheckboxClicked:t.isHeaderCheckboxClicked,foreignKeyData:l},p=t.addMovableArgs(p,h,c),t.isRowSelected&&t.onActionComplete(p,s.CZL),t.isInteracted=!1}else t.disableInteracted()}))}},e.prototype.addRowsToSelection=function(e){var t=this.parent,i=this.target;this.isMultiSelection=!0;var n=[],o=[],l=[],a=t.getSelectedRowIndexes().concat(e),h=this.isSingleSel()?t.getRowByIndex(e[e.length-1]):t.getRowByIndex(e[0]),c=this.isSingleSel()?this.getSelectedMovableRow(e[e.length-1]):this.getSelectedMovableRow(e[0]),p=this.isSingleSel()?this.getSelectedFrozenRightRow(e[e.length-1]):this.getSelectedFrozenRightRow(e[0]);if(this.isRowType()&&!this.isEditing()||this.selectionSettings.checkboxOnly){var d,u=this.parent.getColumns().filter((function(e){return"checkbox"===e.type}));this.isMultiCtrlRequest&&!u.length&&this.selectedDataUpdate(l,o,n,a);for(var g=0,f=e;g<f.length;g++){var m=f[g],y=this.getRowObj(m),v=this.selectedRowIndexes.indexOf(m)>-1;if(this.selectRowIndex(m),v&&(u.length||this.selectionSettings.enableToggle||this.isMultiCtrlRequest)){if(this.isAddRowsToSelection=!0,this.rowDeselect(s.Oi0,[m],[y.data],[h],[y.foreignKeyData],i),this.isCancelDeSelect)return;this.selectedRowIndexes.splice(this.selectedRowIndexes.indexOf(m),1),this.selectedRecords.splice(this.selectedRecords.indexOf(h),1),this.selectRowIndex(this.selectedRowIndexes.length?this.selectedRowIndexes[this.selectedRowIndexes.length-1]:-1),h.removeAttribute("aria-selected"),this.addRemoveClassesForRow(h,!1,null,"e-selectionbackground","e-active"),c&&(this.selectedRecords.splice(this.selectedRecords.indexOf(c),1),c.removeAttribute("aria-selected"),this.addRemoveClassesForRow(c,!1,null,"e-selectionbackground","e-active")),p&&(this.selectedRecords.splice(this.selectedRecords.indexOf(p),1),p.removeAttribute("aria-selected"),this.addRemoveClassesForRow(p,!1,null,"e-selectionbackground","e-active")),this.rowDeselect(s.BK8,[m],[y.data],[h],[y.foreignKeyData],i,[c],void 0,[p]),this.isInteracted=!1,this.isMultiSelection=!1,this.isAddRowsToSelection=!1}else{if(this.activeTarget(),d={cancel:!1,data:l.length?l:y.data,rowIndex:m,row:n.length?n:h,target:this.actualTarget,prevRow:t.getRows()[this.prevRowIndex],previousRowIndex:this.prevRowIndex,isCtrlPressed:this.isMultiCtrlRequest,isShiftPressed:this.isMultiShiftRequest,foreignKeyData:o.length?o:y.foreignKeyData,isInteracted:this.isInteracted,isHeaderCheckboxClicked:this.isHeaderCheckboxClicked,rowIndexes:a},d=this.addMovableArgs(d,c,p),this.parent.trigger(s.FeU,this.fDataUpdate(d)),!(0,r.hX)(d)&&!0===d.cancel)return void this.disableInteracted();this.isSingleSel()&&this.clearRow(),this.updateRowSelection(h,m),this.selectMovableRow(c,p,m)}if(v||(d={data:l.length?l:y.data,rowIndex:m,row:n.length?n:h,target:this.actualTarget,prevRow:t.getRows()[this.prevRowIndex],previousRowIndex:this.prevRowIndex,foreignKeyData:o.length?o:y.foreignKeyData,isInteracted:this.isInteracted,isHeaderCheckboxClicked:this.isHeaderCheckboxClicked,rowIndexes:a},d=this.addMovableArgs(d,c,p),this.onActionComplete(d,s.CZL)),this.isInteracted=!1,this.updateRowProps(m),this.isSingleSel())break}}},e.prototype.getCollectionFromIndexes=function(e,t){for(var i=[],r=e<=t?{i:e,max:t}:{i:t,max:e},n=r.i,o=r.max;n<=o;n++)i.push(n);return e>t&&i.reverse(),i},e.prototype.clearRow=function(){this.clearRowCheck=!0,this.clearRowSelection()},e.prototype.clearRowCallBack=function(){this.isCancelDeSelect&&"Check"!==this.parent.checkAllRows||(this.selectedRowIndexes=[],this.selectedRecords=[],this.selectRowIndex(-1),this.isSingleSel()&&this.parent.isPersistSelection&&(this.selectedRowState={}))},e.prototype.clearSelectedRow=function(e){if(this.toggle){var t=this.parent.getRowByIndex(e);this.disableUI||(t.removeAttribute("aria-selected"),this.addRemoveClassesForRow(t,!1,!0,"e-selectionbackground","e-active")),this.removed=!0,this.updatePersistCollection(t,!1),this.updateCheckBoxes(t),this.selectedRowIndexes.splice(this.selectedRowIndexes.indexOf(e),1),this.selectedRecords.splice(this.selectedRecords.indexOf(this.parent.getRowByIndex(e)),1)}},e.prototype.updateRowProps=function(e){this.prevRowIndex=e,this.isRowSelected=this.selectedRowIndexes.length&&!0},e.prototype.updatePersistCollection=function(e,t){var i=this;if((this.parent.isPersistSelection||this.parent.selectionSettings.persistSelection&&this.parent.getPrimaryKeyFieldNames().length>0)&&!(0,r.hX)(e)){this.parent.isPersistSelection||this.ensureCheckboxFieldSelection();var n=this.getRowObj(e),o=n.data?n.data[this.primaryKey]:null;if(null===o)return;n.isSelected=t,t?(this.selectedRowState[o]=t,this.persistSelectedData.some((function(e){return e[i.primaryKey]===o}))||this.persistSelectedData.push(n.data)):this.updatePersistDelete(o)}},e.prototype.updatePersistDelete=function(e){var t,i=this;delete this.selectedRowState[e],this.persistSelectedData.some((function(r,n){return t=n,r[i.primaryKey]===e}))&&this.persistSelectedData.splice(t,1)},e.prototype.updateCheckBoxes=function(e,t,i){if(!(0,r.hX)(e)){var n=e.querySelector(".e-checkselect");(0,r.hX)(n)||((0,o.Cd)(n.nextElementSibling,t),(0,o.Go)(n,t),((0,r.hX)(this.checkedTarget)||!(0,r.hX)(this.checkedTarget)&&!this.checkedTarget.classList.contains("e-checkselectall"))&&this.setCheckAllState(i))}},e.prototype.updateRowSelection=function(e,t){if(e){this.selectedRowIndexes.push(t);var i=this.selectedRowIndexes.length;if(this.parent.isFrozenGrid()&&i>1&&this.selectedRowIndexes[i-2]===this.selectedRowIndexes[i-1]&&this.selectedRowIndexes.pop(),this.selectedRecords.push(e),e.setAttribute("aria-selected","true"),this.updatePersistCollection(e,!0),this.updateCheckBoxes(e,!0),this.addRemoveClassesForRow(e,!0,null,"e-selectionbackground","e-active"),!this.preventFocus){var r=this.focus.getPrevIndexes().cellIndex?e.cells[this.focus.getPrevIndexes().cellIndex]:e.querySelector(".e-selectionbackground:not(.e-hide):not(.e-detailrowcollapse):not(.e-detailrowexpand)");if(this.parent.contextMenuModule&&2===this.mouseButton&&(r=this.parent.contextMenuModule.cell),!r)return;this.focus.onClick({target:r},!0)}}},e.prototype.clearSelection=function(){if(this.checkSelectAllClicked=!0,this.selectionSettings.persistSelection&&this.persistSelectedData.length&&(this.deSelectedData=(0,o.pA)(this.persistSelectedData)),!this.parent.isPersistSelection||this.parent.isPersistSelection&&!this.parent.isEdit||!(0,r.hX)(this.checkedTarget)&&this.checkedTarget.classList.contains("e-checkselectall")){var e=this.parent.element.querySelector(".e-gridpopup").querySelector("span");e.classList.contains("e-rowselect")&&e.classList.remove("e-spanclicked"),this.parent.isPersistSelection&&(this.persistSelectedData=[],this.selectedRowState={}),this.clearRowSelection(),this.clearCellSelection(),this.clearColumnSelection(),this.prevRowIndex=void 0,this.prevCIdxs=void 0,this.prevECIdxs=void 0,this.enableSelectMultiTouch=!1,this.isInteracted=!1,this.checkSelectAllClicked=!1}},e.prototype.clearRowSelection=function(){var e=this;if(this.isRowSelected){for(var t=this.parent,i=this.parent.getDataRows(),r=[],n=[],o=[],l=[],h=[],c=[],p=this.target,d=0,u=this.selectedRowIndexes.length;d<u;d++){var g="Batch"===this.parent.editSettings.mode?this.parent.getRows()[this.selectedRowIndexes[d]]:this.parent.getDataRows()[this.selectedRowIndexes[d]],f=this.getRowObj(g);if(f&&(r.push(f.data),n.push(g),h.push(this.selectedRowIndexes[d]),c.push(f.foreignKeyData)),t.isFrozenGrid()){var m=t.getMovableRows();if(m&&m.length&&o.push(m[this.selectedRowIndexes[d]]),t.getFrozenMode()===a.U0){var y=t.getFrozenRightRows();y&&y.length&&l.push(y[this.selectedRowIndexes[d]])}}}this.selectionSettings.persistSelection&&"ResetOnRowClick"!==this.selectionSettings.checkboxMode&&(this.isRowClicked=!!this.checkSelectAllClicked),this.rowDeselect(s.Oi0,h,r,n,c,p,o,(function(){if(e.isCancelDeSelect&&(e.isRowClicked||e.checkSelectAllClicked||e.isInteracted&&!e.parent.isPersistSelection)){if(e.parent.isPersistSelection)if("Intermediate"===e.getCheckAllStatus(e.parent.element.querySelector(".e-checkselectall")))for(var t=0;t<e.selectedRecords.length;t++)e.updatePersistCollection(e.selectedRecords[t],!0);else e.parent.checkAllRows="Check",e.updatePersistSelectedData(!0);e.clearRowCheck&&(e.clearRowCallBack(),e.clearRowCheck=!1,e.selectRowCheck&&(e.selectRowCallBack(),e.selectRowCheck=!1))}else{for(var a=[].slice.call(i.filter((function(e){return e.hasAttribute("aria-selected")}))),d=0;d<a.length;d++)e.disableUI||(a[d].removeAttribute("aria-selected"),e.addRemoveClassesForRow(a[d],!1,!0,"e-selectionbackground","e-active")),e.isPrevRowSelection||e.updatePersistCollection(a[d],!1),e.updateCheckBoxes(a[d]);t=0;for(var u=e.selectedRowIndexes.length;t<u;t++){var g=e.getSelectedMovableRow(e.selectedRowIndexes[t]);g&&(e.disableUI||(g.removeAttribute("aria-selected"),e.addRemoveClassesForRow(g,!1,!0,"e-selectionbackground","e-active")),e.updateCheckBoxes(g),e.isPrevRowSelection||e.updatePersistCollection(g,!1));var f=e.getSelectedFrozenRightRow(e.selectedRowIndexes[t]);f&&(e.disableUI||(f.removeAttribute("aria-selected"),e.addRemoveClassesForRow(f,!1,!0,"e-selectionbackground","e-active")),e.updateCheckBoxes(f),e.isPrevRowSelection||e.updatePersistCollection(f,!1))}e.selectedRowIndexes=[],e.selectedRecords=[],e.isRowSelected=!1,e.selectRowIndex(-1),e.isPrevRowSelection=!1,e.rowDeselect(s.BK8,h,r,n,c,p,o,void 0,l),e.clearRowCheck&&(e.clearRowCallBack(),e.clearRowCheck=!1,e.selectRowCheck&&(e.selectRowCallBack(),e.selectRowCheck=!1))}}),l)}else this.clearRowCheck&&(this.clearRowCallBack(),this.clearRowCheck=!1,this.selectRowCheck&&(this.selectRowCallBack(),this.selectRowCheck=!1))},e.prototype.rowDeselect=function(e,t,i,n,o,s,l,a,c){var p=this;if(this.selectionSettings.persistSelection&&(this.isRowClicked||this.checkSelectAllClicked)||!this.selectionSettings.persistSelection){var d=1===t.length&&1===this.deSelectedData.length,u={rowIndex:t[0],data:this.selectionSettings.persistSelection&&"Uncheck"===this.parent.checkAllRows&&!d&&"ResetOnRowClick"!==this.selectionSettings.checkboxMode?this.deSelectedData:i,foreignKeyData:o,cancel:!1,isInteracted:this.isInteracted,isHeaderCheckboxClicked:this.isHeaderCheckboxClicked};"rowDeselected"===e&&delete u.cancel;var g="row",f="rowIndexes",m="data",y="foreignKeyData";u[g]=n,u.target=this.actualTarget,this.actualTarget&&!(0,r.hX)((0,r.kp)(this.actualTarget,"thead"))||t.length>1?(u.rowIndex=t[0],u[f]=t):1===t.length&&(u[m]=u[m][0],u[g]=u[g][0],u[y]=u[y][0],this.isAddRowsToSelection&&(u[f]=t)),this.parent.trigger(e,this.parent.isFrozenGrid()?h({},u,{mRow:l,frozenRightRow:c}):u,(function(e){p.isCancelDeSelect=e.cancel,p.isCancelDeSelect&&(p.isRowClicked||p.isInteracted||p.checkSelectAllClicked)||(p.updatePersistCollection(n[0],!1),p.updateCheckBoxes(n[0],void 0,t[0]),l&&p.updateCheckBoxes(l[0],void 0,t[0]),c&&p.updateCheckBoxes(c[0],void 0,t[0])),void 0!==a&&a()}))}else this.selectionSettings.persistSelection&&!this.isInteracted&&void 0!==a&&a()},e.prototype.getRowObj=function(e){return void 0===e&&(e=this.currentIndex),(0,r.hX)(e)?{}:("number"===typeof e&&(e=this.parent.getRowByIndex(e)),e&&this.parent.getRowObjectFromUID(e.getAttribute("data-uid"))||{})},e.prototype.getSelectedMovableCell=function(e){var t=this.parent,i=t.getColumnByIndex(e.cellIndex);return t.isFrozenGrid()&&"movable"===i.getFreezeTableName()?t.getMovableCellFromIndex(e.rowIndex,this.getColIndex(e.rowIndex,e.cellIndex)):null},e.prototype.selectCell=function(e,t){if(this.isCellType()){var i,n=this.parent,o=this.getSelectedMovableCell(e);o||(o=n.getCellFromIndex(e.rowIndex,this.getColIndex(e.rowIndex,e.cellIndex))),this.currentIndex=e.rowIndex;var l=this.getCurrentBatchRecordChanges()[this.currentIndex];if(this.isCellType()&&o&&!this.isEditing()){var a=o.classList.contains("e-cellselectionbackground");if(t=t?!(0,r.b0)(this.prevCIdxs)&&e.rowIndex===this.prevCIdxs.rowIndex&&e.cellIndex===this.prevCIdxs.cellIndex&&a:t)this.successCallBack(i,t,e,o,l)(i);else{(i={data:l,cellIndex:e,isCtrlPressed:this.isMultiCtrlRequest,isShiftPressed:this.isMultiShiftRequest,previousRowCell:this.prevECIdxs?this.getCellIndex(this.prevECIdxs.rowIndex,this.prevECIdxs.cellIndex):void 0,cancel:!1}).currentCell=o;i.previousRowCellIndex=this.prevECIdxs,this.parent.trigger(s.hJm,this.fDataUpdate(i),this.successCallBack(i,t,e,o,l)),this.cellselected=!0}}}},e.prototype.successCallBack=function(e,t,i,n,o){var l=this;return function(e){var a="currentCell";if(((0,r.hX)(e)||!0!==e.cancel)&&(t||(e[a]=e[a]?e[a]:n),l.clearCell(),t||l.updateCellSelection(n,i.rowIndex,i.cellIndex),!t)){var h={data:o,cellIndex:i,currentCell:n,selectedRowCellIndex:l.selectedRowCellIndexes,previousRowCell:l.prevECIdxs?l.getCellIndex(l.prevECIdxs.rowIndex,l.prevECIdxs.cellIndex):void 0};h.previousRowCellIndex=l.prevECIdxs,l.updateCellProps(i,i),l.onActionComplete(h,s.sF6)}}},e.prototype.getCellIndex=function(e,t){return this.parent.getFrozenColumns()&&t>=this.parent.getFrozenColumns()?this.parent.getMovableCellFromIndex(e,t):this.parent.getCellFromIndex(e,t)},e.prototype.selectCellsByRange=function(e,t){var i=this;if(this.isCellType()){var n,o,l=this.parent,a=this.getSelectedMovableCell(e),h=l.getFrozenColumns();a||(a=l.getCellFromIndex(e.rowIndex,e.cellIndex));var c,p=e,d=t=t||e;this.currentIndex=e.rowIndex;var u=this.getCurrentBatchRecordChanges()[this.currentIndex];if(!this.isSingleSel()&&this.isCellType()&&!this.isEditing()){var g={data:u,cellIndex:e,currentCell:a,isCtrlPressed:this.isMultiCtrlRequest,isShiftPressed:this.isMultiShiftRequest,previousRowCell:this.prevECIdxs?this.getCellIndex(this.prevECIdxs.rowIndex,this.prevECIdxs.cellIndex):void 0};g.previousRowCellIndex=this.prevECIdxs,this.parent.trigger(s.hJm,this.fDataUpdate(g),(function(g){if((0,r.hX)(g)||!0!==g.cancel){if(i.clearCell(),e.rowIndex>t.rowIndex){var f=e;e=t,t=f}for(var m=e.rowIndex;m<=t.rowIndex;m++){i.selectionSettings.cellSelectionMode.indexOf("Box")<0?(n=m===e.rowIndex?e.cellIndex:0,o=m===t.rowIndex?t.cellIndex:i.getLastColIndex(m)):(n=e.cellIndex,o=t.cellIndex),c=[];for(var y=n<o?n:o,v=n>o?n:o;y<=v;y++)(a=h?y<h?l.getCellFromIndex(m,y):l.getMovableCellFromIndex(m,y):l.getCellFromIndex(m,y))&&(c.push(y),i.updateCellSelection(a),i.addAttribute(a));i.selectedRowCellIndexes.push({rowIndex:m,cellIndexes:c})}var C={data:u,cellIndex:d,currentCell:l.getCellFromIndex(d.rowIndex,d.cellIndex),selectedRowCellIndex:i.selectedRowCellIndexes,previousRowCell:i.prevECIdxs?i.getCellIndex(i.prevECIdxs.rowIndex,i.prevECIdxs.cellIndex):void 0};C.previousRowCellIndex=i.prevECIdxs,i.isDragged||(i.onActionComplete(C,s.sF6),i.cellselected=!0),i.updateCellProps(p,d)}}))}}},e.prototype.selectCells=function(e){if(this.isCellType()){var t=this.parent,i=this.getSelectedMovableCell(e[0]),r=t.getFrozenColumns();i||(i=t.getCellFromIndex(e[0].rowIndex,e[0].cellIndexes[0])),this.currentIndex=e[0].rowIndex;var n=this.getCurrentBatchRecordChanges()[this.currentIndex];if(!this.isSingleSel()&&this.isCellType()&&!this.isEditing()){var o={data:n,cellIndex:e[0].cellIndexes[0],currentCell:i,isCtrlPressed:this.isMultiCtrlRequest,isShiftPressed:this.isMultiShiftRequest,previousRowCell:this.prevECIdxs?this.getCellIndex(this.prevECIdxs.rowIndex,this.prevECIdxs.cellIndex):void 0};o.previousRowCellIndex=this.prevECIdxs,this.onActionBegin(o,s.hJm);for(var l=0,a=e.length;l<a;l++)for(var h=0,c=e[l].cellIndexes.length;h<c;h++)(i=r?e[l].cellIndexes[h]<r?t.getCellFromIndex(e[l].rowIndex,e[l].cellIndexes[h]):t.getMovableCellFromIndex(e[l].rowIndex,e[l].cellIndexes[h]):t.getCellFromIndex(e[l].rowIndex,e[l].cellIndexes[h]))&&(this.updateCellSelection(i),this.addAttribute(i),this.addRowCellIndex({rowIndex:e[l].rowIndex,cellIndex:e[l].cellIndexes[h]}));this.updateCellProps({rowIndex:e[0].rowIndex,cellIndex:e[0].cellIndexes[0]},{rowIndex:e[0].rowIndex,cellIndex:e[0].cellIndexes[0]});var p={data:n,cellIndex:e[0].cellIndexes[0],currentCell:i,selectedRowCellIndex:this.selectedRowCellIndexes,previousRowCell:this.prevECIdxs?this.getCellIndex(this.prevECIdxs.rowIndex,this.prevECIdxs.cellIndex):void 0};p.previousRowCellIndex=this.prevECIdxs,this.onActionComplete(p,s.sF6)}}},e.prototype.addCellsToSelection=function(e){if(this.isCellType()){var t,i,n=this.parent;this.currentIndex=e[0].rowIndex;var l=this.getCurrentBatchRecordChanges()[this.currentIndex],h=n.getFrozenLeftCount(),c=n.getMovableColumnsCount();if(!this.isSingleSel()&&this.isCellType()&&!this.isEditing()){this.hideAutoFill();var p,d=n.getColumnByIndex(e[0].cellIndex);(0,o.F)(this.parent,(function(t,i){p=i[e[0].rowIndex]}),[d.getFreezeTableName()&&d.getFreezeTableName()!==a.qf?[]:n.getRowsObject(),"movable"===d.getFreezeTableName()?n.getMovableRowsObject():[],d.getFreezeTableName()===a.Xg?n.getFrozenRightRowsObject():[]]);for(var u=[],g=0,f=e;g<f.length;g++){for(var m=f[g],y=0,v=this.selectedRowCellIndexes.length;y<v;y++)if(this.selectedRowCellIndexes[y].rowIndex===m.rowIndex){i=y;break}(t=this.getSelectedMovableCell(m))||(t=n.getCellFromIndex(m.rowIndex,this.getColIndex(m.rowIndex,m.cellIndex)));var C="movable"===d.getFreezeTableName()?m.cellIndex-h:d.getFreezeTableName()===a.Xg?m.cellIndex-(h+c):m.cellIndex;u.push(p.cells[C].foreignKeyData);var w={cancel:!1,data:l,cellIndex:e[0],isShiftPressed:this.isMultiShiftRequest,currentCell:t,isCtrlPressed:this.isMultiCtrlRequest,previousRowCell:this.prevECIdxs?n.getCellFromIndex(this.prevECIdxs.rowIndex,this.prevECIdxs.cellIndex):void 0},b="previousRowCellIndex";w[b]=this.prevECIdxs;var S=i>-1;if(S){var R=this.selectedRowCellIndexes[i].cellIndexes;R.indexOf(m.cellIndex)>-1?(this.cellDeselect(s.efc,[{rowIndex:m.rowIndex,cellIndexes:[m.cellIndex]}],l,[t],u),R.splice(R.indexOf(m.cellIndex),1),0===R.length&&this.selectedRowCellIndexes.splice(i,1),t.classList.remove("e-cellselectionbackground"),t.removeAttribute("aria-selected"),this.cellDeselect(s.Lcf,[{rowIndex:m.rowIndex,cellIndexes:[m.cellIndex]}],l,[t],u)):(S=!1,this.onActionBegin(w,s.hJm),this.addRowCellIndex({rowIndex:m.rowIndex,cellIndex:m.cellIndex}),this.updateCellSelection(t),this.addAttribute(t))}else{if(this.onActionBegin(w,s.hJm),!(0,r.hX)(w)&&!0===w.cancel)return;this.updateCellSelection(t,m.rowIndex,m.cellIndex)}if(!S){var x={data:l,cellIndex:e[0],currentCell:t,previousRowCell:this.prevECIdxs?this.getCellIndex(this.prevECIdxs.rowIndex,this.prevECIdxs.cellIndex):void 0,selectedRowCellIndex:this.selectedRowCellIndexes};x[b]=this.prevECIdxs,this.onActionComplete(x,s.sF6),this.cellselected=!0}this.updateCellProps(m,m)}}}},e.prototype.getColIndex=function(e,t){var i=this.parent.isFrozenGrid(),r=this.parent.getColumnByIndex(t),n=(0,o.Ax)(this.parent,r,e);if(n)for(var s=0;s<n.length;s++){if(parseInt(n[s].getAttribute(a.ql),10)===t)return i&&("movable"===r.getFreezeTableName()?s+=this.parent.getFrozenLeftCount():r.getFreezeTableName()===a.Xg&&(s+=this.parent.getFrozenLeftColumnsCount()+this.parent.getMovableColumnsCount())),s}return-1},e.prototype.getLastColIndex=function(e){var t=this.parent.getFrozenColumns()?this.parent.getMovableDataRows()[e].querySelectorAll("td.e-rowcell"):this.parent.getDataRows()[e].querySelectorAll("td.e-rowcell");return parseInt(t[t.length-1].getAttribute(a.ql),10)},e.prototype.clearCell=function(){this.clearCellSelection()},e.prototype.cellDeselect=function(e,t,i,n,o){n[0]&&n[0].classList.contains(a.yM)&&this.updateCheckBoxes((0,r.kp)(n[0],"tr"));var s={cells:n,data:i,cellIndexes:t,foreignKeyData:o,cancel:!1};this.parent.trigger(e,s),this.isPreventCellSelect=s.cancel},e.prototype.updateCellSelection=function(e,t,i){(0,r.hX)(t)||this.addRowCellIndex({rowIndex:t,cellIndex:i}),e.classList.add("e-cellselectionbackground"),e.classList.contains(a.yM)&&this.updateCheckBoxes((0,r.kp)(e,"tr"),!0),this.addAttribute(e)},e.prototype.addAttribute=function(e){this.target=e,(0,r.hX)(e)||(e.setAttribute("aria-selected","true"),this.preventFocus||this.focus.onClick({target:e},!0))},e.prototype.updateCellProps=function(e,t){this.prevCIdxs=e,this.prevECIdxs=t,this.isCellSelected=this.selectedRowCellIndexes.length&&!0},e.prototype.addRowCellIndex=function(e){for(var t,i,r=0,n=this.selectedRowCellIndexes.length;r<n;r++)if(this.selectedRowCellIndexes[r].rowIndex===e.rowIndex){t=!0,i=r;break}t?this.selectedRowCellIndexes[i].cellIndexes.indexOf(e.cellIndex)<0&&this.selectedRowCellIndexes[i].cellIndexes.push(e.cellIndex):this.selectedRowCellIndexes.push({rowIndex:e.rowIndex,cellIndexes:[e.cellIndex]})},e.prototype.clearCellSelection=function(){if(this.isCellSelected){var e=this.parent,t=this.getSelectedCellsElement(),i=this.selectedRowCellIndexes,r=[],n=[],l=[],a=this.getCurrentBatchRecordChanges(),h=e.isFrozenGrid();this.hideAutoFill();for(var c=0,p=i.length;c<p;c++){r.push(a[i[c].rowIndex]);for(var d=this.getRowObj(i[c].rowIndex),u=0,g=i[c].cellIndexes.length;u<g;u++)if(h){var f=e.getColumnByIndex(i[c].cellIndexes[u]);n.push((0,o.lK)(this.parent,f,i[c].rowIndex,i[c].cellIndexes[u]))}else d.cells&&l.push(d.cells[i[c].cellIndexes[u]].foreignKeyData),n.push(e.getCellFromIndex(i[c].rowIndex,i[c].cellIndexes[u]))}if(this.cellDeselect(s.efc,i,r,n,l),!0===this.isPreventCellSelect)return;for(c=0,p=t.length;c<p;c++)t[c].classList.remove("e-cellselectionbackground"),t[c].removeAttribute("aria-selected");this.bdrElement&&this.showHideBorders("none"),this.selectedRowCellIndexes=[],this.isCellSelected=!1,!this.isDragged&&this.cellselected&&this.cellDeselect(s.Lcf,i,r,n,l)}},e.prototype.getSelectedCellsElement=function(){var e,t=this.parent,i=t.getDataRows();t.isFrozenGrid()&&(e=t.getMovableDataRows(),i=t.addMovableRows(i,e),t.getFrozenMode()===a.U0&&(i=t.addMovableRows(i,t.getFrozenRightDataRows())));for(var r=[],n=0,o=i.length;n<o;n++)r=r.concat([].slice.call(i[n].getElementsByClassName("e-cellselectionbackground")));return r},e.prototype.mouseMoveHandler=function(e){e.preventDefault();var t,i=this.parent.element.getBoundingClientRect(),n=this.x,s=this.y,l=(0,o.E9)(e),h=l.x-i.left,c=l.y-i.top,p=(0,r.kp)(e.target,"tr");if(this.isDragged=!0,this.isCellDrag||(p||(p=(0,r.kp)(document.elementFromPoint(this.parent.element.offsetLeft+2,e.clientY),"tr")),n>h&&(t=h,h=n,n=t),s>c&&(t=c,c=s,s=t),this.element.style.left=n+"px",this.element.style.top=s+"px",this.element.style.width=h-n+"px",this.element.style.height=c-s+"px"),p&&!e.ctrlKey&&!e.shiftKey){var d=parseInt(p.getAttribute(a.E3),10);if(this.isCellDrag){var u=(0,o.oC)(e.target,a.Jt);u&&(this.startAFCell=this.startCell,this.endAFCell=(0,o.oC)(e.target,a.Jt),this.selectLikeExcel(e,d,parseInt(u.getAttribute(a.ql),10)))}else this.hideAutoFill(),this.selectRowsByRange(this.startDIndex,d),this.isRowDragSelected=!0}},e.prototype.selectLikeExcel=function(e,t,i){this.isAutoFillSel?(this.showAFBorders(),this.selectLikeAutoFill(e)):(this.clearCellSelection(),this.selectCellsByRange({rowIndex:this.startDIndex,cellIndex:this.startDCellIndex},{rowIndex:t,cellIndex:i}),this.drawBorders())},e.prototype.drawBorders=function(){"BoxWithBorder"===this.selectionSettings.cellSelectionMode&&this.selectedRowCellIndexes.length&&!this.parent.isEdit?(this.parent.element.classList.add("e-enabledboxbdr"),this.bdrElement||this.createBorders(),this.positionBorders()):this.showHideBorders("none")},e.prototype.isLastCell=function(e){var t=[].slice.call(e.parentElement.querySelectorAll(".e-rowcell:not(.e-hide)"));return t[t.length-1]===e},e.prototype.isLastRow=function(e){var t=[].slice.call((0,r.kp)(e,a.T_).querySelectorAll(".e-row:not(.e-hiddenrow)"));return e.parentElement===t[t.length-1]},e.prototype.isFirstRow=function(e){var t=[].slice.call((0,r.kp)(e,a.T_).querySelectorAll(".e-row:not(.e-hiddenrow)"));return e.parentElement===t[0]},e.prototype.isFirstCell=function(e){return[].slice.call(e.parentElement.querySelectorAll(".e-rowcell:not(.e-hide)"))[0]===e},e.prototype.setBorders=function(e,t,i){var r=[].slice.call(e.getElementsByClassName("e-cellselectionbackground")).filter((function(e){return""===e.style.display}));if(r.length){var n=this.parent.isFrozenGrid(),o=r[0],s=r[r.length-1],l=o.getBoundingClientRect(),h=s.getBoundingClientRect(),c=o.offsetParent.getBoundingClientRect(),p=!this.isLastRow(s)||"1"!==i&&"2"!==i&&"5"!==i?0:2,d=this.parent.frozenRows&&("1"===i||"2"===i)&&this.isFirstRow(o)?1.5:0,u=n&&("2"===i||"4"===i)&&this.isFirstCell(o)?1:0,g=("Right"!==this.parent.getFrozenMode()||"1"!==i&&"3"!==i)&&(this.parent.getFrozenMode()!==a.U0||"5"!==i&&"6"!==i)||!this.isFirstCell(o)?0:1;this.parent.enableRtl?(t.style.right=c.right-l.right-u+"px",t.style.width=l.right-h.left+u+1+"px"):(t.style.left=l.left-c.left-u-g+"px",t.style.width=h.right-l.left+u-g+1+"px"),t.style.top=l.top-c.top-d+"px",t.style.height=h.top-l.top>0?h.top-c.top+h.height+1-(l.top-c.top)-p+d+"px":h.height+d-p+1+"px",this.selectDirection+=i}else t.style.display="none"},e.prototype.positionBorders=function(){this.updateStartEndCells(),this.startCell&&this.bdrElement&&this.selectedRowCellIndexes.length&&(this.selectDirection="",this.showHideBorders(""),this.setBorders(this.parent.getContentTable(),this.bdrElement,"1"),this.parent.isFrozenGrid()&&(this.setBorders(this.parent.contentModule.getMovableContent(),this.mcBdrElement,"2"),this.parent.getFrozenMode()===a.U0&&this.setBorders(this.parent.contentModule.getFrozenRightContent(),this.frcBdrElement,"5")),this.parent.frozenRows&&(this.setBorders(this.parent.getHeaderTable(),this.fhBdrElement,"3"),this.parent.isFrozenGrid()&&(this.setBorders(this.parent.headerModule.getMovableHeader(),this.mhBdrElement,"4"),this.parent.getFrozenMode()===a.U0&&this.setBorders(this.parent.headerModule.getFrozenRightHeader(),this.frhBdrElement,"6"))),this.applyBorders(this.selectDirection))},e.prototype.applyBothFrozenBorders=function(e){var t=this.parent.enableRtl;switch(e.length){case 6:this.bdrElement.style.borderWidth=t?this.right_bottom:this.bottom_left,this.mcBdrElement.style.borderWidth=this.bottom,this.fhBdrElement.style.borderWidth=t?this.top_right:this.top_left,this.mhBdrElement.style.borderWidth=this.top,this.frcBdrElement.style.borderWidth=t?this.bottom_left:this.right_bottom,this.frhBdrElement.style.borderWidth=t?this.top_left:this.top_right;break;case 4:e.includes("1")&&e.includes("2")&&e.includes("3")&&e.includes("4")&&(this.fhBdrElement.style.borderWidth=t?this.top_right:this.top_left,this.mhBdrElement.style.borderWidth=t?this.top_left:this.top_right,this.bdrElement.style.borderWidth=t?this.right_bottom:this.bottom_left,this.mcBdrElement.style.borderWidth=t?this.bottom_left:this.right_bottom),e.includes("2")&&e.includes("4")&&e.includes("5")&&e.includes("6")&&(this.mcBdrElement.style.borderWidth=t?this.right_bottom:this.bottom_left,this.mhBdrElement.style.borderWidth=t?this.top_right:this.top_left,this.frcBdrElement.style.borderWidth=t?this.bottom_left:this.right_bottom,this.frhBdrElement.style.borderWidth=t?this.top_left:this.top_right);break;case 3:this.bdrElement.style.borderWidth=t?this.top_right_bottom:this.top_bottom_left,this.mcBdrElement.style.borderWidth=this.top_bottom,this.frcBdrElement.style.borderWidth=t?this.top_bottom_left:this.top_right_bottom,this.parent.frozenRows&&(this.fhBdrElement.style.borderWidth=t?this.top_right_bottom:this.top_bottom_left,this.mhBdrElement.style.borderWidth=this.top_bottom,this.frcBdrElement.style.borderWidth=t?this.top_bottom_left:this.top_right_bottom);break;case 2:e.includes("1")&&(this.mcBdrElement.style.borderWidth=t?this.top_bottom_left:this.top_right_bottom,this.parent.frozenRows&&(this.fhBdrElement.style.borderWidth=this.top_right_left)),e.includes("2")&&(this.bdrElement.style.borderWidth=t?this.top_right_bottom:this.top_bottom_left,this.frcBdrElement.style.borderWidth=t?this.top_bottom_left:this.top_right_bottom,this.parent.frozenRows&&(this.mhBdrElement.style.borderWidth=this.top_right_left)),e.includes("3")&&(this.mhBdrElement.style.borderWidth=t?this.top_bottom_left:this.top_right_bottom,this.bdrElement.style.borderWidth=this.right_bottom_left),e.includes("4")&&(this.fhBdrElement.style.borderWidth=t?this.top_right_bottom:this.top_bottom_left,this.frhBdrElement.style.borderWidth=t?this.top_bottom_left:this.top_right_bottom,this.mcBdrElement.style.borderWidth=this.right_bottom_left),e.includes("5")&&(this.mcBdrElement.style.borderWidth=t?this.top_right_bottom:this.top_bottom_left,this.parent.frozenRows&&(this.frhBdrElement.style.borderWidth=this.top_right_left)),e.includes("6")&&(this.mhBdrElement.style.borderWidth=t?this.top_right_bottom:this.top_bottom_left,this.frcBdrElement.style.borderWidth=this.right_bottom_left);break;default:this.bdrElement.style.borderWidth=this.all_border,this.mcBdrElement.style.borderWidth=this.all_border,this.frcBdrElement.style.borderWidth=this.all_border,this.parent.frozenRows&&(this.fhBdrElement.style.borderWidth=this.all_border,this.mhBdrElement.style.borderWidth=this.all_border,this.frhBdrElement.style.borderWidth=this.all_border)}},e.prototype.applyBorders=function(e){var t=this.parent.enableRtl;if(this.parent.getFrozenMode()===a.U0)this.applyBothFrozenBorders(e);else switch(e.length){case 4:"Right"===this.parent.getFrozenMode()?(this.bdrElement.style.borderWidth=t?this.bottom_left:this.right_bottom,this.mcBdrElement.style.borderWidth=t?this.right_bottom:this.bottom_left,this.fhBdrElement.style.borderWidth=t?this.top_left:this.top_right,this.mhBdrElement.style.borderWidth=t?this.top_right:this.top_left):(this.bdrElement.style.borderWidth=t?this.right_bottom:this.bottom_left,this.mcBdrElement.style.borderWidth=t?this.bottom_left:this.right_bottom,this.fhBdrElement.style.borderWidth=t?this.top_right:this.top_left,this.mhBdrElement.style.borderWidth=t?this.top_left:this.top_right);break;case 2:"Right"===this.parent.getFrozenMode()?(this.bdrElement.style.borderWidth=e.includes("2")?t?this.top_bottom_left:this.top_right_bottom:this.right_bottom_left,this.mcBdrElement.style.borderWidth=e.includes("1")?t?this.top_right_bottom:this.top_bottom_left:this.right_bottom_left,this.parent.frozenRows&&(this.fhBdrElement.style.borderWidth=e.includes("1")?this.top_right_left:t?this.top_bottom_left:this.top_right_bottom,this.mhBdrElement.style.borderWidth=e.includes("2")?this.top_right_left:t?this.top_right_bottom:this.top_bottom_left)):(this.bdrElement.style.borderWidth=e.includes("2")?t?this.top_right_bottom:this.top_bottom_left:this.right_bottom_left,this.parent.isFrozenGrid()&&(this.mcBdrElement.style.borderWidth=e.includes("1")?t?this.top_bottom_left:this.top_right_bottom:this.right_bottom_left),this.parent.frozenRows&&(this.fhBdrElement.style.borderWidth=e.includes("1")?this.top_right_left:t?this.top_right_bottom:this.top_bottom_left,this.parent.isFrozenGrid()&&(this.mhBdrElement.style.borderWidth=e.includes("2")?this.top_right_left:t?this.top_bottom_left:this.top_right_bottom)));break;default:this.bdrElement.style.borderWidth=this.all_border,this.parent.isFrozenGrid()&&(this.mcBdrElement.style.borderWidth=this.all_border),this.parent.frozenRows&&(this.fhBdrElement.style.borderWidth=this.all_border,this.parent.isFrozenGrid()&&(this.mhBdrElement.style.borderWidth=this.all_border))}},e.prototype.createBorders=function(){this.bdrElement||(this.bdrElement=this.parent.getContentTable().parentElement.appendChild((0,r.n)("div",{className:"e-xlsel",id:this.parent.element.id+"_bdr",styles:"width: 2px; border-width: 0;"})),this.parent.isFrozenGrid()&&(this.mcBdrElement=this.parent.contentModule.getMovableContent().appendChild((0,r.n)("div",{className:"e-xlsel",id:this.parent.element.id+"_mcbdr",styles:"height: 2px; border-width: 0;"})),this.parent.getFrozenMode()===a.U0&&(this.frcBdrElement=this.parent.contentModule.getFrozenRightContent().appendChild((0,r.n)("div",{className:"e-xlsel",id:this.parent.element.id+"_frcbdr",styles:"height: 2px; border-width: 0;"})))),this.parent.frozenRows&&(this.fhBdrElement=this.parent.getHeaderTable().parentElement.appendChild((0,r.n)("div",{className:"e-xlsel",id:this.parent.element.id+"_fhbdr",styles:"height: 2px;"}))),this.parent.frozenRows&&this.parent.isFrozenGrid()&&(this.mhBdrElement=this.parent.headerModule.getMovableHeader().appendChild((0,r.n)("div",{className:"e-xlsel",id:this.parent.element.id+"_mhbdr",styles:"height: 2px;"})),this.parent.getFrozenMode()===a.U0&&(this.frhBdrElement=this.parent.headerModule.getFrozenRightHeader().appendChild((0,r.n)("div",{className:"e-xlsel",id:this.parent.element.id+"_frhbdr",styles:"height: 2px;"})))))},e.prototype.showHideBorders=function(e){this.bdrElement&&(this.bdrElement.style.display=e,this.parent.isFrozenGrid()&&(this.mcBdrElement.style.display=e,this.parent.getFrozenMode()===a.U0&&(this.frcBdrElement.style.display=e)),this.parent.frozenRows&&(this.fhBdrElement.style.display=e),this.parent.frozenRows&&this.parent.isFrozenGrid()&&(this.mhBdrElement.style.display=e,this.parent.getFrozenMode()===a.U0&&(this.frhBdrElement.style.display=e)))},e.prototype.drawAFBorders=function(){this.bdrAFBottom||this.createAFBorders(),this.positionAFBorders()},e.prototype.positionAFBorders=function(){if(this.startCell&&this.bdrAFLeft){var e=this.startAFCell.getBoundingClientRect(),t=this.endAFCell.getBoundingClientRect(),i=t.top-e.top>0?1:0,r=t.top-e.top>=0&&((0,o.oC)(this.startAFCell,a.S1)||(0,o.oC)(this.startAFCell,"e-frozencontent"))&&this.isFirstRow(this.startAFCell)?1.5:0,n=((0,o.oC)(this.startAFCell,a.S1)||(0,o.oC)(this.startAFCell,a.eW))&&this.isFirstCell(this.startAFCell)?1:0,s=this.isLastRow(this.endAFCell)&&((0,o.oC)(this.endAFCell,a.S1)||(0,o.oC)(this.endAFCell,"e-frozencontent"))?2:0,l=this.startAFCell.offsetParent.getBoundingClientRect(),h=this.parent.element.getBoundingClientRect(),c=this.startAFCell.offsetParent.parentElement.scrollTop,p=this.startAFCell.offsetParent.parentElement.scrollLeft,d=c-this.startAFCell.offsetTop,u=p-this.startAFCell.offsetLeft,g=this.parent.element.clientHeight,f=this.parent.element.clientWidth;d=d>0?Math.floor(d)-1:0,u=u>0?u:0;var m=e.left-h.left;if(this.parent.enableRtl){var y=(0,o.oC)(this.startAFCell,a.S1)||(0,o.oC)(this.startAFCell,a.eW)?e.right-this.startAFCell.offsetParent.parentElement.getBoundingClientRect().width-h.left:0;this.bdrAFLeft.style.right=h.right-t.right-2+t.width+"px",this.bdrAFLeft.style.width=f<=parseInt(this.bdrAFLeft.style.right,10)?"0px":"2px",this.bdrAFRight.style.right=h.right-e.right-n+y-1+"px",this.bdrAFTop.style.left=t.left-h.left-.5+"px",this.bdrAFTop.style.width=parseInt(this.bdrAFLeft.style.right,10)-parseInt(this.bdrAFRight.style.right,10)-n+1+"px",parseInt(this.bdrAFTop.style.left,10)<0&&(this.bdrAFTop.style.width=parseInt(this.bdrAFTop.style.width,10)+parseInt(this.bdrAFTop.style.left,10)+"px",this.bdrAFTop.style.left="0px")}else if(this.bdrAFLeft.style.left=m-n+u-1+"px",this.bdrAFRight.style.left=t.left-h.left-2+t.width+"px",this.bdrAFRight.style.width=f<=parseInt(this.bdrAFRight.style.left,10)?"0px":"2px",this.bdrAFTop.style.left=m+u-.5+"px",this.bdrAFTop.style.width=parseInt(this.bdrAFRight.style.left,10)-parseInt(this.bdrAFLeft.style.left,10)-n+1+"px",f<=parseInt(this.bdrAFTop.style.width,10)+parseInt(this.bdrAFTop.style.left,10)){var v=parseInt(this.bdrAFTop.style.width,10)+parseInt(this.bdrAFTop.style.left,10)-f;this.bdrAFTop.style.width=parseInt(this.bdrAFTop.style.width,10)-v+"px"}if(this.bdrAFLeft.style.top=e.top-h.top-r+d+"px",this.bdrAFLeft.style.height=t.top-e.top>0?t.top-l.top+t.height+1-(e.top-l.top)+r-s-d+"px":t.height+r-s-d+"px",this.bdrAFRight.style.top=this.bdrAFLeft.style.top,this.bdrAFRight.style.height=parseInt(this.bdrAFLeft.style.height,10)+"px",this.bdrAFTop.style.top=this.bdrAFRight.style.top,this.bdrAFBottom.style.left=this.bdrAFTop.style.left,this.bdrAFBottom.style.top=parseFloat(this.bdrAFLeft.style.top)+parseFloat(this.bdrAFLeft.style.height)-i-1+"px",this.bdrAFBottom.style.width=g<=parseFloat(this.bdrAFBottom.style.top)?"0px":this.bdrAFTop.style.width,g<=parseInt(this.bdrAFLeft.style.height,10)+parseInt(this.bdrAFLeft.style.top,10)){var C=parseInt(this.bdrAFLeft.style.height,10)+parseInt(this.bdrAFLeft.style.top,10)-g;this.bdrAFLeft.style.height=parseInt(this.bdrAFLeft.style.height,10)-C+"px",this.bdrAFRight.style.height=parseInt(this.bdrAFLeft.style.height,10)+"px"}}},e.prototype.createAFBorders=function(){this.bdrAFLeft||(this.bdrAFLeft=this.parent.element.appendChild((0,r.n)("div",{className:"e-xlselaf",id:this.parent.element.id+"_bdrafleft",styles:"width: 2px;"})),this.bdrAFRight=this.parent.element.appendChild((0,r.n)("div",{className:"e-xlselaf",id:this.parent.element.id+"_bdrafright",styles:"width: 2px;"})),this.bdrAFBottom=this.parent.element.appendChild((0,r.n)("div",{className:"e-xlselaf",id:this.parent.element.id+"_bdrafbottom",styles:"height: 2px;"})),this.bdrAFTop=this.parent.element.appendChild((0,r.n)("div",{className:"e-xlselaf",id:this.parent.element.id+"_bdraftop",styles:"height: 2px;"})))},e.prototype.showAFBorders=function(){this.bdrAFLeft&&(this.bdrAFLeft.style.display="",this.bdrAFRight.style.display="",this.bdrAFBottom.style.display="",this.bdrAFTop.style.display="")},e.prototype.hideAFBorders=function(){this.bdrAFLeft&&(this.bdrAFLeft.style.display="none",this.bdrAFRight.style.display="none",this.bdrAFBottom.style.display="none",this.bdrAFTop.style.display="none")},e.prototype.updateValue=function(e,t,i){var r=this.createBeforeAutoFill(e,t,i);if(!r.cancel){var n=this.parent.getColumnByIndex(t);this.parent.editModule&&i&&("number"===n.type?this.parent.editModule.updateCell(e,n.field,parseFloat(r.value)):this.parent.editModule.updateCell(e,n.field,r.value))}},e.prototype.createBeforeAutoFill=function(e,t,i){var r={column:this.parent.getColumnByIndex(t),value:i.innerText};return this.parent.trigger(s.mKl,r),r},e.prototype.getAutoFillCells=function(e,t){var i=".e-cellselectionbackground",r=[].slice.call(this.parent.getDataRows()[e].querySelectorAll(i));return this.parent.isFrozenGrid()&&(r=r.concat([].slice.call(this.parent.getMovableDataRows()[e].querySelectorAll(i))),this.parent.getFrozenMode()===a.U0&&(r=r.concat([].slice.call(this.parent.getFrozenRightDataRows()[e].querySelectorAll(i))))),r},e.prototype.selectLikeAutoFill=function(e,t){var i=parseInt((0,o.oC)(this.startAFCell,a.nM).getAttribute(a.E3),10),r=parseInt(this.startAFCell.getAttribute(a.ql),10),n=parseInt((0,o.oC)(this.endAFCell,a.nM).getAttribute(a.E3),10),s=parseInt(this.endAFCell.getAttribute(a.ql),10),l=this.selectedRowCellIndexes.length-1,h=this.selectedRowCellIndexes[0].cellIndexes.length-1;switch(!0){case!t&&this.endAFCell.classList.contains("e-cellselectionbackground")&&!!(0,o.oC)(e.target,a.Jt):this.startAFCell=this.parent.getCellFromIndex(i,r),this.endAFCell=this.parent.getCellFromIndex(i+l,r+h),this.drawAFBorders();break;case this.autoFillRLselection&&r+h<s&&s-r-h+1>n-i-l&&s-r-h+1>i-n:if(this.endAFCell=this.parent.getCellFromIndex(i+l,s),n=parseInt((0,o.oC)(this.endAFCell,a.nM).getAttribute(a.E3),10),s=parseInt(this.endAFCell.getAttribute(a.ql),10),t){for(var c=parseInt(this.endCell.getAttribute(a.ql),10),p=i;p<=n;p++)for(var d=this.getAutoFillCells(p,r),u=0,g=c+1;g<=s;g++)u>h&&(u=0),this.updateValue(p,g,d[u]),u++;this.selectCellsByRange({rowIndex:i,cellIndex:this.startCellIndex},{rowIndex:n,cellIndex:s})}else this.drawAFBorders();break;case this.autoFillRLselection&&r>s&&r-s+1>n-i-l&&r-s+1>i-n:if(this.startAFCell=this.parent.getCellFromIndex(i,s),this.endAFCell=this.endCell,t){for(p=i;p<=i+l;p++){(d=this.getAutoFillCells(p,r)).reverse();for(u=0,g=this.startCellIndex-1;g>=s;g--)u>h&&(u=0),this.updateValue(p,g,d[u]),u++}this.selectCellsByRange({rowIndex:i,cellIndex:s},{rowIndex:i+l,cellIndex:this.startCellIndex+h})}else this.drawAFBorders();break;case i>n:if(this.startAFCell=this.parent.getCellFromIndex(n,r),this.endAFCell=this.endCell,t){var f=m=parseInt(this.endCell.parentElement.getAttribute(a.E3),10);for(p=i-1;p>=n;p--){f===this.startIndex-1&&(f=m);d=this.getAutoFillCells(f,r),u=0;f--;for(g=this.startCellIndex;g<=this.startCellIndex+h;g++)this.updateValue(p,g,d[u]),u++}this.selectCellsByRange({rowIndex:n,cellIndex:r+h},{rowIndex:i+l,cellIndex:r})}else this.drawAFBorders();break;default:if(this.endAFCell=this.parent.getCellFromIndex(n,r+h),t){var m=parseInt(this.endCell.parentElement.getAttribute(a.E3),10);for(f=this.startIndex,p=m+1;p<=n;p++){f===m+1&&(f=this.startIndex);d=this.getAutoFillCells(f,r);f++;u=0;for(var y=this.startCellIndex;y<=this.startCellIndex+h;y++)this.updateValue(p,y,d[u]),u++}this.selectCellsByRange({rowIndex:m-l,cellIndex:r},{rowIndex:n,cellIndex:r+h})}else this.drawAFBorders()}},e.prototype.mouseUpHandler=function(e){if(document.body.classList.remove("e-disableuserselect"),this.element&&(0,r.TF)(this.element),this.isDragged&&1===this.selectedRowCellIndexes.length&&1===this.selectedRowCellIndexes[0].cellIndexes.length?this.mUPTarget=(0,o.oC)(e.target,a.Jt):this.mUPTarget=null,this.isDragged&&!this.isAutoFillSel&&"Cell"===this.selectionSettings.mode&&e.target.classList.contains(a.Jt)){var t=e.target,i=parseInt(t.parentElement.getAttribute(a.E3),10),n=parseInt(t.getAttribute(a.ql),10);this.isDragged=!1,this.clearCellSelection(),this.selectCellsByRange({rowIndex:this.startDIndex,cellIndex:this.startDCellIndex},{rowIndex:i,cellIndex:n})}if(this.isDragged=!1,this.updateAutoFillPosition(),this.isAutoFillSel){var s=(0,o.oC)(e.target,a.Jt);this.endAFCell=s||(this.endCell===this.endAFCell?this.startAFCell:this.endAFCell),this.startAFCell=this.startCell,this.updateStartCellsIndex(),this.selectLikeAutoFill(e,!0),this.updateAutoFillPosition(),this.hideAFBorders(),this.positionBorders(),this.isAutoFillSel=!1}r.Jm.remove(this.parent.getContent(),"mousemove",this.mouseMoveHandler),this.parent.frozenRows&&r.Jm.remove(this.parent.getHeaderContent(),"mousemove",this.mouseMoveHandler),r.Jm.remove(document,"mouseup",this.mouseUpHandler)},e.prototype.hideAutoFill=function(){this.autofill&&(this.autofill.style.display="none")},e.prototype.updateAutoFillPosition=function(){if(this.parent.enableAutoFill&&!this.parent.isEdit&&this.selectionSettings.cellSelectionMode.indexOf("Box")>-1&&!this.isRowType()&&!this.isSingleSel()&&this.selectedRowCellIndexes.length){var e=parseInt(this.target.getAttribute(a.ql),10),t=parseInt(this.target.getAttribute("index"),10),i=this.selectedRowCellIndexes[this.selectedRowCellIndexes.length-1].rowIndex,n=this.getAutoFillCells(i,e).filter((function(e){return""===e.style.display})),s=this.parent.getColumnByIndex(e),l="movable"===s.getFreezeTableName(),h=t<this.parent.frozenRows,c=this.parent.getFrozenMode()===a.U0&&s.getFreezeTableName()===a.Xg;(0,r.Lt)("#"+this.parent.element.id+"_autofill",(0,o.oC)(this.target,a.tp))||((0,r.Lt)("#"+this.parent.element.id+"_autofill",this.parent.element)&&(0,r.Lt)("#"+this.parent.element.id+"_autofill",this.parent.element).remove(),this.autofill=(0,r.n)("div",{className:"e-autofill",id:this.parent.element.id+"_autofill"}),this.autofill.style.display="none",h?l?this.parent.headerModule.getMovableHeader().appendChild(this.autofill):this.parent.getHeaderTable().parentElement.appendChild(this.autofill):l?this.parent.contentModule.getMovableContent().appendChild(this.autofill):this.parent.getContentTable().parentElement.appendChild(this.autofill),c&&(h?this.parent.getFrozenRightHeader().appendChild(this.autofill):this.parent.getFrozenRightContent().appendChild(this.autofill)));var p=n[n.length-1];if(p&&p.offsetParent){var d=p.getBoundingClientRect(),u=p.offsetParent.getBoundingClientRect(),g=this.isLastCell(p)?4:0,f=this.isLastRow(p)?3:0;this.parent.enableRtl?this.autofill.style.right=u.right-d.right+d.width-4-g+"px":this.autofill.style.left=d.left-u.left+d.width-4-g+"px",this.autofill.style.top=d.top-u.top+d.height-5-f+"px"}this.autofill.style.display=""}else this.hideAutoFill()},e.prototype.mouseDownHandler=function(e){this.mouseButton=e.button;var t,i=e.target,n=this.parent,s=(0,o.oC)(i,"e-grid");if(!(s&&s.id!==n.element.id||(0,o.oC)(i,a.VW)&&!this.parent.frozenRows||(0,o.oC)(i,"e-editedbatchcell")||(0,o.oC)(i,a.QF))){if((e.shiftKey||e.ctrlKey)&&e.preventDefault(),(0,o.oC)(i,a.Jt)&&!e.shiftKey&&!e.ctrlKey){if(n.selectionSettings.cellSelectionMode.indexOf("Box")>-1&&!this.isRowType()&&!this.isSingleSel())this.isCellDrag=!0,t=!0;else if(n.allowRowDragAndDrop&&!n.isEdit&&!this.parent.selectionSettings.checkboxOnly){if(this.isRowDragSelected=!1,!this.isRowType()||this.isSingleSel()||(0,r.kp)(i,"td").classList.contains("e-selectionbackground"))return void(this.isDragged=!1);t=!0,this.element=this.parent.createElement("div",{className:"e-griddragarea"}),n.getContent().appendChild(this.element)}t&&this.enableDrag(e,!0)}this.updateStartEndCells(),(i.classList.contains("e-autofill")||i.classList.contains("e-xlsel"))&&(this.isCellDrag=!0,this.isAutoFillSel=!0,this.enableDrag(e))}},e.prototype.updateStartEndCells=function(){var e=[].slice.call(this.parent.element.getElementsByClassName("e-cellselectionbackground"));this.startCell=e[0],this.endCell=e[e.length-1],this.startCell&&(this.startIndex=parseInt(this.startCell.parentElement.getAttribute(a.E3),10),this.startCellIndex=parseInt((0,o.oC)(this.startCell,a.Jt).getAttribute(a.ql),10))},e.prototype.updateStartCellsIndex=function(){this.startCell&&(this.startIndex=parseInt(this.startCell.parentElement.getAttribute(a.E3),10),this.startCellIndex=parseInt((0,o.oC)(this.startCell,a.Jt).getAttribute(a.ql),10))},e.prototype.enableDrag=function(e,t){var i=this.parent;if(t){var n=(0,r.kp)(e.target,"tr");this.startDIndex=parseInt(n.getAttribute(a.E3),10),this.startDCellIndex=parseInt((0,o.oC)(e.target,a.Jt).getAttribute(a.ql),10)}document.body.classList.add("e-disableuserselect");var s=i.element.getBoundingClientRect(),l=(0,o.E9)(e);this.x=l.x-s.left,this.y=l.y-s.top,r.Jm.add(i.getContent(),"mousemove",this.mouseMoveHandler,this),this.parent.frozenRows&&r.Jm.add(i.getHeaderContent(),"mousemove",this.mouseMoveHandler,this),r.Jm.add(document,"mouseup",this.mouseUpHandler,this)},e.prototype.clearSelAfterRefresh=function(e){var t=this.parent.enableInfiniteScrolling&&"infiniteScroll"===e.requestType;"virtualscroll"===e.requestType||this.parent.isPersistSelection||t||this.clearSelection()},e.prototype.addEventListener=function(){this.parent.isDestroyed||(this.evtHandlers=[{event:s.yPb,handler:this.enableAfterRender},{event:s.qOR,handler:this.initializeSelection},{event:s.m0l,handler:this.onActionComplete},{event:s.kYU,handler:this.onActionComplete},{event:s.$HR,handler:this.onPropertyChanged},{event:s.uJh,handler:this.onCellFocused},{event:s.IcQ,handler:this.clearSelAfterRefresh},{event:s.QzQ,handler:this.columnPositionChanged},{event:s.PRb,handler:this.initialEnd},{event:s.Osn,handler:this.rowsRemoved},{event:s.CRr,handler:this.refreshHeader},{event:s.zrj,handler:this.destroy}],(0,o.yc)(this.parent,this.evtHandlers,!0,this),this.actionBeginFunction=this.actionBegin.bind(this),this.actionCompleteFunction=this.actionComplete.bind(this),this.parent.addEventListener(s.eYd,this.actionBeginFunction),this.parent.addEventListener(s.wn6,this.actionCompleteFunction),this.addEventListener_checkbox())},e.prototype.removeEventListener=function(){this.parent.isDestroyed||((0,o.yc)(this.parent,this.evtHandlers,!1),this.parent.removeEventListener(s.eYd,this.actionBeginFunction),this.parent.removeEventListener(s.wn6,this.actionCompleteFunction),this.removeEventListener_checkbox())},e.prototype.wireEvents=function(){this.isMacOS=-1!==navigator.userAgent.indexOf("Mac OS"),this.isMacOS&&(r.Jm.add(this.parent.element,"keydown",this.keyDownHandler,this),r.Jm.add(this.parent.element,"keyup",this.keyUpHandler,this))},e.prototype.unWireEvents=function(){this.isMacOS&&(r.Jm.remove(this.parent.element,"keydown",this.keyDownHandler),r.Jm.remove(this.parent.element,"keyup",this.keyUpHandler))},e.prototype.columnPositionChanged=function(){this.parent.isPersistSelection||this.clearSelection()},e.prototype.refreshHeader=function(){this.setCheckAllState()},e.prototype.rowsRemoved=function(e){for(var t=0;t<e.records.length;t++)delete this.selectedRowState[e.records[t][this.primaryKey]],--this.totalRecordsCount;this.setCheckAllState()},e.prototype.beforeFragAppend=function(e){"virtualscroll"===e.requestType||this.parent.isPersistSelection||this.clearSelection()},e.prototype.getCheckAllBox=function(){return this.parent.getHeaderContent().querySelector(".e-checkselectall")},e.prototype.enableAfterRender=function(e){e.module===this.getModuleName()&&e.enable&&(this.render(),this.initPerisistSelection())},e.prototype.render=function(e){r.Jm.add(this.parent.getContent(),"mousedown",this.mouseDownHandler,this),r.Jm.add(this.parent.getHeaderContent(),"mousedown",this.mouseDownHandler,this)},e.prototype.onPropertyChanged=function(e){if(e.module===this.getModuleName()){var t=this.parent;(0,r.hX)(e.properties.type)||"Single"!==this.selectionSettings.type||(this.selectedRowCellIndexes.length>1&&(this.clearCellSelection(),this.prevCIdxs=void 0),this.selectedRowIndexes.length>1&&(this.clearRowSelection(),this.prevRowIndex=void 0),this.selectedColumnsIndexes.length>1&&(this.clearColumnSelection(),this.prevColIndex=void 0),this.enableSelectMultiTouch=!1,this.hidePopUp()),(0,r.hX)(e.properties.mode)&&(0,r.hX)(e.properties.cellSelectionMode)||(this.clearSelection(),this.prevRowIndex=void 0,this.prevCIdxs=void 0,this.prevColIndex=void 0),this.isPersisted=!0,this.checkBoxSelectionChanged(),this.isPersisted=!1,this.parent.isCheckBoxSelection||this.initPerisistSelection(),this.parent.getColumns().filter((function(e){return"checkbox"===e.type})).length&&(t.isCheckBoxSelection=!("ResetOnRowClick"===this.selectionSettings.checkboxMode)),this.drawBorders()}},e.prototype.hidePopUp=function(){this.parent.element.querySelector(".e-gridpopup").getElementsByClassName("e-rowselect").length&&(this.parent.element.querySelector(".e-gridpopup").style.display="none")},e.prototype.initialEnd=function(e){var t=this.parent.isFrozenGrid(),i=this.parent.getFrozenMode()===a.U0;(!t||t&&!i&&!e.args.isFrozen||i&&e.args.renderFrozenRightContent)&&!this.selectedRowIndexes.length&&(this.parent.off(s.PRb,this.initialEnd),this.selectRow(this.parent.selectedRowIndex))},e.prototype.checkBoxSelectionChanged=function(){var e=this.parent;e.off(s.PRb,this.checkBoxSelectionChanged);var t=e.getColumns().filter((function(e){return"checkbox"===e.type}));t.length>0&&(e.isCheckBoxSelection=!0,this.chkField=t[0].field,this.totalRecordsCount=this.parent.pageSettings.totalRecordsCount,(0,r.hX)(this.totalRecordsCount)&&(this.totalRecordsCount=this.getCurrentBatchRecordChanges().length),this.isSingleSel()?(e.selectionSettings.type="Multiple",e.dataBind()):this.initPerisistSelection()),e.isCheckBoxSelection||this.isPersisted||(this.chkField=null,this.initPerisistSelection())},e.prototype.initPerisistSelection=function(){var e=this.parent;this.parent.selectionSettings.persistSelection&&this.parent.getPrimaryKeyFieldNames().length>0?(e.isPersistSelection=!0,this.ensureCheckboxFieldSelection()):this.parent.getPrimaryKeyFieldNames().length>0?(e.isPersistSelection=!1,this.ensureCheckboxFieldSelection()):(e.isPersistSelection=!1,this.selectedRowState={})},e.prototype.ensureCheckboxFieldSelection=function(){var e=this.parent;if(this.primaryKey=this.parent.getPrimaryKeyFieldNames()[0],!e.enableVirtualization&&this.chkField&&(e.isPersistSelection&&0===Object.keys(this.selectedRowState).length||!e.isPersistSelection)){var t=this.parent.getDataModule(),i=(new n.X).where(this.chkField,"equal",!0);i.params||(i.params=this.parent.query.params);var r=t.getData({},i),o=this;this.parent.showSpinner(),r.then((function(e){o.dataSuccess(e.result),o.refreshPersistSelection(),o.parent.hideSpinner()}))}},e.prototype.dataSuccess=function(e){for(var t=0;t<e.length;t++)(0,r.hX)(this.selectedRowState[e[t][this.primaryKey]])&&e[t][this.chkField]&&(this.selectedRowState[e[t][this.primaryKey]]=e[t][this.chkField]);this.persistSelectedData=e},e.prototype.setRowSelection=function(e){if(!this.parent.getDataModule().isRemote())if(e)if(this.parent.groupSettings.columns.length)for(var t=0,i=this.getData().records;t<i.length;t++){var r=i[t];this.selectedRowState[r[this.primaryKey]]=!0}else for(var n=0,o=this.getData();n<o.length;n++){r=o[n];this.selectedRowState[r[this.primaryKey]]=!0}else this.selectedRowState={}},e.prototype.getData=function(){return this.parent.getDataModule().dataManager.executeLocal(this.parent.getDataModule().generateQuery(!0))},e.prototype.refreshPersistSelection=function(){var e=this.parent.getRows();this.parent.isCheckBoxSelection&&this.parent.isFrozenGrid()&&(this.parent.getMovableContentTbody().querySelector(".e-checkselect")&&(e=this.parent.getMovableRows()),this.parent.getFrozenMode()===a.U0&&this.parent.getFrozenRightContentTbody().querySelector(".e-checkselect")&&(e=this.parent.getFrozenRightRows()));if(this.totalRecordsCount=this.parent.getCurrentViewRecords().length,this.parent.allowPaging&&(this.totalRecordsCount=this.parent.pageSettings.totalRecordsCount),null!==e&&e.length>0&&(this.parent.isPersistSelection||this.chkField)){for(var t=[],i=0;i<e.length;i++){var n=this.getRowObj(e[i]),s=n&&n.data?n.data[this.primaryKey]:null;if(null===s)return;var l=void 0,h=e[i].querySelector(".e-checkselect");this.selectedRowState[s]||"Check"===this.parent.checkAllRows&&this.selectedRowState[s]&&this.totalRecordsCount===Object.keys(this.selectedRowState).length&&this.chkAllCollec.indexOf(s)<0||"Uncheck"===this.parent.checkAllRows&&this.chkAllCollec.indexOf(s)>0||"Intermediate"===this.parent.checkAllRows&&!(0,r.hX)(this.chkField)&&n.data[this.chkField]?(t.push(parseInt(e[i].getAttribute(a.E3),10)),l=!0):(l=!1,this.checkedTarget!==h&&this.parent.isCheckBoxSelection&&h&&(0,o.Cd)(h.nextElementSibling,l)),this.updatePersistCollection(e[i],l)}this.isSingleSel()&&t.length>0?this.selectRow(t[0],!0):this.selectRows(t)}this.parent.isCheckBoxSelection&&this.getCurrentBatchRecordChanges().length>0&&this.setCheckAllState()},e.prototype.actionBegin=function(e){if("save"===e.requestType&&this.parent.isPersistSelection){var t=this.parent.element.querySelector(".e-edit-checkselect");if(!(0,r.hX)(t)){var i=(0,r.kp)(t,"."+a.QF);if(i){"Dialog"===this.parent.editSettings.mode&&(i=this.parent.element.querySelector(".e-dlgeditrow"));var n=this.getRowObj(i);if(!n)return;this.selectedRowState[n.data[this.primaryKey]]=n.isSelected=t.checked}else this.isCheckedOnAdd=t.checked}}},e.prototype.actionComplete=function(e){if("save"===e.requestType&&this.parent.isPersistSelection){if("add"===e.action&&this.isCheckedOnAdd){var t=this.parent.getRowObjectFromUID(this.parent.getRows()[e.selectedRow].getAttribute("data-uid"));this.selectedRowState[t.data[this.primaryKey]]=t.isSelected=this.isCheckedOnAdd}this.refreshPersistSelection()}if("delete"===e.requestType&&this.parent.isPersistSelection){for(var i=e.data.slice(),n=0;n<i.length;n++)(0,r.hX)(i[n][this.primaryKey])||this.updatePersistDelete(i[n][this.primaryKey]);this.setCheckAllState(),this.totalRecordsCount=this.parent.pageSettings.totalRecordsCount}"paging"===e.requestType&&(this.prevRowIndex=void 0,this.prevCIdxs=void 0,this.prevECIdxs=void 0)},e.prototype.onDataBound=function(){if(!this.parent.enableVirtualization&&this.parent.isPersistSelection&&(this.selectedRecords.length&&(this.isPrevRowSelection=!0),this.refreshPersistSelection()),this.parent.enableVirtualization&&this.setCheckAllState(),this.initialRowSelection=!!(this.isRowType()&&this.parent.element.querySelectorAll(".e-selectionbackground")&&this.parent.getSelectedRows().length),this.parent.isCheckBoxSelection&&!this.initialRowSelection){for(var e=this.parent.getRowsObject(),t=[],i=0;i<e.length;i++)e[i].isSelected&&t.push(i);t.length&&this.selectRows(t),this.initialRowSelection=!0}},e.prototype.updatePersistSelectedData=function(e){if(this.parent.isPersistSelection){for(var t=this.parent.getRows(),i=0;i<t.length;i++)this.updatePersistCollection(t[i],e);"Uncheck"===this.parent.checkAllRows?(this.setRowSelection(!1),this.persistSelectedData=this.parent.getDataModule().isRemote()?this.persistSelectedData:[]):"Check"===this.parent.checkAllRows&&(this.setRowSelection(!0),this.persistSelectedData=this.parent.getDataModule().isRemote()?this.persistSelectedData:this.parent.groupSettings.columns.length?this.getData().records.slice():this.getData().slice())}},e.prototype.checkSelectAllAction=function(e){var t=this.getRenderer(),i=this.parent.element.querySelector(".e-gridform");if(this.checkedTarget=this.getCheckAllBox(),e&&this.getCurrentBatchRecordChanges().length?(this.parent.checkAllRows="Check",this.updatePersistSelectedData(e),this.selectRowsByRange(t.getVirtualRowIndex(0),t.getVirtualRowIndex(this.getCurrentBatchRecordChanges().length-1))):(this.parent.checkAllRows="Uncheck",this.updatePersistSelectedData(e),this.clearSelection()),this.chkAllCollec=[],!(0,r.hX)(i)){var n=i.querySelector(".e-edit-checkselect");(0,r.hX)(n)||(0,o.Cd)(n.nextElementSibling,e)}},e.prototype.checkSelectAll=function(e){var t=this,i=this.getCheckAllStatus(e),r="Check"===i;this.isHeaderCheckboxClicked=!0,"Intermediate"===i&&(r=this.getCurrentBatchRecordChanges().some((function(e){return e[t.primaryKey]in t.selectedRowState}))),this.parent.isPersistSelection&&this.parent.allowPaging&&(this.totalRecordsCount=this.parent.pageSettings.totalRecordsCount),this.checkSelectAllAction(!r),this.target=null,this.getCurrentBatchRecordChanges().length>0&&this.setCheckAllState(),this.triggerChkChangeEvent(e,!r)},e.prototype.getCheckAllStatus=function(e){var t=e?e.nextElementSibling.classList:this.getCheckAllBox().nextElementSibling.classList;return t.contains("e-check")?"Check":t.contains("e-uncheck")?"Uncheck":t.contains("e-stop")?"Intermediate":"None"},e.prototype.checkSelect=function(e){var t=(0,r.kp)(this.checkedTarget,"."+a.Jt),i=this.parent;this.isMultiCtrlRequest=!0;var n=0;if(this.isHeaderCheckboxClicked=!1,(0,o.Gj)(i)){var s=t.parentElement.getAttribute("data-uid");n=i.getRows().map((function(e){return e.getAttribute("data-uid")})).indexOf(s)}else n=parseInt(t.parentElement.getAttribute(a.E3),10);this.parent.isPersistSelection&&this.parent.element.getElementsByClassName(a.jm).length>0&&"Top"===this.parent.editSettings.newRowPosition&&++n,this.rowCellSelectionHandler(n,parseInt(t.getAttribute(a.ql),10)),this.moveIntoUncheckCollection((0,r.kp)(t,"."+a.nM)),this.setCheckAllState(),this.isMultiCtrlRequest=!1,this.triggerChkChangeEvent(e,e.nextElementSibling.classList.contains("e-check"))},e.prototype.moveIntoUncheckCollection=function(e){if("Check"===this.parent.checkAllRows||"Uncheck"===this.parent.checkAllRows){var t=this.getRowObj(e),i=t&&t.data?t.data[this.primaryKey]:null;if(!i)return;this.chkAllCollec.indexOf(i)<0?this.chkAllCollec.push(i):this.chkAllCollec.splice(this.chkAllCollec.indexOf(i),1)}},e.prototype.triggerChkChangeEvent=function(e,t){this.parent.trigger(s.OK6,{checked:t,selectedRowIndexes:this.parent.getSelectedRowIndexes(),target:e}),this.parent.isEdit||(this.checkedTarget=null)},e.prototype.updateSelectedRowIndex=function(e){if(this.parent.isCheckBoxSelection&&(this.parent.enableVirtualization||this.parent.enableInfiniteScrolling)&&!this.parent.getDataModule().isRemote())if("Check"===this.parent.checkAllRows){this.selectedRowIndexes=[];for(var t=this.getData().length,i=0;i<t;i++)this.selectedRowIndexes.push(i)}else if("Uncheck"===this.parent.checkAllRows)this.selectedRowIndexes=[];else{var r=this.parent.getRowByIndex(e);if(e&&r&&"false"===r.getAttribute("aria-selected")){var n=this.selectedRowIndexes.indexOf(e);this.selectedRowIndexes.splice(n,1)}}},e.prototype.isAllSelected=function(){for(var e=this.getData(),t=0;t<e.length;t++){var i=e[t][this.primaryKey];if(!this.selectedRowState[i])return!1}return!0},e.prototype.setCheckAllState=function(e,t){if(this.parent.isCheckBoxSelection||"ResetOnRowClick"===this.parent.selectionSettings.checkboxMode){var i=!0,n=Object.keys(this.selectedRowState).length;this.parent.isPersistSelection||(n=this.selectedRowIndexes.length,this.totalRecordsCount=this.getCurrentBatchRecordChanges().length),this.parent.isPersistSelection&&!this.parent.getDataModule().isRemote()&&(this.parent.searchSettings.key.length||this.parent.filterSettings.columns.length)&&(i=this.isAllSelected());var s=this.getCheckAllBox();if(s){var l=s.nextElementSibling;(0,r.vy)([l],["e-check","e-stop","e-uncheck"]),(0,o.Go)(s,!1),s.indeterminate=!1,i&&n===this.totalRecordsCount&&this.totalRecordsCount||(this.parent.enableVirtualization||this.parent.enableInfiniteScrolling)&&!this.parent.allowPaging&&!this.parent.getDataModule().isRemote()&&this.getData().length&&n===this.getData().length?((0,r.iQ)([l],["e-check"]),(0,o.Go)(s,!0),t&&this.getRenderer().setSelection(null,!0,!0),this.parent.checkAllRows="Check"):!this.selectedRowIndexes.length||0===n&&0===this.getCurrentBatchRecordChanges().length?((0,r.iQ)([l],["e-uncheck"]),t&&this.getRenderer().setSelection(null,!1,!0),this.parent.checkAllRows="Uncheck",0===n&&0===this.getCurrentBatchRecordChanges().length?(0,r.iQ)([l.parentElement],["e-checkbox-disabled"]):(0,r.vy)([l.parentElement],["e-checkbox-disabled"])):((0,r.iQ)([l],["e-stop"]),this.parent.checkAllRows="Intermediate",s.indeterminate=!0),!this.parent.enableVirtualization&&!this.parent.enableInfiniteScrolling||this.parent.allowPaging||this.parent.getDataModule().isRemote()||this.updateSelectedRowIndex(e)}}},e.prototype.keyDownHandler=function(e){(("chrome"===r.Pw.info.name||"safari"===r.Pw.info.name)&&(91===e.keyCode||93===e.keyCode)||"opera"===r.Pw.info.name&&17===e.keyCode||"mozilla"===r.Pw.info.name&&224===e.keyCode)&&(this.cmdKeyPressed=!0)},e.prototype.keyUpHandler=function(e){(("chrome"===r.Pw.info.name||"safari"===r.Pw.info.name)&&(91===e.keyCode||93===e.keyCode)||"opera"===r.Pw.info.name&&17===e.keyCode||"mozilla"===r.Pw.info.name&&224===e.keyCode)&&(this.cmdKeyPressed=!1)},e.prototype.clickHandler=function(e){var t=e.target;this.actualTarget=t,this.selectionSettings.persistSelection&&(this.deSelectedData=(0,o.pA)(this.persistSelectedData)),((0,o.oC)(t,a.nM)||(0,o.oC)(t,"e-headerchkcelldiv")||this.selectionSettings.allowColumnSelection&&t.classList.contains("e-headercell"))&&(this.isInteracted=!0),this.isMultiCtrlRequest=e.ctrlKey||this.enableSelectMultiTouch||this.isMacOS&&this.cmdKeyPressed,this.isMultiShiftRequest=e.shiftKey,this.popUpClickHandler(e);var i,n=!1;this.preventFocus=!0;var s=(0,o.oC)(t,"e-checkbox-wrapper");if(this.checkSelectAllClicked=!!(s&&s.getElementsByClassName("e-checkselectall")||this.selectionSettings.persistSelection&&(0,o.oC)(t,a.nM)),s&&s.querySelectorAll(".e-checkselect,.e-checkselectall").length>0&&(i=s.querySelector('input[type="checkbox"]'),n=!0),this.drawBorders(),this.updateAutoFillPosition(),((t=(0,o.oC)(t,a.Jt))&&t.parentElement.classList.contains(a.nM)&&!this.parent.selectionSettings.checkboxOnly||n)&&!this.isRowDragSelected){if(this.parent.isCheckBoxSelection&&(this.isMultiCtrlRequest=!0),this.target=t,(0,r.hX)(i)){var l=this.parent,h=0;if((0,o.Gj)(l)){var c=t.parentElement.getAttribute("data-uid");h=l.getRows().map((function(e){return e.getAttribute("data-uid")})).indexOf(c)}else h=parseInt(t.parentElement.getAttribute(a.E3),10);this.parent.isPersistSelection&&this.parent.element.getElementsByClassName(a.jm).length>0&&++h,this.mUPTarget&&this.mUPTarget.isEqualNode(t)||this.rowCellSelectionHandler(h,parseInt(t.getAttribute(a.ql),10)),this.parent.hoverFrozenRows(e),this.parent.isCheckBoxSelection&&(this.moveIntoUncheckCollection((0,r.kp)(t,"."+a.nM)),this.setCheckAllState())}else this.checkedTarget=i,i.classList.contains("e-checkselectall")?this.checkSelectAll(i):this.checkSelect(i);this.parent.isCheckBoxSelection||!r.Pw.isDevice||this.isSingleSel()||this.showPopup(e)}else if(e.target.classList.contains("e-headercell")&&!e.target.classList.contains("e-stackedheadercell")){c=e.target.querySelector(".e-headercelldiv").getAttribute("e-mappinguid");this.headerSelectionHandler(this.parent.getColumnIndexByUid(c))}this.isMultiCtrlRequest=!1,this.isMultiShiftRequest=!1,(0,r.hX)((0,r.kp)(e.target,".e-unboundcell"))&&(this.preventFocus=!1)},e.prototype.popUpClickHandler=function(e){var t=e.target;(0,r.kp)(t,".e-headercell")||e.target.classList.contains(a.Jt)||(0,r.kp)(t,".e-gridpopup")?t.classList.contains("e-rowselect")&&(t.classList.contains("e-spanclicked")?(t.classList.remove("e-spanclicked"),this.enableSelectMultiTouch=!1,this.parent.element.querySelector(".e-gridpopup").style.display="none"):(t.classList.add("e-spanclicked"),this.enableSelectMultiTouch=!0)):this.parent.element.querySelector(".e-gridpopup").style.display="none"},e.prototype.showPopup=function(e){this.selectionSettings.enableSimpleMultiRowSelection||(0,o.TJ)(this.parent.element.querySelector(".e-gridpopup"),e,"e-rowselect e-icons e-icon-rowselect"+(!this.isSingleSel()&&(this.selectedRecords.length>(this.parent.getFrozenColumns()?2:1)||this.selectedRowCellIndexes.length>1)?" e-spanclicked":""))},e.prototype.rowCellSelectionHandler=function(e,t){!this.isMultiCtrlRequest&&!this.isMultiShiftRequest||this.isSingleSel()?(this.isDragged||this.selectRow(e,this.selectionSettings.enableToggle),this.selectCell({rowIndex:e,cellIndex:t},this.selectionSettings.enableToggle),this.selectedRowCellIndexes.length&&this.updateAutoFillPosition(),this.drawBorders()):this.isMultiShiftRequest?(this.parent.isCheckBoxSelection||!this.parent.isCheckBoxSelection&&!(0,r.kp)(this.target,"."+a.Jt).classList.contains(a.yM)?this.selectRowsByRange((0,r.b0)(this.prevRowIndex)?e:this.prevRowIndex,e):this.addRowsToSelection([e]),this.selectCellsByRange((0,r.b0)(this.prevCIdxs)?{rowIndex:e,cellIndex:t}:this.prevCIdxs,{rowIndex:e,cellIndex:t}),this.updateAutoFillPosition(),this.drawBorders()):(this.addRowsToSelection([e]),this.addCellsToSelection([{rowIndex:e,cellIndex:t}]),this.showHideBorders("none")),this.isDragged=!1},e.prototype.onCellFocused=function(e){if(this.parent.frozenRows&&e.container.isHeader&&e.byKey)if("upArrow"===e.keyArgs.action)this.parent.allowFiltering?e.isJump="INPUT"===e.element.tagName:e.isJump="TH"===e.element.tagName;else if("downArrow"===e.keyArgs.action){var t=Number(e.element.parentElement.getAttribute(a.E3));e.isJump=0===t}else"ctrlHome"===e.keyArgs.action&&(e.isJump=!0);var i=this.parent.isFrozenGrid()?(e.container.isHeader&&"TD"!==e.element.tagName&&e.isJump&&!this.selectionSettings.allowColumnSelection||(e.container.isContent||"TD"===e.element.tagName)&&!(e.container.isSelectable||"TD"===e.element.tagName))&&!(e.byKey&&"space"===e.keyArgs.action):(e.container.isHeader&&e.isJump||e.container.isContent&&!e.container.isSelectable)&&!(e.byKey&&"space"===e.keyArgs.action)&&!(e.element.classList.contains("e-detailrowexpand")||e.element.classList.contains("e-detailrowcollapse")),n=e.container.isHeader&&"TD"!==e.element.tagName&&!(0,r.kp)(e.element,"."+a.Jt)&&!(e.byKey&&"space"===e.keyArgs.action);if(e.byKey&&!i){var o=e.container.isContent?e.container.indexes:e.indexes,s=o[0],l=o[1],h=this.focus.getPrevIndexes();if(this.parent.frozenRows)if(e.container.isHeader&&("TD"===e.element.tagName||(0,r.kp)(e.element,"."+a.Jt))){var c=this.parent.getHeaderTable().querySelector("thead").childElementCount;s-=c,h.rowIndex=(0,r.hX)(h.rowIndex)?null:h.rowIndex-c}else s+=this.parent.frozenRows,h.rowIndex=0!==h.rowIndex&&(0,r.hX)(h.rowIndex)?null:h.rowIndex+this.parent.frozenRows;if(this.parent.isFrozenGrid()){var p=Number(e.element.getAttribute(a.ql)),d=this.parent.getSelectedRowCellIndexes();d.length&&0===h.cellIndex&&(h.cellIndex=d[d.length-1].cellIndexes[0]),h.cellIndex=(0,r.hX)(h.cellIndex)?null:h.cellIndex===l?p:p-1,l=p}if(this.parent.enableInfiniteScrolling&&this.parent.infiniteScrollSettings.enableCache&&(s=parseInt(e.element.parentElement.getAttribute("aria-rowindex"),10)),!(n||-1===["ctrlPlusA","escape"].indexOf(e.keyArgs.action)&&"space"!==e.keyArgs.action&&s===h.rowIndex&&l===h.cellIndex)||this.selectionSettings.allowColumnSelection){this.preventFocus=!0;var u=this.getKeyColIndex(e);switch(this.needColumnSelection&&(l=u),e.keyArgs.action){case"downArrow":case"upArrow":case"enter":case"shiftEnter":this.target=e.element,this.isKeyAction=!0,this.applyDownUpKey(s,l);break;case"rightArrow":case"leftArrow":this.applyRightLeftKey(s,l);break;case"shiftDown":case"shiftUp":this.shiftDownKey(s,l);break;case"shiftLeft":case"shiftRight":this.applyShiftLeftRightKey(s,l);break;case"home":case"end":l="end"===e.keyArgs.action?this.getLastColIndex(s):0,this.applyHomeEndKey(s,l);break;case"ctrlHome":case"ctrlEnd":this.applyCtrlHomeEndKey(s,l);break;case"escape":this.clearSelection();break;case"ctrlPlusA":this.ctrlPlusA();break;case"space":this.applySpaceSelection(e.element);break;case"tab":this.parent.editSettings.allowNextRowEdit&&this.selectRow(s)}this.needColumnSelection=!1,this.preventFocus=!1,this.positionBorders(),this.updateAutoFillPosition()}}else i&&!this.parent.isCheckBoxSelection&&this.clearSelection()},e.prototype.getKeyColIndex=function(e){var t,i=null,r=e.element.querySelector(".e-stackedheadercelldiv");if(this.selectionSettings.allowColumnSelection&&(0,o.oC)(e.element,"e-columnheader"))if(this.needColumnSelection=!!e.container.isHeader,r){if("rightArrow"===e.keyArgs.action||"leftArrow"===e.keyArgs.action)return i;t=r.getAttribute("e-mappinguid");var n=this.getstackedColumns(this.parent.getColumnByUid(t).columns),s=this.parent.getColumnIndexByUid(n[n.length-1].uid),l=this.parent.getColumnIndexByUid(n[0].uid);i=this.prevColIndex>=s?l:s}else i=this.parent.getColumnIndexByUid(e.element.querySelector(".e-headercelldiv").getAttribute("e-mappinguid"));return i},e.prototype.ctrlPlusA=function(){this.isRowType()&&!this.isSingleSel()&&this.selectRowsByRange(0,this.getCurrentBatchRecordChanges().length-1),this.isCellType()&&!this.isSingleSel()&&this.selectCellsByRange({rowIndex:0,cellIndex:0},{rowIndex:this.parent.getRows().length-1,cellIndex:this.parent.getColumns().length-1})},e.prototype.applySpaceSelection=function(e){e.classList.contains("e-checkselectall")?(this.checkedTarget=e,this.checkSelectAll(this.checkedTarget)):e.classList.contains("e-checkselect")&&(this.checkedTarget=e,this.checkSelect(this.checkedTarget))},e.prototype.applyDownUpKey=function(e,t){var i=this.parent;this.parent.isCheckBoxSelection&&"Check"===this.parent.checkAllRows&&!this.selectionSettings.persistSelection&&(this.checkSelectAllAction(!1),this.checkedTarget=null),this.isRowType()&&(this.parent.frozenRows,this.selectRow(e,!0),this.applyUpDown(i.selectedRowIndex)),this.isCellType()&&this.selectCell({rowIndex:e,cellIndex:t},!0),this.selectionSettings.allowColumnSelection&&this.needColumnSelection&&this.selectColumn(t)},e.prototype.applyUpDown=function(e){if(!(e<0)){this.target||(this.target=this.parent.getRows()[0].children[this.parent.groupSettings.columns.length||0]);var t=parseInt(this.target.getAttribute(a.ql),10),i=this.parent.getFrozenColumns();if(i)this.target=t>=i?this.contentRenderer.getMovableRowByIndex(e).getElementsByClassName(a.Jt)[t-i]:this.contentRenderer.getRowByIndex(e).getElementsByClassName(a.Jt)[t];else{var r=this.contentRenderer.getRowByIndex(e);r&&(this.target=r.getElementsByClassName(a.Jt)[t])}this.addAttribute(this.target)}},e.prototype.applyRightLeftKey=function(e,t){this.selectionSettings.allowColumnSelection&&this.needColumnSelection?this.selectColumn(t):this.isCellType()&&(this.selectCell({rowIndex:e,cellIndex:t},!0),this.addAttribute(this.target))},e.prototype.applyHomeEndKey=function(e,t){this.isCellType()?this.selectCell({rowIndex:e,cellIndex:t},!0):this.addAttribute(this.parent.getCellFromIndex(e,t))},e.prototype.shiftDownKey=function(e,t){this.isMultiShiftRequest=!0,this.isRowType()&&!this.isSingleSel()&&((0,r.b0)(this.prevRowIndex)?this.selectRow(0,!0):(this.selectRowsByRange(this.prevRowIndex,e),this.applyUpDown(e))),this.isCellType()&&!this.isSingleSel()&&this.selectCellsByRange(this.prevCIdxs||{rowIndex:0,cellIndex:0},{rowIndex:e,cellIndex:t}),this.isMultiShiftRequest=!1},e.prototype.applyShiftLeftRightKey=function(e,t){this.isMultiShiftRequest=!0,this.selectionSettings.allowColumnSelection&&this.needColumnSelection?this.selectColumnsByRange(this.prevColIndex,t):this.selectCellsByRange(this.prevCIdxs,{rowIndex:e,cellIndex:t}),this.isMultiShiftRequest=!1},e.prototype.getstackedColumns=function(e){for(var t=[],i=0,r=e.length;i<r;i++)e[i].columns?this.getstackedColumns(e[i].columns):t.push(e[i]);return t},e.prototype.applyCtrlHomeEndKey=function(e,t){this.isRowType()&&(this.selectRow(e,!0),this.addAttribute(this.parent.getCellFromIndex(e,t))),this.isCellType()&&this.selectCell({rowIndex:e,cellIndex:t},!0)},e.prototype.addRemoveClassesForRow=function(e,t,i){for(var r=[],n=3;n<arguments.length;n++)r[n-3]=arguments[n];if(e){var s=[].slice.call(e.getElementsByClassName(a.Jt)),l=e.querySelector(".e-detailrowcollapse")||e.querySelector(".e-detailrowexpand"),h=e.querySelector(".e-rowdragdrop");l&&s.push(l),h&&s.push(h),o.yR.apply(void 0,[s,t].concat(r))}this.getRenderer().setSelection(e?e.getAttribute("data-uid"):null,t,i)},e.prototype.isRowType=function(){return"Row"===this.selectionSettings.mode||"Both"===this.selectionSettings.mode},e.prototype.isCellType=function(){return"Cell"===this.selectionSettings.mode||"Both"===this.selectionSettings.mode},e.prototype.isSingleSel=function(){return"Single"===this.selectionSettings.type},e.prototype.getRenderer=function(){return(0,r.hX)(this.contentRenderer)&&(this.contentRenderer=this.factory.getRenderer(l.nJ.Content)),this.contentRenderer},e.prototype.getSelectedRecords=function(){return this.selectionSettings.persistSelection?this.persistSelectedData:this.parent.getRowsObject().filter((function(e){return e.isSelected})).map((function(e){return e.data}))},e.prototype.selectColumn=function(e){var t=this.parent;if(!(0,r.hX)(t.getColumns()[e])){var i=t.getColumnByIndex(e),n=t.getColumnHeaderByUid(i.uid),o=n.classList.contains("e-columnselection");if(t.selectionSettings.allowColumnSelection){var l=this.selectedColumnsIndexes.length>1&&this.selectedColumnsIndexes.indexOf(e)>-1;if(this.clearColDependency(),!o||!this.selectionSettings.enableToggle||l){var a={columnIndex:e,headerCell:n,column:i,cancel:!1,target:this.actualTarget,isInteracted:this.isInteracted,previousColumnIndex:this.prevColIndex,isCtrlPressed:this.isMultiCtrlRequest,isShiftPressed:this.isMultiShiftRequest};if(this.onActionBegin(a,s.fvJ),a.cancel)return void this.disableInteracted();t.selectionSettings.enableToggle&&e===this.prevColIndex&&o&&!l||this.updateColSelection(n,e);var h={columnIndex:e,headerCell:n,column:i,target:this.actualTarget,isInteracted:this.isInteracted,previousColumnIndex:this.prevColIndex};this.onActionComplete(h,s.Q0g)}this.updateColProps(e)}}},e.prototype.selectColumnsByRange=function(e,t){var i=this.parent;if(!(0,r.hX)(i.getColumns()[e])){var n=[];if("Single"===i.selectionSettings.type||(0,r.hX)(t))n[0]=e;else for(var o=e<t,s=e;o?s<=t:s>=t;o?s++:s--)n.push(s);this.selectColumns(n)}},e.prototype.selectColumns=function(e){var t=this.parent,i=this.getselectedCols();if("Single"===t.selectionSettings.type&&(e=[e[0]]),t.selectionSettings.allowColumnSelection){this.clearColDependency();var r={columnIndex:e[0],headerCell:i,columnIndexes:e,column:t.getColumnByIndex(e[0]),cancel:!1,target:this.actualTarget,isInteracted:this.isInteracted,previousColumnIndex:this.prevColIndex,isCtrlPressed:this.isMultiCtrlRequest,isShiftPressed:this.isMultiShiftRequest};if(this.onActionBegin(r,s.fvJ),r.cancel)this.disableInteracted();else{for(var n=0,o=e.length;n<o;n++)this.updateColSelection(t.getColumnHeaderByUid(t.getColumnByIndex(e[n]).uid),e[n]);i=this.getselectedCols();var l={columnIndex:e[0],headerCell:i,columnIndexes:e,column:t.getColumnByIndex(e[0]),target:this.actualTarget,isInteracted:this.isInteracted,previousColumnIndex:this.prevColIndex};this.onActionComplete(l,s.Q0g),this.updateColProps(e[0])}}},e.prototype.selectColumnWithExisting=function(e){var t=this.parent;if(!(0,r.hX)(t.getColumns()[e])){var i=t.getColumnHeaderByUid(t.getColumnByIndex(e).uid),n=this.getselectedCols();if("Single"===t.selectionSettings.type&&this.clearColDependency(),t.selectionSettings.allowColumnSelection){if(this.selectedColumnsIndexes.indexOf(e)>-1)this.clearColumnSelection(e);else{var o={columnIndex:e,headerCell:n,columnIndexes:this.selectedColumnsIndexes,column:t.getColumnByIndex(e),cancel:!1,target:this.actualTarget,isInteracted:this.isInteracted,previousColumnIndex:this.prevColIndex,isCtrlPressed:this.isMultiCtrlRequest,isShiftPressed:this.isMultiShiftRequest};if(this.onActionBegin(o,s.fvJ),o.cancel)return void this.disableInteracted();this.updateColSelection(i,e);var l={columnIndex:e,headerCell:n=this.getselectedCols(),column:t.getColumnByIndex(e),columnIndexes:this.selectedColumnsIndexes,target:this.actualTarget,isInteracted:this.isInteracted,previousColumnIndex:this.prevColIndex};this.onActionComplete(l,s.Q0g)}this.updateColProps(e)}}},e.prototype.clearColumnSelection=function(e){if(this.isColumnSelected){var t=this.parent;if(!(0,r.hX)(e)&&-1===this.selectedColumnsIndexes.indexOf(e))return;var i=(0,r.hX)(e)?this.selectedColumnsIndexes[this.selectedColumnsIndexes.length-1]:e,n=t.getColumnByIndex(i),l=void 0,h=t.getColumnByIndex(i),c={columnIndex:i,headerCell:l=n.getFreezeTableName()===a.Xg?t.getFrozenRightColumnHeaderByIndex(i):"movable"===n.getFreezeTableName()?t.getMovableColumnHeaderByIndex(i):t.getColumnHeaderByUid(h.uid),columnIndexes:this.selectedColumnsIndexes,column:h,cancel:!1,target:this.actualTarget,isInteracted:this.isInteracted};if(this.columnDeselect(c,s.MLr))return void this.disableInteracted();for(var p=(0,r.hX)(e)?[].slice.call(t.getHeaderContent().getElementsByClassName("e-columnselection")):[l],d=this.getSelectedColumnCells(e),u=0,g=p.length;u<g;u++)(0,o.yR)([p[u]],!1,"e-columnselection");for(u=0,g=d.length;u<g;u++)(0,o.yR)([d[u]],!1,"e-columnselection");(0,r.hX)(e)?(this.columnDeselect(c,s.zTL),this.selectedColumnsIndexes=[],this.isColumnSelected=!1,this.parent.getColumns().filter((function(e){return e.isSelected=!1}))):(this.selectedColumnsIndexes.splice(this.selectedColumnsIndexes.indexOf(e),1),this.parent.getColumns()[e].isSelected=!1)}},e.prototype.getselectedCols=function(){var e,t=this.parent;if(this.selectedColumnsIndexes.length>1){e=[];for(var i=0;i<this.selectedColumnsIndexes.length;i++)e.push(t.getColumnHeaderByUid(t.getColumnByIndex(this.selectedColumnsIndexes[i]).uid))}else e=t.getColumnHeaderByUid(t.getColumnByIndex(this.selectedColumnsIndexes[0]).uid);return e},e.prototype.getSelectedColumnCells=function(e){var t,i,n=this.parent,o=!(0,r.hX)(this.parent.rowTemplate),s=o?n.getRows():n.getDataRows();n.isFrozenGrid()&&n.getContent().querySelector("."+a.S1)&&(t=o?n.getMovableRows():n.getMovableDataRows(),s=n.addMovableRows(s,t),n.getFrozenMode()===a.U0&&(i=o?n.getFrozenRightRows():n.getFrozenRightDataRows(),s=n.addMovableRows(s,i)));for(var l=[],h=(0,r.hX)(e)?".e-columnselection":'[aria-colindex="'+e+'"]',c=0,p=s.length;c<p;c++)l=l.concat([].slice.call(s[c].querySelectorAll(h)));return l},e.prototype.columnDeselect=function(e,t){return"columnDeselected"===t&&delete e.cancel,this.onActionComplete(e,t),e.cancel},e.prototype.updateColProps=function(e){this.prevColIndex=e,this.isColumnSelected=this.selectedColumnsIndexes.length&&!0},e.prototype.clearColDependency=function(){this.clearColumnSelection(),this.selectedColumnsIndexes=[]},e.prototype.updateColSelection=function(e,t){if(!(0,r.hX)(this.parent.getColumns()[t])){var i,n=this.parent.getFrozenLeftCount(),s=this.parent.getMovableColumnsCount(),l=this.parent.getColumnByIndex(t),h=!(0,r.hX)(this.parent.rowTemplate);this.selectedColumnsIndexes.push(t),this.parent.getColumns()[t].isSelected=!0,l.getFreezeTableName()===a.Xg?(t-=n+s,i=h?this.parent.getFrozenRightRows():this.parent.getFrozenRightDataRows()):"movable"===l.getFreezeTableName()?(t-=n,i=h?this.parent.getMovableRows():this.parent.getMovableDataRows()):(t+=this.parent.getIndentCount(),i=h?this.parent.getRows():this.parent.getDataRows()),(0,o.yR)([e],!0,"e-columnselection");for(var c=0,p=i.length;c<p;c++)i[c].classList.contains(a.nM)&&(!i[c].classList.contains(a.QF)&&!i[c].classList.contains(a.jm)||"Normal"!==this.parent.editSettings.mode||(0,r.hX)(i[c].querySelector("tr").childNodes[t])?(0,r.hX)(i[c].childNodes[t])||(0,o.yR)([i[c].childNodes[t]],!0,"e-columnselection"):(0,o.yR)([i[c].querySelector("tr").childNodes[t]],!0,"e-columnselection"))}},e.prototype.headerSelectionHandler=function(e){!this.isMultiCtrlRequest&&!this.isMultiShiftRequest||this.isSingleSel()?this.selectColumn(e):this.isMultiShiftRequest?this.selectColumnsByRange((0,r.b0)(this.prevColIndex)?e:this.prevColIndex,e):this.selectColumnWithExisting(e)},e.prototype.addEventListener_checkbox=function(){var e=this;this.parent.on(s.yUO,this.dataReady,this),this.onDataBoundFunction=this.onDataBound.bind(this),this.parent.addEventListener(s.BPR,this.onDataBoundFunction),this.parent.on(s.UqJ,this.onDataBoundFunction),this.parent.on(s.PRb,this.checkBoxSelectionChanged,this),this.parent.on(s.eAe,this.initPerisistSelection,this),this.parent.on(s.DjW,this.setCheckAllForEmptyGrid,this),this.actionCompleteFunc=this.actionCompleteHandler.bind(this),this.parent.addEventListener(s.wn6,this.actionCompleteFunc),this.parent.on(s.jMr,this.clickHandler,this),this.resizeEndFn=function(){e.updateAutoFillPosition(),e.drawBorders()},this.resizeEndFn.bind(this),this.parent.addEventListener(s.D5n,this.resizeEndFn)},e.prototype.removeEventListener_checkbox=function(){this.parent.off(s.yUO,this.dataReady),this.parent.removeEventListener(s.BPR,this.onDataBoundFunction),this.parent.removeEventListener(s.wn6,this.actionCompleteFunc),this.parent.off(s.UqJ,this.onDataBoundFunction),this.parent.off(s.DjW,this.setCheckAllForEmptyGrid),this.parent.off(s.jMr,this.clickHandler),this.parent.off(s.eAe,this.initPerisistSelection)},e.prototype.setCheckAllForEmptyGrid=function(){var e=this.getCheckAllBox();if(e){this.parent.isCheckBoxSelection=!0;var t=e.nextElementSibling;(0,r.vy)([t],["e-check","e-stop","e-uncheck"])}},e.prototype.dataReady=function(e){this.isHeaderCheckboxClicked=!1;var t=this.parent.enableInfiniteScrolling&&"infiniteScroll"===e.requestType;"virtualscroll"===e.requestType||this.parent.isPersistSelection||t||(this.disableUI=!this.parent.enableImmutableMode,this.clearSelection(),this.setCheckAllState(),this.disableUI=!1)},e.prototype.actionCompleteHandler=function(e){"save"===e.requestType&&this.parent.isPersistSelection&&this.refreshPersistSelection()},e.prototype.selectRowIndex=function(e){this.parent.isSelectedRowIndexUpdating=!0,this.parent.selectedRowIndex=e},e.prototype.disableInteracted=function(){this.isInteracted=!1},e.prototype.activeTarget=function(){this.actualTarget=this.isInteracted?this.actualTarget:null},e}()},669:(e,t,i)=>{i.d(t,{$HR:()=>oe,$uc:()=>R,$uv:()=>I,AuS:()=>V,AyK:()=>se,B4X:()=>Ai,B55:()=>o,BK8:()=>g,BPR:()=>c,Bec:()=>Ut,BxP:()=>Ge,BzX:()=>ve,CDy:()=>Qt,CMI:()=>Mt,CRr:()=>ae,CZL:()=>d,D5n:()=>X,DJw:()=>E,DOO:()=>Jt,DjW:()=>ne,Drr:()=>ii,Dyl:()=>At,EFG:()=>Wt,EJS:()=>A,Eae:()=>tt,Efu:()=>Dt,Enp:()=>Xt,FeU:()=>p,Fsp:()=>Ft,GDE:()=>ut,Gjf:()=>mt,Gq:()=>s,H6j:()=>Et,HT8:()=>Ri,HdL:()=>Ne,Hh6:()=>r,ILy:()=>zt,IcQ:()=>ot,Icx:()=>di,IoC:()=>Ot,Ipu:()=>O,J2F:()=>Ii,JKj:()=>St,JRr:()=>ui,KLC:()=>de,LJ9:()=>dt,Lcf:()=>v,Lmb:()=>oi,MLr:()=>b,MeP:()=>Tt,NKS:()=>Ae,NrV:()=>pt,Nu2:()=>x,O6x:()=>He,OG1:()=>Vt,OIE:()=>st,OK6:()=>G,Oi0:()=>u,Oq3:()=>$,Osn:()=>Te,PKO:()=>wt,PRb:()=>ie,Pkc:()=>bi,Q0g:()=>w,Q3P:()=>rt,QO1:()=>k,Qhs:()=>hi,QzQ:()=>Me,RmN:()=>Ct,T4U:()=>xi,TI6:()=>le,Tgi:()=>_e,U$9:()=>H,UQY:()=>F,USQ:()=>Ze,UUH:()=>Yt,UqJ:()=>zi,VKK:()=>U,VYv:()=>pi,VcE:()=>ft,VxU:()=>Ee,W23:()=>xe,WAF:()=>pe,WB9:()=>It,WE6:()=>qt,WOc:()=>Mi,WSy:()=>Z,WyP:()=>Le,WzR:()=>B,WzS:()=>it,X0B:()=>Y,X5v:()=>z,X9m:()=>Ue,XEZ:()=>Fe,XqS:()=>wi,Y59:()=>j,YAh:()=>qe,YB_:()=>fi,YCh:()=>ce,YKq:()=>Ye,Z1W:()=>Kt,_l_:()=>Pi,_ld:()=>we,a1u:()=>Ie,a6z:()=>Be,a_A:()=>ge,auS:()=>yt,bCZ:()=>je,cGZ:()=>_t,d16:()=>Zt,dWv:()=>q,dZ5:()=>ze,di1:()=>li,djX:()=>Q,dpu:()=>Oe,eAe:()=>ni,eGj:()=>gt,eOl:()=>vt,eYd:()=>l,efc:()=>y,fHr:()=>ci,fJX:()=>ke,fMT:()=>gi,fvJ:()=>C,ghX:()=>bt,glA:()=>$t,gvK:()=>ht,hJm:()=>f,hoW:()=>et,iBX:()=>yi,iMW:()=>vi,jMr:()=>be,jmw:()=>De,jnS:()=>Fi,jnc:()=>We,kB6:()=>_,kYU:()=>ye,kuM:()=>Ke,l5A:()=>Je,lJd:()=>ct,lVf:()=>Pe,lkH:()=>he,m0l:()=>me,m4S:()=>Rt,mKl:()=>J,mUy:()=>ai,ma2:()=>ti,mj2:()=>at,mkw:()=>nt,mrH:()=>Gt,myx:()=>Pt,n9z:()=>si,nDA:()=>Re,nJJ:()=>Xe,nUn:()=>N,nnA:()=>n,oVM:()=>Ti,omZ:()=>mi,pE7:()=>Lt,q1T:()=>kt,qOR:()=>ee,q_6:()=>Qe,qsE:()=>$e,rFs:()=>Nt,rZT:()=>lt,rdj:()=>P,roB:()=>L,sF6:()=>m,sJO:()=>T,uAK:()=>xt,uJh:()=>Ce,uhF:()=>ri,uhc:()=>Si,v5t:()=>M,vEO:()=>ue,vYd:()=>Bt,vwI:()=>W,w7v:()=>Ci,whj:()=>fe,wn6:()=>a,wqT:()=>jt,y0t:()=>ki,yPb:()=>re,yUO:()=>te,yW7:()=>Di,yip:()=>D,z4n:()=>ei,zTL:()=>S,zZt:()=>K,zhl:()=>Ve,zkh:()=>h,zrj:()=>Se,zuH:()=>Ht});var r="load",n="rowDataBound",o="queryCellInfo",s="headerCellInfo",l="actionBegin",a="actionComplete",h="actionFailure",c="dataBound",p="rowSelecting",d="rowSelected",u="rowDeselecting",g="rowDeselected",f="cellSelecting",m="cellSelected",y="cellDeselecting",v="cellDeselected",C="columnSelecting",w="columnSelected",b="columnDeselecting",S="columnDeselected",R="columnDragStart",x="columnDrag",F="columnDrop",M="beforePrint",I="printComplete",T="detailDataBound",A="toolbarClick",k="batchAdd",z="batchCancel",D="batchDelete",P="beforeBatchAdd",E="beforeBatchDelete",L="beforeBatchSave",B="beginEdit",q="cellEdit",H="cellSave",O="cellSaved",N="recordDoubleClick",_="recordClick",V="beforeDataBound",j="beforeOpenAdaptiveDialog",X="resizeStop",G="checkBoxChange",W="beforeCopy",K="beforePaste",J="beforeAutoFill",U="filterchoicerequest",Q="filterafteropen",Z="filterbeforeopen",$="filtersearchbegin",Y="initial-load",ee="initial-end",te="data-ready",ie="content-ready",re="ui-update",ne="on-empty",oe="inbound-model-changed",se="model-changed",le="colgroup-refresh",ae="header-refreshed",he="paging-complete",ce="sorting-complete",pe="filtering-complete",de="searching-complete",ue="grouping-complete",ge="group-aggregates",fe="refresh-footer-rendered",me="rowselected",ye="cellselected",ve="beforecellfocused",Ce="cellfocused",we="key-pressed",be="click",Se="destroy",Re="column-visible-changed",xe="scroll",Fe="column-width-changed",Me="column-position-changed",Ie="rows-added",Te="rows-removed",Ae="column-drag-stop",ke="header-drop",ze="datasource-modified",De="refresh-complete",Pe="dblclick",Ee="toolbar-refresh",Le="bulk-save",Be="auto-col",qe="tooltip-destroy",He="update-data",Oe="save-complete",Ne="delete-complete",_e="prevent-batch",Ve="dialog-destroy",je="crud-Action",Xe="add-delete-Action",Ge="destroy-form",We="double-tap",Ke="freezerender",Je="filterOpen",Ue="filterDialogCreated",Qe="filter-menu-close",Ze="initForeignKeyColumn",$e="getForeignKeyData",Ye="generateQuery",et="showEmptyGrid",tt="foreignKeyData",it="dataStateChange",rt="dataSourceChanged",nt="rtl-updated",ot="beforeFragAppend",st="frozenHeight",lt="textWrapRefresh",at="recordAdded",ht="cancel-Begin",ct="editNextValCell",pt="hierarchyprint",dt="expandchildgrid",ut="printGrid-Init",gt="row-position-changed",ft="batchedit-form",mt="edit-form",yt="before-batch-cancel",vt="batcheditform-rendered",Ct="partial-refresh",wt="beforeCustomFilterOpen",bt="select-virtual-Row",St="columns-prepared",Rt="cbox-filter-begin",xt="cbox-filter-complete",Ft="filter-Prevent",Mt="before-filter-cmenu-open",It="validation-custom-placement",Tt="filter-cbox-value",At="restore-Focus",kt="detail-indentcell-info",zt="virtaul-cell-focus",Dt="virtual-scroll-edit-action-begin",Pt="virtual-scroll-edit-success",Et="virtual-scroll-edit-cancel",Lt="virtual-scroll-edit",Bt="refresh-virtual-cache",qt="edit-reset",Ht="virtual-scroll-add-action-begin",Ot="get-virtual-data",Nt="refresh-infinite-mode-blocks",_t="reset-infinite-blocks",Vt="infinite-scroll-handler",jt="infinite-page-query",Xt="infinite-show-hide",Gt="append-infinite-content",Wt="remove-infinite-rows",Kt="set-infinite-cache",Jt="infinite-edit-handler",Ut="close-filter-dialog",Qt="get-filterbar-operator",Zt="reset-columns",$t="group-cache",Yt="lazy-load-scroll-handler",ei="group-collapse",ti="beforeCheckboxRenderer",ii="refreshResizeHandlers",ri="set-freeze-selection",ni="before-refresh-on-data-change",oi="immutable-batch-cancel",si="check-scroll-reset",li="prevent-frozen-scroll-refresh",ai="next-cell-index",hi="refresh-infinite-current-view-data",ci="filter-dialog-close",pi="refresh-cutsom-filter-ok-button",di="refresh-cutsom-filter-clear-button",ui="render-responsive-cmenu",gi="filter-cmenu-select",fi="custom-filter-close",mi="set-fullscreen-dialog",yi="refresh-Expand-and-Collapse",vi="row-mode-change",Ci="enter-key-handler",wi="set-virtual-page-query",bi="pager-refresh",Si="closeinline",Ri="closebatch",xi="close-edit",Fi="reset-virtual-focus",Mi="before-checkbox-renderer-query",Ii="create-virtual-validation-form",Ti="validate-virtual-form",Ai="destroy-child-grid",ki="sticky-scroll-complete",zi="refresh-infinite-persist-selection",Di="refresh-infinite-editrowindex",Pi="after-filter-column-menu-close"},7784:(e,t,i)=>{var r,n,o,s,l;i.d(t,{P1:()=>s,kv:()=>l,nJ:()=>n,vZ:()=>r}),function(e){e[e.Data=0]="Data",e[e.Header=1]="Header",e[e.Summary=2]="Summary",e[e.GroupSummary=3]="GroupSummary",e[e.CaptionSummary=4]="CaptionSummary",e[e.Filter=5]="Filter",e[e.Indent=6]="Indent",e[e.GroupCaption=7]="GroupCaption",e[e.GroupCaptionEmpty=8]="GroupCaptionEmpty",e[e.Expand=9]="Expand",e[e.HeaderIndent=10]="HeaderIndent",e[e.StackedHeader=11]="StackedHeader",e[e.DetailHeader=12]="DetailHeader",e[e.DetailExpand=13]="DetailExpand",e[e.CommandColumn=14]="CommandColumn",e[e.DetailFooterIntent=15]="DetailFooterIntent",e[e.RowDragIcon=16]="RowDragIcon",e[e.RowDragHIcon=17]="RowDragHIcon"}(r||(r={})),function(e){e[e.Header=0]="Header",e[e.Content=1]="Content",e[e.Summary=2]="Summary"}(n||(n={})),function(e){e[e.Add=0]="Add",e[e.Edit=1]="Edit",e[e.Update=2]="Update",e[e.Delete=3]="Delete",e[e.Cancel=4]="Cancel",e[e.Print=5]="Print",e[e.Search=6]="Search",e[e.ColumnChooser=7]="ColumnChooser",e[e.PdfExport=8]="PdfExport",e[e.ExcelExport=9]="ExcelExport",e[e.CsvExport=10]="CsvExport",e[e.WordExport=11]="WordExport"}(o||(o={})),function(e){e[e.isEdit=0]="isEdit",e[e.isAdd=1]="isAdd",e[e.isSort=2]="isSort",e[e.isFilter=3]="isFilter"}(s||(s={})),function(e){e[e.isInitial=0]="isInitial",e[e.isSearch=1]="isSearch"}(l||(l={}))},5127:(e,t,i)=>{i.d(t,{xA:()=>Oe});var r=i(8452),n=i(9983),o=i(9064),s=i(3049),l=i(2771),a=i(8147),h=i(969),c=i(669),p=i(4455),d=i(10),u=i(7784),g=i(5545),f=function(){function e(e,t){this.dataState={isPending:!1,resolver:null,group:[]},this.foreignKeyDataState={isPending:!1,resolver:null},this.parent=e,this.serviceLocator=t,this.initDataManager(),this.parent.isDestroyed||"foreignKey"===this.getModuleName()||(this.parent.on(c.a1u,this.addRows,this),this.parent.on(c.eGj,this.reorderRows,this),this.parent.on(c.Osn,this.removeRows,this),this.parent.on(c.dZ5,this.initDataManager,this),this.parent.on(c.zrj,this.destroy,this),this.parent.on(c.O6x,this.crudActions,this),this.parent.on(c.nJJ,this.getData,this),this.parent.on(c.a6z,this.refreshFilteredCols,this),this.parent.on(c.JKj,this.refreshFilteredCols,this))}return e.prototype.reorderRows=function(e){this.dataManager.dataSource.json.splice(e.toIndex,0,this.dataManager.dataSource.json.splice(e.fromIndex,1)[0])},e.prototype.getModuleName=function(){return"data"},e.prototype.initDataManager=function(){var e=this.parent;this.dataManager=e.dataSource instanceof o.M?e.dataSource:(0,r.hX)(e.dataSource)?new o.M:new o.M(e.dataSource),!e.isAngular||e.query instanceof p.X?(this.isQueryInvokedFromData=!0,e.query=e.query instanceof p.X?e.query:new p.X):e.setProperties({query:new p.X},!0)},e.prototype.generateQuery=function(e){var t=this.parent.getQuery().clone();if("ExcludeHidden"===this.parent.columnQueryMode)t.select(this.parent.getColumns().filter((function(e){return!(!0!==e.isPrimaryKey&&!1===e.visible||void 0===e.field)})).map((function(e){return e.field})));else if("Schema"===this.parent.columnQueryMode){for(var i=[],r=this.parent.columns,n=0;n<r.length;n++)i.push(r[n].field);t.select(i)}return this.filterQuery(t),this.searchQuery(t),this.aggregateQuery(t),this.sortQuery(t),(0,h.Gj)(this.parent)?this.virtualGroupPageQuery(t):this.pageQuery(t,e),this.groupQuery(t),t},e.prototype.aggregateQuery=function(e){for(var t=this.parent.aggregates,i=0;i<t.length;i++)for(var r=t[i],n=0;n<r.columns.length;n++)for(var o=r.columns[n],s=o.type instanceof Array?o.type:[o.type],l=0;l<s.length;l++)e.aggregate(s[l].toLowerCase(),o.field);return e},e.prototype.virtualGroupPageQuery=function(e){if(e.queries.length)for(var t=0;t<e.queries.length;t++)"onPage"===e.queries[t].fn&&e.queries.splice(t,1);return e},e.prototype.pageQuery=function(e,t){var i=this.parent,n={query:e,skipPage:!1};if(i.notify(c.XqS,n),n.skipPage)return e;if((i.allowPaging||i.enableVirtualization||i.enableInfiniteScrolling)&&!0!==t){if(i.pageSettings.currentPage=Math.max(1,i.pageSettings.currentPage),i.pageSettings.pageCount<=0&&(i.pageSettings.pageCount=8),i.pageSettings.pageSize<=0&&(i.pageSettings.pageSize=12),e.queries.length)for(var o=0;o<e.queries.length;o++)"onPage"===e.queries[o].fn&&e.queries.splice(o,1);!(0,r.hX)(i.infiniteScrollModule)&&i.enableInfiniteScrolling?this.parent.notify(c.wqT,e):e.page(i.pageSettings.currentPage,i.allowPaging&&i.pagerModule&&i.pagerModule.pagerObj.isAllPage&&!this.dataManager.dataSource.offline?null:i.pageSettings.pageSize)}return e},e.prototype.groupQuery=function(e){var t=this.parent;if(t.allowGrouping&&t.groupSettings.columns.length){this.parent.groupSettings.enableLazyLoading&&e.lazyLoad.push({key:"isLazyLoad",value:this.parent.groupSettings.enableLazyLoading});for(var i=t.groupSettings.columns,r=0,n=i.length;r<n;r++){var o=this.getColumnByField(i[r]);o||this.parent.log("initial_action",{moduleName:"group",columnName:i[r]});var s=o.enableGroupByFormat,l=o.format;s?e.group(i[r],this.formatGroupColumn.bind(this),l):e.group(i[r],null)}}return e},e.prototype.sortQuery=function(e){var t=this.parent;if((t.allowSorting||t.allowGrouping)&&t.sortSettings.columns.length){for(var i=t.sortSettings.columns,r=[],n=i.length-1;n>-1;n--){if(!(l=this.getColumnByField(i[n].field)))return this.parent.log("initial_action",{moduleName:"sort",columnName:i[n].field}),e;l.setSortDirection(i[n].direction);var o=i[n].direction;l.sortComparer&&(this.parent.log("grid_sort_comparer"),o=this.isRemote()?i[n].direction:l.sortComparer.bind(l)),-1===t.groupSettings.columns.indexOf(i[n].field)?l.isForeignColumn()||l.sortComparer?e.sortByForeignKey(l.field,o,void 0,i[n].direction.toLowerCase()):e.sortBy(l.field,o):r.push({direction:o,field:l.field})}n=0;for(var s=r.length;n<s;n++)if("string"===typeof r[n].direction)e.sortBy(r[n].field,r[n].direction);else{var l=this.getColumnByField(r[n].field);e.sortByForeignKey(r[n].field,r[n].direction,void 0,l.getSortDirection().toLowerCase())}}return e},e.prototype.searchQuery=function(e,t,i){var r=this.parent.searchSettings,n=r.fields.length?r.fields:this.getSearchColumnFieldNames(),o=[],s=!1;if(this.parent.searchSettings.key.length){s=this.parent.getForeignKeyColumns().some((function(e){return n.indexOf(e.field)>-1}));var l=i?t.dataSource.adaptor:this.dataManager.adaptor;if(s||l.getModuleName&&"ODataV4Adaptor"===l.getModuleName()){n=i?[t.foreignKeyValue]:n;for(var a=0;a<n.length;a++){var h=i?t:this.getColumnByField(n[a]);h.isForeignColumn()&&!i?o=this.fGeneratePredicate(h,o):o.push(new p.m(n[a],r.operator,r.key,r.ignoreCase,r.ignoreAccent))}var c=p.m.or(o);c.key=r.key,e.where(c)}else e.search(r.key,n,r.operator,r.ignoreCase,r.ignoreAccent)}return e},e.prototype.filterQuery=function(e,t,i){var n,o=this.parent,s=[],l=[],a=this.parent.getForeignKeyColumns();if(o.allowFiltering&&o.filterSettings.columns.length){for(var d=t||o.filterSettings.columns,u={},f=0,m=o.getColumns();f<m.length;f++){u[(b=m[f]).field]=b.filter.type?b.filter.type:o.filterSettings.type}for(var y=[],v=[],C=0,w=d;C<w.length;C++){var b=w[C],S=o.getColumnByField(b.field);(0,r.hX)(b.type)&&S&&("date"===S.type||"datetime"===S.type)&&(b.type=o.getColumnByField(b.field).type),b.isForeignKey?y.push(b):v.push(b)}if(v.length){for(var R=0,x=v.length;R<x;R++)v[R].uid=v[R].uid||this.parent.grabColumnByFieldFromAllCols(v[R].field).uid;for(var F=g.d.getPredicate(v),M=0,I=Object.keys(F);M<I.length;M++){var T=I[M];s.push(F[T])}}if(y.length)for(var A=0,k=y;A<k.length;A++){(b=k[A]).uid=b.uid||this.parent.grabColumnByFieldFromAllCols(b.field).uid;var z=this.parent.grabColumnByUidFromAllCols(b.uid);if(z||this.parent.log("initial_action",{moduleName:"filter",columnName:b.field}),z.isForeignColumn()&&(0,h.Cs)(b.field,a)&&!i)l.push(b),z.columnData.length||(n=!0),s=this.fGeneratePredicate(z,s);else{F=g.d.getPredicate(d);for(var D=0,P=Object.keys(F);D<P.length;D++){T=P[D];s.push(F[T])}}}s.length&&!n?e.where(p.m.and(s)):this.parent.notify(c.hoW,{})}return e},e.prototype.fGeneratePredicate=function(e,t){var i={};return e&&(this.parent.notify(c.YKq,{predicate:i,column:e}),i.predicate.predicates.length&&t.push(i.predicate)),t},e.prototype.getData=function(e,t){var i=this;void 0===e&&(e={requestType:""});var n=this.getKey(e.foreignKeyData&&Object.keys(e.foreignKeyData).length?e.foreignKeyData:this.parent.getPrimaryKeyFieldNames());if(this.parent.log("datasource_syntax_mismatch",{dataState:this.parent}),this.parent.dataSource&&"result"in this.parent.dataSource)return this.eventPromise(e,t,n).promise;var o=void 0;switch(e.requestType){case"delete":if(t=t||this.generateQuery(),1===Object.keys(e.data).length)o=this.dataManager.remove(n,e.data[0],t.fromTable,t);else{var s={addedRecords:[],deletedRecords:[],changedRecords:[]};s.deletedRecords=e.data,o=this.dataManager.saveChanges(s,n,t.fromTable,t.requiresCount())}break;case"save":t=t||this.generateQuery(),e.index=(0,r.hX)(e.index)?0:e.index,o=this.dataManager.insert(e.data,t.fromTable,t,e.index)}return e.promise=o,!o||Array.isArray(o)||o.hasOwnProperty("deletedRecords")?this.insert(t,e):o.then((function(){return i.insert(t,e)}))},e.prototype.insert=function(e,t){return"save"===t.requestType&&this.parent.notify(c.mj2,t),this.executeQuery(e)},e.prototype.executeQuery=function(e){var t=this;if(this.dataManager.ready){var i=new o.c;return this.dataManager.ready.then((function(){t.dataManager.executeQuery(e).then((function(e){i.resolve(e)}))})).catch((function(e){i.reject(e)})),i.promise}return this.dataManager.executeQuery(e)},e.prototype.formatGroupColumn=function(e,t){var i=this.serviceLocator,n=this.getColumnByField(t),o=e;return n.type||(n.type=o.getDay?o.getHours()>0||o.getMinutes()>0||o.getSeconds()>0||o.getMilliseconds()>0?"datetime":"date":typeof e),(0,r.hX)(n.getFormatter())&&(0,h.ni)(i,n),d.c.prototype.toView(e,n.getFormatter())},e.prototype.crudActions=function(e){var t=this.generateQuery(),i=null,r="promise",n=this.getKey(e.foreignKeyData&&Object.keys(e.foreignKeyData).length?e.foreignKeyData:this.parent.getPrimaryKeyFieldNames());if(this.parent.dataSource&&"result"in this.parent.dataSource&&this.eventPromise(e,t,n),"save"===e.requestType)i=this.dataManager.update(n,e.data,t.fromTable,t,e.previousData);e[r]=i||e[r],this.parent.notify(c.bCZ,e)},e.prototype.saveChanges=function(e,t,i,r){if(void 0===r&&(r=this.generateQuery()),r.requiresCount(),"result"in this.parent.dataSource){var n=new o.c,s={requestType:"batchsave",changes:e,key:t,query:r,endEdit:n.resolve};return this.setState({isPending:!0,resolver:n.resolve}),this.parent.trigger(c.Q3P,s),n.promise}return this.dataManager.saveChanges(e,t,r.fromTable,r,i)},e.prototype.getKey=function(e){if(e&&e.length)return e[0]},e.prototype.isRemote=function(){return!0!==this.dataManager.dataSource.offline&&void 0!==this.dataManager.dataSource.url&&""!==this.dataManager.dataSource.url},e.prototype.addRows=function(e){for(var t=e.records.length;t>0;t--)this.dataManager.dataSource.json.splice(e.toIndex,0,e.records[t-1])},e.prototype.removeRows=function(e){var t=this.dataManager.dataSource.json;this.dataManager.dataSource.json=t.filter((function(t){return-1===e.records.indexOf(t)}))},e.prototype.getColumnByField=function(e){var t;return this.parent.columnModel.some((function(i){return t=i,i.field===e}))&&t},e.prototype.destroy=function(){this.parent.isDestroyed||(this.parent.off(c.a1u,this.addRows),this.parent.off(c.Osn,this.removeRows),this.parent.off(c.dZ5,this.initDataManager),this.parent.off(c.zrj,this.destroy),this.parent.off(c.O6x,this.crudActions),this.parent.off(c.nJJ,this.getData),this.parent.off(c.a6z,this.refreshFilteredCols),this.parent.off(c.JKj,this.refreshFilteredCols))},e.prototype.getState=function(){return this.dataState},e.prototype.setState=function(e){return this.dataState=e},e.prototype.getForeignKeyDataState=function(){return this.foreignKeyDataState},e.prototype.setForeignKeyDataState=function(e){this.foreignKeyDataState=e},e.prototype.getStateEventArgument=function(e){var t=new s.V5,i=new o.M({url:"",adaptor:new s.V5}),n=t.processQuery(i,e),l=JSON.parse(n.data);return(0,r.X$)(l,n.pvtData)},e.prototype.eventPromise=function(e,t,i){var r=this,n=e,s=this.getStateEventArgument(t),l=new o.c,a=new o.c;if(void 0!==e.requestType&&!1!==this.dataState.isDataChanged)if(s.action=e,"save"===e.requestType||"delete"===e.requestType){var h=e;h.key=i;h.promise=a.promise,h.state=s,this.setState({isPending:!0,resolver:a.resolve}),n.endEdit=a.resolve,n.cancelEdit=a.reject,this.parent.trigger(c.Q3P,h),a.promise.then((function(){r.setState({isPending:!0,resolver:l.resolve,group:s.group,aggregates:s.aggregates}),"save"===h.requestType&&r.parent.notify(c.mj2,h),r.parent.trigger(c.WzS,s)})).catch((function(){}))}else this.setState({isPending:!0,resolver:l.resolve,group:s.group,aggregates:s.aggregates}),this.parent.trigger(c.WzS,s);else this.setState({}),l.resolve(this.parent.dataSource);return l},e.prototype.getSearchColumnFieldNames=function(){for(var e=[],t=0,i=this.parent.getColumns();t<i.length;t++){var n=i[t];n.allowSearching&&!(0,r.hX)(n.field)&&e.push(n.field)}return e},e.prototype.refreshFilteredCols=function(){this.parent.allowFiltering&&this.parent.filterSettings.columns.length&&(0,h.UI)(this.parent,this.parent.filterSettings.columns)},e}(),m=i(5770),y=i(7514),v=i(151),C=i(5631),w=i(7820),b=i(484),S=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function r(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),R=function(){function e(e){this.parent=e}return e.prototype.getData=function(){for(var e=this,t=[],i=this.parent.aggregates.slice(),r=0;r<i.length;r++){var n=i[r].columns.filter((function(t){return!(t.footerTemplate||t.groupFooterTemplate||t.groupCaptionTemplate)||e.columnSelector(t)}));n.length&&t.push({columns:n})}return t},e.prototype.columnSelector=function(e){return void 0!==e.footerTemplate},e.prototype.getColumns=function(e,t){var i=[];if(this.parent.allowGrouping)for(var n=0;n<this.parent.groupSettings.columns.length;n++)i.push(new m.VP({}));return!this.parent.detailTemplate&&(0,r.hX)(this.parent.childGrid)||i.push(new m.VP({})),this.parent.isRowDragable()&&!e&&i.push(new m.VP({})),i.push.apply(i,this.parent.getColumns()),t=t&&!e?t+this.parent.getIndentCount():t,(0,r.hX)(e)?i:i.slice(e,t)},e.prototype.generateRows=function(e,t,i,r,n){if(0===e.length&&(void 0===t||!t.count))return[];for(var o=this.buildSummaryData(e,t),s=[],l=this.getData(),a=0;a<l.length;a++)s.push(this.getGeneratedRow(l[a],o[a],t?t.level:void 0,i,r,t?t.parentUid:void 0,n));return s},e.prototype.getGeneratedRow=function(e,t,i,n,o,s,l){var a=[],c=this.getIndentByLevel(),p=!(0,r.hX)(this.parent.childGrid),d=n?0:this.parent.getIndentCount();this.parent.isRowDragable()&&!n&&(c=["e-indentcelltop"]);for(var g=l||this.getColumns(n,o),f=0;f<g.length;f++)a.push(this.getGeneratedCell(g[f],e,f>=d?this.getCellType():f<this.parent.groupSettings.columns.length?u.vZ.Indent:u.vZ.DetailFooterIntent,c[f],p));var m=new y.f({data:t,attributes:{class:"e-summaryrow"}});return m.cells=a,m.uid=(0,h.v6)("grid-row"),m.parentUid=s,m.isAggregateRow=!0,m.visible=a.some((function(e){return e.isDataCell&&e.visible})),m},e.prototype.getGeneratedCell=function(e,t,i,n,o){var s=t.columns.filter((function(t){return t.columnName===e.field}))[0],l={style:{textAlign:e.textAlign},"e-mappinguid":e.uid,index:e.index};n&&(l.class=n),(0,r.hX)(n)&&o&&(l.class="e-detailindentcelltop");var a={visible:e.visible,isDataCell:!(0,r.hX)(s),isTemplate:s&&!(0,r.hX)(s.footerTemplate||s.groupFooterTemplate||s.groupCaptionTemplate),column:s||{},attributes:l,cellType:i};return a.column.headerText=e.headerText,new v.f(a)},e.prototype.buildSummaryData=function(e,t){for(var i=[],r=this.getData(),n={},o=0;o<r.length;o++){n={};for(var s=r[o].columns,l=0;l<s.length;l++)n=this.setTemplate(s[l],t&&t.aggregates?t:e,n);i.push(n)}return i},e.prototype.getIndentByLevel=function(){return this.parent.groupSettings.columns.map((function(){return"e-indentcelltop"}))},e.prototype.setTemplate=function(e,t,i){var n=e.type,o={},s=e.getFormatter()||function(e){return e},l=t;n instanceof Array||(n=[e.type]);for(var a=0;a<n.length;a++){var c=e.field+" - "+n[a].toLowerCase(),p=e.columnName,d="Custom"!==n[a]&&l.aggregates&&c in l.aggregates?l.aggregates[c]:(0,h.e5)(n[a],l.aggregates?l:t,e,this.parent);i[p]=i[p]||{},i[p][c]=d,i[p][n[a]]=(0,r.hX)(d)?" ":s(d),l.field&&(i[p].field=l.field,i[p].key=l.key)}return o.format=e.getFormatter(),e.setTemplate(o),i},e.prototype.getCellType=function(){return u.vZ.Summary},e}(),x=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return S(t,e),t.prototype.columnSelector=function(e){return void 0!==e.groupFooterTemplate},t.prototype.getIndentByLevel=function(e){return void 0===e&&(e=this.parent.groupSettings.columns.length),this.parent.groupSettings.columns.map((function(t,i){return i<=e-1?"":"e-indentcelltop"}))},t.prototype.getCellType=function(){return u.vZ.GroupSummary},t}(R),F=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return S(t,e),t.prototype.columnSelector=function(e){return void 0!==e.groupCaptionTemplate},t.prototype.getData=function(){return[e.prototype.getData.call(this).reduce((function(e,t){return e.columns=e.columns.concat(t.columns),e}),{columns:[]})]},t.prototype.isEmpty=function(){return 0===(this.getData()[0].columns||[]).length},t.prototype.getCellType=function(){return u.vZ.CaptionSummary},t}(R),M=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function r(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),I=function(e){function t(t){var i=e.call(this,t)||this;return i.rows=[],i.index=0,i.infiniteChildCount=0,i.renderInfiniteAgg=!0,i.parent=t,i.summaryModelGen=new x(t),i.captionModelGen=new F(t),i}return M(t,e),t.prototype.generateRows=function(t,i){if(0===this.parent.groupSettings.columns.length)return e.prototype.generateRows.call(this,t,i);this.isInfiniteScroll="infiniteScroll"===i.requestType,this.rows=[],this.index=this.parent.enableVirtualization||this.isInfiniteScroll?i.startIndex:0;for(var r=0,n=t.length;r<n;r++)this.infiniteChildCount=0,this.renderInfiniteAgg=!0,this.getGroupedRecords(0,t[r],t.level,r,void 0,this.rows.length);return this.index=0,this.parent.isCollapseStateEnabled()&&this.ensureRowVisibility(),this.rows},t.prototype.getGroupedRecords=function(e,t,i,n,o,s,l){var a,h=i;if((0,r.hX)(t.items))if((0,r.hX)(t.GroupGuid))this.rows=this.rows.concat(this.generateDataRows(t,e,n,this.rows.length,l));else for(var c=0,p=t.length;c<p;c++)this.getGroupedRecords(e,t[c],t.level,n,e,this.rows.length,l);else{var d=void 0,u=this.generateCaptionRow(t,e,n,o,s,l);if(this.isInfiniteScroll&&(d=this.getPreCaption(e,u.data.key)),d?u.uid=d.uid:this.rows=this.rows.concat(u),t.items&&t.items.length&&this.getGroupedRecords(e+1,t.items,t.items.level,n,e+1,this.rows.length,u.uid),this.parent.aggregates.length&&this.isRenderAggregate(u)){var g=this.rows.length;(a=this.rows).push.apply(a,this.summaryModelGen.generateRows(t,{level:h,parentUid:u.uid}));for(var f=g-1;f>=0;f--)if(this.rows[f].isCaptionRow)this.rows[f].aggregatesCount=this.rows.length-g;else if(!this.rows[f].isCaptionRow&&!this.rows[f].isDataRow)break}d&&this.setInfiniteRowVisibility(d)}},t.prototype.isRenderAggregate=function(e){return this.parent.enableInfiniteScrolling?!!this.renderInfiniteAgg&&(this.getPreCaption(e.indent,e.data.key),this.renderInfiniteAgg=e.data.count===this.infiniteChildCount,this.renderInfiniteAgg):!this.parent.enableInfiniteScrolling},t.prototype.getPreCaption=function(e,t){var i,r=this.parent.getRowsObject().concat(this.rows);this.infiniteChildCount=0;for(var n=r.length;n--&&(r[n].isCaptionRow&&r[n].indent===e&&r[n].data.key===t&&(i=r[n]),!(r[n].indent===e||r[n].indent<e));)r[n].indent===e+1&&this.infiniteChildCount++;return i},t.prototype.getCaptionRowCells=function(e,t,i){var n=[],o=[],s=this.parent.getColumnByField(e),l=this.parent.getColumnIndexesInView();this.parent.enableColumnVirtualization&&(s=this.parent.columns.filter((function(t){return t.field===e}))[0]);var a=this.parent.groupSettings.columns.length,h=this.parent;if(!this.parent.enableColumnVirtualization||-1!==l.indexOf(t)){for(var c=0;c<t;c++)n.push(this.generateIndentCell());n.push(this.generateCell({},null,u.vZ.Expand))}if(t=this.parent.enableColumnVirtualization?1:this.parent.getVisibleColumns().length+a+(h.detailTemplate||h.childGrid?1:0)-t+(this.parent.getVisibleColumns().length?-1:0),this.parent.aggregates.length&&!this.captionModelGen.isEmpty()){var p=this.captionModelGen.generateRows(i)[0];(0,r.X$)(i,p.data);var d=0;p.cells.some((function(e,t){return d=t,e.visible&&e.isDataCell})),o=p.cells.slice(d).filter((function(e){return e.visible})),p.visible&&o[0].column.field===this.parent.getVisibleColumns()[0].field&&(o=o.slice(1)),1===this.parent.getVisibleColumns().length&&(o=[]),t-=o.length}for(var g=this.parent.enableColumnVirtualization?this.parent.getColumns():[s],f=!0,m=0;m<g.length;m++){var y=f&&-1!==l.indexOf(t);y&&(f=!1);var v=!this.parent.enableColumnVirtualization||y?u.vZ.GroupCaption:u.vZ.GroupCaptionEmpty;t=this.parent.enableColumnVirtualization&&v===u.vZ.GroupCaption?t+a:t,h.isRowDragable()&&t++,n.push(this.generateCell(s,null,v,t))}return n.push.apply(n,o),n},t.prototype.generateCaptionRow=function(e,t,i,n,o,s){var l={},a="records",c=this.parent.getColumnByField(e.field);l.data=(0,r.X$)({},e),c&&(l.data.field=e.field),l.isDataRow=!1,l.isExpand=!this.parent.groupSettings.enableLazyLoading&&!this.parent.isCollapseStateEnabled(),l.parentGid=i,l.childGid=n,l.tIndex=o,l.isCaptionRow=!0,l.parentUid=s,l.gSummary=(0,r.hX)(e.items[a])?e.items.length:e.items[a].length,l.uid=(0,h.v6)("grid-row");var p=new y.f(l);return p.indent=t,this.getForeignKeyData(p),p.cells=this.getCaptionRowCells(e.field,t,p.data),p},t.prototype.getForeignKeyData=function(e){var t=e.data,i=this.parent.getColumnByField(t.field);if(i&&i.isForeignColumn&&i.isForeignColumn()){var n=(0,r.hX)(t.key)?"":i.valueAccessor(i.foreignKeyValue,(0,h.Fq)(i,{},t.key)[0],i);(0,r.KY)("foreignKey",n,e.data)}},t.prototype.generateDataRows=function(e,t,i,r,n){for(var o=[],s=this.parent.getColumnIndexesInView(),l=0,a=e.length;l<a;l++,r++){o[l]=this.generateRow(e[l],this.index,l?void 0:"e-firstchildrow",t,i,r,n);for(var h=0;h<t;h++)this.parent.enableColumnVirtualization&&-1===s.indexOf(t)||o[l].cells.unshift(this.generateIndentCell());this.index++}return o},t.prototype.generateIndentCell=function(){return this.generateCell({},null,u.vZ.Indent)},t.prototype.refreshRows=function(e){for(var t=this.parent.getColumnIndexesInView(),i=0;i<e.length;i++)if(e[i].isDataRow){e[i].cells=this.generateCells(e[i]);for(var r=0;r<e[i].indent;r++)this.parent.enableColumnVirtualization&&-1===t.indexOf(e[i].indent)||e[i].cells.unshift(this.generateIndentCell())}else{var n=this.generateCaptionRow(e[i].data,e[i].indent);e[i].cells=n.cells}return e},t.prototype.setInfiniteRowVisibility=function(e){if(!e.isExpand||!1===e.visible)for(var t=0,i=this.rows;t<i.length;t++){var r=i[t];r.parentUid===e.uid&&(r.visible=!1,r.isCaptionRow&&this.setInfiniteRowVisibility(r))}},t.prototype.ensureRowVisibility=function(){for(var e=0;e<this.rows.length;e++){var t=this.rows[e];if(t.isCaptionRow)for(var i=e+1;i<this.rows.length;i++){var r=this.rows[i];t.uid===r.parentUid&&(this.rows[i].visible=t.isExpand)}}},t}(b.Z),T=i(6425),A=function(){function e(e,t){var i=this;this.rows=[],this.freezeRows=[],this.movableRows=[],this.freezeRowElements=[],this.currentInfo={},this.prevCurrentView=[],this.isLoaded=!0,this.viewColIndexes=[],this.drop=function(e){i.parent.notify(c.UQY,{target:e.target,droppedElement:e.droppedElement}),(0,r.TF)(e.droppedElement)},this.infiniteCache={},this.isRemove=!1,this.visibleRows=[],this.visibleFrozenRows=[],this.rightFreezeRows=[],this.isAddRows=!1,this.isInfiniteFreeze=!1,this.useGroupCache=!1,this.rafCallback=function(e){var t=e;return function(){if(i.parent.isFrozenGrid()&&i.parent.enableVirtualization){var r=e.tableName;if(i.isLoaded=i.parent.getFrozenMode()===T.U0?"frozen-right"===r:"movable"===r,i.parent.enableColumnVirtualization&&"virtualscroll"===e.requestType&&i.isLoaded){var n=[].slice.call(i.parent.getMovableVirtualHeader().getElementsByClassName(T.nM)),o=[].slice.call(i.parent.getFrozenVirtualHeader().getElementsByClassName(T.nM));i.isLoaded=n.length===o.length}}if(i.ariaService.setBusy(i.getPanel().querySelector("."+T.Qs),!1),!i.parent.isDestroyed){var s=i.rows.slice(0);if(i.parent.enableInfiniteScrolling){s=i.parent.getRowsObject();var l=t.prevPage;if(i.parent.infiniteScrollSettings.enableCache&&l){var a=i.parent.infiniteScrollSettings.maxBlocks;s=[];for(var h=parseInt(i.rowElements[0].getAttribute("aria-rowindex"),10)+1,p=0,d=Math.ceil(h/i.parent.pageSettings.pageSize);p<a;p++,d++)i.infiniteCache[d]&&(s=s.concat(i.infiniteCache[d]))}}if(i.parent.isFrozenGrid()&&(s=e.isFrozen?i.freezeRows:e.renderFrozenRightContent?i.parent.getFrozenRightRowsObject():i.movableRows),i.parent.notify(c.PRb,{rows:s,args:t}),i.isLoaded&&(i.parent.isManualRefresh=!1,i.parent.trigger(c.BPR,{},(function(){i.parent.allowTextWrap&&i.parent.notify(c.kuM,{case:"textwrap"})}))),t){var u=(t.requestType||"").toLowerCase()+"-complete";i.parent.notify(u,t),"batchsave"===e.requestType&&(e.cancel=!1,i.parent.trigger(c.wn6,e))}i.isLoaded&&i.parent.hideSpinner()}}},this.parent=e,this.serviceLocator=t,this.ariaService=this.serviceLocator.getService("ariaService"),this.parent.enableDeepCompare=this.parent.getDataModule().isRemote(),this.generator=this.getModelGenerator(),this.parent.isDestroyed||(this.parent.enableColumnVirtualization||this.parent.enableVirtualization||this.parent.groupSettings.enableLazyLoading||this.parent.on(c.nDA,this.setVisible,this),this.parent.on(c.TI6,this.colGroupRefresh,this),this.parent.on(c.yPb,this.enableAfterRender,this),this.parent.on(c.rFs,this.refreshContentRows,this),this.parent.on(c.BzX,this.beforeCellFocused,this),this.parent.on(c.zrj,this.droppableDestroy,this))}return e.prototype.beforeCellFocused=function(e){!e.byKey||"upArrow"!==e.keyArgs.action&&"downArrow"!==e.keyArgs.action?this.pressedKey=void 0:this.pressedKey=e.keyArgs.action},e.prototype.renderPanel=function(){var e=this.parent,t=this.parent.element.querySelector("."+T.iV);if(t)return this.ariaService.setOptions(this.parent.element.querySelector("."+T.Qs),{busy:!1}),void this.setPanel(t);t=this.parent.createElement("div",{className:T.iV});var i=this.parent.createElement("div",{className:T.Qs});this.ariaService.setOptions(i,{busy:!1}),t.appendChild(i),this.setPanel(t),e.element.appendChild(t)},e.prototype.renderTable=function(){var e=this.getPanel(),t=e.querySelector(".e-virtualtable"),i=e.querySelector(".e-virtualtrack");!this.parent.enableVirtualization||(0,r.hX)(t)||(0,r.hX)(i)||((0,r.TF)(t),(0,r.TF)(i)),e.appendChild(this.createContentTable("_content_table")),this.setTable(e.querySelector("."+T.tp)),this.ariaService.setOptions(this.getTable(),{multiselectable:"Multiple"===this.parent.selectionSettings.type}),this.initializeContentDrop(),this.parent.frozenRows&&this.parent.getHeaderContent().classList.add("e-frozenhdrcont")},e.prototype.createContentTable=function(e){var t=this.getPanel().firstElementChild;this.getTable()&&(0,r.TF)(this.getTable());var i=t.querySelector("."+T.tp)?t.querySelector("."+T.tp):this.parent.createElement("table",{className:T.tp,attrs:{cellspacing:"0.25px",role:"grid",id:this.parent.element.id+e}});return this.setColGroup(this.parent.getHeaderTable().querySelector(T.uo).cloneNode(!0)),i.appendChild(this.getColGroup()),i.appendChild(this.parent.createElement(T.T_)),t.appendChild(i),t},e.prototype.refreshContentRows=function(e){var t=this;void 0===e&&(e={});var i=this.parent;if(0!==i.currentViewData.length){var n=this.currentMovableRows||i.currentViewData,o=this.parent.contentModule,s=i.isReact&&!(0,r.hX)(i.rowTemplate),l=s?i.createElement(T.T_):document.createDocumentFragment();this.initialPageRecords||(this.initialPageRecords=(0,r.X$)([],n));var a,p,d,u=s?i.createElement(T.T_):document.createDocumentFragment(),g=i.getColumns(),f=i.getFrozenColumns(),m=this.parent.isFrozenGrid(),y=new C.k(this.serviceLocator,null,this.parent),v=this.parent.enableInfiniteScrolling&&"infiniteScroll"===e.requestType;i.notify(c.B4X,{}),this.rowElements=[],this.rows=[];var b,S,R,x=this.getPanel().querySelector("."+T.oL),F=this.getPanel().querySelector("."+T.S1),M=this.getPanel().querySelector("."+T.Qs);(0,h.Gj)(i)&&["sorting","filtering","searching","grouping","ungrouping","reorder"].some((function(t){return e.requestType===t}))&&this.emptyVcRows(),this.parent.enableVirtualization&&this.parent.isFrozenGrid()?(this.parent.enableColumnVirtualization&&"virtualscroll"===e.requestType&&"X"===e.virtualInfo.sentinelInfo.axis&&(R=this.parent.contentModule.generateRows(n,e),e.renderMovableContent=!0),R=this.parent.contentModule.generateRows(n,e)):(R=this.checkCache(R,e),this.isAddRows||this.useGroupCache||(R=this.generator.generateRows(n,e))),this.setGroupCache(R,e),this.parent.notify(c.Z1W,{isInfiniteScroll:v,modelData:R,args:e});var I=R[0].cells[0].index;m&&(S=o.setTbody(R,e),b=o.getTbody(S));var A=this.parent.getFrozenMode()===T.U0&&S===T.Xg;if("infiniteScroll"!==e.requestType&&this.parent.registeredTemplate&&this.parent.registeredTemplate.template&&!e.isFrozen&&!A){for(var k=[],z=0;z<this.parent.registeredTemplate.template.length;z++)for(var D=0;D<this.parent.registeredTemplate.template[z].rootNodes.length;D++)(0,r.hX)(this.parent.registeredTemplate.template[z].rootNodes[D].parentNode)&&k.push(this.parent.registeredTemplate.template[z]);this.parent.destroyTemplate(["template"],k)}if((this.parent.isReact||this.parent.isVue)&&"infiniteScroll"!==e.requestType&&!e.isFrozen){var P=[this.parent.isVue?"template":"columnTemplate","rowTemplate","detailTemplate","captionTemplate","commandsTemplate","groupFooterTemplate","groupCaptionTemplate"];(0,h.Qy)(this.parent,P)}if(this.parent.enableColumnVirtualization)new w.J(this.serviceLocator,this.parent).updateVirtualCells(R);m||(this.tbody=this.getTable().querySelector(T.T_));var E=0,L=!0;if((0,h.Gj)(i)&&i.vcRows.length){var B=(0,r.hX)(e.virtualInfo.offsets)?(0,r.hX)(e.scrollTop)?0:e.scrollTop.top:e.virtualInfo.offsets.top;if(0!==B){for(var q=i.vGroupOffsets,H=i.pageSettings.pageSize/2,O=Object.keys(q).map((function(e){return q[e]})),N=0;N<O.length;N++)if(B<O[N]){if((0,r.hX)(e.virtualInfo)||"up"!==e.virtualInfo.direction){E=N*H,(this.parent.contentModule.isEndBlock(N)||this.parent.contentModule.isEndBlock(N+1))&&(e.virtualInfo.blockIndexes=[N,N+1]);break}E=N>0?(N-1)*H:N*H;break}Math.round(B+this.contentPanel.firstElementChild.offsetHeight)>=this.contentPanel.firstElementChild.scrollHeight&&!e.rowObject&&(L=!1)}}var _=i.frozenRows&&!i.isFrozenGrid()&&this.parent.enableVirtualization&&"reorder"===e.requestType;if(i.frozenRows&&"virtualscroll"===e.requestType&&"X"===e.virtualInfo.sentinelInfo.axis||_){var V=e.virtualInfo.blockIndexes,j=e.virtualInfo.page;e.virtualInfo.blockIndexes=[1,2],_&&(e.virtualInfo.page=1);var X=_?this.initialPageRecords:n,G=this.vgenerator.generateRows(X,e);G.splice(this.parent.frozenRows);for(z=0;z<this.parent.frozenRows;z++)G[z].cells.splice(0,this.parent.getFrozenColumns()),a=y.render(G[z],g),u.appendChild(a);e.virtualInfo.blockIndexes=V,e.virtualInfo.page=j,_&&1===e.virtualInfo.page&&R.splice(0,this.parent.frozenRows)}this.virtualFrozenHdrRefresh(u,R,y,e,n,g);z=E;for(var W=R.length;z<W;z++)if(this.rows.push(R[z]),!this.parent.groupSettings.enableLazyLoading||this.useGroupCache||!this.parent.groupSettings.columns.length||(this.setRowsInLazyGroup(R[z],z),!(0,r.hX)(R[z].indent))){if(this.setInfiniteVisibleRows(e,R[z],S),(0,h.Gj)(i)&&e.virtualInfo&&e.virtualInfo.blockIndexes&&this.rowElements.length>=e.virtualInfo.blockIndexes.length*this.parent.contentModule.getBlockSize()&&L){this.parent.currentViewData.records=this.rows.map((function(e){return e.data}));break}if(i.rowTemplate){var K=i.element.id+"rowTemplate",J=void 0;if(i.isReact){var U=i.frozenRows&&z<i.frozenRows,Q=(0,r.X$)({index:z},n[z]);i.getRowTemplate()(Q,i,"rowTemplate",K,null,null,U?u:l),i.renderTemplates()}else J=i.getRowTemplate()((0,r.X$)({index:z},n[z]),i,"rowTemplate",K);if(i.isReact||"TBODY"!==J[0].tagName)i.frozenRows&&z<i.frozenRows?a=i.isReact?u.lastElementChild:(0,h.Wp)(u,J):(i.isReact||(a=(0,h.Wp)(l,J)),d=i.isReact?l.lastElementChild:a.lastElementChild);else{for(D=0;D<J.length;D++){var Z="tr"===J[D].nodeName.toLowerCase();(Z||J[D].querySelectorAll&&J[D].querySelectorAll("tr").length)&&(a=Z?J[D]:J[D].querySelector("tr"))}i.frozenRows&&z<i.frozenRows?u.appendChild(a):l.appendChild(a)}var $={data:R[z].data,row:d||a};this.parent.trigger(c.nnA,$)}else{a=y.render(R[z],g);var Y=this.ensureFrozenHeaderRender(e);i.frozenRows&&z<i.frozenRows&&!v&&"virtualscroll"!==e.requestType&&Y&&this.ensureVirtualFrozenHeaderRender(e)?u.appendChild(a):l.appendChild(a),R[z].isExpand&&i.notify(c.LJ9,a.cells[i.groupSettings.columns.length])}R[z].isDataRow&&this.rowElements.push(a),this.ariaService.setOptions(this.getTable(),{colcount:i.getColumns().length.toString()})}if(m&&o.splitRows(S),i.frozenRows&&"virtualscroll"!==e.requestType&&!v&&this.ensureVirtualFrozenHeaderRender(e)||"virtualscroll"===e.requestType&&e.virtualInfo.sentinelInfo&&"X"===e.virtualInfo.sentinelInfo.axis)if(p=m?o.getFrozenHeader(S):i.getHeaderTable().querySelector(T.T_),s){var ee=p.parentElement;(0,r.TF)(p),ee.appendChild(u)}else p.innerHTML="",p.appendChild(u);!i.enableVirtualization&&i.frozenRows&&0===I&&M.offsetHeight===Number(i.height)&&(M.style.height=M.offsetHeight-p.offsetHeight+"px"),e.rows=this.rows.slice(0),m&&o.setIsFrozen(e,S),this.index=I,(0,h.Vv)((function(){t.parent.notify(c.IcQ,e);var n=t.parent.enableVirtualization&&t.parent.isFrozenGrid();if(t.parent.enableVirtualization||v||(t.parent.isFrozenGrid()?((0,r.TF)(o.getTbody(S)),b=t.parent.createElement(T.T_)):(t.tbody.innerHTML="",(0,r.TF)(t.tbody),t.tbody=t.parent.createElement(T.T_))),!m||n||t.parent.enableInfiniteScrolling)if(i.rowTemplate&&(0,r.kI)(i.element.id+"rowTemplate","RowTemplate",i),n){if(e.renderFrozenRightContent){var s=i.getContent().querySelector(".e-frozen-right-content").querySelector(T.T_);t.appendContent(s,l,e)}else e.renderMovableContent?(t.appendContent(F.querySelector(T.T_),l,e),e.renderMovableContent=!1):t.appendContent(x.querySelector(T.T_),l,e);t.parent.getFrozenColumns()||o.renderNextFrozentPart(e,S)}else!(0,r.hX)(t.parent.infiniteScrollModule)&&t.parent.enableInfiniteScrolling?(t.isAddRows=!1,t.parent.notify(c.EFG,{args:e}),t.parent.notify(c.mrH,{tbody:b||t.tbody,frag:l,args:e,rows:t.rows,rowElements:t.rowElements,visibleRows:t.visibleRows,tableName:S}),!f&&m&&((i.getFrozenMode()===T.U0||S!==T.qf&&S!==T.Xg)&&(i.getFrozenMode()!==T.U0||S!==T.qf&&"movable"!==S)||t.refreshContentRows((0,r.X$)({},e)))):(t.useGroupCache=!1,t.appendContent(t.tbody,l,e));else t.appendContent(b,l,e,S);f&&o.renderNextFrozentPart(e,S),l=null}),this.rafCallback((0,r.X$)({},e)))}},e.prototype.emptyVcRows=function(){this.parent.vcRows=[],this.parent.vRows=[]},e.prototype.appendContent=function(e,t,i,n){this.parent.isReact&&!(0,r.hX)(this.parent.rowTemplate)?this.getTable().appendChild(t):(e.appendChild(t),this.getTable().appendChild(e))},e.prototype.setRowsInLazyGroup=function(e,t){this.parent.groupSettings.enableLazyLoading&&!this.useGroupCache&&this.parent.groupSettings.columns.length&&this.parent.contentModule.maintainRows(e,t)},e.prototype.setGroupCache=function(e,t){!this.useGroupCache&&this.parent.groupSettings.enableLazyLoading&&this.parent.notify(c.glA,{args:t,data:e})},e.prototype.ensureFrozenHeaderRender=function(e){return!(this.parent.enableVirtualization&&("reorder"===e.requestType||"refresh"===e.requestType)||this.parent.infiniteScrollSettings.enableCache&&this.parent.frozenRows&&"delete"===this.parent.infiniteScrollModule.requestType&&1!==this.parent.pageSettings.currentPage)},e.prototype.ensureVirtualFrozenHeaderRender=function(e){return!(this.parent.enableVirtualization&&"delete"===e.requestType)},e.prototype.checkCache=function(e,t){if(this.parent.infiniteScrollSettings.enableCache&&"infiniteScroll"===t.requestType){var i=t.isFrozen?1:0,n=this.parent.isFrozenGrid();if(this.isAddRows=!(0,r.hX)(this.infiniteCache[this.parent.pageSettings.currentPage]),n&&!(0,r.hX)(this.infiniteCache[this.parent.pageSettings.currentPage])&&(this.isAddRows=0!==this.infiniteCache[this.parent.pageSettings.currentPage][i].length),this.isAddRows){var o=n?this.infiniteCache[this.parent.pageSettings.currentPage][i]:this.infiniteCache[this.parent.pageSettings.currentPage];e=1===this.parent.pageSettings.currentPage?o.slice(this.parent.frozenRows):o}return e}return this.parent.groupSettings.enableLazyLoading&&this.parent.groupSettings.columns.length&&("paging"===t.requestType||"columnstate"===t.requestType||"reorder"===t.requestType)&&this.parent.contentModule.getGroupCache()[this.parent.pageSettings.currentPage]?(this.useGroupCache=!0,this.parent.contentModule.initialGroupRows("reorder"===t.requestType)):null},e.prototype.setInfiniteVisibleRows=function(e,t,i){var r=this.parent.isFrozenGrid();this.parent.enableInfiniteScrolling&&!this.parent.infiniteScrollSettings.enableCache&&(r?i===T.qf||"Right"===this.parent.getFrozenMode()&&i===T.Xg?this.visibleFrozenRows.push(t):"movable"===i?this.visibleRows.push(t):this.rightFreezeRows.push(t):this.parent.infiniteScrollSettings.enableCache||this.visibleRows.push(t))},e.prototype.getCurrentBlockInfiniteRecords=function(e){var t=[];if(this.parent.infiniteScrollSettings.enableCache){if(!Object.keys(this.infiniteCache).length)return[];var i=this.parent.isFrozenGrid(),r=this.parent.getRows(),n=parseInt(r[this.parent.frozenRows].getAttribute(T.E3),10),o=Math.ceil((n+1)/this.parent.pageSettings.pageSize);n=parseInt(r[r.length-1].getAttribute(T.E3),10);var s=Math.ceil(n/this.parent.pageSettings.pageSize);if(i){for(var l=e?0:1,a=o;a<=s;a++)t=t.length?t.concat(this.infiniteCache[a][l]):this.infiniteCache[a][l];this.parent.frozenRows&&this.parent.pageSettings.currentPage>1&&(t=this.infiniteCache[1][l].slice(0,this.parent.frozenRows).concat(t))}else{for(a=o;a<=s;a++)t=t.length?t.concat(this.infiniteCache[a]):this.infiniteCache[a];this.parent.frozenRows&&this.parent.pageSettings.currentPage>1&&(t=this.infiniteCache[1].slice(0,this.parent.frozenRows).concat(t))}}return t},e.prototype.getReorderedVFRows=function(e){return this.parent.contentModule.getReorderedFrozenRows(e)},e.prototype.getReorderedRows=function(e){return this.parent.contentModule.getReorderedFrozenRows(e)},e.prototype.virtualFrozenHdrRefresh=function(e,t,i,r,n,o){if(this.parent.frozenRows&&this.parent.enableVirtualization&&("reorder"===r.requestType||"refresh"===r.requestType)){var s=void 0,l=[];this.parent.isFrozenGrid()?(this.currentMovableRows=n,l=this.getReorderedVFRows(r)):l=this.getReorderedRows(r);for(var a=0;a<l.length;a++)s=i.render(l[a],o),e.appendChild(s);1===r.virtualInfo.page&&t.splice(0,this.parent.frozenRows),r.renderMovableContent&&(this.parent.currentViewData=this.currentMovableRows,this.currentMovableRows=null)}},e.prototype.getInfiniteRows=function(){var e=[],t=this.parent.isFrozenGrid();if(this.parent.enableInfiniteScrolling)if(this.parent.infiniteScrollSettings.enableCache)for(var i=Object.keys(this.infiniteCache),r=0;r<i.length;r++)e=t?e.concat(this.infiniteCache[i[r]][0]):e.concat(this.infiniteCache[i[r]]);else e=t?this.visibleFrozenRows:this.visibleRows;return e},e.prototype.getInfiniteMovableRows=function(){var e=this.getCurrentBlockInfiniteRecords();return this.parent.enableInfiniteScrolling?e.length?e:this.visibleRows:[]},e.prototype.getPanel=function(){return this.contentPanel},e.prototype.setPanel=function(e){this.contentPanel=e},e.prototype.getTable=function(){return this.contentTable},e.prototype.setTable=function(e){this.contentTable=e},e.prototype.getRows=function(){var e=this.getInfiniteRows();return e.length?e:this.parent.getFrozenColumns()?this.freezeRows:this.rows},e.prototype.getMovableRows=function(){var e=this.getInfiniteMovableRows();return e.length?e:this.movableRows},e.prototype.getRowElements=function(){return this.parent.getFrozenColumns()?this.freezeRowElements:this.rowElements},e.prototype.getMovableRowElements=function(){return this.rowElements},e.prototype.setRowElements=function(e){this.rowElements=e},e.prototype.getColGroup=function(){return this.colgroup},e.prototype.setColGroup=function(e){return(0,r.hX)(e)||(e.id="content-"+e.id),this.colgroup=e},e.prototype.setVisible=function(e){var t,i=this.parent,n=this.parent.isFrozenGrid(),o=i.getFrozenColumns(),s=[];if(n){var l=this.freezeRows,a=this.movableRows,h=l.length,p=void 0,d=[];i.getFrozenMode()===T.U0&&(d=i.getFrozenRightRowsObject());for(var u=0,g=void 0;u<h;u++){p=a[u].cells.length;var f=d.length?d[u].cells.length:0;g=l[u].clone();for(var m=0;m<p;m++)g.cells.push(a[u].cells[m]);for(var y=0;y<f;y++)g.cells.push(d[u].cells[y]);s.push(g)}}else s=this.getRows();s.some((function(e){return e.isDataRow&&(t=e),e.isDataRow}));var v=!0;!i.groupSettings.columns.length&&t&&(v=!1);for(var C=i.getDataRows(),w=this.infiniteRowVisibility(),b=w||this.rows.filter((function(e){return!e.isDetailRow})),S=0,R=e.length;S<R;S++){var x=e[S],F=this.parent.getNormalizedColumnIndex(x.uid),M=this.parent.getColumnIndexByUid(x.uid),I=!0===x.visible?"":"none";if(-1!==F&&t&&F<t.cells.length)if(n)if("movable"!==x.getFreezeTableName())if(x.getFreezeTableName()===T.Xg){M=F-=this.parent.getFrozenLeftColumnsCount()+this.parent.getMovableColumnsCount();var A=this.parent.getContent().querySelector(".e-frozen-right-content").querySelector(T.uo);(0,r.sN)(A.childNodes[F],{display:I}),b=i.getFrozenRightRowsObject(),C=i.getFrozenRightDataRows()}else{(0,r.sN)(this.getColGroup().childNodes[F],{display:I});var k=this.infiniteRowVisibility(!0);b=k||this.freezeRows,C=i.getDataRows()}else{var z=i.getContent().querySelector("."+T.S1).querySelector(T.uo);M=F=F-o-this.parent.getFrozenLeftColumnsCount(),(0,r.sN)(z.childNodes[F],{display:I}),C=i.getMovableDataRows();var D=this.infiniteRowVisibility();b=D||this.movableRows}else(0,r.sN)(this.getColGroup().childNodes[F],{display:I});v||(this.setDisplayNone(C,M,I,b),b[0].cells[M].isTemplate&&(v=!0)),!this.parent.invokedFromMedia&&x.hideAtMedia&&this.parent.updateMediaColumns(x),this.parent.invokedFromMedia=!1}v?this.refreshContentRows({requestType:"refresh"}):this.parent.getFrozenColumns()?(this.parent.notify(c.RmN,{rows:this.freezeRows,args:{isFrozen:!0,rows:this.freezeRows}}),this.parent.notify(c.RmN,{rows:this.movableRows,args:{isFrozen:!1,rows:this.movableRows}})):this.parent.notify(c.RmN,{rows:b,args:{}})},e.prototype.setDisplayNone=function(e,t,i,r){(0,h.Qr)(e,t,i,r,this.parent,this.parent.isRowDragable()),this.parent.notify(c.Enp,{visible:i,index:t,isFreeze:this.isInfiniteFreeze})},e.prototype.infiniteRowVisibility=function(e){var t;return this.parent.enableInfiniteScrolling&&(this.isInfiniteFreeze=e,t=this.parent.infiniteScrollSettings.enableCache?e?this.getCurrentBlockInfiniteRecords(!0):this.getCurrentBlockInfiniteRecords():e?this.visibleFrozenRows:this.visibleRows),t},e.prototype.colGroupRefresh=function(){if(this.getColGroup()){var e=void 0;e=this.parent.enableColumnVirtualization&&this.parent.getFrozenColumns()&&this.parent.contentModule.isXaxis()?this.parent.getMovableVirtualHeader().querySelector(T.uo).cloneNode(!0):this.getHeaderColGroup(),this.getTable().replaceChild(e,this.getColGroup()),this.setColGroup(e)}},e.prototype.getHeaderColGroup=function(){return this.parent.element.querySelector("."+T.iM).querySelector(T.uo).cloneNode(!0)},e.prototype.initializeContentDrop=function(){var e=this.parent;this.droppable=new r.gL(e.element,{accept:".e-dragclone",drop:this.drop})},e.prototype.droppableDestroy=function(){this.droppable&&!this.droppable.isDestroyed&&this.droppable.destroy()},e.prototype.canSkip=function(e,t,i){return(0,r.hX)(t)||(0,r.hX)(e.visible)||t.cells[i].visible===e.visible},e.prototype.getModelGenerator=function(){return this.generator=this.parent.allowGrouping?new I(this.parent):new b.Z(this.parent)},e.prototype.renderEmpty=function(e){this.getTable().appendChild(e),this.parent.frozenRows&&(this.parent.getHeaderContent().querySelector(T.T_).innerHTML="")},e.prototype.setSelection=function(e,t,i){this.parent.notify(c.uhF,{uid:e,set:t,clearAll:i});var r=this.parent.isFrozenGrid();if(!r||!this.parent.enableVirtualization){if(r)for(var n=this.getMovableRows().filter((function(t){return i||e===t.uid})),o=0;o<n.length;o++)n[o].isSelected=t;for(var s=this.getRows().filter((function(t){return i||e===t.uid})),l=0;l<s.length;l++){s[l].isSelected=t;for(var a=s[l].cells,h=0;h<a.length;h++)a[h].isSelected=t}}},e.prototype.getRowByIndex=function(e){return e=this.getInfiniteRowIndex(e),this.parent.getDataRows()[e]},e.prototype.getInfiniteRowIndex=function(e){if(this.parent.infiniteScrollSettings.enableCache){var t=this.parent.frozenRows,i=t>e?0:t,r=parseInt(this.parent.getRows()[i].getAttribute(T.E3),10);e=t>e?e:e-r+t}return e},e.prototype.getVirtualRowIndex=function(e){return e},e.prototype.getMovableRowByIndex=function(e){return e=this.getInfiniteRowIndex(e),this.parent.getMovableDataRows()[e]},e.prototype.enableAfterRender=function(e){"group"===e.module&&e.enable&&(this.generator=this.getModelGenerator())},e.prototype.setRowObjects=function(e){this.rows=e},e.prototype.immutableModeRendering=function(e){var t=this;void 0===e&&(e={});var i=this.parent;i.hideSpinner();var n=i.getPrimaryKeyFieldNames()[0],o={},s={},l=[],a={},h=i.getRowsObject().slice(),p=this.getBatchEditedRecords(n,h),d={},u=0!==Object.keys(p).length;if(i.getContent().querySelector(".e-emptyrow")||"reorder"===e.requestType||this.parent.groupSettings.columns.length)this.refreshContentRows(e);else{if(0===i.currentViewData.length)return;var g={},f=i.createElement(T.T_),m=i.currentViewData,y=[].slice.call(this.getTable().querySelector(T.T_).children);if(this.prevCurrentView.length){var v=this.prevCurrentView.length,w=m.length;if(v===w)for(var b=0;b<w;b++)"Batch"===this.parent.editSettings.mode&&y[b].classList.contains("e-insertedrow")?(y.splice(b,1),--b):(s[m[b][n]]=o[this.prevCurrentView[b][n]]=b,d[b]=m[b][n],g[h[b].uid]=y[b],a[b]=this.prevCurrentView[b][n]);else{for(b=0;b<w;b++)s[m[b][n]]=b,d[b]=m[b][n];for(b=0;b<v;b++)"Batch"===this.parent.editSettings.mode&&y[b].classList.contains("e-insertedrow")?(y.splice(b,1),--b):(g[h[b].uid]=y[b],o[this.prevCurrentView[b][n]]=b,a[b]=this.prevCurrentView[b][n])}}for(b=0;b<m.length;b++){var S=o[m[b][n]];if((0,r.hX)(S)){var R=new C.k(this.serviceLocator,null,i),x=this.generator.generateRows([m[b]]);l.push(x[0]);M=R.render(x[0],i.getColumns());f.appendChild(M),this.refreshImmutableContent(b,M,l[b])}else{var F=!1;this.parent.enableDeepCompare&&(F=this.objectEqualityChecker(this.prevCurrentView[S],m[b]));var M=g[h[S].uid];if(l.push(h[S]),this.rowElements[S]&&this.rowElements[S].getAttribute("data-uid")===l[b].uid&&(u&&(0,r.hX)(p[d[b]])||!u&&(F||this.prevCurrentView[S]===m[b]))){S!==b&&this.refreshImmutableContent(b,M,l[b]),f.appendChild(M);continue}(u&&!(0,r.hX)(p[d[b]])||!this.parent.enableDeepCompare&&m[b]!==this.prevCurrentView[S]||this.parent.enableDeepCompare&&!F)&&h[S].setRowValue(m[b]),f.appendChild(M),this.refreshImmutableContent(b,M,l[b])}}if(this.rows=l,this.rowElements=[].slice.call(f.children),(0,r.TF)(this.getTable().querySelector(T.T_)),this.getTable().appendChild(f),this.parent.trigger(c.BPR,{},(function(){t.parent.allowTextWrap&&t.parent.notify(c.kuM,{case:"textwrap"})})),e){var I=(e.requestType||"").toLowerCase()+"-complete";this.parent.notify(I,e)}}},e.prototype.objectEqualityChecker=function(e,t){for(var i=Object.keys(e),r=!0,n=0;n<i.length;n++){if(e[i[n]]!==t[i[n]])if(!(e[i[n]]instanceof Date&&t[i[n]]instanceof Date)||e[i[n]].getTime()!==t[i[n]].getTime()){r=!1;break}}return r},e.prototype.getBatchEditedRecords=function(e,t){var i={},r=this.parent.getBatchChanges(),n=[],o=[];Object.keys(r).length&&(n=r.changedRecords,o=r.addedRecords);var s={cancel:!1};this.parent.notify(c.Lmb,{rows:t,args:s}),o.length&&("Bottom"===this.parent.editSettings.newRowPosition?t.splice(t.length-1,o.length):s.cancel||t.splice(0,o.length));for(var l=0;l<n.length;l++)i[n[l][e]]=l;return i},e.prototype.refreshImmutableContent=function(e,t,i){i.isAltRow=!!this.parent.enableAltRow&&e%2!==0,i.isAltRow?t.classList.add("e-altrow"):t.classList.remove("e-altrow"),i.index=e,i.edit=void 0,i.isDirty=!1,t.setAttribute(T.E3,e.toString()),this.updateCellIndex(t,e)},e.prototype.updateCellIndex=function(e,t){for(var i=0;i<e.cells.length;i++)e.cells[i].setAttribute("index",t.toString())},e}(),k=i(2819),z=function(){function e(e,t){var i=this;this.frzIdx=0,this.notfrzIdx=0,this.isFirstCol=!1,this.isReplaceDragEle=!0,this.helper=function(e){var t=i.parent,n=i.draggable.currentStateTarget,o=(0,h.oC)(n,"e-headercell");if(!t.allowReordering&&!t.allowGrouping||!(0,r.hX)(o)&&o.getElementsByClassName("e-checkselectall").length>0)return!1;var s=i.parent.createElement("div",{className:"e-cloneproperties e-dragclone e-headerclone"}),l=n.classList.contains("e-headercell")?n:o;if(!l||!t.allowReordering&&l.classList.contains("e-stackedheadercell"))return!1;var a,c=l.offsetHeight,p=l.querySelector(".e-headercelldiv")||l.querySelector(".e-stackedheadercelldiv");if(p){if(a=l.querySelector(".e-stackedheadercelldiv")?t.getStackedHeaderColumnByHeaderText(p.innerText.trim(),t.columns):t.getColumnByUid(p.getAttribute("e-mappinguid")),i.column=a,i.column.lockColumn)return!1;s.setAttribute("e-mappinguid",i.column.uid)}if(a&&!(0,r.hX)(a.headerTemplate))if((0,r.hX)(a.headerTemplate))s.innerHTML=a.headerTemplate;else{var d=t.getColumnIndexByField(a.field),u=a.getHeaderTemplate()((0,r.X$)({index:d},a),t,"headerTemplate");(0,h.Wp)(s,u)}else s.innerHTML=p?a.headerText:l.firstElementChild.innerHTML;return s.style.width=l.offsetWidth+"px",s.style.height=l.offsetHeight+"px",s.style.lineHeight=(c-6).toString()+"px",t.element.appendChild(s),s},this.dragStart=function(e){var t=i.parent;t.element.querySelector(".e-gridpopup").style.display="none",t.notify(c.$uc,{target:i.draggable.currentStateTarget,column:i.column,event:e.event})},this.drag=function(e){var t=i.parent,n=e.target;if(n){var o=(0,r.kp)(n,".e-grid"),s=i.parent.element.querySelector(".e-cloneproperties");if((!o||o.getAttribute("id")!==t.element.getAttribute("id"))&&((0,r.pP)(s,["e-notallowedcur"],["e-defaultcur"]),t.allowReordering&&(t.element.querySelector(".e-reorderuparrow").style.display="none",t.element.querySelector(".e-reorderdownarrow").style.display="none"),!t.groupSettings.allowReordering))return;t.notify(c.Nu2,{target:e.target,column:i.column,event:e.event})}},this.dragStop=function(e){var t,n=i.parent;n.element.querySelector(".e-gridpopup").style.display="none",(!(0,h.oC)(e.target,"e-headercell")&&!(0,h.oC)(e.target,"e-groupdroparea")||!n.allowReordering&&(0,h.oC)(e.target,"e-headercell")||!e.helper.getAttribute("e-mappinguid")&&(0,h.oC)(e.target,"e-groupdroparea"))&&((0,r.TF)(e.helper),t=!0),n.notify(c.NKS,{target:e.target,event:e.event,column:i.column,cancel:t})},this.drop=function(e){var t=i.parent,n=e.droppedElement.getAttribute("e-mappinguid"),o=(0,r.kp)(e.target,".e-grid");(0,r.TF)(e.droppedElement),o&&o.getAttribute("id")!==t.element.getAttribute("id")||!t.allowReordering&&!t.allowGrouping||t.notify(c.fJX,{target:e.target,uid:n,droppedElement:e.droppedElement})},this.parent=e,this.serviceLocator=t,this.ariaService=this.serviceLocator.getService("ariaService"),this.widthService=this.serviceLocator.getService("widthService"),this.parent.isDestroyed||(this.parent.enableColumnVirtualization||this.parent.getFrozenLeftColumnsCount()||this.parent.getFrozenRightColumnsCount()||this.parent.on(c.nDA,this.setVisible,this),this.parent.on(c.QzQ,this.colPosRefresh,this),this.parent.on(c.qOR,this.renderCustomToolbar,this),"Vertical"===this.parent.rowRenderingMode&&this.parent.on(c.yPb,this.updateCustomResponsiveToolbar,this))}return e.prototype.renderPanel=function(){var e=this.parent.element.querySelector("."+T.iM),t=null!=e;e=t?e:this.parent.createElement("div",{className:"e-gridheader"});var i=t?e.querySelector("."+T.VW):this.parent.createElement("div",{className:T.VW});this.toggleStackClass(e),e.appendChild(i),this.setPanel(e),t||this.parent.element.appendChild(e)},e.prototype.renderTable=function(){var e=this.getPanel();e.appendChild(this.createHeaderTable()),this.setTable(e.querySelector("."+T.tp)),this.parent.getFrozenColumns()||this.parent.getFrozenRightColumnsCount()||this.parent.getFrozenLeftColumnsCount()||(this.initializeHeaderDrag(),this.initializeHeaderDrop()),this.parent.notify(c.CRr,{rows:this.rows,args:{isFrozen:this.parent.isFrozenGrid()}})},e.prototype.getPanel=function(){return this.headerPanel},e.prototype.setPanel=function(e){this.headerPanel=e},e.prototype.getTable=function(){return this.headerTable},e.prototype.setTable=function(e){this.headerTable=e},e.prototype.getColGroup=function(){return this.colgroup},e.prototype.setColGroup=function(e){return this.colgroup=e},e.prototype.getRows=function(){return this.getTable().tHead.rows},e.prototype.createHeaderTable=function(){var e=this.createTable(),t=this.getPanel().querySelector("."+T.VW);return t.appendChild(e),t},e.prototype.createHeader=function(e,t){void 0===e&&(e=null);var i=this.parent,n=i.isFrozenGrid();this.getTable()&&!n&&(0,r.TF)(this.getTable());var o=this.parent.createElement("table",{className:T.tp,attrs:{cellspacing:"0.25px",role:"grid"}}),s=t||(i.getFrozenLeftCount()?"frozen-left":"frozen-right"),l=this.createHeaderContent(s),a=l.thead,h=this.parent.createElement(T.T_,{className:this.parent.frozenRows?"":"e-hide"});this.caption=this.parent.createElement("caption",{innerHTML:this.parent.element.id+"_header_table",className:"e-hide"});for(var c,p=this.parent.createElement(T.uo),d=this.parent.createElement("tr"),u=this.rows=l.rows,g=0,f=u.length;g<f;g++)for(var m=0,y=u[g].cells.length;m<y;m++)c=this.parent.createElement("td"),d.appendChild(c);return(i.allowFiltering||i.allowSorting||i.allowGrouping)&&o.classList.add("e-sortfilter"),this.updateColGroup(p),h.appendChild(d),o.appendChild(this.setColGroup(p)),o.appendChild(a),o.appendChild(h),o.appendChild(this.caption),this.ariaService.setOptions(o,{colcount:i.getColumns().length.toString()}),o},e.prototype.createTable=function(e){return void 0===e&&(e=null),this.createHeader(e)},e.prototype.createHeaderContent=function(e){var t=this.parent,i=1,r=t.getFrozenMode(),n=t.getColumns(),o=this.parent.createElement("thead"),s=this.parent.createElement("tr",{className:"e-columnheader"}),l=new C.k(this.serviceLocator,u.vZ.Header,t);l.element=s;var a,c=[];this.colDepth=(0,h.On)(t.columns);for(var p=0,d=this.colDepth;p<d;p++)c[p]=this.generateRow(p),c[p].cells=[];"Right"!==r&&(c=this.ensureColumns(c)),c=this.getHeaderCells(c,e),"Right"===r&&(i=0,c=this.ensureColumns(c));var g=this.parent.getFrozenColumns();if(this.parent.isRowDragable()&&this.parent.isFrozenGrid()&&c[0].cells[i]){var f=c[0].cells[i].column.getFreezeTableName();"movable"===f||r===T.U0&&f===T.Xg?"Right"===r?c[0].cells.pop():c[0].cells.shift():g||f!==T.qf?"Right"===r&&f===T.Xg&&(c[0].cells[c[0].cells.length-1].column.freeze="Right"):c[0].cells[0].column.freeze=f===T.qf?"Left":"Right"}for(p=0,d=this.colDepth;p<d;p++)a=l.render(c[p],n),this.parent.rowHeight&&a.querySelector(".e-headercell")&&(a.style.height=this.parent.rowHeight+"px"),o.appendChild(a);return{thead:o,rows:c}},e.prototype.updateColGroup=function(e){var t,i=this.parent.getColumns(),n=this.parent.getColumnIndexesInView();if(this.parent.enableColumnVirtualization&&this.parent.getFrozenColumns()&&this.parent.contentModule.isXaxis()&&(i=(0,r.X$)([],this.parent.getColumns())).splice(0,this.parent.getFrozenColumns()),e.id=this.parent.element.id+T.uo,this.parent.allowGrouping)for(var o=0,s=this.parent.groupSettings.columns.length;o<s;o++)this.parent.enableColumnVirtualization&&-1===n.indexOf(o)||(t=this.parent.createElement("col",{className:"e-group-intent"}),e.appendChild(t));(this.parent.detailTemplate||this.parent.childGrid)&&(t=this.parent.createElement("col",{className:"e-detail-intent"}),e.appendChild(t)),this.parent.isRowDragable()&&"Right"!==this.parent.getFrozenMode()&&(t=this.parent.createElement("col",{className:"e-drag-intent"}),e.appendChild(t));for(o=0,s=i.length;o<s;o++)t=this.parent.createElement("col"),!1===i[o].visible&&(0,r.sN)(t,{display:"none"}),e.appendChild(t);return this.parent.isRowDragable()&&"Right"===this.parent.getFrozenMode()&&(t=this.parent.createElement("col",{className:"e-drag-intent"}),e.appendChild(t)),e},e.prototype.ensureColumns=function(e){for(var t=this.parent,i=this.parent.getColumnIndexesInView(),r=0,n=e.length;r<n;r++){if(t.allowGrouping)for(var o=0,s=t.groupSettings.columns.length;o<s;o++)this.parent.enableColumnVirtualization&&-1===i.indexOf(o)||e[r].cells.push(this.generateCell({},u.vZ.HeaderIndent));if(t.detailTemplate||t.childGrid){var l={};this.parent.notify(c.q1T,l),e[r].cells.push(this.generateCell(l,u.vZ.DetailHeader))}t.isRowDragable()&&e[r].cells.push(this.generateCell({},u.vZ.RowDragHIcon))}return e},e.prototype.getHeaderCells=function(e,t){var i=this.parent.getHeaderTable()&&this.parent.getHeaderTable().querySelector("thead"),r=this.parent.enableColumnVirtualization?this.parent.getColumns(this.parent.enablePersistence):this.parent.columns;if(this.frzIdx=0,this.notfrzIdx=0,this.parent.lockcolPositionCount)for(var n=0;n<r.length;n++)this.lockColsRendered=!1,e=this.appendCells(r[n],e,0,0===n,!1,n===r.length-1,i,t,!1);n=0;for(var o=r.length;n<o;n++)this.notfrzIdx=0,this.lockColsRendered=!0,e=this.appendCells(r[n],e,0,0===n,!1,n===o-1,i,t,!1);return e},e.prototype.appendCells=function(e,t,i,r,n,o,s,l,a){var h,c=o?a?"e-laststackcell":"e-lastcell":"",p=this.parent.isFrozenGrid(),d=!this.parent.lockcolPositionCount||e.lockColumn&&!this.lockColsRendered||!e.lockColumn&&this.lockColsRendered,g=!this.parent.lockcolPositionCount||e.lockColumn&&!this.lockColsRendered||!e.lockColumn&&this.lockColsRendered,f=this.parent.getContent().querySelector(".e-movablescrollbar");if(p&&f&&this.parent.enableColumnVirtualization&&(h=f.scrollLeft),e.columns){this.isFirstCol=!1;var m=this.getCellCnt(e,0);if(m){var y=this.getStackedLockColsCount(e,0),C=0===this.parent.lockcolPositionCount||!this.lockColsRendered&&0!==y||this.lockColsRendered&&m-y!==0,w=p&&this.ensureStackedFrozen(e.columns,l,!1);(!p&&C||w)&&t[i].cells.push(new v.f({cellType:u.vZ.StackedHeader,column:e,colSpan:this.getColSpan(m,y,e.columns,l,p),className:r?"":n?"e-firstcell":""}))}if(this.parent.lockcolPositionCount&&!this.lockColsRendered)for(var b=0;b<e.columns.length;b++)t=this.appendCells(e.columns[b],t,i+1,r,0===b,b===e.columns.length-1&&o,s,l,!1);if(this.lockColsRendered){b=0;for(var S=e.columns.length;b<S;b++){r=r&&0===b;var R=this.isFirstCol=e.columns[b].visible&&!r,x=b===S-1&&o;t=this.appendCells(e.columns[b],t,i+1,r,R&&!x,x,s,l,!0)}}}else(h&&h>0&&this.parent.contentModule.isXaxis()&&0!==this.parent.inViewIndexes[0]&&"movable"===e.getFreezeTableName()||!p&&d||p&&e.getFreezeTableName()===l&&g)&&t[i].cells.push(this.generateCell(e,u.vZ.Header,this.colDepth-i,(r?"":n?"e-firstcell":"")+c,i,this.parent.getColumnIndexByUid(e.uid))),this.parent.lockcolPositionCount?this.frzIdx+this.notfrzIdx<this.parent.frozenColumns&&(e.lockColumn&&!this.lockColsRendered||!e.lockColumn&&this.lockColsRendered)?this.frzIdx++:this.notfrzIdx++:this.frzIdx++;return t},e.prototype.ensureStackedFrozen=function(e,t,i){for(var r=e.length,n=0;n<r;n++)if(e[n].columns)i=this.ensureStackedFrozen(e[n].columns,t,i);else if(e[n].getFreezeTableName()===t){i=!0;break}return i},e.prototype.getStackedLockColsCount=function(e,t){if(e.columns)for(var i=0;i<e.columns.length;i++)t=this.getStackedLockColsCount(e.columns[i],t);else e.lockColumn&&t++;return t},e.prototype.getColSpan=function(e,t,i,r,n){return n?e=this.getFrozenColSpan(i,r,0):this.parent.lockcolPositionCount&&(e=this.lockColsRendered?e-t:t),e},e.prototype.getFrozenColSpan=function(e,t,i){for(var r=e.length,n=0;n<r;n++)e[n].columns?i=this.getFrozenColSpan(e[n].columns,t,i):e[n].getFreezeTableName()===t&&e[n].visible&&i++;return i},e.prototype.generateRow=function(e){return new y.f({})},e.prototype.generateCell=function(e,t,i,n,o,s){var l={visible:e.visible,isDataCell:!1,isTemplate:!(0,r.hX)(e.headerTemplate),rowID:"",column:e,cellType:t,rowSpan:i,className:n,index:o,colIndex:s};return(!l.rowSpan||l.rowSpan<2)&&delete l.rowSpan,new v.f(l)},e.prototype.setVisible=function(e){for(var t,i,n=this.parent,o=n.getFrozenColumns(),s=0,l=e.length;s<l;s++){var a=e[s];if(i=n.getNormalizedColumnIndex(a.uid),t=a.visible?"":"none",o){var h=this.parent.isRowDragable()?o+1:o;if(i<h)(0,r.sN)(this.getColGroup().children[i],{display:t});else{var c=n.getHeaderContent().querySelector("."+T.eW).querySelector(T.uo);(0,r.sN)(c.children[i-h],{display:t})}}else(0,r.sN)(this.getColGroup().children[i],{display:t})}this.refreshUI()},e.prototype.colPosRefresh=function(){this.refreshUI()},e.prototype.refreshUI=function(){var e=this.parent.isFrozenGrid(),t=this.parent.enableColumnVirtualization&&e,i=this.getPanel();this.toggleStackClass(i);var n=this.freezeReorder?this.headerPanel.querySelector("."+T.eW).querySelector("."+T.tp):this.getTable(),o=this.parent.isFrozenGrid()?this.parent.getFrozenLeftCount()?"frozen-left":"frozen-right":void 0;if(t&&(n=this.parent.contentModule.getVirtualFreezeHeader(),o=this.parent.contentModule.isXaxis()?"movable":o),n){(0,r.TF)(n),n.removeChild(n.firstChild),n.removeChild(n.childNodes[0]);var s=this.parent.createElement(T.uo),l=this.createHeaderContent(o);this.rows=l.rows,n.insertBefore(l.thead,n.firstChild),this.updateColGroup(s),n.insertBefore(this.setColGroup(s),n.firstChild),t||this.setTable(n),this.appendContent(n),this.parent.notify(c.TI6,{}),this.widthService.setWidthToColumns(),this.parent.updateDefaultCursor(),(!e||this.parent.enableColumnVirtualization&&e)&&this.initializeHeaderDrag();for(var a=[].slice.call(i.querySelectorAll("tr.e-columnheader")),p=0,d=a;p<d.length;p++){var u=d[p],g=[].slice.call(u.getElementsByClassName("e-grouptopleftcell"));g.length&&g[g.length-1].classList.add("e-lastgrouptopleftcell")}e||this.parent.notify(c.CRr,{rows:this.rows,args:{isFrozen:e}}),this.parent.enableColumnVirtualization&&(0,h.oC)(n,T.eW)&&this.parent.notify(c.CRr,{rows:this.rows,args:{isFrozen:!1,isXaxis:!0}}),this.parent.allowTextWrap&&"Header"===this.parent.textWrapSettings.wrapMode&&(0,h.LV)(a,!0)}},e.prototype.toggleStackClass=function(e){this.parent.columns.some((function(e){return!(0,r.hX)(e.columns)}))?e.classList.add("e-stackedheader"):e.classList.remove("e-stackedheader")},e.prototype.appendContent=function(e){this.getPanel().querySelector("."+T.VW).appendChild(e)},e.prototype.getCellCnt=function(e,t){if(e.columns)for(var i=0,r=e.columns.length;i<r;i++)t=this.getCellCnt(e.columns[i],t);else e.visible&&t++;return t},e.prototype.initializeHeaderDrag=function(){var e=this.parent;(this.parent.allowReordering||this.parent.allowGrouping&&this.parent.groupSettings.showDropArea)&&(this.draggable=new r.sx(e.getHeaderContent(),{dragTarget:".e-headercell",distance:5,helper:this.helper,dragStart:this.dragStart,drag:this.drag,dragStop:this.dragStop,abort:".e-rhandler",isReplaceDragEle:this.isReplaceDragEle}))},e.prototype.initializeHeaderDrop=function(){var e=this.parent;new r.gL(e.getHeaderContent(),{accept:".e-dragclone",drop:this.drop})},e.prototype.renderCustomToolbar=function(){var e=this,t=this.parent;if("Vertical"===t.rowRenderingMode&&!t.toolbar&&(t.allowSorting||t.allowFiltering&&"FilterBar"!==t.filterSettings.type)){for(var i=t.createElement("div",{className:"e-res-toolbar e-toolbar"}),r=t.createElement("div",{className:"e-toolbar-items"}),n=t.createElement("div",{className:"e-toolbar-left"}),o=this.parent.allowFiltering&&this.parent.allowSorting?2:1,s=0;s<o;s++){var l=t.createElement("div",{className:"e-toolbar-item e-gridresponsiveicons e-icons e-tbtn-align"}),a=1===o?this.parent.allowSorting?"sort":"filter":1===s?"sort":"filter",h=t.createElement("button",{className:"e-tbar-btn e-control e-btn e-lib e-icon-btn"}),c=t.createElement("span",{className:"e-btn-icon e-res"+a+"-icon e-icons"});h.appendChild(c),new k.$({}).appendTo(h),h.onclick=function(t){t.target.classList.contains("e-ressort-btn")||t.target.classList.contains("e-ressort-icon")?e.parent.showResponsiveCustomSort():e.parent.showResponsiveCustomFilter()},l.appendChild(h),n.appendChild(l)}r.appendChild(n),i.appendChild(r),t.element.insertBefore(i,this.parent.element.querySelector("."+T.iM))}else t.enableAdaptiveUI&&!t.toolbar&&t.getContent().classList.add("e-responsive-header")},e.prototype.updateCustomResponsiveToolbar=function(e){var t=this.parent.element.querySelector(".e-responsive-toolbar");"toolbar"===e.module&&(t?(0,r.TF)(t):this.renderCustomToolbar())},e}(),D=i(3719),P=i(8713),E=i(9813),L=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function r(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),B=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.element=t.parent.createElement("TH",{className:"e-headercell",attrs:{role:"columnheader",tabindex:"-1"}}),t.ariaService=new P.F,t.hTxtEle=t.parent.createElement("span",{className:"e-headertext"}),t.sortEle=t.parent.createElement("div",{className:"e-sortfilterdiv e-icons"}),t.gui=t.parent.createElement("div"),t.chkAllBox=t.parent.createElement("input",{className:"e-checkselectall",attrs:{type:"checkbox","aria-label":"checkbox"}}),t}return L(t,e),t.prototype.getGui=function(){return this.gui.cloneNode()},t.prototype.render=function(e,t,i){var r=this.element.cloneNode(),n=this.parent.createElement("div",{className:"e-filtermenudiv e-icons e-icon-filter"});return this.prepareHeader(e,r,n)},t.prototype.refresh=function(e,t){this.clean(t);var i=this.parent.createElement("div",{className:"e-filtermenudiv e-icons e-icon-filter"});return this.prepareHeader(e,t,i)},t.prototype.clean=function(e){e.innerHTML=""},t.prototype.prepareHeader=function(e,t,i){var n,o,s=e.column,l={},a=this.getGui();if((0,r.uK)(a,{"e-mappinguid":s.uid,class:"e-headercelldiv"}),(0,r.hX)(s.headerValueAccessor)||(n=this.getValue(s.headerText,s)),"checkbox"!==s.type){var p=s.headerText;(0,r.hX)(n)||(p=n);var d=this.hTxtEle.cloneNode();d[s.getDomSetter()]=p,a.appendChild(d)}else{s.editType="booleanedit";var u=(0,E.OK)(this.parent.createElement,!1,{checked:!1,label:" "});this.chkAllBox.id="checkbox-"+s.uid,u.insertBefore(this.chkAllBox.cloneNode(),u.firstChild),a.appendChild(u),a.classList.add("e-headerchkcelldiv")}if(this.buildAttributeFromCell(t,e),this.appendHtml(t,a),t.appendChild(this.sortEle.cloneNode()),this.parent.allowFiltering&&"FilterBar"!==this.parent.filterSettings.type&&s.allowFiltering&&!(0,r.hX)(s.field)&&(!this.parent.showColumnMenu||!s.showColumnMenu)){(0,r.uK)(i,{"e-mappinguid":"e-flmenu-"+s.uid}),t.classList.add("e-fltr-icon");var g=[];if(this.parent.filterSettings.columns.length&&this.parent.filterSettings.columns.length!==g.length)for(var f=this.parent.getForeignKeyColumns(),m=0;m<this.parent.columns.length;m++)for(var y=0;y<this.parent.filterSettings.columns.length;y++)if(this.parent.filterSettings.columns[y].field===s.field||f.length&&s.foreignKeyValue===this.parent.filterSettings.columns[y].field){i.classList.add("e-filtered"),g.push(s.field);break}t.appendChild(i.cloneNode())}e.className&&t.classList.add(e.className),s.customAttributes&&(0,h.Ws)(t,s.customAttributes),s.allowSorting&&(l.sort="none"),s.allowGrouping&&(l.grabbed=!1),t=this.extendPrepareHeader(s,t);var v=this.parent,C=v.getColumnIndexByField(s.field);if(!(0,r.hX)(s.headerTemplate)){var w=v.element.id+s.uid+"headerTemplate",b="isStringTemplate",S=s;if(this.parent.isReact&&"string"!==typeof s.headerTemplate){var R={index:C};t.firstElementChild.innerHTML="",s.getHeaderTemplate()((0,r.X$)(R,S),v,"headerTemplate",w,this.parent[b],null,t.firstElementChild),this.parent.renderTemplates()}else o=s.getHeaderTemplate()((0,r.X$)({index:C},S),v,"headerTemplate",w,this.parent[b]),t.firstElementChild.innerHTML="",(0,h.Wp)(t.firstElementChild,o)}if(this.ariaService.setOptions(t,l),!(0,r.hX)(s.headerTextAlign)||!(0,r.hX)(s.textAlign)){var x=s.headerTextAlign||s.textAlign;a.style.textAlign=x,"Right"===x||"Left"===x?t.classList.add("Right"===x?"e-rightalign":"e-leftalign"):"Center"===x&&t.classList.add("e-centeralign")}return"Clip"===s.clipMode||!s.clipMode&&"Clip"===this.parent.clipMode?t.classList.add("e-gridclip"):("EllipsisWithTooltip"===s.clipMode||!s.clipMode&&"EllipsisWithTooltip"===this.parent.clipMode)&&"checkbox"!==s.type&&t.classList.add("e-ellipsistooltip"),t.setAttribute("aria-rowspan",((0,r.hX)(e.rowSpan)?1:e.rowSpan).toString()),t.setAttribute("aria-colspan","1"),this.parent.trigger(c.Gq,{cell:e,node:t}),t},t.prototype.getValue=function(e,t){return t.headerValueAccessor(e,t)},t.prototype.extendPrepareHeader=function(e,t){if(this.parent.showColumnMenu&&e.showColumnMenu&&!(0,r.hX)(e.field)){var i=this.parent.createElement("div",{className:"e-icons e-columnmenu"}),n=[];if(this.parent.filterSettings.columns.length&&this.parent.filterSettings.columns.length!==n.length)for(var o=0;o<this.parent.columns.length;o++)for(var s=0;s<this.parent.filterSettings.columns.length;s++)if(this.parent.filterSettings.columns[s].field===e.field){i.classList.add("e-filtered"),n.push(e.field);break}t.classList.add("e-fltr-icon"),t.appendChild(i)}if(this.parent.allowResizing){var l=this.parent.createElement("div");l.className=e.allowResizing?"e-rhandler e-rcursor":"e-rsuppress",t.appendChild(l)}return t},t.prototype.appendHtml=function(e,t){return e.appendChild(t),e},t}(D.w),q=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function r(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),H=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.element=t.parent.createElement("TH",{className:"e-headercell e-stackedheadercell",attrs:{role:"columnheader",tabindex:"-1"}}),t}return q(t,e),t.prototype.render=function(e,t,i){var n=this.element.cloneNode(),o=this.parent.createElement("div",{className:"e-stackedheadercelldiv",attrs:{"e-mappinguid":e.column.uid}}),s=e.column;if(n.appendChild(o),(0,r.hX)(s.headerTemplate)?this.appendHtml(o,s.headerText,s.getDomSetter()):(0,h.Wp)(o,s.getHeaderTemplate()(s,this.parent,"headerTemplate")),e.column.toolTip&&n.setAttribute("title",e.column.toolTip),"Clip"===s.clipMode||!s.clipMode&&"Clip"===this.parent.clipMode?n.classList.add("e-gridclip"):("EllipsisWithTooltip"===s.clipMode||!s.clipMode&&"EllipsisWithTooltip"===this.parent.clipMode)&&n.classList.add("e-ellipsistooltip"),(0,r.hX)(e.column.textAlign)||(o.style.textAlign=e.column.textAlign),e.column.customAttributes&&(0,h.Ws)(n,e.column.customAttributes),n.setAttribute("colspan",e.colSpan.toString()),n.setAttribute("aria-colspan",e.colSpan.toString()),n.setAttribute("aria-rowspan","1"),this.parent.allowResizing){var l=this.parent.createElement("div");l.className=e.column.allowResizing?"e-rhandler e-rcursor":"e-rsuppress",n.appendChild(l)}return e.className&&n.classList.add(e.className),this.parent.trigger(c.Gq,{cell:e,node:n}),n},t}(D.w),O=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function r(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),N=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.element=t.parent.createElement("TD",{className:"e-indentcell"}),t}return O(t,e),t.prototype.render=function(e,t){var i=this.element.cloneNode();return(0,h.Ws)(i,e.attributes),i},t}(D.w),_=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function r(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),V=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.element=t.parent.createElement("TD",{className:"e-groupcaption",attrs:{id:t.parent.element.id+"captioncell",role:"gridcell",tabindex:"-1"}}),t}return _(t,e),t.prototype.render=function(e,t){var i,n,o=this.element.cloneNode(),s=this.parent;t.headerText=e.column.headerText,e.isForeignKey&&(n=this.format(e.column,e.column.valueAccessor("foreignKey",t,e.column)));var l=e.isForeignKey?n:e.column.enableGroupByFormat?t.key:this.format(e.column,e.column.valueAccessor("key",t,e.column));if((0,r.hX)(s.groupSettings.captionTemplate))s.groupSettings.enableLazyLoading?o.innerHTML=e.column.headerText+": "+l:o.innerHTML=e.column.headerText+": "+l+" - "+t.count+" "+(t.count<2?this.localizer.getConstant("Item"):this.localizer.getConstant("Items"));else{var a=this.parent.isReact&&"string"!==typeof s.groupSettings.captionTemplate;if(a){var c=s.element.id+"captionTemplate";(0,h.M2)(s.groupSettings.captionTemplate)(t,this.parent,"captionTemplate",c,null,null,o),this.parent.renderTemplates()}else i=this.parent.isVue?(0,h.M2)(s.groupSettings.captionTemplate)(t,this.parent):(0,h.M2)(s.groupSettings.captionTemplate)(t);a||(0,h.Wp)(o,i)}return o.setAttribute("colspan",e.colSpan.toString()),o.setAttribute("aria-label",o.innerHTML+" is groupcaption cell"),o.setAttribute("title",o.innerHTML),o},t}(D.w),j=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.element=t.parent.createElement("TD",{className:"e-groupcaption"}),t}return _(t,e),t.prototype.render=function(e,t){var i=this.element.cloneNode();return i.innerHTML="&nbsp;",i.setAttribute("colspan",e.colSpan.toString()),i},t}(D.w),X=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function r(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),G=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return X(t,e),t.prototype.render=function(e,t,i,r){var n=this.element.cloneNode();return n.className=r?"e-recordplusexpand":"e-recordpluscollapse",n.setAttribute("ej-mappingname",t.field),n.setAttribute("ej-mappingvalue",t.key),n.setAttribute("aria-expanded",r?"true":"false"),n.setAttribute("tabindex","-1"),n.appendChild(this.parent.createElement("div",{className:r?"e-icons e-gdiagonaldown e-icon-gdownarrow":"e-icons e-gnextforward e-icon-grightarrow"})),n},t}(N),W=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function r(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),K=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.element=t.parent.createElement("TH",{className:"e-grouptopleftcell"}),t}return W(t,e),t.prototype.render=function(e,t){var i=this.element.cloneNode();return i.appendChild(this.parent.createElement("div",{className:"e-headercelldiv e-emptycell",innerHTML:""})),i},t}(D.w),J=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function r(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),U=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.element=t.parent.createElement("TH",{className:"e-detailheadercell"}),t}return J(t,e),t.prototype.render=function(e,t){var i=this.element.cloneNode();return i.appendChild(this.parent.createElement("div",{className:"e-emptycell"})),i},t}(D.w),Q=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function r(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),Z=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.element=t.parent.createElement("TD",{className:"e-detailrowcollapse",attrs:{"aria-expanded":"false",role:"gridcell",tabindex:"-1"}}),t}return Q(t,e),t.prototype.render=function(e,t,i){var n=this.element.cloneNode();return i&&!(0,r.hX)(i.class)?(n.className="",n.className=i.class,n.appendChild(this.parent.createElement("div",{className:"e-icons e-dtdiagonaldown e-icon-gdownarrow"}))):n.appendChild(this.parent.createElement("div",{className:"e-icons e-dtdiagonalright e-icon-grightarrow"})),n},t}(D.w),$=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function r(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),Y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.element=t.parent.createElement("TD",{className:"e-rowdragdrop e-rowdragdropcell",attrs:{role:"gridcell",tabindex:"-1"}}),t}return $(t,e),t.prototype.render=function(e,t){var i=this.element.cloneNode();return i.appendChild(this.parent.createElement("div",{className:"e-icons e-rowcelldrag e-dtdiagonalright e-icon-rowdragicon"})),e.isSelected&&(i.classList.add("e-selectionbackground"),i.classList.add("e-active")),i},t}(D.w),ee=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function r(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),te=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.element=t.parent.createElement("TH",{className:"e-rowdragheader"}),t}return ee(t,e),t.prototype.render=function(e,t){var i=this.element.cloneNode();return i.appendChild((0,r.n)("div",{className:"e-emptycell"})),i},t}(D.w),ie=function(){function e(e,t){this.emptyGrid=!1,this.counter=0,this.parent=e,this.locator=t,this.data=new f(e,t),this.l10n=t.getService("localization"),this.ariaService=this.locator.getService("ariaService"),this.renderer=this.locator.getService("rendererFactory"),this.addEventListener()}return e.prototype.render=function(){var e=this.parent;this.headerRenderer=this.renderer.getRenderer(u.nJ.Header),this.contentRenderer=this.renderer.getRenderer(u.nJ.Content),this.headerRenderer.renderPanel(),this.contentRenderer.renderPanel(),e.getColumns().length&&(this.isLayoutRendered=!0,this.headerRenderer.renderTable(),this.contentRenderer.renderTable(),this.emptyRow(!1)),this.parent.scrollModule.setWidth(),this.parent.scrollModule.setHeight(),"auto"!==this.parent.height&&this.parent.scrollModule.setPadding(),this.refreshDataManager()},e.prototype.refresh=function(e){var t=this;void 0===e&&(e={requestType:"refresh"});var i=this.parent;i.notify(e.requestType+"-begin",e),i.trigger(c.eYd,e,(function(e){if(void 0===e&&(e={requestType:"refresh"}),e.cancel)i.notify(c.gvK,e);else{if("delete"===e.requestType&&i.allowPaging){var r=e.data.length,n=i.pageSettings.totalRecordsCount-r;i.getCurrentViewRecords().length-r||!n||(i.pageSettings.currentPage-1)*i.pageSettings.pageSize!==n||(i.prevPageMoving=!0,i.setProperties({pageSettings:{totalRecordsCount:n,currentPage:Math.ceil(n/i.pageSettings.pageSize)}},!0),i.pagerModule.pagerObj.totalRecordsCount=n)}"reorder"===e.requestType&&t.parent.dataSource&&"result"in t.parent.dataSource||("paging"===e.requestType||"columnstate"===e.requestType||"reorder"===e.requestType)&&t.parent.groupSettings.enableLazyLoading&&t.parent.groupSettings.columns.length&&t.parent.contentModule.getGroupCache()[t.parent.pageSettings.currentPage]?t.contentRenderer.refreshContentRows(e):t.refreshDataManager(e)}}))},e.prototype.resetTemplates=function(){var e=this.parent,t=e.getColumns();if(e.detailTemplate){var i=e.element.id+"detailTemplate";r.AN[i]=[],(0,r.uH)(i,"DetailTemplate")}e.groupSettings.captionTemplate&&(0,r.uH)(e.element.id+"captionTemplate","CaptionTemplate"),e.rowTemplate&&(0,r.uH)(e.element.id+"rowTemplate","RowTemplate"),e.toolbarTemplate&&(0,r.uH)(e.element.id+"toolbarTemplate","ToolbarTemplate"),e.pageSettings.template&&(0,r.uH)(e.element.id+"_template","pageSettings");for(var n=0;n<t.length;n++)t[n].template&&(r.AN[e.element.id+t[n].uid]=[],(0,r.uH)(e.element.id+t[n].uid,"Template")),t[n].headerTemplate&&(0,r.uH)(e.element.id+t[n].uid+"headerTemplate","HeaderTemplate"),t[n].filterTemplate&&(0,r.uH)(e.element.id+t[n].uid+"filterTemplate","FilterTemplate");for(var o="guid",s=0;s<e.aggregates.length;s++)for(var l=0;l<e.aggregates[s].columns.length;l++){if(e.aggregates[s].columns[l].footerTemplate){var a=e.element.id+e.aggregates[s].columns[l][o]+"footerTemplate";(0,r.uH)(a,"FooterTemplate")}if(e.aggregates[s].columns[l].groupFooterTemplate){a=e.element.id+e.aggregates[s].columns[l][o]+"groupFooterTemplate";(0,r.uH)(a,"GroupFooterTemplate")}if(e.aggregates[s].columns[l].groupCaptionTemplate){a=e.element.id+e.aggregates[s].columns[l][o]+"groupCaptionTemplate";(0,r.uH)(a,"GroupCaptionTemplate")}}},e.prototype.refreshComplete=function(e){this.parent.trigger(c.wn6,e)},e.prototype.refreshDataManager=function(e){var t,i=this;void 0===e&&(e={}),"virtualscroll"===e.requestType||e.isCaptionCollapse||this.parent.showSpinner(),this.parent.notify(c.cGZ,e),this.emptyGrid=!1;var r=this.isNeedForeignAction();if(this.ariaService.setBusy(this.parent.getContent().querySelector("."+T.Qs),!0),r){var n=new o.c;t=this.getFData(n,e)}if(t=t?t.then((function(t){var r=i.data.generateQuery().requiresCount();if(i.emptyGrid){var n=new o.c;return n.resolve({result:[],count:0}),n.promise}return i.data.getData(e,r)})):this.data.getData(e,this.data.generateQuery().requiresCount()),this.parent.getForeignKeyColumns().length&&(!r||this.parent.searchSettings.key.length)){var s=new o.c;t=t.then((function(r){return i.parent.notify(c.qsE,{dataManager:t,result:r,promise:s,action:e}),s.promise}))}this.parent.groupSettings.disablePageWiseAggregates&&this.parent.groupSettings.columns.length&&(t=t.then((function(e){return i.validateGroupRecords(e)}))),t.then((function(t){return i.dataManagerSuccess(t,e)})).catch((function(t){return i.dataManagerFailure(t,e)}))},e.prototype.getFData=function(e,t){return this.parent.notify(c.qsE,{isComplex:!0,promise:e,action:t}),e.promise},e.prototype.isNeedForeignAction=function(){var e=this.parent;return!!(e.allowFiltering&&e.filterSettings.columns.length||e.searchSettings.key.length)&&this.foreignKey(this.parent.getForeignKeyColumns())},e.prototype.foreignKey=function(e){var t=this;return e.some((function(e){return!(!t.parent.filterSettings.columns.some((function(t){return e.uid===t.uid}))&&!t.parent.searchSettings.key.length)}))},e.prototype.sendBulkRequest=function(e){var t=this;e.requestType="batchsave";var i=this.data.saveChanges(e.changes,this.parent.getPrimaryKeyFieldNames()[0],e.original),r=this.data.generateQuery().requiresCount();this.data.dataManager.dataSource.offline?this.refreshDataManager({requestType:"batchsave"}):i.then((function(i){t.data.getData(e,r).then((function(i){return t.dmSuccess(i,e)})).catch((function(i){return t.dmFailure(i,e)}))})).catch((function(i){return t.dmFailure(i,e)}))},e.prototype.dmSuccess=function(e,t){this.dataManagerSuccess(e,t)},e.prototype.dmFailure=function(e,t){this.dataManagerFailure(e,t)},e.prototype.renderEmptyRow=function(){this.emptyRow(!0)},e.prototype.emptyRow=function(e){var t=this.parent,i=this.contentRenderer.getTable().querySelector(T.T_);(0,r.hX)(i)||(0,r.TF)(i),i=this.parent.createElement(T.T_);var n=0;(t.detailTemplate||t.childGrid)&&++n;var o=this.parent.createElement("tr",{className:"e-emptyrow"});o.appendChild(this.parent.createElement("td",{innerHTML:this.l10n.getConstant("EmptyRecord"),attrs:{colspan:(t.getVisibleColumns().length+n+t.groupSettings.columns.length).toString()}})),i.appendChild(o),this.contentRenderer.renderEmpty(i),e&&(this.parent.trigger(c.BPR,{}),this.parent.notify(c.DjW,{rows:[new y.f({isDataRow:!0,cells:[new v.f({isDataCell:!0,visible:!0})]})]}))},e.prototype.dynamicColumnChange=function(){this.parent.getCurrentViewRecords().length&&this.updateColumnType(this.parent.getCurrentViewRecords()[0])},e.prototype.updateColumnType=function(e){for(var t,i=this.parent.getColumns(),n="customFormat",o="equalTo",s=e&&e.items?e.items[0]:e,l=this.locator.getService("valueFormatter"),a=0,c=i.length;a<c;a++){t=(0,h.iM)(i[a].field||"",s),(0,r.hX)(i[a][n])||(i[a].format=i[a][n]),(0,r.hX)(i[a].validationRules)||(0,r.hX)(i[a].validationRules[o])||(i[a].validationRules[o][0]=this.parent.element.id+i[a].validationRules[o][0]),i[a].isForeignColumn()&&i[a].columnData&&(t=(0,h.iM)(i[a].foreignKeyValue||"",i[a].columnData[0])),(0,r.hX)(t)?i[a].type=i[a].type||null:(this.isColTypeDef=!0,i[a].type||(i[a].type=t.getDay?t.getHours()>0||t.getMinutes()>0||t.getSeconds()>0||t.getMilliseconds()>0?"datetime":"date":typeof t));var p=new d.c;i[a].format&&(i[a].format.skeleton||i[a].format.format&&"string"===typeof i[a].format.format)&&(i[a].setFormatter(p.getFormatFunction((0,r.X$)({},i[a].format))),i[a].setParser(p.getParserFunction(i[a].format))),"string"===typeof i[a].format?(0,h.ni)(this.locator,i[a]):i[a].format||"number"!==i[a].type||i[a].setParser(l.getParserFunction({format:"n2"}))}},e.prototype.dataManagerSuccess=function(e,t){var i=this,n=this.parent;this.contentRenderer=this.renderer.getRenderer(u.nJ.Content),this.headerRenderer=this.renderer.getRenderer(u.nJ.Header),e.actionArgs=t;var o=this.parent.enableInfiniteScrolling&&!this.parent.infiniteScrollSettings.enableCache&&("delete"===t.requestType||"save"===t.requestType&&"add"===this.parent.infiniteScrollModule.requestType);n.trigger(c.AuS,e,(function(s){if(!s.cancel){s.result=(0,r.hX)(s.result)?[]:s.result;var l=Object.keys(s.result).length;if(!i.parent.isDestroyed)if(n.getColumns().length||l||n.columns.length&&n.columns[0]instanceof m.VP)if(!i.isInfiniteEnd(t)||l){if(i.parent.isEdit=!1,i.parent.notify(c.WE6,{}),i.parent.notify(c.YAh,{}),i.contentRenderer.prevCurrentView=i.parent.currentViewData.slice(),n.currentViewData=s.result,n.notify(c.Qhs,{args:t,data:s.result}),!l&&s.count&&n.allowPaging&&t&&"delete"!==t.requestType)return!i.parent.groupSettings.enableLazyLoading||"grouping"!==t.requestType&&"ungrouping"!==t.requestType||i.parent.notify(c.vEO,t),n.prevPageMoving=!0,n.pageSettings.totalRecordsCount=s.count,"paging"!==t.requestType&&(n.pageSettings.currentPage=Math.ceil(s.count/n.pageSettings.pageSize)),void n.dataBind();if((n.getColumns().length||!l)&&i.isLayoutRendered||(0,h.Gj)(n)||i.updatesOnInitialRender(s),!i.isColTypeDef&&n.getCurrentViewRecords()&&(i.data.dataManager.dataSource.offline&&n.dataSource&&n.dataSource.length?i.updateColumnType(n.dataSource[0]):i.updateColumnType(n.getCurrentViewRecords()[0])),i.parent.isInitialLoad||!i.parent.groupSettings.disablePageWiseAggregates||i.parent.groupSettings.columns.length||(s.result=i.parent.dataSource instanceof Array?i.parent.dataSource:i.parent.currentViewData),!i.parent.isReact&&!i.parent.isVue||(0,r.hX)(t)||"infiniteScroll"===t.requestType||t.isFrozen||(0,h.Qy)(i.parent,["footerTemplate"]),i.parent.notify(c.yUO,(0,r.X$)({count:s.count,result:s.result,aggregates:s.aggregates},t)),(n.groupSettings.columns.length||t&&"ungrouping"===t.requestType)&&t&&"filtering"!==t.requestType&&i.headerRenderer.refreshUI(),l){if((0,h.Gj)(n)){t.scrollTop={top:i.contentRenderer.content.scrollTop}}o?i.parent.notify(c.DOO,{e:t,result:e.result,count:e.count,agg:e.aggregates}):i.parent.enableImmutableMode?i.contentRenderer.immutableModeRendering(t):i.contentRenderer.refreshContentRows(t)}else{if(t&&t.isCaptionCollapse)return;if(!n.getColumns().length)return n.element.innerHTML="",void alert(i.l10n.getConstant("EmptyDataSourceError"));if(i.contentRenderer.setRowElements([]),i.contentRenderer.setRowObjects([]),i.ariaService.setBusy(i.parent.getContent().querySelector("."+T.Qs),!1),i.renderEmptyRow(),t){var a=(t.requestType||"").toLowerCase()+"-complete";i.parent.notify(a,t),"batchsave"===t.requestType&&(t.cancel=!1,t.rows=[],t.isFrozen=0!==i.parent.getFrozenColumns()&&!t.isFrozen,i.parent.trigger(c.wn6,t))}i.parent.hideSpinner()}i.parent.notify(c.VxU,{}),i.setRowCount(i.parent.getCurrentViewRecords().length),i.parent.getDataModule().isQueryInvokedFromData=!1}else i.parent.notify(c.DOO,{e:t,result:e.result,count:e.count,agg:e.aggregates});else n.hideSpinner()}}))},e.prototype.dataManagerFailure=function(e,t){this.ariaService.setOptions(this.parent.getContent().querySelector("."+T.Qs),{busy:!1,invalid:!0}),this.setRowCount(1),this.parent.trigger(c.zkh,{error:e}),this.parent.hideSpinner(),"save"!==t.requestType&&"delete"!==t.requestType&&"bulk-save"!==t.name&&(this.parent.currentViewData=[],this.renderEmptyRow(),this.parent.log("actionfailure",{error:e}))},e.prototype.setRowCount=function(e){this.ariaService.setOptions(this.parent.getHeaderTable(),{rowcount:e?e.toString():"1"})},e.prototype.isInfiniteEnd=function(e){return this.parent.enableInfiniteScrolling&&!this.parent.infiniteScrollSettings.enableCache&&"delete"===e.requestType},e.prototype.updatesOnInitialRender=function(e){this.isLayoutRendered=!0,this.parent.columns.length<1&&this.buildColumns(e.result[0]),(0,h.X2)(this.parent.columns,null,this.parent),this.headerRenderer.renderTable(),this.contentRenderer.renderTable(),this.parent.isAutoGen=!0,this.parent.notify(c.a6z,{})},e.prototype.iterateComplexColumns=function(e,t,i){for(var r=Object.keys(e),n=0;n<r.length;n++){("object"!==typeof e[r[n]]||!e[r[n]]||e[r[n]]instanceof Date?[]:Object.keys(e[r[n]])).length?this.iterateComplexColumns(e[r[n]],t+(r[n]+"."),i):(i[this.counter]=t+r[n],this.counter++)}},e.prototype.buildColumns=function(e){var t=[],i={};this.iterateComplexColumns(e,"",i);for(var n=Object.keys(i).filter((function(e){return"BlazId"!==i[e]})).map((function(e){return i[e]})),o=0,s=n.length;o<s;o++)t[o]={field:n[o]},this.parent.enableColumnVirtualization&&(t[o].width=(0,r.hX)(t[o].width)?200:t[o].width);this.parent.setProperties({columns:t},!0)},e.prototype.instantiateRenderer=function(){this.renderer.addRenderer(u.nJ.Header,new z(this.parent,this.locator)),this.renderer.addRenderer(u.nJ.Content,new A(this.parent,this.locator));var e=this.locator.getService("cellRendererFactory");e.addCellRenderer(u.vZ.Header,new B(this.parent,this.locator)),e.addCellRenderer(u.vZ.Data,new D.w(this.parent,this.locator)),e.addCellRenderer(u.vZ.StackedHeader,new H(this.parent,this.locator)),e.addCellRenderer(u.vZ.Indent,new N(this.parent,this.locator)),e.addCellRenderer(u.vZ.GroupCaption,new V(this.parent,this.locator)),e.addCellRenderer(u.vZ.GroupCaptionEmpty,new j(this.parent,this.locator)),e.addCellRenderer(u.vZ.Expand,new G(this.parent,this.locator)),e.addCellRenderer(u.vZ.HeaderIndent,new K(this.parent,this.locator)),e.addCellRenderer(u.vZ.StackedHeader,new H(this.parent,this.locator)),e.addCellRenderer(u.vZ.DetailHeader,new U(this.parent,this.locator)),e.addCellRenderer(u.vZ.RowDragHIcon,new te(this.parent,this.locator)),e.addCellRenderer(u.vZ.DetailExpand,new Z(this.parent,this.locator)),e.addCellRenderer(u.vZ.DetailFooterIntent,new N(this.parent,this.locator)),e.addCellRenderer(u.vZ.RowDragIcon,new Y(this.parent,this.locator))},e.prototype.addEventListener=function(){var e=this;this.parent.isDestroyed||(this.parent.on(c.X0B,this.instantiateRenderer,this),this.parent.on("refreshdataSource",this.dataManagerSuccess,this),this.parent.on(c.AyK,this.refresh,this),this.parent.on(c.jmw,this.refreshComplete,this),this.parent.on(c.WyP,this.sendBulkRequest,this),this.parent.on(c.hoW,(function(){e.emptyGrid=!0}),this),this.parent.on(c.a6z,this.dynamicColumnChange,this))},e.prototype.validateGroupRecords=function(e){var t=this,i=e.result.length-1;if(i<0)return Promise.resolve(e);var r=e.result[0],n=e.result[i],s=[],l=function(e){for(var i=[r,n],o=0;o<i.length;o++)s.push(new p.m("field","==",i[o].field).and(t.getPredicate("key","equal",i[o].key)));e.where(p.m.or(s))},a=new p.X;l(a);var h=new o.M(e.result).executeLocal(a),c=this.data.generateQuery(!0),d=[];if(this.data.isRemote()){for(var u=[r,n],g=0;g<u.length;g++)d.push(this.getPredicate(u[g].field,"equal",u[g].key));c.where(p.m.or(d))}else l(c);var f=new o.c;return this.data.getData({},c).then((function(i){t.updateGroupInfo(h,i.result),f.resolve(e)})).catch((function(e){return f.reject(e)})),f.promise},e.prototype.getPredicate=function(e,t,i){return i instanceof Date?(0,h.ek)({field:e,operator:t,value:i}):new p.m(e,t,i)},e.prototype.updateGroupInfo=function(e,t){for(var i=new o.M(t),s=e,l=0;l<s.length;l++){var a=i.executeLocal((new p.X).where(new p.m("field","==",s[l].field).and(this.getPredicate("key","equal",s[l].key))))[0];s[l].count=a.count;var h=s[l].items,c=a.items;h.GroupGuid&&(s[l].items=this.updateGroupInfo(s[l].items,a.items));for(var d=this.parent.aggregates,u=0;u<d.length;u++)for(var g=d[u],f=0;f<g.columns.length;f++)for(var m=g.columns[f].type instanceof Array?g.columns[f].type:[g.columns[f].type],y=0;y<m.length;y++){var v=g.columns[f].field+" - "+m[y].toLowerCase(),C=h.level?c.records:a.items,w=this.parent;if("Custom"===m[y]){var b=h.level?c:a,S=g.columns[f].customAggregate;"string"===typeof S&&(S=(0,r._W)(S,window)),s[l].aggregates[v]=S?S.call(w,b,g.columns[f]):""}else s[l].aggregates[v]=n.$.aggregates[m[y].toLowerCase()](C,g.columns[f].field)}}return e},e}(),re=function(){function e(){this.cellRenderMap={}}return e.prototype.addCellRenderer=function(e,t){e="string"===typeof e?e:(0,r.FD)(u.vZ,e),(0,r.hX)(this.cellRenderMap[e])&&(this.cellRenderMap[e]=t)},e.prototype.getCellRenderer=function(e){if(e="string"===typeof e?e:(0,r.FD)(u.vZ,e),(0,r.hX)(this.cellRenderMap[e]))throw"The cellRenderer "+e+" is not found";return this.cellRenderMap[e]},e}(),ne=i(1408),oe=function(){function e(){this.services={}}return e.prototype.register=function(e,t){(0,r.hX)(this.services[e])&&(this.services[e]=t)},e.prototype.getService=function(e){if((0,r.hX)(this.services[e]))throw"The service "+e+" is not registered";return this.services[e]},e.prototype.registerAdaptiveService=function(e,t,i){t?(e.responsiveDialogRenderer=new ne.w(e.parent,e.serviceLocator),e.responsiveDialogRenderer.action=i):e.responsiveDialogRenderer&&(e.responsiveDialogRenderer.removeEventListener(),e.responsiveDialogRenderer=void 0)},e}(),se=function(){function e(){this.rendererMap={}}return e.prototype.addRenderer=function(e,t){var i=(0,r.FD)(u.nJ,e);(0,r.hX)(this.rendererMap[i])&&(this.rendererMap[i]=t)},e.prototype.getRenderer=function(e){var t=(0,r.FD)(u.nJ,e);if((0,r.hX)(this.rendererMap[t]))throw"The renderer "+t+" is not found";return this.rendererMap[t]},e}(),le=function(){function e(e){this.parent=e}return e.prototype.setWidthToColumns=function(){var e,t=0,i=this.parent.getColumnIndexesInView(),r=!0;if(this.parent.allowGrouping)for(var n=this.parent.groupSettings.columns.length;t<n;t++)this.parent.enableColumnVirtualization&&-1===i.indexOf(t)?r=!1:this.setColumnWidth(new m.VP({width:"30px"}),t);(this.parent.detailTemplate||this.parent.childGrid)&&(this.setColumnWidth(new m.VP({width:"30px"}),t),t++),this.parent.isRowDragable()&&"Right"!==this.parent.getFrozenMode()&&(this.setColumnWidth(new m.VP({width:"30px"}),t),t++);for(var o=this.parent.getColumns(),s=0;s<o.length;s++)this.setColumnWidth(o[s],r&&this.parent.enableColumnVirtualization?void 0:s+t);this.parent.isRowDragable()&&"Right"===this.parent.getFrozenMode()&&this.setColumnWidth(new m.VP({width:"30px"}),o.length),e=this.getTableWidth(this.parent.getColumns()),"auto"!==this.parent.width&&-1===this.parent.width.toString().indexOf("%")&&this.setMinwidthBycalculation(e)},e.prototype.setMinwidthBycalculation=function(e){var t=0,i=this.parent.getColumns().filter((function(e){return(0,r.hX)(e.width)||"auto"===e.width}));if(i.length){t=(0,r.hX)(this.parent.width)||"auto"===this.parent.width||"string"!==typeof this.parent.width||-1!==this.parent.width.indexOf("%")?this.parent.element.getBoundingClientRect().width-e:("string"===typeof this.parent.width?parseInt(this.parent.width,10):this.parent.width)-e;for(var n=0,o=0,s=i;o<s.length;o++){var l=s[o];n+=(0,r.hX)(l.minWidth)?0:"string"===typeof l.minWidth?parseInt(l.minWidth,10):l.minWidth}for(var a=0;a<i.length;a++){0===e&&this.parent.allowResizing&&this.isWidthUndefined()&&a!==i.length-1&&this.setUndefinedColumnWidth(i);var h=this.parent.getColumnIndexByField(i[a].field)+this.parent.getIndentCount();0!==e&&t<n?this.setWidth(i[a].minWidth,h):0!==e&&t>n&&this.setWidth("",h,!0)}}},e.prototype.setUndefinedColumnWidth=function(e){for(var t=0;t<e.length;t++)t!==e.length-1&&(e[t].width=200,this.setWidth(200,this.parent.getColumnIndexByField(e[t].field)))},e.prototype.setColumnWidth=function(e,t,i){if(!(this.parent.getColumns().length<1)){var n=(0,r.hX)(t)?this.parent.getNormalizedColumnIndex(e.uid):t,o=this.getWidth(e),s=this.getTableWidth(this.parent.getColumns());null!==o&&(this.setWidth(o,n),"auto"!==this.parent.width&&-1===this.parent.width.toString().indexOf("%")&&this.setMinwidthBycalculation(s),(this.parent.allowResizing&&"resize"===i||this.parent.getFrozenColumns()&&this.parent.allowResizing)&&this.setWidthToTable(),this.parent.notify(c.XEZ,{index:n,width:o,column:e,module:i}))}},e.prototype.setWidth=function(e,t,i){this.parent.groupSettings.columns.length>t&&(0,h.$m)(this.parent)&&(e=(30/this.parent.element.offsetWidth*100).toFixed(1)+"%");var n,o=this.parent.getHeaderTable(),s=this.parent.getContentTable(),l=(0,r.IV)(e),a=this.parent.getFrozenColumns(),c=this.parent.isRowDragable();a=a&&c?a+1:a;var p,d=this.parent.getHeaderContent().querySelector("."+T.eW),u=this.parent.getContent().querySelector("."+T.S1),g=this.parent.getFrozenLeftColumnsCount(),f=this.parent.getFrozenRightColumnsCount(),m=this.parent.getMovableColumnsCount(),y=0!==g||0!==f;if(a&&t>=a){if(!d||!d.querySelector(T.uo))return;n=d.querySelector(T.uo).children[t-a]}else if(this.parent.enableColumnVirtualization&&a&&this.parent.contentModule.isXaxis()&&d.scrollLeft>0){n=(w=d.querySelector(T.uo)).children[w.children.length-1-t]}else if(y){var v=void 0;if(g&&!f)v=(t=c?t-1:t)<g?o:d;else if(!g&&f)v=t>=m?o:d;else if(g&&f){t=c?t-1:t;var C=this.parent.getFrozenRightHeader();v=t<g?o:t<g+m?d:C}if(!(n=this.getColumnLevelFrozenColgroup(t,g,m,v)))return}else n=o.querySelector(T.uo).children[t];if(n&&!i?n.style.width=l:n&&i&&(n.style.width=""),a&&t>=a)p=this.parent.getContent().querySelector("."+T.S1).querySelector(T.uo).children[t-a];else if(this.parent.enableColumnVirtualization&&a&&this.parent.contentModule.isXaxis()&&u.scrollLeft>0){var w;p=(w=this.parent.getContent().querySelector("."+T.S1).querySelector(T.uo)).children[w.children.length-1-t]}else if(y){v=void 0;if(g&&!f&&(v=t<g?s:u),!g&&f&&(v=t>=m?s:u),g&&f){var b=this.parent.getContent().querySelector(".e-frozen-right-content");v=t<g?s:t<g+m?u:b}p=this.getColumnLevelFrozenColgroup(t,g,m,v)}else p=s.querySelector(T.uo).children[t];if(p&&!i?p.style.width=l:p&&i&&(p.style.width=""),!this.parent.enableColumnVirtualization){for(var S=this.parent.element.querySelectorAll(".e-table.e-inline-edit"),R=[],x=0;x<S.length;x++)if((0,h.oC)(S[x],"e-grid").id===this.parent.element.id)for(var F=0;F<S[x].querySelector("colgroup").children.length;F++)R.push(S[x].querySelector("colgroup").children[F]);S.length&&R.length&&(R[t].style.width=l)}this.parent.isFrozenGrid()&&this.refreshFrozenScrollbar()},e.prototype.getColumnLevelFrozenColgroup=function(e,t,i,r){if(!r||!r.querySelector(T.uo))return null;var n=this.parent.getColumns(),o=this.parent.isRowDragable(),s=this.parent.getFrozenMode(),l=[].slice.call(r.querySelector(T.uo).children);return"Right"===s&&o&&e===i+this.parent.getFrozenRightColumnsCount()?l[l.length-1]:o&&-1===e?l[0]:"Left"===n[e].freeze?l[o?e+1:e]:"Right"===n[e].freeze?l[e-(t+i)]:l[e-t]},e.prototype.refreshFrozenScrollbar=function(){var e={cancel:!1};if(this.parent.notify(c.di1,e),!e.cancel){var t=(0,h.F_)(),i=this.parent.element.querySelector(".e-frozenscrollbar"),r=this.parent.element.querySelector(".e-movablescrollbar"),n=this.parent.getContent().querySelector("."+T.oL),o=this.parent.getContent().querySelector("."+T.S1),s=n.firstElementChild.getBoundingClientRect().width,l=o.firstElementChild.getBoundingClientRect().width;if("Right"===this.parent.getFrozenMode()&&(s+=t),i.style.width=s+"px",this.parent.getFrozenMode()===T.U0){var a=this.parent.element.querySelector(".e-frozen-right-scrollbar"),p=this.parent.getContent().querySelector(".e-frozen-right-content").firstElementChild.getBoundingClientRect().width;"auto"!==this.parent.height&&(p+=t),a.style.width=p+"px"}else{if(this.parent.enableColumnVirtualization){var d=this.parent.getMovableVirtualContent().querySelector(".e-virtualtrack");d&&(l=d.scrollWidth)}"Right"!==this.parent.getFrozenMode()&&"auto"!==this.parent.height&&(l+=t)}r.firstElementChild.style.width=l+"px"}},e.prototype.getSiblingsHeight=function(e){return this.getHeightFromDirection(e,"previous")+this.getHeightFromDirection(e,"next")},e.prototype.getHeightFromDirection=function(e,t){for(var i=e[t+"ElementSibling"],r=0,n=[T.iM,T.kC,"e-groupdroparea","e-gridpager","e-toolbar"];i;)n.some((function(e){return i.classList.contains(e)}))&&(r+=i.offsetHeight),i=i[t+"ElementSibling"];return r},e.prototype.isWidthUndefined=function(){var e=this.parent.getColumns().filter((function(e){return(0,r.hX)(e.width)&&(0,r.hX)(e.minWidth)})).length;return this.parent.getColumns().length===e},e.prototype.getWidth=function(e){if((0,r.hX)(e.width)&&this.parent.allowResizing&&(0,r.hX)(e.minWidth)&&!this.isWidthUndefined()&&(e.width=200),this.parent.isFrozenGrid()&&(0,r.hX)(e.width)&&(e.getFreezeTableName()===T.qf||e.getFreezeTableName()===T.Xg)&&(e.width=200),!e.width)return null;var t=parseInt(e.width.toString(),10);return e.minWidth&&t<parseInt(e.minWidth.toString(),10)?e.minWidth:e.maxWidth&&t>parseInt(e.maxWidth.toString(),10)?e.maxWidth:e.width},e.prototype.getTableWidth=function(e){for(var t=0,i=0,r=e;i<r.length;i++){var n=r[i],o=this.getWidth(n);"auto"===n.width&&(o=0),!1!==n.visible&&null!==o&&(t+=parseInt(o.toString(),10))}return t},e.prototype.calcMovableOrFreezeColWidth=function(e){var t=this.parent.getColumns().slice(),i=this.parent.getFrozenLeftColumnsCount()||this.parent.getFrozenColumns(),n=this.parent.getMovableColumnsCount(),o=this.parent.getFrozenRightColumnsCount();return"movable"===e?(o&&t.splice(i+n,t.length),i&&t.splice(0,i)):"freeze-left"===e?t.splice(i,t.length):"freeze-right"===e&&t.splice(0,i+n),(0,r.IV)(this.getTableWidth(t))},e.prototype.setWidthToFrozenRightTable=function(){var e=this.calcMovableOrFreezeColWidth("freeze-right");e=this.isAutoResize()?"100%":e;var t=this.parent.getHeaderContent().querySelector(".e-frozen-right-header").querySelector("."+T.tp),i=this.parent.getContent().querySelector(".e-frozen-right-content").querySelector("."+T.tp);t.style.width=e,i.style.width=e},e.prototype.setWidthToFrozenLeftTable=function(){var e=this.calcMovableOrFreezeColWidth("freeze-left");e=this.isAutoResize()?"100%":e,this.parent.getHeaderTable().style.width=e,this.parent.getContentTable().style.width=e},e.prototype.setWidthToMovableTable=function(){var e="",t=this.parent.getColumns().filter((function(e){return(0,r.hX)(e.width)})).length>=1,i=this.parent.getColumns().filter((function(e){return"auto"===e.width})).length>=1;"number"!==typeof this.parent.width||t||i?t||i||(e=this.calcMovableOrFreezeColWidth("movable")):e=(0,r.IV)(this.parent.width-parseInt(this.calcMovableOrFreezeColWidth("freeze").split("px")[0],10)-5),e=this.isAutoResize()?"100%":e,this.parent.getHeaderContent().querySelector("."+T.eW).firstElementChild&&(this.parent.getHeaderContent().querySelector("."+T.eW).firstElementChild.style.width=e),this.parent.getContent().querySelector("."+T.S1).firstElementChild.style.width=e},e.prototype.setWidthToFrozenEditTable=function(){var e=this.calcMovableOrFreezeColWidth("freeze");e=this.isAutoResize()?"100%":e,this.parent.element.querySelectorAll(".e-table.e-inline-edit")[0].style.width=e},e.prototype.setWidthToMovableEditTable=function(){var e=this.calcMovableOrFreezeColWidth("movable");e=this.isAutoResize()?"100%":e,this.parent.element.querySelectorAll(".e-table.e-inline-edit")[1].style.width=e},e.prototype.setWidthToTable=function(){var e=(0,r.IV)(this.getTableWidth(this.parent.getColumns()));this.parent.isFrozenGrid()?((this.parent.getFrozenColumns()||this.parent.getFrozenLeftColumnsCount())&&this.setWidthToFrozenLeftTable(),this.setWidthToMovableTable(),this.parent.getFrozenRightColumnsCount()&&this.setWidthToFrozenRightTable()):((this.parent.detailTemplate||this.parent.childGrid)&&this.setColumnWidth(new m.VP({width:"30px"})),e=this.isAutoResize()?"100%":e,this.parent.getHeaderTable().style.width=e,this.parent.getContentTable().style.width=e);var t=this.parent.element.querySelector(".e-table.e-inline-edit");t&&this.parent.getFrozenColumns()?(this.setWidthToFrozenEditTable(),this.setWidthToMovableEditTable()):t&&(t.style.width=e)},e.prototype.isAutoResize=function(){return this.parent.allowResizing&&"Auto"===this.parent.resizeSettings.mode},e}(),ae=i(3548),he=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function r(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),ce=function(e,t,i,r){var n,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,r);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},pe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return he(t,e),ce([(0,r.mA)(12)],t.prototype,"pageSize",void 0),ce([(0,r.mA)(8)],t.prototype,"pageCount",void 0),ce([(0,r.mA)(1)],t.prototype,"currentPage",void 0),ce([(0,r.mA)()],t.prototype,"totalRecordsCount",void 0),ce([(0,r.mA)(!1)],t.prototype,"enableQueryString",void 0),ce([(0,r.mA)(!1)],t.prototype,"pageSizes",void 0),ce([(0,r.mA)(null)],t.prototype,"template",void 0),t}(r.I1),de=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function r(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),ue=function(e,t,i,r){var n,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,r);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},ge=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return de(t,e),ue([(0,r.mA)("startsWith")],t.prototype,"operator",void 0),ue([(0,r.mA)(!1)],t.prototype,"ignoreAccent",void 0),t}(r.I1),fe=i(225),me=i(1531),ye=function(){function e(e){this.parent=e}return e.prototype.show=function(e,t){var i=this.getToggleFields(e),r=this.getColumns(i,t);this.parent.notify(c.YAh,{module:"edit"});for(var n=0;n<r.length;n++)r[n].visible=!0;this.setVisible(r)},e.prototype.hide=function(e,t){var i=this.getToggleFields(e),r=this.getColumns(i,t);this.parent.notify(c.YAh,{module:"edit"});for(var n=0;n<r.length;n++)r[n].visible=!1;this.setVisible(r)},e.prototype.getToggleFields=function(e){return"string"===typeof e?[e]:e},e.prototype.getColumns=function(e,t){var i=this;return(0,h.mg)(e,(function(e){return(0,h.mg)(i.parent.columnModel,(function(i){if(i[t]===e)return i}))[0]}))},e.prototype.setVisible=function(e,t){var i=this;void 0===t&&(t=[]);var n={requestType:"columnstate",cancel:!1,columns:t=t.length>0?t:e};this.parent.trigger(c.eYd,n,(function(n){var o=i.parent.getColumns();if(e=(0,r.hX)(e)?o:e,n.cancel)return i.parent.notify(c.d16,{showHideArgs:n}),void(e.length>0&&(e[0].visible=!0));((0,h.Gj)(i.parent)&&i.parent.contentModule.emptyVcRows(),i.parent.allowSelection&&i.parent.getSelectedRecords().length&&!i.parent.selectionSettings.persistSelection&&i.parent.clearSelection(),i.parent.enableColumnVirtualization)?e.filter((function(e){return o.some((function(t){return e.field===t.field}))})).length&&i.parent.notify(c.nDA,e):i.parent.notify(c.nDA,e);var s={requestType:"columnstate",columns:t};i.parent.trigger(c.wn6,s),"All"!==i.parent.columnQueryMode&&i.parent.refresh()}))},e}(),ve=function(){function e(e){this.previousValues={top:0,left:0},this.oneTimeReady=!0,this.parent=e,this.widthService=new le(e),this.addEventListener()}return e.prototype.getModuleName=function(){return"scroll"},e.prototype.setWidth=function(e){this.parent.element.style.width=(0,r.IV)(this.parent.width),e&&this.widthService.setWidthToColumns(),this.parent.toolbarModule&&this.parent.toolbarModule.toolbar&&this.parent.toolbarModule.toolbar.element&&this.parent.toolbarModule.toolbar.refreshOverflow()},e.prototype.setHeight=function(){var t=0,i=this.parent.getContent().querySelector("."+T.Qs),n=this.parent.height;if(this.parent.isFrozenGrid()&&"auto"!==this.parent.height&&this.parent.height.toString().indexOf("%")<0&&(n=parseInt(n,10)-e.getScrollBarWidth()),!this.parent.enableVirtualization&&this.parent.frozenRows&&"auto"!==this.parent.height){var o=this.parent.getHeaderContent().querySelector(T.T_);if(t=o?o.offsetHeight:0,o&&t)t-=o.getElementsByClassName(T.jm).length*this.parent.getRowHeight();i.style.height=(0,r.IV)(n-t)}else i.style.height=(0,r.IV)(n);this.ensureOverflow(i),this.parent.isFrozenGrid()&&this.refresh()},e.prototype.setPadding=function(){var t=this.parent.getHeaderContent(),i=e.getScrollBarWidth()-this.getThreshold(),r=this.getCssProperties(),n="Right"===this.parent.getFrozenMode()||this.parent.getFrozenMode()===T.U0?"0.5px":"1px";t.querySelector("."+T.VW).style[r.border]=i>0?n:"0px",t.style[r.padding]=i>0?i+"px":"0px"},e.prototype.removePadding=function(e){var t=this.getCssProperties(e),i=this.parent.getHeaderContent().querySelector("."+T.VW);i.style[t.border]="",i.parentElement.style[t.padding]="";var r=this.parent.getFooterContent();r&&r.classList.contains("e-footerpadding")&&r.classList.remove("e-footerpadding")},e.prototype.refresh=function(){if("100%"===this.parent.height){var e=this.parent.getContent();this.parent.element.style.height="100%";var t=this.widthService.getSiblingsHeight(e);e.style.height="calc(100% - "+t+"px)",this.parent.isFrozenGrid()&&(e.firstElementChild.style.height="calc(100% - "+(0,h.F_)()+"px)")}},e.prototype.getThreshold=function(){return"mozilla"===r.Pw.info.name?.5:1},e.prototype.addEventListener=function(){this.parent.isDestroyed||(this.parent.on(c.DjW,this.wireEvents,this),this.parent.on(c.PRb,this.wireEvents,this),this.parent.on(c.yPb,this.onPropertyChanged,this),this.parent.on(c.rZT,this.wireEvents,this),this.parent.on(c.CRr,this.setScrollLeft,this))},e.prototype.removeEventListener=function(){this.parent.isDestroyed||(this.parent.off(c.DjW,this.wireEvents),this.parent.off(c.PRb,this.wireEvents),this.parent.off(c.yPb,this.onPropertyChanged),this.parent.off(c.rZT,this.wireEvents),this.parent.off(c.CRr,this.setScrollLeft))},e.prototype.setScrollLeft=function(){this.parent.isFrozenGrid()?this.parent.headerModule.getMovableHeader().scrollLeft=this.previousValues.left:this.parent.getHeaderContent().querySelector("."+T.VW).scrollLeft=this.previousValues.left},e.prototype.onFrozenContentScroll=function(){var e=this;return function(t){null===e.content.querySelector(T.T_)||e.parent.isPreventScrollEvent||(!(0,r.hX)(e.parent.infiniteScrollModule)&&e.parent.enableInfiniteScrolling&&e.parent.notify(c.OG1,t),e.previousValues.top=t.target.scrollTop)}},e.prototype.onContentScroll=function(e){var t=this,i=e,n=i.classList.contains(T.VW);return function(e){if(null!==t.content.querySelector(T.T_)&&!t.parent.isPreventScrollEvent){var o=e.target,s=o.scrollLeft;if(!(0,r.hX)(t.parent.infiniteScrollModule)&&t.parent.enableInfiniteScrolling&&t.parent.notify(c.OG1,{target:e.target,isLeft:t.previousValues.left!==s}),t.parent.groupSettings.columns.length&&t.parent.groupSettings.enableLazyLoading){var l=t.previousValues.top<t.parent.getContent().firstElementChild.scrollTop;t.parent.notify(c.UUH,{scrollDown:l})}t.parent.notify(c.pE7,{});var a=o.classList.contains("e-summarycontent");t.previousValues.left!==s?(t.parent.notify(c.Bec,e),i.scrollLeft=s,a&&(t.header.scrollLeft=s),t.previousValues.left=s,t.parent.notify(c.W23,{left:s})):t.previousValues.top=n?o.scrollTop:t.previousValues.top}}},e.prototype.onCustomScrollbarScroll=function(e,t){var i=this,r=e,n=t;return function(e){if(null!==i.content.querySelector(T.T_)){var t=e.target.scrollLeft;i.previousValues.left!==t&&(r.scrollLeft=t,n.scrollLeft=t,i.previousValues.left=t,i.parent.notify(c.W23,{left:t}),i.parent.isDestroyed)}}},e.prototype.onTouchScroll=function(e){var t=this,i=e;return function(e){if("mouse"!==e.pointerType){var r=t.parent.isFrozenGrid(),n=t.getPointXY(e),o=i.scrollLeft+(t.pageXY.x-n.x),s=r?t.parent.getHeaderContent().querySelector("."+T.eW):t.parent.getHeaderContent().querySelector("."+T.VW),l=r?t.parent.getContent().querySelector("."+T.S1):t.parent.getContent().querySelector("."+T.Qs);if(!(t.previousValues.left===o||o<0||s.scrollWidth-s.clientWidth<o)){if(e.preventDefault(),s.scrollLeft=o,l.scrollLeft=o,r)t.parent.getContent().querySelector(".e-movablescrollbar").scrollLeft=o;t.pageXY.x=n.x,t.previousValues.left=o}}}},e.prototype.setPageXY=function(){var e=this;return function(t){"mouse"!==t.pointerType&&(e.pageXY=e.getPointXY(t))}},e.prototype.getPointXY=function(e){var t={x:0,y:0};return e.touches&&e.touches.length?(t.x=e.touches[0].pageX,t.y=e.touches[0].pageY):(t.x=e.pageX,t.y=e.pageY),t},e.prototype.getScrollbleParent=function(e){if(null===e)return null;var t=(0,r.hX)(e.tagName)?e.scrollingElement:e,i=document.defaultView.getComputedStyle(t,null).overflowY;return t.scrollHeight>t.clientHeight&&"hidden"!==i&&"visible"!==i||"HTML"===e.tagName||"BODY"===e.tagName?e:this.getScrollbleParent(e.parentNode)},e.prototype.addStickyListener=function(e){this.parentElement=this.getScrollbleParent(this.parent.element.parentElement),e?this.parentElement&&r.Jm.add("HTML"===this.parentElement.tagName||"BODY"===this.parentElement.tagName?document:this.parentElement,"scroll",this.makeStickyHeader,this):r.Jm.remove(this.parentElement,"scroll",this.makeStickyHeader)},e.prototype.wireEvents=function(){var e=this;if(this.oneTimeReady){var t=this.parent.isFrozenGrid();this.content=this.parent.getContent().querySelector("."+T.Qs),this.header=this.parent.getHeaderContent().querySelector("."+T.VW);var i=this.content.querySelector("."+T.S1),n=this.header.querySelector("."+T.eW),o=this.parent.getContent().querySelector(".e-movablescrollbar");this.parent.frozenRows&&(r.Jm.add(t?n:this.header,"touchstart pointerdown",this.setPageXY(),this),r.Jm.add(t?n:this.header,"touchmove pointermove",this.onTouchScroll(t?i:this.content),this)),this.parent.isFrozenGrid()?(r.Jm.add(o,"scroll",this.onCustomScrollbarScroll(i,n),this),r.Jm.add(i,"scroll",this.onCustomScrollbarScroll(o,n),this),r.Jm.add(n,"scroll",this.onCustomScrollbarScroll(o,i),this),r.Jm.add(this.content,"scroll",this.onFrozenContentScroll(),this),r.Jm.add(n,"touchstart pointerdown",this.setPageXY(),this),r.Jm.add(n,"touchmove pointermove",this.onTouchScroll(i),this),r.Jm.add(i,"touchstart pointerdown",this.setPageXY(),this),/macintosh|ipad/.test(r.Pw.userAgent.toLowerCase())&&r.Pw.isDevice||r.Jm.add(i,"touchmove pointermove",this.onTouchScroll(n),this)):(r.Jm.add(this.content,"scroll",this.onContentScroll(this.header),this),r.Jm.add(this.header,"scroll",this.onContentScroll(this.content),this)),this.parent.aggregates.length&&r.Jm.add(this.parent.getFooterContent().firstChild,"scroll",this.onContentScroll(this.content),this),this.parent.enableStickyHeader&&this.addStickyListener(!0),this.refresh(),this.oneTimeReady=!1}var s,l,a,p=this.parent.getContentTable();(0,h.Vv)((function(){s=e.header.scrollLeft,l=p.scrollHeight,a=e.parent.getContent().clientHeight}),(function(){var t={cancel:!1};e.parent.notify(c.n9z,t),e.parent.enableVirtualization||e.parent.enableInfiniteScrolling||(l<a&&((0,r.iQ)(p.querySelectorAll("tr:last-child td"),"e-lastrowcell"),e.parent.isFrozenGrid()&&((0,r.iQ)(e.parent.getContent().querySelector("."+T.S1).querySelectorAll("tr:last-child td"),"e-lastrowcell"),e.parent.getFrozenRightColumnsCount()&&(0,r.iQ)(e.parent.getContent().querySelector(".e-frozen-right-content").querySelectorAll("tr:last-child td"),"e-lastrowcell"))),t.cancel||((e.parent.frozenRows>0||e.parent.isFrozenGrid())&&e.header.querySelector("."+T.eW)?e.header.querySelector("."+T.eW).scrollLeft=e.previousValues.left:e.header.scrollLeft=e.previousValues.left,e.content.scrollLeft=e.previousValues.left,e.content.scrollTop=e.previousValues.top)),e.parent.enableColumnVirtualization||(e.content.scrollLeft=s),e.parent.isFrozenGrid()&&e.header.querySelector("."+T.eW)&&(e.header.querySelector("."+T.eW).scrollLeft=e.content.querySelector("."+T.S1).scrollLeft)})),this.parent.isPreventScrollEvent=!1},e.prototype.getCssProperties=function(e){var t={},i=(0,r.hX)(e)?this.parent.enableRtl:e;return t.border=i?"borderLeftWidth":"borderRightWidth",t.padding=i?"paddingLeft":"paddingRight",t},e.prototype.ensureOverflow=function(e){e.style.overflowY="auto"===this.parent.height?"auto":"scroll"},e.prototype.onPropertyChanged=function(e){if(e.module===this.getModuleName()){this.setPadding(),this.oneTimeReady=!0,"auto"===this.parent.height&&this.removePadding(),this.wireEvents(),this.setHeight();this.setWidth(!(0,r.hX)(e.properties.width))}},e.prototype.makeStickyHeader=function(){if(this.parent.enableStickyHeader&&this.parent.element&&this.parent.getContent()){var e=this.parent.getContent().getClientRects()[0];if(e){var t=this.parent.getHeaderContent(),i=this.parent.element.querySelector(".e-toolbar"),r=this.parent.element.querySelector(".e-groupdroparea"),n=t.offsetHeight+(i?i.offsetHeight:0)+(r?r.offsetHeight:0),o=this.parentElement.getClientRects()[0].top,s=e.top-(o<0?0:o),l=e.left;if(s<n&&e.bottom>0){t.classList.add("e-sticky");var a=0;r&&this.parent.groupSettings.showDropArea&&(this.setSticky(r,a,e.width,l,!0),a+=r.getClientRects()[0].height),i&&(this.setSticky(i,a,e.width,l,!0),a+=i.getClientRects()[0].height),this.setSticky(t,a,e.width,l,!0)}else if(t.classList.contains("e-sticky")){this.setSticky(t,null,null,null,!1),i&&this.setSticky(i,null,null,null,!1),r&&this.setSticky(r,null,null,null,!1);var h=this.parent.element.querySelector(".e-ccdlg");h&&h.classList.remove("e-sticky")}this.parent.notify(c.y0t,{})}}},e.prototype.setSticky=function(e,t,i,r,n){n?(e.style.width=i+"px",e.classList.add("e-sticky")):e.classList.remove("e-sticky"),e.style.top=null!=t?t+"px":"",e.style.left=null!==r?parseInt(e.style.left,10)!==r?r+"px":e.style.left:""},e.prototype.destroy=function(){var e=this.parent.element;if(e&&(e.querySelector("."+T.iM)||e.querySelector("."+T.iV))){this.removeEventListener();var t=this.parent.getContent().querySelector("."+T.Qs);r.Jm.remove(t,"scroll",this.onContentScroll),this.parent.enableStickyHeader&&this.addStickyListener(!1),this.removePadding(),(0,r.vy)([this.parent.getHeaderContent().querySelector("."+T.VW)],T.VW),(0,r.vy)([t],T.Qs),t.style.height="",this.parent.element.style.width=""}},e.getScrollBarWidth=function(){return(0,h.F_)()},e}(),Ce=i(9100),we=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function r(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),be=function(e,t,i,r){var n,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,r);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},Se=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.templateFn={},t}return we(t,e),t.prototype.setFormatter=function(e){this.formatFn=e},t.prototype.getFormatter=function(){return this.formatFn},t.prototype.setTemplate=function(e){void 0===e&&(e={}),void 0!==this.footerTemplate&&(this.templateFn[(0,r.FD)(u.vZ,u.vZ.Summary)]={fn:(0,r.wE)(this.footerTemplate,e),property:"footerTemplate"}),void 0!==this.groupFooterTemplate&&(this.templateFn[(0,r.FD)(u.vZ,u.vZ.GroupSummary)]={fn:(0,r.wE)(this.groupFooterTemplate,e),property:"groupFooterTemplate"}),void 0!==this.groupCaptionTemplate&&(this.templateFn[(0,r.FD)(u.vZ,u.vZ.CaptionSummary)]={fn:(0,r.wE)(this.groupCaptionTemplate,e),property:"groupCaptionTemplate"})},t.prototype.getTemplate=function(e){return this.templateFn[(0,r.FD)(u.vZ,e)]},t.prototype.setPropertiesSilent=function(e){this.setProperties(e,!0)},be([(0,r.mA)()],t.prototype,"type",void 0),be([(0,r.mA)()],t.prototype,"field",void 0),be([(0,r.mA)()],t.prototype,"columnName",void 0),be([(0,r.mA)()],t.prototype,"format",void 0),be([(0,r.mA)()],t.prototype,"footerTemplate",void 0),be([(0,r.mA)()],t.prototype,"groupFooterTemplate",void 0),be([(0,r.mA)()],t.prototype,"groupCaptionTemplate",void 0),be([(0,r.mA)()],t.prototype,"customAggregate",void 0),t}(r.I1),Re=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return we(t,e),be([(0,r.pM)([],Se)],t.prototype,"columns",void 0),t}(r.I1),xe=function(){function e(e){this.copyContent="",this.isSelect=!1,this.parent=e,this.addEventListener()}return e.prototype.addEventListener=function(){this.parent.isDestroyed||(this.parent.on(c.PRb,this.initialEnd,this),this.parent.on(c._ld,this.keyDownHandler,this),this.parent.on(c.jMr,this.clickHandler,this),r.Jm.add(this.parent.element,"keydown",this.pasteHandler,this))},e.prototype.removeEventListener=function(){this.parent.isDestroyed||(this.parent.off(c._ld,this.keyDownHandler),this.parent.off(c.PRb,this.initialEnd),this.parent.off(c.jMr,this.clickHandler),r.Jm.remove(this.parent.element,"keydown",this.pasteHandler))},e.prototype.clickHandler=function(e){var t=e.target;t=(0,h.oC)(t,"e-rowcell")},e.prototype.pasteHandler=function(e){var t=this,i=this.parent,n=/(Mac)/i.test(navigator.platform);if(67===e.keyCode&&n&&e.metaKey&&!i.isEdit&&this.copy(),86===e.keyCode&&(e.ctrlKey||n&&e.metaKey)&&!i.isEdit){if(!(0,r.kp)(document.activeElement,"."+T.Jt)||!i.editSettings.allowEditing||"Batch"!==i.editSettings.mode||"Cell"!==i.selectionSettings.mode||"Flow"===i.selectionSettings.cellSelectionMode)return;this.activeElement=document.activeElement,this.clipBoardTextArea.value="";var o=window.scrollX,s=window.scrollY;this.clipBoardTextArea.focus(),setTimeout((function(){t.activeElement.focus(),window.scrollTo(o,s),t.paste(t.clipBoardTextArea.value,t.parent.getSelectedRowCellIndexes()[0].rowIndex,t.parent.getSelectedRowCellIndexes()[0].cellIndexes[0])}),10)}},e.prototype.paste=function(e,t,i){var n,o,s,l=this.parent,a=i,h=t;if(l.editSettings.allowEditing&&"Batch"===l.editSettings.mode&&"Cell"===l.selectionSettings.mode&&"Flow"!==l.selectionSettings.cellSelectionMode){var p,d,u,g=e.split("\n"),f=l.getDataRows(),m=this.parent.isFrozenGrid();m&&(d=l.getMovableDataRows(),l.getFrozenRightColumnsCount()&&(u=l.getFrozenRightDataRows()));for(var y=0;y<g.length;y++){if(p=g[y].split("\t"),a=i,y===g.length-1&&""===g[y]||(0,r.b0)(l.getRowByIndex(h))){a++;break}for(var v=0;v<p.length;v++){if(s=l.getCellFromIndex(h,a),m){var C=f[h],w=d[h];if(s=!!C.querySelector('[aria-colindex="'+a+'"]')||w.querySelector('[aria-colindex="'+a+'"]'),u&&!s)s=u[h].querySelector('[aria-colindex="'+a+'"]')}if(!s){a++;break}if(o=(n=l.getColumnByIndex(a)).getParser()?n.getParser()(p[v]):p[v],n.allowEditing&&!n.isPrimaryKey&&!n.template){var b={column:n,data:o,rowIndex:h};this.parent.trigger(c.zZt,b),h=b.rowIndex,b.cancel||l.editModule&&("number"===n.type?this.parent.editModule.updateCell(h,n.field,parseFloat(b.data)):l.editModule.updateCell(h,n.field,b.data))}a++}h++}l.selectionModule.selectCellsByRange({rowIndex:t,cellIndex:i},{rowIndex:h-1,cellIndex:a-1});var S=this.parent.getCellFromIndex(h-1,a-1);S&&(0,r.pP)(S,["e-focus","e-focused"],[])}},e.prototype.initialEnd=function(){this.parent.off(c.PRb,this.initialEnd),this.clipBoardTextArea=this.parent.createElement("textarea",{className:"e-clipboard",styles:"opacity: 0",attrs:{tabindex:"-1","aria-label":"clipboard"}}),this.parent.element.appendChild(this.clipBoardTextArea)},e.prototype.keyDownHandler=function(e){"ctrlPlusC"===e.action?this.copy():"ctrlShiftPlusH"===e.action&&this.copy(!0)},e.prototype.setCopyData=function(e){if(""===window.getSelection().toString()){var t=this.parent.isFrozenGrid();this.clipBoardTextArea.value=this.copyContent="";var i=void 0,n=void 0,o=this.parent.getRows();if(t&&(i=this.parent.getMovableDataRows(),this.parent.getFrozenMode()===T.U0&&(n=this.parent.getFrozenRightRows())),"Cell"!==this.parent.selectionSettings.mode){var s=this.parent.getSelectedRowIndexes().sort((function(e,t){return e-t}));if(e){for(var l=[],a=0;a<this.parent.getVisibleColumns().length;a++)l[a]=this.parent.getVisibleColumns()[a].headerText;this.getCopyData(l,!1,"\t",e),this.copyContent+="\n"}for(a=0;a<s.length;a++){a>0&&(this.copyContent+="\n");var h=[].slice.call(o[s[a]].querySelectorAll(".e-rowcell:not(.e-hide)"));t&&(h.push.apply(h,[].slice.call(i[s[a]].querySelectorAll(".e-rowcell:not(.e-hide)"))),n&&h.push.apply(h,[].slice.call(n[s[a]].querySelectorAll(".e-rowcell:not(.e-hide)")))),this.getCopyData(h,!1,"\t",e)}}else{var p=this.checkBoxSelection();if(p.status){if(e){var d=[];for(a=0;a<p.colIndexes.length;a++)d.push(this.parent.getColumnHeaderByIndex(p.colIndexes[a]));this.getCopyData(d,!1,"\t",e),this.copyContent+="\n"}for(a=0;a<p.rowIndexes.length;a++){a>0&&(this.copyContent+="\n");h=[].slice.call(o[p.rowIndexes[a]].getElementsByClassName("e-cellselectionbackground"));t&&(h.push.apply(h,[].slice.call(i[p.rowIndexes[a]].getElementsByClassName("e-cellselectionbackground"))),n&&h.push.apply(h,[].slice.call(n[p.rowIndexes[a]].getElementsByClassName("e-cellselectionbackground")))),this.getCopyData(h,!1,"\t",e)}}else this.getCopyData([].slice.call(this.parent.element.getElementsByClassName("e-cellselectionbackground")),!0,"\n",e)}var u={data:this.copyContent,cancel:!1};if(this.parent.trigger(c.vwI,u),u.cancel)return;this.clipBoardTextArea.value=this.copyContent=u.data,r.Pw.userAgent.match(/ipad|ipod|iphone/i)?this.clipBoardTextArea.setSelectionRange(0,this.clipBoardTextArea.value.length):this.clipBoardTextArea.select(),this.isSelect=!0}},e.prototype.getCopyData=function(e,t,i,r){for(var n="string"!==typeof e[0],o=0;o<e.length;o++){if(r&&t){var s=parseInt(e[o].getAttribute(T.ql),10);this.copyContent+=this.parent.getColumns()[s].headerText+"\n"}n?e[o].classList.contains("e-hide")||(this.copyContent+=e[o].innerText):this.copyContent+=e[o],o<e.length-1&&(this.copyContent+=i)}},e.prototype.copy=function(e){document.queryCommandSupported("copy")&&(this.setCopyData(e),document.execCommand("copy"),this.clipBoardTextArea.blur()),this.isSelect&&(window.getSelection().removeAllRanges(),this.isSelect=!1)},e.prototype.getModuleName=function(){return"clipboard"},e.prototype.destroy=function(){this.removeEventListener(),this.clipBoardTextArea&&(0,r.TF)(this.clipBoardTextArea)},e.prototype.checkBoxSelection=function(){var e=this.parent,t={status:!1};if("Cell"===e.selectionSettings.mode){var i=e.getSelectedRowCellIndexes(),r=void 0,n=[],o=void 0;for(o=0;o<i.length&&(i[o].cellIndexes.length&&n.push(i[o].rowIndex),!i[o].cellIndexes.length||(r||(r=JSON.stringify(i[o].cellIndexes.sort())),r===JSON.stringify(i[o].cellIndexes.sort())));o++);n.sort((function(e,t){return e-t})),o===i.length&&n[n.length-1]-n[0]===n.length-1&&(t={status:!0,rowIndexes:n,colIndexes:i[0].cellIndexes})}return t},e}(),Fe=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function r(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),Me=function(e,t,i,r){var n,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,r);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},Ie=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Fe(t,e),Me([(0,r.mA)()],t.prototype,"field",void 0),Me([(0,r.mA)()],t.prototype,"direction",void 0),Me([(0,r.mA)(!1)],t.prototype,"isFromGroup",void 0),t}(r.I1),Te=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Fe(t,e),Me([(0,r.pM)([],Ie)],t.prototype,"columns",void 0),Me([(0,r.mA)(!0)],t.prototype,"allowUnsort",void 0),t}(r.I1),Ae=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Fe(t,e),Me([(0,r.mA)()],t.prototype,"field",void 0),Me([(0,r.mA)()],t.prototype,"operator",void 0),Me([(0,r.mA)()],t.prototype,"value",void 0),Me([(0,r.mA)()],t.prototype,"matchCase",void 0),Me([(0,r.mA)(!1)],t.prototype,"ignoreAccent",void 0),Me([(0,r.mA)()],t.prototype,"predicate",void 0),Me([(0,r.mA)({})],t.prototype,"actualFilterValue",void 0),Me([(0,r.mA)({})],t.prototype,"actualOperator",void 0),Me([(0,r.mA)()],t.prototype,"type",void 0),Me([(0,r.mA)()],t.prototype,"ejpredicate",void 0),Me([(0,r.mA)()],t.prototype,"uid",void 0),Me([(0,r.mA)()],t.prototype,"isForeignKey",void 0),t}(r.I1),ke=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Fe(t,e),Me([(0,r.mA)(!1)],t.prototype,"enableCache",void 0),Me([(0,r.mA)(3)],t.prototype,"maxBlocks",void 0),Me([(0,r.mA)(3)],t.prototype,"initialBlocks",void 0),t}(r.I1),ze=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Fe(t,e),Me([(0,r.pM)([],Ae)],t.prototype,"columns",void 0),Me([(0,r.mA)("FilterBar")],t.prototype,"type",void 0),Me([(0,r.mA)()],t.prototype,"mode",void 0),Me([(0,r.mA)(!0)],t.prototype,"showFilterBarStatus",void 0),Me([(0,r.mA)(1500)],t.prototype,"immediateModeDelay",void 0),Me([(0,r.mA)()],t.prototype,"operators",void 0),Me([(0,r.mA)(!1)],t.prototype,"ignoreAccent",void 0),Me([(0,r.mA)(!1)],t.prototype,"enableCaseSensitivity",void 0),Me([(0,r.mA)(!1)],t.prototype,"showFilterBarOperator",void 0),t}(r.I1),De=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Fe(t,e),Me([(0,r.mA)("Row")],t.prototype,"mode",void 0),Me([(0,r.mA)("Flow")],t.prototype,"cellSelectionMode",void 0),Me([(0,r.mA)("Single")],t.prototype,"type",void 0),Me([(0,r.mA)(!1)],t.prototype,"checkboxOnly",void 0),Me([(0,r.mA)(!1)],t.prototype,"persistSelection",void 0),Me([(0,r.mA)("Default")],t.prototype,"checkboxMode",void 0),Me([(0,r.mA)(!1)],t.prototype,"enableSimpleMultiRowSelection",void 0),Me([(0,r.mA)(!0)],t.prototype,"enableToggle",void 0),Me([(0,r.mA)(!1)],t.prototype,"allowColumnSelection",void 0),t}(r.I1),Pe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Fe(t,e),Me([(0,r.mA)([])],t.prototype,"fields",void 0),Me([(0,r.mA)("")],t.prototype,"key",void 0),Me([(0,r.mA)("contains")],t.prototype,"operator",void 0),Me([(0,r.mA)(!0)],t.prototype,"ignoreCase",void 0),Me([(0,r.mA)(!1)],t.prototype,"ignoreAccent",void 0),t}(r.I1),Ee=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Fe(t,e),Me([(0,r.mA)()],t.prototype,"targetID",void 0),t}(r.I1),Le=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Fe(t,e),Me([(0,r.mA)("Both")],t.prototype,"wrapMode",void 0),t}(r.I1),Be=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Fe(t,e),Me([(0,r.mA)("Normal")],t.prototype,"mode",void 0),t}(r.I1),qe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Fe(t,e),Me([(0,r.mA)(!0)],t.prototype,"showDropArea",void 0),Me([(0,r.mA)(!1)],t.prototype,"allowReordering",void 0),Me([(0,r.mA)(!1)],t.prototype,"showToggleButton",void 0),Me([(0,r.mA)(!1)],t.prototype,"showGroupedColumn",void 0),Me([(0,r.mA)(!0)],t.prototype,"showUngroupButton",void 0),Me([(0,r.mA)(!1)],t.prototype,"disablePageWiseAggregates",void 0),Me([(0,r.mA)([])],t.prototype,"columns",void 0),Me([(0,r.mA)()],t.prototype,"captionTemplate",void 0),Me([(0,r.mA)(!1)],t.prototype,"enableLazyLoading",void 0),t}(r.I1),He=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Fe(t,e),Me([(0,r.mA)(!1)],t.prototype,"allowAdding",void 0),Me([(0,r.mA)(!1)],t.prototype,"allowEditing",void 0),Me([(0,r.mA)(!1)],t.prototype,"allowDeleting",void 0),Me([(0,r.mA)("Normal")],t.prototype,"mode",void 0),Me([(0,r.mA)(!0)],t.prototype,"allowEditOnDblClick",void 0),Me([(0,r.mA)(!0)],t.prototype,"showConfirmDialog",void 0),Me([(0,r.mA)(!1)],t.prototype,"showDeleteConfirmDialog",void 0),Me([(0,r.mA)("")],t.prototype,"template",void 0),Me([(0,r.mA)("")],t.prototype,"headerTemplate",void 0),Me([(0,r.mA)("")],t.prototype,"footerTemplate",void 0),Me([(0,r.mA)("Top")],t.prototype,"newRowPosition",void 0),Me([(0,r.mA)({})],t.prototype,"dialog",void 0),Me([(0,r.mA)(!1)],t.prototype,"allowNextRowEdit",void 0),t}(r.I1),Oe=function(e){function t(t,n){var o=e.call(this,t,n)||this;return o.isPreventScrollEvent=!1,o.inViewIndexes=[],o.keyA=!1,o.frozenRightCount=0,o.frozenLeftCount=0,o.tablesCount=1,o.movableCount=0,o.visibleFrozenLeft=0,o.visibleFrozenRight=0,o.visibleMovable=0,o.frozenLeftColumns=[],o.frozenRightColumns=[],o.movableColumns=[],o.media={},o.isFreezeRefresh=!1,o.tableIndex=0,o.componentRefresh=r.uA.prototype.refresh,o.isVirtualAdaptive=!1,o.vRows=[],o.vcRows=[],o.vGroupOffsets={},o.rowUid=0,o.currentViewData=[],o.isManualRefresh=!1,o.isAutoFitColumns=!1,o.enableDeepCompare=!1,o.lockcolPositionCount=0,o.prevPageMoving=!1,o.pageTemplateChange=!1,o.isAutoGen=!1,o.mediaBindInstance={},o.commandDelIndex=void 0,o.asyncTimeOut=50,o.isExportGrid=!1,o.enableLogger=!0,o.needsID=!0,i.Inject(fe.L),(0,r.KY)("mergePersistData",o.mergePersistGridData,o),o}var i;return Fe(t,e),i=t,t.prototype.getPersistData=function(){for(var e=["pageSettings","sortSettings","filterSettings","groupSettings","columns","searchSettings","selectedRowIndex","scrollPosition"],t={pageSettings:["template","pageSizes","enableQueryString","totalRecordsCount","pageCount"],filterSettings:["type","mode","showFilterBarStatus","immediateModeDelay","ignoreAccent"],groupSettings:["showDropArea","showToggleButton","showGroupedColumn","showUngroupButton","disablePageWiseAggregates","hideCaptionCount"],searchSettings:["fields","operator","ignoreCase"],sortSettings:[],columns:[],selectedRowIndex:[],scrollPosition:[]},i=0;i<e.length;i++)for(var n=this[e[i]],o=0,s=t[e[i]];o<s.length;o++){delete n[s[o]]}var l=this.pageSettings.template,a=Object.assign({template:void 0},this.pageSettings);this.setProperties({pageSettings:a},!0),this.isAngular&&delete this.groupSettings.properties.captionTemplate,this.pageTemplateChange=!(0,r.hX)(this.pagerTemplate);var h=this.addOnPersist(e);return a.template=l,this.setProperties({pageSettings:a},!0),h},t.prototype.requiredModules=function(){this.setFrozenCount(),this.enableInfiniteAggrgate();var e=[];return this.isDestroyed||(this.allowFiltering&&e.push({member:"filter",args:[this,this.filterSettings,this.serviceLocator]}),this.allowExcelExport&&e.push({member:"ExcelExport",args:[this,this.serviceLocator]}),this.allowPdfExport&&e.push({member:"PdfExport",args:[this]}),this.allowSorting&&e.push({member:"sort",args:[this,this.sortSettings,this.sortedColumns,this.serviceLocator]}),this.allowPaging&&e.push({member:"pager",args:[this,this.pageSettings]}),this.allowSelection&&e.push({member:"selection",args:[this,this.selectionSettings,this.serviceLocator]}),e.push({member:"resize",args:[this]}),this.allowReordering&&e.push({member:"reorder",args:[this]}),this.allowRowDragAndDrop&&e.push({member:"rowDragAndDrop",args:[this]}),this.allowGrouping&&e.push({member:"group",args:[this,this.groupSettings,this.sortedColumns,this.serviceLocator]}),this.aggregates.length&&e.push({member:"aggregate",args:[this,this.serviceLocator]}),this.isDetail()&&e.push({member:"detailRow",args:[this,this.serviceLocator]}),(this.toolbar||this.toolbarTemplate)&&e.push({member:"toolbar",args:[this,this.serviceLocator]}),(this.enableVirtualization||this.enableColumnVirtualization)&&e.push({member:"virtualscroll",args:[this,this.serviceLocator]}),(this.getFrozenColumns()||this.frozenRows||this.frozenRightCount||this.frozenLeftCount)&&e.push({member:"freeze",args:[this,this.serviceLocator]}),this.isCommandColumn(this.columns)&&e.push({member:"commandColumn",args:[this,this.serviceLocator]}),(this.editSettings.allowAdding||this.editSettings.allowDeleting||this.editSettings.allowEditing)&&e.push({member:"edit",args:[this,this.serviceLocator]}),this.extendRequiredModules(e)),e},t.prototype.extendRequiredModules=function(e){this.enableInfiniteScrolling&&e.push({member:"infiniteScroll",args:[this,this.serviceLocator]}),this.groupSettings.enableLazyLoading&&e.push({member:"lazyLoadGroup",args:[this,this.serviceLocator]}),this.contextMenuItems&&e.push({member:"contextMenu",args:[this,this.serviceLocator]}),this.showColumnMenu&&e.push({member:"columnMenu",args:[this,this.serviceLocator]}),this.showColumnChooser&&e.push({member:"columnChooser",args:[this,this.serviceLocator]}),this.isForeignKeyEnabled(this.columns)&&e.push({member:"foreignKey",args:[this,this.serviceLocator]}),this.enableLogger&&e.push({member:"logger",args:[this]})},t.prototype.preRender=function(){this.serviceLocator=new oe,this.initProperties(),this.initializeServices()},t.prototype.initProperties=function(){this.isInitial=!0,this.sortedColumns=[],this.inViewIndexes=[],this.mediaCol=[],this.isInitialLoad=!1,this.allowServerDataBinding=!1,this.ignoreCollectionWatch=!0,this.mergeCells={},this.isEdit=!1,this.checkAllRows="None",this.isCheckBoxSelection=!1,this.isPersistSelection=!1,this.componentRefresh=r.uA.prototype.refresh,this.filterOperators={contains:"contains",endsWith:"endswith",equal:"equal",greaterThan:"greaterthan",greaterThanOrEqual:"greaterthanorequal",lessThan:"lessthan",lessThanOrEqual:"lessthanorequal",notEqual:"notequal",startsWith:"startswith"},this.defaultLocale={EmptyRecord:"No records to display",True:"true",False:"false",InvalidFilterMessage:"Invalid Filter Data",GroupDropArea:"Drag a column header here to group its column",UnGroup:"Click here to ungroup",UnGroupButton:"Click here to ungroup",GroupDisable:"Grouping is disabled for this column",FilterbarTitle:"'s filter bar cell",EmptyDataSourceError:"DataSource must not be empty at initial load since columns are generated from dataSource in AutoGenerate Column Grid",Add:"Add",Edit:"Edit",Cancel:"Cancel",Update:"Update",Delete:"Delete",Print:"Print",Pdfexport:"PDF Export",Excelexport:"Excel Export",Wordexport:"Word Export",Csvexport:"CSV Export",Search:"Search",Columnchooser:"Columns",Save:"Save",Item:"item",Items:"items",EditOperationAlert:"No records selected for edit operation",DeleteOperationAlert:"No records selected for delete operation",SaveButton:"Save",OKButton:"OK",CancelButton:"Cancel",EditFormTitle:"Details of ",AddFormTitle:"Add New Record",BatchSaveConfirm:"Are you sure you want to save changes?",BatchSaveLostChanges:"Unsaved changes will be lost. Are you sure you want to continue?",ConfirmDelete:"Are you sure you want to Delete Record?",CancelEdit:"Are you sure you want to Cancel the changes?",ChooseColumns:"Choose Column",SearchColumns:"search columns",Matchs:"No matches found",FilterButton:"Filter",ClearButton:"Clear",StartsWith:"Starts With",EndsWith:"Ends With",Contains:"Contains",Equal:"Equal",NotEqual:"Not Equal",LessThan:"Less Than",LessThanOrEqual:"Less Than Or Equal",GreaterThan:"Greater Than",GreaterThanOrEqual:"Greater Than Or Equal",ChooseDate:"Choose a Date",EnterValue:"Enter the value",Copy:"Copy",Group:"Group by this column",Ungroup:"Ungroup by this column",autoFitAll:"Autofit all columns",autoFit:"Autofit this column",AutoFitAll:"Autofit all columns",AutoFit:"Autofit this column",Export:"Export",FirstPage:"First Page",LastPage:"Last Page",PreviousPage:"Previous Page",NextPage:"Next Page",SortAscending:"Sort Ascending",SortDescending:"Sort Descending",EditRecord:"Edit Record",DeleteRecord:"Delete Record",FilterMenu:"Filter",SelectAll:"Select All",Blanks:"Blanks",FilterTrue:"True",FilterFalse:"False",NoResult:"No matches found",ClearFilter:"Clear Filter",Clear:"Clear",NumberFilter:"Number Filters",TextFilter:"Text Filters",DateFilter:"Date Filters",DateTimeFilter:"DateTime Filters",MatchCase:"Match Case",Between:"Between",CustomFilter:"Custom Filter",CustomFilterPlaceHolder:"Enter the value",CustomFilterDatePlaceHolder:"Choose a date",AND:"AND",OR:"OR",ShowRowsWhere:"Show rows where:",FilterMenuDialogARIA:"Filter menu dialog",ExcelFilterDialogARIA:"Excel filter dialog",DialogEditARIA:"Edit dialog",ColumnChooserDialogARIA:"Column chooser dialog",ColumnMenuDialogARIA:"Column menu dialog",CustomFilterDialogARIA:"Customer filter dialog",SortAtoZ:"Sort A to Z",SortZtoA:"Sort Z to A",SortByOldest:"Sort by Oldest",SortByNewest:"Sort by Newest",SortSmallestToLargest:"Sort Smallest to Largest",SortLargestToSmallest:"Sort Largest to Smallest",Sort:"Sort"},this.keyConfigs={downArrow:"downarrow",upArrow:"uparrow",rightArrow:"rightarrow",leftArrow:"leftarrow",shiftDown:"shift+downarrow",shiftUp:"shift+uparrow",shiftRight:"shift+rightarrow",shiftLeft:"shift+leftarrow",home:"home",end:"end",escape:"escape",ctrlHome:"ctrl+home",ctrlEnd:"ctrl+end",pageUp:"pageup",pageDown:"pagedown",ctrlAltPageUp:"ctrl+alt+pageup",ctrlAltPageDown:"ctrl+alt+pagedown",altPageUp:"alt+pageup",altPageDown:"alt+pagedown",altDownArrow:"alt+downarrow",altUpArrow:"alt+uparrow",ctrlDownArrow:"ctrl+downarrow",ctrlUpArrow:"ctrl+uparrow",ctrlPlusA:"ctrl+A",ctrlPlusP:"ctrl+P",insert:"insert",delete:"delete",f2:"f2",enter:"enter",ctrlEnter:"ctrl+enter",shiftEnter:"shift+enter",tab:"tab",shiftTab:"shift+tab",space:"space",ctrlPlusC:"ctrl+C",ctrlShiftPlusH:"ctrl+shift+H",ctrlSpace:"ctrl+space",ctrlLeftArrow:"ctrl+leftarrow",ctrlRightArrow:"ctrl+rightarrow"}},t.prototype.render=function(){this.log(["module_missing","promise_enabled","locale_missing","check_datasource_columns"]),this.ariaService.setOptions(this.element,{role:"grid"}),(0,l.GF)({target:this.element},this.createElement),this.renderModule=new ie(this,this.serviceLocator),this.searchModule=new me.v(this),this.scrollModule=new ve(this),this.notify(c.X0B,{}),!0!==this.getDataModule().dataManager.dataSource.offline&&void 0!==this.getDataModule().dataManager.dataSource.url||(this.isVirtualAdaptive=!0),this.trigger(c.Hh6),(0,h.X2)(this.columns,this.enableColumnVirtualization,this),this.enablePersistence&&this.notify(c.JKj,{}),this.getMediaColumns(),(0,h.zg)(this.columns),this.checkLockColumns(this.columns),this.getColumns(),this.processModel(),this.gridRender(),this.wireEvents(),this.addListener(),this.updateDefaultCursor(),this.updateStackedFilter(),this.showSpinner(),this.notify(c.qOR,{}),this.refreshing&&this.trigger("created")},t.prototype.showSpinner=function(){this.isExportGrid||(0,l.xc)(this.element)},t.prototype.hideSpinner=function(){this.isExportGrid||(0,l.W$)(this.element)},t.prototype.updateStackedFilter=function(){this.allowFiltering&&"FilterBar"===this.filterSettings.type&&this.getHeaderContent().getElementsByClassName("e-stackedheadercell").length?this.getHeaderContent().classList.add("e-stackedfilter"):this.getHeaderContent().classList.remove("e-stackedfilter")},t.prototype.getMediaColumns=function(){if(!this.enableColumnVirtualization){var e=this.getColumns();if(this.getShowHideService=this.serviceLocator.getService("showHideService"),!(0,r.hX)(e))for(var t=0;t<e.length;t++)(0,r.hX)(e[t].hideAtMedia)||!(0,r.hX)(e[t].visible)&&!e[t].visible||this.pushMediaColumn(e[t],t)}},t.prototype.pushMediaColumn=function(e,t){this.mediaCol.push(e),this.media[e.uid]=window.matchMedia(e.hideAtMedia),this.mediaQueryUpdate(t,this.media[e.uid]),this.mediaBindInstance[t]=this.mediaQueryUpdate.bind(this,t),this.media[e.uid].addListener(this.mediaBindInstance[t])},t.prototype.updateMediaColumns=function(e){if(!this.enableColumnVirtualization){for(var t=this.getColumnIndexByUid(e.uid),i=0;i<this.mediaCol.length;i++)if(e.uid===this.mediaCol[i].uid)return void this.mediaCol.splice(i,1);this.pushMediaColumn(e,t)}},t.prototype.mediaQueryUpdate=function(e,t){var i=this.getColumns()[e];this.mediaCol.some((function(e){return e.uid===i.uid}))&&(i.visible=t.matches,this.isInitialLoad&&(this.invokedFromMedia=!0,i.visible?this.showHider.show(i.headerText,"headerText"):this.showHider.hide(i.headerText,"headerText")))},t.prototype.refreshMediaCol=function(){this.isInitialLoad=!0;var e=this.element.querySelector("."+T.kC);this.aggregates.length&&this.element.scrollHeight>this.height&&e&&(0,r.iQ)([e],["e-footerpadding"]),this.getColumns().filter((function(e){return"checkbox"===e.type})).length&&"ResetOnRowClick"===this.selectionSettings.checkboxMode&&(this.isCheckBoxSelection=!1),"Vertical"===this.rowRenderingMode&&this.enableHover&&(this.setProperties({enableAdaptiveUI:!0,enableHover:!1},!0),(0,r.vy)([this.element],"e-gridhover")),this.enableAdaptiveUI&&this.scrollModule&&this.scrollModule.refresh()},t.prototype.removeMediaListener=function(){for(var e=0;e<this.mediaCol.length;e++)this.media[this.mediaCol[e].uid].removeListener(this.mediaBindInstance[this.mediaCol[e].index])},t.prototype.eventInitializer=function(){},t.prototype.destroy=function(){var t=this.element;if(t){var i=!(!t.querySelector("."+T.iM)||!t.querySelector("."+T.iV));i&&this.unwireEvents(),this.removeListener(),this.removeMediaListener(),this.notify(c.zrj,{}),this.destroyDependentModules(),(this.isReact||this.isVue)&&this.destroyTemplate(["template"]),i&&e.prototype.destroy.call(this),this.toolTipObj.destroy();for(var n=["renderModule","headerModule","contentModule","valueFormatterService","serviceLocator","ariaService","keyboardModule","widthService","searchModule","showHider","scrollModule","printModule","clipboardModule","focusModule"],o=0;o<n.length;o++)this[n[o]]&&(this[n[o]]=null);this.element.innerHTML="",(0,r.pP)(this.element,[],["e-rtl","e-gridhover","e-responsive","e-default","e-device","e-grid-min-height"]),this.isFreezeRefresh=!1}},t.prototype.destroyDependentModules=function(){var e=this.element;e&&(e.querySelector("."+T.iM)||e.querySelector("."+T.iV))&&(this.scrollModule.destroy(),this.keyboardModule.destroy(),this.focusModule.destroy(),this.clipboardModule.destroy(),this.printModule.destroy())},t.prototype.getModuleName=function(){return"grid"},t.prototype.enableBoxSelection=function(){this.enableAutoFill?(this.selectionSettings.cellSelectionMode="BoxWithBorder",this.element.classList.add("e-afenabled")):this.element.classList.remove("e-afenabled")},t.prototype.onPropertyChanged=function(e,t){var i,n=!1,o=!1,s=!1;if(!this.isDestroyed){this.log("module_missing"),this.isEllipsisTooltip()&&this.toolTipObj.close();var l=Object.keys(e);l.indexOf("columns")>-1&&(this.enableColumnVirtualization&&(this.columnModel=[]),this.updateColumnObject(),o=!0);for(var a=0,p=l;a<p.length;a++){var d=p[a];switch(d){case"allowPaging":this.notify(c.yPb,{module:"pager",enable:this.allowPaging}),n=!0;break;case"pageSettings":if(this.pageTemplateChange){this.pageTemplateChange=!1,this.notify(c.$HR,{module:"pager",properties:e.pageSettings});break}this.notify(c.$HR,{module:"pager",properties:e.pageSettings}),((0,r.hX)(e.pageSettings.currentPage)&&(0,r.hX)(e.pageSettings.pageSize)&&(0,r.hX)(e.pageSettings.totalRecordsCount)||!(0,r.hX)(t.pageSettings)&&e.pageSettings.currentPage!==t.pageSettings.currentPage&&!this.enableColumnVirtualization&&!this.enableVirtualization&&this.pageSettings.totalRecordsCount<=this.pageSettings.pageSize)&&(n=!0);break;case"allowSorting":this.notify(c.yPb,{module:"sort",enable:this.allowSorting}),n=!0,i=!0;break;case"allowFiltering":this.updateStackedFilter(),this.notify(c.yPb,{module:"filter",enable:this.allowFiltering}),n=!0,"FilterBar"!==this.filterSettings.type&&this.refreshHeader();break;case"height":case"width":this.notify(c.yPb,{module:"scroll",properties:{width:e.width,height:e.height}});break;case"allowReordering":this.headerModule.refreshUI(),i=!0;break;case"allowRowDragAndDrop":this.notify(c.yPb,{module:"rowDragAndDrop",enable:this.allowRowDragAndDrop}),this.renderModule.refresh(),this.headerModule.refreshUI();break;case"allowSelection":this.notify(c.yPb,{module:"selection",enable:this.allowSelection});break;case"enableAutoFill":this.selectionModule&&(this.enableBoxSelection(),this.selectionModule.updateAutoFillPosition());break;case"rowTemplate":this.rowTemplateFn=(0,h.M2)(this.rowTemplate),n=!0;break;case"detailTemplate":this.detailTemplateFn=(0,h.M2)(this.detailTemplate),n=!0;break;case"allowGrouping":this.notify(c.yPb,{module:"group",enable:this.allowGrouping}),this.headerModule.refreshUI(),n=!0,i=!0;break;case"enableInfiniteScrolling":case"childGrid":n=!0;break;case"toolbar":this.notify(c.yPb,{module:"toolbar"});break;case"groupSettings":this.notify(c.$HR,{module:"group",properties:e.groupSettings,oldProperties:t.groupSettings});break;case"aggregates":!this.aggregates.length&&this.allowGrouping&&this.groupSettings.columns.length&&(n=!0),this.notify(c.yPb,{module:"aggregate",properties:e});break;case"frozenColumns":case"frozenRows":case"enableVirtualization":case"currencyCode":case"locale":this.log("frozen_rows_columns"),s=!0,o=!0;break;case"query":this.getDataModule().isQueryInvokedFromData||(n=!0),this.getDataModule().isQueryInvokedFromData=!1;break;default:this.extendedPropertyChange(d,e,o)}}i&&this.updateDefaultCursor(),o?s||this.getFrozenColumns()||this.frozenRows?this.freezeRefresh():this.refresh():n&&(this.notify(c.AyK,{requestType:"refresh"}),n=!1,this.maintainSelection(e.selectedRowIndex))}},t.prototype.extendedPropertyChange=function(e,t,i){switch(e){case"enableRtl":this.updateRTL(),this.allowPaging&&(this.element.querySelector(".e-gridpager").ej2_instances[0].enableRtl=t.enableRtl,this.element.querySelector(".e-gridpager").ej2_instances[0].dataBind()),"auto"!==this.height&&(this.scrollModule.removePadding(!t.enableRtl),this.scrollModule.setPadding()),this.toolbar&&this.toolbarModule&&(this.toolbarModule.getToolbar().ej2_instances[0].enableRtl=t.enableRtl,this.toolbarModule.getToolbar().ej2_instances[0].dataBind()),this.contextMenuItems&&this.contextMenuModule&&(this.contextMenuModule.getContextMenu().ej2_instances[0].enableRtl=t.enableRtl,this.contextMenuModule.getContextMenu().ej2_instances[0].dataBind()),this.showColumnMenu&&this.columnMenuModule&&(this.columnMenuModule.getColumnMenu().ej2_instances[0].enableRtl=t.enableRtl,this.columnMenuModule.getColumnMenu().ej2_instances[0].dataBind()),"FilterBar"===this.filterSettings.type&&this.filterSettings.showFilterBarOperator&&this.refreshHeader(),this.notify(c.mkw,{});break;case"enableAltRow":this.renderModule.refresh();break;case"allowResizing":this.headerModule.refreshUI(),this.updateResizeLines();break;case"rowHeight":this.rowHeight?(0,r.iQ)([this.element],"e-grid-min-height"):(0,r.vy)([this.element],"e-grid-min-height"),this.renderModule.refresh(),this.headerModule.refreshUI();break;case"gridLines":this.updateGridLines();break;case"showColumnMenu":this.headerModule.refreshUI(),this.notify(c.yPb,{module:"columnMenu",enable:!0});break;case"columnMenuItems":this.notify(c.yPb,{module:"columnMenu",enable:this.columnMenuItems});break;case"contextMenuItems":this.notify(c.yPb,{module:"contextMenu",enable:this.contextMenuItems});break;case"showColumnChooser":this.notify(c.yPb,{module:"columnChooser",enable:this.showColumnChooser});break;case"filterSettings":this.updateStackedFilter(),this.notify(c.$HR,{module:"filter",properties:t.filterSettings});break;case"searchSettings":this.notify(c.$HR,{module:"search",properties:t.searchSettings});break;case"sortSettings":this.notify(c.$HR,{module:"sort"});break;case"selectionSettings":this.notify(c.$HR,{module:"selection",properties:t.selectionSettings});break;case"editSettings":this.notify(c.$HR,{module:"edit",properties:t.editSettings});break;case"allowTextWrap":case"textWrapSettings":this.allowTextWrap?this.applyTextWrap():this.removeTextWrap(),this.notify(c.kuM,{case:"textwrap",isModeChg:"textWrapSettings"===e});break;case"dataSource":var o=this.getDataModule().getState();if(Object.getPrototypeOf(t).deepWatch)for(var s=this.getPrimaryKeyFieldNames()[0],l=0,a=Object.keys(t.dataSource);l<a.length;l++)this.setRowData((0,r._W)(s,this.dataSource[a[l]]),this.dataSource[a[l]]);else if(o.isPending){var h=(0,r.hX)(this.dataSource)?[]:this.dataSource.result,p=o.group||[];for(l=0;l<p.length;l++)h=n.$.group(h,p[l],o.aggregates||[]);this.dataSource={result:h,count:this.dataSource.count,aggregates:this.dataSource.aggregates},this.getDataModule().setState({}),o.resolver(this.dataSource)}else this.getDataModule().setState({isDataChanged:!1}),this.notify(c.dZ5,{}),i||(this.renderModule.refresh(),this.isCheckBoxSelection&&this.notify(c.eAe,{}));this.scrollRefresh();break;case"enableHover":(t.enableHover?r.iQ:r.vy)([this.element],"e-gridhover");break;case"selectedRowIndex":this.isSelectedRowIndexUpdating||this.selectRow(t.selectedRowIndex),this.isSelectedRowIndexUpdating=!1;break;case"resizeSettings":this.widthService.setWidthToTable();break;case"enableAdaptiveUI":this.notify(c.omZ,{});break;case"rowRenderingMode":this.enableVerticalRendering(),this.notify(c.iMW,{}),this.refresh();break;case"enableStickyHeader":this.scrollModule.addStickyListener(t.enableStickyHeader)}},t.prototype.maintainSelection=function(e){var t=this;if(-1!==e){var i=function(){t.selectRow(e),t.off(c.PRb,i)};this.on(c.PRb,i,this)}},t.prototype.setProperties=function(t,i){e.prototype.setProperties.call(this,t,i);t.filterSettings&&this.filterModule&&i&&this.filterModule.refreshFilter()},t.prototype.setTablesCount=function(){var e=this.getFrozenColumns(),t=this.getFrozenLeftColumnsCount(),i=this.getFrozenRightColumnsCount();!e||t||i?e||!t&&!i||(t&&!i||i&&!t?this.tablesCount=2:t&&i&&(this.tablesCount=3)):this.tablesCount=2},t.prototype.getTablesCount=function(){return this.tablesCount},t.prototype.updateDefaultCursor=function(){var e=[].slice.call(this.getHeaderContent().querySelectorAll(".e-headercell:not(.e-stackedheadercell)")),t=[].slice.call(this.getHeaderContent().getElementsByClassName("e-stackedheadercell")),i=this.getColumns();if(this.enableColumnVirtualization&&this.getFrozenColumns()){var r=this.contentModule.getHeaderCells();e=r.length?r:e}for(var n=0;n<e.length;n++){var o=e[n];(this.allowGrouping||this.allowReordering||this.allowSorting)&&(i[n].allowReordering&&i[n].allowSorting&&i[n].allowGrouping?o.classList.add("e-mousepointer"):o.classList.add("e-defaultcursor"))}for(var s=0;s<t.length;s++)this.allowReordering&&t[s].classList.add("e-mousepointer")},t.prototype.updateColumnModel=function(e){for(var t=0,i=e.length;t<i;t++)e[t].columns?this.updateColumnModel(e[t].columns):this.columnModel.push(e[t]);this.updateColumnLevelFrozen(),this.updateFrozenColumns(),this.updateLockableColumns()},t.prototype.updateColumnLevelFrozen=function(){var e=this.columnModel,t=[],i=[],r=[];if(this.frozenLeftCount||this.frozenRightCount){for(var n=0,o=e.length;n<o;n++){var s=e[n];"Left"===s.freeze?(s.freezeTable=T.qf,t.push(s)):"Right"===s.freeze?(s.freezeTable=T.Xg,i.push(s)):(s.freezeTable="movable",r.push(s))}this.columnModel=t.concat(r).concat(i)}},t.prototype.updateFrozenColumns=function(){if(!this.frozenLeftCount&&!this.frozenRightCount)for(var e=this.columnModel,t=this.frozenColumns,i=this.getFrozenColumns(),r=0,n=0,o=e.length;n<o;n++){var s=e[n];t&&(s.freezeTable=n<t?T.qf:"movable"),s.isFrozen&&n>=t?(s.freezeTable=T.qf,e.splice(this.frozenColumns+r,0,e.splice(n,1)[0]),r++):i&&!t&&(s.freezeTable="movable")}},t.prototype.getFrozenLeftCount=function(){return this.getFrozenColumns()||this.getFrozenLeftColumnsCount()},t.prototype.isFrozenGrid=function(){return 0!==this.getFrozenColumns()||0!==this.getFrozenLeftColumnsCount()||0!==this.getFrozenRightColumnsCount()},t.prototype.getFrozenMode=function(){return this.frozenName},t.prototype.updateLockableColumns=function(){for(var e=this.columnModel,t=0,i=0,r=this.getFrozenColumns(),n=0;n<e.length;n++)e[n].lockColumn&&(n<r?(e.splice(t,0,e.splice(n,1)[0]),t++):(e.splice(r+i,0,e.splice(n,1)[0]),i++))},t.prototype.checkLockColumns=function(e){for(var t=0;t<e.length;t++)e[t].columns?this.checkLockColumns(e[t].columns):e[t].lockColumn&&this.lockcolPositionCount++},t.prototype.getColumns=function(e){var t=this,i=this.inViewIndexes.map((function(e){return e-t.groupSettings.columns.length})).filter((function(e){return e>-1})),n=i.length;(!this.enableColumnVirtualization||(0,r.hX)(this.columnModel)||0===this.columnModel.length||e)&&(this.columnModel=[],this.updateColumnModel(this.columns));var o=0===n?this.columnModel:this.columnModel.slice(i[0],i[n-1]+1);this.contentModule&&this.enableColumnVirtualization&&this.isFrozenGrid()&&i.length&&i[0]>0&&(o=this.contentModule.ensureFrozenCols(o));return o},t.prototype.getStackedHeaderColumnByHeaderText=function(e,t){for(var i=0;i<t.length;i++){var r=t[i];if(r.field===e||r.headerText===e){this.stackedColumn=r;break}r.columns&&this.getStackedHeaderColumnByHeaderText(e,r.columns)}return this.stackedColumn},t.prototype.getColumnIndexesInView=function(){return this.inViewIndexes},t.prototype.getQuery=function(){return this.query},t.prototype.getLocaleConstants=function(){return this.defaultLocale},t.prototype.setColumnIndexesInView=function(e){this.inViewIndexes=e},t.prototype.getVisibleColumns=function(){return this.getCurrentVisibleColumns()},t.prototype.getHeaderContent=function(){return this.headerModule.getPanel()},t.prototype.setGridHeaderContent=function(e){this.headerModule.setPanel(e)},t.prototype.getContentTable=function(){return this.contentModule.getTable()},t.prototype.setGridContentTable=function(e){this.contentModule.setTable(e)},t.prototype.getContent=function(){return this.contentModule.getPanel()},t.prototype.setGridContent=function(e){this.contentModule.setPanel(e)},t.prototype.getHeaderTable=function(){return this.headerModule.getTable()},t.prototype.setGridHeaderTable=function(e){this.headerModule.setTable(e)},t.prototype.getFooterContent=function(){return this.footerElement=this.element.getElementsByClassName(T.kC)[0],this.footerElement},t.prototype.getFooterContentTable=function(){return this.footerElement=this.element.getElementsByClassName(T.kC)[0],this.footerElement.firstChild.firstChild},t.prototype.getPager=function(){return this.gridPager},t.prototype.setGridPager=function(e){this.gridPager=e},t.prototype.getRowByIndex=function(e){return this.contentModule.getRowByIndex(e)},t.prototype.getMovableRowByIndex=function(e){return this.contentModule.getMovableRowByIndex(e)},t.prototype.getFrozenRowByIndex=function(e){return this.getFrozenDataRows()[e]},t.prototype.getRows=function(){return this.contentModule.getRowElements()},t.prototype.getFrozenRightRowByIndex=function(e){return this.contentModule.getFrozenRightRowByIndex(e)},t.prototype.getRowInfo=function(e){var t=e,i={target:e};if(!(0,r.hX)(e)&&(0,r.hX)((0,h.oC)(t,"e-detailrowcollapse")&&(0,r.hX)((0,h.oC)(t,"e-recordplusexpand")))){var n=(0,r.kp)(t,"."+T.Jt);if(!n){var o=(0,r.kp)(t,"."+T.nM);if(!(0,r.hX)(o)&&!o.classList.contains("e-addedrow")){var s=this.getRowObjectFromUID(o.getAttribute("data-uid")),l=parseInt(o.getAttribute(T.E3),10);i={row:o,rowData:s.data,rowIndex:l}}return i}var a=parseInt(n.getAttribute(T.ql),10);if(!(0,r.hX)(n)&&!isNaN(a)){var c=(0,r.kp)(n,"."+T.nM),p=(l=parseInt(c.getAttribute(T.E3),10),this.getFrozenColumns()),d=this.columnModel[a].getFreezeTableName(),u=this.contentModule.getRows(),g=a+this.getIndentCount();this.isFrozenGrid()&&(d===T.qf?u=this.contentModule.getRows():"movable"===d?(g=a-p-this.frozenLeftCount,u=this.contentModule.getMovableRows()):d===T.Xg&&(g=a-(this.frozenLeftCount+this.movableCount),u=this.contentModule.getFrozenRightRows()));var f=u.filter((function(e){return e.uid===c.getAttribute("data-uid")})),m={},y=void 0;Object.keys(f).length&&(m=f[0].data,y=f[0].cells[g].column),i={cell:n,cellIndex:a,row:c,rowIndex:l,rowData:m,column:y,target:e}}}return i},t.prototype.getMovableRows=function(){return this.contentModule.getMovableRowElements()},t.prototype.getFrozenRightRows=function(){return this.contentModule.getFrozenRightRowElements()},t.prototype.getDataRows=function(){return this.getAllDataRows()},t.prototype.getAllDataRows=function(e){if((0,r.hX)(this.getContentTable().querySelector(T.T_)))return[];var t=this.isFrozenGrid()?this.getFrozenLeftContentTbody():this.getContentTable().querySelector(T.T_),i=[].slice.call(t.children);if(this.frozenRows){var n=this.isFrozenGrid()?this.getHeaderContent().querySelector("."+T.OT).querySelector(T.T_):this.getHeaderTable().querySelector(T.T_),o=[].slice.call(n.children);i=this.addMovableRows(o,i)}return this.generateDataRows(i,e)},t.prototype.addMovableRows=function(e,t){for(var i=0,r=t.length;i<r;i++)e.push(t[i]);return e},t.prototype.generateDataRows=function(e,t){for(var i=[],r=0,n=e.length;r<n;r++)!e[r].classList.contains(T.nM)||e[r].classList.contains("e-hiddenrow")&&!t||(this.isCollapseStateEnabled()?i[parseInt(e[r].getAttribute("aria-rowindex"),10)]=e[r]:i.push(e[r]));return i},t.prototype.getMovableDataRows=function(){return this.getAllMovableDataRows()},t.prototype.getAllMovableDataRows=function(e){if(!this.isFrozenGrid())return[];var t=[].slice.call(this.getContent().querySelector("."+T.S1).querySelector(T.T_).children);if(this.frozenRows){var i=[].slice.call(this.getHeaderContent().querySelector("."+T.eW).querySelector(T.T_).children);t=this.addMovableRows(i,t)}return this.generateDataRows(t,e)},t.prototype.getFrozenDataRows=function(){return this.getAllFrozenDataRows()},t.prototype.getAllFrozenDataRows=function(e){var t=[].slice.call(this.getContent().querySelector("."+T.oL).querySelector(T.T_).children);if(this.frozenRows){var i=[].slice.call(this.getHeaderContent().querySelector("."+T.OT).querySelector(T.T_).children);t=this.addMovableRows(i,t)}return this.generateDataRows(t,e)},t.prototype.getFrozenRightDataRows=function(){return this.getAllFrozenRightDataRows()},t.prototype.getAllFrozenRightDataRows=function(e){if("Right"!==this.getFrozenMode()&&"Left-Right"!==this.getFrozenMode())return[];var t=[].slice.call(this.getContent().querySelector(".e-frozen-right-content").querySelector(T.T_).children);if(this.frozenRows){var i=[].slice.call(this.getHeaderContent().querySelector(".e-frozen-right-header").querySelector(T.T_).children);t=this.addMovableRows(i,t)}return this.generateDataRows(t,e)},t.prototype.setCellValue=function(e,t,i){var n="data",o="index",s="Right"===this.getFrozenMode(),l=this.getPrimaryKeyFieldNames()[0],a=new D.w(this,this.serviceLocator),h=this.getColumnIndexByField(t),p=this.getColumnByField(t),d=("movable"===p.getFreezeTableName()?this.contentModule.getMovableRows():"frozen-right"===p.getFreezeTableName()?this.getFrozenRightRowsObject():this.contentModule.getRows()).filter((function(t){return(0,r._W)(l,t.data)===e}))[0],u=d?this.element.querySelector("[data-uid="+d.uid+"]"):null;if(!(0,r.hX)(u)){(0,r.KY)(t,i,d[n]);var g=this.getFrozenLeftColumnsCount()||this.getFrozenColumns(),f=this.getMovableColumnsCount();this.isRowDragable()&&!s&&g++;var m=g+f,y=this.getCellFromIndex(d[o],h);if(!(0,r.hX)(y)){var v="movable"===p.getFreezeTableName()?g:"frozen-right"===p.getFreezeTableName()?m:0;this.groupSettings.columns.length&&(h+=this.groupSettings.columns.length),(this.childGrid||this.detailTemplate)&&h++,this.isRowDragable()&&!s&&h++;var C=d.cells[h-v];a.refreshTD(y,C,d[n],{index:d[o]}),this.aggregates.length>0&&(this.notify(c.whj,{}),this.groupSettings.columns.length>0&&this.notify(c.a_A,{})),(0,r.hX)(d)||(0,r.hX)(d.changes)||(d.changes[t]=i),this.trigger(c.B55,{cell:y,column:p,data:d[n]})}}},t.prototype.refreshReactColumnTemplateByUid=function(e){var t=this;this.isReact&&this.clearTemplate(["columnTemplate"],void 0,(function(){for(var i=t.getDataRows(),n=t.getIndentCount(),o=t.getNormalizedColumnIndex(e),s=0;s<i.length;s++){var l=t.getRowObjectFromUID(i[s].getAttribute("data-uid"));if(l.isDataRow&&!(0,r.hX)(l.index)){var a=l.cells[o],h=new D.w(t,t.serviceLocator),c=t.getCellFromIndex(s,o-n);h.refreshTD(c,a,l.data,{index:l.index})}}}))},t.prototype.refreshReactHeaderTemplateByUid=function(e){if(this.isReact)for(var t=this.headerModule.rows,i=this.getNormalizedColumnIndex(e),r=0;r<t.length;r++){var n=t[r].cells[i];if(n&&n.column.uid===e){var o=new B(this,this.serviceLocator),s=(0,h.oC)(this.element.querySelectorAll("[e-mappinguid="+e+"]")[0],"e-templatecell");o.refresh(n,s)}}},t.prototype.setRowData=function(e,t){var i=this.contentModule.getRows(),n=this.getPrimaryKeyFieldNames()[0],o=new C.k(this.serviceLocator,null,this);this.groupSettings.columns.length>0&&this.aggregates.length>0&&(i=i.filter((function(e){return e.isDataRow})));var s=i.filter((function(t){return(0,r._W)(n,t.data)===e}))[0];!(0,r.hX)(s)&&this.element.querySelectorAll("[data-uid="+s.uid+"]").length&&(s.changes=t,(0,h.AZ)(s,this.getForeignKeyColumns(),s.changes),o.refresh(s,this.getColumns(),!0),this.aggregates.length>0&&(this.notify(c.whj,{}),this.groupSettings.columns.length>0&&this.notify(c.a_A,{})))},t.prototype.getCellFromIndex=function(e,t){var i=this.getColumnByIndex(t);return(0,h.lK)(this,i,e,t)},t.prototype.getMovableCellFromIndex=function(e,t){if(!("Left-Right"===this.frozenName&&t>=this.movableCount)){var i=this.getFrozenColumns()||this.getFrozenLeftColumnsCount();return this.getMovableDataRows()[e]&&this.getMovableDataRows()[e].getElementsByClassName(T.Jt)[t-i]}},t.prototype.getFrozenRightCellFromIndex=function(e,t){var i=this.getFrozenLeftColumnsCount()+this.getMovableColumnsCount(),r=this.getFrozenRightDataRows();return r[e]&&r[e].getElementsByClassName(T.Jt)[t-i]},t.prototype.getColumnHeaderByIndex=function(e){return this.getHeaderTable().getElementsByClassName("e-headercell")[e]},t.prototype.getMovableColumnHeaderByIndex=function(e){var t=this.getFrozenColumns()||this.getFrozenLeftColumnsCount();return this.getMovableVirtualHeader().getElementsByClassName("e-headercell")[e-t]},t.prototype.getFrozenRightColumnHeaderByIndex=function(e){var t=this.getFrozenLeftColumnsCount()+this.getMovableColumnsCount();return this.getFrozenRightHeader().getElementsByClassName("e-headercell")[e-t]},t.prototype.getFrozenLeftColumnHeaderByIndex=function(e){return this.getFrozenVirtualHeader().getElementsByClassName("e-headercell")[e]},t.prototype.getRowObjectFromUID=function(e,t,i){var n=this.contentModule.getRows(),o=this.rowObject(n,e);return this.isFrozenGrid()&&(!o||t||i)?((!(o=this.rowObject(this.contentModule.getMovableRows(),e))&&"Left-Right"===this.getFrozenMode()||i)&&(o=this.rowObject(this.contentModule.getFrozenRightRows(),e)),o):(0,r.hX)(o)&&this.enableVirtualization&&this.groupSettings.columns.length>0?o=this.rowObject(this.vRows,e):o},t.prototype.rowObject=function(e,t){for(var i=0,r=e;i<r.length;i++){var n=r[i];if(n.uid===t)return n}return null},t.prototype.getRowsObject=function(){return this.contentModule.getRows()},t.prototype.getMovableRowsObject=function(){var e=[];return this.isFrozenGrid()&&(e=this.contentModule.getMovableRows()),e},t.prototype.getFrozenRightRowsObject=function(){var e=[];return"Right"!==this.getFrozenMode()&&"Left-Right"!==this.getFrozenMode()||(e=this.contentModule.getFrozenRightRows()),e},t.prototype.getColumnHeaderByField=function(e){var t=this.getColumnByField(e);return t?this.getColumnHeaderByUid(t.uid):void 0},t.prototype.getColumnHeaderByUid=function(e){var t=this.getHeaderContent().querySelector("[e-mappinguid="+e+"]");return t?t.parentElement:void 0},t.prototype.getColumnByIndex=function(e){var t;return this.getColumns().some((function(i,r){return t=i,r===e})),t},t.prototype.getColumnByField=function(e){return(0,h.mg)(this.getColumns(),(function(t){if(t.field===e)return t}))[0]},t.prototype.getColumnIndexByField=function(e){for(var t=this.getColumns(),i=0;i<t.length;i++)if(t[i].field===e)return i;return-1},t.prototype.getColumnByUid=function(e){return(0,h.mg)(this.getColumns().concat(this.getStackedColumns(this.columns)),(function(t){if(t.uid===e)return t}))[0]},t.prototype.getStackedColumns=function(e,t){void 0===t&&(t=[]);for(var i=0,r=e;i<r.length;i++){var n=r[i];n.columns&&(t.push(n),this.getStackedColumns(n.columns,t))}return t},t.prototype.getColumnIndexByUid=function(e){var t=(0,h.mg)(this.getColumns(),(function(t,i){if(t.uid===e)return i}))[0];return(0,r.hX)(t)?-1:t},t.prototype.getUidByColumnField=function(e){return(0,h.mg)(this.getColumns(),(function(t){if(t.field===e)return t.uid}))[0]},t.prototype.getNormalizedColumnIndex=function(e){return this.getColumnIndexByUid(e)+this.getIndentCount()},t.prototype.getIndentCount=function(){var e=0;return this.allowGrouping&&(e+=this.groupSettings.columns.length),this.isDetail()&&e++,this.isRowDragable()&&(0,r.hX)(this.rowDropSettings.targetID)&&e++,e},t.prototype.getColumnFieldNames=function(){for(var e,t=[],i=0,r=this.getColumns().length;i<r;i++)(e=this.getColumns()[i]).visible&&t.push(e.field);return t},t.prototype.getRowTemplate=function(){return this.rowTemplateFn},t.prototype.getDetailTemplate=function(){return this.detailTemplateFn},t.prototype.getEditTemplate=function(){return this.editTemplateFn},t.prototype.getEditHeaderTemplate=function(){return this.editHeaderTemplateFn},t.prototype.getEditFooterTemplate=function(){return this.editFooterTemplateFn},t.prototype.getPrimaryKeyFieldNames=function(){for(var e=[],t=0;t<this.columnModel.length;t++)this.columnModel[t].isPrimaryKey&&e.push(this.columnModel[t].field);return e},t.prototype.refresh=function(){this.isDestroyed||(this.isManualRefresh=!0,this.headerModule.refreshUI(),this.updateStackedFilter(),this.renderModule.refresh())},t.prototype.refreshHeader=function(){this.headerModule.refreshUI()},t.prototype.getSelectedRows=function(){return this.selectionModule?this.selectionModule.selectedRecords:[]},t.prototype.getSelectedRowIndexes=function(){return this.selectionModule?this.selectionModule.selectedRowIndexes:[]},t.prototype.getSelectedRowCellIndexes=function(){return this.selectionModule?this.selectionModule.selectedRowCellIndexes:[]},t.prototype.getSelectedRecords=function(){return this.selectionModule?this.selectionModule.getSelectedRecords():[]},t.prototype.getSelectedColumnsUid=function(){var e=this,t=[];return this.selectionModule&&this.selectionModule.selectedColumnsIndexes.filter((function(i){return t.push(e.getColumns()[i].uid)})),t},t.prototype.getDataModule=function(){return this.renderModule.data},t.prototype.showColumns=function(e,t){t=t||"headerText",this.showHider.show(e,t)},t.prototype.hideColumns=function(e,t){t=t||"headerText",this.showHider.hide(e,t)},t.prototype.getFrozenColumns=function(){return this.frozenColumns+this.getFrozenCount(this.columns,0,0)},t.prototype.getFrozenRightColumnsCount=function(){return this.frozenRightCount},t.prototype.getFrozenLeftColumnsCount=function(){return this.frozenLeftCount},t.prototype.getMovableColumnsCount=function(){return this.movableCount},t.prototype.setFrozenCount=function(){this.frozenLeftCount=this.frozenRightCount=this.movableCount=0,this.visibleFrozenLeft=this.visibleFrozenRight=this.visibleMovable=0,this.frozenLeftColumns=[],this.frozenRightColumns=[],this.movableColumns=[],this.splitFrozenCount(this.columns),this.frozenColumns&&(this.frozenLeftCount||this.frozenRightCount)&&this.setProperties({frozenColumns:0},!0),this.setTablesCount(),this.frozenLeftCount&&!this.frozenRightCount?this.frozenName="Left":this.frozenRightCount&&!this.frozenLeftCount?this.frozenName="Right":this.frozenLeftCount&&this.frozenRightCount&&(this.frozenName="Left-Right")},t.prototype.getVisibleFrozenLeftCount=function(){return this.visibleFrozenLeft},t.prototype.getVisibleFrozenRightCount=function(){return this.visibleFrozenRight},t.prototype.getVisibleMovableCount=function(){return this.visibleMovable},t.prototype.getFrozenRightColumns=function(){return this.frozenRightColumns},t.prototype.getFrozenLeftColumns=function(){return this.frozenLeftColumns},t.prototype.getMovableColumns=function(){return this.movableColumns},t.prototype.splitFrozenCount=function(e){for(var t=0;t<e.length;t++)e[t].columns?this.splitFrozenCount(e[t].columns):"Right"===e[t].freeze?(!1!==e[t].visible&&this.visibleFrozenRight++,this.frozenRightColumns.push(e[t]),this.frozenRightCount++):"Left"===e[t].freeze?(!1!==e[t].visible&&this.visibleFrozenLeft++,this.frozenLeftColumns.push(e[t]),this.frozenLeftCount++):(!1!==e[t].visible&&this.visibleMovable++,this.movableColumns.push(e[t]),this.movableCount++)},t.prototype.getVisibleFrozenColumns=function(){return this.getVisibleFrozenColumnsCount()+this.getVisibleFrozenCount(this.columns,0)},t.prototype.getFilterUIInfo=function(){return this.filterModule?this.filterModule.getFilterUIInfo():{}},t.prototype.getVisibleFrozenColumnsCount=function(){for(var e=0,t=this.columnModel,i=0;i<this.frozenColumns;i++)t[i].visible&&e++;if(this.frozenLeftCount||this.frozenRightCount)for(i=0;i<t.length;i++)!t[i].visible||"Left"!==t[i].freeze&&"Right"!==t[i].freeze||e++;return e},t.prototype.getVisibleFrozenCount=function(e,t){if(!this.frozenLeftCount&&!this.frozenRightCount)for(var i=0,r=e.length;i<r;i++)e[i].columns?t=this.getVisibleFrozenCount(e[i].columns,t):e[i].isFrozen&&e[i].visible&&t++;return t},t.prototype.getFrozenCount=function(e,t,i){for(var r=0,n=e.length;r<n;r++)e[r].columns?t=this.getFrozenCount(e[r].columns,t,i):(e[r].isFrozen&&i>this.frozenColumns-1&&t++,i++);return t},t.prototype.goToPage=function(e){this.pagerModule&&this.pagerModule.goToPage(e)},t.prototype.updateExternalMessage=function(e){this.pagerModule&&this.pagerModule.updateExternalMessage(e)},t.prototype.sortColumn=function(e,t,i){this.sortModule&&this.sortModule.sortColumn(e,t,i)},t.prototype.clearSorting=function(){this.sortModule&&this.sortModule.clearSorting()},t.prototype.removeSortColumn=function(e){this.sortModule&&this.sortModule.removeSortColumn(e)},t.prototype.clearGridActions=function(){this.setProperties({sortSettings:{columns:[]}},!0),this.setProperties({filterSettings:{columns:[]}},!0),this.setProperties({searchSettings:{key:""}},!0),this.allowGrouping?this.setProperties({groupSettings:{columns:[]}},!1):this.freezeRefresh()},t.prototype.filterByColumn=function(e,t,i,r,n,o,s,l){this.filterModule&&this.filterModule.filterByColumn(e,t,i,r,n,o,s,l)},t.prototype.clearFiltering=function(e){this.filterModule&&this.filterModule.clearFiltering(e)},t.prototype.removeFilteredColsByField=function(e,t){this.filterModule&&this.filterModule.removeFilteredColsByField(e,t)},t.prototype.selectRow=function(e,t){this.selectionModule&&this.selectionModule.selectRow(e,t)},t.prototype.selectRows=function(e){this.selectionModule&&this.selectionModule.selectRows(e)},t.prototype.clearSelection=function(){this.selectionModule&&this.selectionModule.clearSelection()},t.prototype.selectCell=function(e,t){this.selectionModule&&this.selectionModule.selectCell(e,t)},t.prototype.selectCellsByRange=function(e,t){this.selectionModule.selectCellsByRange(e,t)},t.prototype.search=function(e){this.searchModule&&this.searchModule.search(e)},t.prototype.print=function(){this.printModule&&this.printModule.print()},t.prototype.deleteRecord=function(e,t){this.editModule&&this.editModule.deleteRecord(e,t)},t.prototype.startEdit=function(){this.editModule&&this.editModule.startEdit()},t.prototype.endEdit=function(){this.editModule&&this.editModule.endEdit()},t.prototype.closeEdit=function(){this.editModule&&this.editModule.closeEdit()},t.prototype.addRecord=function(e,t){this.editModule&&this.editModule.addRecord(e,t)},t.prototype.deleteRow=function(e){this.editModule&&this.editModule.deleteRow(e)},t.prototype.editCell=function(e,t){this.editModule&&this.editModule.editCell(e,t)},t.prototype.saveCell=function(){this.editModule&&this.editModule.saveCell()},t.prototype.updateCell=function(e,t,i){this.editModule&&this.editModule.updateCell(e,t,i)},t.prototype.updateRow=function(e,t){this.editModule&&this.editModule.updateRow(e,t)},t.prototype.getBatchChanges=function(){return this.editModule?this.editModule.getBatchChanges():{}},t.prototype.enableToolbarItems=function(e,t){this.toolbarModule&&this.toolbarModule.enableItems(e,t)},t.prototype.copy=function(e){this.clipboardModule&&this.clipboardModule.copy(e)},t.prototype.recalcIndentWidth=function(){var e=this;if(this.getHeaderTable().querySelector(".e-emptycell")&&(this.groupSettings.columns.length||this.isDetail()||this.isRowDragable())&&!this.getHeaderTable().querySelector(".e-emptycell").getAttribute("indentRefreshed")&&this.getContentTable()){var t=this.getHeaderTable().querySelector(".e-emptycell").parentElement.offsetWidth,i=[].slice.call(this.getHeaderTable().querySelector(T.uo).childNodes),r=[].slice.call(this.getContentTable().querySelector(T.uo).childNodes),n=t/30,o="Right"===this.getFrozenMode()?this.frozenRightCount:0,s=this.element.offsetWidth,l=function(t,n){if((0,h.$m)(e)){var o=(n/s*100).toFixed(1)+"%";i[t].style.width=o,r[t].style.width=o}else i[t].style.width=n+"px",r[t].style.width=n+"px";e.notify(c.XEZ,{index:t,width:n})};for(n>=1&&(t=30/n),t<1&&(t=1),(this.enableColumnVirtualization||this.isAutoGen)&&(t=30);o<this.groupSettings.columns.length;)l(o,t),o++;this.isDetail()&&(l(o,t),o++),this.isRowDragable()&&l(o,t),this.isAutoGen=!1,this.getHeaderTable().querySelector(".e-emptycell").setAttribute("indentRefreshed","true")}},t.prototype.resetIndentWidth=function(){if((0,h.$m)(this)&&(this.getHeaderTable().querySelector(".e-emptycell").removeAttribute("indentRefreshed"),this.widthService.setWidthToColumns(),this.recalcIndentWidth()),("auto"===this.width||"string"===typeof this.width&&-1!==this.width.indexOf("%"))&&this.getColumns().filter((function(e){return(!e.width||"auto"===e.width)&&e.minWidth})).length>0){var e=this.widthService.getTableWidth(this.getColumns());this.widthService.setMinwidthBycalculation(e)}this.isFrozenGrid()&&this.widthService&&this.widthService.refreshFrozenScrollbar(),this.allowTextWrap&&"Content"!==this.textWrapSettings.wrapMode&&this.notify(c.Drr,{})},t.prototype.isRowDragable=function(){return this.allowRowDragAndDrop&&!this.rowDropSettings.targetID},t.prototype.reorderColumns=function(e,t){this.reorderModule&&this.reorderModule.reorderColumns(e,t)},t.prototype.reorderColumnByIndex=function(e,t){this.reorderModule&&this.reorderModule.reorderColumnByIndex(e,t)},t.prototype.reorderColumnByTargetIndex=function(e,t){this.reorderModule&&this.reorderModule.reorderColumnByTargetIndex(e,t)},t.prototype.reorderRows=function(e,t){this.rowDragAndDropModule&&this.rowDragAndDropModule.reorderRows(e,t)},t.prototype.refreshDataSource=function(e){this.notify("refreshdataSource",e)},t.prototype.disableRowDD=function(e){var t=this.getHeaderTable(),i=this.getContentTable(),n=t.querySelectorAll("th.e-rowdragheader, th.e-mastercell"),o=this.getRows(),s=e?"none":"";(0,r.sN)(t.querySelector(T.uo).childNodes[0],{display:s}),(0,r.sN)(i.querySelector(T.uo).childNodes[0],{display:s});for(var l=0;l<this.getRows().length;l++){var a=o[l].firstElementChild;e?(0,r.iQ)([a],"e-hide"):(0,r.vy)([a],["e-hide"])}for(var h=0;h<t.querySelectorAll("th.e-rowdragheader, th.e-mastercell").length;h++){a=n[h];e?(0,r.iQ)([a],"e-hide"):(0,r.vy)([a],["e-hide"])}},t.prototype.autoFitColumns=function(e){this.resizeModule&&this.resizeModule.autoFitColumns(e)},t.prototype.createColumnchooser=function(e,t,i){this.columnChooserModule&&this.columnChooserModule.renderColumnChooser(e,t,i)},t.prototype.initializeServices=function(){this.serviceLocator.register("widthService",this.widthService=new le(this)),this.serviceLocator.register("cellRendererFactory",new re),this.serviceLocator.register("rendererFactory",new se),this.serviceLocator.register("localization",this.localeObj=new r.Wo(this.getModuleName(),this.defaultLocale,this.locale)),this.serviceLocator.register("valueFormatter",this.valueFormatterService=new d.c(this.locale)),this.serviceLocator.register("showHideService",this.showHider=new ye(this)),this.serviceLocator.register("ariaService",this.ariaService=new P.F),this.serviceLocator.register("focus",this.focusModule=new ae.KL(this))},t.prototype.processModel=function(){var e,t,i=this.groupSettings.columns,n=this.sortSettings.columns;if(this.allowGrouping)for(var o=function(r,o){t=0;for(var l=n.length;t<l;t++)if(n[t].field===i[r]){e=!0;break}if(e?s.allowSorting?s.sortedColumns.push(n[t].field):n[t].direction="Ascending":n.push({field:i[r],direction:"Ascending",isFromGroup:!0}),!s.groupSettings.showGroupedColumn){var a=s.enableColumnVirtualization?s.columns.filter((function(e){return e.field===i[r]}))[0]:s.getColumnByField(i[r]);a?a.visible=!1:s.log("initial_action",{moduleName:"group",columnName:i[r]})}},s=this,l=0,a=i.length;l<a;l++)o(l);if(!i.length)for(l=0;l<n.length;l++)this.sortedColumns.push(n[l].field);if(this.rowTemplateFn=(0,h.M2)(this.rowTemplate),this.detailTemplateFn=(0,h.M2)(this.detailTemplate),this.editTemplateFn=(0,h.M2)(this.editSettings.template),this.editHeaderTemplateFn=(0,h.M2)(this.editSettings.headerTemplate),this.editFooterTemplateFn=(0,h.M2)(this.editSettings.footerTemplate),!(0,r.hX)(this.parentDetails)){var c=(0,r.hX)(this.parentDetails.parentKeyFieldValue)?"undefined":this.parentDetails.parentKeyFieldValue;this.query.where(this.queryString,"equal",c,!0)}this.initForeignColumn()},t.prototype.initForeignColumn=function(){this.isForeignKeyEnabled(this.getColumns())&&this.notify(c.USQ,this.getForeignKeyColumns())},t.prototype.enableVerticalRendering=function(){"Vertical"===this.rowRenderingMode?this.element.classList.add("e-row-responsive"):this.element.classList.remove("e-row-responsive")},t.prototype.gridRender=function(){this.updateRTL(),"Vertical"===this.rowRenderingMode&&this.element.classList.add("e-row-responsive"),this.enableHover&&this.element.classList.add("e-gridhover"),r.Pw.isDevice&&this.element.classList.add("e-device"),this.rowHeight&&this.element.classList.add("e-grid-min-height"),(0,r.pP)(this.element,["e-responsive","e-default"],[]);var e=this.serviceLocator.getService("rendererFactory");this.headerModule=e.getRenderer(u.nJ.Header),this.contentModule=e.getRenderer(u.nJ.Content),this.printModule=new Ce.a(this,this.scrollModule),this.clipboardModule=new xe(this),this.renderModule.render(),this.eventInitializer(),this.createGridPopUpElement(),this.widthService.setWidthToColumns(),this.updateGridLines(),this.applyTextWrap(),this.createTooltip(),this.enableBoxSelection()},t.prototype.dataReady=function(){this.scrollModule.setWidth(),this.scrollModule.setHeight(),"auto"!==this.height&&this.scrollModule.setPadding()},t.prototype.updateRTL=function(){this.enableRtl?this.element.classList.add("e-rtl"):this.element.classList.remove("e-rtl")},t.prototype.createGridPopUpElement=function(){var e=this.createElement("div",{className:"e-gridpopup",styles:"display:none;"}),t=this.createElement("div",{className:T.Qs,attrs:{tabIndex:"-1"}});(0,r.BC)([t,this.createElement("div",{className:"e-uptail e-tail"})],e),t.appendChild(this.createElement("span")),(0,r.BC)([t,this.createElement("div",{className:"e-downtail e-tail"})],e),this.element.appendChild(e)},t.prototype.updateGridLines=function(){switch((0,r.pP)(this.element,[],["e-verticallines","e-horizontallines","e-hidelines","e-bothlines"]),this.gridLines){case"Horizontal":this.element.classList.add("e-horizontallines");break;case"Vertical":this.element.classList.add("e-verticallines");break;case"None":this.element.classList.add("e-hidelines");break;case"Both":this.element.classList.add("e-bothlines")}this.updateResizeLines()},t.prototype.updateResizeLines=function(){this.allowResizing&&"Vertical"!==this.gridLines&&"Both"!==this.gridLines?this.element.classList.add("e-resize-lines"):this.element.classList.remove("e-resize-lines")},t.prototype.applyTextWrap=function(){if(this.allowTextWrap){var e=[].slice.call(this.element.getElementsByClassName("e-columnheader"));switch(this.textWrapSettings.wrapMode){case"Header":(0,h.LV)(this.element,!1),(0,h.LV)(this.getContent(),!1),(0,h.LV)(e,!0);break;case"Content":(0,h.LV)(this.getContent(),!0),(0,h.LV)(this.element,!1),(0,h.LV)(e,!1);break;default:(0,h.LV)(this.element,!0),(0,h.LV)(this.getContent(),!1),(0,h.LV)(e,!1)}"Content"!==this.textWrapSettings.wrapMode&&this.notify(c.Drr,{})}},t.prototype.removeTextWrap=function(){(0,h.LV)(this.element,!1);var e=[].slice.call(this.element.getElementsByClassName("e-columnheader"));(0,h.LV)(e,!1),(0,h.LV)(this.getContent(),!1),"Content"!==this.textWrapSettings.wrapMode&&this.notify(c.Drr,{})},t.prototype.createTooltip=function(){this.toolTipObj=new a.m({opensOn:"custom",content:""},this.element)},t.prototype.freezeRefresh=function(){this.isFreezeRefresh=!0,this.enableVirtualization&&(this.pageSettings.currentPage=1),this.componentRefresh()},t.prototype.getTooltipStatus=function(e){var t=this.getHeaderTable(),i="e-gridheader",r=this.createTable(t,i,"header"),n=this.createTable(t,i,"content"),o=e.classList.contains("e-headercell")?r:n,s=e.classList.contains("e-headercell")?"th":"tr";o.querySelector(s).className=e.className,o.querySelector(s).innerHTML=e.innerHTML;var l=o.querySelector(s).getBoundingClientRect().width;return document.body.removeChild(r),document.body.removeChild(n),l>e.getBoundingClientRect().width},t.prototype.mouseMoveHandler=function(e){if(this.isEllipsisTooltip()){var t=(0,h.oC)(e.target,"e-ellipsistooltip");this.prevElement===t&&"mouseout"!==e.type||this.toolTipObj.close();var i=e.target.tagName;if(t&&"mouseout"!==e.type&&(!r.Pw.isDevice||-1===["A","BUTTON","INPUT"].indexOf(i))){if(t.getAttribute("aria-describedby"))return;if(this.getTooltipStatus(t))t.getElementsByClassName("e-headertext").length?this.toolTipObj.content=t.getElementsByClassName("e-headertext")[0].innerText:this.toolTipObj.content=t.innerText,this.prevElement=t,this.getColumns()[parseInt(t.getAttribute(T.ql),10)].disableHtmlEncode&&(this.toolTipObj.enableHtmlParse=!1),this.toolTipObj.open(t)}}this.hoverFrozenRows(e)},t.prototype.hoverFrozenRows=function(e){if(this.isFrozenGrid()){var t=(0,h.oC)(e.target,T.nM);if([].slice.call(this.element.getElementsByClassName("e-frozenhover")).length&&"mouseout"===e.type)for(var i=[].slice.call(this.element.getElementsByClassName("e-frozenhover")),r=0;r<i.length;r++)i[r].classList.remove("e-frozenhover");else if(t){(i=[].slice.call(this.element.querySelectorAll('tr[aria-rowindex="'+t.getAttribute(T.E3)+'"]'))).splice(i.indexOf(t),1);for(r=0;r<i.length;r++)"true"!==t.getAttribute("aria-selected")&&i[r]?i[r].classList.add("e-frozenhover"):i[r]&&i[r].classList.remove("e-frozenhover")}}},t.prototype.isEllipsisTooltip=function(){var e=this.getColumns();if("EllipsisWithTooltip"===this.clipMode)return!0;for(var t=0;t<e.length;t++)if("EllipsisWithTooltip"===e[t].clipMode)return!0;return!1},t.prototype.scrollHandler=function(){this.isEllipsisTooltip()&&this.toolTipObj.close()},t.prototype.createTable=function(e,t,i){var r=this.createElement("div");r.className=this.element.className,r.style.cssText="display: inline-block;visibility:hidden;position:absolute";var n=this.createElement("div");n.className=t;var o=this.createElement("table");o.className=e.className,o.style.cssText="table-layout: auto;width: auto";var s="header"===i?"th":"td",l=this.createElement("tr"),a=this.createElement(s);return l.appendChild(a),o.appendChild(l),n.appendChild(o),r.appendChild(n),document.body.appendChild(r),r},t.prototype.onKeyPressed=function(e){"tab"!==e.action&&"shiftTab"!==e.action||this.toolTipObj.close()},t.prototype.wireEvents=function(){r.Jm.add(this.element,"click",this.mouseClickHandler,this),r.Jm.add(this.element,"touchend",this.mouseClickHandler,this),r.Jm.add(this.element,"focusout",this.focusOutHandler,this),r.Jm.add(this.element,"dblclick",this.dblClickHandler,this),r.Jm.add(this.element,"keydown",this.keyPressHandler,this),r.Jm.add(window,"resize",this.resetIndentWidth,this),this.allowKeyboard&&(this.element.tabIndex=-1===this.element.tabIndex?0:this.element.tabIndex),this.keyboardModule=new r.j9(this.element,{keyAction:this.keyActionHandler.bind(this),keyConfigs:this.keyConfigs,eventName:"keydown"}),r.Jm.add(this.getContent().firstElementChild,"scroll",this.scrollHandler,this),r.Jm.add(this.element,"mousemove",this.mouseMoveHandler,this),r.Jm.add(this.element,"mouseout",this.mouseMoveHandler,this),r.Jm.add(this.getContent(),"touchstart",this.tapEvent,this),r.Jm.add(document.body,"keydown",this.keyDownHandler,this)},t.prototype.unwireEvents=function(){r.Jm.remove(this.element,"click",this.mouseClickHandler),r.Jm.remove(this.element,"touchend",this.mouseClickHandler),r.Jm.remove(this.element,"focusout",this.focusOutHandler),r.Jm.remove(this.element,"dblclick",this.dblClickHandler),r.Jm.remove(this.getContent().firstElementChild,"scroll",this.scrollHandler),r.Jm.remove(this.element,"mousemove",this.mouseMoveHandler),r.Jm.remove(this.element,"mouseout",this.mouseMoveHandler),r.Jm.remove(this.element,"keydown",this.keyPressHandler),r.Jm.remove(this.getContent(),"touchstart",this.tapEvent),r.Jm.remove(document.body,"keydown",this.keyDownHandler),r.Jm.remove(window,"resize",this.resetIndentWidth)},t.prototype.addListener=function(){this.isDestroyed||(this.on(c.yUO,this.dataReady,this),this.on(c.PRb,this.recalcIndentWidth,this),this.on(c.CRr,this.recalcIndentWidth,this),this.dataBoundFunction=this.refreshMediaCol.bind(this),this.addEventListener(c.BPR,this.dataBoundFunction),this.on(c._ld,this.onKeyPressed,this))},t.prototype.removeListener=function(){this.isDestroyed||(this.off(c.yUO,this.dataReady),this.off(c.PRb,this.recalcIndentWidth),this.off(c.CRr,this.recalcIndentWidth),this.removeEventListener(c.BPR,this.dataBoundFunction),this.off(c._ld,this.onKeyPressed))},t.prototype.getCurrentViewRecords=function(){return(0,h.Gj)(this)?(0,r.hX)(this.currentViewData.records)?this.currentViewData:this.currentViewData.records:this.groupSettings.enableLazyLoading?this.currentViewData:this.allowGrouping&&this.groupSettings.columns.length&&this.currentViewData.length&&this.currentViewData.records?this.currentViewData.records:this.currentViewData},t.prototype.mouseClickHandler=function(e){if(!(this.isChildGrid(e)||(0,h.oC)(e.target,"e-gridpopup")&&e.touches||this.element.getElementsByClassName("e-cloneproperties").length||this.checkEdit(e))&&((this.allowRowDragAndDrop||!(0,h.oC)(e.target,T.iV)&&"TD"!==e.target.tagName)&&(this.allowGrouping||this.allowReordering||!(0,h.oC)(e.target,"e-gridheader"))||!e.touches)){(0,h.oC)(e.target,"e-gridheader")&&this.allowRowDragAndDrop&&!(0,h.oC)(e.target,"e-filterbarcell")&&e.preventDefault();var t=this.getRowInfo(e.target);t.cancel=!1;var i=!1,n=(0,r.kp)(e.target,"tr");if(n&&n.getAttribute("data-uid")){var o=this.getRowObjectFromUID(n.getAttribute("data-uid"));i=!!o&&o.isDataRow}i&&this.trigger(c.kB6,t),this.notify(c.jMr,e)}},t.prototype.checkEdit=function(e){var t=(0,h.oC)(e.target,T.nM),i="Batch"!==this.editSettings.mode&&this.isEdit&&t&&(t.classList.contains(T.QF)||t.classList.contains(T.jm));return!(0,h.oC)(e.target,"e-unboundcelldiv")&&(i||(0,h.oC)(e.target,T.Jt)&&(0,h.oC)(e.target,T.Jt).classList.contains("e-editedbatchcell"))},t.prototype.dblClickHandler=function(e){var t=(0,h.oC)(e.target,"e-grid");if(!(0,r.hX)(t)&&t.id===this.element.id&&!(0,r.kp)(e.target,".e-unboundcelldiv")){var i=!1,n=(0,r.kp)(e.target,"tr");if(n&&n.getAttribute("data-uid")){var o=this.getRowObjectFromUID(n.getAttribute("data-uid"));i=!!o&&o.isDataRow}var s=this.getRowInfo(e.target);s.target=e.target,i&&this.trigger(c.nUn,s),this.notify(c.lVf,e)}},t.prototype.focusOutHandler=function(e){if(!this.isChildGrid(e)){(0,h.oC)(e.target,"e-grid")||(this.element.querySelector(".e-gridpopup").style.display="None");var t=this.element.querySelector(".e-cancel:not(.e-hide)");t&&t.classList.add("e-hide");var i=e.relatedTarget,n=i?i.getAttribute("aria-owns"):null;i&&((0,h.oC)(i,"e-grid")||(!(0,r.hX)(n)&&n)===e.target.getAttribute("aria-owns"))||this.keyPress||!this.isEdit||r.Pw.isDevice||("Batch"!==this.editSettings.mode||((0,h.oC)(i,"e-ddl")||(0,h.oC)(i,"e-ddt"))&&(0,h.oC)(i,"e-input-group")||(this.editModule.saveCell(),this.notify(c.lJd,{})),"Normal"===this.editSettings.mode&&this.editModule.editFormValidate()),this.keyPress=!1}},t.prototype.isChildGrid=function(e){var t=(0,h.oC)(e.target,"e-grid");return!!(t&&t.id!==this.element.id||(0,h.oC)(e.target,"e-unboundcelldiv")&&(0,r.hX)(t))},t.prototype.mergePersistGridData=function(e){var t=this.getLocalData();if(!(0,r.hX)(t)&&""!==t||!(0,r.hX)(e)){var i=(0,r.hX)(e)?JSON.parse(t):e;this.enableVirtualization&&(i.pageSettings.currentPage=1);var n=Object.keys(i);this.isProtectedOnChange=!0;for(var o=0,s=n;o<s.length;o++){var l=s[o];"object"!==typeof this[l]||(0,r.hX)(this[l])?this[l]=i[l]:Array.isArray(this[l])&&"columns"===l?((0,h.zg)(this[l]),this.mergeColumns(i[l],this[l]),this[l]=i[l]):(0,r.X$)(this[l],i[l])}this.isProtectedOnChange=!1}},t.prototype.mergeColumns=function(e,t){for(var i=e,n=function(e){var n=t.filter((function(t){return t.index===i[e].index}))[0];(0,r.hX)(n)||(n.columns&&n.columns.length?(o.mergeColumns(i[e].columns,n.columns),i[e]=(0,r.X$)(n,i[e],{},!0)):i[e]=(0,r.X$)(n,i[e],{},!0))},o=this,s=0;s<i.length;s++)n(s)},t.prototype.isDetail=function(){return!(0,r.hX)(this.detailTemplate)||!(0,r.hX)(this.childGrid)},t.prototype.isCommandColumn=function(e){var t=this;return e.some((function(e){return e.columns?t.isCommandColumn(e.columns):!(!e.commands&&!e.commandsTemplate)}))},t.prototype.isForeignKeyEnabled=function(e){var t=this;return e.some((function(e){return e.columns?t.isForeignKeyEnabled(e.columns):!(!e.dataSource||!e.foreignKeyValue)}))},t.prototype.keyPressHandler=function(e){var t=(0,r.X$)(e,{cancel:!1});this.trigger("keyPressed",t),!0===t.cancel&&e.stopImmediatePropagation()},t.prototype.keyDownHandler=function(e){e.altKey&&(74===e.keyCode&&(this.keyA?(this.notify(c.z4n,{target:e.target,collapse:!1}),this.keyA=!1):(this.focusModule.focusHeader(),this.focusModule.addOutline())),87===e.keyCode&&(this.focusModule.focusContent(),this.focusModule.addOutline()),65===e.keyCode&&(this.keyA=!0),72===e.keyCode&&this.keyA&&(this.notify(c.z4n,{target:e.target,collapse:!0}),this.keyA=!1)),13===e.keyCode&&this.notify(c.w7v,e)},t.prototype.keyActionHandler=function(e){this.isChildGrid(e)||this.isEdit&&"escape"!==e.action&&"enter"!==e.action&&"shiftEnter"!==e.action&&"tab"!==e.action&&"shiftTab"!==e.action||(this.keyPress=!0,this.allowKeyboard&&("ctrlPlusP"===e.action&&(e.preventDefault(),this.print()),this.notify(c._ld,e)))},t.prototype.setInjectedModules=function(e){this.injectedModules=e},t.prototype.updateColumnObject=function(){(0,h.X2)(this.columns,this.enableColumnVirtualization,this),(0,h.zg)(this.columns),this.initForeignColumn(),this.notify(c.a6z,{})},t.prototype.getForeignKeyColumns=function(){return this.getColumns().filter((function(e){return e.isForeignColumn()}))},t.prototype.getRowHeight=function(){return this.rowHeight?this.rowHeight:(0,h.gi)(this.element)},t.prototype.refreshColumns=function(){this.setFrozenCount();var e=this.getContent().querySelector(".e-frozen-left-content"),t=this.getContent().querySelector(".e-frozen-right-content"),i=!this.frozenRightCount&&!this.frozenLeftCount;if(!(0!==this.getFrozenColumns())&&(!e&&this.frozenLeftCount||!t&&this.frozenRightCount||e&&!this.frozenLeftCount||t&&!this.frozenRightCount))this.tableIndex=0,this.tablesCount=1,this.enableColumnVirtualization&&(this.columnModel=[],this.updateColumnModel(this.columns)),this.freezeRefresh();else if(i&&(1===this.getFrozenColumns()&&!e||0===this.getFrozenColumns()&&e))this.tableIndex=0,this.tablesCount=1,this.enableColumnVirtualization&&(this.columnModel=[],this.updateColumnModel(this.columns)),this.freezeRefresh();else if(this.isPreventScrollEvent=!0,this.updateColumnObject(),this.checkLockColumns(this.getColumns()),this.refresh(),this.isFrozenGrid()){var n=this.contentModule.getMovableContent().querySelector("."+T.tp);(0,r.TF)(n.querySelector(T.uo));var o=this.getHeaderContent().querySelector("."+T.eW).querySelector(T.uo).cloneNode(!0);if(n.insertBefore(o,n.querySelector(T.T_)),"Left-Right"===this.getFrozenMode()){var s=this.contentModule.getFrozenRightContent().querySelector("."+T.tp);(0,r.TF)(s.querySelector(T.uo));var l=this.getHeaderContent().querySelector(".e-frozen-right-header").querySelector(T.uo).cloneNode(!0);s.insertBefore(l,s.querySelector(T.T_))}}if(this.isFrozenGrid()){var a=this.getContent().querySelector(".e-movablescrollbar").scrollLeft;this.headerModule.getMovableHeader().scrollLeft=a,this.contentModule.getMovableContent().scrollLeft=a}},t.prototype.excelExport=function(e,t,i,r){return this.excelExportModule?this.excelExportModule.Map(this,e,t,i,!1,r):null},t.prototype.csvExport=function(e,t,i,r){return this.excelExportModule?this.excelExportModule.Map(this,e,t,i,!0,r):null},t.prototype.pdfExport=function(e,t,i,r){return this.pdfExportModule?this.pdfExportModule.Map(this,e,t,i,r):null},t.prototype.groupColumn=function(e){this.groupModule&&this.groupModule.groupColumn(e)},t.prototype.groupExpandAll=function(){this.groupModule&&this.groupModule.expandAll()},t.prototype.groupCollapseAll=function(){this.groupModule&&this.groupModule.collapseAll()},t.prototype.clearGrouping=function(){this.groupModule&&this.groupModule.clearGrouping()},t.prototype.ungroupColumn=function(e){this.groupModule&&this.groupModule.ungroupColumn(e)},t.prototype.openColumnChooser=function(e,t){this.columnChooserModule&&this.columnChooserModule.openColumnChooser(e,t)},t.prototype.scrollRefresh=function(){var e=this,t=function(){e.scrollModule.refresh(),e.off(c.PRb,t)};this.on(c.PRb,t,this)},t.prototype.detailCollapseAll=function(){this.detailRowModule&&this.detailRowModule.collapseAll()},t.prototype.detailExpandAll=function(){this.detailRowModule&&this.detailRowModule.expandAll()},t.prototype.clearCellSelection=function(){this.selectionModule&&this.selectionModule.clearCellSelection()},t.prototype.clearRowSelection=function(){this.selectionModule&&this.selectionModule.clearRowSelection()},t.prototype.selectCells=function(e){this.selectionModule&&this.selectionModule.selectCells(e)},t.prototype.selectRowsByRange=function(e,t){this.selectionModule&&this.selectionModule.selectRowsByRange(e,t)},t.prototype.isContextMenuOpen=function(){return this.contextMenuModule&&this.contextMenuModule.isOpen},t.prototype.ensureModuleInjected=function(e){return this.getInjectedModules().indexOf(e)>=0},t.prototype.destroyTemplate=function(e,t){this.clearTemplate(e,t)},t.prototype.log=function(e,t){this.loggerModule&&this.loggerModule.log(e,t)},t.prototype.applyBiggerTheme=function(e){this.element.classList.contains("e-bigger")&&e.classList.add("e-bigger")},t.prototype.getPreviousRowData=function(){return this.getRowsObject()[this.getRows().length-1].data},t.prototype.hideScroll=function(){var e=this.getContent().querySelector("."+T.Qs),t=this.getContent().querySelector(".e-scrollbar");if(e.scrollHeight<=e.clientHeight&&(this.scrollModule.removePadding(),e.style.overflowY="auto"),this.isFrozenGrid()&&t){var i=this.getContent().querySelector(".e-movablescrollbar"),r=this.getContent().querySelector(".e-movablechild");t.style.display="flex",i.offsetWidth>=r.offsetWidth&&(t.style.display="none",this.notify(c.OIE,0))}},t.prototype.getRowIndexByPrimaryKey=function(e){var t=this.getPrimaryKeyFieldNames()[0];e="object"===typeof e?e[t]:e;for(var i=this.getRowsObject(),r=0;r<i.length;r++)if(!i[r].isDetailRow&&!i[r].isCaptionRow){var n=i[r].data[t];if(t.split(".").length>1&&(n=(0,h.D)(t,i[r].data)),n===e)return i[r].index}return-1},t.prototype.grabColumnByFieldFromAllCols=function(e){var t;this.columnModel=[],this.updateColumnModel(this.columns);for(var i=this.columnModel,r=0;r<i.length;r++)e===i[r].field&&(t=i[r]);return t},t.prototype.grabColumnByUidFromAllCols=function(e){var t;this.columnModel=[],this.updateColumnModel(this.columns);for(var i=this.columnModel,r=0;r<i.length;r++)e===i[r].uid&&(t=i[r]);return t},t.prototype.getFilteredRecords=function(){if(this.allowFiltering&&this.filterSettings.columns.length){var e=this.renderModule.data.generateQuery(!0);return this.dataSource&&this.renderModule.data.isRemote()&&this.dataSource instanceof o.M?this.renderModule.data.getData(this.dataSource,e):this.dataSource instanceof o.M?this.dataSource.executeLocal(e):new o.M(this.dataSource,e).executeLocal(e)}return[]},t.prototype.getUserAgent=function(){var e=r.Pw.userAgent.toLowerCase();return/iphone|ipod|ipad/.test(e)},t.prototype.tapEvent=function(e){this.getUserAgent()&&(h.mL.timer?(clearTimeout(h.mL.timer),h.mL.timer=null,this.dblClickHandler(e),this.notify(c.jnc,e)):h.mL.timer=setTimeout((function(){h.mL.timer=null}),300))},t.prototype.getRowUid=function(e){return""+e+this.rowUid++},t.prototype.getMovableVirtualContent=function(){return this.getContent().querySelector("."+T.S1)},t.prototype.getFrozenVirtualContent=function(){return this.getContent().querySelector("."+T.oL)},t.prototype.getMovableVirtualHeader=function(){return this.getHeaderContent().querySelector("."+T.eW)},t.prototype.getFrozenVirtualHeader=function(){return this.getHeaderContent().querySelector("."+T.OT)},t.prototype.getRowElementByUID=function(e){var t,i=[];if(this.isFrozenGrid()){var r=[].slice.call(this.getFrozenVirtualContent().querySelector(T.T_).children),n=[].slice.call(this.getMovableVirtualContent().querySelector(T.T_).children),o=[];if(3===this.tablesCount&&(o=[].slice.call(this.getContent().querySelector(".e-frozen-right-content").querySelector(T.T_).children)),this.frozenRows){if(i=(i=[].slice.call(this.getFrozenVirtualHeader().querySelector(T.T_).children)).concat([].slice.call(this.getMovableVirtualHeader().querySelector(T.T_).children)),3===this.tablesCount){var s=this.getHeaderContent().querySelector(".e-frozen-right-header");i=i.concat([].slice.call(s.querySelector(T.T_).children)).concat(o)}i=i.concat(r).concat(n)}else i=r.concat(n).concat(o)}else{var l=[].slice.call(this.getContent().querySelector(T.T_).children);i=this.frozenRows?(i=[].slice.call(this.getHeaderContent().querySelector(T.T_).children)).concat(l):l}for(var a=0,h=i;a<h.length;a++){var c=h[a];if(c.getAttribute("data-uid")===e){t=c;break}}return t},t.prototype.getHiddenColumns=function(){for(var e=[],t=0,i=this.columnModel;t<i.length;t++){var r=i[t];!1===r.visible&&e.push(r)}return e},t.prototype.calculatePageSizeByParentHeight=function(e){if(this.allowPaging&&(this.allowTextWrap&&"Header"===this.textWrapSettings.wrapMode||!this.allowTextWrap)){var t=0;if(-1!==e.indexOf("%")&&(e=parseInt(e,10)/100*this.element.clientHeight),e>this.getNoncontentHeight()+this.getRowHeight()){t=(e-this.getNoncontentHeight())/this.getRowHeight()}if(t>0)return Math.floor(t)}return 0},t.prototype.getNoncontentHeight=function(){var e=0;if((0,r.hX)(this.getHeaderContent().clientHeight)||(e+=this.getHeaderContent().clientHeight),this.toolbar&&!(0,r.hX)(this.element.querySelector(".e-toolbar").clientHeight)&&(e+=this.element.querySelector(".e-toolbar").clientHeight),this.allowPaging&&!(0,r.hX)(this.element.querySelector(".e-gridpager").clientHeight)&&(e+=this.element.querySelector(".e-gridpager").clientHeight),this.showColumnChooser&&!(0,r.hX)(this.element.querySelector(".e-columnheader").clientHeight)&&(e+=this.element.querySelector(".e-columnheader").clientHeight),this.allowGrouping&&this.groupSettings.showDropArea&&!(0,r.hX)(this.element.querySelector(".e-groupdroparea").clientHeight)&&(e+=this.element.querySelector(".e-groupdroparea").clientHeight),this.aggregates.length>0&&!(0,r.hX)(this.element.querySelector(".e-summaryrow").clientHeight))for(var t=0;t<this.element.getElementsByClassName("e-summaryrow").length;t++)e+=this.element.getElementsByClassName("e-summaryrow")[t].clientHeight;return e},t.prototype.getSummaryValues=function(e,t){return n.$.aggregates[e.type.toLowerCase()](t,e.field)},t.prototype.serverExcelExport=function(e){this.isExcel=!0,this.exportGrid(e)},t.prototype.serverPdfExport=function(e){this.isExcel=!1,this.exportGrid(e)},t.prototype.serverCsvExport=function(e){this.isExcel=!0,this.exportGrid(e)},t.prototype.exportGrid=function(e){var t=this.getDataModule().generateQuery(!0),i=(new s.V5).processQuery(new o.M({url:""}),t),r=JSON.parse(i.data),n=JSON.parse(this.addOnPersist(["allowGrouping","allowPaging","pageSettings","sortSettings","allowPdfExport","allowExcelExport","aggregates","filterSettings","groupSettings","columns","locale","searchSettings"]));n.filterSettings.columns=r.where,n.searchSettings.fields=r.search&&r.search[0].fields||[],n.sortSettings.columns=r.sorted,n.columns=this.setHeaderText(n.columns,["field","headerText","type","format","visible","foreignKeyValue","foreignKeyField","template","index","width","textAlign","headerTextAlign","columns"]);var l=this.createElement("form",{id:"ExportForm",styles:"display:none;"}),a=this.createElement("input",{id:"gridInput",attrs:{name:"gridModel"}});a.value=JSON.stringify(n),l.method="POST",l.action=e,l.appendChild(a),document.body.appendChild(l),l.submit(),l.remove()},t.prototype.setHeaderText=function(e,t){for(var i=0;i<e.length;i++){var n=this.getColumnByUid(e[i].uid);e[i].headerText=n.headerText,(0,r.hX)(n.template)||(e[i].template="true"),e[i].format&&(e[i].format=(0,h.JI)(this.getFormat(e[i].format),e[i].type,this.isExcel)),e[i].columns&&this.setHeaderText(e[i].columns,t);for(var o=Object.keys(e[i]),s=0;s<o.length;s++)t.indexOf(o[s])<0&&delete e[i][o[s]]}return e},t.prototype.getFormat=function(e){return"object"===typeof e?(0,r.hX)(e.format)?e.skeleton:e.format:e},t.prototype.isCollapseStateEnabled=function(){return!1===this.isExpanded},t.prototype.updateRowValue=function(e,t){var i={requestType:"save",data:t};this.showSpinner(),this.notify(c.O6x,i),this.refresh()},t.prototype.setForeignKeyData=function(){this.dataBind();var e=this.getDataModule().getForeignKeyDataState();e.isPending?(this.getDataModule().setForeignKeyDataState({}),e.resolver()):(this.getDataModule().setForeignKeyDataState({isDataChanged:!1}),(this.contentModule||this.headerModule)&&this.renderModule.render())},t.prototype.resetFilterDlgPosition=function(e){var t=this.getColumnHeaderByField(e);if(t){var i=t.querySelector(".e-filtermenudiv"),r=this.element.querySelector(".e-filter-popup");if(i&&r){var n=this.element.getBoundingClientRect(),o=i.getBoundingClientRect();r&&(r.offsetWidth+o.right>n.right?r.style.left=(o.right-r.offsetWidth-n.left).toString()+"px":r.style.left=(o.right-n.left).toString()+"px")}}},t.prototype.renderTemplates=function(){this.notify("reactTemplateRender",this.portals),this.renderReactTemplates()},t.prototype.batchUpdate=function(e){this.processRowChanges(e)},t.prototype.batchAsyncUpdate=function(e){this.processBulkRowChanges(e)},t.prototype.processBulkRowChanges=function(e){var t=this;if(this.dataToBeUpdated)for(var i=[T.V0,T.BP,T.S4],r=this.getPrimaryKeyFieldNames()[0],n=0;n<i.length;n++)e[i[n]]&&(0,h.vF)(this,e,i[n],r);else this.dataToBeUpdated=Object.assign({addedRecords:[],changedRecords:[],deletedRecords:[]},e),setTimeout((function(){t.processRowChanges(t.dataToBeUpdated),t.dataToBeUpdated=null}),this.asyncTimeOut)},t.prototype.processRowChanges=function(e){var t=this,i=this.getPrimaryKeyFieldNames()[0];e=Object.assign({addedRecords:[],changedRecords:[],deletedRecords:[]},e);var r=this.getDataModule().saveChanges(e,i,{},this.getDataModule().generateQuery().requiresCount());this.getDataModule().isRemote()?r.then((function(){t.setNewData()})):this.setNewData()},t.prototype.setNewData=function(){var e=this,t=JSON.parse(JSON.stringify(this.getCurrentViewRecords()));this.getDataModule().getData({},this.getDataModule().generateQuery().requiresCount()).then((function(i){e.bulkRefresh(i.result,t,i.count)}))},t.prototype.deleteRowElement=function(e){var t=this.getRowElementByUID(e.uid),i=parseInt(t.getAttribute(T.E3),10);if((0,r.TF)(t),this.getFrozenColumns()){var n=this.getMovableRows()[i];(0,r.TF)(n)}},t.prototype.bulkRefresh=function(e,t,i){for(var r,n=this,o=this.getRowsObject(),s=this.getPrimaryKeyFieldNames()[0],l=function(t){e.filter((function(e){return e[s]===o[t].data[s]})).length||(a.deleteRowElement(o[t]),o.splice(t,1),t--),r=t},a=this,p=0;p<o.length;p++)l(p),p=r;var d=function(i){var r;t.filter((function(t){t[s]===e[i][s]&&(t!==e[i]&&n.setRowData(e[i][s],e[i]),r=!0)})),r||u.renderRowElement(e[i],i)},u=this;for(p=0;p<e.length;p++)d(p);this.currentViewData=e;var g=[].slice.call(this.getContentTable().getElementsByClassName(T.nM));(0,h.Kc)(this,this.getRowsObject(),g),(0,h.cz)(this),this.allowPaging&&this.notify(c.$HR,{module:"pager",properties:{totalRecordsCount:i}})},t.prototype.renderRowElement=function(e,t){var i,r=new C.k(this.serviceLocator,null,this),n=new b.Z(this).generateRows([e]),o=r.render(n[0],this.getColumns());this.addRowObject(n[0],t);var s=this.getContentTable().querySelector(T.T_);if(s.querySelector(".e-emptyrow")){var l=s.querySelector(".e-emptyrow");if(l.parentNode.removeChild(l),this.getFrozenColumns()){var a=this.getContent().querySelector("."+T.S1).querySelector(T.T_);a.firstElementChild.parentNode.removeChild(a.firstElementChild)}}this.getFrozenColumns()&&(i=(0,h.bB)(o,this.getFrozenColumns(),this),(this.frozenRows&&t<this.frozenRows?this.getHeaderContent().querySelector("."+T.eW).querySelector(T.T_):this.getContent().querySelector("."+T.S1).querySelector(T.T_)).appendChild(i),"auto"===this.height&&this.notify(c.OIE,{})),s=this.frozenRows&&t<this.frozenRows?this.getHeaderContent().querySelector(T.T_):this.getContent().querySelector(T.T_),(s=this.getContent().querySelector(T.T_)).appendChild(o)},t.prototype.addRowObject=function(e,t){var i=this.getFrozenColumns();if(i){var r=this.getMovableRowsObject(),n=e.clone();n.cells=n.cells.slice(i),e.cells=e.cells.slice(0,i),r.splice(t,1,n)}this.getRowsObject().splice(t,1,e)},t.prototype.updateVisibleExpandCollapseRows=function(){for(var e=this.getRowsObject(),t=0,i=e.length;t<i;t++)(e[t].isDataRow||e[t].isAggregateRow)&&"none"===this.getRowElementByUID(e[t].uid).style.display?e[t].visible=!1:e[t].visible=!0},t.prototype.getHeight=function(e){return e=Number.isInteger(e)||-1===e.indexOf("%")?Number.isInteger(e)||"auto"===this.height?this.height:parseInt(e,10):parseInt(e,10)/100*this.element.clientHeight},t.prototype.getFrozenRightContent=function(){return this.getContent().querySelector(".e-frozen-right-content")},t.prototype.getFrozenRightHeader=function(){return this.getHeaderContent().querySelector(".e-frozen-right-header")},t.prototype.getMovableHeaderTbody=function(){return this.getMovableVirtualHeader().querySelector(T.T_)},t.prototype.getMovableContentTbody=function(){return this.getMovableVirtualContent().querySelector(T.T_)},t.prototype.getFrozenHeaderTbody=function(){return this.getFrozenVirtualHeader().querySelector(T.T_)},t.prototype.getFrozenLeftContentTbody=function(){return this.getFrozenVirtualContent().querySelector(T.T_)},t.prototype.getFrozenRightHeaderTbody=function(){return this.getFrozenRightHeader().querySelector(T.T_)},t.prototype.getFrozenRightContentTbody=function(){var e;return this.getFrozenRightContent()&&(e=this.getFrozenRightContent().querySelector(T.T_)),e},t.prototype.showResponsiveCustomFilter=function(e){this.filterModule&&this.filterModule.showCustomFilter(e||"Vertical"===this.rowRenderingMode)},t.prototype.showResponsiveCustomSort=function(e){this.sortModule&&this.sortModule.showCustomSort(e||"Vertical"===this.rowRenderingMode)},t.prototype.showAdaptiveFilterDialog=function(){this.enableAdaptiveUI&&this.showResponsiveCustomFilter(!0)},t.prototype.showAdaptiveSortDialog=function(){this.enableAdaptiveUI&&this.showResponsiveCustomSort(!0)},t.prototype.getCurrentVisibleColumns=function(e){for(var t=[],i=0,r=e?this.getColumns():this.columnModel;i<r.length;i++){var n=r[i];n.visible&&t.push(n)}return t},t.prototype.enableInfiniteAggrgate=function(){this.enableInfiniteScrolling&&this.groupSettings.columns.length&&!this.groupSettings.disablePageWiseAggregates&&this.setProperties({groupSettings:{disablePageWiseAggregates:!0}},!0)},Me([(0,r.mA)()],t.prototype,"parentDetails",void 0),Me([(0,r.mA)([])],t.prototype,"columns",void 0),Me([(0,r.mA)(!0)],t.prototype,"enableAltRow",void 0),Me([(0,r.mA)(!0)],t.prototype,"enableHover",void 0),Me([(0,r.mA)(!1)],t.prototype,"enableAutoFill",void 0),Me([(0,r.mA)(!0)],t.prototype,"allowKeyboard",void 0),Me([(0,r.mA)(!1)],t.prototype,"enableStickyHeader",void 0),Me([(0,r.mA)(!1)],t.prototype,"allowTextWrap",void 0),Me([(0,r.pr)({},Le)],t.prototype,"textWrapSettings",void 0),Me([(0,r.pr)({},Be)],t.prototype,"resizeSettings",void 0),Me([(0,r.mA)(!1)],t.prototype,"allowPaging",void 0),Me([(0,r.pr)({},pe)],t.prototype,"pageSettings",void 0),Me([(0,r.mA)(!1)],t.prototype,"enableVirtualization",void 0),Me([(0,r.mA)(!1)],t.prototype,"enableColumnVirtualization",void 0),Me([(0,r.mA)(!1)],t.prototype,"enableInfiniteScrolling",void 0),Me([(0,r.pr)({},Pe)],t.prototype,"searchSettings",void 0),Me([(0,r.mA)(!1)],t.prototype,"allowSorting",void 0),Me([(0,r.mA)("Ellipsis")],t.prototype,"clipMode",void 0),Me([(0,r.mA)(!0)],t.prototype,"allowMultiSorting",void 0),Me([(0,r.mA)(!1)],t.prototype,"allowExcelExport",void 0),Me([(0,r.mA)(!1)],t.prototype,"allowPdfExport",void 0),Me([(0,r.pr)({},Te)],t.prototype,"sortSettings",void 0),Me([(0,r.pr)({},ke)],t.prototype,"infiniteScrollSettings",void 0),Me([(0,r.mA)(!0)],t.prototype,"allowSelection",void 0),Me([(0,r.mA)(-1)],t.prototype,"selectedRowIndex",void 0),Me([(0,r.pr)({},De)],t.prototype,"selectionSettings",void 0),Me([(0,r.mA)(!1)],t.prototype,"allowFiltering",void 0),Me([(0,r.mA)("Horizontal")],t.prototype,"rowRenderingMode",void 0),Me([(0,r.mA)(!1)],t.prototype,"enableAdaptiveUI",void 0),Me([(0,r.mA)(!1)],t.prototype,"allowReordering",void 0),Me([(0,r.mA)(!1)],t.prototype,"allowResizing",void 0),Me([(0,r.mA)(!1)],t.prototype,"allowRowDragAndDrop",void 0),Me([(0,r.pr)({},Ee)],t.prototype,"rowDropSettings",void 0),Me([(0,r.pr)({},ze)],t.prototype,"filterSettings",void 0),Me([(0,r.mA)(!1)],t.prototype,"allowGrouping",void 0),Me([(0,r.mA)(!1)],t.prototype,"enableImmutableMode",void 0),Me([(0,r.mA)(!1)],t.prototype,"showColumnMenu",void 0),Me([(0,r.pr)({},qe)],t.prototype,"groupSettings",void 0),Me([(0,r.pr)({},He)],t.prototype,"editSettings",void 0),Me([(0,r.pM)([],Re)],t.prototype,"aggregates",void 0),Me([(0,r.mA)(!1)],t.prototype,"showColumnChooser",void 0),Me([(0,r.pr)({},ge)],t.prototype,"columnChooserSettings",void 0),Me([(0,r.mA)(!1)],t.prototype,"enableHeaderFocus",void 0),Me([(0,r.mA)("auto")],t.prototype,"height",void 0),Me([(0,r.mA)("auto")],t.prototype,"width",void 0),Me([(0,r.mA)("Default")],t.prototype,"gridLines",void 0),Me([(0,r.mA)()],t.prototype,"rowTemplate",void 0),Me([(0,r.mA)()],t.prototype,"detailTemplate",void 0),Me([(0,r.mA)()],t.prototype,"childGrid",void 0),Me([(0,r.mA)()],t.prototype,"queryString",void 0),Me([(0,r.mA)("AllPages")],t.prototype,"printMode",void 0),Me([(0,r.mA)("Expanded")],t.prototype,"hierarchyPrintMode",void 0),Me([(0,r.mA)([])],t.prototype,"dataSource",void 0),Me([(0,r.mA)(null)],t.prototype,"rowHeight",void 0),Me([(0,r.mA)()],t.prototype,"query",void 0),Me([(0,r.mA)("USD")],t.prototype,"currencyCode",void 0),Me([(0,r.mA)()],t.prototype,"toolbar",void 0),Me([(0,r.mA)()],t.prototype,"contextMenuItems",void 0),Me([(0,r.mA)()],t.prototype,"columnMenuItems",void 0),Me([(0,r.mA)()],t.prototype,"toolbarTemplate",void 0),Me([(0,r.mA)()],t.prototype,"pagerTemplate",void 0),Me([(0,r.mA)(0)],t.prototype,"frozenRows",void 0),Me([(0,r.mA)(0)],t.prototype,"frozenColumns",void 0),Me([(0,r.mA)("All")],t.prototype,"columnQueryMode",void 0),Me([(0,r.mA)({})],t.prototype,"currentAction",void 0),Me([(0,r.mA)("19.4.56")],t.prototype,"ej2StatePersistenceVersion",void 0),Me([(0,r.Jh)()],t.prototype,"created",void 0),Me([(0,r.Jh)()],t.prototype,"destroyed",void 0),Me([(0,r.Jh)()],t.prototype,"load",void 0),Me([(0,r.Jh)()],t.prototype,"rowDataBound",void 0),Me([(0,r.Jh)()],t.prototype,"queryCellInfo",void 0),Me([(0,r.Jh)()],t.prototype,"headerCellInfo",void 0),Me([(0,r.Jh)()],t.prototype,"actionBegin",void 0),Me([(0,r.Jh)()],t.prototype,"actionComplete",void 0),Me([(0,r.Jh)()],t.prototype,"actionFailure",void 0),Me([(0,r.Jh)()],t.prototype,"dataBound",void 0),Me([(0,r.Jh)()],t.prototype,"recordDoubleClick",void 0),Me([(0,r.Jh)()],t.prototype,"recordClick",void 0),Me([(0,r.Jh)()],t.prototype,"rowSelecting",void 0),Me([(0,r.Jh)()],t.prototype,"rowSelected",void 0),Me([(0,r.Jh)()],t.prototype,"rowDeselecting",void 0),Me([(0,r.Jh)()],t.prototype,"rowDeselected",void 0),Me([(0,r.Jh)()],t.prototype,"cellSelecting",void 0),Me([(0,r.Jh)()],t.prototype,"cellSelected",void 0),Me([(0,r.Jh)()],t.prototype,"cellDeselecting",void 0),Me([(0,r.Jh)()],t.prototype,"cellDeselected",void 0),Me([(0,r.Jh)()],t.prototype,"columnSelecting",void 0),Me([(0,r.Jh)()],t.prototype,"columnSelected",void 0),Me([(0,r.Jh)()],t.prototype,"columnDeselecting",void 0),Me([(0,r.Jh)()],t.prototype,"columnDeselected",void 0),Me([(0,r.Jh)()],t.prototype,"columnDragStart",void 0),Me([(0,r.Jh)()],t.prototype,"columnDrag",void 0),Me([(0,r.Jh)()],t.prototype,"columnDrop",void 0),Me([(0,r.Jh)()],t.prototype,"printComplete",void 0),Me([(0,r.Jh)()],t.prototype,"beforePrint",void 0),Me([(0,r.Jh)()],t.prototype,"pdfQueryCellInfo",void 0),Me([(0,r.Jh)()],t.prototype,"pdfHeaderQueryCellInfo",void 0),Me([(0,r.Jh)()],t.prototype,"pdfAggregateQueryCellInfo",void 0),Me([(0,r.Jh)()],t.prototype,"excelAggregateQueryCellInfo",void 0),Me([(0,r.Jh)()],t.prototype,"exportDetailDataBound",void 0),Me([(0,r.Jh)()],t.prototype,"excelQueryCellInfo",void 0),Me([(0,r.Jh)()],t.prototype,"excelHeaderQueryCellInfo",void 0),Me([(0,r.Jh)()],t.prototype,"beforeExcelExport",void 0),Me([(0,r.Jh)()],t.prototype,"excelExportComplete",void 0),Me([(0,r.Jh)()],t.prototype,"beforePdfExport",void 0),Me([(0,r.Jh)()],t.prototype,"pdfExportComplete",void 0),Me([(0,r.Jh)()],t.prototype,"rowDragStartHelper",void 0),Me([(0,r.Jh)()],t.prototype,"detailDataBound",void 0),Me([(0,r.Jh)()],t.prototype,"rowDragStart",void 0),Me([(0,r.Jh)()],t.prototype,"rowDrag",void 0),Me([(0,r.Jh)()],t.prototype,"rowDrop",void 0),Me([(0,r.Jh)()],t.prototype,"toolbarClick",void 0),Me([(0,r.Jh)()],t.prototype,"beforeOpenColumnChooser",void 0),Me([(0,r.Jh)()],t.prototype,"beforeOpenAdaptiveDialog",void 0),Me([(0,r.Jh)()],t.prototype,"batchAdd",void 0),Me([(0,r.Jh)()],t.prototype,"batchDelete",void 0),Me([(0,r.Jh)()],t.prototype,"batchCancel",void 0),Me([(0,r.Jh)()],t.prototype,"beforeBatchAdd",void 0),Me([(0,r.Jh)()],t.prototype,"beforeBatchDelete",void 0),Me([(0,r.Jh)()],t.prototype,"beforeBatchSave",void 0),Me([(0,r.Jh)()],t.prototype,"beginEdit",void 0),Me([(0,r.Jh)()],t.prototype,"commandClick",void 0),Me([(0,r.Jh)()],t.prototype,"cellEdit",void 0),Me([(0,r.Jh)()],t.prototype,"cellSave",void 0),Me([(0,r.Jh)()],t.prototype,"cellSaved",void 0),Me([(0,r.Jh)()],t.prototype,"resizeStart",void 0),Me([(0,r.Jh)()],t.prototype,"resizing",void 0),Me([(0,r.Jh)()],t.prototype,"resizeStop",void 0),Me([(0,r.Jh)()],t.prototype,"keyPressed",void 0),Me([(0,r.Jh)()],t.prototype,"beforeDataBound",void 0),Me([(0,r.Jh)()],t.prototype,"contextMenuOpen",void 0),Me([(0,r.Jh)()],t.prototype,"contextMenuClick",void 0),Me([(0,r.Jh)()],t.prototype,"columnMenuOpen",void 0),Me([(0,r.Jh)()],t.prototype,"columnMenuClick",void 0),Me([(0,r.Jh)()],t.prototype,"checkBoxChange",void 0),Me([(0,r.Jh)()],t.prototype,"beforeCopy",void 0),Me([(0,r.Jh)()],t.prototype,"beforePaste",void 0),Me([(0,r.Jh)()],t.prototype,"beforeAutoFill",void 0),Me([(0,r.Jh)()],t.prototype,"columnDataStateChange",void 0),Me([(0,r.Jh)()],t.prototype,"dataStateChange",void 0),Me([(0,r.Jh)()],t.prototype,"dataSourceChanged",void 0),Me([(0,r.Jh)()],t.prototype,"exportGroupCaption",void 0),Me([(0,r.Jh)()],t.prototype,"lazyLoadGroupExpand",void 0),Me([(0,r.Jh)()],t.prototype,"lazyLoadGroupCollapse",void 0),t=i=Me([r.kc],t)}(r.uA)},6425:(e,t,i)=>{i.d(t,{BP:()=>v,E3:()=>F,Jt:()=>r,OT:()=>p,QF:()=>m,Qs:()=>d,S1:()=>a,S4:()=>w,T_:()=>M,U0:()=>b,V0:()=>C,VW:()=>l,XC:()=>k,Xg:()=>S,Zg:()=>A,_X:()=>D,eW:()=>h,ho:()=>T,iM:()=>n,iV:()=>o,jm:()=>y,kC:()=>s,nM:()=>g,oL:()=>c,qf:()=>R,ql:()=>x,tp:()=>u,uo:()=>I,vt:()=>z,yM:()=>f});var r="e-rowcell",n="e-gridheader",o="e-gridcontent",s="e-gridfooter",l="e-headercontent",a="e-movablecontent",h="e-movableheader",c="e-frozencontent",p="e-frozenheader",d="e-content",u="e-table",g="e-row",f="e-gridchkbox",m="e-editedrow",y="e-addedrow",v="changedRecords",C="addedRecords",w="deletedRecords",b="Left-Right",S="frozen-right",R="frozen-left",x="aria-colindex",F="aria-rowindex",M="tbody",I="colgroup",T="open",A="change",k="focus",z="created",D="beforeOpen"},969:(e,t,i)=>{i.d(t,{$m:()=>fe,AZ:()=>$,Ax:()=>xe,Bf:()=>oe,Cd:()=>Z,Cs:()=>ee,D:()=>ze,DL:()=>q,E9:()=>I,F:()=>we,F5:()=>be,F_:()=>L,Fq:()=>Y,Gj:()=>re,Go:()=>U,Hn:()=>Be,JB:()=>_,JI:()=>Ae,Kc:()=>me,LV:()=>V,M2:()=>y,Nf:()=>Te,On:()=>he,PL:()=>Ce,PS:()=>Ee,Qr:()=>De,Qs:()=>M,Qy:()=>He,RV:()=>F,Sz:()=>O,TJ:()=>S,U1:()=>de,U7:()=>J,UI:()=>pe,Vv:()=>g,WN:()=>ue,Wp:()=>k,Ws:()=>v,X$:()=>C,X2:()=>b,Xl:()=>N,Y4:()=>G,YH:()=>K,a4:()=>Re,bB:()=>ie,cz:()=>ve,e5:()=>z,ek:()=>te,gP:()=>d,gi:()=>B,i0:()=>Se,iM:()=>ne,id:()=>Le,j1:()=>Ie,jz:()=>Me,ke:()=>qe,lD:()=>se,lK:()=>Fe,mL:()=>P,mO:()=>ke,mg:()=>f,ne:()=>Q,ni:()=>j,oC:()=>x,pA:()=>m,q_:()=>ge,sK:()=>le,ud:()=>H,v6:()=>A,vF:()=>ye,wg:()=>W,yR:()=>X,yc:()=>Pe,yo:()=>R,zg:()=>w});var r=i(8452),n=i(9983),o=i(4455),s=i(9064),l=i(3049),a=i(5770),h=i(8141),c=i(9100),p=i(6425);function d(e,t){return e.prototype&&t in e.prototype}function u(e,t,i){return(0,r.hX)(e)||""===e?"":n.$.getObject(e,t)}function g(e,t){requestAnimationFrame((function(){try{t(null,e())}catch(i){t(i)}}))}function f(e,t){for(var i=[],n=0,o=e.length;n<o;n++){var s=t(e[n],n);(0,r.hX)(s)||i.push(s)}return i}function m(e){for(var t=[],i=0;i<e.length;i++)t.push((0,r.X$)({},R(e[i]),{},!0));return t}function y(e){if(e)try{return document.querySelectorAll(e).length?(0,r.wE)(document.querySelector(e).innerHTML.trim()):(0,r.wE)(e)}catch(t){return(0,r.wE)(e)}}function v(e,t){var i={},n=["style","class"];(0,r.X$)(i,t,{}),"style"in i&&((0,r.sN)(e,i[n[0]]),delete i[n[0]]),"class"in i&&((0,r.iQ)([e],i[n[1]]),delete i[n[1]]),(0,r.uK)(e,i)}function C(e,t,i,n){for(var o=(0,r.X$)(e,t,i),s=Object.keys(o),l=0;l<s.length;l++)n&&-1!==n.indexOf(s[l])&&delete o[s[l]];return o}function w(e,t){void 0===t&&(t=0);for(var i=0,n=e.length;i<n;i++)e[i].columns?(e[i].index=(0,r.hX)(e[i].index)?t:e[i].index,t++,t=w(e[i].columns,t)):(e[i].index=(0,r.hX)(e[i].index)?t:e[i].index,t++);return t}function b(e,t,i){for(var n=0,o=e.length;n<o;n++){var s=void 0;"string"===typeof e[n]?s=new a.VP({field:e[n]},i):e[n]instanceof a.VP&&!e[n].columns?s=e[n]:e[n].columns?(e[n].columns=b(e[n].columns,null,i),s=new a.VP(e[n],i)):s=new a.VP(e[n],i),s.type&&"checkbox"===s.type.toLowerCase()&&(s.allowReordering=!1),s.headerText=(0,r.hX)(s.headerText)?s.foreignKeyValue||s.field||"":s.headerText,s.foreignKeyField=s.foreignKeyField||s.field,s.valueAccessor=("string"===typeof s.valueAccessor?(0,r._W)(s.valueAccessor,window):s.valueAccessor)||u,s.width=t&&(0,r.hX)(s.width)?200:s.width,(0,r.hX)(s.visible)&&(s.visible=!0),e[n]=s}return e}function S(e,t,i){var n=e.querySelector("span"),o=e.parentElement.getBoundingClientRect(),s=t.target.getBoundingClientRect();n.className=i,e.style.display="";var l=((0,r.hX)(t.clientY)?t.changedTouches[0].clientY:t.clientY)>e.offsetHeight+10;e.style.top=s.top-o.top+(l?-(e.offsetHeight+10):e.offsetHeight+10)+"px",e.style.left=function(e,t,i,r){var n=e.offsetWidth/2,o=I(t).x;return o-i.left<n?i.left-r:i.right-o<n?i.right-r-2*n:o-r-n}(e,t,s,o.left)+"px",l?(e.querySelector(".e-downtail").style.display="",e.querySelector(".e-uptail").style.display="none"):(e.querySelector(".e-downtail").style.display="none",e.querySelector(".e-uptail").style.display="")}function R(e){return e instanceof r.I1?(0,r._W)("properties",e):e}function x(e,t,i){for(var r=e;r&&!(i?r.id===t:r.classList.contains(t));)r=r.parentElement;return r}function F(e,t){for(var i=0,r=t.length;i<r;i++)if(t[i]===e)return i;return-1}function M(e){for(var t=[],i=0,r=e.length;i<r;i++)e[i].hasOwnProperty("properties")?t.push(e[i].properties):t.push(e[i]);return t}function I(e){var t={};return t.x=(0,r.hX)(e.clientX)?e.changedTouches[0].clientX:e.clientX,t.y=(0,r.hX)(e.clientY)?e.changedTouches[0].clientY:e.clientY,t}var T=0;function A(e){return e+T++}function k(e,t){for(var i=0,r=t.length;i<r;i++)r===t.length?e.appendChild(t[i]):e.appendChild(t[0]);return e}function z(e,t,i,o){if("Custom"===e){var s=i.customAggregate;return"string"===typeof s&&(s=(0,r._W)(s,window)),s?s.call(o,t,i):""}return i.field in t||t instanceof Array?n.$.aggregates[e.toLowerCase()](t,i.field):null}var D,P,E=null;function L(){if(null!==E)return E;var e,t=document.createElement("div");return t.style.cssText="width:100px;height: 100px;overflow: scroll;position: absolute;top: -9999px;",document.body.appendChild(t),e=t.offsetWidth-t.clientWidth|0,document.body.removeChild(t),E=e}function B(e){if(void 0!==D)return D;var t=(0,r.n)("table",{className:p.tp,styles:"visibility: hidden"});t.innerHTML='<tr><td class="e-rowcell">A<td></tr>',e.appendChild(t);var i=t.querySelector("td").getBoundingClientRect();return e.removeChild(t),D=Math.ceil(i.height)}function q(e){return e.split(".").length>1}function H(e){return void 0===e&&(e=""),e.replace(/\./g,"___")}function O(e){return void 0===e&&(e=""),e.replace(/___/g,".")}function N(e,t,i){var r=x(i,p.nM),n=!r||r&&!r.classList.contains("e-insertedrow");return"beginEdit"===t&&n?!(e.isIdentity||e.isPrimaryKey||!e.allowEditing):("add"!==t||!e.isIdentity)&&!(n&&!e.allowEditing&&!e.isIdentity&&!e.isPrimaryKey)}function _(e){var t=(0,r.Lt)("#"+e.element.id+"EditConfirm",e.element);return"Batch"===e.editSettings.mode&&(0,r.Ub)(".e-updatedtd",e.element).length&&e.editSettings.showConfirmDialog&&(!t||t.classList.contains("e-popup-close"))}function V(e,t){var i="e-wrap";e=e instanceof Array?e:[e];for(var r=0;r<e.length;r++)t?e[r].classList.add(i):e[r].classList.remove(i)}function j(e,t){var i,r=e.getService("valueFormatter");switch("date"!==t.type&&"datetime"!==t.type||(i={type:t.type,skeleton:t.format},"string"===typeof t.format&&"yMd"!==t.format&&(i.format=t.format)),t.type){case"date":case"datetime":t.setFormatter(r.getFormatFunction(i)),t.setParser(r.getParserFunction(i));break;case"number":t.setFormatter(r.getFormatFunction({format:t.format})),t.setParser(r.getParserFunction({format:t.format}))}}function X(e,t){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];for(var o=0,s=e.length;o<s;o++)t?((0,r.pP)(e[o],i.slice(),[]),e[o].setAttribute("aria-selected","true")):((0,r.pP)(e[o],[],i.slice()),e[o].removeAttribute("aria-selected"))}function G(e){for(var t={},i=[],r=0;r<e.length;r++)e[r]in t||(i.push(e[r].toString()),t[e[r]]=1);return i}function W(e,t){var i=t.element.style.display;t.element.style.display="block";var r=t.width,n=(0,h.j)(e,t.element);t.element.style.display=i,t.element.style.top=n.top+e.getBoundingClientRect().height-5+"px";var o=n.left-r+e.clientWidth;t.element.style.left=o<1?r+o-16+"px":o+-4+"px"}function K(e,t){e.popup.element.style.zIndex=(t.zIndex+1).toString()}function J(e){var t=e.querySelector(".e-frame"),i=t.previousSibling;t.classList.contains("e-check")?(i.checked=!1,(0,r.pP)(t,["e-uncheck"],["e-check"])):(i.checked=!0,(0,r.pP)(t,["e-check"],["e-uncheck"]))}function U(e,t){e.checked=t}function Q(e,t,i){var n=(0,r.n)("div",{className:i});return n.appendChild(t),n.setAttribute("uid",e),n}function Z(e,t){(0,r.vy)([e],["e-check","e-stop","e-uncheck"]),t?e.classList.add("e-check"):e.classList.add("e-uncheck")}function $(e,t,i){for(var n=0;n<t.length;n++)(0,r.KY)(t[n].field,Y(t[n],i),e.foreignKeyData);var o=e.cells;for(n=0;n<o.length;n++)o[n].isForeignKey&&(0,r.KY)("foreignKeyData",(0,r._W)(o[n].column.field,e.foreignKeyData),o[n])}function Y(e,t,i,n){var l=e.foreignKeyField,a=(0,r.hX)(i)?u(e.field,t):i;a=(0,r.hX)(a)?"":a;var h=new o.X,c=n||(e.dataSource instanceof s.M&&e.dataSource.dataSource.json.length?e.dataSource.dataSource.json:e.columnData);return a.getDay?h.where(te({field:l,operator:"equal",value:a,matchCase:!1})):h.where(l,"==",a,!1),new s.M(c).executeLocal(h)}function ee(e,t){var i;return t.some((function(t){return i=t,t.foreignKeyValue===e}))&&i}function te(e,t){var i,n,s,l=(0,r.X$)({},R(e)),a=(0,r.X$)({},R(e));if((0,r.hX)(e.value))return i=new o.m(l.field,l.operator,l.value,!1);var h=new Date(e.value);if("equal"===e.operator||"notequal"===e.operator){"datetime"===t?(n=new Date(h.setSeconds(h.getSeconds()-1)),s=new Date(h.setSeconds(h.getSeconds()+2)),e.value=new Date(h.setSeconds(s.getSeconds()-1))):(n=new Date(h.setHours(0)-1),s=new Date(h.setHours(24))),l.value=n,a.value=s,"equal"===e.operator?(l.operator="greaterthan",a.operator="lessthan"):"notequal"===e.operator&&(l.operator="lessthanorequal",a.operator="greaterthanorequal");var c=new o.m(l.field,l.operator,l.value,!1),p=new o.m(a.field,a.operator,a.value,!1);i="equal"===e.operator?c.and(p):c.or(p)}else{"date"!==t||"lessthanorequal"!==e.operator&&"greaterthan"!==e.operator||(l.value=new Date(h.setHours(24)-1)),"string"===typeof l.value&&(l.value=new Date(l.value)),i=new o.m(l.field,l.operator,l.value,!1)}return e.setProperties?e.setProperties({ejpredicate:i},!0):e.ejpredicate=i,i}function ie(e,t,i){t=t&&i&&i.isRowDragable()?t+1:t;for(var r=e.cloneNode(!0),n=0;n<t;n++)r.removeChild(r.children[0]);n=t;for(var o=e.childElementCount;n<o;n++)e.removeChild(e.children[e.childElementCount-1]);return r}function re(e){return e.enableVirtualization&&e.groupSettings.columns.length>0&&e.isVirtualAdaptive}function ne(e,t){if(void 0===e&&(e=""),e){for(var i=t,n=e.split("."),o=0;o<n.length&&!(0,r.hX)(i);o++)i=i[n[o]];return i}}function oe(e,t){var i=new r.DL,n="format",o="type";return"date"===t?"object"===typeof e?i.getDatePattern({type:e[o]?e[o]:"date",format:e[n]},!1):i.getDatePattern({type:"dateTime",skeleton:e},!1):"object"===typeof e?i.getDatePattern({type:e[o]?e[o]:"dateTime",format:e[n]},!1):i.getDatePattern({type:"dateTime",skeleton:e},!1)}function se(e,t){void 0===t&&(t="Expanded");var i={};if(!e)return i;for(var r=e.isFrozenGrid()&&!e.getFrozenColumns(),n=0,o=c.a.printGridProp;n<o.length;n++){var s=o[n];i[s]="columns"===s?M(r?e.getColumns():e[s]):"allowPaging"===s?"CurrentPage"===e.printMode:R(e[s])}return i.enableHover=!1,e.childGrid&&"None"!==t&&(i.expandedRows=function(e,t){for(var i={},r=0,n=e.getRowsObject();r<n.length;r++){var o=n[r];if(o.isExpand&&!o.isDetailRow){var s=e.allowPaging&&"AllPages"===e.printMode?o.index+e.pageSettings.currentPage*e.pageSettings.pageSize-e.pageSettings.pageSize:o.index;i[s]={},i[s].isExpand=!0,i[s].gridModel=se(o.childGrid,t),i[s].gridModel.query=e.childGrid.query}}return i}(e,t)),i}function le(e,t,i,n){var o=e||{},s=arguments.length;n&&(s-=1);for(var l=1;l<s;l++)if(arguments[l])for(var a=arguments[l],h=Object.keys(Object.getPrototypeOf(a)).length?Object.keys(a).concat(ae(a)):Object.keys(a),c=0;c<h.length;c++){var p=o[h[c]],d=a[h[c]],u=void 0;n&&((0,r.Gv)(d)||Array.isArray(d))?(0,r.Gv)(d)?(u=p||{},o[h[c]]=(0,r.X$)({},u,d,n)):(u=p||[],o[h[c]]=(0,r.X$)([],u,d,n)):o[h[c]]=d}return o}function ae(e){for(var t=[];Object.getPrototypeOf(e)&&Object.keys(Object.getPrototypeOf(e)).length;)t=t.concat(Object.keys(Object.getPrototypeOf(e))),e=Object.getPrototypeOf(e);return t}function he(e){for(var t=0,i=0;i<e.length;i++){var r=ce(e[i],0);t<r&&(t=r)}return t+1}function ce(e,t){var i=t,r=[];if(e.columns){t++;for(var n=0;n<e.columns.length;n++)r[n]=ce(e.columns[n],t);for(var o=0;o<r.length;o++)i<r[o]&&(i=r[o]);t=i}return t}function pe(e,t){for(var i=0;i<t.length;i++)t[i].uid=t[i].isForeignKey?ee(t[i].field,e.getForeignKeyColumns()).uid:e.enableColumnVirtualization?Le(e,t[i].field).uid:e.getColumnByField(t[i].field).uid}function de(e,t){e.classList.contains("e-bigger")&&t.classList.add("e-bigger")}function ue(e,t){if(e&&t){var i=(0,r.kp)(e,"."+p.nM).getBoundingClientRect().height,n=(0,r.kp)(t,"."+p.nM).getBoundingClientRect().height;i>n?t.style.height=i+"px":e.style.height=n+"px"}}function ge(e,t){var i=function(e){var t=new l.V5,i=new s.M({url:"",adaptor:new l.V5}),r=t.processQuery(i,e),n=JSON.parse(r.data);return n}(t),r=new s.c;return i.dataSource=r.resolve,i.action=e,{state:i,deffered:r}}function fe(e){for(var t=e.getVisibleColumns(),i=0,n=0,o=0;o<t.length;o++)(0,r.b0)(t[o].width)?n++:-1!==t[o].width.toString().indexOf("%")&&i++;return("auto"===e.width||"string"===typeof e.width&&-1!==e.width.indexOf("%"))&&!e.groupSettings.showGroupedColumn&&e.groupSettings.columns.length&&i&&!n}function me(e,t,i,r){for(var n=r||0,o=0;o<t.length;o++)if(t[o].isDataRow){t[o].index=n,t[o].isAltRow=!!e.enableAltRow&&n%2!==0,i[o].setAttribute(p.E3,n.toString()),t[o].isAltRow?i[o].classList.add("e-altrow"):i[o].classList.remove("e-altrow");for(var s=0;s<i[o].cells.length;s++)i[o].cells[s].setAttribute("index",n.toString());n++}t.length||e.renderModule.emptyRow(!0)}function ye(e,t,i,r){var n=e.dataToBeUpdated[i].concat(t[i]).reduce((function(e,t){return e[t[r]]=void 0===e[t[r]]?t:Object.assign(e[t[r]],t),e}),{});e.dataToBeUpdated[i]=Object.keys(n).map((function(e){return n[e]}))}function ve(e){if(e.isFrozenGrid()){e.contentModule.rowElements=[].slice.call(e.element.querySelectorAll(".e-movableheader .e-row, .e-movablecontent .e-row"));var t=e.getFrozenMode()===p.U0?".e-frozen-left-header .e-row, .e-frozen-left-content .e-row":".e-frozenheader .e-row, .e-frozencontent .e-row";e.contentModule.freezeRowElements=[].slice.call(e.element.querySelectorAll(t)),e.getFrozenMode()===p.U0&&(e.contentModule.frozenRightRowElements=[].slice.call(e.element.querySelectorAll(".e-frozen-right-header .e-row, .e-frozen-right-content .e-row")))}else e.contentModule.rowElements=[].slice.call(e.element.querySelectorAll(".e-row:not(.e-addedrow)"))}function Ce(e,t,i){var r=e.getFrozenLeftCount(),n=e.getMovableColumnsCount(),o=e.getFrozenRightColumnsCount(),s=e.getFrozenMode(),l=e.isRowDragable()?1:0,a="Right"===s?r+n:r+n+l,h="Right"===s?r:r+l,c="Right"===s?t.length-o-l:o?t.length-o:t.length;return i===p.qf?t=t.slice(0,r?r+l:t.length):i===p.Xg?t=t.slice(a,t.length):"movable"===i&&(t=t.slice(h,c)),t}function we(e,t,i,r,n){(i[0].length||r)&&(n?t(p.qf,i[0],n[0]):t(p.qf,i[0])),e.isFrozenGrid()&&(i[1].length||r)&&(n?t("movable",i[1],n[1]):t("movable",i[1])),e.getFrozenMode()!==p.U0&&"Right"!==e.getFrozenMode()||!i[2].length&&!r||(n?t(p.Xg,i[2],n[2]):t(p.Xg,i[2]))}function be(e){return["Right"!==e.getFrozenMode()?e.getRowsObject():[],e.getMovableRowsObject(),e.getFrozenRightRowsObject()]}function Se(e){return["Right"!==e.getFrozenMode()?e.getAllDataRows(!0):[],e.getAllMovableDataRows(!0),e.getAllFrozenRightDataRows(!0)]}function Re(e,t,i){for(var r=e.children.length,n=0,o=0;o<r;o++,n++)o>=t&&o<i||(e.removeChild(e.children[n]),n--)}function xe(e,t,i){return"movable"===t.getFreezeTableName()?[].slice.call(e.getMovableDataRows()[i].getElementsByClassName(p.Jt)):t.getFreezeTableName()===p.Xg?[].slice.call(e.getFrozenRightDataRows()[i].getElementsByClassName(p.Jt)):[].slice.call(e.getDataRows()[i].getElementsByClassName(p.Jt))}function Fe(e,t,i,r){var n=e.getFrozenLeftCount(),o=e.getMovableColumnsCount();return r="movable"===t.getFreezeTableName()?r-n:t.getFreezeTableName()===p.Xg?r-(n+o):r,xe(e,t,i)[r]}function Me(e,t,i,r,n,o,s){s||e.getFreezeTableName()===p.qf||!t&&e.getFreezeTableName()===p.Xg||1===o?i[H(e.field)]=e.validationRules:"movable"!==e.getFreezeTableName()&&e.getFreezeTableName()?e.getFreezeTableName()===p.Xg&&(n[H(e.field)]=e.validationRules):r[H(e.field)]=e.validationRules}function Ie(e){var t;return e.isFrozenGrid()&&(t=e.frozenRows&&"Top"===e.editSettings.newRowPosition?e.getMovableHeaderTbody():e.getMovableContentTbody()),t}function Te(e){var t;return e.getFrozenMode()===p.U0&&(t=e.frozenRows&&"Top"===e.editSettings.newRowPosition?e.getFrozenRightHeaderTbody():e.getFrozenRightContentTbody()),t}function Ae(e,t,i){var n,o=new r.DL;if("number"===t)try{n=o.getNumberPattern({format:e,currency:this.currency,useGrouping:!0},!0)}catch(l){n=e}else if("date"===t||"time"===t||"datetime"===t)try{if(n=o.getDatePattern({skeleton:e,type:t},i),(0,r.hX)(n))throw"error"}catch(l){try{n=o.getDatePattern({format:e,type:t},i)}catch(l){n=e}}else n=e;if("number"!==t){var s={G:"",H:"h",c:"d","'":'"'," a":" AM/PM",yy:"yy",y:"yyyy",EEEE:"dddd",E:"ddd"};n=n.replace(/G|H|c|'| a|yy|y|EEEE|E/g,(function(e){return s[e]}))}return n}function ke(e){if(e.enableAdaptiveUI)for(var t=document.getElementsByClassName("e-responsive-dialog"),i=0;i<t.length;i++)t[i].classList.add("e-bigger")}function ze(e,t){for(var i,r=e.split(".").length,n=e.split("."),o=t,s=0;s<r;s++)o=i=o[n[s]];return i}function De(e,t,i,n,o,s){for(var l=Object.keys(e),a=0;a<l.length;a++){var h=e[l[a]].querySelectorAll("td.e-rowcell")[t];if(e[l[a]].querySelectorAll("td.e-rowcell").length&&h)if((0,r.sN)(e[l[a]].querySelectorAll("td.e-rowcell")[t],{display:i}),e[l[a]].querySelectorAll("td.e-rowcell")[t].classList.contains("e-hide")&&(0,r.vy)([e[l[a]].querySelectorAll("td.e-rowcell")[t]],["e-hide"]),s&&o.isRowDragable()){var c=o.getFrozenColumns()?t:t+1;n[l[a]].cells[c].visible=""===i}else n[l[a]].cells[t].visible=""===i}}function Pe(e,t,i,r){for(var n=0,o=t;n<o.length;n++){var s=o[n];i?e.on(s.event,s.handler,r):e.off(s.event,s.handler)}}function Ee(e,t,i,r){var n=H(t.field);return r=Object.assign(r,{id:e.element.id+n,name:n,"e-mappinguid":t.uid}),e.createElement("input",{className:i,attrs:r})}function Le(e,t){var i;e.columnModel||e.getColumns();for(var r=0,n=e.columnModel;r<n.length;r++){var o=n[r];if(o.field===t){i=o;break}}return i}function Be(e,t,i,r){r.eventHandlers[e]={};for(var n=0;n<t.length;n++)r.eventHandlers[e][t[n]]=i[t[n]]}function qe(e,t,i){for(var r=0;r<t.length&&!e.isDestroyed;r++)e.removeEventListener(t[r],i.eventHandlers[e.element.id][t[r]])}function He(e,t){e.destroyTemplate(t),e.isReact&&e.renderTemplates()}!function(e){e.timer=null}(P||(P={}))},5545:(e,t,i)=>{i.d(t,{d:()=>g});var r=i(8452),n=i(969),o=i(4455),s=i(9064),l=i(9983),a=i(9813),h=i(669),c=i(10),p=i(6815),d=i(3169),u=i(2771),g=function(){function e(e){this.existingPredicate={},this.foreignKeyQuery=new o.X,this.filterState=!0,this.values={},this.renderEmpty=!1,this.parent=e,this.id=this.parent.element.id,this.valueFormatter=new c.c(this.parent.locale),this.cBoxTrue=(0,a.OK)(this.parent.createElement,!1,{checked:!0,label:" "}),this.cBoxFalse=(0,a.OK)(this.parent.createElement,!1,{checked:!1,label:" "}),this.cBoxTrue.insertBefore(this.parent.createElement("input",{className:"e-chk-hidden",attrs:{type:"checkbox"}}),this.cBoxTrue.firstChild),this.cBoxFalse.insertBefore(this.parent.createElement("input",{className:"e-chk-hidden",attrs:{type:"checkbox"}}),this.cBoxFalse.firstChild),this.cBoxFalse.querySelector(".e-frame").classList.add("e-uncheck"),this.parent.enableRtl&&(0,r.iQ)([this.cBoxTrue,this.cBoxFalse],["e-rtl"])}return e.prototype.destroy=function(){this.closeDialog()},e.prototype.wireEvents=function(){r.Jm.add(this.dlg,"click",this.clickHandler,this),r.Jm.add(this.dlg,"keyup",this.keyupHandler,this),this.searchHandler=(0,r.sg)(this.searchBoxKeyUp,200);var e=this.dialogObj.element.querySelector(".e-searchinput");e&&r.Jm.add(e,"keyup",this.searchHandler,this)},e.prototype.unWireEvents=function(){r.Jm.remove(this.dlg,"click",this.clickHandler),r.Jm.remove(this.dlg,"keyup",this.keyupHandler);var e=this.dialogObj.element.querySelector(".e-searchinput");e&&r.Jm.remove(e,"keyup",this.searchHandler)},e.prototype.foreignKeyFilter=function(e,t,i){var r=this,n={},o=[],s=this.foreignKeyQuery.clone();this.options.column.dataSource.executeQuery(s.where(i)).then((function(i){r.options.column.columnData=i.result,r.parent.notify(h.YKq,{predicate:n,column:r.options.column}),e.ejpredicate=n.predicate.predicates;for(var s=n.predicate.predicates,l=0;l<s.length;l++)o.push({field:s[l].field,predicate:"or",matchCase:s[l].ignoreCase,ignoreAccent:s[l].ignoreAccent,operator:s[l].operator,value:s[l].value,type:r.options.type});e.filterCollection=o.length?o:t.filter((function(e){return e.field=r.options.field})),r.options.handler(e)}))},e.prototype.foreignFilter=function(e,t){var i=this.options.isRemote?"string"===this.options.column.type?"contains":"equal":this.options.column.type?"contains":"equal",r=new o.m(this.options.column.foreignKeyValue,i,t,!0,this.options.ignoreAccent);this.foreignKeyFilter(e,[e.filterCollection],r)},e.prototype.searchBoxClick=function(e){e.target.classList.contains("e-searchclear")&&(this.sInput.value="",this.refreshCheckboxes(),this.updateSearchIcon(),this.sInput.focus())},e.prototype.searchBoxKeyUp=function(e){this.refreshCheckboxes(),this.updateSearchIcon()},e.prototype.updateSearchIcon=function(){this.sInput.value.length?(0,r.pP)(this.sIcon,["e-chkcancel-icon"],["e-search-icon"]):(0,r.pP)(this.sIcon,["e-search-icon"],["e-chkcancel-icon"])},e.prototype.getLocalizedLabel=function(e){return this.localeObj.getConstant(e)},e.prototype.updateDataSource=function(){var e=this.options.dataSource;if(!(e instanceof s.M))for(var t=0;t<e.length;t++)if("object"!==typeof e){var i={};i[this.options.field]=e[t],e[t]=i}},e.prototype.updateModel=function(e){this.options=e,this.existingPredicate=e.actualPredicate||{},this.options.dataSource=e.dataSource,this.options.dataManager=e.dataManager?e.dataManager:e.dataSource,this.updateDataSource(),this.options.type=e.type,this.options.format=e.format||"",this.options.ignoreAccent=e.ignoreAccent||!1,this.options.filteredColumns=e.filteredColumns||this.parent.filterSettings.columns,this.options.query=e.query||new o.X,this.options.allowCaseSensitive=e.allowCaseSensitive||!1,this.options.uid=e.column.uid,this.values={},this.localeObj=e.localeObj,this.isFiltered=e.filteredColumns.length},e.prototype.getAndSetChkElem=function(e){if(this.dlg=this.parent.createElement("div",{id:this.id+this.options.type+"_excelDlg",attrs:{uid:this.options.column.uid},className:"e-checkboxfilter e-filter-popup"}),this.sBox=this.parent.createElement("div",{className:"e-searchcontainer"}),!e.hideSearchbox){this.sInput=this.parent.createElement("input",{id:this.id+"_SearchBox",className:"e-searchinput"}),this.sIcon=this.parent.createElement("span",{className:"e-searchclear e-search-icon e-icons e-input-group-icon",attrs:{type:"text",title:this.getLocalizedLabel("Search")}}),this.searchBox=this.parent.createElement("span",{className:"e-searchbox e-fields"}),this.searchBox.appendChild(this.sInput),this.sBox.appendChild(this.searchBox);var t={element:this.sInput,floatLabelType:"Never",properties:{placeholder:this.getLocalizedLabel("Search")}};d.p.createInput(t,this.parent.createElement),this.searchBox.querySelector(".e-input-group").appendChild(this.sIcon)}return this.spinner=this.parent.createElement("div",{className:"e-spinner"}),this.cBox=this.parent.createElement("div",{id:this.id+this.options.type+"_CheckBoxList",className:"e-checkboxlist e-fields"}),this.spinner.appendChild(this.cBox),this.sBox.appendChild(this.spinner),this.sBox},e.prototype.showDialog=function(e){var t={requestType:h.WSy,columnName:this.options.field,columnType:this.options.type,cancel:!1};if(t.filterModel=this,this.parent.notify(h.m4S,t),t.cancel)e.cancel=t.cancel;else{this.dialogObj=new p.lG({visible:!1,content:this.sBox,close:this.closeDialog.bind(this),enableRtl:this.parent.enableRtl,width:!(0,r.hX)((0,n.oC)(e.target,"e-bigger"))||this.parent.element.classList.contains("e-device")?260:255,target:this.parent.element,animationSettings:{effect:"None"},buttons:[{click:this.btnClick.bind(this),buttonModel:{content:this.getLocalizedLabel(this.isExcel?"OKButton":"FilterButton"),cssClass:"e-primary",isPrimary:!0}},{click:this.btnClick.bind(this),buttonModel:{cssClass:"e-flat",content:this.getLocalizedLabel(this.isExcel?"CancelButton":"ClearButton")}}],created:this.dialogCreated.bind(this),open:this.dialogOpen.bind(this)});if(this.dialogObj.isStringTemplate=!0,this.renderResponsiveFilter(e),this.dlg.setAttribute("aria-label",this.getLocalizedLabel("ExcelFilterDialogARIA")),e.isResponsiveFilter)document.querySelector(".e-responsive-dialog > .e-dlg-content > .e-mainfilterdiv").appendChild(this.dlg);else this.parent.element.appendChild(this.dlg);this.dialogObj.appendTo(this.dlg),this.dialogObj.element.style.maxHeight=e.isResponsiveFilter?"none":this.options.height+"px",this.dialogObj.show(),this.dialogObj.element.querySelector(".e-dlg-content").appendChild(this.sBox),this.wireEvents(),(0,u.GF)({target:this.spinner},this.parent.createElement),(0,u.xc)(this.spinner),this.getAllData()}},e.prototype.renderResponsiveFilter=function(e){e.isResponsiveFilter&&(this.dialogObj.buttons=[{}],this.dialogObj.position={X:"",Y:""},this.dialogObj.target=document.querySelector(".e-resfilter > .e-dlg-content > .e-mainfilterdiv"),this.dialogObj.width="100%")},e.prototype.dialogCreated=function(e){this.options.isResponsiveFilter?this.dialogObj.element.style.left="0px":r.Pw.isDevice?this.dialogObj.position={X:"center",Y:"center"}:(0,n.wg)(this.options.target,this.dialogObj),this.options.column.showColumnMenu&&this.parent.notify(h.X9m,e)},e.prototype.openDialog=function(e){this.updateModel(e),this.getAndSetChkElem(e),this.showDialog(e)},e.prototype.closeDialog=function(){if(this.dialogObj&&!this.dialogObj.isDestroyed){this.isBlanks=!1;var e=this.options.columns.filter((function(e){return e.getFilterItemTemplate()})),t=this.parent.registeredTemplate;e.length&&!(0,r.hX)(t)&&t.filterItemTemplate&&this.parent.destroyTemplate(["filterItemTemplate"]),(this.parent.isReact||this.parent.isVue)&&void 0!==this.parent.destroyTemplate&&(0,n.Qy)(this.parent,["filterItemTemplate"]),this.parent.notify(h.q_6,{field:this.options.field}),this.dialogObj.destroy(),this.unWireEvents(),(0,r.TF)(this.dlg),this.dlg=null,this.parent.notify(h.fHr,{})}},e.prototype.clearFilter=function(e){var t={instance:this,handler:this.clearFilter,cancel:!1};this.parent.notify(h.Fsp,t),t.cancel||this.options.handler({action:"clear-filter",field:e?e.field:this.options.field})},e.prototype.btnClick=function(e){if(this.filterState){if("input"===e.target.tagName.toLowerCase()&&e.target.classList.contains("e-searchinput")||13===e.keyCode)this.fltrBtnHandler();else{var t=e.target.firstChild.textContent.toLowerCase();this.getLocalizedLabel(this.isExcel?"OKButton":"FilterButton").toLowerCase()===t?this.fltrBtnHandler():this.getLocalizedLabel("ClearButton").toLowerCase()===t&&this.clearFilter()}this.closeDialog()}else"input"!==e.target.tagName.toLowerCase()&&(this.clearFilter(),this.closeDialog());this.options.column.showColumnMenu&&this.parent.notify(h._l_,{})},e.prototype.fltrBtnHandler=function(){var t,i=this,o=[].slice.call(this.cBox.querySelectorAll(".e-check:not(.e-selectall)")),s=o,l="equal",a=this.dialogObj.element.querySelector(".e-dropdownlist");a&&(this.options.operator=l=a.ej2_instances[0].value),this.isMenuNotEqual="notequal"===this.options.operator,this.options.hideSearchbox||(t=this.searchBox.querySelector(".e-searchinput"));var c,p,d,u,g=this.options.allowCaseSensitive,f={field:this.options.field,predicate:this.isMenuNotEqual?"and":"or",uid:this.options.uid,operator:l,type:this.options.type,matchCase:g,ignoreAccent:this.options.ignoreAccent},m=this.itemsCnt!==o.length&&this.itemsCnt-o.length<o.length;m&&t&&""===t.value&&(l=this.isMenuNotEqual?"equal":"notequal",o=[].slice.call(this.cBox.querySelectorAll(".e-uncheck:not(.e-selectall)")),f.predicate=this.isMenuNotEqual?"or":"and",f.operator=l);var y=[];if(o.length!==this.itemsCnt||t&&t.value&&""!==t.value){for(var v=0;v<o.length;v++){c=this.values[(0,n.oC)(o[v],"e-ftrchk").getAttribute("uid")],u=(0,r.X$)({},{value:c},f),c&&!c.toString().length&&(u.operator=m?"notequal":"equal"),""===c||(0,r.hX)(c)?y=y.concat(e.generateNullValuePredicates(f)):y.push(u);var C={instance:this,handler:this.fltrBtnHandler,arg1:u.field,arg2:u.predicate,arg3:u.operator,arg4:u.matchCase,arg5:u.ignoreAccent,arg6:u.value,cancel:!1};if(this.parent.notify(h.Fsp,C),C.cancel)return}"date"!==this.options.type&&"datetime"!==this.options.type||(d=s.length-1,p=this.values[(0,n.oC)(s[d],"e-ftrchk").getAttribute("uid")],(0,r.hX)(p)&&m&&y.push({field:f.field,matchCase:f.matchCase,operator:"equal",predicate:"and",value:null})),this.initiateFilter(y)}else{var w=this.options.filteredColumns.some((function(e){return i.options.field===e.field}));w&&this.clearFilter()}},e.generateNullValuePredicates=function(e){var t=[];return"string"===e.type&&t.push({field:e.field,ignoreAccent:e.ignoreAccent,matchCase:e.matchCase,operator:e.operator,predicate:e.predicate,value:""}),t.push({field:e.field,matchCase:e.matchCase,operator:e.operator,predicate:e.predicate,value:null}),t.push({field:e.field,matchCase:e.matchCase,operator:e.operator,predicate:e.predicate,value:void 0}),t},e.prototype.initiateFilter=function(e){var t,i=e[0];if(!(0,r.hX)(i)){t=i.ejpredicate?i.ejpredicate:new o.m(i.field,i.operator,i.value,!i.matchCase,i.ignoreAccent);for(var n=1;n<e.length;n++)t=void 0!==e[n].ejpredicate?t[e[n].predicate](e[n].ejpredicate):t[e[n].predicate](e[n].field,e[n].operator,e[n].value,!e[n].matchCase,e[n].ignoreAccent);var s={action:"filtering",filterCollection:e,field:this.options.field,ejpredicate:o.m.or(t)};this.options.handler(s)}},e.prototype.isForeignColumn=function(e){return!!e.isForeignColumn&&e.isForeignColumn()},e.prototype.refreshCheckboxes=function(){var t=this,i=this.sInput.value,l=this.options.column,a=this.isForeignColumn(l)?this.foreignKeyQuery.clone():this.options.query.clone(),c=this.options.query.clone(),p=a.queries.filter((function(e){return e&&"onWhere"===e.fn}))[0];a.queries=[],c.queries=[];var d="string"!==this.options.type&&parseFloat(i)?parseFloat(i):i,g=this.options.isRemote?"string"===this.options.type?"contains":"equal":this.options.type?"contains":"equal",f=!0,m=this.options.ignoreAccent,y=this.isForeignColumn(l)?l.foreignKeyValue:l.field;d=""===d||void 0===d?void 0:d;var v,C=[],w={field:y,predicate:"or",uid:this.options.uid,operator:"equal",type:this.options.type,matchCase:f,ignoreAccent:m},b=this.options.dataManager.adaptor.getModuleName;if("boolean"===this.options.type&&(void 0!==d&&-1!==this.getLocalizedLabel("FilterTrue").toLowerCase().indexOf(d.toLowerCase())?d="true":void 0!==d&&-1!==this.getLocalizedLabel("FilterFalse").toLowerCase().indexOf(d.toLowerCase())&&(d="false"),void 0!==d&&-1!==this.getLocalizedLabel("FilterTrue").toLowerCase().indexOf(d.toLowerCase())&&b?(b(),d=!0):void 0!==d&&-1!==this.getLocalizedLabel("FilterFalse").toLowerCase().indexOf(d.toLowerCase())&&b&&(b(),d=!1),g="equal"),("date"===this.options.type||"datetime"===this.options.type)&&this.options.format){var S=new r.DL,R="string"===typeof this.options.format?this.options.format:this.options.format.format;d=R&&S.parseDate(i,{format:R})||new Date(i)}this.addDistinct(a);var x={requestType:h.Oq3,filterModel:this,columnName:y,column:l,operator:g,matchCase:f,ignoreAccent:m,filterChoiceCount:null,query:a,value:d};this.parent.trigger(h.eYd,x,(function(b){if(b.operator=b.operator,v=new o.m(y,b.operator,d,b.matchCase,b.ignoreAccent),"date"===t.options.type||"datetime"===t.options.type){var S={field:y,operator:g="equal",value:d,matchCase:f,ignoreAccent:m};(0,r.hX)(d)||(v=(0,n.ek)(S,t.options.type))}if(i&&"string"===typeof i&&t.isBlanks&&t.getLocalizedLabel("Blanks").toLowerCase().indexOf(i.toLowerCase())>=0){C=C.concat(e.generateNullValuePredicates(w));var R=e.generatePredicate(C);R.predicates.push(v),a.where(R)}else i.length?(v=(0,r.hX)(p)?v:v.and(p.e),a.where(v)):(0,r.hX)(p)||a.where(p.e);b.filterChoiceCount=(0,r.hX)(b.filterChoiceCount)?1e3:b.filterChoiceCount;var x={};((0,u.xc)(t.spinner),t.renderEmpty=!1,t.isForeignColumn(l)&&i.length)?("result"in l.dataSource?new s.M(l.dataSource.result):l.dataSource).executeQuery(a).then((function(e){var i=t.options.column.columnData;t.options.column.columnData=e.result,t.parent.notify(h.YKq,{predicate:x,column:l}),x.predicate.predicates.length?c.where(x.predicate):t.renderEmpty=!0,t.options.column.columnData=i,c.take(b.filterChoiceCount),t.search(b,c)})):(a.take(b.filterChoiceCount),t.search(b,a))}))},e.prototype.search=function(e,t){this.parent.dataSource&&"result"in this.parent.dataSource?this.filterEvent(e,t):this.processSearch(t)},e.prototype.getPredicateFromCols=function(t){for(var i=e.getPredicate(t),r=[],s={},l=void 0!==this.parent.getForeignKeyColumns,a=l?this.parent.getForeignKeyColumns():[],c=0,p=Object.keys(i);c<p.length;c++){var d=p[c],u=void 0;l&&this.parent.getColumnByField(d).isForeignColumn()&&(u=(0,n.Cs)(d,a)),u?(this.parent.notify(h.YKq,{predicate:s,column:u}),s.predicate.predicates.length&&r.push(o.m.or(s.predicate.predicates))):r.push(i[d])}return r.length&&o.m.and(r)},e.prototype.getQuery=function(){return this.parent.getQuery?this.parent.getQuery().clone():new o.X},e.prototype.getAllData=function(){var e=this,t=this.getQuery();t.requiresCount(),this.addDistinct(t);var i={requestType:h.VKK,query:t,filterChoiceCount:null};i.filterModel=this,this.parent.trigger(h.eYd,i,(function(i){i.filterChoiceCount=(0,r.hX)(i.filterChoiceCount)?1e3:i.filterChoiceCount,t.take(i.filterChoiceCount),e.parent.dataSource&&"result"in e.parent.dataSource?e.filterEvent(i,t):e.processDataOperation(t,!0)}))},e.prototype.addDistinct=function(e){var t=l.$.distinct(this.options.filteredColumns,"field");return t.indexOf(this.options.column.field)<=-1&&(t=t.concat(this.options.column.field)),e.distinct(t),e},e.prototype.filterEvent=function(e,t){var i=this,r=(0,n.q_)(e,t);this.parent.trigger(h.WzS,r.state),r.deffered.promise.then((function(e){i.dataSuccess(e)}))},e.prototype.processDataOperation=function(e,t){var i=this;this.options.dataSource=this.options.dataSource instanceof s.M?this.options.dataSource:new s.M(this.options.dataSource);var r=[],n=[];if(this.isForeignColumn(this.options.column)&&t){var o="result"in this.options.column.dataSource?new s.M(this.options.column.dataSource.result):this.options.column.dataSource;this.foreignKeyQuery.params=e.params,r.push(o.executeQuery(this.foreignKeyQuery)),n.push((function(e){return i.foreignKeyData=e}))}r.push(this.options.dataSource.executeQuery(e)),n.push(this.dataSuccess.bind(this));var l=0;Promise.all(r).then((function(e){for(var t=0;t<e.length;t++)n[l++](e[t].result)}))},e.prototype.dataSuccess=function(t){this.fullData=t;var i={dataSource:this.fullData,executeQuery:!0,field:this.options.field};if(this.parent.notify(h.ma2,i),i.executeQuery){var r=new o.X;if(this.parent.searchSettings&&this.parent.searchSettings.key.length){var n=this.parent.searchSettings,l=n.fields.length?n.fields:this.options.columns.map((function(e){return e.field}));r.search(n.key,l,n.operator,n.ignoreCase,n.ignoreAccent)}if(this.options.filteredColumns.length){for(var a=[],c=0;c<this.options.filteredColumns.length;c++){var p=this.options.filteredColumns[c];this.options.uid?(p.uid=p.uid||this.parent.getColumnByField(p.field).uid,p.uid!==this.options.uid&&a.push(this.options.filteredColumns[c])):p.field!==this.options.field&&a.push(this.options.filteredColumns[c])}var d=this.getPredicateFromCols(a);d&&r.where(d)}var u=new s.M(i.dataSource).executeLocal(r),g=this.options.column;this.filteredData=e.getDistinct(u,this.options.field,g,this.foreignKeyData).records||[]}var f=i.executeQuery?this.filteredData:i.dataSource;this.processDataSource(null,!0,f,i),this.sInput&&this.sInput.focus();var m={requestType:h.djX,columnName:this.options.field,columnType:this.options.type};m.filterModel=this,this.parent.notify(h.uAK,m)},e.prototype.processDataSource=function(e,t,i,r){(0,u.xc)(this.spinner),this.updateResult(),this.createFilterItems(i,t,r)},e.prototype.processSearch=function(e){this.processDataOperation(e)},e.prototype.updateResult=function(){this.result={};var e=this.getPredicateFromCols(this.options.filteredColumns),t=new o.X;e&&t.where(e),this.parent.notify(h.WOc,{query:t});for(var i=0,r=new s.M(this.fullData).executeLocal(t);i<r.length;i++){var l=r[i];this.result[(0,n.iM)(this.options.field,l)]=!0}},e.prototype.clickHandler=function(e){var t=e.target,i=(0,n.oC)(t,"e-checkbox-wrapper");if((0,n.oC)(t,"e-searchbox")&&this.searchBoxClick(e),i){var r=i.querySelector(".e-selectall");r?this.updateAllCBoxes(!r.classList.contains("e-check")):(0,n.U7)(i.parentElement),this.updateIndeterminatenBtn(),i.querySelector(".e-chk-hidden").focus()}this.setFocus((0,n.oC)(i,"e-ftrchk"))},e.prototype.keyupHandler=function(e){this.setFocus((0,n.oC)(e.target,"e-ftrchk"))},e.prototype.setFocus=function(e){var t=this.dlg.querySelector(".e-chkfocus");t&&t.classList.remove("e-chkfocus"),e&&e.classList.add("e-chkfocus")},e.prototype.updateAllCBoxes=function(e){for(var t=0,i=[].slice.call(this.cBox.getElementsByClassName("e-frame"));t<i.length;t++){var r=i[t];(0,n.Cd)(r,e),(0,n.Go)(r.previousSibling,e)}},e.prototype.dialogOpen=function(){this.parent.element.classList.contains("e-device")&&(this.dialogObj.element.querySelector(".e-input-group").classList.remove("e-input-focus"),this.options.isResponsiveFilter||this.dialogObj.element.querySelector(".e-btn").focus())},e.prototype.createCheckbox=function(e,t,i){var o=t?this.cBoxTrue.cloneNode(!0):this.cBoxFalse.cloneNode(!0);(0,n.Go)(o.querySelector("input"),t);var s=o.querySelector(".e-label"),l=(0,n.sK)({},i,{column:this.options.column,parent:this.parent});(s.innerHTML=!(0,r.hX)(e)&&e.toString().length?e:this.getLocalizedLabel("Blanks"),s.innerHTML===this.getLocalizedLabel("Blanks")&&(this.isBlanks=!0),"boolean"===typeof e&&(s.innerHTML=!0===e?this.getLocalizedLabel("FilterTrue"):this.getLocalizedLabel("FilterFalse")),(0,r.iQ)([s],["e-checkboxfiltertext"]),this.options.template&&i[this.options.column.field]!==this.getLocalizedLabel("SelectAll"))&&(s.innerHTML="",this.parent.isReact&&this.options.column.filter&&"string"!==typeof this.options.column.filter.itemTemplate?(this.options.template(l,this.parent,"filterItemTemplate",null,null,null,s),this.parent.renderTemplates()):(0,n.Wp)(s,this.options.template(l,this.parent,"filterItemTemplate")));return o},e.prototype.updateIndeterminatenBtn=function(){var e,t=this.cBox.children.length-1,i=[],o=!1,s=this.cBox.querySelector(".e-selectall"),l=this.cBox.querySelectorAll(".e-check:not(.e-selectall)").length;this.options.isResponsiveFilter||((e=this.dialogObj.btnObj[0]).disabled=!1);var a=s.previousSibling;(0,n.Go)(a,!1),a.indeterminate=!1,t===l?(i=["e-check"],(0,n.Go)(a,!0)):l?(i=["e-stop"],a.indeterminate=!0):(i=["e-uncheck"],o=!0,e&&(e.disabled=!0)),e&&(this.filterState=!e.disabled,e.dataBind()),(0,r.vy)([s],["e-check","e-stop","e-uncheck"]),(0,r.iQ)([s],i),this.parent.notify(h.VYv,{disabled:o})},e.prototype.createFilterItems=function(e,t,i){var l,a,c=this.parent.createElement("div"),p=!1;this.options.isResponsiveFilter||(a=this.dialogObj.btnObj[0]);var d=-1,g="ejValue";i.executeQuery||(g=i.field);for(var f=0;f<e.length;f++){var m=(0,r._W)(g,e[f]);(""===m||(0,r.hX)(m))&&(d+=1)}if(this.itemsCnt=-1!==d?e.length-d:e.length,e.length&&!this.renderEmpty){var y=this.getLocalizedLabel("SelectAll"),v=this.cBox.querySelector(".e-checkfltrnmdiv");v&&v.classList.remove("e-checkfltrnmdiv");var C=this.createCheckbox(y,!1,((l={})[this.options.field]=y,l)),w=(0,n.ne)((0,n.v6)("cbox"),C,"e-ftrchk");w.querySelector(".e-frame").classList.add("e-selectall"),c.appendChild(w);var b=new o.m("field","equal",this.options.field);this.options.foreignKeyValue&&(b=b.or("field","equal",this.options.foreignKeyValue));var S=new s.M(this.options.filteredColumns).executeLocal((new o.X).where(b)).length,R=void 0;for(f=0;f<e.length;f++){var x=(0,n.v6)("cbox");this.values[x]=(0,r._W)(g,e[f]);var F=(0,r._W)(this.options.field,e[f]);this.options.formatFn&&(F=this.valueFormatter.toView(F,this.options.formatFn));var M={value:F,column:this.options.column,data:e[f]};if(this.parent.notify(h.MeP,M),""===(F=M.value)||(0,r.hX)(F)){if(R)continue;R=!0}var I=this.createCheckbox(F,this.getCheckedState(S,this.values[x]),(0,r._W)("dataObj",e[f]));c.appendChild((0,n.ne)(x,I,"e-ftrchk"))}this.cBox.innerHTML="",(0,n.Wp)(this.cBox,[].slice.call(c.children)),this.updateIndeterminatenBtn(),a&&(a.disabled=!1),p=!1}else c.appendChild(this.parent.createElement("span",{innerHTML:this.getLocalizedLabel("NoResult")})),this.cBox.innerHTML="",this.cBox.appendChild(this.parent.createElement("div",{className:"e-checkfltrnmdiv"})),(0,n.Wp)(this.cBox.children[0],[].slice.call(c.children)),a&&(a.disabled=!0),p=!0;a&&(this.filterState=!a.disabled,a.dataBind());var T={requestType:h.VKK,dataSource:this.renderEmpty?[]:e};T.filterModel=this,this.parent.notify(h.uAK,T),this.parent.notify(h.VYv,{disabled:p}),(0,u.W$)(this.spinner)},e.prototype.getCheckedState=function(e,t){if(this.isFiltered&&e){var i=this.result[t];return"notequal"===this.options.operator?!i:i}return!0},e.getDistinct=function(e,t,i,o){for(var s,a=e.length,c=[],p={},d=!(!i||!i.isForeignColumn)&&i.isForeignColumn();a--;)if(s=e[a],!((s=(0,n.iM)(t,s))in p)){var u={};if(u.ejValue=s,p[s]=!0,d){var g=(0,n.Fq)(i,{},s,o)[0];(0,r.KY)(h.Eae,g,e[a]),s=(0,r._W)(i.foreignKeyValue,g)}(0,r.KY)(t,(0,r.hX)(s)?null:s,u),(0,r.KY)("dataObj",e[a],u),c.push(u)}return l.$.group(l.$.sort(c,t,l.$.fnAscending),"ejValue")},e.getPredicate=function(t){for(var i=l.$.distinct(t,"field",!0)||[],r=[],n={},a=0;a<i.length;a++)0!==(r=new s.M(t).executeLocal((new o.X).where("field","equal",i[a].field))).length&&(n[i[a].field]=e.generatePredicate(r));return n},e.generatePredicate=function(t){var i,s=t?t.length:0,l=e.updateDateFilter(t[0]);l.ignoreAccent=!(0,r.hX)(l.ignoreAccent)&&l.ignoreAccent,i="date"===l.type||"datetime"===l.type?(0,n.ek)(l,l.type):l.ejpredicate?l.ejpredicate:new o.m(l.field,l.operator,l.value,!e.getCaseValue(l),l.ignoreAccent);for(var a=1;a<s;a++)t[a]=e.updateDateFilter(t[a]),s>2&&a>1&&"or"===t[a].predicate?"date"===t[a].type||"datetime"===t[a].type?i.predicates.push((0,n.ek)(t[a],t[a].type)):i.predicates.push(new o.m(t[a].field,t[a].operator,t[a].value,!e.getCaseValue(t[a]),t[a].ignoreAccent)):i="date"===t[a].type||"datetime"===t[a].type?"and"===t[a].predicate&&"equal"===t[a].operator?i.or((0,n.ek)(t[a],t[a].type),t[a].type,t[a].ignoreAccent):i[t[a].predicate]((0,n.ek)(t[a],t[a].type),t[a].type,t[a].ignoreAccent):t[a].ejpredicate?i[t[a].predicate](t[a].ejpredicate):i[t[a].predicate](t[a].field,t[a].operator,t[a].value,!e.getCaseValue(t[a]),t[a].ignoreAccent);return i||null},e.getCaseValue=function(e){return(0,r.hX)(e.matchCase)?!("string"===e.type||(0,r.hX)(e.type)&&"string"===typeof e.value):e.matchCase},e.updateDateFilter=function(e){return("date"===e.type||"datetime"===e.type||e.value instanceof Date)&&(e.type=e.type||"date"),e},e}()},151:(e,t,i)=>{i.d(t,{f:()=>n});var r=i(8452),n=function(){function e(e){this.isSpanned=!1,this.isRowSpanned=!1,(0,r.h1)(this,e)}return e.prototype.clone=function(){var t=new e({});return(0,r.h1)(t,this),t},e}()},5770:(e,t,i)=>{i.d(t,{VP:()=>c});var r=i(8452),n=i(4455),o=i(9983),s=i(10),l=i(969),a=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function r(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),h=function(e,t,i,r){var n,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,r);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},c=function(){function e(e,t){var i=this;this.disableHtmlEncode=!0,this.allowSorting=!0,this.allowResizing=!0,this.allowFiltering=!0,this.allowGrouping=!0,this.allowReordering=!0,this.showColumnMenu=!0,this.enableGroupByFormat=!1,this.allowEditing=!0,this.filter={},this.showInColumnChooser=!0,this.edit={},this.allowSearching=!0,this.autoFit=!1,this.sortDirection="Descending",this.getEditTemplate=function(){return i.editTemplateFn},this.getFilterTemplate=function(){return i.filterTemplateFn},(0,r.h1)(this,e),this.parent=t,"none"===this.type?this.type=null:this.type&&(this.type="string"===typeof this.type?this.type.toLowerCase():void 0),this.editType&&(this.editType=this.editType.toLowerCase()),(0,r.hX)(this.uid)&&(this.uid=(0,l.v6)("grid-column"));var a=new s.c;if(e.format&&(e.format.skeleton||e.format.format&&"string"===typeof e.format.format)&&(this.setFormatter(a.getFormatFunction((0,r.X$)({},e.format))),this.setParser(a.getParserFunction(e.format))),this.toJSON=function(){for(var e={},t=["filter","dataSource","headerText","template","headerTemplate","edit","editTemplate","filterTemplate","commandsTemplate","parent"],r=Object.keys(i),n=0;n<r.length;n++)if("columns"===r[n]){e[r[n]]=[];for(var o=0;o<i[r[n]].length;o++)e[r[n]].push(i[r[n]][o].toJSON())}else t.indexOf(r[n])<0&&(e[r[n]]=i[r[n]]);return e},this.field||(this.allowFiltering=!1,this.allowGrouping=!1,this.allowSorting=!1,this.columns&&(this.allowResizing=this.columns.some((function(e){return e.allowResizing})))),this.commands&&!this.textAlign&&(this.textAlign="Right"),(this.template||this.commandsTemplate)&&(this.templateFn=(0,l.M2)(this.template||this.commandsTemplate)),this.headerTemplate&&(this.headerTemplateFn=(0,l.M2)(this.headerTemplate)),!(0,r.hX)(this.filter)&&this.filter.itemTemplate&&(this.fltrTemplateFn=(0,l.M2)(this.filter.itemTemplate)),this.editTemplate&&(this.editTemplateFn=(0,l.M2)(this.editTemplate)),this.filterTemplate&&(this.filterTemplateFn=(0,l.M2)(this.filterTemplate)),this.isForeignColumn()&&((0,r.hX)(this.editType)||"dropdownedit"===this.editType||"defaultedit"===this.editType)&&(this.editType="dropdownedit",this.edit.params&&this.edit.params.dataSource&&(this.edit.params.ddEditedData=!0),this.edit.params=(0,r.X$)({dataSource:this.dataSource,query:new n.X,fields:{value:this.foreignKeyField||this.field,text:this.foreignKeyValue}},this.edit.params)),this.sortComparer){var h=this.sortComparer;this.sortComparer=function(e,t,r,n){if("string"===typeof h&&(h=(0,l.iM)(h,window)),"Descending"===i.sortDirection){var o=e;e=t,t=o;var s=r;r=n,n=s}return h(e,t,r,n)}}!this.sortComparer&&this.isForeignColumn()&&(this.sortComparer=function(e,t){return e=(0,l.iM)(i.foreignKeyValue,(0,l.Fq)(i,{},e)[0]),t=(0,l.iM)(i.foreignKeyValue,(0,l.Fq)(i,{},t)[0]),"Descending"===i.sortDirection?o.$.fnDescending(e,t):o.$.fnAscending(e,t)})}return e.prototype.getSortDirection=function(){return this.sortDirection},e.prototype.setSortDirection=function(e){this.sortDirection=e},e.prototype.getFreezeTableName=function(){return this.freezeTable},e.prototype.setProperties=function(e){for(var t=Object.keys(e),i=0;i<t.length;i++)this[t[i]]=e[t[i]],this.parent&&this.parent.isReact&&("template"===t[i]?this.parent.refreshReactColumnTemplateByUid(this.uid):"headerTemplate"===t[i]&&(this.headerTemplateFn=(0,l.M2)(e[t[i]]),this.parent.refreshReactHeaderTemplateByUid(this.uid)))},e.prototype.isForeignColumn=function(){return!(!this.dataSource||!this.foreignKeyValue)},e.prototype.getFormatter=function(){return this.formatFn},e.prototype.setFormatter=function(e){this.formatFn=e},e.prototype.getParser=function(){return this.parserFn},e.prototype.setParser=function(e){this.parserFn=e},e.prototype.getColumnTemplate=function(){return this.templateFn},e.prototype.getHeaderTemplate=function(){return this.headerTemplateFn},e.prototype.getFilterItemTemplate=function(){return this.fltrTemplateFn},e.prototype.getDomSetter=function(){return this.disableHtmlEncode?"textContent":"innerHTML"},e}();(function(){function e(){}h([(0,r.mA)()],e.prototype,"title",void 0),h([(0,r.mA)()],e.prototype,"type",void 0),h([(0,r.mA)()],e.prototype,"buttonOption",void 0)})(),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}a(t,e)}(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),h([(0,r.mA)(null)],t.prototype,"columns",void 0),t}(c))},7514:(e,t,i)=>{i.d(t,{f:()=>n});var r=i(8452),n=function(){function e(e,t){(0,r.h1)(this,e),this.parent=t}return e.prototype.clone=function(){var t=new e({});return(0,r.h1)(t,this),t.cells=this.cells.map((function(e){return e.clone()})),t},e.prototype.setRowValue=function(e){if(this.parent){var t=this.data[this.parent.getPrimaryKeyFieldNames()[0]];this.parent.setRowData(t,e)}},e.prototype.setCellValue=function(e,t){if(this.parent&&!(this.data[e].toString()===t.toString())){var i=this.parent.getPrimaryKeyFieldNames()[0],r=this.data[i];this.parent.setCellValue(r,e,t),this.makechanges(i,this.data)}},e.prototype.makechanges=function(e,t){this.parent&&this.parent.getDataModule().dataManager.update(e,t)},e}()},7820:(e,t,i)=>{i.d(t,{J:()=>s});var r=i(8452),n=i(969),o=i(7784),s=function(){function e(e,t){this.serviceLocator=e,this.parent=t}return e.prototype.render=function(e,t,i,n){var s,l=this.serviceLocator.getService("cellRendererFactory").getCellRenderer(t.cells[i].cellType||o.vZ.Data),a=t.cells[i].cellSpan?t.cells[i].cellSpan:e.colSpan+i<=t.cells.length?e.colSpan:t.cells.length-i,h=e.rowSpan,c=0;if(t.index>0){var p=this.parent.groupSettings.columns.length>0&&!this.parent.getRowsObject()[t.index-1].isDataRow?this.parent.getRowsObject()[t.index].cells:this.parent.getRowsObject()[t.index-1].cells,d=t.cells[i];s=p.filter((function(e){return e.column.uid===d.column.uid}))[0]}for(var u=s&&s.colSpanRange>1&&s.rowSpanRange>1?s.colSpanRange:a,g=i+1;g<i+u&&g<t.cells.length;g++)!1===t.cells[g].visible?c++:t.cells[g].isSpanned=!0;if(c>0){for(g=i+a;g<i+a+c&&g<t.cells.length;g++)t.cells[g].isSpanned=!0;i+a+c>=t.cells.length&&(a-=i+a+c-t.cells.length)}return t.cells[i].cellSpan&&(t.data[e.column.field]=t.cells[i].spanText,n=l.render(t.cells[i],t.data,{index:(0,r.hX)(t.index)?"":t.index.toString()})),a>1&&(0,r.uK)(n,{colSpan:a.toString(),"aria-colSpan":a.toString()}),h>1&&((0,r.uK)(n,{rowspan:h.toString(),"aria-rowspan":h.toString()}),t.cells[i].isRowSpanned=!0,t.cells[i].rowSpanRange=Number(h),a>1&&(t.cells[i].colSpanRange=Number(a))),t.index>0&&s.rowSpanRange>1&&(t.cells[i].isSpanned=!0,t.cells[i].rowSpanRange=Number(s.rowSpanRange-1),t.cells[i].colSpanRange=s.rowSpanRange>0?s.colSpanRange:1),!this.parent.enableColumnVirtualization||t.cells[i].cellSpan||this.containsKey(e.column.field,e.data[e.column.field])||this.backupMergeCells(e.column.field,e.data[e.column.field],e.colSpan),n},e.prototype.backupMergeCells=function(e,t,i){this.setMergeCells(this.generteKey(e,t),i)},e.prototype.generteKey=function(e,t){return e+"__"+t.toString()},e.prototype.splitKey=function(e){return e.split("__")},e.prototype.containsKey=function(e,t){return this.getMergeCells().hasOwnProperty(this.generteKey(e,t))},e.prototype.getMergeCells=function(){return this.parent.mergeCells},e.prototype.setMergeCells=function(e,t){this.parent.mergeCells[e]=t},e.prototype.updateVirtualCells=function(e){for(var t=this.getMergeCells(),i=0,r=Object.keys(t);i<r.length;i++){var n=r[i],o=t[n],s=this.splitKey(n),l=this.getIndexFromAllColumns(s[0]),a=this.parent.getColumnIndexesInView(),h=o-(a[0]-l);if(l<a[0]&&h>1)for(var c=0,p=e;c<p.length;c++){var d=p[c];if(d.data[s[0]].toString()===s[1].toString()){d.cells[0].cellSpan=h,d.cells[0].spanText=s[1];break}}}return e},e.prototype.getIndexFromAllColumns=function(e){return(0,n.mg)(this.parent.getVisibleColumns(),(function(t,i){if(t.field===e)return i}))[0]},e}()},3719:(e,t,i)=>{i.d(t,{w:()=>h});var r=i(8452),n=i(969),o=i(9813),s=i(669),l=i(7784),a=i(6425),h=function(){function e(e,t){this.localizer=t.getService("localization"),this.formatter=t.getService("valueFormatter"),this.parent=e,this.element=this.parent.createElement("TD",{className:a.Jt,attrs:{role:"gridcell",tabindex:"-1"}}),this.rowChkBox=this.parent.createElement("input",{className:"e-checkselect",attrs:{type:"checkbox","aria-label":"checkbox"}})}return e.prototype.getGui=function(){return""},e.prototype.format=function(e,t,i){return(0,r.hX)(e.format)||("number"===e.type&&isNaN(parseInt(t,10))&&(t=null),t=this.formatter.toView(t,e.getFormatter())),(0,r.hX)(t)?"":t.toString()},e.prototype.evaluate=function(e,t,i,o,l,a){var h,c;if(t.column.template){var p=this.parent.isReact&&"string"!==typeof t.column.template,d=["index"],u=(0,n.sK)({},i,((h={})[s.Eae]=l,h.column=t.column,h)),g=this.parent.element.id+t.column.uid,f="isStringTemplate";if(p){var m={index:o[d[0]]};t.column.getColumnTemplate()((0,r.X$)(m,u),this.parent,"columnTemplate",g,this.parent[f],null,e),this.parent.renderTemplates()}else c=t.column.getColumnTemplate()((0,r.X$)({index:o[d[0]]},u),this.parent,"template",g,this.parent[f]);return p||(0,n.Wp)(e,c),this.parent.notify("template-result",{template:c}),c=null,e.setAttribute("aria-label",e.innerText+" is template cell column header "+t.column.headerText),!1}return!0},e.prototype.invokeFormatter=function(e,t,i){(0,r.hX)(e.formatter)||(t=(0,n.gP)(e.formatter,"getValue")?(new(0,e.formatter)).getValue(e,i):"function"===typeof e.formatter?e.formatter(e,i):e.formatter.getValue(e,i));return t},e.prototype.render=function(e,t,i,r,n){return this.refreshCell(e,t,i,n)},e.prototype.refreshTD=function(e,t,i,n){var o="Batch"===this.parent.editSettings.mode&&e.classList.contains("e-editedbatchcell");if(this.parent.isReact){e.innerHTML="";var s=e.cellIndex,l=e.parentElement;(0,r.TF)(e);var a=this.refreshCell(t,i,n,o);this.cloneAttributes(a,e),l.cells.length!==s-1?l.insertBefore(a,l.cells[s]):l.appendChild(a)}else{var h=this.refreshCell(t,i,n,o);e.innerHTML="",e.setAttribute("aria-label",h.getAttribute("aria-label"));for(var c=0,p=[].slice.call(h.childNodes);c<p.length;c++){var d=p[c];e.appendChild(d)}}},e.prototype.cloneAttributes=function(e,t){for(var i,r=t.attributes,n=r.length;n--;)i=r[n],e.setAttribute(i.name,i.value)},e.prototype.refreshCell=function(e,t,i,n){var s,l,h=this.element.cloneNode(),c=e.column;e.isForeignKey&&(l=e.foreignKeyData[0]||((s={})[c.foreignKeyValue]=c.format?null:"",s));var p=this.getGui(),d=e.isForeignKey?this.getValue(c.foreignKeyValue,l,c):this.getValue(c.field,t,c);if("date"!==c.type&&"datetime"!==c.type||(0,r.hX)(d)||(d=new Date(d)),p=(d=this.format(c,d,t)).toString(),"boolean"===c.type&&!c.displayAsCheckBox){var u="true"!==d&&"false"!==d?null:"true"===d?"True":"False";p=u?this.localizer.getConstant(u):p}var g=this.invokeFormatter(c,d,t);if(p=(0,r.hX)(c.formatter)?p:(0,r.hX)(g)?"":g.toString(),h.setAttribute("aria-label",p+" column header "+e.column.headerText),this.evaluate(h,e,t,i,l,n)&&"checkbox"!==c.type)this.appendHtml(h,p,c.getDomSetter?c.getDomSetter():"innerHTML");else if("checkbox"===c.type){h.classList.add(a.yM),h.setAttribute("aria-label","checkbox"),d=!!this.parent.selectionSettings.persistSelection&&"true"===d;var f=(0,o.OK)(this.parent.createElement,!1,{checked:d,label:" "});this.rowChkBox.id="checkbox-"+e.rowID,f.insertBefore(this.rowChkBox.cloneNode(),f.firstChild),h.appendChild(f)}if("Check"===this.parent.checkAllRows&&this.parent.enableVirtualization&&(e.isSelected=!0),this.setAttributes(h,e,i),"boolean"===c.type&&c.displayAsCheckBox){var m=isNaN(parseInt(d.toString(),10))?"true"===d:parseInt(d.toString(),10)>0;f=(0,o.OK)(this.parent.createElement,!1,{checked:m,label:" "});h.innerHTML="",f.classList.add("e-checkbox-disabled"),h.appendChild(f),h.setAttribute("aria-label",m+" column header "+e.column.headerText)}return h},e.prototype.appendHtml=function(e,t,i){return void 0===i&&(i="innerHTML"),e[i]=t,e},e.prototype.setAttributes=function(e,t,i){var r=t.column;this.buildAttributeFromCell(e,t,"checkbox"===r.type),(0,n.Ws)(e,i),(0,n.Ws)(e,t.attributes),r.customAttributes&&(0,n.Ws)(e,r.customAttributes),"Vertical"===this.parent.rowRenderingMode&&(0,n.Ws)(e,{"data-cell":r.headerText}),r.textAlign&&(e.style.textAlign=r.textAlign),"Clip"===r.clipMode||!r.clipMode&&"Clip"===this.parent.clipMode?e.classList.add("e-gridclip"):("EllipsisWithTooltip"===r.clipMode||!r.clipMode&&"EllipsisWithTooltip"===this.parent.clipMode)&&"checkbox"!==r.type&&e.classList.add("e-ellipsistooltip")},e.prototype.buildAttributeFromCell=function(e,t,i){var o={},s=a.ql,h=[];t.colSpan&&(o.colSpan=t.colSpan),t.rowSpan&&(o.rowSpan=t.rowSpan),t.isTemplate&&h.push("e-templatecell"),t.isSelected&&(h.push.apply(h,["e-selectionbackground","e-active"]),i&&e.querySelector(".e-frame").classList.add("e-check")),t.isColumnSelected&&h.push.apply(h,["e-columnselection"]),t.cellType===l.vZ.Header?o[s]=t.colIndex:(0,r.hX)(t.index)||(o[s]=t.index),t.visible||h.push("e-hide"),o.class=h,(0,n.Ws)(e,o)},e.prototype.getValue=function(e,t,i){return i.valueAccessor(e,t,i)},e}()},1408:(e,t,i)=>{i.d(t,{w:()=>h});var r=i(6815),n=i(8452),o=i(969),s=i(669),l=i(2819),a=i(7784),h=function(){function e(e,t){this.sortedCols=[],this.sortPredicate=[],this.isCustomDialog=!1,this.parent=e,this.serviceLocator=t,this.addEventListener()}return e.prototype.addEventListener=function(){this.evtHandlers=[{event:s.fHr,handler:this.closeCustomDialog},{event:s.VYv,handler:this.refreshCustomFilterOkBtn},{event:s.JRr,handler:this.renderResponsiveContextMenu},{event:s.fMT,handler:this.renderCustomFilterDiv},{event:s.YB_,handler:this.customExFilterClose},{event:s.Icx,handler:this.refreshCustomFilterClearBtn}],(0,o.yc)(this.parent,this.evtHandlers,!0,this),this.onActionCompleteFn=this.editComplate.bind(this),this.parent.addEventListener(s.wn6,this.onActionCompleteFn)},e.prototype.customExFilterClose=function(){this.isCustomDlgRender=!1},e.prototype.renderCustomFilterDiv=function(){var e=this.customResponsiveDlg.element.querySelector(".e-dlg-header-content"),t=e.querySelector(".e-dlg-custom-header"),i=e.querySelector(".e-dlg-closeicon-btn");this.isCustomDlgRender=!0,this.parent.filterModule.filterModule.closeDialog(),this.saveBtn.element.style.display="",this.refreshCustomFilterOkBtn({disabled:!1}),this.backBtn.element.style.display="none",i.style.display="",t.innerHTML=this.parent.localeObj.getConstant("CustomFilter");var r=this.customResponsiveDlg.element.querySelector(".e-dlg-content");this.customExcelFilterParent=this.parent.createElement("div",{className:"e-xl-customfilterdiv e-default-filter"}),r.appendChild(this.customExcelFilterParent)},e.prototype.renderResponsiveContextMenu=function(e){if(this.action===a.P1.isFilter){var t=this.customResponsiveDlg.element.querySelector(".e-dlg-content"),i=this.customResponsiveDlg.element.querySelector(".e-dlg-header-content"),r=i.querySelector(".e-dlg-closeicon-btn"),o=i.querySelector(".e-dlg-custom-header");if(e.isOpen){t.firstChild.style.display="none",t.appendChild(e.target),r.style.display="none",this.saveBtn.element.style.display="none",this.filterClearBtn.element.style.display="none",o.innerHTML=e.header;var s=this.parent.createElement("button"),h=this.parent.createElement("span",{className:"e-btn-icon e-resfilterback e-icons"});s.appendChild(h),this.backBtn=new l.$({cssClass:"e-res-back-btn"}),this.backBtn.appendTo(s),o.parentElement.insertBefore(s,o)}else this.backBtn&&!this.isCustomDlgRender&&(t.firstChild.style.display="",(0,n.TF)(this.backBtn.element),r.style.display="",this.saveBtn.element.style.display="",this.isFiltered&&(this.filterClearBtn.element.style.display=""),o.innerHTML=this.getHeaderTitle({action:a.P1.isFilter},e.col))}},e.prototype.refreshCustomFilterClearBtn=function(e){this.filterClearBtn&&(this.isFiltered=e.isFiltered,this.filterClearBtn.element.style.display=e.isFiltered?"":"none")},e.prototype.refreshCustomFilterOkBtn=function(e){this.saveBtn&&(this.saveBtn.disabled=e.disabled)},e.prototype.renderResponsiveContent=function(e){var t=this,i=this.parent;if(e)return this.filterParent=this.parent.createElement("div",{className:"e-mainfilterdiv e-default-filter",id:e.uid+"-main-filter"}),this.filterParent;var r=i.getColumns();this.customColumnDiv=i.createElement("div",{className:"columndiv",styles:"width: 100%"});var o=i.createElement("div",{className:"e-ressortbutton-parent"}),s=[],h=this.action===a.P1.isSort,c=this.action===a.P1.isFilter;if(c)for(var p=0;p<i.filterSettings.columns.length;p++)s.push(i.filterSettings.columns[p].field);for(p=0;p<r.length;p++)if(!(!r[p].visible||!r[p].allowSorting&&h||!r[p].allowFiltering&&c)){var d=i.createElement("div",{className:"e-responsivecoldiv"});d.setAttribute("data-e-mappingname",r[p].field),d.setAttribute("data-e-mappinguid",r[p].uid);var u=i.createElement("span",{innerHTML:r[p].headerText,className:"e-res-header-text"});if(d.appendChild(u),this.customColumnDiv.appendChild(d),h){var g=this.getSortedFieldsAndDirections("field").indexOf(r[p].field),f=i.createElement("button",{id:i.element.id+r[p].field+"sortbutton"}),m=o.cloneNode();m.appendChild(f),d.appendChild(m),new l.$({cssClass:"e-ressortbutton"}).appendTo(f),f.innerHTML=g>-1?this.parent.sortSettings.columns[g].direction:"None",f.onclick=function(e){t.sortButtonClickHandler(e.target)}}if(c&&s.indexOf(r[p].field)>-1){var y=i.createElement("div",{className:"e-icons e-res-icon e-filtersetdiv"}),v=i.createElement("span",{className:"e-icons e-res-icon e-filterset"});v.setAttribute("colType",r[p].type),y.appendChild(v),d.appendChild(y)}}return n.Jm.add(this.customColumnDiv,"click",this.customFilterColumnClickHandler,this),this.customColumnDiv},e.prototype.getSortedFieldsAndDirections=function(e){for(var t=[],i=0;i<this.parent.sortSettings.columns.length;i++)t.push(this.parent.sortSettings.columns[i][e]);return t},e.prototype.sortButtonClickHandler=function(e){if(e){var t=(0,o.oC)(e,"e-responsivecoldiv").getAttribute("data-e-mappingname");this.parent.allowMultiSorting||(this.sortPredicate=[],this.sortedCols=[],this.isSortApplied=!1,this.resetSortButtons(e));var i=e.textContent,r="None"===i?"Ascending":"Ascending"===i?"Descending":"None";e.innerHTML=r,this.setSortedCols(t,r)}},e.prototype.resetSortButtons=function(e){for(var t=[].slice.call(this.customColumnDiv.getElementsByClassName("e-ressortbutton")),i=0;i<t.length;i++)t[i]!==e&&(t[i].innerHTML="None")},e.prototype.setSortedCols=function(e,t){var i=this.getCurrentSortedFields().indexOf(e);this.parent.allowMultiSorting&&i>-1&&(this.sortedCols.splice(i,1),this.sortPredicate.splice(i,1)),this.isSortApplied=!0,"None"!==t&&(this.sortedCols.push(e),this.sortPredicate.push({field:e,direction:t}))},e.prototype.getCurrentSortedFields=function(){for(var e=[],t=0;t<this.sortedCols.length;t++)e.push(this.sortedCols[t]);return e},e.prototype.customFilterColumnClickHandler=function(e){if(this.action===a.P1.isFilter){var t=this.parent,i=e.target;if("FilterBar"!==t.filterSettings.type)if(i.classList.contains("e-responsivecoldiv")||i.parentElement.classList.contains("e-responsivecoldiv")){if((s=i.getAttribute("data-e-mappingname"))||(s=i.parentElement.getAttribute("data-e-mappingname")),s){var r=t.getColumnByField(s);this.isRowResponsive=!0,this.showResponsiveDialog(r)}}else if(i.classList.contains("e-filterset")||i.parentElement.classList.contains("e-filtersetdiv")){var n=(0,o.oC)(i,"e-responsivecoldiv");if(n){var s=n.getAttribute("data-e-mappingname");("Menu"===(r=t.getColumnByField(s)).filter.type||!r.filter.type&&"Menu"===t.filterSettings.type)&&(this.isDialogClose=!0),this.parent.filterModule.filterModule.clearCustomFilter(r),this.removeCustomDlgFilterEle(i)}}}},e.prototype.showResponsiveDialog=function(e){if(this.isCustomDialog&&this.action===a.P1.isFilter&&!this.isRowResponsive)this.renderCustomFilterDialog();else{if(this.filteredCol=e,this.renderResponsiveDialog(e),this.parent.enableAdaptiveUI&&e&&(this.parent.filterModule.setFilterModel(e),this.parent.filterModule.filterModule.openDialog(this.parent.filterModule.createOptions(e,void 0))),this.action===a.P1.isSort){var t={cancel:!1,dialogObj:this.customResponsiveDlg,requestType:"beforeOpenAptiveSortDialog"};if(this.parent.trigger(s.Y59,t),t.cancel)return}this.customResponsiveDlg.show(!0),this.customResponsiveDlg.element.style.maxHeight="100%",this.setTopToChildDialog(this.customResponsiveDlg.element)}},e.prototype.setTopToChildDialog=function(e){var t=e.querySelector(".e-dialog");if(t){var i=e.querySelector(".e-dlg-header-content").getBoundingClientRect().height;t.style.top=i+"px"}},e.prototype.renderCustomFilterDialog=function(e){var t=this.parent;if(this.action!==a.P1.isFilter||"FilterBar"!==t.filterSettings.type){var i=this.parent.createElement("div",{id:t.element.id+"customfilter",className:"e-customfilterdiv e-responsive-dialog"});this.parent.element.appendChild(i),this.customFilterDlg=this.getDialogOptions(e,!0);var r={cancel:!1,dialogObj:this.customFilterDlg,requestType:"beforeOpenAptiveFilterDialog"};this.parent.trigger(s.Y59,r),r.cancel||(this.customFilterDlg.appendTo(i),this.customFilterDlg.show(!0),this.customFilterDlg.element.style.maxHeight="100%")}},e.prototype.getDialogOptions=function(e,t,i){var n=new r.lG({isModal:!0,showCloseIcon:!0,closeOnEscape:!1,locale:this.parent.locale,target:this.parent.adaptiveDlgTarget?this.parent.adaptiveDlgTarget:document.body,visible:!1,enableRtl:this.parent.enableRtl,content:this.renderResponsiveContent(e),open:this.dialogOpen.bind(this),created:this.dialogCreated.bind(this),close:this.beforeDialogClose.bind(this),width:"100%",height:"100%",animationSettings:{effect:"None"}});return n.isStringTemplate=!0,t?(n.header=this.renderResponsiveHeader(e,void 0,!0),n.cssClass="e-customfilter"):(n.header=this.renderResponsiveHeader(e),n.cssClass="Vertical"===this.parent.rowRenderingMode&&this.action===a.P1.isFilter?"e-res"+i+" e-row-responsive-filter":"e-res"+i),n},e.prototype.renderResponsiveDialog=function(e){var t=this.parent;if(this.action!==a.P1.isFilter||"FilterBar"!==t.filterSettings.type){var i=this.action===a.P1.isFilter?"filter":"sort",r=this.parent.createElement("div",{id:t.element.id+"responsive"+i,className:"e-res"+i+"div e-responsive-dialog"});this.parent.element.appendChild(r),this.customResponsiveDlg=this.getDialogOptions(e,!1,i),this.customResponsiveDlg.appendTo(r)}},e.prototype.dialogCreated=function(){(0,o.mO)(this.parent)},e.prototype.dialogOpen=function(){if(this.action===a.P1.isSort&&this.parent.allowMultiSorting)for(var e=0;e<this.parent.sortSettings.columns.length;e++){this.sortedCols.push(this.parent.sortSettings.columns[e].field);var t=this.parent.sortSettings.columns[e].field,i=this.parent.sortSettings.columns[e].direction;this.sortPredicate.push({field:t,direction:i})}},e.prototype.beforeDialogClose=function(e){this.isDialogClose=e.element&&!e.element.querySelector(".e-xl-customfilterdiv")&&e.element.classList.contains("e-resfilterdiv"),this.action===a.P1.isFilter?e.element.classList.contains("e-resfilterdiv")?this.parent.filterModule.filterModule.closeResponsiveDialog(this.isCustomDlgRender):e.element.classList.contains("e-customfilterdiv")&&this.closeCustomFilter():this.action===a.P1.isSort&&this.closeCustomDialog(),this.parent.off(s.w7v,this.keyHandler)},e.prototype.sortColumn=function(){if(this.isSortApplied){this.sortPredicate.length&&this.parent.setProperties({sortSettings:{columns:[]}},!0);for(var e=0;e<this.sortPredicate.length;e++)this.parent.sortColumn(this.sortPredicate[e].field,this.sortPredicate[e].direction,this.parent.allowMultiSorting);this.sortPredicate.length||this.parent.clearSorting(),this.closeCustomDialog()}else this.closeCustomDialog()},e.prototype.getHeaderTitle=function(e,t){var i,r=this.parent;return this.action===a.P1.isEdit?i=r.localeObj.getConstant("EditFormTitle")+e.primaryKeyValue[0]:this.action===a.P1.isAdd?i=r.localeObj.getConstant("AddFormTitle"):this.action===a.P1.isFilter?i=t?t.headerText||t.field:r.localeObj.getConstant("FilterButton"):this.action===a.P1.isSort&&(i=r.localeObj.getConstant("Sort")),i},e.prototype.getDialogName=function(e){var t;return e===a.P1.isAdd||e===a.P1.isEdit?t="dialogEdit_wrapper_title":e===a.P1.isFilter&&(t="responsive_filter_dialog_wrapper"),t},e.prototype.getButtonText=function(e){var t;return e===a.P1.isAdd||e===a.P1.isEdit?t="Save":e!==a.P1.isFilter&&this.action!==a.P1.isSort||(t="OKButton"),t},e.prototype.renderResponsiveHeader=function(e,t,i){var r=this,n=this.parent;n.on(s.w7v,this.keyHandler,this);var h=n.element.id+this.getDialogName(this.action),c=n.createElement("div",{className:"e-res-custom-element"}),p=n.createElement("div",{className:"e-dlg-custom-header",id:h});p.innerHTML=this.getHeaderTitle(t,e),c.appendChild(p);var d=n.createElement("button");i||(this.saveBtn=new l.$({cssClass:"e-primary e-flat e-res-apply-btn"}),d.innerHTML=n.localeObj.getConstant(this.getButtonText(this.action)),this.saveBtn.appendTo(d),d.onclick=function(e){r.dialogHdrBtnClickHandler()});var u=this.action===a.P1.isSort,g=this.action===a.P1.isFilter;if(g||u){var f=u?"sort":"filter",m=n.createElement("button");if(this.filterClearBtn=new l.$({cssClass:"e-primary e-flat e-res-"+f+"-clear-btn"}),g){var y=n.createElement("span",{className:"e-btn-icon e-icon-filter-clear e-icons"});m.appendChild(y)}else m.innerHTML=n.localeObj.getConstant("Clear");c.appendChild(m),this.filterClearBtn.appendTo(m),m.onclick=function(e){(0,o.oC)(e.target,"e-customfilter")?(r.parent.filterModule.clearFiltering(),r.removeCustomDlgFilterEle()):g?r.filterClear():(r.resetSortButtons(),r.sortedCols=[],r.sortPredicate=[],r.isSortApplied=!0)},c.appendChild(m)}return i||c.appendChild(d),c},e.prototype.filterClear=function(){this.parent.filterModule.filterModule.clearCustomFilter(this.filteredCol),this.parent.filterModule.filterModule.closeResponsiveDialog()},e.prototype.dialogHdrBtnClickHandler=function(){this.action===a.P1.isEdit||this.action===a.P1.isAdd?this.parent.endEdit():this.action===a.P1.isFilter?this.parent.filterModule.filterModule.applyCustomFilter({col:this.filteredCol,isCustomFilter:this.isCustomDlgRender}):this.action===a.P1.isSort&&this.sortColumn()},e.prototype.closeCustomDialog=function(){if(this.isCustomDlgRender){var e=this.customResponsiveDlg.element.querySelector(".e-mainfilterdiv");(0,n.TF)(e)}else this.isRowResponsive=!1,this.isCustomDlgRender=!1,this.destroyCustomFilterDialog()},e.prototype.destroyCustomFilterDialog=function(){if(this.customResponsiveDlg){var e=document.getElementById(this.customResponsiveDlg.element.id);this.customResponsiveDlg&&!this.customResponsiveDlg.isDestroyed&&e&&(this.customResponsiveDlg.destroy(),(0,n.TF)(e)),this.closeCustomFilter(),this.action===a.P1.isSort&&(this.sortPredicate=[],this.sortedCols=[],this.isSortApplied=!1)}},e.prototype.closeCustomFilter=function(){if(!this.isDialogClose&&this.customFilterDlg){var e=document.getElementById(this.customFilterDlg.element.id);this.customFilterDlg&&!this.customFilterDlg.isDestroyed&&e&&(this.customFilterDlg.destroy(),(0,n.TF)(e))}this.isCustomDialog=!1,this.isDialogClose=!1},e.prototype.removeCustomDlgFilterEle=function(e){if(e)e.parentElement.classList.contains("e-filtersetdiv")?(0,n.TF)(e.parentElement):(0,n.TF)(e);else for(var t=this.customColumnDiv.children,i=0;i<t.length;i++)(e=t[i].querySelector(".e-filtersetdiv"))&&((0,n.TF)(e),i--)},e.prototype.keyHandler=function(e){13===e.keyCode&&(this.action===a.P1.isFilter&&e.target.classList.contains("e-searchinput")||this.action===a.P1.isEdit||this.action===a.P1.isAdd)&&this.dialogHdrBtnClickHandler()},e.prototype.editComplate=function(e){"save"!==e.requestType&&"cancel"!==e.requestType||this.parent.off(s.w7v,this.keyHandler)},e.prototype.removeEventListener=function(){this.customColumnDiv&&n.Jm.remove(this.customColumnDiv,"click",this.customFilterColumnClickHandler),(0,o.yc)(this.parent,this.evtHandlers,!0,this),this.parent.removeEventListener(s.wn6,this.onActionCompleteFn)},e}()},5631:(e,t,i)=>{i.d(t,{k:()=>h});var r=i(8452),n=i(669),o=i(969),s=i(7784),l=i(7820),a=i(6425),h=function(){function e(e,t,i){this.isSpan=!1,this.cellType=t,this.serviceLocator=e,this.parent=i,this.element=this.parent.createElement("tr",{attrs:{role:"row"}})}return e.prototype.render=function(e,t,i,r,n){return this.refreshRow(e,t,i,r,n)},e.prototype.refresh=function(e,t,i,r,n){i&&(e.data=(0,o.sK)({},e.changes),this.refreshMergeCells(e));var s=this.parent.element.querySelector("[data-uid="+e.uid+"]"),l=this.refreshRow(e,t,r,n,null,i),a=[].slice.call(l.cells);s.innerHTML="";for(var h=0,c=a;h<c.length;h++){var p=c[h];s.appendChild(p)}},e.prototype.refreshRow=function(e,t,i,a,h,c){var p=(0,r.hX)(h)?this.element.cloneNode():h,d={data:e.data},u={data:e.data},g=this.parent.getColumns().filter((function(e){return"checkbox"===e.type&&e.field}))[0],f=!1;g&&(f=(0,o.iM)(g.field,d.data));var m=this.parent.getSelectedRowIndexes();e.isDataRow&&(e.isSelected=m.indexOf(e.index)>-1||f),e.isDataRow&&this.parent.isCheckBoxSelection&&"Check"===this.parent.checkAllRows&&this.parent.enableVirtualization&&(e.isSelected=!0,-1===m.indexOf(e.index)&&m.push(e.index)),this.buildAttributeFromRow(p,e),(0,r.uK)(p,(0,r.X$)({},i,{})),(0,o.Ws)(p,e.attributes);for(var y=this.serviceLocator.getService("cellRendererFactory"),v=function(t,i){var o=e.cells[t];o.isSelected=e.isSelected,o.isColumnSelected=o.column.isSelected;var a=y.getCellRenderer(e.cells[t].cellType||s.vZ.Data),h={index:(0,r.hX)(e.index)?"":e.index.toString()};e.isExpand&&e.cells[t].cellType===s.vZ.DetailExpand&&(h.class=C.parent.isPrinting?"e-detailrowcollapse":"e-detailrowexpand");var d=a.render(e.cells[t],e.data,h,e.isExpand,c);if(e.cells[t].cellType!==s.vZ.Filter){if(e.cells[t].cellType===s.vZ.Data||e.cells[t].cellType===s.vZ.CommandColumn){C.parent.trigger(n.B55,(0,r.X$)(u,{cell:d,column:o.column,colSpan:1,rowSpan:1,foreignKeyData:e.cells[t].foreignKeyData,requestType:C.parent.requestTypeAction}));var g=!1;if(e.index>0&&C.isSpan){var f=C.parent.groupSettings.columns.length>0&&!C.parent.getRowsObject()[e.index-1].isDataRow?C.parent.getRowsObject()[e.index].cells:C.parent.getRowsObject()[e.index-1].cells,m=f.filter((function(i){return i.column.uid===e.cells[t].column.uid}))[0];g=m.isRowSpanned?m.isRowSpanned:m.rowSpanRange>1}if(u.colSpan>1||e.cells[t].cellSpan>1||u.rowSpan>1||g)C.isSpan=!0,d=new l.J(C.serviceLocator,C.parent).render(u,e,t,d)}e.cells[t].isSpanned||p.appendChild(d)}},C=this,w=0,b=e.cells.length;w<b;w++)v(w);var S={row:p,rowHeight:this.parent.rowHeight};if(e.isDataRow&&(this.parent.trigger(n.nnA,(0,r.X$)(d,S)),this.parent.childGrid||this.parent.isRowDragable()||this.parent.detailTemplate)){var R=p.querySelectorAll(".e-rowcell:not(.e-hide)")[0];R&&R.classList.add("e-detailrowvisible")}if(this.parent.enableVirtualization&&(d.rowHeight=this.parent.rowHeight),d.rowHeight?p.style.height=d.rowHeight+"px":this.parent.rowHeight&&(p.querySelector(".e-headercell")||p.querySelector(".e-groupcaption"))&&(p.style.height=this.parent.rowHeight+"px"),e.cssClass&&p.classList.add(e.cssClass),e.lazyLoadCssClass&&p.classList.add(e.lazyLoadCssClass),!(this.parent.enableColumnVirtualization&&0!==this.parent.frozenColumns)&&this.parent.aggregates.length&&this.parent.element.scrollHeight>this.parent.height)for(w=0;w<this.parent.aggregates.length;w++){if(this.parent.aggregates[w].properties.columns[0].footerTemplate){var x=[].slice.call(p.getElementsByClassName("e-summarycell"));if(x.length){var F=x[x.length-1];(0,r.iQ)([F],["e-lastsummarycell"]);var M=x[0];(0,r.iQ)([M],["e-firstsummarycell"])}}}return p},e.prototype.refreshMergeCells=function(e){for(var t=0,i=e.cells;t<i.length;t++){i[t].isSpanned=!1}return e},e.prototype.buildAttributeFromRow=function(e,t){var i={},n=a.E3,s="data-uid",l="aria-selected",h=[];t.isDataRow&&h.push(a.nM),t.isAltRow&&h.push("e-altrow"),(0,r.hX)(t.index)||(i[n]=t.index),t.rowSpan&&(i.rowSpan=t.rowSpan),t.uid&&(i[s]=t.uid),t.isSelected&&(i[l]=!0),!1===t.visible&&h.push("e-hide"),i.class=h,(0,o.Ws)(e,i)},e}()},8713:(e,t,i)=>{i.d(t,{F:()=>r});var r=function(){function e(){}return e.prototype.setOptions=function(e,t){for(var i=Object.keys(t),r=0;r<i.length;r++)n(e,o[i[r]],t[i[r]])},e.prototype.setExpand=function(e,t){n(e,o.expand,t)},e.prototype.setSort=function(e,t){n(e,o.sort,t,"boolean"===typeof t)},e.prototype.setBusy=function(e,t){n(e,o.busy,t),n(e,o.invalid,null,!0)},e.prototype.setGrabbed=function(e,t,i){n(e,o.grabbed,t,i)},e.prototype.setDropTarget=function(e,t){n(e,o.dropeffect,"copy",!t)},e}();function n(e,t,i,r){r&&e?e.removeAttribute(t):e&&e.setAttribute(t,i)}var o={expand:"aria-expanded",role:"role",selected:"aria-selected",multiselectable:"aria-multiselectable",sort:"aria-sort",busy:"aria-busy",invalid:"aria-invalid",grabbed:"aria-grabbed",dropeffect:"aria-dropeffect",haspopup:"aria-haspopup",level:"aria-level",colcount:"aria-colcount",rowcount:"aria-rowcount"}},3548:(e,t,i)=>{i.d(t,{Gd:()=>y,KL:()=>p});var r=i(8452),n=i(7784),o=i(669),s=i(7514),l=i(484),a=i(969),h=i(6425),c=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function r(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),p=function(){function e(e){this.currentInfo={},this.oneTime=!0,this.swap={},this.isInfiniteScroll=!1,this.forget=!1,this.skipFocus=!0,this.focusByClick=!1,this.prevIndexes={},this.refMatrix=this.refreshMatrix(!0),this.actions=["downArrow","upArrow"],this.isVirtualScroll=!1,this.parent=e,this.rowModelGen=new l.Z(this.parent),this.addEventListener()}return e.prototype.focusCheck=function(e){var t=e.target;this.focusByClick=!0,this.skipFocus=t.classList.contains("e-grid")},e.prototype.onFocus=function(e){if(!(this.parent.isDestroyed||r.Pw.isDevice||this.parent.enableVirtualization)){this.setActive(!this.parent.enableHeaderFocus&&0===this.parent.frozenRows,this.parent.isFrozenGrid()),this.parent.enableHeaderFocus||this.parent.getCurrentViewRecords().length||"Batch"===this.parent.editSettings.mode&&("Batch"!==this.parent.editSettings.mode||this.parent.editModule.getBatchChanges()[h.V0].length)||this.getContent().matrix.generate(this.rowModelGen.generateRows({rows:[new s.f({isDataRow:!0})]}),this.getContent().selector,!1);var t=this.getContent().matrix.get(0,-1,[0,1],null,this.getContent().validator());this.getContent().matrix.select(t[0],t[1]),this.skipFocus&&(this.focus(e),this.skipFocus=!1)}},e.prototype.passiveFocus=function(e){this.parent.isDestroyed||e.target&&e.target.classList.contains("e-detailcell")&&(this.currentInfo.skipAction=!1,(0,r.iQ)([this.currentInfo.element],["e-focused","e-focus"]))},e.prototype.onBlur=function(e){(!this.parent.isEdit&&(!e||e.relatedTarget&&!(0,r.kp)(e.relatedTarget,".e-grid"))||(0,r.hX)(e.relatedTarget)&&0===parseInt(e.target.getAttribute("aria-colindex"),10)&&0===parseInt(e.target.getAttribute("index"),10))&&(this.removeFocus(),this.skipFocus=!0,this.currentInfo.skipAction=!1,this.parent.element.tabIndex=0)},e.prototype.onClick=function(e,t){if(!(0,a.oC)(e.target,"e-filterbarcell")||!(0,a.oC)(e.target,"e-multiselect")&&!e.target.classList.contains("e-input-group-icon")){var i=!(0,r.hX)((0,r.kp)(e.target,"."+h.iV)),n=!(0,r.hX)((0,r.kp)(e.target,"."+h.iM));i=i&&n?!i:i;var s=!(0,r.hX)((0,r.kp)(e.target,"."+h.oL))||!(0,r.hX)((0,r.kp)(e.target,"."+h.OT)),l=!1;if(this.parent.getFrozenMode()===h.U0&&(l=!(0,r.hX)((0,r.kp)(e.target,".e-frozen-right-content"))||!(0,r.hX)((0,r.kp)(e.target,".e-frozen-right-header")),s=s&&!l),!(!i&&(0,r.hX)((0,r.kp)(e.target,"."+h.iM))||e.target.classList.contains(h.Qs))&&(0,r.hX)((0,r.kp)(e.target,".e-unboundcell")))if(this.setActive(i,s,l),i||!(0,r.hX)((0,r.kp)(e.target,"."+h.iM))){var c={cancel:!1,byKey:!1,byClick:!(0,r.hX)(e.target),clickArgs:e};if(this.parent.notify(o.BzX,c),!c.cancel&&!(0,r.kp)(e.target,".e-inline-edit")&&(this.setActive(i,s,l),this.getContent())){if(!1===this.getContent().onClick(e,t))return;this.focus()}}else this.clearOutline()}},e.prototype.onKeyPress=function(e){if(!this.skipOn(e)){this.activeKey=e.action;var t={cancel:!1,byKey:!0,byClick:!1,keyArgs:e};if(this.parent.notify(o.BzX,t),!t.cancel){var i=this.getContent().matrix.current;this.currentInfo.outline=!0;var r=this.getContent().jump(e.action,i);if(this.swap=r,r.swap&&(this.setActive(!r.toHeader,r.toFrozen,r.toFrozenRight),this.getContent().matrix.current=this.getContent().getNextCurrent(i,r,this.active,e.action),this.prevIndexes={}),this.setActiveByKey(e.action,this.getContent()),!1===(!this.content.lastIdxCell&&this.getContent().onKeyPress(e)))return this.clearIndicator(),void("shiftTab"===e.action&&i.toString()===[0,0].toString()&&(this.parent.element.tabIndex=-1));e.preventDefault(),this.focus(e)}}},e.prototype.skipOn=function(e){var t=e.target;if(!t)return!1;if(this.currentInfo.skipAction)return this.clearIndicator(),!0;if(["pageUp","pageDown","altDownArrow"].indexOf(e.action)>-1)return this.clearIndicator(),!0;var i=(0,r.kp)(t,"th")&&!(0,r.kp)(t,"th").tabIndex;!e.target.classList.contains("e-filterbaroperator")||13!==e.keyCode&&27!==e.keyCode||(0,r.kp)(e.target,".e-filterbarcell").querySelector("input").focus();i&&null!==(0,r.kp)(document.activeElement,".e-filterbarcell")&&this.removeFocus();var n=null!==(0,r.kp)(document.activeElement,".e-filterbarcell");if(this.parent.enableHeaderFocus&&n){var o=this.active.matrix,s=o.current;n=o.matrix[s[0]].lastIndexOf(1)!==s[1]}return"delete"===e.action||"Batch"!==this.parent.editSettings.mode&&(this.parent.isEdit||["insert","f2"].indexOf(e.action)>-1)||n||null!==(0,r.kp)(document.activeElement,"#"+this.parent.element.id+"_searchbar")&&["enter","leftArrow","rightArrow","shiftLeft","shiftRight","ctrlPlusA"].indexOf(e.action)>-1||null===(0,r.kp)(t,"."+h.iV)&&null===(0,r.kp)(t,"."+h.iM)||"space"===e.action&&!t.classList.contains(h.yM)&&null===(0,r.kp)(t,"."+h.yM)&&null===(0,r.kp)(t,".e-headerchkcelldiv")||null!==(0,r.kp)(t,".e-filter-popup")},e.prototype.focusVirtualElement=function(e){var t=this;if(this.parent.enableVirtualization||this.parent.enableInfiniteScrolling){var i={virtualData:{},isAdd:!1,isCancel:!1};this.parent.notify(o.IoC,i);var r=this.actions.some((function(e){return e===t.activeKey})),n=!!this.parent.contentModule&&this.parent.contentModule.selectedRowIndex>-1;i.isAdd||Object.keys(i.virtualData).length||r||i.isCancel||n?(this.parent.notify(o.jnS,{isCancel:!1}),i.isCancel=!1,this.parent.contentModule.selectedRowIndex=-1,r&&(this.activeKey=this.empty,this.parent.notify("virtaul-key-handler",e)),this.currentInfo.elementToFocus.focus({preventScroll:!0})):this.isVirtualScroll||this.isInfiniteScroll?this.currentInfo.elementToFocus.focus({preventScroll:!0}):this.currentInfo.elementToFocus.focus()}this.isVirtualScroll=this.isInfiniteScroll=!1},e.prototype.getFocusedElement=function(){return this.currentInfo.elementToFocus},e.prototype.getContent=function(){return this.active||this.content},e.prototype.setActive=function(e,t,i){this.active=e?t?this.fContent:i?this.frContent:this.content:t?this.fHeader:i?this.frHeader:this.header},e.prototype.setFocusedElement=function(e,t){var i=this;this.currentInfo.elementToFocus=e,setTimeout((function(){(0,r.hX)(i.currentInfo.elementToFocus)||(i.parent.enableVirtualization||i.parent.enableInfiniteScrolling?i.focusVirtualElement(t):i.currentInfo.elementToFocus.focus())}),0)},e.prototype.focus=function(e){this.parent.notify(o.ILy,e),this.removeFocus(),this.addFocus(this.getContent().getFocusInfo(),e)},e.prototype.removeFocus=function(e){this.currentInfo.element&&((0,r.vy)([this.currentInfo.element,this.currentInfo.elementToFocus],["e-focused","e-focus"]),this.currentInfo.element.tabIndex=-1)},e.prototype.addOutline=function(){var e=this.getContent().getFocusInfo();e.element&&((0,r.iQ)([e.element],["e-focused"]),(0,r.iQ)([e.elementToFocus],["e-focus"]))},e.prototype.focusHeader=function(){this.setActive(!1,this.parent.isFrozenGrid()),this.resetFocus()},e.prototype.focusContent=function(){this.setActive(!0,this.parent.isFrozenGrid()),this.resetFocus()},e.prototype.resetFocus=function(){var e=this.getContent().matrix.get(0,-1,[0,1],null,this.getContent().validator());this.getContent().matrix.select(e[0],e[1]),this.focus()},e.prototype.addFocus=function(e,t){if(this.currentInfo=e,this.currentInfo.outline=e.outline&&!(0,r.hX)(t),this.isInfiniteScroll&&(this.currentInfo.outline=!0),e.element){var i=e.elementToFocus.classList.contains("e-focus");if(!i){this.currentInfo.outline&&(0,r.iQ)([e.element],["e-focused"]),(0,r.iQ)([e.elementToFocus],["e-focus"]),e.element.tabIndex=0,i||this.setFocusedElement(e.elementToFocus,t),this.parent.notify(o.uJh,{element:e.elementToFocus,parent:e.element,indexes:this.getContent().matrix.current,byKey:!(0,r.hX)(t),byClick:(0,r.hX)(t),keyArgs:t,isJump:this.swap.swap,container:this.getContent().getInfo(t),outline:!(0,r.hX)(t),swapInfo:this.swap});var n=this.getContent().matrix.current,s=n[0],l=n[1];this.prevIndexes={rowIndex:s,cellIndex:l},this.focusedColumnUid=this.parent.getColumnByIndex(l).uid,this.focusByClick=!1}}},e.prototype.refreshMatrix=function(e){var t=this;return function(i){e&&i.args&&i.args.isFrozen&&!t.fContent?t.fContent=new f(t.parent):e&&!t.frContent&&i.args&&i.args.renderFrozenRightContent?t.frContent=new v(t.parent):e&&!t.content&&(t.content=new u(t.parent)),!e&&i.args&&i.args.isFrozen&&!t.fHeader?t.fHeader=new m(t.parent):!e&&i.args&&i.args.renderFrozenRightContent&&!t.frHeader?t.frHeader=new C(t.parent):e||t.header||(t.header=new g(t.parent));var n=e?i.args&&i.args.isFrozen?t.fContent:i.args&&i.args.renderFrozenRightContent?t.frContent:t.content:i.args&&i.args.isFrozen?t.fHeader:i.args&&i.args.renderFrozenRightContent?t.frHeader:t.header,o=e?i.rows.slice(t.parent.frozenRows):i.rows,s=e?i.rows.slice(0,t.parent.frozenRows):i.rows;t.parent.isCollapseStateEnabled()&&e&&(o=o.filter((function(e){return!1!==e.visible})));var l,a=!(0,r.hX)(t.parent.rowTemplate),c=n.matrix.generate(s,n.selector,a);if("batchAdd"===i.name&&t.parent.isFrozenGrid()){var p=t.parent.getMovableRowsObject().map((function(e){return e.clone()})),d=o.map((function(e){return e.clone()}));if(t.fContent.matrix.generate(d,t.fContent.selector,a),t.content.matrix.generate(p,t.content.selector,a),t.parent.getFrozenMode()===h.U0){var y=t.parent.getFrozenRightRowsObject().map((function(e){return e.clone()}));t.frContent.matrix.generate(y,t.frContent.selector,a)}}else n.matrix.generate(o,n.selector,a);if(n.generateRows(s,{matrix:c,handlerInstance:i.args&&i.args.isFrozen?t.fHeader:i.args&&i.args.renderFrozenRightContent?t.frHeader:t.header}),!r.Pw.isDevice&&i&&i.args&&(t.focusByClick||"paging"!==i.args.requestType||(t.skipFocus=!1,t.parent.element.focus()),"grouping"===i.args.requestType&&(t.skipFocus=!0)),i&&i.args&&"virtualscroll"===i.args.requestType)if(t.currentInfo.uid){if(i.rows.some((function(e,i){return l=i,e.uid===t.currentInfo.uid}))&&(t.content.matrix.current[0]=l,t.content.matrix.current[1]=t.parent.getColumnIndexByUid(t.focusedColumnUid)||0,S=t.getContent().getFocusInfo().elementToFocus)){var w=S.getBoundingClientRect(),b=t.parent.element.getBoundingClientRect();w.top>=0&&w.left>=0&&w.right<=Math.min(b.right,window.innerWidth||document.documentElement.clientWidth)&&w.bottom<=Math.min(b.bottom,window.innerHeight||document.documentElement.clientHeight)&&(t.isVirtualScroll=!0,t.focus())}}else if(i.args.focusElement&&i.args.focusElement.classList.contains("e-filtertext")){var S;(S=t.parent.element.querySelector("#"+i.args.focusElement.id))&&S.focus()}}},e.prototype.addEventListener=function(){var e=this;this.parent.isDestroyed||(r.Jm.add(this.parent.element,"mousedown",this.focusCheck,this),r.Jm.add(this.parent.element,"focus",this.onFocus,this),this.parent.element.addEventListener("focus",this.passiveHandler=function(t){return e.passiveFocus(t)},!0),r.Jm.add(this.parent.element,"focusout",this.onBlur,this),this.evtHandlers=[{event:o._ld,handler:this.onKeyPress},{event:o.jMr,handler:this.onClick},{event:o.PRb,handler:this.refMatrix},{event:o.RmN,handler:this.refMatrix},{event:o.iBX,handler:this.refMatrix},{event:o.CRr,handler:this.refreshMatrix()},{event:o.T4U,handler:this.restoreFocus},{event:o.Dyl,handler:this.restoreFocus},{event:"start-edit",handler:this.clearIndicator},{event:"start-add",handler:this.clearIndicator},{event:"sorting-complete",handler:this.restoreFocus},{event:"filtering-complete",handler:this.filterfocus},{event:"grouping-complete",handler:this.restoreFocusWithAction},{event:"ungrouping-complete",handler:this.restoreFocusWithAction},{event:o.QO1,handler:this.refMatrix},{event:o.X5v,handler:this.refMatrix},{event:o.yip,handler:this.refMatrix},{event:o.sJO,handler:this.refMatrix},{event:o.DjW,handler:this.refMatrix},{event:o.uJh,handler:this.internalCellFocus}],(0,a.yc)(this.parent,this.evtHandlers,!0,this))},e.prototype.filterfocus=function(){"FilterBar"!==this.parent.filterSettings.type&&this.restoreFocus()},e.prototype.removeEventListener=function(){this.parent.isDestroyed||(r.Jm.remove(this.parent.element,"mousedown",this.focusCheck),r.Jm.remove(this.parent.element,"focus",this.onFocus),r.Jm.remove(this.parent.element,"focusout",this.onBlur),this.parent.element.removeEventListener("focus",this.passiveHandler,!0),(0,a.yc)(this.parent,this.evtHandlers,!1))},e.prototype.destroy=function(){this.removeEventListener()},e.prototype.restoreFocus=function(){this.addFocus(this.getContent().getFocusInfo())},e.prototype.restoreFocusWithAction=function(e){if(!this.parent.enableInfiniteScrolling){var t=this.getContent().matrix,i=t.current;switch(e.requestType){case"grouping":case"ungrouping":i[1]=!i.length||this.parent.groupSettings.showGroupedColumn||(0,r.hX)(t.matrix[i[0]])?"grouping"===e.requestType?i[1]+1:i[1]-1:t.matrix[i[0]].indexOf(1)}this.getContent().matrix.current=i,this.addFocus(this.getContent().getFocusInfo())}},e.prototype.clearOutline=function(){this.getContent().matrix.current=this.getContent().matrix.get(0,-1,[0,1],"downArrow",this.getContent().validator()),this.clearIndicator()},e.prototype.clearIndicator=function(){this.currentInfo.element&&this.currentInfo.elementToFocus&&(0,r.vy)([this.currentInfo.element,this.currentInfo.elementToFocus],["e-focus","e-focused"])},e.prototype.getPrevIndexes=function(){var e=this.forget;return this.forget=!1,e||!Object.keys(this.prevIndexes).length?{rowIndex:null,cellIndex:null}:this.prevIndexes},e.prototype.forgetPrevious=function(){this.forget=!0},e.prototype.setActiveByKey=function(e,t){var i=this;if(this.parent.isFrozenGrid()||0!==this.parent.frozenRows){var r,n={home:function(){return{toHeader:!r.isContent,toFrozen:!0}},end:function(){return{toHeader:!r.isContent,toFrozen:!1}},ctrlHome:function(){return{toHeader:!0,toFrozen:i.parent.isFrozenGrid()}},ctrlEnd:function(){return{toHeader:!1,toFrozen:!1}}};if(e in n){r=t.getInfo();var o=n[e]();this.setActive(!o.toHeader,o.toFrozen),this.getContent().matrix.current=t.matrix.current}}},e.prototype.internalCellFocus=function(e){if(e.byKey&&e.container.isContent&&"enter"===e.keyArgs.action&&(e.parent.classList.contains("e-detailcell")||e.parent.classList.contains("e-unboundcell")||e.parent.classList.contains("e-templatecell"))){this.clearIndicator();var t=this.getContent().getFocusable(this.getFocusedElement());this.setFocusedElement(t),this.currentInfo.skipAction=!0}},e}(),d=function(){function e(){this.matrix=[],this.current=[]}return e.prototype.set=function(e,t,i){e=Math.max(0,Math.min(e,this.rows)),t=Math.max(0,Math.min(t,this.columns)),this.matrix[e]=this.matrix[e]||[],this.matrix[e][t]=i?1:0},e.prototype.get=function(e,t,i,n,o){var s=t;if(e+i[0]<0)return[e,t];e=Math.max(0,Math.min(e+i[0],this.rows));var l=!0;if((0,r.hX)(this.matrix[e]))return null;if(t=Math.max(0,Math.min(t+i[1],this.matrix[e].length-1)),s+i[1]>this.matrix[e].length-1&&o(e,t,n))return[e,s];var a=this.first(this.matrix[e],t,i,!0,n);t=null===a?s:a;var h=(0,r._W)(e+"."+t,this.matrix);if(e!==this.rows||"downArrow"!==n&&"enter"!==n||(i[0]=-1),null===a){for(var c=0;c<this.rows;c++)if(this.matrix[c].some((function(e){return 1===e}))){l=!1;break}if(l)return[e=this.current[0],t]}return this.inValid(h)||!o(e,t,n)?this.get(e,s,i,n,o):[e,t]},e.prototype.first=function(e,t,i,r,n){return(t<0||t===e.length)&&this.inValid(e[t])&&"upArrow"!==n&&"downArrow"!==n||!e.some((function(e){return 1===e}))?null:this.inValid(e[t])?this.first(e,-1!==["upArrow","downArrow","shiftUp","shiftDown"].indexOf(n)?r?0:++t:t+i[1],i,!1,n):t},e.prototype.select=function(e,t){e=Math.max(0,Math.min(e,this.rows)),t=Math.max(0,Math.min(t,this.matrix[e].length-1)),this.current=[e,t]},e.prototype.generate=function(e,t,i){this.rows=e.length-1,this.matrix=[];for(var r=0;r<e.length;r++){var n=e[r].cells.filter((function(e){return!0!==e.isSpanned}));this.columns=Math.max(n.length-1,0|this.columns);for(var o=0;o<n.length;o++)this.set(r,o,!1!==e[r].visible&&t(e[r],n[o],i))}return this.matrix},e.prototype.inValid=function(e){return 0===e||void 0===e},e}(),u=function(){function e(e){var t=this;this.matrix=new d,this.lastIdxCell=!1,this.parent=e,this.keyActions={rightArrow:[0,1],tab:[0,1],leftArrow:[0,-1],shiftTab:[0,-1],upArrow:[-1,0],downArrow:[1,0],shiftUp:[-1,0],shiftDown:[1,0],shiftRight:[0,1],shiftLeft:[0,-1],enter:[1,0],shiftEnter:[-1,0]},this.indexesByKey=function(e){return{home:[t.matrix.current[0],-1,0,1],end:[t.matrix.current[0],t.matrix.columns+1,0,-1],ctrlHome:[0,-1,0,1],ctrlEnd:[t.matrix.rows,t.matrix.columns+1,0,-1]}[e]||null}}return e.prototype.getTable=function(){return this.parent.isFrozenGrid()?this.parent.getContent().querySelector(".e-movablecontent .e-table"):this.parent.getContentTable()},e.prototype.onKeyPress=function(e){var t=this.keyActions[e.action],i=this.getCurrentFromAction(e.action,t,e.action in this.keyActions,e);if(i){if((["tab","shiftTab"].indexOf(e.action)>-1&&this.matrix.current||[]).toString()===i.toString()){if(i.toString()===[this.matrix.rows,this.matrix.columns].toString()||i.toString()===[0,0].toString()||this.matrix.current[0]===this.matrix.rows&&this.matrix.current.toString()===i.toString())return!1;i=this.editNextRow(i[0],i[1],e.action)}this.matrix.select(i[0],i[1])}},e.prototype.editNextRow=function(e,t,i){var r=this.parent,n=r.editSettings.allowNextRowEdit&&(r.isEdit||r.isLastCellPrimaryKey),o=r.getColumnIndexByField(r.getVisibleColumns()[0].field),s=this.getTable().rows[e].cells[t];"tab"===i&&n&&(e++,t=o+(this.getTable().rows[e].getElementsByClassName("e-indentcell").length+this.getTable().rows[e].getElementsByClassName("e-detailrowcollapse").length));return"shiftTab"===i&&n&&(e--,t=r.getColumnIndexByField(r.getVisibleColumns()[r.getVisibleColumns().length-1].field)),s.classList.contains(h.Jt)||s.classList.contains("e-headercell")||s.classList.contains("e-groupcaption")?[e,t]:this.editNextRow(e,t,i)},e.prototype.getCurrentFromAction=function(e,t,i,r){if(void 0===t&&(t=[0,0]),!i&&!this.indexesByKey(e)||0===this.matrix.current.length)return null;if(!this.shouldFocusChange(r))return this.matrix.current;var n=this.indexesByKey(e)||this.matrix.current.concat(t),o=n[0],s=n[1],l=n[2],a=n[3];return this.matrix.get(o,s,[l,a],e,this.validator())},e.prototype.onClick=function(e,t){var i=e.target;if(this.target=i,i=(i=i.classList.contains(h.Jt)?i:(0,r.kp)(i,"td"))||((0,r.kp)(e.target,"td.e-detailrowcollapse")||(0,r.kp)(e.target,"td.e-detailrowexpand")),!(i=(i=(0,r.kp)(e.target,"td.e-detailcell")&&(0,r.hX)((0,r.kp)((0,r.kp)(e.target,".e-grid"),"td.e-detailcell"))?null:i)&&(0,r.kp)(i,"table").classList.contains(h.tp)?i:null))return!1;var n=[i.parentElement.rowIndex,i.cellIndex],o=n[0],s=n[1],l=this.matrix.current,c=l[0],p=l[1],d=(0,r._W)(o+"."+s,this.matrix.matrix);if(this.matrix.inValid(d)||!t&&c===o&&p===s||!(0,a.oC)(e.target,h.Jt)&&!(0,a.oC)(e.target,"e-groupcaption"))return!1;this.matrix.select(o,s)},e.prototype.getFocusInfo=function(){var e={},t=this.matrix.current,i=t[0],n=void 0===i?0:i,o=t[1],s=void 0===o?0:o;return this.matrix.current=[n,s],e.element=(0,r.hX)(this.getTable().rows[n])?null:this.getTable().rows[n].cells[s],e.element?(e.elementToFocus=e.element.classList.contains("e-unboundcell")||e.element.classList.contains("e-detailcell")?e.element:this.getFocusable(e.element),e.outline=!0,e.uid=e.element.parentElement.getAttribute("data-uid"),e):e},e.prototype.getFocusable=function(e){var t='button, [href], input:not([type="hidden"]), select, textarea, [tabindex]:not([tabindex="-1"])',i=!(0,r.hX)((0,r.kp)(e,".e-templatecell"));this.parent.isEdit&&(t='input:not([type="hidden"]), select:not([aria-hidden="true"]), textarea');var n=[].slice.call(e.querySelectorAll(t));return n.length?i&&n.length>1?this.target:n[0]:e},e.prototype.selector=function(e,t,i){var o=[n.vZ.Expand,n.vZ.GroupCaption,n.vZ.CaptionSummary,n.vZ.GroupSummary];return(e.isDataRow&&t.visible&&(t.isDataCell||t.isTemplate)||e.isDataRow&&t.cellType===n.vZ.DetailExpand&&(0,r.hX)(t.visible)||!e.isDataRow&&o.indexOf(t.cellType)>-1||t.column&&t.visible&&"checkbox"===t.column.type||t.cellType===n.vZ.CommandColumn||e.isDataRow&&i)&&!("delete"===e.edit&&e.isDirty)},e.prototype.nextRowFocusValidate=function(e){for(var t=e,i=e,r=this.matrix.rows;i<=r;i++){if(-1!==this.matrix.matrix[e].indexOf(1))return e;e+=1}return this.lastIdxCell=!0,t},e.prototype.previousRowFocusValidate=function(e){for(var t=e,i=e;i>=0;i--){if(-1!==this.matrix.matrix[e].indexOf(1))return e;if((e-=1)<0)return this.lastIdxCell=!0,t}return t},e.prototype.jump=function(e,t){var i=this.parent.getFrozenLeftCount()&&("leftArrow"===e||"shiftTab"===e)&&0===t[1],r=("rightArrow"===e||"tab"===e)&&t[1]===this.matrix.columns,n=this.parent.getFrozenMode()===h.U0&&r;"Right"===this.parent.getFrozenMode()&&(i=r),this.lastIdxCell=!1;var o=0!==this.parent.frozenRows&&"shiftEnter"===e;"tab"!==e||this.parent.isEdit||t[1]!==this.matrix.matrix[t[0]].lastIndexOf(1)||this.matrix.matrix.length-1===t[0]||(this.matrix.current[0]=this.nextRowFocusValidate(this.matrix.current[0]+1),this.matrix.current[1]=-1,i=this.parent.isFrozenGrid()),"shiftTab"!==e||this.parent.isEdit||0===t[0]||this.matrix.matrix[t[0]].indexOf(1)!==t[1]||(this.matrix.current[0]=this.previousRowFocusValidate(this.matrix.current[0]-1),this.matrix.current[1]=this.matrix.matrix[t[0]].length);var s=!1,l=document.activeElement.parentElement;(this.parent.enableVirtualization||this.parent.infiniteScrollSettings.enableCache)&&l.classList.contains(h.nM)&&(s=parseInt(l.getAttribute(h.E3),10)>0);return{swap:!s&&(("upArrow"===e||o)&&0===t[0]||i||n),toHeader:("upArrow"===e||o)&&0===t[0],toFrozen:i,toFrozenRight:n}},e.prototype.getNextCurrent=function(e,t,i,r){void 0===e&&(e=[]);var n=[];return"Right"===this.parent.getFrozenMode()||this.parent.getFrozenMode()===h.U0?("leftArrow"!==r&&"shiftTab"!==r||(n[0]=e[0],n[1]=i.matrix.columns+1),this.parent.getFrozenMode()!==h.U0||"rightArrow"!==r&&"tab"!==r||(n[0]=e[0],n[1]=-1)):"rightArrow"!==r&&"tab"!==r||(n[0]=e[0],n[1]=-1),"downArrow"!==r&&"enter"!==r||(n[0]=-1,n[1]=e[1]),n},e.prototype.generateRows=function(e,t){var i,r=t.matrix,n=t.handlerInstance,o=n.matrix.matrix.length,s=this.parent.allowFiltering&&"FilterBar"===this.parent.filterSettings.type?o+1:o;n.matrix.matrix=n.matrix.matrix.slice(0,s),n.matrix.rows=s,(i=n.matrix.matrix).push.apply(i,r),n.matrix.rows+=r.length},e.prototype.getInfo=function(e){var t=this.getFocusInfo(),i=this.matrix.current,r=i[0],n=i[1],o=t.element.classList.contains(h.Jt),s=o||e&&"enter"!==e.action&&(t.element.classList.contains("e-detailrowcollapse")||t.element.classList.contains("e-detailrowexpand")),l=[Math.min(parseInt(t.element.parentElement.getAttribute(h.E3),10),r),Math.min(parseInt(t.element.getAttribute(h.ql),10),n)];return{isContent:!0,isDataCell:o,indexes:[l[0],l[1]],isSelectable:s}},e.prototype.validator=function(){var e=this.getTable();return function(t,i,n){if(!(0,r.hX)(e.rows[t])){var o=void 0;i=e.querySelector(".e-emptyrow")?0:i;var s=0!==(o=e.rows[t].cells[0].classList.contains("e-editcell")?e.rows[t].cells[0].querySelectorAll("td")[i]:e.rows[t].cells[i]).getBoundingClientRect().width;if("enter"===n||"shiftEnter"===n)return s&&o.classList.contains(h.Jt);if(("shiftUp"===n||"shiftDown"===n)&&o.classList.contains(h.Jt))return s;if("shiftUp"!==n&&"shiftDown"!==n)return s}return!1}},e.prototype.shouldFocusChange=function(e){var t=this.matrix.current,i=t[0],n=void 0===i?-1:i,o=t[1],s=void 0===o?-1:o;if(n<0||s<0)return!0;var l=(0,r._W)(n+".cells."+s,this.getTable().rows);return!l||("enter"!==e.action&&"shiftEnter"!==e.action||l.classList.contains(h.Jt)&&!l.classList.contains("e-unboundcell")&&(!l.classList.contains("e-templatecell")||l.classList.contains("e-editedbatchcell"))&&!l.classList.contains("e-detailcell"))},e.prototype.getGridSeletion=function(){return this.parent.allowSelection&&this.parent.selectionSettings.allowColumnSelection},e}(),g=function(e){function t(t){return e.call(this,t)||this}return c(t,e),t.prototype.getTable=function(){return this.parent.isFrozenGrid()?this.parent.getHeaderContent().querySelector(".e-movableheader .e-table"):this.parent.getHeaderTable()},t.prototype.onClick=function(e){var t=e.target;if(this.target=t,(t=t.classList.contains("e-headercell")?t:(0,r.kp)(t,"th"))||0===this.parent.frozenRows||(t=e.target.classList.contains(h.Jt)?e.target:(0,r.kp)(e.target,"td")),e.target.classList.contains("e-columnheader")||e.target.querySelector(".e-stackedheadercell"))return!1;if(t){var i=[t.parentElement.rowIndex,t.cellIndex],n=i[0],o=i[1],s=(0,r._W)(n+"."+o,this.matrix.matrix);if(this.matrix.inValid(s))return!1;this.matrix.select(t.parentElement.rowIndex,t.cellIndex)}},t.prototype.getFocusInfo=function(){var e={},t=this.matrix.current,i=t[0],n=void 0===i?0:i,o=t[1],s=void 0===o?0:o;return e.element=this.getTable().rows[n].cells[s],(0,r.hX)(e.element)||(e.elementToFocus=this.getFocusable(e.element),e.outline=!e.element.classList.contains("e-filterbarcell")),e},t.prototype.selector=function(e,t){return t.visible&&(void 0!==t.column.field||t.isTemplate||!(0,r.hX)(t.column.template))||"checkbox"===t.column.type||t.cellType===n.vZ.StackedHeader},t.prototype.jump=function(e,t){var i=this.parent.getFrozenLeftCount()&&("leftArrow"===e||"shiftLeft"===e&&this.getGridSeletion()||"shiftTab"===e)&&0===t[1],n=("rightArrow"===e||"shiftRight"===e&&this.getGridSeletion()||"tab"===e)&&t[1]===this.matrix.columns,o=this.parent.getFrozenMode()===h.U0&&n;"Right"===this.parent.getFrozenMode()&&(i=n);var s,l,a=0!==this.parent.frozenRows&&"enter"===e,c=i||o,p=this.parent.focusModule.fHeader&&this.parent.focusModule.fHeader.matrix.matrix,d=p&&!(0,r.hX)(p[t[0]]);return this.parent.enableHeaderFocus&&"tab"===e&&(l=this.matrix.matrix.length-1===t[0],(s=t[1]===this.matrix.matrix[t[0]].lastIndexOf(1))&&(this.matrix.current[0]=l?0:this.matrix.current[0]+1,this.matrix.current[1]=-1),this.parent.isFrozenGrid()&&l&&s&&(i=!0,c=!1)),{swap:("downArrow"===e||a)&&t[0]===this.matrix.matrix.length-1||d&&(i||o)||"tab"===e&&l&&s,toHeader:c,toFrozen:i,toFrozenRight:o}},t.prototype.getNextCurrent=function(e,t,i,r){void 0===e&&(e=[]);var n=[];return"Right"===this.parent.getFrozenMode()||this.parent.getFrozenMode()===h.U0?(("leftArrow"===r||"shiftLeft"===r&&this.getGridSeletion()||"shiftTab"===r)&&(n[0]=e[0],n[1]=i.matrix.columns+1),this.parent.getFrozenMode()===h.U0&&("rightArrow"===r||"shiftRight"===r&&this.getGridSeletion()||"tab"===r)&&(n[0]=e[0],n[1]=-1)):("rightArrow"===r||"shiftRight"===r&&this.getGridSeletion()||"tab"===r)&&(n[0]=e[0],n[1]=-1),"upArrow"!==r&&"shiftEnter"!==r||(n[0]=this.matrix.matrix.length,n[1]=e[1]),n},t.prototype.generateRows=function(e){var t=this.matrix.matrix.length;if(this.parent.allowFiltering&&"FilterBar"===this.parent.filterSettings.type){this.matrix.rows=++this.matrix.rows;for(var i=e[0].cells,r=0;r<i.length;r++)this.matrix.set(t,r,i[r].visible&&!1!==i[r].column.allowFiltering)}},t.prototype.getInfo=function(t){return(0,r.X$)(e.prototype.getInfo.call(this,t),{isContent:!1,isHeader:!0})},t.prototype.validator=function(){return function(){return!0}},t.prototype.shouldFocusChange=function(e){var t=this.matrix.current,i=t[0],n=t[1];if(i<0||n<0)return!0;var o=(0,r._W)(i+".cells."+n,this.getTable().rows);return!o||("enter"!==e.action&&"altDownArrow"!==e.action||!o.classList.contains("e-headercell"))},t}(u),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return c(t,e),t.prototype.getTable=function(){return this.parent.getContent().querySelector(".e-frozencontent .e-table")},t.prototype.jump=function(e,t){var i=0!==this.parent.frozenRows&&"shiftEnter"===e,r=("upArrow"===e||i)&&0===t[0];return"Right"===this.parent.getFrozenMode()?{swap:r||("shiftTab"===e||"leftArrow"===e)&&0===t[1],toHeader:r,toFrozen:r}:{swap:r||("tab"===e||"rightArrow"===e)&&t[1]===this.matrix.columns,toHeader:r,toFrozen:r}},t.prototype.getNextCurrent=function(e,t,i,r){void 0===e&&(e=[]);var n=[];return"Right"===this.parent.getFrozenMode()?"rightArrow"!==r&&"tab"!==r||(n[0]=e[0],n[1]=-1):("tab"===r&&this.parent.enableHeaderFocus&&(n[0]=e[0],n[1]=-1),"leftArrow"!==r&&"shiftTab"!==r||(n[0]=e[0],n[1]=i.matrix.columns+1)),"downArrow"!==r&&"enter"!==r||(n[0]=-1,n[1]=e[1]),n},t}(u),m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return c(t,e),t.prototype.jump=function(e,t){var i=0!==this.parent.frozenRows&&"enter"===e,n=this.parent.focusModule.header&&this.parent.focusModule.header.matrix.matrix,o=n&&!(0,r.hX)(n[t[0]]);if("Right"===this.parent.getFrozenMode()){var s=("leftArrow"===e||"shiftLeft"===e&&this.getGridSeletion()||"shiftTab"===e)&&0===t[1];return{swap:("downArrow"===e||i)&&t[0]===this.matrix.matrix.length-1||o&&s,toHeader:s,toFrozen:("downArrow"===e||i)&&t[0]===this.matrix.matrix.length-1}}return{swap:("downArrow"===e||i)&&t[0]===this.matrix.matrix.length-1||("rightArrow"===e||"shiftRight"===e&&this.getGridSeletion()||"tab"===e)&&t[1]===this.matrix.columns&&o,toHeader:("rightArrow"===e||"shiftRight"===e&&this.getGridSeletion()||"tab"===e)&&t[1]===this.matrix.columns,toFrozen:("downArrow"===e||i)&&t[0]===this.matrix.matrix.length-1}},t.prototype.getTable=function(){return this.parent.getHeaderContent().querySelector(".e-frozenheader .e-table")},t.prototype.getNextCurrent=function(e,t,i,r){void 0===e&&(e=[]);var n=[];return"Right"===this.parent.getFrozenMode()?("rightArrow"===r||"shiftRight"===r&&this.getGridSeletion()||"tab"===r)&&(n[0]=e[0],n[1]=-1):("leftArrow"===r||"shiftLeft"===r&&this.getGridSeletion()||"shiftTab"===r)&&(n[0]=e[0],n[1]=i.matrix.columns+1),"upArrow"!==r&&"shiftEnter"!==r||(n[0]=this.matrix.matrix.length,n[1]=e[1]),n},t}(g),y=function(){function e(e){this.searchBox=e}return e.prototype.searchFocus=function(e){e.target.parentElement.classList.add("e-input-focus")},e.prototype.searchBlur=function(e){e.target.parentElement.classList.remove("e-input-focus")},e.prototype.wireEvent=function(){this.searchBox&&(r.Jm.add(this.searchBox,"focus",this.searchFocus,this),r.Jm.add(this.searchBox,"blur",this.searchBlur,this))},e.prototype.unWireEvent=function(){this.searchBox&&(r.Jm.remove(this.searchBox,"focus",this.searchFocus),r.Jm.remove(this.searchBox,"blur",this.searchBlur))},e}(),v=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return c(t,e),t.prototype.getTable=function(){return this.parent.getContent().querySelector(".e-frozen-right-content .e-table")},t.prototype.jump=function(e,t){var i=0!==this.parent.frozenRows&&"shiftEnter"===e,r=("upArrow"===e||i)&&0===t[0];return{swap:r||("shiftTab"===e||"leftArrow"===e)&&0===t[1],toHeader:r,toFrozenRight:r}},t.prototype.getNextCurrent=function(e,t,i,r){void 0===e&&(e=[]);var n=[];return"rightArrow"!==r&&"tab"!==r||(n[0]=e[0],n[1]=-1),"downArrow"!==r&&"enter"!==r||(n[0]=-1,n[1]=e[1]),n},t}(u),C=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return c(t,e),t.prototype.jump=function(e,t){var i=this.parent.focusModule.header&&this.parent.focusModule.header.matrix.matrix,n=i&&!(0,r.hX)(i[t[0]]),o=0!==this.parent.frozenRows&&"enter"===e,s=("leftArrow"===e||"shiftLeft"===e&&this.getGridSeletion()||"shiftTab"===e)&&0===t[1];return{swap:("downArrow"===e||o)&&t[0]===this.matrix.matrix.length-1||n&&s,toHeader:s,toFrozenRight:("downArrow"===e||o)&&t[0]===this.matrix.matrix.length-1}},t.prototype.getTable=function(){return this.parent.getHeaderContent().querySelector(".e-frozen-right-header .e-table")},t.prototype.getNextCurrent=function(e,t,i,r){void 0===e&&(e=[]);var n=[];return("rightArrow"===r||"shiftRight"===r&&this.getGridSeletion()||"tab"===r)&&(n[0]=e[0],n[1]=0),"upArrow"!==r&&"shiftEnter"!==r||(n[0]=this.matrix.matrix.length,n[1]=e[1]),n},t}(g)},484:(e,t,i)=>{i.d(t,{Z:()=>h});var r=i(8452),n=i(7514),o=i(7784),s=i(151),l=i(969),a=i(669),h=function(){function e(e){this.parent=e}return e.prototype.generateRows=function(e,t){var i=[],r=this.parent.enableVirtualization&&t?t.startIndex:0;r=this.parent.enableInfiniteScrolling&&t?this.getInfiniteIndex(t):r;for(var n=0,o=Object.keys(e).length;n<o;n++,r++)i[n]=this.generateRow(e[n],r);return i},e.prototype.ensureColumns=function(){var e=[];if(this.parent.detailTemplate||this.parent.childGrid){var t={};this.parent.notify(a.q1T,t),e.push(this.generateCell(t,null,o.vZ.DetailExpand))}return this.parent.isRowDragable()&&e.push(this.generateCell({},null,o.vZ.RowDragIcon)),e},e.prototype.generateRow=function(e,t,i,r,o,s,a){var h={foreignKeyData:{}};h.uid=(0,l.v6)("grid-row"),h.data=e,h.index=t,h.indent=r,h.tIndex=s,h.isDataRow=!0,h.parentGid=o,h.parentUid=a,this.parent.isPrinting&&("All"===this.parent.hierarchyPrintMode?h.isExpand=!0:"Expanded"===this.parent.hierarchyPrintMode&&this.parent.expandedRows&&this.parent.expandedRows[t]&&(h.isExpand=this.parent.expandedRows[t].isExpand)),h.cssClass=i,h.isAltRow=!!this.parent.enableAltRow&&t%2!==0,h.isAltRow=!!this.parent.enableAltRow&&t%2!==0,h.isSelected=this.parent.getSelectedRowIndexes().indexOf(t)>-1,this.refreshForeignKeyRow(h);var c=this.ensureColumns(),p=new n.f(h,this.parent);return p.cells="Right"===this.parent.getFrozenMode()?this.generateCells(h).concat(c):c.concat(this.generateCells(h)),p},e.prototype.refreshForeignKeyRow=function(e){for(var t=this.parent.getForeignKeyColumns(),i=0;i<t.length;i++)(0,r.KY)(t[i].field,(0,l.Fq)(t[i],e.data),e.foreignKeyData)},e.prototype.generateCells=function(e){for(var t=this.parent.getColumns(),i=[],n=0;n<t.length;n++)i.push(this.generateCell(t[n],e.uid,(0,r.hX)(t[n].commands)?void 0:o.vZ.CommandColumn,null,n,e.foreignKeyData));return i},e.prototype.generateCell=function(e,t,i,n,l,a){var h={visible:e.visible,isDataCell:!(0,r.hX)(e.field||e.template),isTemplate:!(0,r.hX)(e.template),rowID:t,column:e,cellType:(0,r.hX)(i)?o.vZ.Data:i,colSpan:n,commands:e.commands,isForeignKey:e.isForeignColumn&&e.isForeignColumn(),foreignKeyData:e.isForeignColumn&&e.isForeignColumn()&&(0,r._W)(e.field,a)};return(h.isDataCell||"checkbox"===h.column.type||h.commands)&&(h.index=l),new s.f(h)},e.prototype.refreshRows=function(e){for(var t=0;t<e.length;t++)this.refreshForeignKeyRow(e[t]),e[t].cells=this.generateCells(e[t]);return e},e.prototype.getInfiniteIndex=function(e){return"infiniteScroll"===e.requestType||"delete"===e.requestType||"add"===e.action?e.startIndex:0},e}()},10:(e,t,i)=>{i.d(t,{c:()=>n});var r=i(8452),n=function(){function e(e){this.intl=new r.DL,(0,r.hX)(e)||(this.intl.culture=e)}return e.prototype.getFormatFunction=function(e){return e.type?this.intl.getDateFormat(e):this.intl.getNumberFormat(e)},e.prototype.getParserFunction=function(e){return e.type?this.intl.getDateParser(e):this.intl.getNumberParser(e)},e.prototype.fromView=function(e,t,i){return"date"!==i&&"datetime"!==i&&"number"!==i||(0,r.hX)(t)?e:t(e)},e.prototype.toView=function(e,t){var i=e;return(0,r.hX)(t)||(0,r.hX)(e)||(i=t(e)),i},e.prototype.setCulture=function(e){(0,r.hX)(e)||(0,r.Ls)(e)},e}()},746:(e,t,i)=>{i.d(t,{e:()=>o,r:()=>s});var r=i(3527),n=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function r(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.moduleName="column",t.complexTemplate={filterItemTemplate:"filter.itemTemplate"},t}(r.qL),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.propertyName="columns",t.moduleName="columns",t}(r.qL)},3064:(e,t,i)=>{i.d(t,{_:()=>l});var r=i(5043),n=i(5127),o=i(3527),s=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function r(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),l=function(e){function t(t){var i=e.call(this,t)||this;return i.initRenderCalled=!1,i.checkInjectedModules=!0,i.directivekeys={columns:{column:{stackedColumns:"stackedColumn"}},aggregates:{aggregate:{aggregateColumns:"aggregateColumn"}}},i.immediateRender=!1,i.portals=[],i}return s(t,e),t.prototype.render=function(){if(!(this.element&&!this.initRenderCalled||this.refreshing)||this.isReactForeceUpdate)return r.createElement("div",this.getDefaultAttributes(),[].concat(this.props.children,this.portals));e.prototype.render.call(this),this.initRenderCalled=!0},t}(n.xA);(0,o.XJ)(l,[o.xu,r.Component])}}]);
//# sourceMappingURL=331.edb7ffac.chunk.js.map