{"version":3,"file":"static/js/331.edb7ffac.chunk.js","mappings":"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","sources":["../node_modules/@syncfusion/ej2-grids/src/pager/numeric-container.js","../node_modules/@syncfusion/ej2-grids/src/pager/pager-message.js","../node_modules/@syncfusion/ej2-grids/src/pager/pager.js","../node_modules/@syncfusion/ej2-grids/src/pager/pager-dropdown.js","../node_modules/@syncfusion/ej2-grids/src/pager/external-message.js","../node_modules/@syncfusion/ej2-grids/src/grid/actions/page.js","../node_modules/@syncfusion/ej2-grids/src/grid/actions/print.js","../node_modules/@syncfusion/ej2-grids/src/grid/actions/search.js","../node_modules/@syncfusion/ej2-grids/src/grid/actions/selection.js","../node_modules/@syncfusion/ej2-grids/src/grid/base/constant.js","../node_modules/@syncfusion/ej2-grids/src/grid/base/enum.js","../node_modules/@syncfusion/ej2-grids/src/grid/actions/data.js","../node_modules/@syncfusion/ej2-grids/src/grid/services/summary-model-generator.js","../node_modules/@syncfusion/ej2-grids/src/grid/services/group-model-generator.js","../node_modules/@syncfusion/ej2-grids/src/grid/renderer/content-renderer.js","../node_modules/@syncfusion/ej2-grids/src/grid/renderer/header-renderer.js","../node_modules/@syncfusion/ej2-grids/src/grid/renderer/header-cell-renderer.js","../node_modules/@syncfusion/ej2-grids/src/grid/renderer/stacked-cell-renderer.js","../node_modules/@syncfusion/ej2-grids/src/grid/renderer/indent-cell-renderer.js","../node_modules/@syncfusion/ej2-grids/src/grid/renderer/caption-cell-renderer.js","../node_modules/@syncfusion/ej2-grids/src/grid/renderer/expand-cell-renderer.js","../node_modules/@syncfusion/ej2-grids/src/grid/renderer/header-indent-renderer.js","../node_modules/@syncfusion/ej2-grids/src/grid/renderer/detail-header-indent-renderer.js","../node_modules/@syncfusion/ej2-grids/src/grid/renderer/detail-expand-cell-renderer.js","../node_modules/@syncfusion/ej2-grids/src/grid/renderer/row-drag-drop-renderer.js","../node_modules/@syncfusion/ej2-grids/src/grid/renderer/row-drag-header-indent-render.js","../node_modules/@syncfusion/ej2-grids/src/grid/renderer/render.js","../node_modules/@syncfusion/ej2-grids/src/grid/services/cell-render-factory.js","../node_modules/@syncfusion/ej2-grids/src/grid/services/service-locator.js","../node_modules/@syncfusion/ej2-grids/src/grid/services/renderer-factory.js","../node_modules/@syncfusion/ej2-grids/src/grid/services/width-controller.js","../node_modules/@syncfusion/ej2-grids/src/grid/models/page-settings.js","../node_modules/@syncfusion/ej2-grids/src/grid/models/column-chooser-settings.js","../node_modules/@syncfusion/ej2-grids/src/grid/actions/show-hide.js","../node_modules/@syncfusion/ej2-grids/src/grid/actions/scroll.js","../node_modules/@syncfusion/ej2-grids/src/grid/models/aggregate.js","../node_modules/@syncfusion/ej2-grids/src/grid/actions/clipboard.js","../node_modules/@syncfusion/ej2-grids/src/grid/base/grid.js","../node_modules/@syncfusion/ej2-grids/src/grid/base/string-literals.js","../node_modules/@syncfusion/ej2-grids/src/grid/base/util.js","../node_modules/@syncfusion/ej2-grids/src/grid/common/checkbox-filter-base.js","../node_modules/@syncfusion/ej2-grids/src/grid/models/cell.js","../node_modules/@syncfusion/ej2-grids/src/grid/models/column.js","../node_modules/@syncfusion/ej2-grids/src/grid/models/row.js","../node_modules/@syncfusion/ej2-grids/src/grid/renderer/cell-merge-renderer.js","../node_modules/@syncfusion/ej2-grids/src/grid/renderer/cell-renderer.js","../node_modules/@syncfusion/ej2-grids/src/grid/renderer/responsive-dialog-renderer.js","../node_modules/@syncfusion/ej2-grids/src/grid/renderer/row-renderer.js","../node_modules/@syncfusion/ej2-grids/src/grid/services/aria-service.js","../node_modules/@syncfusion/ej2-grids/src/grid/services/focus-strategy.js","../node_modules/@syncfusion/ej2-grids/src/grid/services/row-model-generator.js","../node_modules/@syncfusion/ej2-grids/src/grid/services/value-formatter.js","../node_modules/@syncfusion/ej2-react-grids/src/grid/columns-directive.js","../node_modules/@syncfusion/ej2-react-grids/src/grid/grid.component.js"],"sourcesContent":["import { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { EventHandler } from '@syncfusion/ej2-base';\nimport { createElement, classList, append } from '@syncfusion/ej2-base';\n/**\n * `NumericContainer` module handles rendering and refreshing numeric container.\n */\nvar NumericContainer = /** @class */ (function () {\n    /**\n     * Constructor for numericContainer module\n     *\n     * @param {Pager} pagerModule - specifies the pagerModule\n     * @hidden\n     */\n    function NumericContainer(pagerModule) {\n        this.pagerModule = pagerModule;\n    }\n    /**\n     * The function is used to render numericContainer\n     *\n     * @returns {void}\n     * @hidden\n     */\n    NumericContainer.prototype.render = function () {\n        this.pagerElement = this.pagerModule.element;\n        this.renderNumericContainer();\n        this.refreshNumericLinks();\n        this.wireEvents();\n    };\n    /**\n     * Refreshes the numeric container of Pager.\n     *\n     * @returns {void}\n     */\n    NumericContainer.prototype.refresh = function () {\n        this.pagerModule.updateTotalPages();\n        if (this.links.length) {\n            this.updateLinksHtml();\n        }\n        this.updateStyles();\n    };\n    /**\n     * The function is used to refresh refreshNumericLinks\n     *\n     * @returns {void}\n     * @hidden\n     */\n    NumericContainer.prototype.refreshNumericLinks = function () {\n        var link;\n        var pagerObj = this.pagerModule;\n        var div = pagerObj.element.querySelector('.e-numericcontainer');\n        var frag = document.createDocumentFragment();\n        div.innerHTML = '';\n        for (var i = 1; i <= pagerObj.pageCount; i++) {\n            link = createElement('a', {\n                className: 'e-link e-numericitem e-spacing e-pager-default',\n                attrs: { role: 'link', tabindex: '-1', 'aria-label': 'Goto Page ' + i,\n                    href: 'javascript:void(0);', name: 'Goto page' + i }\n            });\n            if (pagerObj.currentPage === i) {\n                classList(link, ['e-currentitem', 'e-active'], ['e-pager-default']);\n            }\n            frag.appendChild(link);\n        }\n        div.appendChild(frag);\n        this.links = [].slice.call(div.childNodes);\n    };\n    /**\n     * Binding events to the element while component creation\n     *\n     * @returns {void}\n     * @hidden\n     */\n    NumericContainer.prototype.wireEvents = function () {\n        EventHandler.add(this.pagerElement, 'click', this.clickHandler, this);\n    };\n    /**\n     * Unbinding events from the element while component destroy\n     *\n     * @returns {void}\n     * @hidden\n     */\n    NumericContainer.prototype.unwireEvents = function () {\n        EventHandler.remove(this.pagerModule.element, 'click', this.clickHandler);\n    };\n    /**\n     * To destroy the PagerMessage\n     *\n     * @function destroy\n     * @returns {void}\n     * @hidden\n     */\n    NumericContainer.prototype.destroy = function () {\n        this.unwireEvents();\n    };\n    NumericContainer.prototype.renderNumericContainer = function () {\n        this.element = createElement('div', {\n            className: 'e-pagercontainer', attrs: { 'role': 'navigation' }\n        });\n        this.renderFirstNPrev(this.element);\n        this.renderPrevPagerSet(this.element);\n        this.element.appendChild(createElement('div', { className: 'e-numericcontainer' }));\n        this.renderNextPagerSet(this.element);\n        this.renderNextNLast(this.element);\n        this.pagerModule.element.appendChild(this.element);\n    };\n    NumericContainer.prototype.renderFirstNPrev = function (pagerContainer) {\n        this.first = createElement('div', {\n            className: 'e-first e-icons e-icon-first',\n            attrs: {\n                title: this.pagerModule.getLocalizedLabel('firstPageTooltip'),\n                'aria-label': this.pagerModule.getLocalizedLabel('firstPageTooltip'),\n                tabindex: '-1'\n            }\n        });\n        this.prev = createElement('div', {\n            className: 'e-prev e-icons e-icon-prev',\n            attrs: {\n                title: this.pagerModule.getLocalizedLabel('previousPageTooltip'),\n                'aria-label': this.pagerModule.getLocalizedLabel('previousPageTooltip'),\n                tabindex: '-1'\n            }\n        });\n        append([this.first, this.prev], pagerContainer);\n    };\n    NumericContainer.prototype.renderPrevPagerSet = function (pagerContainer) {\n        var prevPager = createElement('div');\n        this.PP = createElement('a', {\n            className: 'e-link e-pp e-spacing', innerHTML: '...',\n            attrs: {\n                title: this.pagerModule.getLocalizedLabel('previousPagerTooltip'), role: 'link',\n                'aria-label': this.pagerModule.getLocalizedLabel('previousPagerTooltip'),\n                tabindex: '-1',\n                name: this.pagerModule.getLocalizedLabel('previousPagerTooltip'),\n                href: 'javascript:void(0);'\n            }\n        });\n        prevPager.appendChild(this.PP);\n        pagerContainer.appendChild(prevPager);\n    };\n    NumericContainer.prototype.renderNextPagerSet = function (pagerContainer) {\n        var nextPager = createElement('div');\n        this.NP = createElement('a', {\n            className: 'e-link e-np e-spacing',\n            innerHTML: '...', attrs: {\n                title: this.pagerModule.getLocalizedLabel('nextPagerTooltip'), role: 'link',\n                'aria-label': this.pagerModule.getLocalizedLabel('nextPagerTooltip'),\n                tabindex: '-1',\n                name: this.pagerModule.getLocalizedLabel('nextPagerTooltip'),\n                href: 'javascript:void(0);'\n            }\n        });\n        nextPager.appendChild(this.NP);\n        pagerContainer.appendChild(nextPager);\n    };\n    NumericContainer.prototype.renderNextNLast = function (pagerContainer) {\n        this.next = createElement('div', {\n            className: 'e-next e-icons e-icon-next',\n            attrs: {\n                title: this.pagerModule.getLocalizedLabel('nextPageTooltip'),\n                'aria-label': this.pagerModule.getLocalizedLabel('nextPageTooltip'),\n                tabindex: '-1'\n            }\n        });\n        this.last = createElement('div', {\n            className: 'e-last e-icons e-icon-last',\n            attrs: {\n                title: this.pagerModule.getLocalizedLabel('lastPageTooltip'),\n                'aria-label': this.pagerModule.getLocalizedLabel('lastPageTooltip'),\n                tabindex: '-1'\n            }\n        });\n        append([this.next, this.last], pagerContainer);\n    };\n    NumericContainer.prototype.clickHandler = function (e) {\n        var pagerObj = this.pagerModule;\n        var target = e.target;\n        pagerObj.previousPageNo = pagerObj.currentPage;\n        if (!target.classList.contains('e-disable') && !isNullOrUndefined(target.getAttribute('index'))) {\n            pagerObj.currentPage = parseInt(target.getAttribute('index'), 10);\n            pagerObj.dataBind();\n        }\n        return false;\n    };\n    NumericContainer.prototype.updateLinksHtml = function () {\n        var pagerObj = this.pagerModule;\n        var currentPageSet;\n        var pageNo;\n        pagerObj.currentPage = pagerObj.totalPages === 1 ? 1 : pagerObj.currentPage;\n        if (pagerObj.currentPage > pagerObj.totalPages && pagerObj.totalPages) {\n            pagerObj.currentPage = pagerObj.totalPages;\n        }\n        currentPageSet = parseInt((pagerObj.currentPage / pagerObj.pageCount).toString(), 10);\n        if (pagerObj.currentPage % pagerObj.pageCount === 0 && currentPageSet > 0) {\n            currentPageSet = currentPageSet - 1;\n        }\n        for (var i = 0; i < pagerObj.pageCount; i++) {\n            pageNo = (currentPageSet * pagerObj.pageCount) + 1 + i;\n            if (pageNo <= pagerObj.totalPages) {\n                this.links[i].style.display = '';\n                this.links[i].setAttribute('index', pageNo.toString());\n                this.links[i].innerHTML = !pagerObj.customText ? pageNo.toString() : pagerObj.customText + pageNo;\n                if (pagerObj.currentPage !== pageNo) {\n                    this.links[i].classList.add('e-pager-default');\n                }\n                else {\n                    this.links[i].classList.remove('e-pager-default');\n                }\n            }\n            else {\n                this.links[i].innerHTML = !pagerObj.customText ? pageNo.toString() : pagerObj.customText + pageNo;\n                this.links[i].style.display = 'none';\n            }\n            classList(this.links[i], [], ['e-currentitem', 'e-active']);\n        }\n        this.first.setAttribute('index', '1');\n        this.last.setAttribute('index', pagerObj.totalPages.toString());\n        this.prev.setAttribute('index', (pagerObj.currentPage - 1).toString());\n        this.next.setAttribute('index', (pagerObj.currentPage + 1).toString());\n        this.pagerElement.querySelector('.e-mfirst').setAttribute('index', '1');\n        this.pagerElement.querySelector('.e-mlast').setAttribute('index', pagerObj.totalPages.toString());\n        this.pagerElement.querySelector('.e-mprev').setAttribute('index', (pagerObj.currentPage - 1).toString());\n        this.pagerElement.querySelector('.e-mnext').setAttribute('index', (pagerObj.currentPage + 1).toString());\n        this.PP.setAttribute('index', (parseInt(this.links[0].getAttribute('index'), 10) - pagerObj.pageCount).toString());\n        this.NP.setAttribute('index', (parseInt(this.links[this.links.length - 1].getAttribute('index'), 10) + 1).toString());\n    };\n    NumericContainer.prototype.updateStyles = function () {\n        this.updateFirstNPrevStyles();\n        this.updatePrevPagerSetStyles();\n        this.updateNextPagerSetStyles();\n        this.updateNextNLastStyles();\n        if (this.links.length) {\n            classList(this.links[(this.pagerModule.currentPage - 1) % this.pagerModule.pageCount], ['e-currentitem', 'e-active'], []);\n        }\n    };\n    NumericContainer.prototype.updateFirstNPrevStyles = function () {\n        var firstPage = ['e-firstpage', 'e-pager-default'];\n        var firstPageDisabled = ['e-firstpagedisabled', 'e-disable'];\n        var prevPage = ['e-prevpage', 'e-pager-default'];\n        var prevPageDisabled = ['e-prevpagedisabled', 'e-disable'];\n        if (this.pagerModule.totalPages > 0 && this.pagerModule.currentPage > 1) {\n            classList(this.prev, prevPage, prevPageDisabled);\n            classList(this.first, firstPage, firstPageDisabled);\n            classList(this.pagerElement.querySelector('.e-mfirst'), firstPage, firstPageDisabled);\n            classList(this.pagerElement.querySelector('.e-mprev'), prevPage, prevPageDisabled);\n        }\n        else {\n            classList(this.prev, prevPageDisabled, prevPage);\n            classList(this.first, firstPageDisabled, firstPage);\n            classList(this.pagerElement.querySelector('.e-mprev'), prevPageDisabled, prevPage);\n            classList(this.pagerElement.querySelector('.e-mfirst'), firstPageDisabled, firstPage);\n        }\n    };\n    NumericContainer.prototype.updatePrevPagerSetStyles = function () {\n        if (this.pagerModule.currentPage > this.pagerModule.pageCount) {\n            classList(this.PP, ['e-numericitem', 'e-pager-default'], ['e-nextprevitemdisabled', 'e-disable']);\n        }\n        else {\n            classList(this.PP, ['e-nextprevitemdisabled', 'e-disable'], ['e-numericitem', 'e-pager-default']);\n        }\n    };\n    NumericContainer.prototype.updateNextPagerSetStyles = function () {\n        var pagerObj = this.pagerModule;\n        var firstPage = this.links[0].innerHTML.replace(pagerObj.customText, '');\n        if (!firstPage.length || !this.links.length || (parseInt(firstPage, 10) + pagerObj.pageCount > pagerObj.totalPages)) {\n            classList(this.NP, ['e-nextprevitemdisabled', 'e-disable'], ['e-numericitem', 'e-pager-default']);\n        }\n        else {\n            classList(this.NP, ['e-numericitem', 'e-pager-default'], ['e-nextprevitemdisabled', 'e-disable']);\n        }\n    };\n    NumericContainer.prototype.updateNextNLastStyles = function () {\n        var lastPage = ['e-lastpage', 'e-pager-default'];\n        var lastPageDisabled = ['e-lastpagedisabled', 'e-disable'];\n        var nextPage = ['e-nextpage', 'e-pager-default'];\n        var nextPageDisabled = ['e-nextpagedisabled', 'e-disable'];\n        var pagerObj = this.pagerModule;\n        if (pagerObj.currentPage === pagerObj.totalPages || pagerObj.totalRecordsCount === 0) {\n            classList(this.last, lastPageDisabled, lastPage);\n            classList(this.next, nextPageDisabled, nextPage);\n            classList(this.pagerElement.querySelector('.e-mlast'), lastPageDisabled, lastPage);\n            classList(this.pagerElement.querySelector('.e-mnext'), nextPageDisabled, nextPage);\n        }\n        else {\n            classList(this.last, lastPage, lastPageDisabled);\n            classList(this.next, nextPage, nextPageDisabled);\n            classList(this.pagerElement.querySelector('.e-mlast'), lastPage, lastPageDisabled);\n            classList(this.pagerElement.querySelector('.e-mnext'), nextPage, nextPageDisabled);\n        }\n    };\n    return NumericContainer;\n}());\nexport { NumericContainer };\n","import { createElement, append } from '@syncfusion/ej2-base';\n/**\n * `PagerMessage` module is used to display pager information.\n */\nvar PagerMessage = /** @class */ (function () {\n    /**\n     * Constructor for externalMessage module\n     *\n     * @param {Pager} pagerModule - specifies the pager Module\n     * @hidden\n     */\n    function PagerMessage(pagerModule) {\n        this.pagerModule = pagerModule;\n    }\n    /**\n     * The function is used to render pager message\n     *\n     * @returns {void}\n     * @hidden\n     */\n    PagerMessage.prototype.render = function () {\n        var div = createElement('div', { className: 'e-parentmsgbar', attrs: { 'aria-label': 'Pager Information' } });\n        this.pageNoMsgElem = createElement('span', { className: 'e-pagenomsg', styles: 'textalign:right' });\n        this.pageCountMsgElem = createElement('span', { className: 'e-pagecountmsg', styles: 'textalign:right' });\n        append([this.pageNoMsgElem, this.pageCountMsgElem], div);\n        this.pagerModule.element.appendChild(div);\n        this.refresh();\n    };\n    /**\n     * Refreshes the pager information.\n     *\n     * @returns {void}\n     */\n    PagerMessage.prototype.refresh = function () {\n        var pagerObj = this.pagerModule;\n        this.pageNoMsgElem.textContent = this.format(pagerObj.getLocalizedLabel('currentPageInfo'), [pagerObj.totalRecordsCount === 0 ? 0 :\n                pagerObj.currentPage, pagerObj.totalPages || 0, pagerObj.totalRecordsCount || 0]) + ' ';\n        this.pageCountMsgElem.textContent = this.format(pagerObj.getLocalizedLabel(pagerObj.totalRecordsCount <= 1 ? 'totalItemInfo' : 'totalItemsInfo'), [pagerObj.totalRecordsCount || 0, pagerObj.totalRecordsCount ? (pagerObj.pageSize * (pagerObj.currentPage - 1)) + 1 : 0,\n            pagerObj.pageSize * pagerObj.currentPage > pagerObj.totalRecordsCount ? pagerObj.totalRecordsCount :\n                pagerObj.pageSize * pagerObj.currentPage]);\n        this.pageNoMsgElem.parentElement.setAttribute('aria-label', this.pageNoMsgElem.textContent + this.pageCountMsgElem.textContent);\n    };\n    /**\n     * Hides the Pager information.\n     *\n     * @returns {void}\n     */\n    PagerMessage.prototype.hideMessage = function () {\n        if (this.pageNoMsgElem) {\n            this.pageNoMsgElem.style.display = 'none';\n        }\n        if (this.pageCountMsgElem) {\n            this.pageCountMsgElem.style.display = 'none';\n        }\n    };\n    /**\n     * Shows the Pager information.\n     *\n     * @returns {void}\n     */\n    PagerMessage.prototype.showMessage = function () {\n        if (!this.pageNoMsgElem) {\n            this.render();\n        }\n        this.pageNoMsgElem.style.display = '';\n        this.pageCountMsgElem.style.display = '';\n    };\n    /**\n     * To destroy the PagerMessage\n     *\n     * @function destroy\n     * @returns {void}\n     * @hidden\n     */\n    PagerMessage.prototype.destroy = function () {\n        //destroy\n    };\n    PagerMessage.prototype.format = function (str, args) {\n        var regx;\n        for (var i = 0; i < args.length; i++) {\n            regx = new RegExp('\\\\{' + (i) + '\\\\}', 'gm');\n            str = str.replace(regx, args[i].toString());\n        }\n        return str;\n    };\n    return PagerMessage;\n}());\nexport { PagerMessage };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, L10n, Browser } from '@syncfusion/ej2-base';\nimport { createElement, compile as templateCompiler } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { Property, Event, NotifyPropertyChanges } from '@syncfusion/ej2-base';\nimport { NumericContainer } from './numeric-container';\nimport { PagerMessage } from './pager-message';\nimport { appendChildren } from '../grid/base/util';\n/**\n * Represents the `Pager` component.\n * ```html\n * <div id=\"pager\"/>\n * ```\n * ```typescript\n * <script>\n *   var pagerObj = new Pager({ totalRecordsCount: 50, pageSize:10 });\n *   pagerObj.appendTo(\"#pager\");\n * </script>\n * ```\n */\nvar Pager = /** @class */ (function (_super) {\n    __extends(Pager, _super);\n    /**\n     * Constructor for creating the component.\n     *\n     * @param {PagerModel} options - specifies the options\n     * @param {string} element - specifies the element\n     * @hidden\n     */\n    function Pager(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        /** @hidden */\n        _this.hasParent = false;\n        _this.pageRefresh = 'pager-refresh';\n        return _this;\n    }\n    /**\n     * To provide the array of modules needed for component rendering\n     *\n     * @returns {ModuleDeclaration[]} returns the modules declaration\n     * @hidden\n     */\n    Pager.prototype.requiredModules = function () {\n        var modules = [];\n        if (this.enableExternalMessage) {\n            modules.push({\n                member: 'externalMessage',\n                args: [this]\n            });\n        }\n        if (this.checkpagesizes()) {\n            modules.push({\n                member: 'pagerdropdown',\n                args: [this]\n            });\n        }\n        return modules;\n    };\n    /**\n     * Initialize the event handler\n     *\n     * @returns {void}\n     * @hidden\n     */\n    Pager.prototype.preRender = function () {\n        //preRender\n        this.defaultConstants = {\n            currentPageInfo: '{0} of {1} pages',\n            totalItemsInfo: '({0} items)',\n            totalItemInfo: '({0} item)',\n            firstPageTooltip: 'Go to first page',\n            lastPageTooltip: 'Go to last page',\n            nextPageTooltip: 'Go to next page',\n            previousPageTooltip: 'Go to previous page',\n            nextPagerTooltip: 'Go to next pager',\n            previousPagerTooltip: 'Go to previous pager',\n            pagerDropDown: 'Items per page',\n            pagerAllDropDown: 'Items',\n            CurrentPageInfo: '{0} of {1} pages',\n            TotalItemsInfo: '({0} items)',\n            FirstPageTooltip: 'Go to first page',\n            LastPageTooltip: 'Go to last page',\n            NextPageTooltip: 'Go to next page',\n            PreviousPageTooltip: 'Go to previous page',\n            NextPagerTooltip: 'Go to next pager',\n            PreviousPagerTooltip: 'Go to previous pager',\n            PagerDropDown: 'Items per page',\n            PagerAllDropDown: 'Items',\n            All: 'All'\n        };\n        this.containerModule = new NumericContainer(this);\n        this.pagerMessageModule = new PagerMessage(this);\n    };\n    /**\n     * To Initialize the component rendering\n     *\n     * @returns {void}\n     */\n    Pager.prototype.render = function () {\n        if (this.template) {\n            if (this.isReactTemplate()) {\n                this.on(this.pageRefresh, this.pagerTemplate, this);\n                this.notify(this.pageRefresh, {});\n            }\n            else {\n                this.pagerTemplate();\n            }\n        }\n        else {\n            this.initLocalization();\n            this.updateRTL();\n            this.totalRecordsCount = this.totalRecordsCount || 0;\n            this.renderFirstPrevDivForDevice();\n            this.containerModule.render();\n            if (this.enablePagerMessage) {\n                this.pagerMessageModule.render();\n            }\n            this.renderNextLastDivForDevice();\n            if (this.checkpagesizes() && this.pagerdropdownModule) {\n                this.pagerdropdownModule.render();\n            }\n            this.addAriaLabel();\n            if (this.enableExternalMessage && this.externalMessageModule) {\n                this.externalMessageModule.render();\n            }\n            this.refresh();\n            this.trigger('created', { 'currentPage': this.currentPage, 'totalRecordsCount': this.totalRecordsCount });\n        }\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     *\n     * @returns {string} returns the persist data\n     * @hidden\n     */\n    Pager.prototype.getPersistData = function () {\n        var keyEntity = ['currentPage', 'pageSize'];\n        return this.addOnPersist(keyEntity);\n    };\n    /**\n     * To destroy the Pager component.\n     *\n     * @method destroy\n     * @returns {void}\n     */\n    Pager.prototype.destroy = function () {\n        if (this.isDestroyed) {\n            return;\n        }\n        ;\n        if (this.isReactTemplate()) {\n            this.off(this.pageRefresh, this.pagerTemplate);\n            if (!this.hasParent) {\n                this.destroyTemplate(['template']);\n            }\n        }\n        _super.prototype.destroy.call(this);\n        this.containerModule.destroy();\n        this.pagerMessageModule.destroy();\n        if (!this.isReactTemplate()) {\n            this.element.innerHTML = '';\n        }\n    };\n    /**\n     * Destroys the given template reference.\n     *\n     * @param {string[]} propertyNames - Defines the collection of template name.\n     * @param {any} index - Defines the index\n     */\n    // eslint-disable-next-line\n    Pager.prototype.destroyTemplate = function (propertyNames, index) {\n        this.clearTemplate(propertyNames, index);\n    };\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} returns the module name\n     * @private\n     */\n    Pager.prototype.getModuleName = function () {\n        return 'pager';\n    };\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @param {PagerModel} newProp - specifies the new property\n     * @param {PagerModel} oldProp - specifies the old propety\n     * @returns {void}\n     * @hidden\n     */\n    Pager.prototype.onPropertyChanged = function (newProp, oldProp) {\n        if (this.isDestroyed) {\n            return;\n        }\n        if (newProp.pageCount !== oldProp.pageCount) {\n            this.containerModule.refreshNumericLinks();\n            this.containerModule.refresh();\n        }\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'currentPage':\n                    if (this.checkGoToPage(newProp.currentPage, oldProp.currentPage)) {\n                        this.currentPageChanged(newProp, oldProp);\n                    }\n                    break;\n                case 'pageSize':\n                case 'totalRecordsCount':\n                case 'customText':\n                    if (this.checkpagesizes() && this.pagerdropdownModule) {\n                        if (oldProp.pageSize !== newProp.pageSize) {\n                            this.currentPage = 1;\n                        }\n                        this.pagerdropdownModule.setDropDownValue('value', this.pageSize);\n                    }\n                    if (newProp.pageSize !== oldProp.pageSize) {\n                        this.pageSize = newProp.pageSize;\n                        this.currentPageChanged(newProp, oldProp);\n                    }\n                    else {\n                        this.refresh();\n                    }\n                    break;\n                case 'pageSizes':\n                    if (this.checkpagesizes() && this.pagerdropdownModule) {\n                        this.pagerdropdownModule.destroy();\n                        this.pagerdropdownModule.render();\n                    }\n                    this.refresh();\n                    break;\n                case 'template':\n                    this.templateFn = this.compile(this.template);\n                    this.refresh();\n                    break;\n                case 'locale':\n                    this.initLocalization();\n                    this.refresh();\n                    break;\n                case 'enableExternalMessage':\n                    if (this.enableExternalMessage && this.externalMessageModule) {\n                        this.externalMessageModule.render();\n                    }\n                    break;\n                case 'externalMessage':\n                    if (this.externalMessageModule) {\n                        this.externalMessageModule.refresh();\n                    }\n                    break;\n                case 'enableRtl':\n                    this.updateRTL();\n                    break;\n                case 'enablePagerMessage':\n                    if (this.enablePagerMessage) {\n                        this.pagerMessageModule.showMessage();\n                    }\n                    else {\n                        this.pagerMessageModule.hideMessage();\n                    }\n                    break;\n            }\n        }\n    };\n    /**\n     * Gets the localized label by locale keyword.\n     *\n     * @param  {string} key - specifies the key\n     * @returns {string} returns the localized label\n     */\n    Pager.prototype.getLocalizedLabel = function (key) {\n        return this.localeObj.getConstant(key);\n    };\n    /**\n     * Navigate to target page by given number.\n     *\n     * @param  {number} pageNo - Defines page number.\n     * @returns {void}\n     */\n    Pager.prototype.goToPage = function (pageNo) {\n        if (this.checkGoToPage(pageNo)) {\n            this.currentPage = pageNo;\n            this.dataBind();\n        }\n    };\n    /**\n     * @param {number} pageSize - specifies the pagesize\n     * @returns {void}\n     * @hidden\n     */\n    Pager.prototype.setPageSize = function (pageSize) {\n        this.pageSize = pageSize;\n        this.dataBind();\n    };\n    Pager.prototype.checkpagesizes = function () {\n        if (this.pageSizes === true || this.pageSizes.length) {\n            return true;\n        }\n        return false;\n    };\n    Pager.prototype.checkGoToPage = function (newPageNo, oldPageNo) {\n        if (newPageNo !== this.currentPage) {\n            this.previousPageNo = this.currentPage;\n        }\n        if (!isNullOrUndefined(oldPageNo)) {\n            this.previousPageNo = oldPageNo;\n        }\n        if (this.previousPageNo !== newPageNo && (newPageNo >= 1 && newPageNo <= this.totalPages)) {\n            return true;\n        }\n        return false;\n    };\n    Pager.prototype.currentPageChanged = function (newProp, oldProp) {\n        if (this.enableQueryString) {\n            this.updateQueryString(this.currentPage);\n        }\n        if (newProp.currentPage !== oldProp.currentPage || newProp.pageSize !== oldProp.pageSize) {\n            var args = {\n                currentPage: this.currentPage,\n                newProp: newProp, oldProp: oldProp, cancel: false\n            };\n            this.trigger('click', args);\n            if (!args.cancel) {\n                this.refresh();\n            }\n        }\n    };\n    Pager.prototype.pagerTemplate = function () {\n        if (this.isReactTemplate() && this.hasParent) {\n            return;\n        }\n        var result;\n        this.element.classList.add('e-pagertemplate');\n        this.compile(this.template);\n        var data = {\n            currentPage: this.currentPage, pageSize: this.pageSize, pageCount: this.pageCount,\n            totalRecordsCount: this.totalRecordsCount, totalPages: this.totalPages\n        };\n        var tempId = this.element.parentElement.id + '_template';\n        if (this.isReactTemplate() && !this.isVue) {\n            this.getPagerTemplate()(data, this, 'template', tempId, null, null, this.element);\n            this.renderReactTemplates();\n        }\n        else {\n            result = this.isVue ? this.getPagerTemplate()(data, this, 'template') : this.getPagerTemplate()(data);\n            appendChildren(this.element, result);\n        }\n    };\n    /**\n     * @returns {void}\n     * @hidden\n     */\n    Pager.prototype.updateTotalPages = function () {\n        this.totalPages = this.isAllPage ? 1 : (this.totalRecordsCount % this.pageSize === 0) ? (this.totalRecordsCount / this.pageSize) :\n            (parseInt((this.totalRecordsCount / this.pageSize).toString(), 10) + 1);\n    };\n    /**\n     * @returns {Function} returns the function\n     * @hidden\n     */\n    Pager.prototype.getPagerTemplate = function () {\n        return this.templateFn;\n    };\n    /**\n     * @param {string} template - specifies the template\n     * @returns {Function} returns the function\n     * @hidden\n     */\n    Pager.prototype.compile = function (template) {\n        if (template) {\n            try {\n                if (document.querySelectorAll(template).length) {\n                    this.templateFn = templateCompiler(document.querySelector(template).innerHTML.trim());\n                }\n            }\n            catch (e) {\n                this.templateFn = templateCompiler(template);\n            }\n        }\n        return undefined;\n    };\n    /**\n     * Refreshes page count, pager information and external message.\n     *\n     * @returns {void}\n     */\n    Pager.prototype.refresh = function () {\n        if (this.template) {\n            if (this.isReactTemplate()) {\n                this.updateTotalPages();\n                this.notify(this.pageRefresh, {});\n            }\n            else {\n                this.element.innerHTML = '';\n                this.updateTotalPages();\n                this.pagerTemplate();\n            }\n        }\n        else {\n            this.updateRTL();\n            this.containerModule.refresh();\n            if (this.enablePagerMessage) {\n                this.pagerMessageModule.refresh();\n            }\n            if (this.pagerdropdownModule) {\n                this.pagerdropdownModule.refresh();\n            }\n            if (this.enableExternalMessage && this.externalMessageModule) {\n                this.externalMessageModule.refresh();\n            }\n        }\n    };\n    Pager.prototype.updateRTL = function () {\n        if (this.enableRtl) {\n            this.element.classList.add('e-rtl');\n        }\n        else {\n            this.element.classList.remove('e-rtl');\n        }\n    };\n    Pager.prototype.initLocalization = function () {\n        this.localeObj = new L10n(this.getModuleName(), this.defaultConstants, this.locale);\n    };\n    Pager.prototype.updateQueryString = function (value) {\n        var updatedUrl = this.getUpdatedURL(window.location.href, 'page', value.toString());\n        window.history.pushState({ path: updatedUrl }, '', updatedUrl);\n    };\n    Pager.prototype.getUpdatedURL = function (uri, key, value) {\n        var regx = new RegExp('([?|&])' + key + '=.*?(&|#|$)', 'i');\n        if (uri.match(regx)) {\n            return uri.replace(regx, '$1' + key + '=' + value + '$2');\n        }\n        else {\n            var hash = '';\n            if (uri.indexOf('#') !== -1) {\n                hash = uri.replace(/.*#/, '#');\n                uri = uri.replace(/#.*/, '');\n            }\n            return uri + (uri.indexOf('?') !== -1 ? '&' : '?') + key + '=' + value + hash;\n        }\n    };\n    Pager.prototype.renderFirstPrevDivForDevice = function () {\n        this.element.appendChild(createElement('div', {\n            className: 'e-mfirst e-icons e-icon-first',\n            attrs: { title: this.getLocalizedLabel('firstPageTooltip'), tabindex: '-1' }\n        }));\n        this.element.appendChild(createElement('div', {\n            className: 'e-mprev e-icons e-icon-prev',\n            attrs: { title: this.getLocalizedLabel('previousPageTooltip'), tabindex: '-1' }\n        }));\n    };\n    Pager.prototype.renderNextLastDivForDevice = function () {\n        this.element.appendChild(createElement('div', {\n            className: 'e-mnext e-icons e-icon-next',\n            attrs: { title: this.getLocalizedLabel('nextPageTooltip'), tabindex: '-1' }\n        }));\n        this.element.appendChild(createElement('div', {\n            className: 'e-mlast e-icons e-icon-last',\n            attrs: { title: this.getLocalizedLabel('lastPageTooltip'), tabindex: '-1' }\n        }));\n    };\n    Pager.prototype.addAriaLabel = function () {\n        var classList = ['.e-mfirst', '.e-mprev', '.e-mnext', '.e-mlast'];\n        if (!Browser.isDevice) {\n            for (var i = 0; i < classList.length; i++) {\n                var element = this.element.querySelector(classList[i]);\n                element.setAttribute('aria-label', element.getAttribute('title'));\n            }\n        }\n    };\n    Pager.prototype.isReactTemplate = function () {\n        return (this.isReact || this.isVue) && this.template && typeof (this.template) !== 'string';\n    };\n    __decorate([\n        Property(false)\n    ], Pager.prototype, \"enableQueryString\", void 0);\n    __decorate([\n        Property(false)\n    ], Pager.prototype, \"enableExternalMessage\", void 0);\n    __decorate([\n        Property(true)\n    ], Pager.prototype, \"enablePagerMessage\", void 0);\n    __decorate([\n        Property(12)\n    ], Pager.prototype, \"pageSize\", void 0);\n    __decorate([\n        Property(10)\n    ], Pager.prototype, \"pageCount\", void 0);\n    __decorate([\n        Property(1)\n    ], Pager.prototype, \"currentPage\", void 0);\n    __decorate([\n        Property()\n    ], Pager.prototype, \"totalRecordsCount\", void 0);\n    __decorate([\n        Property()\n    ], Pager.prototype, \"externalMessage\", void 0);\n    __decorate([\n        Property(false)\n    ], Pager.prototype, \"pageSizes\", void 0);\n    __decorate([\n        Property()\n    ], Pager.prototype, \"template\", void 0);\n    __decorate([\n        Property('')\n    ], Pager.prototype, \"customText\", void 0);\n    __decorate([\n        Event()\n    ], Pager.prototype, \"click\", void 0);\n    __decorate([\n        Event()\n    ], Pager.prototype, \"dropDownChanged\", void 0);\n    __decorate([\n        Event()\n    ], Pager.prototype, \"created\", void 0);\n    Pager = __decorate([\n        NotifyPropertyChanges\n    ], Pager);\n    return Pager;\n}(Component));\nexport { Pager };\n","import { createElement, remove } from '@syncfusion/ej2-base';\nimport { DropDownList } from '@syncfusion/ej2-dropdowns';\n/**\n * `PagerDropDown` module handles selected pageSize from DropDownList.\n */\nvar PagerDropDown = /** @class */ (function () {\n    /**\n     * Constructor for pager module\n     *\n     * @param {Pager} pagerModule - specifies the pagermodule\n     * @hidden\n     */\n    function PagerDropDown(pagerModule) {\n        this.pagerModule = pagerModule;\n    }\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} returns the module name\n     * @private\n     * @hidden\n     */\n    PagerDropDown.prototype.getModuleName = function () {\n        return 'pagerdropdown';\n    };\n    /**\n     * The function is used to render pager dropdown\n     *\n     * @returns {void}\n     * @hidden\n     */\n    PagerDropDown.prototype.render = function () {\n        var pagerObj = this.pagerModule;\n        this.pagerDropDownDiv = createElement('div', { className: 'e-pagesizes' });\n        var dropDownDiv = createElement('div', { className: 'e-pagerdropdown' });\n        var defaultTextDiv = createElement('div', { className: 'e-pagerconstant' });\n        var input = createElement('input', { attrs: { type: 'text', tabindex: '1' } });\n        this.pagerCons = createElement('span', {\n            className: 'e-constant', innerHTML: this.pagerModule.getLocalizedLabel('pagerDropDown')\n        });\n        dropDownDiv.appendChild(input);\n        defaultTextDiv.appendChild(this.pagerCons);\n        this.pagerDropDownDiv.appendChild(dropDownDiv);\n        this.pagerDropDownDiv.appendChild(defaultTextDiv);\n        this.pagerModule.element.appendChild(this.pagerDropDownDiv);\n        var pageSizesModule = this.pagerModule.pageSizes;\n        var pageSizesArray = (pageSizesModule.length ? this.convertValue(pageSizesModule) :\n            [this.pagerModule.getLocalizedLabel('All'), '5', '10', '12', '20']);\n        var defaultValue = this.pagerModule.pageSize;\n        this.dropDownListObject = new DropDownList({\n            dataSource: pageSizesArray,\n            value: defaultValue.toString(),\n            change: this.onChange.bind(this),\n            cssClass: 'e-alldrop'\n        });\n        this.dropDownListObject.appendTo(input);\n        if (pageSizesModule.length) {\n            this.dropDownListObject.element.value = this.pagerModule.pageSize.toString();\n        }\n        pagerObj.pageSize = defaultValue;\n        pagerObj.dataBind();\n        pagerObj.trigger('dropDownChanged', { pageSize: defaultValue });\n        this.addEventListener();\n    };\n    /**\n     * For internal use only - Get the pagesize.\n     *\n     * @param {ChangeEventArgs} e - specifies the changeeventargs\n     * @returns {void}\n     * @private\n     * @hidden\n     */\n    PagerDropDown.prototype.onChange = function (e) {\n        if (this.dropDownListObject.value === this.pagerModule.getLocalizedLabel('All')) {\n            this.pagerModule.pageSize = this.pagerModule.totalRecordsCount;\n            this.pagerModule.isAllPage = true;\n            this.refresh();\n            e.value = this.pagerModule.pageSize;\n            if (document.getElementsByClassName('e-popup-open e-alldrop').length) {\n                document.getElementsByClassName('e-popup-open e-alldrop')[0].style.display = 'none';\n            }\n        }\n        else {\n            this.pagerModule.pageSize = parseInt(this.dropDownListObject.value, 10);\n            this.pagerModule.isAllPage = false;\n            if (this.pagerCons.innerHTML !== this.pagerModule.getLocalizedLabel('pagerDropDown')) {\n                this.refresh();\n            }\n        }\n        this.pagerModule.dataBind();\n        this.pagerModule.trigger('dropDownChanged', { pageSize: this.pagerModule.isAllPage ? this.pagerModule.totalRecordsCount :\n                parseInt(this.dropDownListObject.value, 10) });\n    };\n    PagerDropDown.prototype.refresh = function () {\n        if (this.pagerCons) {\n            if (this.pagerModule.pageSize === this.pagerModule.totalRecordsCount) {\n                this.pagerCons.innerHTML = this.pagerModule.getLocalizedLabel('pagerAllDropDown');\n            }\n            else {\n                this.pagerCons.innerHTML = this.pagerModule.getLocalizedLabel('pagerDropDown');\n            }\n        }\n    };\n    PagerDropDown.prototype.beforeValueChange = function (prop) {\n        if (typeof prop.newProp.value === 'number') {\n            var val = prop.newProp.value.toString();\n            prop.newProp.value = val;\n        }\n    };\n    PagerDropDown.prototype.convertValue = function (pageSizeValue) {\n        var item = pageSizeValue;\n        for (var i = 0; i < item.length; i++) {\n            item[i] = parseInt(item[i], 10) ? item[i].toString() : (this.pagerModule.getLocalizedLabel(item[i]) !== '')\n                ? this.pagerModule.getLocalizedLabel(item[i]) : item[i];\n        }\n        return item;\n    };\n    PagerDropDown.prototype.setDropDownValue = function (prop, value) {\n        if (this.dropDownListObject) {\n            this.dropDownListObject[prop] = this.pagerModule.isAllPage ? this.pagerModule.getLocalizedLabel('All') : value;\n        }\n    };\n    PagerDropDown.prototype.addEventListener = function () {\n        this.dropDownListObject.on('beforeValueChange', this.beforeValueChange, this);\n    };\n    PagerDropDown.prototype.removeEventListener = function () {\n        this.dropDownListObject.off('beforeValueChange', this.beforeValueChange);\n    };\n    /**\n     * To destroy the Pagerdropdown\n     *\n     * @param {string} args - specifies the arguments\n     * @param {string} args.requestType - specfies the request type\n     * @returns {void}\n     * @hidden\n     */\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    PagerDropDown.prototype.destroy = function (args) {\n        if (this.dropDownListObject && !this.dropDownListObject.isDestroyed) {\n            this.removeEventListener();\n            this.dropDownListObject.destroy();\n            remove(this.pagerDropDownDiv);\n        }\n    };\n    return PagerDropDown;\n}());\nexport { PagerDropDown };\n","import { createElement, remove, isNullOrUndefined } from '@syncfusion/ej2-base';\n/**\n * `ExternalMessage` module is used to display user provided message.\n */\nvar ExternalMessage = /** @class */ (function () {\n    /**\n     * Constructor for externalMessage module\n     *\n     * @param {Pager} pagerModule - specifies the pagermodule\n     * @hidden\n     */\n    function ExternalMessage(pagerModule) {\n        this.pagerModule = pagerModule;\n    }\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} returns the module name\n     * @private\n     */\n    ExternalMessage.prototype.getModuleName = function () {\n        return 'externalMessage';\n    };\n    /**\n     * The function is used to render pager externalMessage\n     *\n     * @returns {void}\n     * @hidden\n     */\n    ExternalMessage.prototype.render = function () {\n        this.element = createElement('div', { className: 'e-pagerexternalmsg', attrs: { 'aria-label': 'Pager external message' } });\n        this.pagerModule.element.appendChild(this.element);\n        this.refresh();\n    };\n    /**\n     * Refreshes the external message of Pager.\n     *\n     * @returns {void}\n     */\n    ExternalMessage.prototype.refresh = function () {\n        if (this.pagerModule.externalMessage && this.pagerModule.externalMessage.toString().length) {\n            this.showMessage();\n            this.element.innerHTML = this.pagerModule.externalMessage;\n        }\n        else {\n            this.hideMessage();\n        }\n    };\n    /**\n     * Hides the external message of Pager.\n     *\n     * @returns {void}\n     */\n    ExternalMessage.prototype.hideMessage = function () {\n        if (!isNullOrUndefined(this.element)) {\n            this.element.style.display = 'none';\n        }\n    };\n    /**\n     * Shows the external message of the Pager.\n     *\n     * @returns {void}s\n     */\n    ExternalMessage.prototype.showMessage = function () {\n        this.element.style.display = '';\n    };\n    /**\n     * To destroy the PagerMessage\n     *\n     * @function destroy\n     * @returns {void}\n     * @hidden\n     */\n    ExternalMessage.prototype.destroy = function () {\n        remove(this.element);\n    };\n    return ExternalMessage;\n}());\nexport { ExternalMessage };\n","import { extend } from '@syncfusion/ej2-base';\nimport { remove, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { Pager } from '../../pager/pager';\nimport { PagerDropDown } from '../../pager/pager-dropdown';\nimport { ExternalMessage } from '../../pager/external-message';\nimport { extend as gridExtend, getActualProperties, isActionPrevent, addRemoveEventListener, appendChildren } from '../base/util';\nimport * as events from '../base/constant';\nimport * as literals from '../base/string-literals';\n/**\n * The `Page` module is used to render pager and handle paging action.\n */\nvar Page = /** @class */ (function () {\n    /**\n     * Constructor for the Grid paging module\n     *\n     * @param {IGrid} parent - specifies the IGrid\n     * @param {PageSettingsModel} pageSettings - specifies the PageSettingsModel\n     * @hidden\n     */\n    function Page(parent, pageSettings) {\n        this.isInitialRender = true;\n        this.isCancel = false;\n        Pager.Inject(ExternalMessage, PagerDropDown);\n        this.parent = parent;\n        this.pageSettings = pageSettings;\n        this.addEventListener();\n    }\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} returns the module name\n     * @private\n     */\n    Page.prototype.getModuleName = function () {\n        return 'pager';\n    };\n    /**\n     * The function used to render pager from grid pageSettings\n     *\n     * @returns {void}\n     * @hidden\n     */\n    Page.prototype.render = function () {\n        var gObj = this.parent;\n        this.pagerDestroy();\n        if (!isNullOrUndefined(this.parent.pagerTemplate)) {\n            this.pageSettings.template = this.parent.pagerTemplate;\n            this.parent.pageTemplateChange = true;\n        }\n        this.element = this.parent.createElement('div', { className: 'e-gridpager' });\n        var pagerObj = gridExtend({}, extend({}, getActualProperties(this.pageSettings)), {\n            click: this.clickHandler.bind(this),\n            dropDownChanged: this.onSelect.bind(this),\n            enableRtl: gObj.enableRtl, locale: gObj.locale,\n            created: this.addAriaAttr.bind(this)\n        }, ['parentObj', 'propName']);\n        this.pagerObj = new Pager(pagerObj);\n        this.pagerObj.hasParent = true;\n        this.pagerObj.on(events.pagerRefresh, this.renderReactPagerTemplate, this);\n        this.pagerObj.allowServerDataBinding = false;\n    };\n    Page.prototype.onSelect = function (e) {\n        this.pageSettings.pageSize = e.pageSize;\n        if (!this.isInitialLoad) {\n            this.pageSettings.currentPage = 1;\n        }\n    };\n    Page.prototype.addAriaAttr = function () {\n        if (!(this.pageSettings.template)) {\n            var numericContainerNew = this.parent.createElement('div', { className: 'e-numericcontainer' });\n            var pagerContainer = this.element.querySelector('.e-pagercontainer');\n            var frag = document.createDocumentFragment();\n            var numericContainer = this.element.querySelector('.e-numericcontainer');\n            var links = numericContainer.querySelectorAll('a');\n            for (var i = 0; i < links.length; i++) {\n                if (this.parent.getContentTable()) {\n                    links[i].setAttribute('aria-owns', this.parent.getContentTable().id);\n                }\n                else {\n                    links[i].setAttribute('aria-owns', this.parent.element.getAttribute('id') + '_content_table');\n                }\n                var numericContainerDiv = this.parent.createElement('div');\n                numericContainerDiv.appendChild(links[i]);\n                frag.appendChild(numericContainerDiv);\n            }\n            numericContainerNew.appendChild(frag);\n            pagerContainer.replaceChild(numericContainerNew, numericContainer);\n            var classList = ['.e-mfirst', '.e-mprev', '.e-first', '.e-prev', '.e-next', '.e-last', '.e-mnext', '.e-mlast'];\n            for (var j = 0; j < classList.length; j++) {\n                var element = this.element.querySelector(classList[j]);\n                if (this.parent.getContentTable()) {\n                    element.setAttribute('aria-owns', this.parent.getContentTable().id);\n                }\n            }\n        }\n    };\n    Page.prototype.dataReady = function (e) {\n        this.updateModel(e);\n    };\n    /**\n     * Refreshes the page count, pager information, and external message.\n     *\n     * @returns {void}\n     */\n    Page.prototype.refresh = function () {\n        this.pagerObj.refresh();\n    };\n    /**\n     * Navigates to the target page according to the given number.\n     *\n     * @param  {number} pageNo - Defines the page number to navigate.\n     * @returns {void}\n     */\n    Page.prototype.goToPage = function (pageNo) {\n        this.pagerObj.goToPage(pageNo);\n    };\n    /**\n     * @param {number} pageSize - specifies the page size\n     * @returns {void}\n     * @hidden\n     */\n    Page.prototype.setPageSize = function (pageSize) {\n        this.pagerObj.setPageSize(pageSize);\n    };\n    /**\n     * The function used to update pageSettings model\n     *\n     * @param {NotifyArgs} e - specfies the NotifyArgs\n     * @returns {void}\n     * @hidden\n     */\n    Page.prototype.updateModel = function (e) {\n        this.parent.pageSettings.totalRecordsCount = e.count;\n        this.parent.dataBind();\n    };\n    /**\n     * The function used to trigger onActionComplete\n     *\n     * @param {NotifyArgs} e - specifies the NotifyArgs\n     * @returns {void}\n     * @hidden\n     */\n    Page.prototype.onActionComplete = function (e) {\n        this.parent.trigger(events.actionComplete, extend(e, {\n            currentPage: this.parent.pageSettings.currentPage, requestType: 'paging',\n            type: events.actionComplete\n        }));\n    };\n    /**\n     * @param {NotifyArgs} e - specifies the NotifyArgs\n     * @returns {void}\n     * @hidden\n     */\n    Page.prototype.onPropertyChanged = function (e) {\n        if (e.module !== this.getModuleName()) {\n            return;\n        }\n        var newProp = e.properties;\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            this.pagerObj[prop] = newProp[prop];\n        }\n        this.pagerObj.dataBind();\n    };\n    Page.prototype.clickHandler = function (e) {\n        var gObj = this.parent;\n        if (this.isForceCancel || isActionPrevent(gObj) && !gObj.prevPageMoving && !this.isCancel) {\n            if (!this.isForceCancel) {\n                if (!isNullOrUndefined(e.newProp) && !isNullOrUndefined(e.newProp.pageSize)) {\n                    gObj.notify(events.preventBatch, { instance: this, handler: this.setPageSize, arg1: e.newProp.pageSize });\n                    this.pagerObj.pageSize = e.oldProp.pageSize;\n                    gObj.pageSettings.pageSize = e.newProp.pageSize;\n                }\n                else if (e.currentPage) {\n                    gObj.notify(events.preventBatch, { instance: this, handler: this.goToPage, arg1: e.currentPage });\n                    this.pagerObj.currentPage = gObj.pageSettings.currentPage === this.pagerObj.currentPage ?\n                        this.pagerObj.previousPageNo : gObj.pageSettings.currentPage;\n                }\n                this.isForceCancel = true;\n                this.pagerObj.dataBind();\n            }\n            else {\n                this.isForceCancel = false;\n            }\n            e.cancel = true;\n            return;\n        }\n        gObj.pageSettings.pageSize = this.pagerObj.pageSize;\n        gObj.prevPageMoving = false;\n        var prevPage = this.pageSettings.currentPage;\n        this.pageSettings.currentPage = e.currentPage;\n        var args = {\n            cancel: false, requestType: 'paging', previousPage: prevPage,\n            currentPage: e.currentPage, type: events.actionBegin\n        };\n        if (!this.isCancel) {\n            this.parent.notify(events.modelChanged, args);\n        }\n        if (args.cancel) {\n            e.cancel = true;\n            this.pagerObj.currentPage = prevPage;\n            this.isCancel = true;\n            return;\n        }\n        this.isCancel = false;\n        this.parent.requestTypeAction = 'paging';\n    };\n    Page.prototype.keyPressHandler = function (e) {\n        if (e.action in keyActions) {\n            e.preventDefault();\n            this.element.querySelector(keyActions[e.action]).click();\n        }\n    };\n    /**\n     * Defines the text of the external message.\n     *\n     * @param  {string} message - Defines the message to update.\n     * @returns {void}\n     */\n    Page.prototype.updateExternalMessage = function (message) {\n        if (!this.pagerObj.enableExternalMessage) {\n            this.pagerObj.enableExternalMessage = true;\n            this.pagerObj.dataBind();\n        }\n        this.pagerObj.externalMessage = message;\n        this.pagerObj.dataBind();\n    };\n    Page.prototype.appendToElement = function () {\n        this.isInitialLoad = true;\n        this.parent.element.appendChild(this.element);\n        this.parent.setGridPager(this.element);\n        this.pagerObj.isReact = this.parent.isReact;\n        this.pagerObj.isVue = this.parent.isVue;\n        this.pagerObj.appendTo(this.element);\n        this.isInitialLoad = false;\n    };\n    Page.prototype.enableAfterRender = function (e) {\n        if (e.module === this.getModuleName() && e.enable) {\n            this.render();\n            this.appendToElement();\n            if (this.isReactTemplate()) {\n                this.pagerObj.updateTotalPages();\n                this.created();\n            }\n        }\n    };\n    /**\n     * @returns {void}\n     * @hidden\n     */\n    Page.prototype.addEventListener = function () {\n        this.handlers = {\n            load: this.render,\n            end: this.appendToElement,\n            ready: this.dataReady,\n            complete: this.onActionComplete,\n            updateLayout: this.enableAfterRender,\n            inboundChange: this.onPropertyChanged,\n            keyPress: this.keyPressHandler,\n            created: this.created\n        };\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        if (this.parent.isReact || this.parent.isVue) {\n            this.parent.addEventListener(literals.create, this.handlers.created.bind(this));\n        }\n        this.evtHandlers = [{ event: events.initialLoad, handler: this.handlers.load },\n            { event: events.initialEnd, handler: this.handlers.end },\n            { event: events.dataReady, handler: this.handlers.ready },\n            { event: events.pageComplete, handler: this.handlers.complete },\n            { event: events.uiUpdate, handler: this.handlers.updateLayout },\n            { event: events.inBoundModelChanged, handler: this.handlers.inboundChange },\n            { event: events.keyPressed, handler: this.handlers.keyPress },\n            { event: events.destroy, handler: this.destroy }];\n        addRemoveEventListener(this.parent, this.evtHandlers, true, this);\n    };\n    Page.prototype.created = function () {\n        if (this.isInitialRender && this.isReactTemplate()) {\n            this.isInitialRender = false;\n            this.renderReactPagerTemplate();\n        }\n    };\n    Page.prototype.isReactTemplate = function () {\n        return (this.parent.isReact || this.parent.isVue) && this.pagerObj.template && typeof (this.pagerObj.template) !== 'string';\n    };\n    Page.prototype.renderReactPagerTemplate = function () {\n        if (!this.isInitialRender && this.isReactTemplate()) {\n            var result = void 0;\n            this.parent.destroyTemplate(['pagerTemplate']);\n            this.element.classList.add('e-pagertemplate');\n            this.pagerObj.compile(this.pagerObj.template);\n            var page = this.parent.pageSettings;\n            var data = {\n                currentPage: page.currentPage, pageSize: page.pageSize, pageCount: page.pageCount,\n                totalRecordsCount: page.totalRecordsCount, totalPages: this.pagerObj.totalPages\n            };\n            var tempId = this.parent.id + '_pagertemplate';\n            if (this.parent.isReact) {\n                this.pagerObj.templateFn(data, this.parent, 'pagerTemplate', tempId, null, null, this.pagerObj.element);\n                this.parent.renderTemplates();\n            }\n            else {\n                result = this.pagerObj.templateFn(data, this.parent, 'pagerTemplate');\n                appendChildren(this.pagerObj.element, result);\n            }\n        }\n    };\n    /**\n     * @returns {void}\n     * @hidden\n     */\n    Page.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        if (this.parent.isReact || this.parent.isVue) {\n            this.parent.removeEventListener(literals.create, this.handlers.created);\n        }\n        this.parent.off(events.pagerRefresh, this.renderReactPagerTemplate);\n        addRemoveEventListener(this.parent, this.evtHandlers, false);\n    };\n    /**\n     * To destroy the pager\n     *\n     * @returns {void}\n     * @hidden\n     */\n    Page.prototype.destroy = function () {\n        this.removeEventListener();\n        if (this.isReactTemplate()) {\n            this.parent.destroyTemplate(['pagerTemplate']);\n        }\n        this.pagerObj.destroy();\n    };\n    Page.prototype.pagerDestroy = function () {\n        if (this.pagerObj && !this.pagerObj.isDestroyed) {\n            this.pagerObj.destroy();\n            remove(this.element);\n        }\n    };\n    return Page;\n}());\nexport { Page };\n/**\n * @hidden\n */\nvar keyActions = {\n    pageUp: '.e-prev',\n    pageDown: '.e-next',\n    ctrlAltPageDown: '.e-last',\n    ctrlAltPageUp: '.e-first',\n    altPageUp: '.e-pp',\n    altPageDown: '.e-np'\n};\n","import { print as printWindow, createElement, detach, classList, selectAll, extend } from '@syncfusion/ej2-base';\nimport { getPrintGridModel } from '../base/util';\nimport { Grid } from '../base/grid';\nimport * as events from '../base/constant';\nimport { Deferred } from '@syncfusion/ej2-data';\nimport * as literals from '../base/string-literals';\n/**\n * @returns {string[]} returns the cloned property\n * @hidden\n */\nexport function getCloneProperties() {\n    return ['aggregates', 'allowGrouping', 'allowFiltering', 'allowMultiSorting', 'allowReordering', 'allowSorting',\n        'allowTextWrap', 'childGrid', 'columns', 'currentViewData', 'dataSource', 'detailTemplate', 'enableAltRow',\n        'enableColumnVirtualization', 'filterSettings', 'gridLines',\n        'groupSettings', 'height', 'locale', 'pageSettings', 'printMode', 'query', 'queryString', 'enableRtl',\n        'rowHeight', 'rowTemplate', 'sortSettings', 'textWrapSettings', 'allowPaging', 'hierarchyPrintMode', 'searchSettings',\n        'queryCellInfo', 'beforeDataBound'];\n}\n/**\n *\n * The `Print` module is used to handle print action.\n */\nvar Print = /** @class */ (function () {\n    /**\n     * Constructor for the Grid print module\n     *\n     * @param {IGrid} parent - specifies the IGrid\n     * @param {Scroll} scrollModule - specifies the scroll module\n     * @hidden\n     */\n    function Print(parent, scrollModule) {\n        this.isAsyncPrint = false;\n        this.defered = new Deferred();\n        this.parent = parent;\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.on(events.contentReady, this.isContentReady(), this);\n        this.actionBeginFunction = this.actionBegin.bind(this);\n        this.parent.addEventListener(events.actionBegin, this.actionBeginFunction);\n        this.parent.on(events.onEmpty, this.onEmpty.bind(this));\n        this.parent.on(events.hierarchyPrint, this.hierarchyPrint, this);\n        this.scrollModule = scrollModule;\n    }\n    Print.prototype.isContentReady = function () {\n        var _this = this;\n        if (this.isPrintGrid() && (this.parent.hierarchyPrintMode === 'None' || !this.parent.childGrid)) {\n            return this.contentReady;\n        }\n        return function () {\n            _this.defered.promise.then(function () {\n                _this.contentReady();\n            });\n            if (_this.isPrintGrid()) {\n                _this.hierarchyPrint();\n            }\n        };\n    };\n    Print.prototype.hierarchyPrint = function () {\n        this.removeColGroup(this.parent);\n        var printGridObj = window.printGridObj;\n        if (printGridObj && !printGridObj.element.querySelector('[aria-busy=true')) {\n            printGridObj.printModule.defered.resolve();\n        }\n    };\n    /**\n     * By default, prints all the Grid pages and hides the pager.\n     * > You can customize print options using the\n     * [`printMode`](grid/#printmode-string/).\n     *\n     * @returns {void}\n     */\n    Print.prototype.print = function () {\n        this.renderPrintGrid();\n    };\n    Print.prototype.onEmpty = function () {\n        if (this.isPrintGrid()) {\n            this.contentReady();\n        }\n    };\n    Print.prototype.actionBegin = function () {\n        if (this.isPrintGrid()) {\n            this.isAsyncPrint = true;\n        }\n    };\n    Print.prototype.renderPrintGrid = function () {\n        var gObj = this.parent;\n        var element = createElement('div', {\n            id: this.parent.element.id + '_print', className: gObj.element.className + ' e-print-grid'\n        });\n        element.classList.remove('e-gridhover');\n        document.body.appendChild(element);\n        var printGrid = new Grid(getPrintGridModel(gObj, gObj.hierarchyPrintMode));\n        for (var i = 0; i < printGrid.columns.length; i++) {\n            printGrid.columns[i] = extend({}, printGrid.columns[i]);\n            if (gObj.isFrozenGrid() && !gObj.getFrozenColumns()) {\n                printGrid.columns[i].freeze = undefined;\n            }\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (this.parent.isAngular) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            printGrid.viewContainerRef = this.parent.viewContainerRef;\n        }\n        // eslint-disable-next-line @typescript-eslint/no-empty-function\n        printGrid.load = function () { };\n        printGrid.query = gObj.getQuery().clone();\n        window.printGridObj = printGrid;\n        printGrid.isPrinting = true;\n        var modules = printGrid.getInjectedModules();\n        var injectedModues = gObj.getInjectedModules();\n        if (!modules || modules.length !== injectedModues.length) {\n            printGrid.setInjectedModules(injectedModues);\n        }\n        gObj.notify(events.printGridInit, { element: element, printgrid: printGrid });\n        this.parent.log('exporting_begin', this.getModuleName());\n        printGrid.registeredTemplate = this.parent.registeredTemplate;\n        printGrid.isVue = this.parent.isVue;\n        printGrid.appendTo(element);\n        printGrid.trigger = gObj.trigger;\n    };\n    Print.prototype.contentReady = function () {\n        if (this.isPrintGrid()) {\n            var gObj = this.parent;\n            if (this.isAsyncPrint) {\n                this.printGrid();\n                return;\n            }\n            var args = {\n                requestType: 'print',\n                element: gObj.element,\n                selectedRows: gObj.getContentTable().querySelectorAll('tr[aria-selected=\"true\"]'),\n                cancel: false,\n                hierarchyPrintMode: gObj.hierarchyPrintMode\n            };\n            if (!this.isAsyncPrint) {\n                gObj.trigger(events.beforePrint, args);\n            }\n            if (args.cancel) {\n                detach(gObj.element);\n                return;\n            }\n            if (!this.isAsyncPrint) {\n                this.printGrid();\n            }\n        }\n    };\n    Print.prototype.printGrid = function () {\n        var gObj = this.parent;\n        // Height adjustment on print grid\n        if (gObj.height !== 'auto') { // if scroller enabled\n            var cssProps = this.scrollModule.getCssProperties();\n            var contentDiv = gObj.element.querySelector('.' + literals.content);\n            var headerDiv = gObj.element.querySelector('.' + literals.gridHeader);\n            contentDiv.style.height = 'auto';\n            contentDiv.style.overflowY = 'auto';\n            headerDiv.style[cssProps.padding] = '';\n            headerDiv.firstElementChild.style[cssProps.border] = '';\n        }\n        // Grid alignment adjustment on grouping\n        if (gObj.allowGrouping) {\n            if (!gObj.groupSettings.columns.length) {\n                gObj.element.querySelector('.e-groupdroparea').style.display = 'none';\n            }\n            else {\n                this.removeColGroup(gObj);\n            }\n        }\n        // hide horizontal scroll\n        for (var _i = 0, _a = [].slice.call(gObj.element.getElementsByClassName(literals.content)); _i < _a.length; _i++) {\n            var element = _a[_i];\n            element.style.overflowX = 'hidden';\n        }\n        // Hide the waiting popup\n        var waitingPop = [].slice.call(gObj.element.getElementsByClassName('e-spin-show'));\n        for (var _b = 0, _c = [].slice.call(waitingPop); _b < _c.length; _b++) {\n            var element = _c[_b];\n            classList(element, ['e-spin-hide'], ['e-spin-show']);\n        }\n        this.printGridElement(gObj);\n        gObj.isPrinting = false;\n        delete window.printGridObj;\n        var args = {\n            element: gObj.element\n        };\n        gObj.trigger(events.printComplete, args);\n        gObj.destroy();\n        this.parent.log('exporting_complete', this.getModuleName());\n    };\n    Print.prototype.printGridElement = function (gObj) {\n        classList(gObj.element, ['e-print-grid-layout'], ['e-print-grid']);\n        if (gObj.isPrinting) {\n            detach(gObj.element);\n        }\n        this.printWind = window.open('', 'print', 'height=' + window.outerHeight + ',width=' + window.outerWidth + ',tabbar=no');\n        this.printWind.moveTo(0, 0);\n        this.printWind.resizeTo(screen.availWidth, screen.availHeight);\n        this.printWind = printWindow(gObj.element, this.printWind);\n    };\n    Print.prototype.removeColGroup = function (gObj) {\n        var depth = gObj.groupSettings.columns.length;\n        var element = gObj.element;\n        var id = '#' + gObj.element.id;\n        if (!depth) {\n            return;\n        }\n        var groupCaption = selectAll(id + \"captioncell.e-groupcaption\", element);\n        var colSpan = groupCaption[depth - 1].getAttribute('colspan');\n        for (var i = 0; i < groupCaption.length; i++) {\n            groupCaption[i].setAttribute('colspan', colSpan);\n        }\n        var colGroups = selectAll(\"colgroup\" + id + \"colgroup\", element);\n        var contentColGroups = selectAll('.e-content colgroup', element);\n        this.hideColGroup(colGroups, depth);\n        this.hideColGroup(contentColGroups, depth);\n    };\n    Print.prototype.hideColGroup = function (colGroups, depth) {\n        for (var i = 0; i < colGroups.length; i++) {\n            for (var j = 0; j < depth; j++) {\n                colGroups[i].children[j].style.display = 'none';\n            }\n        }\n    };\n    /**\n     * To destroy the print\n     *\n     * @returns {boolean} returns the isPrintGrid or not\n     * @hidden\n     */\n    Print.prototype.isPrintGrid = function () {\n        return this.parent.element.id.indexOf('_print') > 0 && this.parent.isPrinting;\n    };\n    /**\n     * To destroy the print\n     *\n     * @returns {void}\n     * @hidden\n     */\n    Print.prototype.destroy = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off(events.contentReady, this.contentReady.bind(this));\n        this.parent.removeEventListener(events.actionBegin, this.actionBeginFunction);\n        this.parent.off(events.onEmpty, this.onEmpty.bind(this));\n        this.parent.off(events.hierarchyPrint, this.hierarchyPrint);\n    };\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} returns the module name\n     * @private\n     */\n    Print.prototype.getModuleName = function () {\n        return 'print';\n    };\n    Print.printGridProp = getCloneProperties().concat([events.beforePrint, events.printComplete, events.load]);\n    return Print;\n}());\nexport { Print };\n","import { extend, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport * as events from '../base/constant';\nimport { isActionPrevent } from '../base/util';\n/**\n * The `Search` module is used to handle search action.\n */\nvar Search = /** @class */ (function () {\n    /**\n     * Constructor for Grid search module.\n     *\n     * @param {IGrid} parent - specifies the IGrid\n     * @hidden\n     */\n    function Search(parent) {\n        this.parent = parent;\n        this.addEventListener();\n    }\n    /**\n     * Searches Grid records by given key.\n     *\n     * > You can customize the default search action by using [`searchSettings`](grid/#searchsettings/).\n     *\n     * @param  {string} searchString - Defines the key.\n     * @returns {void}\n     */\n    Search.prototype.search = function (searchString) {\n        var gObj = this.parent;\n        searchString = isNullOrUndefined(searchString) ? '' : searchString;\n        if (isActionPrevent(gObj)) {\n            gObj.notify(events.preventBatch, { instance: this, handler: this.search, arg1: searchString });\n            return;\n        }\n        if (searchString !== gObj.searchSettings.key) {\n            gObj.searchSettings.key = searchString.toString();\n            gObj.dataBind();\n        }\n        else if (this.refreshSearch) {\n            gObj.refresh();\n        }\n    };\n    /**\n     * @returns {void}\n     * @hidden\n     */\n    Search.prototype.addEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.on(events.inBoundModelChanged, this.onPropertyChanged, this);\n        this.parent.on(events.searchComplete, this.onSearchComplete, this);\n        this.parent.on(events.destroy, this.destroy, this);\n        this.actionCompleteFunc = this.onActionComplete.bind(this);\n        this.parent.addEventListener(events.actionComplete, this.actionCompleteFunc);\n        this.parent.on(events.cancelBegin, this.cancelBeginEvent, this);\n    };\n    /**\n     * @returns {void}\n     * @hidden\n     */\n    Search.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off(events.inBoundModelChanged, this.onPropertyChanged);\n        this.parent.off(events.searchComplete, this.onSearchComplete);\n        this.parent.off(events.destroy, this.destroy);\n        this.parent.removeEventListener(events.actionComplete, this.actionCompleteFunc);\n        this.parent.off(events.cancelBegin, this.cancelBeginEvent);\n    };\n    /**\n     * To destroy the print\n     *\n     * @returns {void}\n     * @hidden\n     */\n    Search.prototype.destroy = function () {\n        this.removeEventListener();\n    };\n    /**\n     * @param {NotifyArgs} e - specfies the NotifyArgs\n     * @returns {void}\n     * @hidden\n     */\n    Search.prototype.onPropertyChanged = function (e) {\n        if (e.module !== this.getModuleName()) {\n            return;\n        }\n        if (!isNullOrUndefined(e.properties.key)) {\n            this.parent.notify(events.modelChanged, {\n                requestType: 'searching', type: events.actionBegin, searchString: this.parent.searchSettings.key\n            });\n        }\n        else {\n            this.parent.notify(events.modelChanged, {\n                requestType: 'searching', type: events.actionBegin\n            });\n        }\n    };\n    /**\n     * The function used to trigger onActionComplete\n     *\n     * @param {NotifyArgs} e - specifies the NotifyArgs\n     * @returns {void}\n     * @hidden\n     */\n    Search.prototype.onSearchComplete = function (e) {\n        this.parent.trigger(events.actionComplete, extend(e, {\n            searchString: this.parent.searchSettings.key, requestType: 'searching', type: events.actionComplete\n        }));\n    };\n    /**\n     * The function used to store the requestType\n     *\n     * @param {NotifyArgs} e - specifies the NotifyArgs\n     * @returns {void}\n     * @hidden\n     */\n    Search.prototype.onActionComplete = function (e) {\n        this.refreshSearch = e.requestType !== 'searching';\n    };\n    Search.prototype.cancelBeginEvent = function (e) {\n        if (e.requestType === 'searching') {\n            this.parent.setProperties({ searchSettings: { key: '' } }, true);\n        }\n    };\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} returns the module name\n     * @private\n     */\n    Search.prototype.getModuleName = function () {\n        return 'search';\n    };\n    return Search;\n}());\nexport { Search };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { Browser, EventHandler, createElement } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, isUndefined, addClass, removeClass } from '@syncfusion/ej2-base';\nimport { remove, closest, select } from '@syncfusion/ej2-base';\nimport { Query } from '@syncfusion/ej2-data';\nimport { setCssInGridPopUp, getPosition, isGroupAdaptive, addRemoveActiveClasses, removeAddCboxClasses } from '../base/util';\nimport { getCellsByTableName, getCellByColAndRowIndex, parentsUntil, gridActionHandler } from '../base/util';\nimport * as events from '../base/constant';\nimport { RenderType } from '../base/enum';\nimport { iterateExtend, setChecked } from '../base/util';\nimport { addRemoveEventListener } from '../base/util';\nimport * as literals from '../base/string-literals';\n/**\n * The `Selection` module is used to handle cell and row selection.\n */\nvar Selection = /** @class */ (function () {\n    /**\n     * Constructor for the Grid selection module\n     *\n     * @param {IGrid} parent - specifies the IGrid\n     * @param {SelectionSettings} selectionSettings - specifies the selectionsettings\n     * @param {ServiceLocator} locator - specifies the ServiceLocator\n     * @hidden\n     */\n    function Selection(parent, selectionSettings, locator) {\n        //Internal letiables\n        /**\n         * @hidden\n         */\n        this.selectedRowIndexes = [];\n        /**\n         * @hidden\n         */\n        this.selectedRowCellIndexes = [];\n        /**\n         * @hidden\n         */\n        this.selectedRecords = [];\n        /**\n         * @hidden\n         */\n        this.preventFocus = false;\n        /**\n         *  @hidden\n         */\n        this.selectedColumnsIndexes = [];\n        this.checkBoxState = false;\n        this.isMultiShiftRequest = false;\n        this.isMultiCtrlRequest = false;\n        this.enableSelectMultiTouch = false;\n        this.clearRowCheck = false;\n        this.selectRowCheck = false;\n        this.selectedRowState = {};\n        this.totalRecordsCount = 0;\n        this.chkAllCollec = [];\n        this.isCheckedOnAdd = false;\n        this.persistSelectedData = [];\n        this.deSelectedData = [];\n        this.needColumnSelection = false;\n        this.isCancelDeSelect = false;\n        this.isPreventCellSelect = false;\n        this.disableUI = false;\n        this.isPersisted = false;\n        this.cmdKeyPressed = false;\n        this.cellselected = false;\n        this.isMultiSelection = false;\n        this.isAddRowsToSelection = false;\n        this.initialRowSelection = false;\n        this.isPrevRowSelection = false;\n        this.isKeyAction = false;\n        this.isRowDragSelected = false;\n        /**\n         * @hidden\n         */\n        this.autoFillRLselection = true;\n        this.bottom = '0 0 2px 0';\n        this.top = '2px 0 0 0';\n        /* eslint-disable */\n        this.right_bottom = '0 2px 2px 0';\n        this.bottom_left = '0 0 2px 2px';\n        this.top_right = '2px 2px 0 0';\n        this.top_left = '2px 0 0 2px';\n        this.top_bottom = '2px 0 2px 0';\n        this.top_right_bottom = '2px 2px 2px 0';\n        this.top_bottom_left = '2px 0 2px 2px';\n        this.top_right_left = '2px 2px 0 2px';\n        this.right_bottom_left = '0 2px 2px 2px';\n        this.all_border = '2px';\n        this.parent = parent;\n        this.selectionSettings = selectionSettings;\n        this.factory = locator.getService('rendererFactory');\n        this.focus = locator.getService('focus');\n        this.addEventListener();\n        this.wireEvents();\n    }\n    Selection.prototype.initializeSelection = function () {\n        this.parent.log('selection_key_missing');\n        this.render();\n    };\n    /**\n     * The function used to trigger onActionBegin\n     *\n     * @param {Object} args - specifies the args\n     * @param {string} type - specifies the type\n     * @returns {void}\n     * @hidden\n     */\n    Selection.prototype.onActionBegin = function (args, type) {\n        this.parent.trigger(type, this.fDataUpdate(args));\n    };\n    Selection.prototype.fDataUpdate = function (args) {\n        if (!this.isMultiSelection && (!isNullOrUndefined(args.cellIndex) || !isNullOrUndefined(args.rowIndex))) {\n            var rowObj = this.getRowObj(isNullOrUndefined(args.rowIndex) ? isNullOrUndefined(args.cellIndex) ?\n                this.currentIndex : args.cellIndex.rowIndex : args.rowIndex);\n            args.foreignKeyData = rowObj.foreignKeyData;\n        }\n        return args;\n    };\n    /**\n     * The function used to trigger onActionComplete\n     *\n     * @param {Object} args - specifies the args\n     * @param {string} type - specifies the type\n     * @returns {void}\n     * @hidden\n     */\n    Selection.prototype.onActionComplete = function (args, type) {\n        this.parent.trigger(type, this.fDataUpdate(args));\n        this.isMultiSelection = false;\n    };\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} returns the module name\n     * @private\n     */\n    Selection.prototype.getModuleName = function () {\n        return 'selection';\n    };\n    /**\n     * To destroy the selection\n     *\n     * @returns {void}\n     * @hidden\n     */\n    Selection.prototype.destroy = function () {\n        var gridElement = this.parent.element;\n        if (!gridElement || (!gridElement.querySelector('.' + literals.gridHeader) && !gridElement.querySelector('.' + literals.gridContent))) {\n            return;\n        }\n        this.hidePopUp();\n        this.clearSelection();\n        this.removeEventListener();\n        this.unWireEvents();\n        EventHandler.remove(this.parent.getContent(), 'mousedown', this.mouseDownHandler);\n        EventHandler.remove(this.parent.getHeaderContent(), 'mousedown', this.mouseDownHandler);\n    };\n    Selection.prototype.isEditing = function () {\n        return (this.parent.editSettings.mode === 'Normal' || (this.parent.editSettings.mode === 'Batch' && this.parent.editModule &&\n            this.parent.editModule.formObj && !this.parent.editModule.formObj.validate())) &&\n            this.parent.isEdit && !this.parent.isPersistSelection;\n    };\n    Selection.prototype.getSelectedMovableRow = function (index) {\n        var gObj = this.parent;\n        if (gObj.isFrozenGrid() && this.parent.getContent().querySelector('.' + literals.movableContent)) {\n            return gObj.getMovableRowByIndex(index);\n        }\n        return null;\n    };\n    Selection.prototype.getSelectedFrozenRightRow = function (index) {\n        var gObj = this.parent;\n        if (gObj.isFrozenGrid() && gObj.getFrozenMode() === literals.leftRight && gObj.getFrozenRightContent()) {\n            return gObj.getFrozenRightRowByIndex(index);\n        }\n        return null;\n    };\n    Selection.prototype.getCurrentBatchRecordChanges = function () {\n        var gObj = this.parent;\n        if (gObj.editSettings.mode === 'Batch' && gObj.editModule) {\n            var currentRecords = iterateExtend(this.parent.getCurrentViewRecords());\n            currentRecords = gObj.editSettings.newRowPosition === 'Bottom' ?\n                currentRecords.concat(this.parent.editModule.getBatchChanges()[literals.addedRecords]) :\n                this.parent.editModule.getBatchChanges()[literals.addedRecords].concat(currentRecords);\n            var deletedRecords = this.parent.editModule.getBatchChanges()[literals.deletedRecords];\n            var primaryKey = this.parent.getPrimaryKeyFieldNames()[0];\n            for (var i = 0; i < (deletedRecords.length); i++) {\n                for (var j = 0; j < currentRecords.length; j++) {\n                    if (deletedRecords[i][primaryKey] === currentRecords[j][primaryKey]) {\n                        currentRecords.splice(j, 1);\n                        break;\n                    }\n                }\n            }\n            return currentRecords;\n        }\n        else {\n            return gObj.getCurrentViewRecords();\n        }\n    };\n    /**\n     * Selects a row by the given index.\n     *\n     * @param  {number} index - Defines the row index.\n     * @param  {boolean} isToggle - If set to true, then it toggles the selection.\n     * @returns {void}\n     */\n    Selection.prototype.selectRow = function (index, isToggle) {\n        if (this.selectedRowIndexes.length && this.selectionSettings.enableSimpleMultiRowSelection) {\n            this.addRowsToSelection([index]);\n            return;\n        }\n        var gObj = this.parent;\n        var selectedRow = gObj.getRowByIndex(index);\n        var selectedMovableRow = this.getSelectedMovableRow(index);\n        var selectedFrozenRightRow = this.getSelectedFrozenRightRow(index);\n        var selectData;\n        var isRemoved = false;\n        if (gObj.enableVirtualization && index > -1) {\n            var e = { selectedIndex: index, isAvailable: true };\n            this.parent.notify(events.selectVirtualRow, e);\n            var frozenData = gObj.isFrozenGrid() ? gObj.contentModule.getRowObjectByIndex(index)\n                : null;\n            if (selectedRow && (gObj.getRowObjectFromUID(selectedRow.getAttribute('data-uid')) || frozenData)) {\n                selectData = frozenData ? frozenData : gObj.getRowObjectFromUID(selectedRow.getAttribute('data-uid')).data;\n            }\n            else {\n                if (e.isAvailable && !gObj.selectionSettings.persistSelection) {\n                    var prevSelectedData = this.parent.getSelectedRecords();\n                    if (prevSelectedData.length > 0) {\n                        this.clearRowSelection();\n                    }\n                }\n                return;\n            }\n        }\n        else {\n            selectData = this.getRowObj(index).data;\n        }\n        if (!this.isRowType() || !selectedRow || this.isEditing()) {\n            // if (this.isEditing()) {\n            //     gObj.selectedRowIndex = index;\n            // }\n            return;\n        }\n        var isRowSelected = selectedRow.hasAttribute('aria-selected');\n        this.activeTarget();\n        isToggle = !isToggle ? isToggle :\n            !this.selectedRowIndexes.length ? false :\n                (this.selectedRowIndexes.length === 1 ? (this.isKeyAction && this.parent.isCheckBoxSelection ?\n                    false : index === this.selectedRowIndexes[0]) : false);\n        this.isKeyAction = false;\n        var args;\n        var can = 'cancel';\n        if (!isToggle) {\n            args = {\n                data: selectData, rowIndex: index, isCtrlPressed: this.isMultiCtrlRequest,\n                isShiftPressed: this.isMultiShiftRequest, row: selectedRow,\n                previousRow: gObj.getRowByIndex(this.prevRowIndex),\n                previousRowIndex: this.prevRowIndex, target: this.actualTarget, cancel: false, isInteracted: this.isInteracted,\n                isHeaderCheckboxClicked: this.isHeaderCheckboxClicked\n            };\n            args = this.addMovableArgs(args, selectedMovableRow, selectedFrozenRightRow);\n            this.parent.trigger(events.rowSelecting, this.fDataUpdate(args), this.rowSelectingCallBack(args, isToggle, index, selectData, isRemoved, isRowSelected, can));\n        }\n        else {\n            this.rowSelectingCallBack(args, isToggle, index, selectData, isRemoved, isRowSelected, can)(args);\n        }\n    };\n    Selection.prototype.rowSelectingCallBack = function (args, isToggle, index, selectData, isRemoved, isRowSelected, can) {\n        var _this = this;\n        return function (args) {\n            if (!isNullOrUndefined(args) && args[can] === true) {\n                _this.disableInteracted();\n                return;\n            }\n            _this.index = index;\n            _this.toggle = isToggle;\n            _this.data = selectData;\n            _this.removed = isRemoved;\n            if (isRowSelected && _this.selectionSettings.persistSelection && !(_this.selectionSettings.checkboxMode === 'ResetOnRowClick')) {\n                _this.clearSelectedRow(index);\n                _this.selectRowCallBack();\n            }\n            else if (!isRowSelected && _this.selectionSettings.persistSelection &&\n                _this.selectionSettings.checkboxMode !== 'ResetOnRowClick') {\n                _this.selectRowCallBack();\n            }\n            if (_this.selectionSettings.checkboxMode === 'ResetOnRowClick') {\n                _this.clearSelection();\n            }\n            if (!_this.selectionSettings.persistSelection || _this.selectionSettings.checkboxMode === 'ResetOnRowClick' ||\n                (!_this.parent.isCheckBoxSelection && _this.selectionSettings.persistSelection)) {\n                _this.selectRowCheck = true;\n                _this.clearRow();\n            }\n        };\n    };\n    Selection.prototype.selectRowCallBack = function () {\n        var gObj = this.parent;\n        var args;\n        var index = this.index;\n        var isToggle = this.toggle;\n        var selectData = this.data;\n        var isRemoved = this.removed;\n        var selectedRow = gObj.getRowByIndex(index);\n        var selectedMovableRow = this.getSelectedMovableRow(index);\n        var selectedFrozenRightRow = this.getSelectedFrozenRightRow(index);\n        if (!isToggle && !isRemoved) {\n            if (this.selectedRowIndexes.indexOf(index) <= -1) {\n                this.updateRowSelection(selectedRow, index);\n                this.selectMovableRow(selectedMovableRow, selectedFrozenRightRow, index);\n            }\n            this.selectRowIndex(index);\n        }\n        if (!isToggle) {\n            args = {\n                data: selectData, rowIndex: index,\n                row: selectedRow, previousRow: gObj.getRowByIndex(this.prevRowIndex),\n                previousRowIndex: this.prevRowIndex, target: this.actualTarget, isInteracted: this.isInteracted,\n                isHeaderCheckBoxClicked: this.isHeaderCheckboxClicked\n            };\n            args = this.addMovableArgs(args, selectedMovableRow, selectedFrozenRightRow);\n            this.onActionComplete(args, events.rowSelected);\n        }\n        this.isInteracted = false;\n        this.updateRowProps(index);\n    };\n    Selection.prototype.selectMovableRow = function (selectedMovableRow, selectedFrozenRightRow, index) {\n        if (this.parent.isFrozenGrid()) {\n            this.updateRowSelection(selectedMovableRow, index);\n            if (this.parent.getFrozenMode() === literals.leftRight && selectedFrozenRightRow) {\n                this.updateRowSelection(selectedFrozenRightRow, index);\n            }\n        }\n    };\n    Selection.prototype.addMovableArgs = function (targetObj, mRow, frRow) {\n        if (this.parent.isFrozenGrid()) {\n            var mObj = { mRow: mRow, previousMovRow: this.parent.getMovableRows()[this.prevRowIndex] };\n            var frozenRightRow = 'frozenRightRow';\n            var previousFrozenRightRow = 'previousFrozenRightRow';\n            if (this.parent.getFrozenMode() === literals.leftRight && frRow) {\n                mObj[frozenRightRow] = frRow;\n                mObj[previousFrozenRightRow] = this.parent.getFrozenRightDataRows()[this.prevRowIndex];\n            }\n            targetObj = __assign({}, targetObj, mObj);\n        }\n        return targetObj;\n    };\n    /**\n     * Selects a range of rows from start and end row indexes.\n     *\n     * @param  {number} startIndex - Specifies the start row index.\n     * @param  {number} endIndex - Specifies the end row index.\n     * @returns {void}\n     */\n    Selection.prototype.selectRowsByRange = function (startIndex, endIndex) {\n        this.selectRows(this.getCollectionFromIndexes(startIndex, endIndex));\n        this.selectRowIndex(endIndex);\n    };\n    Selection.prototype.selectedDataUpdate = function (selectedData, foreignKeyData, selectedRows, rowIndexes) {\n        for (var i = 0, len = rowIndexes.length; i < len; i++) {\n            var currentRow = this.parent.getDataRows()[rowIndexes[i]];\n            var rowObj = this.getRowObj(currentRow);\n            if (rowObj) {\n                selectedData.push(rowObj.data);\n                selectedRows.push(currentRow);\n                foreignKeyData.push(rowObj.foreignKeyData);\n            }\n        }\n    };\n    /**\n     * Selects a collection of rows by index.\n     *\n     * @param  {number[]} rowIndexes - Specifies an array of row indexes.\n     * @returns {void}\n     */\n    Selection.prototype.selectRows = function (rowIndexes) {\n        var _this = this;\n        var gObj = this.parent;\n        var rowIndex = !this.isSingleSel() ? rowIndexes[0] : rowIndexes[rowIndexes.length - 1];\n        this.isMultiSelection = true;\n        var selectedRows = [];\n        var foreignKeyData = [];\n        var selectedMovableRow = this.getSelectedMovableRow(rowIndex);\n        var selectedFrozenRightRow = this.getSelectedFrozenRightRow(rowIndex);\n        var can = 'cancel';\n        var selectedData = [];\n        if (!this.isRowType() || this.isEditing()) {\n            return;\n        }\n        this.selectedDataUpdate(selectedData, foreignKeyData, selectedRows, rowIndexes);\n        this.activeTarget();\n        var args = {\n            cancel: false,\n            rowIndexes: rowIndexes, row: selectedRows, rowIndex: rowIndex, target: this.actualTarget,\n            prevRow: gObj.getRows()[this.prevRowIndex], previousRowIndex: this.prevRowIndex,\n            isInteracted: this.isInteracted, isCtrlPressed: this.isMultiCtrlRequest, isShiftPressed: this.isMultiShiftRequest,\n            data: selectedData, isHeaderCheckboxClicked: this.isHeaderCheckboxClicked, foreignKeyData: foreignKeyData\n        };\n        args = this.addMovableArgs(args, selectedMovableRow, selectedFrozenRightRow);\n        this.parent.trigger(events.rowSelecting, this.fDataUpdate(args), function (args) {\n            if (!isNullOrUndefined(args) && args[can] === true) {\n                _this.disableInteracted();\n                return;\n            }\n            _this.clearRow();\n            _this.selectRowIndex(rowIndexes.slice(-1)[0]);\n            var selectRowFn = function (index) {\n                _this.updateRowSelection(gObj.getRowByIndex(index), index);\n                if (gObj.isFrozenGrid()) {\n                    var rightEle = _this.parent.getFrozenMode() === literals.leftRight ? gObj.getFrozenRightRowByIndex(index)\n                        : undefined;\n                    _this.selectMovableRow(gObj.getMovableRowByIndex(index), rightEle, index);\n                }\n                _this.updateRowProps(rowIndex);\n            };\n            if (!_this.isSingleSel()) {\n                for (var _i = 0, rowIndexes_1 = rowIndexes; _i < rowIndexes_1.length; _i++) {\n                    var rowIdx = rowIndexes_1[_i];\n                    selectRowFn(rowIdx);\n                }\n            }\n            else {\n                selectRowFn(rowIndex);\n            }\n            args = {\n                rowIndexes: rowIndexes, row: selectedRows, rowIndex: rowIndex, target: _this.actualTarget,\n                prevRow: gObj.getRows()[_this.prevRowIndex], previousRowIndex: _this.prevRowIndex,\n                data: _this.getSelectedRecords(), isInteracted: _this.isInteracted,\n                isHeaderCheckboxClicked: _this.isHeaderCheckboxClicked, foreignKeyData: foreignKeyData\n            };\n            args = _this.addMovableArgs(args, selectedMovableRow, selectedFrozenRightRow);\n            if (_this.isRowSelected) {\n                _this.onActionComplete(args, events.rowSelected);\n            }\n            _this.isInteracted = false;\n        });\n    };\n    /**\n     * Select rows with existing row selection by passing row indexes.\n     *\n     * @param {number} rowIndexes - Specifies the row indexes.\n     * @returns {void}\n     * @hidden\n     */\n    Selection.prototype.addRowsToSelection = function (rowIndexes) {\n        var gObj = this.parent;\n        var can = 'cancel';\n        var target = this.target;\n        this.isMultiSelection = true;\n        var selectedRows = [];\n        var foreignKeyData = [];\n        var selectedData = [];\n        var indexes = gObj.getSelectedRowIndexes().concat(rowIndexes);\n        var selectedRow = !this.isSingleSel() ? gObj.getRowByIndex(rowIndexes[0]) :\n            gObj.getRowByIndex(rowIndexes[rowIndexes.length - 1]);\n        var selectedMovableRow = !this.isSingleSel() ? this.getSelectedMovableRow(rowIndexes[0]) :\n            this.getSelectedMovableRow(rowIndexes[rowIndexes.length - 1]);\n        var selectedFrozenRightRow = !this.isSingleSel() ? this.getSelectedFrozenRightRow(rowIndexes[0]) :\n            this.getSelectedFrozenRightRow(rowIndexes[rowIndexes.length - 1]);\n        if ((!this.isRowType() || this.isEditing()) && !this.selectionSettings.checkboxOnly) {\n            return;\n        }\n        var args;\n        var checkboxColumn = this.parent.getColumns().filter(function (col) { return col.type === 'checkbox'; });\n        if (this.isMultiCtrlRequest && !checkboxColumn.length) {\n            this.selectedDataUpdate(selectedData, foreignKeyData, selectedRows, indexes);\n        }\n        for (var _i = 0, rowIndexes_2 = rowIndexes; _i < rowIndexes_2.length; _i++) {\n            var rowIndex = rowIndexes_2[_i];\n            var rowObj = this.getRowObj(rowIndex);\n            var isUnSelected = this.selectedRowIndexes.indexOf(rowIndex) > -1;\n            this.selectRowIndex(rowIndex);\n            if (isUnSelected && ((checkboxColumn.length ? true : this.selectionSettings.enableToggle) || this.isMultiCtrlRequest)) {\n                this.isAddRowsToSelection = true;\n                this.rowDeselect(events.rowDeselecting, [rowIndex], [rowObj.data], [selectedRow], [rowObj.foreignKeyData], target);\n                if (this.isCancelDeSelect) {\n                    return;\n                }\n                this.selectedRowIndexes.splice(this.selectedRowIndexes.indexOf(rowIndex), 1);\n                this.selectedRecords.splice(this.selectedRecords.indexOf(selectedRow), 1);\n                this.selectRowIndex(this.selectedRowIndexes.length ? this.selectedRowIndexes[this.selectedRowIndexes.length - 1] : -1);\n                selectedRow.removeAttribute('aria-selected');\n                this.addRemoveClassesForRow(selectedRow, false, null, 'e-selectionbackground', 'e-active');\n                if (selectedMovableRow) {\n                    this.selectedRecords.splice(this.selectedRecords.indexOf(selectedMovableRow), 1);\n                    selectedMovableRow.removeAttribute('aria-selected');\n                    this.addRemoveClassesForRow(selectedMovableRow, false, null, 'e-selectionbackground', 'e-active');\n                }\n                if (selectedFrozenRightRow) {\n                    this.selectedRecords.splice(this.selectedRecords.indexOf(selectedFrozenRightRow), 1);\n                    selectedFrozenRightRow.removeAttribute('aria-selected');\n                    this.addRemoveClassesForRow(selectedFrozenRightRow, false, null, 'e-selectionbackground', 'e-active');\n                }\n                this.rowDeselect(events.rowDeselected, [rowIndex], [rowObj.data], [selectedRow], [rowObj.foreignKeyData], target, [selectedMovableRow], undefined, [selectedFrozenRightRow]);\n                this.isInteracted = false;\n                this.isMultiSelection = false;\n                this.isAddRowsToSelection = false;\n            }\n            else {\n                this.activeTarget();\n                args = {\n                    cancel: false,\n                    data: selectedData.length ? selectedData : rowObj.data, rowIndex: rowIndex, row: selectedRows.length ? selectedRows :\n                        selectedRow, target: this.actualTarget, prevRow: gObj.getRows()[this.prevRowIndex],\n                    previousRowIndex: this.prevRowIndex, isCtrlPressed: this.isMultiCtrlRequest, isShiftPressed: this.isMultiShiftRequest,\n                    foreignKeyData: foreignKeyData.length ? foreignKeyData : rowObj.foreignKeyData, isInteracted: this.isInteracted,\n                    isHeaderCheckboxClicked: this.isHeaderCheckboxClicked, rowIndexes: indexes\n                };\n                args = this.addMovableArgs(args, selectedMovableRow, selectedFrozenRightRow);\n                this.parent.trigger(events.rowSelecting, this.fDataUpdate(args));\n                if (!isNullOrUndefined(args) && args[can] === true) {\n                    this.disableInteracted();\n                    return;\n                }\n                if (this.isSingleSel()) {\n                    this.clearRow();\n                }\n                this.updateRowSelection(selectedRow, rowIndex);\n                this.selectMovableRow(selectedMovableRow, selectedFrozenRightRow, rowIndex);\n            }\n            if (!isUnSelected) {\n                args = {\n                    data: selectedData.length ? selectedData : rowObj.data, rowIndex: rowIndex, row: selectedRows.length ? selectedRows :\n                        selectedRow, target: this.actualTarget, prevRow: gObj.getRows()[this.prevRowIndex],\n                    previousRowIndex: this.prevRowIndex, foreignKeyData: foreignKeyData.length ? foreignKeyData : rowObj.foreignKeyData,\n                    isInteracted: this.isInteracted, isHeaderCheckboxClicked: this.isHeaderCheckboxClicked, rowIndexes: indexes\n                };\n                args = this.addMovableArgs(args, selectedMovableRow, selectedFrozenRightRow);\n                this.onActionComplete(args, events.rowSelected);\n            }\n            this.isInteracted = false;\n            this.updateRowProps(rowIndex);\n            if (this.isSingleSel()) {\n                break;\n            }\n        }\n    };\n    Selection.prototype.getCollectionFromIndexes = function (startIndex, endIndex) {\n        var indexes = [];\n        // eslint-disable-next-line prefer-const\n        var _a = (startIndex <= endIndex) ?\n            { i: startIndex, max: endIndex } : { i: endIndex, max: startIndex }, i = _a.i, max = _a.max;\n        for (; i <= max; i++) {\n            indexes.push(i);\n        }\n        if (startIndex > endIndex) {\n            indexes.reverse();\n        }\n        return indexes;\n    };\n    Selection.prototype.clearRow = function () {\n        this.clearRowCheck = true;\n        this.clearRowSelection();\n    };\n    Selection.prototype.clearRowCallBack = function () {\n        if (this.isCancelDeSelect && this.parent.checkAllRows !== 'Check') {\n            return;\n        }\n        this.selectedRowIndexes = [];\n        this.selectedRecords = [];\n        this.selectRowIndex(-1);\n        if (this.isSingleSel() && this.parent.isPersistSelection) {\n            this.selectedRowState = {};\n        }\n    };\n    Selection.prototype.clearSelectedRow = function (index) {\n        if (this.toggle) {\n            var selectedEle = this.parent.getRowByIndex(index);\n            if (!this.disableUI) {\n                selectedEle.removeAttribute('aria-selected');\n                this.addRemoveClassesForRow(selectedEle, false, true, 'e-selectionbackground', 'e-active');\n            }\n            this.removed = true;\n            this.updatePersistCollection(selectedEle, false);\n            this.updateCheckBoxes(selectedEle);\n            this.selectedRowIndexes.splice(this.selectedRowIndexes.indexOf(index), 1);\n            this.selectedRecords.splice(this.selectedRecords.indexOf(this.parent.getRowByIndex(index)), 1);\n        }\n    };\n    Selection.prototype.updateRowProps = function (startIndex) {\n        this.prevRowIndex = startIndex;\n        this.isRowSelected = this.selectedRowIndexes.length && true;\n    };\n    Selection.prototype.updatePersistCollection = function (selectedRow, chkState) {\n        var _this = this;\n        if ((this.parent.isPersistSelection || this.parent.selectionSettings.persistSelection &&\n            this.parent.getPrimaryKeyFieldNames().length > 0) && !isNullOrUndefined(selectedRow)) {\n            if (!this.parent.isPersistSelection) {\n                this.ensureCheckboxFieldSelection();\n            }\n            var rowObj = this.getRowObj(selectedRow);\n            var pKey_1 = rowObj.data ? rowObj.data[this.primaryKey] : null;\n            if (pKey_1 === null) {\n                return;\n            }\n            rowObj.isSelected = chkState;\n            if (chkState) {\n                this.selectedRowState[pKey_1] = chkState;\n                if (!this.persistSelectedData.some(function (data) { return data[_this.primaryKey] === pKey_1; })) {\n                    this.persistSelectedData.push(rowObj.data);\n                }\n            }\n            else {\n                this.updatePersistDelete(pKey_1);\n            }\n        }\n    };\n    Selection.prototype.updatePersistDelete = function (pKey) {\n        var _this = this;\n        delete (this.selectedRowState[pKey]);\n        var index;\n        var isPresent = this.persistSelectedData.some(function (data, i) {\n            index = i;\n            return data[_this.primaryKey] === pKey;\n        });\n        if (isPresent) {\n            this.persistSelectedData.splice(index, 1);\n        }\n    };\n    Selection.prototype.updateCheckBoxes = function (row, chkState, rowIndex) {\n        if (!isNullOrUndefined(row)) {\n            var chkBox = row.querySelector('.e-checkselect');\n            if (!isNullOrUndefined(chkBox)) {\n                removeAddCboxClasses(chkBox.nextElementSibling, chkState);\n                setChecked(chkBox, chkState);\n                if (isNullOrUndefined(this.checkedTarget) || (!isNullOrUndefined(this.checkedTarget)\n                    && !this.checkedTarget.classList.contains('e-checkselectall'))) {\n                    this.setCheckAllState(rowIndex);\n                }\n            }\n        }\n    };\n    Selection.prototype.updateRowSelection = function (selectedRow, startIndex) {\n        if (!selectedRow) {\n            return;\n        }\n        this.selectedRowIndexes.push(startIndex);\n        var len = this.selectedRowIndexes.length;\n        if (this.parent.isFrozenGrid() && len > 1) {\n            if ((this.selectedRowIndexes[len - 2] === this.selectedRowIndexes[len - 1])) {\n                this.selectedRowIndexes.pop();\n            }\n        }\n        this.selectedRecords.push(selectedRow);\n        selectedRow.setAttribute('aria-selected', 'true');\n        this.updatePersistCollection(selectedRow, true);\n        this.updateCheckBoxes(selectedRow, true);\n        this.addRemoveClassesForRow(selectedRow, true, null, 'e-selectionbackground', 'e-active');\n        if (!this.preventFocus) {\n            var target = this.focus.getPrevIndexes().cellIndex ?\n                selectedRow.cells[this.focus.getPrevIndexes().cellIndex] :\n                selectedRow.querySelector('.e-selectionbackground:not(.e-hide):not(.e-detailrowcollapse):not(.e-detailrowexpand)');\n            if (this.parent.contextMenuModule && this.mouseButton === 2) {\n                target = this.parent.contextMenuModule.cell;\n            }\n            if (!target) {\n                return;\n            }\n            this.focus.onClick({ target: target }, true);\n        }\n    };\n    /**\n     * Deselects the currently selected rows and cells.\n     *\n     * @returns {void}\n     */\n    Selection.prototype.clearSelection = function () {\n        this.checkSelectAllClicked = true;\n        if (this.selectionSettings.persistSelection && this.persistSelectedData.length) {\n            this.deSelectedData = iterateExtend(this.persistSelectedData);\n        }\n        if (!this.parent.isPersistSelection || (this.parent.isPersistSelection && !this.parent.isEdit) ||\n            (!isNullOrUndefined(this.checkedTarget) && this.checkedTarget.classList.contains('e-checkselectall'))) {\n            var span = this.parent.element.querySelector('.e-gridpopup').querySelector('span');\n            if (span.classList.contains('e-rowselect')) {\n                span.classList.remove('e-spanclicked');\n            }\n            if (this.parent.isPersistSelection) {\n                this.persistSelectedData = [];\n                this.selectedRowState = {};\n            }\n            this.clearRowSelection();\n            this.clearCellSelection();\n            this.clearColumnSelection();\n            this.prevRowIndex = undefined;\n            this.prevCIdxs = undefined;\n            this.prevECIdxs = undefined;\n            this.enableSelectMultiTouch = false;\n            this.isInteracted = false;\n            this.checkSelectAllClicked = false;\n        }\n    };\n    /**\n     * Deselects the currently selected rows.\n     *\n     * @returns {void}\n     */\n    Selection.prototype.clearRowSelection = function () {\n        var _this = this;\n        if (this.isRowSelected) {\n            var gObj = this.parent;\n            var rows_1 = this.parent.getDataRows();\n            var data_1 = [];\n            var row_1 = [];\n            var mRow_1 = [];\n            var fRightRow_1 = [];\n            var rowIndex_1 = [];\n            var foreignKeyData_1 = [];\n            var target_1 = this.target;\n            for (var i = 0, len = this.selectedRowIndexes.length; i < len; i++) {\n                var currentRow = this.parent.editSettings.mode === 'Batch' ?\n                    this.parent.getRows()[this.selectedRowIndexes[i]]\n                    : this.parent.getDataRows()[this.selectedRowIndexes[i]];\n                var rowObj = this.getRowObj(currentRow);\n                if (rowObj) {\n                    data_1.push(rowObj.data);\n                    row_1.push(currentRow);\n                    rowIndex_1.push(this.selectedRowIndexes[i]);\n                    foreignKeyData_1.push(rowObj.foreignKeyData);\n                }\n                if (gObj.isFrozenGrid()) {\n                    var mRows = gObj.getMovableRows();\n                    if (mRows && mRows.length) {\n                        mRow_1.push(mRows[this.selectedRowIndexes[i]]);\n                    }\n                    if (gObj.getFrozenMode() === literals.leftRight) {\n                        var frRows = gObj.getFrozenRightRows();\n                        if (frRows && frRows.length) {\n                            fRightRow_1.push(frRows[this.selectedRowIndexes[i]]);\n                        }\n                    }\n                }\n            }\n            if (this.selectionSettings.persistSelection && this.selectionSettings.checkboxMode !== 'ResetOnRowClick') {\n                this.isRowClicked = this.checkSelectAllClicked ? true : false;\n            }\n            this.rowDeselect(events.rowDeselecting, rowIndex_1, data_1, row_1, foreignKeyData_1, target_1, mRow_1, function () {\n                if (_this.isCancelDeSelect && (_this.isRowClicked || _this.checkSelectAllClicked || (_this.isInteracted &&\n                    !_this.parent.isPersistSelection))) {\n                    if (_this.parent.isPersistSelection) {\n                        if (_this.getCheckAllStatus(_this.parent.element.querySelector('.e-checkselectall')) === 'Intermediate') {\n                            for (var i = 0; i < _this.selectedRecords.length; i++) {\n                                _this.updatePersistCollection(_this.selectedRecords[i], true);\n                            }\n                        }\n                        else {\n                            _this.parent.checkAllRows = 'Check';\n                            _this.updatePersistSelectedData(true);\n                        }\n                    }\n                    if (_this.clearRowCheck) {\n                        _this.clearRowCallBack();\n                        _this.clearRowCheck = false;\n                        if (_this.selectRowCheck) {\n                            _this.selectRowCallBack();\n                            _this.selectRowCheck = false;\n                        }\n                    }\n                    return;\n                }\n                var element = [].slice.call(rows_1.filter(function (record) { return record.hasAttribute('aria-selected'); }));\n                for (var j = 0; j < element.length; j++) {\n                    if (!_this.disableUI) {\n                        element[j].removeAttribute('aria-selected');\n                        _this.addRemoveClassesForRow(element[j], false, true, 'e-selectionbackground', 'e-active');\n                    }\n                    // tslint:disable-next-line:align\n                    if (!_this.isPrevRowSelection) {\n                        _this.updatePersistCollection(element[j], false);\n                    }\n                    _this.updateCheckBoxes(element[j]);\n                }\n                for (var i = 0, len = _this.selectedRowIndexes.length; i < len; i++) {\n                    var movableRow = _this.getSelectedMovableRow(_this.selectedRowIndexes[i]);\n                    if (movableRow) {\n                        if (!_this.disableUI) {\n                            movableRow.removeAttribute('aria-selected');\n                            _this.addRemoveClassesForRow(movableRow, false, true, 'e-selectionbackground', 'e-active');\n                        }\n                        _this.updateCheckBoxes(movableRow);\n                        if (!_this.isPrevRowSelection) {\n                            _this.updatePersistCollection(movableRow, false);\n                        }\n                    }\n                    var frRow = _this.getSelectedFrozenRightRow(_this.selectedRowIndexes[i]);\n                    if (frRow) {\n                        if (!_this.disableUI) {\n                            frRow.removeAttribute('aria-selected');\n                            _this.addRemoveClassesForRow(frRow, false, true, 'e-selectionbackground', 'e-active');\n                        }\n                        _this.updateCheckBoxes(frRow);\n                        if (!_this.isPrevRowSelection) {\n                            _this.updatePersistCollection(frRow, false);\n                        }\n                    }\n                }\n                _this.selectedRowIndexes = [];\n                _this.selectedRecords = [];\n                _this.isRowSelected = false;\n                _this.selectRowIndex(-1);\n                _this.isPrevRowSelection = false;\n                _this.rowDeselect(events.rowDeselected, rowIndex_1, data_1, row_1, foreignKeyData_1, target_1, mRow_1, undefined, fRightRow_1);\n                if (_this.clearRowCheck) {\n                    _this.clearRowCallBack();\n                    _this.clearRowCheck = false;\n                    if (_this.selectRowCheck) {\n                        _this.selectRowCallBack();\n                        _this.selectRowCheck = false;\n                    }\n                }\n            }, fRightRow_1);\n        }\n        else {\n            if (this.clearRowCheck) {\n                this.clearRowCallBack();\n                this.clearRowCheck = false;\n                if (this.selectRowCheck) {\n                    this.selectRowCallBack();\n                    this.selectRowCheck = false;\n                }\n            }\n        }\n    };\n    Selection.prototype.rowDeselect = function (type, rowIndex, data, row, foreignKeyData, target, mRow, rowDeselectCallBack, frozenRightRow) {\n        var _this = this;\n        if ((this.selectionSettings.persistSelection && (this.isRowClicked || this.checkSelectAllClicked)) ||\n            !this.selectionSettings.persistSelection) {\n            var cancl_1 = 'cancel';\n            var isSingleDeSel = rowIndex.length === 1 && this.deSelectedData.length === 1;\n            var rowDeselectObj = {\n                rowIndex: rowIndex[0], data: this.selectionSettings.persistSelection && (this.parent.checkAllRows === 'Uncheck' &&\n                    !isSingleDeSel) && this.selectionSettings.checkboxMode !== 'ResetOnRowClick' ? this.deSelectedData : data,\n                foreignKeyData: foreignKeyData, cancel: false, isInteracted: this.isInteracted,\n                isHeaderCheckboxClicked: this.isHeaderCheckboxClicked\n            };\n            if (type === 'rowDeselected') {\n                delete rowDeselectObj.cancel;\n            }\n            var rowInString = 'row';\n            var target_2 = 'target';\n            var rowidx = 'rowIndex';\n            var rowidxex = 'rowIndexes';\n            var dataTxt = 'data';\n            var foreignKey = 'foreignKeyData';\n            rowDeselectObj[rowInString] = row;\n            rowDeselectObj[target_2] = this.actualTarget;\n            var isHeaderCheckBxClick = this.actualTarget && !isNullOrUndefined(closest(this.actualTarget, 'thead'));\n            if (isHeaderCheckBxClick || rowIndex.length > 1) {\n                rowDeselectObj[rowidx] = rowIndex[0];\n                rowDeselectObj[rowidxex] = rowIndex;\n            }\n            else if (rowIndex.length === 1) {\n                rowDeselectObj[dataTxt] = rowDeselectObj[dataTxt][0];\n                rowDeselectObj[rowInString] = rowDeselectObj[rowInString][0];\n                rowDeselectObj[foreignKey] = rowDeselectObj[foreignKey][0];\n                if (this.isAddRowsToSelection) {\n                    rowDeselectObj[rowidxex] = rowIndex;\n                }\n            }\n            this.parent.trigger(type, this.parent.isFrozenGrid() ? __assign({}, rowDeselectObj, { mRow: mRow, frozenRightRow: frozenRightRow }) : rowDeselectObj, function (args) {\n                _this.isCancelDeSelect = args[cancl_1];\n                if (!_this.isCancelDeSelect || (!_this.isRowClicked && !_this.isInteracted && !_this.checkSelectAllClicked)) {\n                    _this.updatePersistCollection(row[0], false);\n                    _this.updateCheckBoxes(row[0], undefined, rowIndex[0]);\n                    if (mRow) {\n                        _this.updateCheckBoxes(mRow[0], undefined, rowIndex[0]);\n                    }\n                    if (frozenRightRow) {\n                        _this.updateCheckBoxes(frozenRightRow[0], undefined, rowIndex[0]);\n                    }\n                }\n                if (rowDeselectCallBack !== undefined) {\n                    rowDeselectCallBack();\n                }\n            });\n        }\n        else if (this.selectionSettings.persistSelection && !this.isInteracted) {\n            if (rowDeselectCallBack !== undefined) {\n                rowDeselectCallBack();\n            }\n        }\n    };\n    Selection.prototype.getRowObj = function (row) {\n        if (row === void 0) { row = this.currentIndex; }\n        if (isNullOrUndefined(row)) {\n            return {};\n        }\n        if (typeof row === 'number') {\n            row = this.parent.getRowByIndex(row);\n        }\n        if (row) {\n            return this.parent.getRowObjectFromUID(row.getAttribute('data-uid')) || {};\n        }\n        return {};\n    };\n    Selection.prototype.getSelectedMovableCell = function (cellIndex) {\n        var gObj = this.parent;\n        var col = gObj.getColumnByIndex(cellIndex.cellIndex);\n        var frzCols = gObj.isFrozenGrid();\n        if (frzCols) {\n            if (col.getFreezeTableName() === 'movable') {\n                return gObj.getMovableCellFromIndex(cellIndex.rowIndex, this.getColIndex(cellIndex.rowIndex, cellIndex.cellIndex));\n            }\n            return null;\n        }\n        return null;\n    };\n    /**\n     * Selects a cell by the given index.\n     *\n     * @param  {IIndex} cellIndex - Defines the row and column indexes.\n     * @param  {boolean} isToggle - If set to true, then it toggles the selection.\n     * @returns {void}\n     */\n    Selection.prototype.selectCell = function (cellIndex, isToggle) {\n        if (!this.isCellType()) {\n            return;\n        }\n        var gObj = this.parent;\n        var selectedCell = this.getSelectedMovableCell(cellIndex);\n        var args;\n        if (!selectedCell) {\n            selectedCell = gObj.getCellFromIndex(cellIndex.rowIndex, this.getColIndex(cellIndex.rowIndex, cellIndex.cellIndex));\n        }\n        this.currentIndex = cellIndex.rowIndex;\n        var selectedData = this.getCurrentBatchRecordChanges()[this.currentIndex];\n        if (!this.isCellType() || !selectedCell || this.isEditing()) {\n            return;\n        }\n        var isCellSelected = selectedCell.classList.contains('e-cellselectionbackground');\n        isToggle = !isToggle ? isToggle : (!isUndefined(this.prevCIdxs) &&\n            cellIndex.rowIndex === this.prevCIdxs.rowIndex && cellIndex.cellIndex === this.prevCIdxs.cellIndex &&\n            isCellSelected);\n        if (!isToggle) {\n            args = {\n                data: selectedData, cellIndex: cellIndex,\n                isCtrlPressed: this.isMultiCtrlRequest, isShiftPressed: this.isMultiShiftRequest,\n                previousRowCell: this.prevECIdxs ?\n                    this.getCellIndex(this.prevECIdxs.rowIndex, this.prevECIdxs.cellIndex) : undefined,\n                cancel: false\n            };\n            var currentCell = 'currentCell';\n            args[currentCell] = selectedCell;\n            var previousRowCellIndex = 'previousRowCellIndex';\n            args[previousRowCellIndex] = this.prevECIdxs;\n            this.parent.trigger(events.cellSelecting, this.fDataUpdate(args), this.successCallBack(args, isToggle, cellIndex, selectedCell, selectedData));\n            this.cellselected = true;\n        }\n        else {\n            this.successCallBack(args, isToggle, cellIndex, selectedCell, selectedData)(args);\n        }\n    };\n    Selection.prototype.successCallBack = function (cellSelectingArgs, isToggle, cellIndex, selectedCell, selectedData) {\n        var _this = this;\n        return function (cellSelectingArgs) {\n            var cncl = 'cancel';\n            var currentCell = 'currentCell';\n            if (!isNullOrUndefined(cellSelectingArgs) && cellSelectingArgs[cncl] === true) {\n                return;\n            }\n            if (!isToggle) {\n                cellSelectingArgs[currentCell] = cellSelectingArgs[currentCell] ? cellSelectingArgs[currentCell] : selectedCell;\n            }\n            _this.clearCell();\n            if (!isToggle) {\n                _this.updateCellSelection(selectedCell, cellIndex.rowIndex, cellIndex.cellIndex);\n            }\n            if (!isToggle) {\n                var args = {\n                    data: selectedData, cellIndex: cellIndex, currentCell: selectedCell,\n                    selectedRowCellIndex: _this.selectedRowCellIndexes,\n                    previousRowCell: _this.prevECIdxs ?\n                        _this.getCellIndex(_this.prevECIdxs.rowIndex, _this.prevECIdxs.cellIndex) : undefined\n                };\n                var previousRowCellIndex = 'previousRowCellIndex';\n                args[previousRowCellIndex] = _this.prevECIdxs;\n                _this.updateCellProps(cellIndex, cellIndex);\n                _this.onActionComplete(args, events.cellSelected);\n            }\n        };\n    };\n    Selection.prototype.getCellIndex = function (rIdx, cIdx) {\n        return (this.parent.getFrozenColumns() ? (cIdx >= this.parent.getFrozenColumns() ? this.parent.getMovableCellFromIndex(rIdx, cIdx)\n            : this.parent.getCellFromIndex(rIdx, cIdx)) : this.parent.getCellFromIndex(rIdx, cIdx));\n    };\n    /**\n     * Selects a range of cells from start and end indexes.\n     *\n     * @param  {IIndex} startIndex - Specifies the row and column's start index.\n     * @param  {IIndex} endIndex - Specifies the row and column's end index.\n     * @returns {void}\n     */\n    Selection.prototype.selectCellsByRange = function (startIndex, endIndex) {\n        var _this = this;\n        if (!this.isCellType()) {\n            return;\n        }\n        var gObj = this.parent;\n        var selectedCell = this.getSelectedMovableCell(startIndex);\n        var frzCols = gObj.getFrozenColumns();\n        if (!selectedCell) {\n            selectedCell = gObj.getCellFromIndex(startIndex.rowIndex, startIndex.cellIndex);\n        }\n        var min;\n        var max;\n        var stIndex = startIndex;\n        var edIndex = endIndex = endIndex ? endIndex : startIndex;\n        var cellIndexes;\n        this.currentIndex = startIndex.rowIndex;\n        var cncl = 'cancel';\n        var selectedData = this.getCurrentBatchRecordChanges()[this.currentIndex];\n        if (this.isSingleSel() || !this.isCellType() || this.isEditing()) {\n            return;\n        }\n        var args = {\n            data: selectedData, cellIndex: startIndex, currentCell: selectedCell,\n            isCtrlPressed: this.isMultiCtrlRequest, isShiftPressed: this.isMultiShiftRequest,\n            previousRowCell: this.prevECIdxs ? this.getCellIndex(this.prevECIdxs.rowIndex, this.prevECIdxs.cellIndex) : undefined\n        };\n        var previousRowCellIndex = 'previousRowCellIndex';\n        args[previousRowCellIndex] = this.prevECIdxs;\n        this.parent.trigger(events.cellSelecting, this.fDataUpdate(args), function (cellSelectingArgs) {\n            if (!isNullOrUndefined(cellSelectingArgs) && cellSelectingArgs[cncl] === true) {\n                return;\n            }\n            _this.clearCell();\n            if (startIndex.rowIndex > endIndex.rowIndex) {\n                var temp = startIndex;\n                startIndex = endIndex;\n                endIndex = temp;\n            }\n            for (var i = startIndex.rowIndex; i <= endIndex.rowIndex; i++) {\n                if (_this.selectionSettings.cellSelectionMode.indexOf('Box') < 0) {\n                    min = i === startIndex.rowIndex ? (startIndex.cellIndex) : 0;\n                    max = i === endIndex.rowIndex ? (endIndex.cellIndex) : _this.getLastColIndex(i);\n                }\n                else {\n                    min = startIndex.cellIndex;\n                    max = endIndex.cellIndex;\n                }\n                cellIndexes = [];\n                for (var j = min < max ? min : max, len = min > max ? min : max; j <= len; j++) {\n                    if (frzCols) {\n                        if (j < frzCols) {\n                            selectedCell = gObj.getCellFromIndex(i, j);\n                        }\n                        else {\n                            selectedCell = gObj.getMovableCellFromIndex(i, j);\n                        }\n                    }\n                    else {\n                        selectedCell = gObj.getCellFromIndex(i, j);\n                    }\n                    if (!selectedCell) {\n                        continue;\n                    }\n                    cellIndexes.push(j);\n                    _this.updateCellSelection(selectedCell);\n                    _this.addAttribute(selectedCell);\n                }\n                _this.selectedRowCellIndexes.push({ rowIndex: i, cellIndexes: cellIndexes });\n            }\n            var cellSelectedArgs = {\n                data: selectedData, cellIndex: edIndex, currentCell: gObj.getCellFromIndex(edIndex.rowIndex, edIndex.cellIndex),\n                selectedRowCellIndex: _this.selectedRowCellIndexes,\n                previousRowCell: _this.prevECIdxs ? _this.getCellIndex(_this.prevECIdxs.rowIndex, _this.prevECIdxs.cellIndex) : undefined\n            };\n            var previousRowCellIndex = 'previousRowCellIndex';\n            cellSelectedArgs[previousRowCellIndex] = _this.prevECIdxs;\n            if (!_this.isDragged) {\n                _this.onActionComplete(cellSelectedArgs, events.cellSelected);\n                _this.cellselected = true;\n            }\n            _this.updateCellProps(stIndex, edIndex);\n        });\n    };\n    /**\n     * Selects a collection of cells by row and column indexes.\n     *\n     * @param  {ISelectedCell[]} rowCellIndexes - Specifies the row and column indexes.\n     * @returns {void}\n     */\n    Selection.prototype.selectCells = function (rowCellIndexes) {\n        if (!this.isCellType()) {\n            return;\n        }\n        var gObj = this.parent;\n        var selectedCell = this.getSelectedMovableCell(rowCellIndexes[0]);\n        var frzCols = gObj.getFrozenColumns();\n        if (!selectedCell) {\n            selectedCell = gObj.getCellFromIndex(rowCellIndexes[0].rowIndex, rowCellIndexes[0].cellIndexes[0]);\n        }\n        this.currentIndex = rowCellIndexes[0].rowIndex;\n        var selectedData = this.getCurrentBatchRecordChanges()[this.currentIndex];\n        if (this.isSingleSel() || !this.isCellType() || this.isEditing()) {\n            return;\n        }\n        var cellSelectArgs = {\n            data: selectedData, cellIndex: rowCellIndexes[0].cellIndexes[0],\n            currentCell: selectedCell, isCtrlPressed: this.isMultiCtrlRequest,\n            isShiftPressed: this.isMultiShiftRequest,\n            previousRowCell: this.prevECIdxs ? this.getCellIndex(this.prevECIdxs.rowIndex, this.prevECIdxs.cellIndex) : undefined\n        };\n        var previousRowCellIndex = 'previousRowCellIndex';\n        cellSelectArgs[previousRowCellIndex] = this.prevECIdxs;\n        this.onActionBegin(cellSelectArgs, events.cellSelecting);\n        for (var i = 0, len = rowCellIndexes.length; i < len; i++) {\n            for (var j = 0, cellLen = rowCellIndexes[i].cellIndexes.length; j < cellLen; j++) {\n                if (frzCols) {\n                    if (rowCellIndexes[i].cellIndexes[j] < frzCols) {\n                        selectedCell = gObj.getCellFromIndex(rowCellIndexes[i].rowIndex, rowCellIndexes[i].cellIndexes[j]);\n                    }\n                    else {\n                        selectedCell = gObj.getMovableCellFromIndex(rowCellIndexes[i].rowIndex, rowCellIndexes[i].cellIndexes[j]);\n                    }\n                }\n                else {\n                    selectedCell = gObj.getCellFromIndex(rowCellIndexes[i].rowIndex, rowCellIndexes[i].cellIndexes[j]);\n                }\n                if (!selectedCell) {\n                    continue;\n                }\n                this.updateCellSelection(selectedCell);\n                this.addAttribute(selectedCell);\n                this.addRowCellIndex({ rowIndex: rowCellIndexes[i].rowIndex, cellIndex: rowCellIndexes[i].cellIndexes[j] });\n            }\n        }\n        this.updateCellProps({ rowIndex: rowCellIndexes[0].rowIndex, cellIndex: rowCellIndexes[0].cellIndexes[0] }, { rowIndex: rowCellIndexes[0].rowIndex, cellIndex: rowCellIndexes[0].cellIndexes[0] });\n        var cellSelectedArgs = {\n            data: selectedData, cellIndex: rowCellIndexes[0].cellIndexes[0],\n            currentCell: selectedCell, selectedRowCellIndex: this.selectedRowCellIndexes,\n            previousRowCell: this.prevECIdxs ? this.getCellIndex(this.prevECIdxs.rowIndex, this.prevECIdxs.cellIndex) : undefined\n        };\n        var prvRowCellIndex = 'previousRowCellIndex';\n        cellSelectedArgs[prvRowCellIndex] = this.prevECIdxs;\n        this.onActionComplete(cellSelectedArgs, events.cellSelected);\n    };\n    /**\n     * Select cells with existing cell selection by passing row and column index.\n     *\n     * @param {IIndex} cellIndexes - Defines the collection of row and column index.\n     * @returns {void}\n     * @hidden\n     */\n    Selection.prototype.addCellsToSelection = function (cellIndexes) {\n        if (!this.isCellType()) {\n            return;\n        }\n        var gObj = this.parent;\n        var selectedCell;\n        var index;\n        this.currentIndex = cellIndexes[0].rowIndex;\n        var cncl = 'cancel';\n        var selectedData = this.getCurrentBatchRecordChanges()[this.currentIndex];\n        var left = gObj.getFrozenLeftCount();\n        var movable = gObj.getMovableColumnsCount();\n        if (this.isSingleSel() || !this.isCellType() || this.isEditing()) {\n            return;\n        }\n        this.hideAutoFill();\n        var col = gObj.getColumnByIndex(cellIndexes[0].cellIndex);\n        var rowObj;\n        gridActionHandler(this.parent, function (tableName, rows) {\n            rowObj = rows[cellIndexes[0].rowIndex];\n        }, [\n            !col.getFreezeTableName() || col.getFreezeTableName() === literals.frozenLeft ? gObj.getRowsObject() : [],\n            col.getFreezeTableName() === 'movable' ? gObj.getMovableRowsObject() : [],\n            col.getFreezeTableName() === literals.frozenRight ? gObj.getFrozenRightRowsObject() : []\n        ]);\n        var foreignKeyData = [];\n        for (var _i = 0, cellIndexes_1 = cellIndexes; _i < cellIndexes_1.length; _i++) {\n            var cellIndex = cellIndexes_1[_i];\n            for (var i = 0, len = this.selectedRowCellIndexes.length; i < len; i++) {\n                if (this.selectedRowCellIndexes[i].rowIndex === cellIndex.rowIndex) {\n                    index = i;\n                    break;\n                }\n            }\n            selectedCell = this.getSelectedMovableCell(cellIndex);\n            if (!selectedCell) {\n                selectedCell = gObj.getCellFromIndex(cellIndex.rowIndex, this.getColIndex(cellIndex.rowIndex, cellIndex.cellIndex));\n            }\n            var idx = col.getFreezeTableName() === 'movable' ? cellIndex.cellIndex - left\n                : col.getFreezeTableName() === literals.frozenRight ? cellIndex.cellIndex - (left + movable) : cellIndex.cellIndex;\n            foreignKeyData.push(rowObj.cells[idx].foreignKeyData);\n            var args = {\n                cancel: false, data: selectedData, cellIndex: cellIndexes[0],\n                isShiftPressed: this.isMultiShiftRequest,\n                currentCell: selectedCell, isCtrlPressed: this.isMultiCtrlRequest,\n                previousRowCell: this.prevECIdxs ?\n                    gObj.getCellFromIndex(this.prevECIdxs.rowIndex, this.prevECIdxs.cellIndex) : undefined\n            };\n            var prvRowCellIndex = 'previousRowCellIndex';\n            args[prvRowCellIndex] = this.prevECIdxs;\n            var isUnSelected = index > -1;\n            if (isUnSelected) {\n                var selectedCellIdx = this.selectedRowCellIndexes[index].cellIndexes;\n                if (selectedCellIdx.indexOf(cellIndex.cellIndex) > -1) {\n                    this.cellDeselect(events.cellDeselecting, [{ rowIndex: cellIndex.rowIndex, cellIndexes: [cellIndex.cellIndex] }], selectedData, [selectedCell], foreignKeyData);\n                    selectedCellIdx.splice(selectedCellIdx.indexOf(cellIndex.cellIndex), 1);\n                    if (selectedCellIdx.length === 0) {\n                        this.selectedRowCellIndexes.splice(index, 1);\n                    }\n                    selectedCell.classList.remove('e-cellselectionbackground');\n                    selectedCell.removeAttribute('aria-selected');\n                    this.cellDeselect(events.cellDeselected, [{ rowIndex: cellIndex.rowIndex, cellIndexes: [cellIndex.cellIndex] }], selectedData, [selectedCell], foreignKeyData);\n                }\n                else {\n                    isUnSelected = false;\n                    this.onActionBegin(args, events.cellSelecting);\n                    this.addRowCellIndex({ rowIndex: cellIndex.rowIndex, cellIndex: cellIndex.cellIndex });\n                    this.updateCellSelection(selectedCell);\n                    this.addAttribute(selectedCell);\n                }\n            }\n            else {\n                this.onActionBegin(args, events.cellSelecting);\n                if (!isNullOrUndefined(args) && args[cncl] === true) {\n                    return;\n                }\n                this.updateCellSelection(selectedCell, cellIndex.rowIndex, cellIndex.cellIndex);\n            }\n            if (!isUnSelected) {\n                var cellSelectedArgs = {\n                    data: selectedData, cellIndex: cellIndexes[0], currentCell: selectedCell,\n                    previousRowCell: this.prevECIdxs ? this.getCellIndex(this.prevECIdxs.rowIndex, this.prevECIdxs.cellIndex) :\n                        undefined, selectedRowCellIndex: this.selectedRowCellIndexes\n                };\n                cellSelectedArgs[prvRowCellIndex] = this.prevECIdxs;\n                this.onActionComplete(cellSelectedArgs, events.cellSelected);\n                this.cellselected = true;\n            }\n            this.updateCellProps(cellIndex, cellIndex);\n        }\n    };\n    Selection.prototype.getColIndex = function (rowIndex, index) {\n        var frzCols = this.parent.isFrozenGrid();\n        var col = this.parent.getColumnByIndex(index);\n        var cells = getCellsByTableName(this.parent, col, rowIndex);\n        if (cells) {\n            for (var m = 0; m < cells.length; m++) {\n                var colIndex = parseInt(cells[m].getAttribute(literals.ariaColIndex), 10);\n                if (colIndex === index) {\n                    if (frzCols) {\n                        if (col.getFreezeTableName() === 'movable') {\n                            m += this.parent.getFrozenLeftCount();\n                        }\n                        else if (col.getFreezeTableName() === literals.frozenRight) {\n                            m += (this.parent.getFrozenLeftColumnsCount() + this.parent.getMovableColumnsCount());\n                        }\n                    }\n                    return m;\n                }\n            }\n        }\n        return -1;\n    };\n    Selection.prototype.getLastColIndex = function (rowIndex) {\n        var cells = this.parent.getFrozenColumns() ? this.parent.getMovableDataRows()[rowIndex].querySelectorAll('td.e-rowcell')\n            : this.parent.getDataRows()[rowIndex].querySelectorAll('td.e-rowcell');\n        return parseInt(cells[cells.length - 1].getAttribute(literals.ariaColIndex), 10);\n    };\n    Selection.prototype.clearCell = function () {\n        this.clearCellSelection();\n    };\n    Selection.prototype.cellDeselect = function (type, cellIndexes, data, cells, foreignKeyData) {\n        var cancl = 'cancel';\n        if (cells[0] && cells[0].classList.contains(literals.gridChkBox)) {\n            this.updateCheckBoxes(closest(cells[0], 'tr'));\n        }\n        var args = {\n            cells: cells, data: data, cellIndexes: cellIndexes, foreignKeyData: foreignKeyData, cancel: false\n        };\n        this.parent.trigger(type, args);\n        this.isPreventCellSelect = args[cancl];\n    };\n    Selection.prototype.updateCellSelection = function (selectedCell, rowIndex, cellIndex) {\n        if (!isNullOrUndefined(rowIndex)) {\n            this.addRowCellIndex({ rowIndex: rowIndex, cellIndex: cellIndex });\n        }\n        selectedCell.classList.add('e-cellselectionbackground');\n        if (selectedCell.classList.contains(literals.gridChkBox)) {\n            this.updateCheckBoxes(closest(selectedCell, 'tr'), true);\n        }\n        this.addAttribute(selectedCell);\n    };\n    Selection.prototype.addAttribute = function (cell) {\n        this.target = cell;\n        if (!isNullOrUndefined(cell)) {\n            cell.setAttribute('aria-selected', 'true');\n            if (!this.preventFocus) {\n                this.focus.onClick({ target: cell }, true);\n            }\n        }\n    };\n    Selection.prototype.updateCellProps = function (startIndex, endIndex) {\n        this.prevCIdxs = startIndex;\n        this.prevECIdxs = endIndex;\n        this.isCellSelected = this.selectedRowCellIndexes.length && true;\n    };\n    Selection.prototype.addRowCellIndex = function (rowCellIndex) {\n        var isRowAvail;\n        var index;\n        for (var i = 0, len = this.selectedRowCellIndexes.length; i < len; i++) {\n            if (this.selectedRowCellIndexes[i].rowIndex === rowCellIndex.rowIndex) {\n                isRowAvail = true;\n                index = i;\n                break;\n            }\n        }\n        if (isRowAvail) {\n            if (this.selectedRowCellIndexes[index].cellIndexes.indexOf(rowCellIndex.cellIndex) < 0) {\n                this.selectedRowCellIndexes[index].cellIndexes.push(rowCellIndex.cellIndex);\n            }\n        }\n        else {\n            this.selectedRowCellIndexes.push({ rowIndex: rowCellIndex.rowIndex, cellIndexes: [rowCellIndex.cellIndex] });\n        }\n    };\n    /**\n     * Deselects the currently selected cells.\n     *\n     * @returns {void}\n     */\n    Selection.prototype.clearCellSelection = function () {\n        if (this.isCellSelected) {\n            var gObj = this.parent;\n            var selectedCells = this.getSelectedCellsElement();\n            var rowCell = this.selectedRowCellIndexes;\n            var data = [];\n            var cells = [];\n            var foreignKeyData = [];\n            var currentViewData = this.getCurrentBatchRecordChanges();\n            var frzCols = gObj.isFrozenGrid();\n            this.hideAutoFill();\n            for (var i = 0, len = rowCell.length; i < len; i++) {\n                data.push(currentViewData[rowCell[i].rowIndex]);\n                var rowObj = this.getRowObj(rowCell[i].rowIndex);\n                for (var j = 0, cLen = rowCell[i].cellIndexes.length; j < cLen; j++) {\n                    if (frzCols) {\n                        var col = gObj.getColumnByIndex(rowCell[i].cellIndexes[j]);\n                        cells.push(getCellByColAndRowIndex(this.parent, col, rowCell[i].rowIndex, rowCell[i].cellIndexes[j]));\n                    }\n                    else {\n                        if (rowObj.cells) {\n                            foreignKeyData.push(rowObj.cells[rowCell[i].cellIndexes[j]].foreignKeyData);\n                        }\n                        cells.push(gObj.getCellFromIndex(rowCell[i].rowIndex, rowCell[i].cellIndexes[j]));\n                    }\n                }\n            }\n            this.cellDeselect(events.cellDeselecting, rowCell, data, cells, foreignKeyData);\n            if (this.isPreventCellSelect === true) {\n                return;\n            }\n            for (var i = 0, len = selectedCells.length; i < len; i++) {\n                selectedCells[i].classList.remove('e-cellselectionbackground');\n                selectedCells[i].removeAttribute('aria-selected');\n            }\n            if (this.bdrElement) {\n                this.showHideBorders('none');\n            }\n            this.selectedRowCellIndexes = [];\n            this.isCellSelected = false;\n            if (!this.isDragged && this.cellselected) {\n                this.cellDeselect(events.cellDeselected, rowCell, data, cells, foreignKeyData);\n            }\n        }\n    };\n    Selection.prototype.getSelectedCellsElement = function () {\n        var gObj = this.parent;\n        var rows = gObj.getDataRows();\n        var mRows;\n        if (gObj.isFrozenGrid()) {\n            mRows = gObj.getMovableDataRows();\n            rows = gObj.addMovableRows(rows, mRows);\n            if (gObj.getFrozenMode() === literals.leftRight) {\n                rows = gObj.addMovableRows(rows, gObj.getFrozenRightDataRows());\n            }\n        }\n        var cells = [];\n        for (var i = 0, len = rows.length; i < len; i++) {\n            cells = cells.concat([].slice.call(rows[i].getElementsByClassName('e-cellselectionbackground')));\n        }\n        return cells;\n    };\n    Selection.prototype.mouseMoveHandler = function (e) {\n        e.preventDefault();\n        var gBRect = this.parent.element.getBoundingClientRect();\n        var x1 = this.x;\n        var y1 = this.y;\n        var position = getPosition(e);\n        var x2 = position.x - gBRect.left;\n        var y2 = position.y - gBRect.top;\n        var tmp;\n        var target = closest(e.target, 'tr');\n        this.isDragged = true;\n        if (!this.isCellDrag) {\n            if (!target) {\n                target = closest(document.elementFromPoint(this.parent.element.offsetLeft + 2, e.clientY), 'tr');\n            }\n            if (x1 > x2) {\n                tmp = x2;\n                x2 = x1;\n                x1 = tmp;\n            }\n            if (y1 > y2) {\n                tmp = y2;\n                y2 = y1;\n                y1 = tmp;\n            }\n            this.element.style.left = x1 + 'px';\n            this.element.style.top = y1 + 'px';\n            this.element.style.width = x2 - x1 + 'px';\n            this.element.style.height = y2 - y1 + 'px';\n        }\n        if (target && !e.ctrlKey && !e.shiftKey) {\n            var rowIndex = parseInt(target.getAttribute(literals.ariaRowIndex), 10);\n            if (!this.isCellDrag) {\n                this.hideAutoFill();\n                this.selectRowsByRange(this.startDIndex, rowIndex);\n                this.isRowDragSelected = true;\n            }\n            else {\n                var td = parentsUntil(e.target, literals.rowCell);\n                if (td) {\n                    this.startAFCell = this.startCell;\n                    this.endAFCell = parentsUntil(e.target, literals.rowCell);\n                    this.selectLikeExcel(e, rowIndex, parseInt(td.getAttribute(literals.ariaColIndex), 10));\n                }\n            }\n        }\n    };\n    Selection.prototype.selectLikeExcel = function (e, rowIndex, cellIndex) {\n        if (!this.isAutoFillSel) {\n            this.clearCellSelection();\n            this.selectCellsByRange({ rowIndex: this.startDIndex, cellIndex: this.startDCellIndex }, { rowIndex: rowIndex, cellIndex: cellIndex });\n            this.drawBorders();\n        }\n        else { //Autofill\n            this.showAFBorders();\n            this.selectLikeAutoFill(e);\n        }\n    };\n    Selection.prototype.drawBorders = function () {\n        if (this.selectionSettings.cellSelectionMode === 'BoxWithBorder' && this.selectedRowCellIndexes.length && !this.parent.isEdit) {\n            this.parent.element.classList.add('e-enabledboxbdr');\n            if (!this.bdrElement) {\n                this.createBorders();\n            }\n            this.positionBorders();\n        }\n        else {\n            this.showHideBorders('none');\n        }\n    };\n    Selection.prototype.isLastCell = function (cell) {\n        var cells = [].slice.call(cell.parentElement.querySelectorAll('.e-rowcell:not(.e-hide)'));\n        return cells[cells.length - 1] === cell;\n    };\n    Selection.prototype.isLastRow = function (cell) {\n        var rows = [].slice.call(closest(cell, literals.tbody).querySelectorAll('.e-row:not(.e-hiddenrow)'));\n        return cell.parentElement === rows[rows.length - 1];\n    };\n    Selection.prototype.isFirstRow = function (cell) {\n        var rows = [].slice.call(closest(cell, literals.tbody).querySelectorAll('.e-row:not(.e-hiddenrow)'));\n        return cell.parentElement === rows[0];\n    };\n    Selection.prototype.isFirstCell = function (cell) {\n        var cells = [].slice.call(cell.parentElement.querySelectorAll('.e-rowcell:not(.e-hide)'));\n        return cells[0] === cell;\n    };\n    Selection.prototype.setBorders = function (parentEle, border, bdrStr) {\n        var cells = [].slice.call(parentEle.getElementsByClassName('e-cellselectionbackground')).\n            filter(function (ele) { return ele.style.display === ''; });\n        if (cells.length) {\n            var isFrozen = this.parent.isFrozenGrid();\n            var start = cells[0];\n            var end = cells[cells.length - 1];\n            var stOff = start.getBoundingClientRect();\n            var endOff = end.getBoundingClientRect();\n            var parentOff = start.offsetParent.getBoundingClientRect();\n            var rowHeight = this.isLastRow(end) && (bdrStr === '1' || bdrStr === '2' || bdrStr === '5') ? 2 : 0;\n            var topOffSet = this.parent.frozenRows && (bdrStr === '1' || bdrStr === '2') &&\n                this.isFirstRow(start) ? 1.5 : 0;\n            var leftOffset = isFrozen && (bdrStr === '2' || bdrStr === '4') && this.isFirstCell(start) ? 1 : 0;\n            var rightOffset = ((this.parent.getFrozenMode() === 'Right' && (bdrStr === '1' || bdrStr === '3'))\n                || (this.parent.getFrozenMode() === literals.leftRight && (bdrStr === '5' || bdrStr === '6')))\n                && this.isFirstCell(start) ? 1 : 0;\n            if (this.parent.enableRtl) {\n                border.style.right = parentOff.right - stOff.right - leftOffset + 'px';\n                border.style.width = stOff.right - endOff.left + leftOffset + 1 + 'px';\n            }\n            else {\n                border.style.left = stOff.left - parentOff.left - leftOffset - rightOffset + 'px';\n                border.style.width = endOff.right - stOff.left + leftOffset - rightOffset + 1 + 'px';\n            }\n            border.style.top = stOff.top - parentOff.top - topOffSet + 'px';\n            border.style.height = endOff.top - stOff.top > 0 ?\n                (endOff.top - parentOff.top + endOff.height + 1) - (stOff.top - parentOff.top) - rowHeight + topOffSet + 'px' :\n                endOff.height + topOffSet - rowHeight + 1 + 'px';\n            this.selectDirection += bdrStr;\n        }\n        else {\n            border.style.display = 'none';\n        }\n    };\n    Selection.prototype.positionBorders = function () {\n        this.updateStartEndCells();\n        if (!this.startCell || !this.bdrElement || !this.selectedRowCellIndexes.length) {\n            return;\n        }\n        this.selectDirection = '';\n        this.showHideBorders('');\n        this.setBorders(this.parent.getContentTable(), this.bdrElement, '1');\n        if (this.parent.isFrozenGrid()) {\n            this.setBorders(this.parent.contentModule.getMovableContent(), this.mcBdrElement, '2');\n            if (this.parent.getFrozenMode() === literals.leftRight) {\n                this.setBorders(this.parent.contentModule.getFrozenRightContent(), this.frcBdrElement, '5');\n            }\n        }\n        if (this.parent.frozenRows) {\n            this.setBorders(this.parent.getHeaderTable(), this.fhBdrElement, '3');\n            if (this.parent.isFrozenGrid()) {\n                this.setBorders(this.parent.headerModule.getMovableHeader(), this.mhBdrElement, '4');\n                if (this.parent.getFrozenMode() === literals.leftRight) {\n                    this.setBorders(this.parent.headerModule.getFrozenRightHeader(), this.frhBdrElement, '6');\n                }\n            }\n        }\n        this.applyBorders(this.selectDirection);\n    };\n    /* eslint-enable */\n    Selection.prototype.applyBothFrozenBorders = function (str) {\n        var rtl = this.parent.enableRtl;\n        switch (str.length) {\n            case 6:\n                {\n                    this.bdrElement.style.borderWidth = rtl ? this.right_bottom : this.bottom_left;\n                    this.mcBdrElement.style.borderWidth = this.bottom;\n                    this.fhBdrElement.style.borderWidth = rtl ? this.top_right : this.top_left;\n                    this.mhBdrElement.style.borderWidth = this.top;\n                    this.frcBdrElement.style.borderWidth = rtl ? this.bottom_left : this.right_bottom;\n                    this.frhBdrElement.style.borderWidth = rtl ? this.top_left : this.top_right;\n                }\n                break;\n            case 4:\n                {\n                    if (str.includes('1') && str.includes('2') && str.includes('3') && str.includes('4')) {\n                        this.fhBdrElement.style.borderWidth = rtl ? this.top_right : this.top_left;\n                        this.mhBdrElement.style.borderWidth = rtl ? this.top_left : this.top_right;\n                        this.bdrElement.style.borderWidth = rtl ? this.right_bottom : this.bottom_left;\n                        this.mcBdrElement.style.borderWidth = rtl ? this.bottom_left : this.right_bottom;\n                    }\n                    if (str.includes('2') && str.includes('4') && str.includes('5') && str.includes('6')) {\n                        this.mcBdrElement.style.borderWidth = rtl ? this.right_bottom : this.bottom_left;\n                        this.mhBdrElement.style.borderWidth = rtl ? this.top_right : this.top_left;\n                        this.frcBdrElement.style.borderWidth = rtl ? this.bottom_left : this.right_bottom;\n                        this.frhBdrElement.style.borderWidth = rtl ? this.top_left : this.top_right;\n                    }\n                }\n                break;\n            case 3:\n                {\n                    this.bdrElement.style.borderWidth = rtl ? this.top_right_bottom : this.top_bottom_left;\n                    this.mcBdrElement.style.borderWidth = this.top_bottom;\n                    this.frcBdrElement.style.borderWidth = rtl ? this.top_bottom_left : this.top_right_bottom;\n                    if (this.parent.frozenRows) {\n                        this.fhBdrElement.style.borderWidth = rtl ? this.top_right_bottom : this.top_bottom_left;\n                        this.mhBdrElement.style.borderWidth = this.top_bottom;\n                        this.frcBdrElement.style.borderWidth = rtl ? this.top_bottom_left : this.top_right_bottom;\n                    }\n                }\n                break;\n            case 2:\n                {\n                    if (str.includes('1')) {\n                        this.mcBdrElement.style.borderWidth = rtl ? this.top_bottom_left : this.top_right_bottom;\n                        if (this.parent.frozenRows) {\n                            this.fhBdrElement.style.borderWidth = this.top_right_left;\n                        }\n                    }\n                    if (str.includes('2')) {\n                        this.bdrElement.style.borderWidth = rtl ? this.top_right_bottom : this.top_bottom_left;\n                        this.frcBdrElement.style.borderWidth = rtl ? this.top_bottom_left : this.top_right_bottom;\n                        if (this.parent.frozenRows) {\n                            this.mhBdrElement.style.borderWidth = this.top_right_left;\n                        }\n                    }\n                    if (str.includes('3')) {\n                        this.mhBdrElement.style.borderWidth = rtl ? this.top_bottom_left : this.top_right_bottom;\n                        this.bdrElement.style.borderWidth = this.right_bottom_left;\n                    }\n                    if (str.includes('4')) {\n                        this.fhBdrElement.style.borderWidth = rtl ? this.top_right_bottom : this.top_bottom_left;\n                        this.frhBdrElement.style.borderWidth = rtl ? this.top_bottom_left : this.top_right_bottom;\n                        this.mcBdrElement.style.borderWidth = this.right_bottom_left;\n                    }\n                    if (str.includes('5')) {\n                        this.mcBdrElement.style.borderWidth = rtl ? this.top_right_bottom : this.top_bottom_left;\n                        if (this.parent.frozenRows) {\n                            this.frhBdrElement.style.borderWidth = this.top_right_left;\n                        }\n                    }\n                    if (str.includes('6')) {\n                        this.mhBdrElement.style.borderWidth = rtl ? this.top_right_bottom : this.top_bottom_left;\n                        this.frcBdrElement.style.borderWidth = this.right_bottom_left;\n                    }\n                }\n                break;\n            default:\n                this.bdrElement.style.borderWidth = this.all_border;\n                this.mcBdrElement.style.borderWidth = this.all_border;\n                this.frcBdrElement.style.borderWidth = this.all_border;\n                if (this.parent.frozenRows) {\n                    this.fhBdrElement.style.borderWidth = this.all_border;\n                    this.mhBdrElement.style.borderWidth = this.all_border;\n                    this.frhBdrElement.style.borderWidth = this.all_border;\n                }\n                break;\n        }\n    };\n    Selection.prototype.applyBorders = function (str) {\n        var rtl = this.parent.enableRtl;\n        if (this.parent.getFrozenMode() === literals.leftRight) {\n            this.applyBothFrozenBorders(str);\n        }\n        else {\n            switch (str.length) {\n                case 4:\n                    {\n                        if (this.parent.getFrozenMode() === 'Right') {\n                            this.bdrElement.style.borderWidth = rtl ? this.bottom_left : this.right_bottom;\n                            this.mcBdrElement.style.borderWidth = rtl ? this.right_bottom : this.bottom_left;\n                            this.fhBdrElement.style.borderWidth = rtl ? this.top_left : this.top_right;\n                            this.mhBdrElement.style.borderWidth = rtl ? this.top_right : this.top_left;\n                        }\n                        else {\n                            this.bdrElement.style.borderWidth = rtl ? this.right_bottom : this.bottom_left;\n                            this.mcBdrElement.style.borderWidth = rtl ? this.bottom_left : this.right_bottom;\n                            this.fhBdrElement.style.borderWidth = rtl ? this.top_right : this.top_left;\n                            this.mhBdrElement.style.borderWidth = rtl ? this.top_left : this.top_right;\n                        }\n                    }\n                    break;\n                case 2:\n                    {\n                        if (this.parent.getFrozenMode() === 'Right') {\n                            this.bdrElement.style.borderWidth = str.includes('2') ? rtl ? this.top_bottom_left\n                                : this.top_right_bottom : this.right_bottom_left;\n                            this.mcBdrElement.style.borderWidth = str.includes('1') ? rtl ? this.top_right_bottom\n                                : this.top_bottom_left : this.right_bottom_left;\n                            if (this.parent.frozenRows) {\n                                this.fhBdrElement.style.borderWidth = str.includes('1') ? this.top_right_left\n                                    : rtl ? this.top_bottom_left : this.top_right_bottom;\n                                this.mhBdrElement.style.borderWidth = str.includes('2') ? this.top_right_left\n                                    : rtl ? this.top_right_bottom : this.top_bottom_left;\n                            }\n                        }\n                        else {\n                            this.bdrElement.style.borderWidth = str.includes('2') ? rtl ? this.top_right_bottom\n                                : this.top_bottom_left : this.right_bottom_left;\n                            if (this.parent.isFrozenGrid()) {\n                                this.mcBdrElement.style.borderWidth = str.includes('1') ? rtl ? this.top_bottom_left\n                                    : this.top_right_bottom : this.right_bottom_left;\n                            }\n                            if (this.parent.frozenRows) {\n                                this.fhBdrElement.style.borderWidth = str.includes('1') ? this.top_right_left\n                                    : rtl ? this.top_right_bottom : this.top_bottom_left;\n                                if (this.parent.isFrozenGrid()) {\n                                    this.mhBdrElement.style.borderWidth = str.includes('2') ? this.top_right_left\n                                        : rtl ? this.top_bottom_left : this.top_right_bottom;\n                                }\n                            }\n                        }\n                    }\n                    break;\n                default:\n                    this.bdrElement.style.borderWidth = this.all_border;\n                    if (this.parent.isFrozenGrid()) {\n                        this.mcBdrElement.style.borderWidth = this.all_border;\n                    }\n                    if (this.parent.frozenRows) {\n                        this.fhBdrElement.style.borderWidth = this.all_border;\n                        if (this.parent.isFrozenGrid()) {\n                            this.mhBdrElement.style.borderWidth = this.all_border;\n                        }\n                    }\n                    break;\n            }\n        }\n    };\n    Selection.prototype.createBorders = function () {\n        if (!this.bdrElement) {\n            this.bdrElement = this.parent.getContentTable().parentElement.appendChild(createElement('div', {\n                className: 'e-xlsel', id: this.parent.element.id + '_bdr',\n                styles: 'width: 2px; border-width: 0;'\n            }));\n            if (this.parent.isFrozenGrid()) {\n                this.mcBdrElement = this.parent.contentModule.getMovableContent().appendChild(createElement('div', {\n                    className: 'e-xlsel', id: this.parent.element.id + '_mcbdr',\n                    styles: 'height: 2px; border-width: 0;'\n                }));\n                if (this.parent.getFrozenMode() === literals.leftRight) {\n                    this.frcBdrElement = this.parent.contentModule.getFrozenRightContent().appendChild(createElement('div', {\n                        className: 'e-xlsel', id: this.parent.element.id + '_frcbdr',\n                        styles: 'height: 2px; border-width: 0;'\n                    }));\n                }\n            }\n            if (this.parent.frozenRows) {\n                this.fhBdrElement = this.parent.getHeaderTable().parentElement.appendChild(createElement('div', { className: 'e-xlsel', id: this.parent.element.id + '_fhbdr', styles: 'height: 2px;' }));\n            }\n            if (this.parent.frozenRows && this.parent.isFrozenGrid()) {\n                this.mhBdrElement = this.parent.headerModule.getMovableHeader().appendChild(createElement('div', { className: 'e-xlsel', id: this.parent.element.id + '_mhbdr', styles: 'height: 2px;' }));\n                if (this.parent.getFrozenMode() === literals.leftRight) {\n                    this.frhBdrElement = this.parent.headerModule.getFrozenRightHeader().appendChild(createElement('div', { className: 'e-xlsel', id: this.parent.element.id + '_frhbdr', styles: 'height: 2px;' }));\n                }\n            }\n        }\n    };\n    Selection.prototype.showHideBorders = function (display) {\n        if (this.bdrElement) {\n            this.bdrElement.style.display = display;\n            if (this.parent.isFrozenGrid()) {\n                this.mcBdrElement.style.display = display;\n                if (this.parent.getFrozenMode() === literals.leftRight) {\n                    this.frcBdrElement.style.display = display;\n                }\n            }\n            if (this.parent.frozenRows) {\n                this.fhBdrElement.style.display = display;\n            }\n            if (this.parent.frozenRows && this.parent.isFrozenGrid()) {\n                this.mhBdrElement.style.display = display;\n                if (this.parent.getFrozenMode() === literals.leftRight) {\n                    this.frhBdrElement.style.display = display;\n                }\n            }\n        }\n    };\n    Selection.prototype.drawAFBorders = function () {\n        if (!this.bdrAFBottom) {\n            this.createAFBorders();\n        }\n        this.positionAFBorders();\n    };\n    Selection.prototype.positionAFBorders = function () {\n        if (!this.startCell || !this.bdrAFLeft) {\n            return;\n        }\n        var stOff = this.startAFCell.getBoundingClientRect();\n        var endOff = this.endAFCell.getBoundingClientRect();\n        var top = endOff.top - stOff.top > 0 ? 1 : 0;\n        var firstCellTop = endOff.top - stOff.top >= 0 && (parentsUntil(this.startAFCell, literals.movableContent) ||\n            parentsUntil(this.startAFCell, 'e-frozencontent')) && this.isFirstRow(this.startAFCell) ? 1.5 : 0;\n        var firstCellLeft = (parentsUntil(this.startAFCell, literals.movableContent) ||\n            parentsUntil(this.startAFCell, literals.movableHeader)) && this.isFirstCell(this.startAFCell) ? 1 : 0;\n        var rowHeight = this.isLastRow(this.endAFCell) && (parentsUntil(this.endAFCell, literals.movableContent) ||\n            parentsUntil(this.endAFCell, 'e-frozencontent')) ? 2 : 0;\n        var parentOff = this.startAFCell.offsetParent.getBoundingClientRect();\n        var parentRect = this.parent.element.getBoundingClientRect();\n        var sTop = this.startAFCell.offsetParent.parentElement.scrollTop;\n        var sLeft = this.startAFCell.offsetParent.parentElement.scrollLeft;\n        var scrollTop = sTop - this.startAFCell.offsetTop;\n        var scrollLeft = sLeft - this.startAFCell.offsetLeft;\n        var totalHeight = this.parent.element.clientHeight;\n        var totalWidth = this.parent.element.clientWidth;\n        scrollTop = scrollTop > 0 ? Math.floor(scrollTop) - 1 : 0;\n        scrollLeft = scrollLeft > 0 ? scrollLeft : 0;\n        var left = stOff.left - parentRect.left;\n        if (!this.parent.enableRtl) {\n            this.bdrAFLeft.style.left = left - firstCellLeft + scrollLeft - 1 + 'px';\n            this.bdrAFRight.style.left = endOff.left - parentRect.left - 2 + endOff.width + 'px';\n            this.bdrAFRight.style.width = totalWidth <= parseInt(this.bdrAFRight.style.left, 10) ? '0px' : '2px';\n            this.bdrAFTop.style.left = left + scrollLeft - 0.5 + 'px';\n            this.bdrAFTop.style.width = parseInt(this.bdrAFRight.style.left, 10) - parseInt(this.bdrAFLeft.style.left, 10)\n                - firstCellLeft + 1 + 'px';\n            if (totalWidth <= (parseInt(this.bdrAFTop.style.width, 10) + parseInt(this.bdrAFTop.style.left, 10))) {\n                var leftRemove = (parseInt(this.bdrAFTop.style.width, 10) + parseInt(this.bdrAFTop.style.left, 10)) - totalWidth;\n                this.bdrAFTop.style.width = parseInt(this.bdrAFTop.style.width, 10) - leftRemove + 'px';\n            }\n        }\n        else {\n            var scrolloffSet = (parentsUntil(this.startAFCell, literals.movableContent) ||\n                parentsUntil(this.startAFCell, literals.movableHeader)) ? stOff.right -\n                this.startAFCell.offsetParent.parentElement.getBoundingClientRect().width -\n                parentRect.left : 0;\n            this.bdrAFLeft.style.right = parentRect.right - endOff.right - 2 + endOff.width + 'px';\n            this.bdrAFLeft.style.width = totalWidth <= parseInt(this.bdrAFLeft.style.right, 10) ? '0px' : '2px';\n            this.bdrAFRight.style.right = parentRect.right - stOff.right - firstCellLeft + scrolloffSet - 1 + 'px';\n            this.bdrAFTop.style.left = endOff.left - parentRect.left - 0.5 + 'px';\n            this.bdrAFTop.style.width = parseInt(this.bdrAFLeft.style.right, 10) - parseInt(this.bdrAFRight.style.right, 10)\n                - firstCellLeft + 1 + 'px';\n            if (parseInt(this.bdrAFTop.style.left, 10) < 0) {\n                this.bdrAFTop.style.width = parseInt(this.bdrAFTop.style.width, 10) + parseInt(this.bdrAFTop.style.left, 10) + 'px';\n                this.bdrAFTop.style.left = '0px';\n            }\n        }\n        this.bdrAFLeft.style.top = stOff.top - parentRect.top - firstCellTop + scrollTop + 'px';\n        this.bdrAFLeft.style.height = endOff.top - stOff.top > 0 ?\n            (endOff.top - parentOff.top + endOff.height + 1) - (stOff.top - parentOff.top) + firstCellTop - rowHeight - scrollTop + 'px' :\n            endOff.height + firstCellTop - rowHeight - scrollTop + 'px';\n        this.bdrAFRight.style.top = this.bdrAFLeft.style.top;\n        this.bdrAFRight.style.height = parseInt(this.bdrAFLeft.style.height, 10) + 'px';\n        this.bdrAFTop.style.top = this.bdrAFRight.style.top;\n        this.bdrAFBottom.style.left = this.bdrAFTop.style.left;\n        this.bdrAFBottom.style.top = parseFloat(this.bdrAFLeft.style.top) + parseFloat(this.bdrAFLeft.style.height) - top - 1 + 'px';\n        this.bdrAFBottom.style.width = totalHeight <= parseFloat(this.bdrAFBottom.style.top) ? '0px' : this.bdrAFTop.style.width;\n        if (totalHeight <= (parseInt(this.bdrAFLeft.style.height, 10) + parseInt(this.bdrAFLeft.style.top, 10))) {\n            var topRemove = parseInt(this.bdrAFLeft.style.height, 10) + parseInt(this.bdrAFLeft.style.top, 10) - totalHeight;\n            this.bdrAFLeft.style.height = parseInt(this.bdrAFLeft.style.height, 10) - topRemove + 'px';\n            this.bdrAFRight.style.height = parseInt(this.bdrAFLeft.style.height, 10) + 'px';\n        }\n    };\n    Selection.prototype.createAFBorders = function () {\n        if (!this.bdrAFLeft) {\n            this.bdrAFLeft = this.parent.element.appendChild(createElement('div', { className: 'e-xlselaf', id: this.parent.element.id + '_bdrafleft', styles: 'width: 2px;' }));\n            this.bdrAFRight = this.parent.element.appendChild(createElement('div', { className: 'e-xlselaf', id: this.parent.element.id + '_bdrafright', styles: 'width: 2px;' }));\n            this.bdrAFBottom = this.parent.element.appendChild(createElement('div', { className: 'e-xlselaf', id: this.parent.element.id + '_bdrafbottom', styles: 'height: 2px;' }));\n            this.bdrAFTop = this.parent.element.appendChild(createElement('div', { className: 'e-xlselaf', id: this.parent.element.id + '_bdraftop', styles: 'height: 2px;' }));\n        }\n    };\n    Selection.prototype.showAFBorders = function () {\n        if (this.bdrAFLeft) {\n            this.bdrAFLeft.style.display = '';\n            this.bdrAFRight.style.display = '';\n            this.bdrAFBottom.style.display = '';\n            this.bdrAFTop.style.display = '';\n        }\n    };\n    Selection.prototype.hideAFBorders = function () {\n        if (this.bdrAFLeft) {\n            this.bdrAFLeft.style.display = 'none';\n            this.bdrAFRight.style.display = 'none';\n            this.bdrAFBottom.style.display = 'none';\n            this.bdrAFTop.style.display = 'none';\n        }\n    };\n    Selection.prototype.updateValue = function (rIdx, cIdx, cell) {\n        var args = this.createBeforeAutoFill(rIdx, cIdx, cell);\n        if (!args.cancel) {\n            var col = this.parent.getColumnByIndex(cIdx);\n            if (this.parent.editModule && cell) {\n                if (col.type === 'number') {\n                    this.parent.editModule.updateCell(rIdx, col.field, parseFloat(args.value));\n                }\n                else {\n                    this.parent.editModule.updateCell(rIdx, col.field, args.value);\n                }\n            }\n        }\n    };\n    Selection.prototype.createBeforeAutoFill = function (rowIndex, colIndex, cell) {\n        var col = this.parent.getColumnByIndex(colIndex);\n        var args = {\n            column: col,\n            value: cell.innerText\n        };\n        this.parent.trigger(events.beforeAutoFill, args);\n        return args;\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    Selection.prototype.getAutoFillCells = function (rowIndex, startCellIdx) {\n        var cls = '.e-cellselectionbackground';\n        var cells = [].slice.call(this.parent.getDataRows()[rowIndex].querySelectorAll(cls));\n        if (this.parent.isFrozenGrid()) {\n            cells = cells.concat([].slice.call(this.parent.getMovableDataRows()[rowIndex].querySelectorAll(cls)));\n            if (this.parent.getFrozenMode() === literals.leftRight) {\n                cells = cells.concat([].slice.call(this.parent.getFrozenRightDataRows()[rowIndex].querySelectorAll(cls)));\n            }\n        }\n        return cells;\n    };\n    Selection.prototype.selectLikeAutoFill = function (e, isApply) {\n        var startrowIdx = parseInt(parentsUntil(this.startAFCell, literals.row).getAttribute(literals.ariaRowIndex), 10);\n        var startCellIdx = parseInt(this.startAFCell.getAttribute(literals.ariaColIndex), 10);\n        var endrowIdx = parseInt(parentsUntil(this.endAFCell, literals.row).getAttribute(literals.ariaRowIndex), 10);\n        var endCellIdx = parseInt(this.endAFCell.getAttribute(literals.ariaColIndex), 10);\n        var rowLen = this.selectedRowCellIndexes.length - 1;\n        var colLen = this.selectedRowCellIndexes[0].cellIndexes.length - 1;\n        switch (true) { //direction\n            case !isApply && this.endAFCell.classList.contains('e-cellselectionbackground') &&\n                !!parentsUntil(e.target, literals.rowCell):\n                this.startAFCell = this.parent.getCellFromIndex(startrowIdx, startCellIdx);\n                this.endAFCell = this.parent.getCellFromIndex(startrowIdx + rowLen, startCellIdx + colLen);\n                this.drawAFBorders();\n                break;\n            case this.autoFillRLselection && startCellIdx + colLen < endCellIdx && //right\n                endCellIdx - startCellIdx - colLen + 1 > endrowIdx - startrowIdx - rowLen // right bottom\n                && endCellIdx - startCellIdx - colLen + 1 > startrowIdx - endrowIdx: //right top\n                this.endAFCell = this.parent.getCellFromIndex(startrowIdx + rowLen, endCellIdx);\n                endrowIdx = parseInt(parentsUntil(this.endAFCell, literals.row).getAttribute(literals.ariaRowIndex), 10);\n                endCellIdx = parseInt(this.endAFCell.getAttribute(literals.ariaColIndex), 10);\n                if (!isApply) {\n                    this.drawAFBorders();\n                }\n                else {\n                    var cellIdx = parseInt(this.endCell.getAttribute(literals.ariaColIndex), 10);\n                    for (var i = startrowIdx; i <= endrowIdx; i++) {\n                        var cells = this.getAutoFillCells(i, startCellIdx);\n                        var c = 0;\n                        for (var j = cellIdx + 1; j <= endCellIdx; j++) {\n                            if (c > colLen) {\n                                c = 0;\n                            }\n                            this.updateValue(i, j, cells[c]);\n                            c++;\n                        }\n                    }\n                    this.selectCellsByRange({ rowIndex: startrowIdx, cellIndex: this.startCellIndex }, { rowIndex: endrowIdx, cellIndex: endCellIdx });\n                }\n                break;\n            case this.autoFillRLselection && startCellIdx > endCellIdx && // left\n                startCellIdx - endCellIdx + 1 > endrowIdx - startrowIdx - rowLen && //left top\n                startCellIdx - endCellIdx + 1 > startrowIdx - endrowIdx: // left bottom\n                this.startAFCell = this.parent.getCellFromIndex(startrowIdx, endCellIdx);\n                this.endAFCell = this.endCell;\n                if (!isApply) {\n                    this.drawAFBorders();\n                }\n                else {\n                    for (var i = startrowIdx; i <= startrowIdx + rowLen; i++) {\n                        var cells = this.getAutoFillCells(i, startCellIdx);\n                        cells.reverse();\n                        var c = 0;\n                        for (var j = this.startCellIndex - 1; j >= endCellIdx; j--) {\n                            if (c > colLen) {\n                                c = 0;\n                            }\n                            this.updateValue(i, j, cells[c]);\n                            c++;\n                        }\n                    }\n                    this.selectCellsByRange({ rowIndex: startrowIdx, cellIndex: endCellIdx }, { rowIndex: startrowIdx + rowLen, cellIndex: this.startCellIndex + colLen });\n                }\n                break;\n            case startrowIdx > endrowIdx: //up\n                this.startAFCell = this.parent.getCellFromIndex(endrowIdx, startCellIdx);\n                this.endAFCell = this.endCell;\n                if (!isApply) {\n                    this.drawAFBorders();\n                }\n                else {\n                    var trIdx = parseInt(this.endCell.parentElement.getAttribute(literals.ariaRowIndex), 10);\n                    var r = trIdx;\n                    for (var i = startrowIdx - 1; i >= endrowIdx; i--) {\n                        if (r === this.startIndex - 1) {\n                            r = trIdx;\n                        }\n                        var cells = this.getAutoFillCells(r, startCellIdx);\n                        var c = 0;\n                        r--;\n                        for (var j = this.startCellIndex; j <= this.startCellIndex + colLen; j++) {\n                            this.updateValue(i, j, cells[c]);\n                            c++;\n                        }\n                    }\n                    this.selectCellsByRange({ rowIndex: endrowIdx, cellIndex: startCellIdx + colLen }, { rowIndex: startrowIdx + rowLen, cellIndex: startCellIdx });\n                }\n                break;\n            default: //down\n                this.endAFCell = this.parent.getCellFromIndex(endrowIdx, startCellIdx + colLen);\n                if (!isApply) {\n                    this.drawAFBorders();\n                }\n                else {\n                    var trIdx = parseInt(this.endCell.parentElement.getAttribute(literals.ariaRowIndex), 10);\n                    var r = this.startIndex;\n                    for (var i = trIdx + 1; i <= endrowIdx; i++) {\n                        if (r === trIdx + 1) {\n                            r = this.startIndex;\n                        }\n                        var cells = this.getAutoFillCells(r, startCellIdx);\n                        r++;\n                        var c = 0;\n                        for (var m = this.startCellIndex; m <= this.startCellIndex + colLen; m++) {\n                            this.updateValue(i, m, cells[c]);\n                            c++;\n                        }\n                    }\n                    this.selectCellsByRange({ rowIndex: trIdx - rowLen, cellIndex: startCellIdx }, { rowIndex: endrowIdx, cellIndex: startCellIdx + colLen });\n                }\n                break;\n        }\n    };\n    Selection.prototype.mouseUpHandler = function (e) {\n        document.body.classList.remove('e-disableuserselect');\n        if (this.element) {\n            remove(this.element);\n        }\n        if (this.isDragged && this.selectedRowCellIndexes.length === 1 && this.selectedRowCellIndexes[0].cellIndexes.length === 1) {\n            this.mUPTarget = parentsUntil(e.target, literals.rowCell);\n        }\n        else {\n            this.mUPTarget = null;\n        }\n        if (this.isDragged && !this.isAutoFillSel && this.selectionSettings.mode === 'Cell' &&\n            e.target.classList.contains(literals.rowCell)) {\n            var target = e.target;\n            var rowIndex = parseInt(target.parentElement.getAttribute(literals.ariaRowIndex), 10);\n            var cellIndex = parseInt(target.getAttribute(literals.ariaColIndex), 10);\n            this.isDragged = false;\n            this.clearCellSelection();\n            this.selectCellsByRange({ rowIndex: this.startDIndex, cellIndex: this.startDCellIndex }, { rowIndex: rowIndex, cellIndex: cellIndex });\n        }\n        this.isDragged = false;\n        this.updateAutoFillPosition();\n        if (this.isAutoFillSel) {\n            var lastCell = parentsUntil(e.target, literals.rowCell);\n            this.endAFCell = lastCell ? lastCell : this.endCell === this.endAFCell ? this.startAFCell : this.endAFCell;\n            this.startAFCell = this.startCell;\n            this.updateStartCellsIndex();\n            this.selectLikeAutoFill(e, true);\n            this.updateAutoFillPosition();\n            this.hideAFBorders();\n            this.positionBorders();\n            this.isAutoFillSel = false;\n        }\n        EventHandler.remove(this.parent.getContent(), 'mousemove', this.mouseMoveHandler);\n        if (this.parent.frozenRows) {\n            EventHandler.remove(this.parent.getHeaderContent(), 'mousemove', this.mouseMoveHandler);\n        }\n        EventHandler.remove(document, 'mouseup', this.mouseUpHandler);\n    };\n    Selection.prototype.hideAutoFill = function () {\n        if (this.autofill) {\n            this.autofill.style.display = 'none';\n        }\n    };\n    /**\n     * @returns {void}\n     * @hidden\n     */\n    Selection.prototype.updateAutoFillPosition = function () {\n        if (this.parent.enableAutoFill && !this.parent.isEdit &&\n            this.selectionSettings.cellSelectionMode.indexOf('Box') > -1 && !this.isRowType() && !this.isSingleSel()\n            && this.selectedRowCellIndexes.length) {\n            var index = parseInt(this.target.getAttribute(literals.ariaColIndex), 10);\n            var rindex = parseInt(this.target.getAttribute('index'), 10);\n            var rowIndex = this.selectedRowCellIndexes[this.selectedRowCellIndexes.length - 1].rowIndex;\n            var cells = this.getAutoFillCells(rowIndex, index).filter(function (ele) { return ele.style.display === ''; });\n            var col = this.parent.getColumnByIndex(index);\n            var isFrozenCol = col.getFreezeTableName() === 'movable';\n            var isFrozenRow = rindex < this.parent.frozenRows;\n            var isFrozenRight = this.parent.getFrozenMode() === literals.leftRight\n                && col.getFreezeTableName() === literals.frozenRight;\n            if (!select('#' + this.parent.element.id + '_autofill', parentsUntil(this.target, literals.table))) {\n                if (select('#' + this.parent.element.id + '_autofill', this.parent.element)) {\n                    select('#' + this.parent.element.id + '_autofill', this.parent.element).remove();\n                }\n                this.autofill = createElement('div', { className: 'e-autofill', id: this.parent.element.id + '_autofill' });\n                this.autofill.style.display = 'none';\n                if (!isFrozenRow) {\n                    if (!isFrozenCol) {\n                        this.parent.getContentTable().parentElement.appendChild(this.autofill);\n                    }\n                    else {\n                        this.parent.contentModule.getMovableContent().appendChild(this.autofill);\n                    }\n                }\n                else {\n                    if (!isFrozenCol) {\n                        this.parent.getHeaderTable().parentElement.appendChild(this.autofill);\n                    }\n                    else {\n                        this.parent.headerModule.getMovableHeader().appendChild(this.autofill);\n                    }\n                }\n                if (isFrozenRight) {\n                    if (isFrozenRow) {\n                        this.parent.getFrozenRightHeader().appendChild(this.autofill);\n                    }\n                    else {\n                        this.parent.getFrozenRightContent().appendChild(this.autofill);\n                    }\n                }\n            }\n            var cell = cells[cells.length - 1];\n            if (cell && cell.offsetParent) {\n                var clientRect = cell.getBoundingClientRect();\n                var parentOff = cell.offsetParent.getBoundingClientRect();\n                var colWidth = this.isLastCell(cell) ? 4 : 0;\n                var rowHeight = this.isLastRow(cell) ? 3 : 0;\n                if (!this.parent.enableRtl) {\n                    this.autofill.style.left = clientRect.left - parentOff.left + clientRect.width - 4 - colWidth + 'px';\n                }\n                else {\n                    this.autofill.style.right = parentOff.right - clientRect.right + clientRect.width - 4 - colWidth + 'px';\n                }\n                this.autofill.style.top = clientRect.top - parentOff.top + clientRect.height - 5 - rowHeight + 'px';\n            }\n            this.autofill.style.display = '';\n        }\n        else {\n            this.hideAutoFill();\n        }\n    };\n    Selection.prototype.mouseDownHandler = function (e) {\n        this.mouseButton = e.button;\n        var target = e.target;\n        var gObj = this.parent;\n        var isDrag;\n        var gridElement = parentsUntil(target, 'e-grid');\n        if (gridElement && gridElement.id !== gObj.element.id || parentsUntil(target, literals.headerContent) && !this.parent.frozenRows ||\n            parentsUntil(target, 'e-editedbatchcell') || parentsUntil(target, literals.editedRow)) {\n            return;\n        }\n        if (e.shiftKey || e.ctrlKey) {\n            e.preventDefault();\n        }\n        if (parentsUntil(target, literals.rowCell) && !e.shiftKey && !e.ctrlKey) {\n            if (gObj.selectionSettings.cellSelectionMode.indexOf('Box') > -1 && !this.isRowType() && !this.isSingleSel()) {\n                this.isCellDrag = true;\n                isDrag = true;\n            }\n            else if (gObj.allowRowDragAndDrop && !gObj.isEdit && !this.parent.selectionSettings.checkboxOnly) {\n                this.isRowDragSelected = false;\n                if (!this.isRowType() || this.isSingleSel() || closest(target, 'td').classList.contains('e-selectionbackground')) {\n                    this.isDragged = false;\n                    return;\n                }\n                isDrag = true;\n                this.element = this.parent.createElement('div', { className: 'e-griddragarea' });\n                gObj.getContent().appendChild(this.element);\n            }\n            if (isDrag) {\n                this.enableDrag(e, true);\n            }\n        }\n        this.updateStartEndCells();\n        if (target.classList.contains('e-autofill') || target.classList.contains('e-xlsel')) {\n            this.isCellDrag = true;\n            this.isAutoFillSel = true;\n            this.enableDrag(e);\n        }\n    };\n    Selection.prototype.updateStartEndCells = function () {\n        var cells = [].slice.call(this.parent.element.getElementsByClassName('e-cellselectionbackground'));\n        this.startCell = cells[0];\n        this.endCell = cells[cells.length - 1];\n        if (this.startCell) {\n            this.startIndex = parseInt(this.startCell.parentElement.getAttribute(literals.ariaRowIndex), 10);\n            this.startCellIndex = parseInt(parentsUntil(this.startCell, literals.rowCell).getAttribute(literals.ariaColIndex), 10);\n        }\n    };\n    Selection.prototype.updateStartCellsIndex = function () {\n        if (this.startCell) {\n            this.startIndex = parseInt(this.startCell.parentElement.getAttribute(literals.ariaRowIndex), 10);\n            this.startCellIndex = parseInt(parentsUntil(this.startCell, literals.rowCell).getAttribute(literals.ariaColIndex), 10);\n        }\n    };\n    Selection.prototype.enableDrag = function (e, isUpdate) {\n        var gObj = this.parent;\n        if (isUpdate) {\n            var tr = closest(e.target, 'tr');\n            this.startDIndex = parseInt(tr.getAttribute(literals.ariaRowIndex), 10);\n            this.startDCellIndex = parseInt(parentsUntil(e.target, literals.rowCell).getAttribute(literals.ariaColIndex), 10);\n        }\n        document.body.classList.add('e-disableuserselect');\n        var gBRect = gObj.element.getBoundingClientRect();\n        var postion = getPosition(e);\n        this.x = postion.x - gBRect.left;\n        this.y = postion.y - gBRect.top;\n        EventHandler.add(gObj.getContent(), 'mousemove', this.mouseMoveHandler, this);\n        if (this.parent.frozenRows) {\n            EventHandler.add(gObj.getHeaderContent(), 'mousemove', this.mouseMoveHandler, this);\n        }\n        EventHandler.add(document, 'mouseup', this.mouseUpHandler, this);\n    };\n    Selection.prototype.clearSelAfterRefresh = function (e) {\n        var isInfiniteScroll = this.parent.enableInfiniteScrolling && e.requestType === 'infiniteScroll';\n        if (e.requestType !== 'virtualscroll' && !this.parent.isPersistSelection && !isInfiniteScroll) {\n            this.clearSelection();\n        }\n    };\n    /**\n     * @returns {void}\n     * @hidden\n     */\n    Selection.prototype.addEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.evtHandlers = [{ event: events.uiUpdate, handler: this.enableAfterRender },\n            { event: events.initialEnd, handler: this.initializeSelection },\n            { event: events.rowSelectionComplete, handler: this.onActionComplete },\n            { event: events.cellSelectionComplete, handler: this.onActionComplete },\n            { event: events.inBoundModelChanged, handler: this.onPropertyChanged },\n            { event: events.cellFocused, handler: this.onCellFocused },\n            { event: events.beforeFragAppend, handler: this.clearSelAfterRefresh },\n            { event: events.columnPositionChanged, handler: this.columnPositionChanged },\n            { event: events.contentReady, handler: this.initialEnd },\n            { event: events.rowsRemoved, handler: this.rowsRemoved },\n            { event: events.headerRefreshed, handler: this.refreshHeader },\n            { event: events.destroy, handler: this.destroy }];\n        addRemoveEventListener(this.parent, this.evtHandlers, true, this);\n        this.actionBeginFunction = this.actionBegin.bind(this);\n        this.actionCompleteFunction = this.actionComplete.bind(this);\n        this.parent.addEventListener(events.actionBegin, this.actionBeginFunction);\n        this.parent.addEventListener(events.actionComplete, this.actionCompleteFunction);\n        this.addEventListener_checkbox();\n    };\n    /**\n     * @returns {void}\n     * @hidden\n     */\n    Selection.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        addRemoveEventListener(this.parent, this.evtHandlers, false);\n        this.parent.removeEventListener(events.actionBegin, this.actionBeginFunction);\n        this.parent.removeEventListener(events.actionComplete, this.actionCompleteFunction);\n        this.removeEventListener_checkbox();\n    };\n    Selection.prototype.wireEvents = function () {\n        this.isMacOS = navigator.userAgent.indexOf('Mac OS') !== -1;\n        if (this.isMacOS) {\n            EventHandler.add(this.parent.element, 'keydown', this.keyDownHandler, this);\n            EventHandler.add(this.parent.element, 'keyup', this.keyUpHandler, this);\n        }\n    };\n    Selection.prototype.unWireEvents = function () {\n        if (this.isMacOS) {\n            EventHandler.remove(this.parent.element, 'keydown', this.keyDownHandler);\n            EventHandler.remove(this.parent.element, 'keyup', this.keyUpHandler);\n        }\n    };\n    Selection.prototype.columnPositionChanged = function () {\n        if (!this.parent.isPersistSelection) {\n            this.clearSelection();\n        }\n    };\n    Selection.prototype.refreshHeader = function () {\n        this.setCheckAllState();\n    };\n    Selection.prototype.rowsRemoved = function (e) {\n        for (var i = 0; i < e.records.length; i++) {\n            delete (this.selectedRowState[e.records[i][this.primaryKey]]);\n            --this.totalRecordsCount;\n        }\n        this.setCheckAllState();\n    };\n    Selection.prototype.beforeFragAppend = function (e) {\n        if (e.requestType !== 'virtualscroll' && !this.parent.isPersistSelection) {\n            this.clearSelection();\n        }\n    };\n    Selection.prototype.getCheckAllBox = function () {\n        return this.parent.getHeaderContent().querySelector('.e-checkselectall');\n    };\n    Selection.prototype.enableAfterRender = function (e) {\n        if (e.module === this.getModuleName() && e.enable) {\n            this.render();\n            this.initPerisistSelection();\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    Selection.prototype.render = function (e) {\n        EventHandler.add(this.parent.getContent(), 'mousedown', this.mouseDownHandler, this);\n        EventHandler.add(this.parent.getHeaderContent(), 'mousedown', this.mouseDownHandler, this);\n    };\n    Selection.prototype.onPropertyChanged = function (e) {\n        if (e.module !== this.getModuleName()) {\n            return;\n        }\n        var gObj = this.parent;\n        if (!isNullOrUndefined(e.properties.type) && this.selectionSettings.type === 'Single') {\n            if (this.selectedRowCellIndexes.length > 1) {\n                this.clearCellSelection();\n                this.prevCIdxs = undefined;\n            }\n            if (this.selectedRowIndexes.length > 1) {\n                this.clearRowSelection();\n                this.prevRowIndex = undefined;\n            }\n            if (this.selectedColumnsIndexes.length > 1) {\n                this.clearColumnSelection();\n                this.prevColIndex = undefined;\n            }\n            this.enableSelectMultiTouch = false;\n            this.hidePopUp();\n        }\n        if (!isNullOrUndefined(e.properties.mode) ||\n            !isNullOrUndefined(e.properties.cellSelectionMode)) {\n            this.clearSelection();\n            this.prevRowIndex = undefined;\n            this.prevCIdxs = undefined;\n            this.prevColIndex = undefined;\n        }\n        this.isPersisted = true;\n        this.checkBoxSelectionChanged();\n        this.isPersisted = false;\n        if (!this.parent.isCheckBoxSelection) {\n            this.initPerisistSelection();\n        }\n        var checkboxColumn = this.parent.getColumns().filter(function (col) { return col.type === 'checkbox'; });\n        if (checkboxColumn.length) {\n            gObj.isCheckBoxSelection = !(this.selectionSettings.checkboxMode === 'ResetOnRowClick');\n        }\n        this.drawBorders();\n    };\n    Selection.prototype.hidePopUp = function () {\n        if (this.parent.element.querySelector('.e-gridpopup').getElementsByClassName('e-rowselect').length) {\n            this.parent.element.querySelector('.e-gridpopup').style.display = 'none';\n        }\n    };\n    Selection.prototype.initialEnd = function (e) {\n        var isFrozen = this.parent.isFrozenGrid();\n        var isLeftRightFrozen = this.parent.getFrozenMode() === literals.leftRight;\n        if ((!isFrozen || (isFrozen && (!isLeftRightFrozen && !e.args.isFrozen)\n            || (isLeftRightFrozen && e.args.renderFrozenRightContent))) && !this.selectedRowIndexes.length) {\n            this.parent.off(events.contentReady, this.initialEnd);\n            this.selectRow(this.parent.selectedRowIndex);\n        }\n    };\n    Selection.prototype.checkBoxSelectionChanged = function () {\n        var gobj = this.parent;\n        gobj.off(events.contentReady, this.checkBoxSelectionChanged);\n        var checkboxColumn = gobj.getColumns().filter(function (col) { return col.type === 'checkbox'; });\n        if (checkboxColumn.length > 0) {\n            gobj.isCheckBoxSelection = true;\n            this.chkField = checkboxColumn[0].field;\n            this.totalRecordsCount = this.parent.pageSettings.totalRecordsCount;\n            if (isNullOrUndefined(this.totalRecordsCount)) {\n                this.totalRecordsCount = this.getCurrentBatchRecordChanges().length;\n            }\n            if (this.isSingleSel()) {\n                gobj.selectionSettings.type = 'Multiple';\n                gobj.dataBind();\n            }\n            else {\n                this.initPerisistSelection();\n            }\n        }\n        if (!gobj.isCheckBoxSelection && !this.isPersisted) {\n            this.chkField = null;\n            this.initPerisistSelection();\n        }\n    };\n    Selection.prototype.initPerisistSelection = function () {\n        var gobj = this.parent;\n        if (this.parent.selectionSettings.persistSelection && this.parent.getPrimaryKeyFieldNames().length > 0) {\n            gobj.isPersistSelection = true;\n            this.ensureCheckboxFieldSelection();\n        }\n        else if (this.parent.getPrimaryKeyFieldNames().length > 0) {\n            gobj.isPersistSelection = false;\n            this.ensureCheckboxFieldSelection();\n        }\n        else {\n            gobj.isPersistSelection = false;\n            this.selectedRowState = {};\n        }\n    };\n    Selection.prototype.ensureCheckboxFieldSelection = function () {\n        var gobj = this.parent;\n        this.primaryKey = this.parent.getPrimaryKeyFieldNames()[0];\n        if (!gobj.enableVirtualization && this.chkField\n            && ((gobj.isPersistSelection && Object.keys(this.selectedRowState).length === 0) ||\n                !gobj.isPersistSelection)) {\n            var data = this.parent.getDataModule();\n            var query = new Query().where(this.chkField, 'equal', true);\n            if (!query.params) {\n                query.params = this.parent.query.params;\n            }\n            var dataManager = data.getData({}, query);\n            // eslint-disable-next-line @typescript-eslint/no-this-alias\n            var proxy_1 = this;\n            this.parent.showSpinner();\n            dataManager.then(function (e) {\n                proxy_1.dataSuccess(e.result);\n                proxy_1.refreshPersistSelection();\n                proxy_1.parent.hideSpinner();\n            });\n        }\n    };\n    Selection.prototype.dataSuccess = function (res) {\n        for (var i = 0; i < res.length; i++) {\n            if (isNullOrUndefined(this.selectedRowState[res[i][this.primaryKey]]) && res[i][this.chkField]) {\n                this.selectedRowState[res[i][this.primaryKey]] = res[i][this.chkField];\n            }\n        }\n        this.persistSelectedData = res;\n    };\n    Selection.prototype.setRowSelection = function (state) {\n        if (!this.parent.getDataModule().isRemote()) {\n            if (state) {\n                if (this.parent.groupSettings.columns.length) {\n                    for (var _i = 0, _a = this.getData().records; _i < _a.length; _i++) {\n                        var data = _a[_i];\n                        this.selectedRowState[data[this.primaryKey]] = true;\n                    }\n                }\n                else {\n                    for (var _b = 0, _c = this.getData(); _b < _c.length; _b++) {\n                        var data = _c[_b];\n                        this.selectedRowState[data[this.primaryKey]] = true;\n                    }\n                }\n            }\n            else {\n                this.selectedRowState = {};\n            }\n            // (this.getData()).forEach(function (data) {\n            //     this.selectedRowState[data[this.primaryKey]] = true;\n            // })\n        }\n    };\n    Selection.prototype.getData = function () {\n        return this.parent.getDataModule().dataManager.executeLocal(this.parent.getDataModule().generateQuery(true));\n    };\n    Selection.prototype.refreshPersistSelection = function () {\n        var rows = this.parent.getRows();\n        if (this.parent.isCheckBoxSelection && this.parent.isFrozenGrid()) {\n            var mtbody = this.parent.getMovableContentTbody();\n            if (mtbody.querySelector('.e-checkselect')) {\n                rows = this.parent.getMovableRows();\n            }\n            if (this.parent.getFrozenMode() === literals.leftRight) {\n                var frtbody = this.parent.getFrozenRightContentTbody();\n                if (frtbody.querySelector('.e-checkselect')) {\n                    rows = this.parent.getFrozenRightRows();\n                }\n            }\n        }\n        this.totalRecordsCount = this.parent.getCurrentViewRecords().length;\n        if (this.parent.allowPaging) {\n            this.totalRecordsCount = this.parent.pageSettings.totalRecordsCount;\n        }\n        if (rows !== null && rows.length > 0 && (this.parent.isPersistSelection || this.chkField)) {\n            var indexes = [];\n            for (var j = 0; j < rows.length; j++) {\n                var rowObj = this.getRowObj(rows[j]);\n                var pKey = rowObj ? rowObj.data ? rowObj.data[this.primaryKey] : null : null;\n                if (pKey === null) {\n                    return;\n                }\n                var checkState = void 0;\n                var chkBox = rows[j].querySelector('.e-checkselect');\n                if (this.selectedRowState[pKey] || (this.parent.checkAllRows === 'Check' && this.selectedRowState[pKey] &&\n                    this.totalRecordsCount === Object.keys(this.selectedRowState).length && this.chkAllCollec.indexOf(pKey) < 0)\n                    || (this.parent.checkAllRows === 'Uncheck' && this.chkAllCollec.indexOf(pKey) > 0)\n                    || (this.parent.checkAllRows === 'Intermediate' && !isNullOrUndefined(this.chkField) && rowObj.data[this.chkField])) {\n                    indexes.push(parseInt(rows[j].getAttribute(literals.ariaRowIndex), 10));\n                    checkState = true;\n                }\n                else {\n                    checkState = false;\n                    if (this.checkedTarget !== chkBox && this.parent.isCheckBoxSelection && chkBox) {\n                        removeAddCboxClasses(chkBox.nextElementSibling, checkState);\n                    }\n                }\n                this.updatePersistCollection(rows[j], checkState);\n            }\n            if (this.isSingleSel() && indexes.length > 0) {\n                this.selectRow(indexes[0], true);\n            }\n            else {\n                this.selectRows(indexes);\n            }\n        }\n        if (this.parent.isCheckBoxSelection && this.getCurrentBatchRecordChanges().length > 0) {\n            this.setCheckAllState();\n        }\n    };\n    Selection.prototype.actionBegin = function (e) {\n        if (e.requestType === 'save' && this.parent.isPersistSelection) {\n            var editChkBox = this.parent.element.querySelector('.e-edit-checkselect');\n            if (!isNullOrUndefined(editChkBox)) {\n                var row = closest(editChkBox, '.' + literals.editedRow);\n                if (row) {\n                    if (this.parent.editSettings.mode === 'Dialog') {\n                        row = this.parent.element.querySelector('.e-dlgeditrow');\n                    }\n                    var rowObj = this.getRowObj(row);\n                    if (!rowObj) {\n                        return;\n                    }\n                    this.selectedRowState[rowObj.data[this.primaryKey]] = rowObj.isSelected = editChkBox.checked;\n                }\n                else {\n                    this.isCheckedOnAdd = editChkBox.checked;\n                }\n            }\n        }\n    };\n    Selection.prototype.actionComplete = function (e) {\n        if (e.requestType === 'save' && this.parent.isPersistSelection) {\n            if (e.action === 'add' && this.isCheckedOnAdd) {\n                var rowObj = this.parent.getRowObjectFromUID(this.parent.getRows()[e.selectedRow].getAttribute('data-uid'));\n                this.selectedRowState[rowObj.data[this.primaryKey]] = rowObj.isSelected = this.isCheckedOnAdd;\n            }\n            this.refreshPersistSelection();\n        }\n        if (e.requestType === 'delete' && this.parent.isPersistSelection) {\n            var records = e.data;\n            var data = records.slice();\n            for (var i = 0; i < data.length; i++) {\n                if (!isNullOrUndefined(data[i][this.primaryKey])) {\n                    this.updatePersistDelete(data[i][this.primaryKey]);\n                }\n            }\n            this.setCheckAllState();\n            this.totalRecordsCount = this.parent.pageSettings.totalRecordsCount;\n        }\n        if (e.requestType === 'paging') {\n            this.prevRowIndex = undefined;\n            this.prevCIdxs = undefined;\n            this.prevECIdxs = undefined;\n        }\n    };\n    Selection.prototype.onDataBound = function () {\n        if (!this.parent.enableVirtualization && this.parent.isPersistSelection) {\n            if (this.selectedRecords.length) {\n                this.isPrevRowSelection = true;\n            }\n            this.refreshPersistSelection();\n        }\n        if (this.parent.enableVirtualization) {\n            this.setCheckAllState();\n        }\n        this.initialRowSelection = this.isRowType() && this.parent.element.querySelectorAll('.e-selectionbackground') &&\n            this.parent.getSelectedRows().length ? true : false;\n        if (this.parent.isCheckBoxSelection && !this.initialRowSelection) {\n            var totalRecords = this.parent.getRowsObject();\n            var indexes = [];\n            for (var i = 0; i < totalRecords.length; i++) {\n                if (totalRecords[i].isSelected) {\n                    indexes.push(i);\n                }\n            }\n            if (indexes.length) {\n                this.selectRows(indexes);\n            }\n            this.initialRowSelection = true;\n        }\n    };\n    Selection.prototype.updatePersistSelectedData = function (checkState) {\n        if (this.parent.isPersistSelection) {\n            var rows = this.parent.getRows();\n            for (var i = 0; i < rows.length; i++) {\n                this.updatePersistCollection(rows[i], checkState);\n            }\n            if (this.parent.checkAllRows === 'Uncheck') {\n                this.setRowSelection(false);\n                this.persistSelectedData = this.parent.getDataModule().isRemote() ? this.persistSelectedData : [];\n            }\n            else if (this.parent.checkAllRows === 'Check') {\n                this.setRowSelection(true);\n                this.persistSelectedData = !this.parent.getDataModule().isRemote() ?\n                    this.parent.groupSettings.columns.length ? this.getData().records.slice() :\n                        this.getData().slice() : this.persistSelectedData;\n            }\n        }\n    };\n    Selection.prototype.checkSelectAllAction = function (checkState) {\n        var cRenderer = this.getRenderer();\n        var editForm = this.parent.element.querySelector('.e-gridform');\n        this.checkedTarget = this.getCheckAllBox();\n        if (checkState && this.getCurrentBatchRecordChanges().length) {\n            this.parent.checkAllRows = 'Check';\n            this.updatePersistSelectedData(checkState);\n            this.selectRowsByRange(cRenderer.getVirtualRowIndex(0), cRenderer.getVirtualRowIndex(this.getCurrentBatchRecordChanges().length - 1));\n        }\n        else {\n            this.parent.checkAllRows = 'Uncheck';\n            this.updatePersistSelectedData(checkState);\n            this.clearSelection();\n        }\n        this.chkAllCollec = [];\n        if (!isNullOrUndefined(editForm)) {\n            var editChkBox = editForm.querySelector('.e-edit-checkselect');\n            if (!isNullOrUndefined(editChkBox)) {\n                removeAddCboxClasses(editChkBox.nextElementSibling, checkState);\n            }\n        }\n    };\n    Selection.prototype.checkSelectAll = function (checkBox) {\n        var _this = this;\n        var stateStr = this.getCheckAllStatus(checkBox);\n        var state = stateStr === 'Check';\n        this.isHeaderCheckboxClicked = true;\n        if (stateStr === 'Intermediate') {\n            state = this.getCurrentBatchRecordChanges().some(function (data) {\n                return data[_this.primaryKey] in _this.selectedRowState;\n            });\n        }\n        if (this.parent.isPersistSelection && this.parent.allowPaging) {\n            this.totalRecordsCount = this.parent.pageSettings.totalRecordsCount;\n        }\n        this.checkSelectAllAction(!state);\n        this.target = null;\n        if (this.getCurrentBatchRecordChanges().length > 0) {\n            this.setCheckAllState();\n        }\n        this.triggerChkChangeEvent(checkBox, !state);\n    };\n    Selection.prototype.getCheckAllStatus = function (ele) {\n        var classes = ele ? ele.nextElementSibling.classList :\n            this.getCheckAllBox().nextElementSibling.classList;\n        var status;\n        if (classes.contains('e-check')) {\n            status = 'Check';\n        }\n        else if (classes.contains('e-uncheck')) {\n            status = 'Uncheck';\n        }\n        else if (classes.contains('e-stop')) {\n            status = 'Intermediate';\n        }\n        else {\n            status = 'None';\n        }\n        return status;\n    };\n    Selection.prototype.checkSelect = function (checkBox) {\n        var target = closest(this.checkedTarget, '.' + literals.rowCell);\n        var gObj = this.parent;\n        this.isMultiCtrlRequest = true;\n        var rIndex = 0;\n        this.isHeaderCheckboxClicked = false;\n        if (isGroupAdaptive(gObj)) {\n            var uid = target.parentElement.getAttribute('data-uid');\n            rIndex = gObj.getRows().map(function (m) { return m.getAttribute('data-uid'); }).indexOf(uid);\n        }\n        else {\n            rIndex = parseInt(target.parentElement.getAttribute(literals.ariaRowIndex), 10);\n        }\n        if (this.parent.isPersistSelection && this.parent.element.getElementsByClassName(literals.addedRow).length > 0 &&\n            this.parent.editSettings.newRowPosition === 'Top') {\n            ++rIndex;\n        }\n        this.rowCellSelectionHandler(rIndex, parseInt(target.getAttribute(literals.ariaColIndex), 10));\n        this.moveIntoUncheckCollection(closest(target, '.' + literals.row));\n        this.setCheckAllState();\n        this.isMultiCtrlRequest = false;\n        this.triggerChkChangeEvent(checkBox, checkBox.nextElementSibling.classList.contains('e-check'));\n    };\n    Selection.prototype.moveIntoUncheckCollection = function (row) {\n        if (this.parent.checkAllRows === 'Check' || this.parent.checkAllRows === 'Uncheck') {\n            var rowObj = this.getRowObj(row);\n            var pKey = rowObj && rowObj.data ? rowObj.data[this.primaryKey] : null;\n            if (!pKey) {\n                return;\n            }\n            if (this.chkAllCollec.indexOf(pKey) < 0) {\n                this.chkAllCollec.push(pKey);\n            }\n            else {\n                this.chkAllCollec.splice(this.chkAllCollec.indexOf(pKey), 1);\n            }\n        }\n    };\n    Selection.prototype.triggerChkChangeEvent = function (checkBox, checkState) {\n        this.parent.trigger(events.checkBoxChange, {\n            checked: checkState, selectedRowIndexes: this.parent.getSelectedRowIndexes(),\n            target: checkBox\n        });\n        if (!this.parent.isEdit) {\n            this.checkedTarget = null;\n        }\n    };\n    Selection.prototype.updateSelectedRowIndex = function (index) {\n        if (this.parent.isCheckBoxSelection && (this.parent.enableVirtualization || this.parent.enableInfiniteScrolling)\n            && !this.parent.getDataModule().isRemote()) {\n            if (this.parent.checkAllRows === 'Check') {\n                this.selectedRowIndexes = [];\n                var dataLength = this.getData().length;\n                for (var data = 0; data < dataLength; data++) {\n                    this.selectedRowIndexes.push(data);\n                }\n            }\n            else if (this.parent.checkAllRows === 'Uncheck') {\n                this.selectedRowIndexes = [];\n            }\n            else {\n                var row = this.parent.getRowByIndex(index);\n                if (index && row && row.getAttribute('aria-selected') === 'false') {\n                    var selectedVal = this.selectedRowIndexes.indexOf(index);\n                    this.selectedRowIndexes.splice(selectedVal, 1);\n                }\n            }\n        }\n    };\n    Selection.prototype.isAllSelected = function () {\n        var data = this.getData();\n        for (var i = 0; i < data.length; i++) {\n            var pKey = data[i][this.primaryKey];\n            if (!this.selectedRowState[pKey]) {\n                return false;\n            }\n        }\n        return true;\n    };\n    Selection.prototype.setCheckAllState = function (index, isInteraction) {\n        if (this.parent.isCheckBoxSelection || this.parent.selectionSettings.checkboxMode === 'ResetOnRowClick') {\n            var checkToSelectAll = true;\n            var checkedLen = Object.keys(this.selectedRowState).length;\n            if (!this.parent.isPersistSelection) {\n                checkedLen = this.selectedRowIndexes.length;\n                this.totalRecordsCount = this.getCurrentBatchRecordChanges().length;\n            }\n            if (this.parent.isPersistSelection && !this.parent.getDataModule().isRemote() && (this.parent.searchSettings.key.length\n                || this.parent.filterSettings.columns.length)) {\n                checkToSelectAll = this.isAllSelected();\n            }\n            var input = this.getCheckAllBox();\n            if (input) {\n                var spanEle = input.nextElementSibling;\n                removeClass([spanEle], ['e-check', 'e-stop', 'e-uncheck']);\n                setChecked(input, false);\n                input.indeterminate = false;\n                if (checkToSelectAll && checkedLen === this.totalRecordsCount && this.totalRecordsCount\n                    || ((this.parent.enableVirtualization || this.parent.enableInfiniteScrolling)\n                        && !this.parent.allowPaging && !this.parent.getDataModule().isRemote()\n                        && (this.getData().length && checkedLen === this.getData().length))) {\n                    addClass([spanEle], ['e-check']);\n                    setChecked(input, true);\n                    if (isInteraction) {\n                        this.getRenderer().setSelection(null, true, true);\n                    }\n                    this.parent.checkAllRows = 'Check';\n                }\n                else if (!this.selectedRowIndexes.length ||\n                    checkedLen === 0 && this.getCurrentBatchRecordChanges().length === 0) {\n                    addClass([spanEle], ['e-uncheck']);\n                    if (isInteraction) {\n                        this.getRenderer().setSelection(null, false, true);\n                    }\n                    this.parent.checkAllRows = 'Uncheck';\n                    if (checkedLen === 0 && this.getCurrentBatchRecordChanges().length === 0) {\n                        addClass([spanEle.parentElement], ['e-checkbox-disabled']);\n                    }\n                    else {\n                        removeClass([spanEle.parentElement], ['e-checkbox-disabled']);\n                    }\n                }\n                else {\n                    addClass([spanEle], ['e-stop']);\n                    this.parent.checkAllRows = 'Intermediate';\n                    input.indeterminate = true;\n                }\n                if ((this.parent.enableVirtualization || this.parent.enableInfiniteScrolling)\n                    && !this.parent.allowPaging && !this.parent.getDataModule().isRemote()) {\n                    this.updateSelectedRowIndex(index);\n                }\n            }\n        }\n    };\n    Selection.prototype.keyDownHandler = function (e) {\n        // Below are keyCode for command key in MAC OS. Safari/Chrome(91-Left command, 93-Right Command), Opera(17), FireFox(224)\n        if ((((Browser.info.name === 'chrome') || (Browser.info.name === 'safari')) && (e.keyCode === 91 || e.keyCode === 93)) ||\n            (Browser.info.name === 'opera' && e.keyCode === 17) || (Browser.info.name === 'mozilla' && e.keyCode === 224)) {\n            this.cmdKeyPressed = true;\n        }\n    };\n    Selection.prototype.keyUpHandler = function (e) {\n        if ((((Browser.info.name === 'chrome') || (Browser.info.name === 'safari')) && (e.keyCode === 91 || e.keyCode === 93)) ||\n            (Browser.info.name === 'opera' && e.keyCode === 17) || (Browser.info.name === 'mozilla' && e.keyCode === 224)) {\n            this.cmdKeyPressed = false;\n        }\n    };\n    Selection.prototype.clickHandler = function (e) {\n        var target = e.target;\n        this.actualTarget = target;\n        if (this.selectionSettings.persistSelection) {\n            this.deSelectedData = iterateExtend(this.persistSelectedData);\n        }\n        if (parentsUntil(target, literals.row) || parentsUntil(target, 'e-headerchkcelldiv') ||\n            (this.selectionSettings.allowColumnSelection && target.classList.contains('e-headercell'))) {\n            this.isInteracted = true;\n        }\n        this.isMultiCtrlRequest = e.ctrlKey || this.enableSelectMultiTouch ||\n            (this.isMacOS && this.cmdKeyPressed);\n        this.isMultiShiftRequest = e.shiftKey;\n        this.popUpClickHandler(e);\n        var chkSelect = false;\n        this.preventFocus = true;\n        var checkBox;\n        var checkWrap = parentsUntil(target, 'e-checkbox-wrapper');\n        this.checkSelectAllClicked = checkWrap && checkWrap.getElementsByClassName('e-checkselectall') ||\n            (this.selectionSettings.persistSelection && parentsUntil(target, literals.row)) ? true : false;\n        if (checkWrap && checkWrap.querySelectorAll('.e-checkselect,.e-checkselectall').length > 0) {\n            checkBox = checkWrap.querySelector('input[type=\"checkbox\"]');\n            chkSelect = true;\n        }\n        this.drawBorders();\n        this.updateAutoFillPosition();\n        target = parentsUntil(target, literals.rowCell);\n        if (((target && target.parentElement.classList.contains(literals.row) && !this.parent.selectionSettings.checkboxOnly) || chkSelect)\n            && !this.isRowDragSelected) {\n            if (this.parent.isCheckBoxSelection) {\n                this.isMultiCtrlRequest = true;\n            }\n            this.target = target;\n            if (!isNullOrUndefined(checkBox)) {\n                this.checkedTarget = checkBox;\n                if (checkBox.classList.contains('e-checkselectall')) {\n                    this.checkSelectAll(checkBox);\n                }\n                else {\n                    this.checkSelect(checkBox);\n                }\n            }\n            else {\n                var gObj = this.parent;\n                var rIndex = 0;\n                if (isGroupAdaptive(gObj)) {\n                    var uid = target.parentElement.getAttribute('data-uid');\n                    rIndex = gObj.getRows().map(function (m) { return m.getAttribute('data-uid'); }).indexOf(uid);\n                }\n                else {\n                    rIndex = parseInt(target.parentElement.getAttribute(literals.ariaRowIndex), 10);\n                }\n                if (this.parent.isPersistSelection && this.parent.element.getElementsByClassName(literals.addedRow).length > 0) {\n                    ++rIndex;\n                }\n                if (!this.mUPTarget || !this.mUPTarget.isEqualNode(target)) {\n                    this.rowCellSelectionHandler(rIndex, parseInt(target.getAttribute(literals.ariaColIndex), 10));\n                }\n                this.parent.hoverFrozenRows(e);\n                if (this.parent.isCheckBoxSelection) {\n                    this.moveIntoUncheckCollection(closest(target, '.' + literals.row));\n                    this.setCheckAllState();\n                }\n            }\n            if (!this.parent.isCheckBoxSelection && Browser.isDevice && !this.isSingleSel()) {\n                this.showPopup(e);\n            }\n        }\n        else if (e.target.classList.contains('e-headercell') &&\n            !e.target.classList.contains('e-stackedheadercell')) {\n            var uid = e.target.querySelector('.e-headercelldiv').getAttribute('e-mappinguid');\n            this.headerSelectionHandler(this.parent.getColumnIndexByUid(uid));\n        }\n        this.isMultiCtrlRequest = false;\n        this.isMultiShiftRequest = false;\n        if (isNullOrUndefined(closest(e.target, '.e-unboundcell'))) {\n            this.preventFocus = false;\n        }\n    };\n    Selection.prototype.popUpClickHandler = function (e) {\n        var target = e.target;\n        if (closest(target, '.e-headercell') || e.target.classList.contains(literals.rowCell) ||\n            closest(target, '.e-gridpopup')) {\n            if (target.classList.contains('e-rowselect')) {\n                if (!target.classList.contains('e-spanclicked')) {\n                    target.classList.add('e-spanclicked');\n                    this.enableSelectMultiTouch = true;\n                }\n                else {\n                    target.classList.remove('e-spanclicked');\n                    this.enableSelectMultiTouch = false;\n                    this.parent.element.querySelector('.e-gridpopup').style.display = 'none';\n                }\n            }\n        }\n        else {\n            this.parent.element.querySelector('.e-gridpopup').style.display = 'none';\n        }\n    };\n    Selection.prototype.showPopup = function (e) {\n        if (!this.selectionSettings.enableSimpleMultiRowSelection) {\n            setCssInGridPopUp(this.parent.element.querySelector('.e-gridpopup'), e, 'e-rowselect e-icons e-icon-rowselect' +\n                (!this.isSingleSel() && (this.selectedRecords.length > (this.parent.getFrozenColumns() ? 2 : 1)\n                    || this.selectedRowCellIndexes.length > 1) ? ' e-spanclicked' : ''));\n        }\n    };\n    Selection.prototype.rowCellSelectionHandler = function (rowIndex, cellIndex) {\n        if ((!this.isMultiCtrlRequest && !this.isMultiShiftRequest) || this.isSingleSel()) {\n            if (!this.isDragged) {\n                this.selectRow(rowIndex, this.selectionSettings.enableToggle);\n            }\n            this.selectCell({ rowIndex: rowIndex, cellIndex: cellIndex }, this.selectionSettings.enableToggle);\n            if (this.selectedRowCellIndexes.length) {\n                this.updateAutoFillPosition();\n            }\n            this.drawBorders();\n        }\n        else if (this.isMultiShiftRequest) {\n            if (this.parent.isCheckBoxSelection || (!this.parent.isCheckBoxSelection &&\n                !closest(this.target, '.' + literals.rowCell).classList.contains(literals.gridChkBox))) {\n                this.selectRowsByRange(isUndefined(this.prevRowIndex) ? rowIndex : this.prevRowIndex, rowIndex);\n            }\n            else {\n                this.addRowsToSelection([rowIndex]);\n            }\n            this.selectCellsByRange(isUndefined(this.prevCIdxs) ? { rowIndex: rowIndex, cellIndex: cellIndex } : this.prevCIdxs, { rowIndex: rowIndex, cellIndex: cellIndex });\n            this.updateAutoFillPosition();\n            this.drawBorders();\n        }\n        else {\n            this.addRowsToSelection([rowIndex]);\n            this.addCellsToSelection([{ rowIndex: rowIndex, cellIndex: cellIndex }]);\n            this.showHideBorders('none');\n        }\n        this.isDragged = false;\n    };\n    Selection.prototype.onCellFocused = function (e) {\n        if (this.parent.frozenRows && e.container.isHeader && e.byKey) {\n            if (e.keyArgs.action === 'upArrow') {\n                if (this.parent.allowFiltering) {\n                    e.isJump = e.element.tagName === 'INPUT' ? true : false;\n                }\n                else {\n                    e.isJump = e.element.tagName === 'TH' ? true : false;\n                }\n            }\n            else {\n                if (e.keyArgs.action === 'downArrow') {\n                    var rIdx = Number(e.element.parentElement.getAttribute(literals.ariaRowIndex));\n                    e.isJump = rIdx === 0 ? true : false;\n                }\n                else {\n                    if (e.keyArgs.action === 'ctrlHome') {\n                        e.isJump = true;\n                    }\n                }\n            }\n        }\n        var clear = this.parent.isFrozenGrid() ? (((e.container.isHeader && e.element.tagName !== 'TD' && e.isJump &&\n            !this.selectionSettings.allowColumnSelection) ||\n            ((e.container.isContent || e.element.tagName === 'TD') && !(e.container.isSelectable || e.element.tagName === 'TD')))\n            && !(e.byKey && e.keyArgs.action === 'space')) : ((e.container.isHeader && e.isJump) ||\n            (e.container.isContent && !e.container.isSelectable)) && !(e.byKey && e.keyArgs.action === 'space')\n            && !(e.element.classList.contains('e-detailrowexpand') || e.element.classList.contains('e-detailrowcollapse'));\n        var headerAction = (e.container.isHeader && e.element.tagName !== 'TD' && !closest(e.element, '.' + literals.rowCell))\n            && !(e.byKey && e.keyArgs.action === 'space');\n        if (!e.byKey || clear) {\n            if (clear && !this.parent.isCheckBoxSelection) {\n                this.clearSelection();\n            }\n            return;\n        }\n        var _a = e.container.isContent ? e.container.indexes : e.indexes, rowIndex = _a[0], cellIndex = _a[1];\n        var prev = this.focus.getPrevIndexes();\n        if (this.parent.frozenRows) {\n            if (e.container.isHeader && (e.element.tagName === 'TD' || closest(e.element, '.' + literals.rowCell))) {\n                var thLen = this.parent.getHeaderTable().querySelector('thead').childElementCount;\n                rowIndex -= thLen;\n                prev.rowIndex = !isNullOrUndefined(prev.rowIndex) ? prev.rowIndex - thLen : null;\n            }\n            else {\n                rowIndex += this.parent.frozenRows;\n                prev.rowIndex = prev.rowIndex === 0 || !isNullOrUndefined(prev.rowIndex) ? prev.rowIndex + this.parent.frozenRows : null;\n            }\n        }\n        if (this.parent.isFrozenGrid()) {\n            var cIdx = Number(e.element.getAttribute(literals.ariaColIndex));\n            var selectedIndexes = this.parent.getSelectedRowCellIndexes();\n            if (selectedIndexes.length && prev.cellIndex === 0) {\n                prev.cellIndex = selectedIndexes[selectedIndexes.length - 1].cellIndexes[0];\n            }\n            prev.cellIndex = !isNullOrUndefined(prev.cellIndex) ? (prev.cellIndex === cellIndex ? cIdx : cIdx - 1) : null;\n            cellIndex = cIdx;\n        }\n        if (this.parent.enableInfiniteScrolling && this.parent.infiniteScrollSettings.enableCache) {\n            rowIndex = parseInt(e.element.parentElement.getAttribute('aria-rowindex'), 10);\n        }\n        if ((headerAction || (['ctrlPlusA', 'escape'].indexOf(e.keyArgs.action) === -1 &&\n            e.keyArgs.action !== 'space' && rowIndex === prev.rowIndex && cellIndex === prev.cellIndex)) &&\n            !this.selectionSettings.allowColumnSelection) {\n            return;\n        }\n        this.preventFocus = true;\n        var columnIndex = this.getKeyColIndex(e);\n        if (this.needColumnSelection) {\n            cellIndex = columnIndex;\n        }\n        switch (e.keyArgs.action) {\n            case 'downArrow':\n            case 'upArrow':\n            case 'enter':\n            case 'shiftEnter':\n                this.target = e.element;\n                this.isKeyAction = true;\n                this.applyDownUpKey(rowIndex, cellIndex);\n                break;\n            case 'rightArrow':\n            case 'leftArrow':\n                this.applyRightLeftKey(rowIndex, cellIndex);\n                break;\n            case 'shiftDown':\n            case 'shiftUp':\n                this.shiftDownKey(rowIndex, cellIndex);\n                break;\n            case 'shiftLeft':\n            case 'shiftRight':\n                this.applyShiftLeftRightKey(rowIndex, cellIndex);\n                break;\n            case 'home':\n            case 'end':\n                cellIndex = e.keyArgs.action === 'end' ? this.getLastColIndex(rowIndex) : 0;\n                this.applyHomeEndKey(rowIndex, cellIndex);\n                break;\n            case 'ctrlHome':\n            case 'ctrlEnd':\n                this.applyCtrlHomeEndKey(rowIndex, cellIndex);\n                break;\n            case 'escape':\n                this.clearSelection();\n                break;\n            case 'ctrlPlusA':\n                this.ctrlPlusA();\n                break;\n            case 'space':\n                this.applySpaceSelection(e.element);\n                break;\n            case 'tab':\n                if (this.parent.editSettings.allowNextRowEdit) {\n                    this.selectRow(rowIndex);\n                }\n                break;\n        }\n        this.needColumnSelection = false;\n        this.preventFocus = false;\n        this.positionBorders();\n        this.updateAutoFillPosition();\n    };\n    Selection.prototype.getKeyColIndex = function (e) {\n        var uid;\n        var index = null;\n        var stackedHeader = e.element.querySelector('.e-stackedheadercelldiv');\n        if (this.selectionSettings.allowColumnSelection && parentsUntil(e.element, 'e-columnheader')) {\n            this.needColumnSelection = e.container.isHeader ? true : false;\n            if (stackedHeader) {\n                if (e.keyArgs.action === 'rightArrow' || e.keyArgs.action === 'leftArrow') {\n                    return index;\n                }\n                uid = stackedHeader.getAttribute('e-mappinguid');\n                var innerColumn = this.getstackedColumns(this.parent.getColumnByUid(uid).columns);\n                var lastIndex = this.parent.getColumnIndexByUid(innerColumn[innerColumn.length - 1].uid);\n                var firstIndex = this.parent.getColumnIndexByUid(innerColumn[0].uid);\n                index = this.prevColIndex >= lastIndex ? firstIndex : lastIndex;\n            }\n            else {\n                index = this.parent.getColumnIndexByUid(e.element\n                    .querySelector('.e-headercelldiv').getAttribute('e-mappinguid'));\n            }\n        }\n        return index;\n    };\n    /**\n     * Apply ctrl + A key selection\n     *\n     * @returns {void}\n     * @hidden\n     */\n    Selection.prototype.ctrlPlusA = function () {\n        if (this.isRowType() && !this.isSingleSel()) {\n            this.selectRowsByRange(0, this.getCurrentBatchRecordChanges().length - 1);\n        }\n        if (this.isCellType() && !this.isSingleSel()) {\n            this.selectCellsByRange({ rowIndex: 0, cellIndex: 0 }, { rowIndex: this.parent.getRows().length - 1, cellIndex: this.parent.getColumns().length - 1 });\n        }\n    };\n    Selection.prototype.applySpaceSelection = function (target) {\n        if (target.classList.contains('e-checkselectall')) {\n            this.checkedTarget = target;\n            this.checkSelectAll(this.checkedTarget);\n        }\n        else {\n            if (target.classList.contains('e-checkselect')) {\n                this.checkedTarget = target;\n                this.checkSelect(this.checkedTarget);\n            }\n        }\n    };\n    Selection.prototype.applyDownUpKey = function (rowIndex, cellIndex) {\n        var gObj = this.parent;\n        if (this.parent.isCheckBoxSelection && this.parent.checkAllRows === 'Check' && !this.selectionSettings.persistSelection) {\n            this.checkSelectAllAction(false);\n            this.checkedTarget = null;\n        }\n        if (this.isRowType()) {\n            if (this.parent.frozenRows) {\n                this.selectRow(rowIndex, true);\n                this.applyUpDown(gObj.selectedRowIndex);\n            }\n            else {\n                this.selectRow(rowIndex, true);\n                this.applyUpDown(gObj.selectedRowIndex);\n            }\n        }\n        if (this.isCellType()) {\n            this.selectCell({ rowIndex: rowIndex, cellIndex: cellIndex }, true);\n        }\n        if (this.selectionSettings.allowColumnSelection && this.needColumnSelection) {\n            this.selectColumn(cellIndex);\n        }\n    };\n    Selection.prototype.applyUpDown = function (rowIndex) {\n        if (rowIndex < 0) {\n            return;\n        }\n        if (!this.target) {\n            this.target = this.parent.getRows()[0].children[this.parent.groupSettings.columns.length || 0];\n        }\n        var cIndex = parseInt(this.target.getAttribute(literals.ariaColIndex), 10);\n        var frzCols = this.parent.getFrozenColumns();\n        if (frzCols) {\n            if (cIndex >= frzCols) {\n                this.target =\n                    this.contentRenderer.getMovableRowByIndex(rowIndex).getElementsByClassName(literals.rowCell)[cIndex - frzCols];\n            }\n            else {\n                this.target = this.contentRenderer.getRowByIndex(rowIndex).getElementsByClassName(literals.rowCell)[cIndex];\n            }\n        }\n        else {\n            var row = this.contentRenderer.getRowByIndex(rowIndex);\n            if (row) {\n                this.target = row.getElementsByClassName(literals.rowCell)[cIndex];\n            }\n        }\n        this.addAttribute(this.target);\n    };\n    Selection.prototype.applyRightLeftKey = function (rowIndex, cellIndex) {\n        if (this.selectionSettings.allowColumnSelection && this.needColumnSelection) {\n            this.selectColumn(cellIndex);\n        }\n        else if (this.isCellType()) {\n            this.selectCell({ rowIndex: rowIndex, cellIndex: cellIndex }, true);\n            this.addAttribute(this.target);\n        }\n    };\n    Selection.prototype.applyHomeEndKey = function (rowIndex, cellIndex) {\n        if (this.isCellType()) {\n            this.selectCell({ rowIndex: rowIndex, cellIndex: cellIndex }, true);\n        }\n        else {\n            this.addAttribute(this.parent.getCellFromIndex(rowIndex, cellIndex));\n        }\n    };\n    /**\n     * Apply shift+down key selection\n     *\n     * @param {number} rowIndex - specfies the rowIndex\n     * @param {number} cellIndex - specifies the CellIndex\n     * @returns {void}\n     * @hidden\n     */\n    Selection.prototype.shiftDownKey = function (rowIndex, cellIndex) {\n        this.isMultiShiftRequest = true;\n        if (this.isRowType() && !this.isSingleSel()) {\n            if (!isUndefined(this.prevRowIndex)) {\n                this.selectRowsByRange(this.prevRowIndex, rowIndex);\n                this.applyUpDown(rowIndex);\n            }\n            else {\n                this.selectRow(0, true);\n            }\n        }\n        if (this.isCellType() && !this.isSingleSel()) {\n            this.selectCellsByRange(this.prevCIdxs || { rowIndex: 0, cellIndex: 0 }, { rowIndex: rowIndex, cellIndex: cellIndex });\n        }\n        this.isMultiShiftRequest = false;\n    };\n    Selection.prototype.applyShiftLeftRightKey = function (rowIndex, cellIndex) {\n        this.isMultiShiftRequest = true;\n        if (this.selectionSettings.allowColumnSelection && this.needColumnSelection) {\n            this.selectColumnsByRange(this.prevColIndex, cellIndex);\n        }\n        else {\n            this.selectCellsByRange(this.prevCIdxs, { rowIndex: rowIndex, cellIndex: cellIndex });\n        }\n        this.isMultiShiftRequest = false;\n    };\n    Selection.prototype.getstackedColumns = function (column) {\n        var innerColumnIndexes = [];\n        for (var i = 0, len = column.length; i < len; i++) {\n            if (column[i].columns) {\n                this.getstackedColumns(column[i].columns);\n            }\n            else {\n                innerColumnIndexes.push(column[i]);\n            }\n        }\n        return innerColumnIndexes;\n    };\n    Selection.prototype.applyCtrlHomeEndKey = function (rowIndex, cellIndex) {\n        if (this.isRowType()) {\n            this.selectRow(rowIndex, true);\n            this.addAttribute(this.parent.getCellFromIndex(rowIndex, cellIndex));\n        }\n        if (this.isCellType()) {\n            this.selectCell({ rowIndex: rowIndex, cellIndex: cellIndex }, true);\n        }\n    };\n    Selection.prototype.addRemoveClassesForRow = function (row, isAdd, clearAll) {\n        var args = [];\n        for (var _i = 3; _i < arguments.length; _i++) {\n            args[_i - 3] = arguments[_i];\n        }\n        if (row) {\n            var cells = [].slice.call(row.getElementsByClassName(literals.rowCell));\n            var detailIndentCell = row.querySelector('.e-detailrowcollapse') || row.querySelector('.e-detailrowexpand');\n            var dragdropIndentCell = row.querySelector('.e-rowdragdrop');\n            if (detailIndentCell) {\n                cells.push(detailIndentCell);\n            }\n            if (dragdropIndentCell) {\n                cells.push(dragdropIndentCell);\n            }\n            addRemoveActiveClasses.apply(void 0, [cells, isAdd].concat(args));\n        }\n        this.getRenderer().setSelection(row ? row.getAttribute('data-uid') : null, isAdd, clearAll);\n    };\n    Selection.prototype.isRowType = function () {\n        return this.selectionSettings.mode === 'Row' || this.selectionSettings.mode === 'Both';\n    };\n    Selection.prototype.isCellType = function () {\n        return this.selectionSettings.mode === 'Cell' || this.selectionSettings.mode === 'Both';\n    };\n    Selection.prototype.isSingleSel = function () {\n        return this.selectionSettings.type === 'Single';\n    };\n    Selection.prototype.getRenderer = function () {\n        if (isNullOrUndefined(this.contentRenderer)) {\n            this.contentRenderer = this.factory.getRenderer(RenderType.Content);\n        }\n        return this.contentRenderer;\n    };\n    /**\n     * Gets the collection of selected records.\n     *\n     * @returns {Object[]} returns the Object\n     */\n    Selection.prototype.getSelectedRecords = function () {\n        var selectedData = [];\n        if (!this.selectionSettings.persistSelection) {\n            selectedData = this.parent.getRowsObject().filter(function (row) { return row.isSelected; })\n                .map(function (m) { return m.data; });\n        }\n        else {\n            selectedData = this.persistSelectedData;\n        }\n        return selectedData;\n    };\n    /**\n     * Select the column by passing start column index\n     *\n     * @param {number} index - specifies the index\n     * @returns {void}\n     */\n    Selection.prototype.selectColumn = function (index) {\n        var gObj = this.parent;\n        if (isNullOrUndefined(gObj.getColumns()[index])) {\n            return;\n        }\n        var column = gObj.getColumnByIndex(index);\n        var selectedCol = gObj.getColumnHeaderByUid(column.uid);\n        var isColSelected = selectedCol.classList.contains('e-columnselection');\n        if ((!gObj.selectionSettings.allowColumnSelection)) {\n            return;\n        }\n        var isMultiColumns = this.selectedColumnsIndexes.length > 1 &&\n            this.selectedColumnsIndexes.indexOf(index) > -1;\n        this.clearColDependency();\n        if (!isColSelected || !this.selectionSettings.enableToggle || isMultiColumns) {\n            var args = {\n                columnIndex: index, headerCell: selectedCol,\n                column: column,\n                cancel: false, target: this.actualTarget,\n                isInteracted: this.isInteracted, previousColumnIndex: this.prevColIndex,\n                isCtrlPressed: this.isMultiCtrlRequest, isShiftPressed: this.isMultiShiftRequest\n            };\n            this.onActionBegin(args, events.columnSelecting);\n            if (args.cancel) {\n                this.disableInteracted();\n                return;\n            }\n            if (!(gObj.selectionSettings.enableToggle && index === this.prevColIndex && isColSelected) || isMultiColumns) {\n                this.updateColSelection(selectedCol, index);\n            }\n            var selectedArgs = {\n                columnIndex: index, headerCell: selectedCol,\n                column: column,\n                target: this.actualTarget,\n                isInteracted: this.isInteracted, previousColumnIndex: this.prevColIndex\n            };\n            this.onActionComplete(selectedArgs, events.columnSelected);\n        }\n        this.updateColProps(index);\n    };\n    /**\n     * Select the columns by passing start and end column index\n     *\n     * @param  {number} startIndex - specifies the start index\n     * @param  {number} endIndex - specifies the end index\n     * @returns {void}\n     */\n    Selection.prototype.selectColumnsByRange = function (startIndex, endIndex) {\n        var gObj = this.parent;\n        if (isNullOrUndefined(gObj.getColumns()[startIndex])) {\n            return;\n        }\n        var indexes = [];\n        if (gObj.selectionSettings.type === 'Single' || isNullOrUndefined(endIndex)) {\n            indexes[0] = startIndex;\n        }\n        else {\n            var min = startIndex < endIndex;\n            for (var i = startIndex; min ? i <= endIndex : i >= endIndex; min ? i++ : i--) {\n                indexes.push(i);\n            }\n        }\n        this.selectColumns(indexes);\n    };\n    /**\n     * Select the columns by passing column indexes\n     *\n     * @param  {number[]} columnIndexes - specifies the columnIndexes\n     * @returns {void}\n     */\n    Selection.prototype.selectColumns = function (columnIndexes) {\n        var gObj = this.parent;\n        var selectedCol = this.getselectedCols();\n        if (gObj.selectionSettings.type === 'Single') {\n            columnIndexes = [columnIndexes[0]];\n        }\n        if (!gObj.selectionSettings.allowColumnSelection) {\n            return;\n        }\n        this.clearColDependency();\n        var selectingArgs = {\n            columnIndex: columnIndexes[0], headerCell: selectedCol,\n            columnIndexes: columnIndexes,\n            column: gObj.getColumnByIndex(columnIndexes[0]),\n            cancel: false, target: this.actualTarget,\n            isInteracted: this.isInteracted, previousColumnIndex: this.prevColIndex,\n            isCtrlPressed: this.isMultiCtrlRequest, isShiftPressed: this.isMultiShiftRequest\n        };\n        this.onActionBegin(selectingArgs, events.columnSelecting);\n        if (selectingArgs.cancel) {\n            this.disableInteracted();\n            return;\n        }\n        for (var i = 0, len = columnIndexes.length; i < len; i++) {\n            this.updateColSelection(gObj.getColumnHeaderByUid(gObj.getColumnByIndex(columnIndexes[i]).uid), columnIndexes[i]);\n        }\n        selectedCol = this.getselectedCols();\n        var selectedArgs = {\n            columnIndex: columnIndexes[0], headerCell: selectedCol,\n            columnIndexes: columnIndexes,\n            column: gObj.getColumnByIndex(columnIndexes[0]),\n            target: this.actualTarget,\n            isInteracted: this.isInteracted, previousColumnIndex: this.prevColIndex\n        };\n        this.onActionComplete(selectedArgs, events.columnSelected);\n        this.updateColProps(columnIndexes[0]);\n    };\n    /**\n     * Select the column with existing column by passing column index\n     *\n     * @param  {number} startIndex - specifies the start index\n     * @returns {void}\n     */\n    Selection.prototype.selectColumnWithExisting = function (startIndex) {\n        var gObj = this.parent;\n        if (isNullOrUndefined(gObj.getColumns()[startIndex])) {\n            return;\n        }\n        var newCol = gObj.getColumnHeaderByUid(gObj.getColumnByIndex(startIndex).uid);\n        var selectedCol = this.getselectedCols();\n        if (gObj.selectionSettings.type === 'Single') {\n            this.clearColDependency();\n        }\n        if (!gObj.selectionSettings.allowColumnSelection) {\n            return;\n        }\n        if (this.selectedColumnsIndexes.indexOf(startIndex) > -1) {\n            this.clearColumnSelection(startIndex);\n        }\n        else {\n            var selectingArgs = {\n                columnIndex: startIndex, headerCell: selectedCol,\n                columnIndexes: this.selectedColumnsIndexes,\n                column: gObj.getColumnByIndex(startIndex),\n                cancel: false, target: this.actualTarget,\n                isInteracted: this.isInteracted, previousColumnIndex: this.prevColIndex,\n                isCtrlPressed: this.isMultiCtrlRequest, isShiftPressed: this.isMultiShiftRequest\n            };\n            this.onActionBegin(selectingArgs, events.columnSelecting);\n            if (selectingArgs.cancel) {\n                this.disableInteracted();\n                return;\n            }\n            this.updateColSelection(newCol, startIndex);\n            selectedCol = this.getselectedCols();\n            var selectedArgs = {\n                columnIndex: startIndex, headerCell: selectedCol,\n                column: gObj.getColumnByIndex(startIndex),\n                columnIndexes: this.selectedColumnsIndexes,\n                target: this.actualTarget,\n                isInteracted: this.isInteracted, previousColumnIndex: this.prevColIndex\n            };\n            this.onActionComplete(selectedArgs, events.columnSelected);\n        }\n        this.updateColProps(startIndex);\n    };\n    /**\n     * Clear the column selection\n     *\n     * @param {number} clearIndex - specifies the clearIndex\n     * @returns {void}\n     */\n    Selection.prototype.clearColumnSelection = function (clearIndex) {\n        if (this.isColumnSelected) {\n            var gObj = this.parent;\n            if (!isNullOrUndefined(clearIndex) && this.selectedColumnsIndexes.indexOf(clearIndex) === -1) {\n                return;\n            }\n            var index = !isNullOrUndefined(clearIndex) ? clearIndex :\n                this.selectedColumnsIndexes[this.selectedColumnsIndexes.length - 1];\n            var col = gObj.getColumnByIndex(index);\n            var selectedCol = void 0;\n            var column = gObj.getColumnByIndex(index);\n            if (col.getFreezeTableName() === literals.frozenRight) {\n                selectedCol = gObj.getFrozenRightColumnHeaderByIndex(index);\n            }\n            else if (col.getFreezeTableName() === 'movable') {\n                selectedCol = gObj.getMovableColumnHeaderByIndex(index);\n            }\n            else {\n                selectedCol = gObj.getColumnHeaderByUid(column.uid);\n            }\n            var deselectedArgs = {\n                columnIndex: index, headerCell: selectedCol,\n                columnIndexes: this.selectedColumnsIndexes,\n                column: column,\n                cancel: false, target: this.actualTarget,\n                isInteracted: this.isInteracted\n            };\n            var isCanceled = this.columnDeselect(deselectedArgs, events.columnDeselecting);\n            if (isCanceled) {\n                this.disableInteracted();\n                return;\n            }\n            var selectedHeader = !isNullOrUndefined(clearIndex) ? [selectedCol] :\n                [].slice.call(gObj.getHeaderContent().getElementsByClassName('e-columnselection'));\n            var selectedCells = this.getSelectedColumnCells(clearIndex);\n            for (var i = 0, len = selectedHeader.length; i < len; i++) {\n                addRemoveActiveClasses([selectedHeader[i]], false, 'e-columnselection');\n            }\n            for (var i = 0, len = selectedCells.length; i < len; i++) {\n                addRemoveActiveClasses([selectedCells[i]], false, 'e-columnselection');\n            }\n            if (!isNullOrUndefined(clearIndex)) {\n                this.selectedColumnsIndexes.splice(this.selectedColumnsIndexes.indexOf(clearIndex), 1);\n                this.parent.getColumns()[clearIndex].isSelected = false;\n            }\n            else {\n                this.columnDeselect(deselectedArgs, events.columnDeselected);\n                this.selectedColumnsIndexes = [];\n                this.isColumnSelected = false;\n                this.parent.getColumns().filter(function (col) { return col.isSelected = false; });\n            }\n        }\n    };\n    Selection.prototype.getselectedCols = function () {\n        var gObj = this.parent;\n        var selectedCol;\n        if (this.selectedColumnsIndexes.length > 1) {\n            selectedCol = [];\n            for (var i = 0; i < this.selectedColumnsIndexes.length; i++) {\n                (selectedCol).push(gObj.getColumnHeaderByUid(gObj.getColumnByIndex(this.selectedColumnsIndexes[i]).uid));\n            }\n        }\n        else {\n            selectedCol = gObj.getColumnHeaderByUid(gObj.getColumnByIndex(this.selectedColumnsIndexes[0]).uid);\n        }\n        return selectedCol;\n    };\n    Selection.prototype.getSelectedColumnCells = function (clearIndex) {\n        var gObj = this.parent;\n        var isRowTemplate = !isNullOrUndefined(this.parent.rowTemplate);\n        var rows = isRowTemplate ? gObj.getRows() : gObj.getDataRows();\n        var movableRows;\n        var frRows;\n        if (gObj.isFrozenGrid() && gObj.getContent().querySelector('.' + literals.movableContent)) {\n            movableRows = isRowTemplate ? gObj.getMovableRows() : gObj.getMovableDataRows();\n            rows = gObj.addMovableRows(rows, movableRows);\n            if (gObj.getFrozenMode() === literals.leftRight) {\n                frRows = isRowTemplate ? gObj.getFrozenRightRows() : gObj.getFrozenRightDataRows();\n                rows = gObj.addMovableRows(rows, frRows);\n            }\n        }\n        var seletedcells = [];\n        var selectionString = !isNullOrUndefined(clearIndex) ? '[aria-colindex=\"' + clearIndex + '\"]' : '.e-columnselection';\n        for (var i = 0, len = rows.length; i < len; i++) {\n            seletedcells = seletedcells.concat([].slice.call(rows[i].querySelectorAll(selectionString)));\n        }\n        return seletedcells;\n    };\n    Selection.prototype.columnDeselect = function (args, event) {\n        if (event === 'columnDeselected') {\n            delete args.cancel;\n        }\n        this.onActionComplete(args, event);\n        return args.cancel;\n    };\n    Selection.prototype.updateColProps = function (startIndex) {\n        this.prevColIndex = startIndex;\n        this.isColumnSelected = this.selectedColumnsIndexes.length && true;\n    };\n    Selection.prototype.clearColDependency = function () {\n        this.clearColumnSelection();\n        this.selectedColumnsIndexes = [];\n    };\n    Selection.prototype.updateColSelection = function (selectedCol, startIndex) {\n        if (isNullOrUndefined(this.parent.getColumns()[startIndex])) {\n            return;\n        }\n        var left = this.parent.getFrozenLeftCount();\n        var movable = this.parent.getMovableColumnsCount();\n        var col = this.parent.getColumnByIndex(startIndex);\n        var isRowTemplate = !isNullOrUndefined(this.parent.rowTemplate);\n        var rows;\n        this.selectedColumnsIndexes.push(startIndex);\n        this.parent.getColumns()[startIndex].isSelected = true;\n        if (col.getFreezeTableName() === literals.frozenRight) {\n            startIndex = startIndex - (left + movable);\n            rows = isRowTemplate ? this.parent.getFrozenRightRows() : this.parent.getFrozenRightDataRows();\n        }\n        else if (col.getFreezeTableName() === 'movable') {\n            startIndex = startIndex - left;\n            rows = isRowTemplate ? this.parent.getMovableRows() : this.parent.getMovableDataRows();\n        }\n        else {\n            startIndex = startIndex + this.parent.getIndentCount();\n            rows = isRowTemplate ? this.parent.getRows() : this.parent.getDataRows();\n        }\n        addRemoveActiveClasses([selectedCol], true, 'e-columnselection');\n        for (var j = 0, len = rows.length; j < len; j++) {\n            if (rows[j].classList.contains(literals.row)) {\n                if ((rows[j].classList.contains(literals.editedRow) || rows[j].classList.contains(literals.addedRow)) &&\n                    this.parent.editSettings.mode === 'Normal' && !isNullOrUndefined(rows[j].querySelector('tr').childNodes[startIndex])) {\n                    addRemoveActiveClasses([rows[j].querySelector('tr').childNodes[startIndex]], true, 'e-columnselection');\n                }\n                else if (!isNullOrUndefined(rows[j].childNodes[startIndex])) {\n                    addRemoveActiveClasses([rows[j].childNodes[startIndex]], true, 'e-columnselection');\n                }\n            }\n        }\n    };\n    Selection.prototype.headerSelectionHandler = function (colIndex) {\n        if ((!this.isMultiCtrlRequest && !this.isMultiShiftRequest) || this.isSingleSel()) {\n            this.selectColumn(colIndex);\n        }\n        else if (this.isMultiShiftRequest) {\n            this.selectColumnsByRange(isUndefined(this.prevColIndex) ? colIndex : this.prevColIndex, colIndex);\n        }\n        else {\n            this.selectColumnWithExisting(colIndex);\n        }\n    };\n    // eslint-disable-next-line camelcase\n    Selection.prototype.addEventListener_checkbox = function () {\n        var _this = this;\n        this.parent.on(events.dataReady, this.dataReady, this);\n        this.onDataBoundFunction = this.onDataBound.bind(this);\n        this.parent.addEventListener(events.dataBound, this.onDataBoundFunction);\n        this.parent.on(events.refreshInfinitePersistSelection, this.onDataBoundFunction);\n        this.parent.on(events.contentReady, this.checkBoxSelectionChanged, this);\n        this.parent.on(events.beforeRefreshOnDataChange, this.initPerisistSelection, this);\n        this.parent.on(events.onEmpty, this.setCheckAllForEmptyGrid, this);\n        this.actionCompleteFunc = this.actionCompleteHandler.bind(this);\n        this.parent.addEventListener(events.actionComplete, this.actionCompleteFunc);\n        this.parent.on(events.click, this.clickHandler, this);\n        this.resizeEndFn = function () {\n            _this.updateAutoFillPosition();\n            _this.drawBorders();\n        };\n        this.resizeEndFn.bind(this);\n        this.parent.addEventListener(events.resizeStop, this.resizeEndFn);\n    };\n    // eslint-disable-next-line camelcase\n    Selection.prototype.removeEventListener_checkbox = function () {\n        this.parent.off(events.dataReady, this.dataReady);\n        this.parent.removeEventListener(events.dataBound, this.onDataBoundFunction);\n        this.parent.removeEventListener(events.actionComplete, this.actionCompleteFunc);\n        this.parent.off(events.refreshInfinitePersistSelection, this.onDataBoundFunction);\n        this.parent.off(events.onEmpty, this.setCheckAllForEmptyGrid);\n        this.parent.off(events.click, this.clickHandler);\n        this.parent.off(events.beforeRefreshOnDataChange, this.initPerisistSelection);\n    };\n    Selection.prototype.setCheckAllForEmptyGrid = function () {\n        var checkAllBox = this.getCheckAllBox();\n        if (checkAllBox) {\n            this.parent.isCheckBoxSelection = true;\n            var spanEle = checkAllBox.nextElementSibling;\n            removeClass([spanEle], ['e-check', 'e-stop', 'e-uncheck']);\n        }\n    };\n    Selection.prototype.dataReady = function (e) {\n        this.isHeaderCheckboxClicked = false;\n        var isInfinitecroll = this.parent.enableInfiniteScrolling && e.requestType === 'infiniteScroll';\n        if (e.requestType !== 'virtualscroll' && !this.parent.isPersistSelection && !isInfinitecroll) {\n            this.disableUI = !this.parent.enableImmutableMode;\n            this.clearSelection();\n            this.setCheckAllState();\n            this.disableUI = false;\n        }\n    };\n    Selection.prototype.actionCompleteHandler = function (e) {\n        if (e.requestType === 'save' && this.parent.isPersistSelection) {\n            this.refreshPersistSelection();\n        }\n    };\n    Selection.prototype.selectRowIndex = function (index) {\n        this.parent.isSelectedRowIndexUpdating = true;\n        this.parent.selectedRowIndex = index;\n    };\n    Selection.prototype.disableInteracted = function () {\n        this.isInteracted = false;\n    };\n    Selection.prototype.activeTarget = function () {\n        this.actualTarget = this.isInteracted ? this.actualTarget : null;\n    };\n    return Selection;\n}());\nexport { Selection };\n","/** @hidden */\nexport var created = 'create';\n/** @hidden */\nexport var destroyed = 'destroy';\n/** @hidden */\nexport var load = 'load';\n/** @hidden */\nexport var rowDataBound = 'rowDataBound';\n/** @hidden */\nexport var queryCellInfo = 'queryCellInfo';\n/** @hidden */\nexport var headerCellInfo = 'headerCellInfo';\n/** @hidden */\nexport var actionBegin = 'actionBegin';\n/** @hidden */\nexport var actionComplete = 'actionComplete';\n/** @hidden */\nexport var actionFailure = 'actionFailure';\n/** @hidden */\nexport var dataBound = 'dataBound';\n/** @hidden */\nexport var rowSelecting = 'rowSelecting';\n/** @hidden */\nexport var rowSelected = 'rowSelected';\n/** @hidden */\nexport var rowDeselecting = 'rowDeselecting';\n/** @hidden */\nexport var rowDeselected = 'rowDeselected';\n/** @hidden */\nexport var cellSelecting = 'cellSelecting';\n/** @hidden */\nexport var cellSelected = 'cellSelected';\n/** @hidden */\nexport var cellDeselecting = 'cellDeselecting';\n/** @hidden */\nexport var cellDeselected = 'cellDeselected';\n/** @hidden */\nexport var columnSelecting = 'columnSelecting';\n/** @hidden */\nexport var columnSelected = 'columnSelected';\n/** @hidden */\nexport var columnDeselecting = 'columnDeselecting';\n/** @hidden */\nexport var columnDeselected = 'columnDeselected';\n/** @hidden */\nexport var columnDragStart = 'columnDragStart';\n/** @hidden */\nexport var columnDrag = 'columnDrag';\n/** @hidden */\nexport var columnDrop = 'columnDrop';\n/** @hidden */\nexport var rowDragStartHelper = 'rowDragStartHelper';\n/** @hidden */\nexport var rowDragStart = 'rowDragStart';\n/** @hidden */\nexport var rowDrag = 'rowDrag';\n/** @hidden */\nexport var rowDrop = 'rowDrop';\n/** @hidden */\nexport var beforePrint = 'beforePrint';\n/** @hidden */\nexport var printComplete = 'printComplete';\n/** @hidden */\nexport var detailDataBound = 'detailDataBound';\n/** @hidden */\nexport var toolbarClick = 'toolbarClick';\n/** @hidden */\nexport var batchAdd = 'batchAdd';\n/** @hidden */\nexport var batchCancel = 'batchCancel';\n/** @hidden */\nexport var batchDelete = 'batchDelete';\n/** @hidden */\nexport var beforeBatchAdd = 'beforeBatchAdd';\n/** @hidden */\nexport var beforeBatchDelete = 'beforeBatchDelete';\n/** @hidden */\nexport var beforeBatchSave = 'beforeBatchSave';\n/** @hidden */\nexport var beginEdit = 'beginEdit';\n/** @hidden */\nexport var cellEdit = 'cellEdit';\n/** @hidden */\nexport var cellSave = 'cellSave';\n/** @hidden */\nexport var cellSaved = 'cellSaved';\n/** @hidden */\nexport var endAdd = 'endAdd';\n/** @hidden */\nexport var endDelete = 'endDelete';\n/** @hidden */\nexport var endEdit = 'endEdit';\n/** @hidden */\nexport var recordDoubleClick = 'recordDoubleClick';\n/** @hidden */\nexport var recordClick = 'recordClick';\n/** @hidden */\nexport var beforeDataBound = 'beforeDataBound';\n/** @hidden */\nexport var beforeOpenColumnChooser = 'beforeOpenColumnChooser';\n/** @hidden */\nexport var beforeOpenAdaptiveDialog = 'beforeOpenAdaptiveDialog';\n/** @hidden */\nexport var resizeStart = 'resizeStart';\n/** @hidden */\nexport var onResize = 'resizing';\n/** @hidden */\nexport var resizeStop = 'resizeStop';\n/** @hidden */\nexport var checkBoxChange = 'checkBoxChange';\n/** @hidden */\nexport var beforeCopy = 'beforeCopy';\n/** @hidden */\nexport var beforePaste = 'beforePaste';\n/** @hidden */\nexport var beforeAutoFill = 'beforeAutoFill';\n/** @hidden */\nexport var filterChoiceRequest = 'filterchoicerequest';\n/** @hidden */\nexport var filterAfterOpen = 'filterafteropen';\n/** @hidden */\nexport var filterBeforeOpen = 'filterbeforeopen';\n/** @hidden */\nexport var filterSearchBegin = 'filtersearchbegin';\n/** @hidden */\nexport var commandClick = 'commandClick';\n/** @hidden */\nexport var exportGroupCaption = 'exportGroupCaption';\n/** @hidden */\nexport var lazyLoadGroupExpand = 'lazyLoadGroupExpand';\n/** @hidden */\nexport var lazyLoadGroupCollapse = 'lazyLoadGroupCollapse';\n/**\n * Specifies grid internal events\n */\n/** @hidden */\nexport var initialLoad = 'initial-load';\n/** @hidden */\nexport var initialEnd = 'initial-end';\n/** @hidden */\nexport var dataReady = 'data-ready';\n/** @hidden */\nexport var contentReady = 'content-ready';\n/** @hidden */\nexport var uiUpdate = 'ui-update';\n/** @hidden */\nexport var onEmpty = 'on-empty';\n/** @hidden */\nexport var inBoundModelChanged = 'inbound-model-changed';\n/** @hidden */\nexport var modelChanged = 'model-changed';\n/** @hidden */\nexport var colGroupRefresh = 'colgroup-refresh';\n/** @hidden */\nexport var headerRefreshed = 'header-refreshed';\n/** @hidden */\nexport var pageBegin = 'paging-begin';\n/** @hidden */\nexport var pageComplete = 'paging-complete';\n/** @hidden */\nexport var sortBegin = 'sorting-begin';\n/** @hidden */\nexport var sortComplete = 'sorting-complete';\n/** @hidden */\nexport var filterBegin = 'filtering-begin';\n/** @hidden */\nexport var filterComplete = 'filtering-complete';\n/** @hidden */\nexport var searchBegin = 'searching-begin';\n/** @hidden */\nexport var searchComplete = 'searching-complete';\n/** @hidden */\nexport var reorderBegin = 'reorder-begin';\n/** @hidden */\nexport var reorderComplete = 'reorder-complete';\n/** @hidden */\nexport var rowDragAndDropBegin = 'rowdraganddrop-begin';\n/** @hidden */\nexport var rowDragAndDropComplete = 'rowdraganddrop-complete';\n/** @hidden */\nexport var groupBegin = 'grouping-begin';\n/** @hidden */\nexport var groupComplete = 'grouping-complete';\n/** @hidden */\nexport var ungroupBegin = 'ungrouping-begin';\n/** @hidden */\nexport var ungroupComplete = 'ungrouping-complete';\n/** @hidden */\nexport var groupAggregates = 'group-aggregates';\n/** @hidden */\nexport var refreshFooterRenderer = 'refresh-footer-rendered';\n/** @hidden */\nexport var refreshAggregateCell = 'refresh-aggregate-cell';\n/** @hidden */\nexport var refreshAggregates = 'refresh-aggregates';\n/** @hidden */\nexport var rowSelectionBegin = 'rowselecting';\n/** @hidden */\nexport var rowSelectionComplete = 'rowselected';\n/** @hidden */\nexport var columnSelectionBegin = 'columnselecting';\n/** @hidden */\nexport var columnSelectionComplete = 'columnselected';\n/** @hidden */\nexport var cellSelectionBegin = 'cellselecting';\n/** @hidden */\nexport var cellSelectionComplete = 'cellselected';\n/** @hidden */\nexport var beforeCellFocused = 'beforecellfocused';\n/** @hidden */\nexport var cellFocused = 'cellfocused';\n/** @hidden */\nexport var keyPressed = 'key-pressed';\n/** @hidden */\nexport var click = 'click';\n/** @hidden */\nexport var destroy = 'destroy';\n/** @hidden */\nexport var columnVisibilityChanged = 'column-visible-changed';\n/** @hidden */\nexport var scroll = 'scroll';\n/** @hidden */\nexport var columnWidthChanged = 'column-width-changed';\n/** @hidden */\nexport var columnPositionChanged = 'column-position-changed';\n/** @hidden */\nexport var rowDragAndDrop = 'row-drag-and-drop';\n/** @hidden */\nexport var rowsAdded = 'rows-added';\n/** @hidden */\nexport var rowsRemoved = 'rows-removed';\n/** @hidden */\nexport var columnDragStop = 'column-drag-stop';\n/** @hidden */\nexport var headerDrop = 'header-drop';\n/** @hidden */\nexport var dataSourceModified = 'datasource-modified';\n/** @hidden */\nexport var refreshComplete = 'refresh-complete';\n/** @hidden */\nexport var refreshVirtualBlock = 'refresh-virtual-block';\n/** @hidden */\nexport var dblclick = 'dblclick';\n/** @hidden */\nexport var toolbarRefresh = 'toolbar-refresh';\n/** @hidden */\nexport var bulkSave = 'bulk-save';\n/** @hidden */\nexport var autoCol = 'auto-col';\n/** @hidden */\nexport var tooltipDestroy = 'tooltip-destroy';\n/** @hidden */\nexport var updateData = 'update-data';\n/** @hidden */\nexport var editBegin = 'edit-begin';\n/** @hidden */\nexport var editComplete = 'edit-complete';\n/** @hidden */\nexport var addBegin = 'add-begin';\n/** @hidden */\nexport var addComplete = 'add-complete';\n/** @hidden */\nexport var saveComplete = 'save-complete';\n/** @hidden */\nexport var deleteBegin = 'delete-begin';\n/** @hidden */\nexport var deleteComplete = 'delete-complete';\n/** @hidden */\nexport var preventBatch = 'prevent-batch';\n/** @hidden */\nexport var dialogDestroy = 'dialog-destroy';\n/** @hidden */\nexport var crudAction = 'crud-Action';\n/** @hidden */\nexport var addDeleteAction = 'add-delete-Action';\n/** @hidden */\nexport var destroyForm = 'destroy-form';\n/** @hidden */\nexport var doubleTap = 'double-tap';\n/** @hidden */\nexport var beforeExcelExport = 'beforeExcelExport';\n/** @hidden */\nexport var excelExportComplete = 'excelExportComplete';\n/** @hidden */\nexport var excelQueryCellInfo = 'excelQueryCellInfo';\n/** @hidden */\nexport var excelHeaderQueryCellInfo = 'excelHeaderQueryCellInfo';\n/** @hidden */\nexport var exportDetailDataBound = 'exportDetailDataBound';\n/** @hidden */\nexport var beforePdfExport = 'beforePdfExport';\n/** @hidden */\nexport var pdfExportComplete = 'pdfExportComplete';\n/** @hidden */\nexport var pdfQueryCellInfo = 'pdfQueryCellInfo';\n/** @hidden */\nexport var pdfHeaderQueryCellInfo = 'pdfHeaderQueryCellInfo';\n/** @hidden */\nexport var accessPredicate = 'access-predicate';\n/** @hidden */\nexport var contextMenuClick = 'contextMenuClick';\n/** @hidden */\nexport var freezeRender = 'freezerender';\n/** @hidden */\nexport var freezeRefresh = 'freezerefresh';\n/** @hidden */\nexport var contextMenuOpen = 'contextMenuOpen';\n/** @hidden */\nexport var columnMenuClick = 'columnMenuClick';\n/** @hidden */\nexport var columnMenuOpen = 'columnMenuOpen';\n/** @hidden */\nexport var filterOpen = 'filterOpen';\n/** @hidden */\nexport var filterDialogCreated = 'filterDialogCreated';\n/** @hidden */\nexport var filterMenuClose = 'filter-menu-close';\n/** @hidden */\nexport var initForeignKeyColumn = 'initForeignKeyColumn';\n/** @hidden */\nexport var getForeignKeyData = 'getForeignKeyData';\n/** @hidden */\nexport var generateQuery = 'generateQuery';\n/** @hidden */\nexport var showEmptyGrid = 'showEmptyGrid';\n/** @hidden */\nexport var foreignKeyData = 'foreignKeyData';\n/** @hidden */\nexport var columnDataStateChange = 'columnDataStateChange';\n/** @hidden */\nexport var dataStateChange = 'dataStateChange';\n/** @hidden */\nexport var dataSourceChanged = 'dataSourceChanged';\n/** @hidden */\nexport var rtlUpdated = 'rtl-updated';\n/** @hidden */\nexport var beforeFragAppend = 'beforeFragAppend';\n/** @hidden */\nexport var frozenHeight = 'frozenHeight';\n/** @hidden */\nexport var textWrapRefresh = 'textWrapRefresh';\n/** @hidden */\nexport var recordAdded = 'recordAdded';\n/** @hidden */\nexport var cancelBegin = 'cancel-Begin';\n/** @hidden */\nexport var editNextValCell = 'editNextValCell';\n/** @hidden */\nexport var hierarchyPrint = 'hierarchyprint';\n/** @hidden */\nexport var expandChildGrid = 'expandchildgrid';\n/** @hidden */\nexport var printGridInit = 'printGrid-Init';\n/** @hidden */\nexport var exportRowDataBound = 'export-RowDataBound';\n/** @hidden */\nexport var exportDataBound = 'export-DataBound';\n/** @hidden */\nexport var rowPositionChanged = 'row-position-changed';\n/** @hidden */\nexport var columnChooserOpened = 'columnChooserOpened';\n/** @hidden */\nexport var batchForm = 'batchedit-form';\n/** @hidden */\nexport var beforeStartEdit = 'edit-form';\n/** @hidden */\nexport var beforeBatchCancel = 'before-batch-cancel';\n/** @hidden */\nexport var batchEditFormRendered = 'batcheditform-rendered';\n/** @hidden */\nexport var partialRefresh = 'partial-refresh';\n/** @hidden */\nexport var beforeCustomFilterOpen = 'beforeCustomFilterOpen';\n/** @hidden */\nexport var selectVirtualRow = 'select-virtual-Row';\n/** @hidden */\nexport var columnsPrepared = 'columns-prepared';\n/** @hidden */\nexport var cBoxFltrBegin = 'cbox-filter-begin';\n/** @hidden */\nexport var cBoxFltrComplete = 'cbox-filter-complete';\n/** @hidden */\nexport var fltrPrevent = 'filter-Prevent';\n/** @hidden */\nexport var beforeFltrcMenuOpen = 'before-filter-cmenu-open';\n/** @hidden */\nexport var valCustomPlacement = 'validation-custom-placement';\n/** @hidden */\nexport var filterCboxValue = 'filter-cbox-value';\n/** @hidden */\nexport var componentRendered = 'component-rendered';\n/** @hidden */\nexport var restoreFocus = 'restore-Focus';\n/** @hidden */\nexport var detailStateChange = 'detail-state-change';\n/** @hidden */\nexport var detailIndentCellInfo = 'detail-indentcell-info';\n/** @hidden */\nexport var virtaulKeyHandler = 'virtaul-key-handler';\n/** @hidden */\nexport var virtaulCellFocus = 'virtaul-cell-focus';\n/** @hidden */\nexport var virtualScrollEditActionBegin = 'virtual-scroll-edit-action-begin';\n/** @hidden */\nexport var virtualScrollEditSuccess = 'virtual-scroll-edit-success';\n/** @hidden */\nexport var virtualScrollEditCancel = 'virtual-scroll-edit-cancel';\n/** @hidden */\nexport var virtualScrollEdit = 'virtual-scroll-edit';\n/** @hidden */\nexport var refreshVirtualCache = 'refresh-virtual-cache';\n/** @hidden */\nexport var editReset = 'edit-reset';\n/** @hidden */\nexport var virtualScrollAddActionBegin = 'virtual-scroll-add-action-begin';\n/** @hidden */\nexport var getVirtualData = 'get-virtual-data';\n/** @hidden */\nexport var refreshInfiniteModeBlocks = 'refresh-infinite-mode-blocks';\n/** @hidden */\nexport var resetInfiniteBlocks = 'reset-infinite-blocks';\n/** @hidden */\nexport var infiniteScrollHandler = 'infinite-scroll-handler';\n/** @hidden */\nexport var infinitePageQuery = 'infinite-page-query';\n/** @hidden */\nexport var infiniteShowHide = 'infinite-show-hide';\n/** @hidden */\nexport var appendInfiniteContent = 'append-infinite-content';\n/** @hidden */\nexport var removeInfiniteRows = 'remove-infinite-rows';\n/** @hidden */\nexport var setInfiniteCache = 'set-infinite-cache';\n/** @hidden */\nexport var infiniteEditHandler = 'infinite-edit-handler';\n/** @hidden */\nexport var initialCollapse = 'initial-collapse';\n/** @hidden */\nexport var getAggregateQuery = 'get-aggregate-query';\n/** @hidden */\nexport var closeFilterDialog = 'close-filter-dialog';\n/** @hidden */\nexport var columnChooserCancelBtnClick = 'columnChooserCancelBtnClick';\n/** @hidden */\nexport var getFilterBarOperator = 'get-filterbar-operator';\n/** @hidden */\nexport var resetColumns = 'reset-columns';\n/** @hidden */\nexport var pdfAggregateQueryCellInfo = 'pdfAggregateQueryCellInfo';\n/** @hidden */\nexport var excelAggregateQueryCellInfo = 'excelAggregateQueryCellInfo';\n/** @hidden */\nexport var setGroupCache = 'group-cache';\n/** @hidden */\nexport var lazyLoadScrollHandler = 'lazy-load-scroll-handler';\n/** @hidden */\nexport var groupCollapse = 'group-collapse';\n/** @hidden */\nexport var beforeCheckboxRenderer = 'beforeCheckboxRenderer';\n/** @hidden */\nexport var refreshHandlers = 'refreshResizeHandlers';\n/** @hidden */\nexport var refreshFrozenColumns = 'refresh-frozen-columns';\n/** @hidden */\nexport var setReorderDestinationElement = 'set-reorder-destination-element';\n/** @hidden */\nexport var refreshVirtualFrozenHeight = 'refresh-virtual-frozen-height';\n/** @hidden */\nexport var setFreezeSelection = 'set-freeze-selection';\n/** @hidden */\nexport var setInfiniteFrozenHeight = 'set-infinite-frozen-height';\n/** @hidden */\nexport var setInfiniteColFrozenHeight = 'set-infinite-col-frozen-height';\n/** @hidden */\nexport var beforeRefreshOnDataChange = 'before-refresh-on-data-change';\n/** @hidden */\nexport var immutableBatchCancel = 'immutable-batch-cancel';\n/** @hidden */\nexport var refreshVirtualFrozenRows = 'refresh-virtual-frozenrows';\n/** @hidden */\nexport var checkScrollReset = 'check-scroll-reset';\n/** @hidden */\nexport var refreshFrozenHeight = 'refresh-frozen-height';\n/** @hidden */\nexport var setHeightToFrozenElement = 'set-height-to-frozen-element';\n/** @hidden */\nexport var preventFrozenScrollRefresh = 'prevent-frozen-scroll-refresh';\n/** @hidden */\nexport var nextCellIndex = 'next-cell-index';\n/** @hidden */\nexport var refreshInfiniteCurrentViewData = 'refresh-infinite-current-view-data';\n/** @hidden */\nexport var infiniteCrudCancel = 'infinite-crud-cancel';\n/** @hidden */\nexport var filterDialogClose = 'filter-dialog-close';\n/** @hidden */\nexport var refreshCustomFilterOkBtn = 'refresh-cutsom-filter-ok-button';\n/** @hidden */\nexport var refreshCustomFilterClearBtn = 'refresh-cutsom-filter-clear-button';\n/** @hidden */\nexport var renderResponsiveCmenu = 'render-responsive-cmenu';\n/** @hidden */\nexport var filterCmenuSelect = 'filter-cmenu-select';\n/** @hidden */\nexport var customFilterClose = 'custom-filter-close';\n/** @hidden */\nexport var setFullScreenDialog = 'set-fullscreen-dialog';\n/** @hidden */\nexport var refreshExpandandCollapse = 'refresh-Expand-and-Collapse';\n/** @hidden */\nexport var rowModeChange = 'row-mode-change';\n/** @hidden */\nexport var enterKeyHandler = 'enter-key-handler';\n/** @hidden */\nexport var refreshVirtualMaxPage = 'refresh-virtual-max-page';\n/** @hidden */\nexport var setVirtualPageQuery = 'set-virtual-page-query';\n/** @hidden */\nexport var selectRowOnContextOpen = 'select-row-on-context-open';\n/** @hidden */\nexport var pagerRefresh = 'pager-refresh';\n/** @hidden */\nexport var closeInline = 'closeinline';\n/** @hidden */\nexport var closeBatch = 'closebatch';\n/** @hidden */\nexport var closeEdit = 'close-edit';\n/** @hidden */\nexport var resetVirtualFocus = 'reset-virtual-focus';\n/** @hidden */\nexport var afterContentRender = 'after-content-renderer';\n/** @hidden */\nexport var refreshVirtualEditFormCells = 'refresh-virtual-editform-cells';\n/** @hidden */\nexport var scrollToEdit = 'scroll-to-edit';\n/** @hidden */\nexport var beforeCheckboxRendererQuery = 'before-checkbox-renderer-query';\n/** @hidden */\nexport var createVirtualValidationForm = 'create-virtual-validation-form';\n/** @hidden */\nexport var validateVirtualForm = 'validate-virtual-form';\n/** @hidden */\nexport var destroyChildGrid = 'destroy-child-grid';\n/** @hidden */\nexport var stickyScrollComplete = 'sticky-scroll-complete';\n/** @hidden */\nexport var captionActionComplete = 'infinite-group-collapse';\n/** @hidden */\nexport var refreshInfinitePersistSelection = 'refresh-infinite-persist-selection';\n/** @hidden */\nexport var refreshInfiniteEditrowindex = 'refresh-infinite-editrowindex';\n/** @hidden */\nexport var afterFilterColumnMenuClose = 'after-filter-column-menu-close';\n","/**\n * Defines types of Cell\n *\n * @hidden\n */\nexport var CellType;\n(function (CellType) {\n    /**  Defines CellType as Data */\n    CellType[CellType[\"Data\"] = 0] = \"Data\";\n    /**  Defines CellType as Header */\n    CellType[CellType[\"Header\"] = 1] = \"Header\";\n    /**  Defines CellType as Summary */\n    CellType[CellType[\"Summary\"] = 2] = \"Summary\";\n    /**  Defines CellType as GroupSummary */\n    CellType[CellType[\"GroupSummary\"] = 3] = \"GroupSummary\";\n    /**  Defines CellType as CaptionSummary */\n    CellType[CellType[\"CaptionSummary\"] = 4] = \"CaptionSummary\";\n    /**  Defines CellType as Filter */\n    CellType[CellType[\"Filter\"] = 5] = \"Filter\";\n    /**  Defines CellType as Indent */\n    CellType[CellType[\"Indent\"] = 6] = \"Indent\";\n    /**  Defines CellType as GroupCaption */\n    CellType[CellType[\"GroupCaption\"] = 7] = \"GroupCaption\";\n    /**  Defines CellType as GroupCaptionEmpty */\n    CellType[CellType[\"GroupCaptionEmpty\"] = 8] = \"GroupCaptionEmpty\";\n    /**  Defines CellType as Expand */\n    CellType[CellType[\"Expand\"] = 9] = \"Expand\";\n    /**  Defines CellType as HeaderIndent */\n    CellType[CellType[\"HeaderIndent\"] = 10] = \"HeaderIndent\";\n    /**  Defines CellType as StackedHeader */\n    CellType[CellType[\"StackedHeader\"] = 11] = \"StackedHeader\";\n    /**  Defines CellType as DetailHeader */\n    CellType[CellType[\"DetailHeader\"] = 12] = \"DetailHeader\";\n    /**  Defines CellType as DetailExpand */\n    CellType[CellType[\"DetailExpand\"] = 13] = \"DetailExpand\";\n    /**  Defines CellType as CommandColumn */\n    CellType[CellType[\"CommandColumn\"] = 14] = \"CommandColumn\";\n    /**  Defines CellType as DetailFooterIntent */\n    CellType[CellType[\"DetailFooterIntent\"] = 15] = \"DetailFooterIntent\";\n    /**  Defines CellType as RowDrag */\n    CellType[CellType[\"RowDragIcon\"] = 16] = \"RowDragIcon\";\n    /**  Defines CellType as RowDragHeader */\n    CellType[CellType[\"RowDragHIcon\"] = 17] = \"RowDragHIcon\";\n})(CellType || (CellType = {}));\n/**\n * Defines types of Render\n *\n * @hidden\n */\nexport var RenderType;\n(function (RenderType) {\n    /**  Defines RenderType as Header */\n    RenderType[RenderType[\"Header\"] = 0] = \"Header\";\n    /**  Defines RenderType as Content */\n    RenderType[RenderType[\"Content\"] = 1] = \"Content\";\n    /**  Defines RenderType as Summary */\n    RenderType[RenderType[\"Summary\"] = 2] = \"Summary\";\n})(RenderType || (RenderType = {}));\n/**\n * Defines Predefined toolbar items.\n *\n * @hidden\n */\nexport var ToolbarItem;\n(function (ToolbarItem) {\n    ToolbarItem[ToolbarItem[\"Add\"] = 0] = \"Add\";\n    ToolbarItem[ToolbarItem[\"Edit\"] = 1] = \"Edit\";\n    ToolbarItem[ToolbarItem[\"Update\"] = 2] = \"Update\";\n    ToolbarItem[ToolbarItem[\"Delete\"] = 3] = \"Delete\";\n    ToolbarItem[ToolbarItem[\"Cancel\"] = 4] = \"Cancel\";\n    ToolbarItem[ToolbarItem[\"Print\"] = 5] = \"Print\";\n    ToolbarItem[ToolbarItem[\"Search\"] = 6] = \"Search\";\n    ToolbarItem[ToolbarItem[\"ColumnChooser\"] = 7] = \"ColumnChooser\";\n    ToolbarItem[ToolbarItem[\"PdfExport\"] = 8] = \"PdfExport\";\n    ToolbarItem[ToolbarItem[\"ExcelExport\"] = 9] = \"ExcelExport\";\n    ToolbarItem[ToolbarItem[\"CsvExport\"] = 10] = \"CsvExport\";\n    ToolbarItem[ToolbarItem[\"WordExport\"] = 11] = \"WordExport\";\n})(ToolbarItem || (ToolbarItem = {}));\n/**\n * Defines types of responsive dialogs\n *\n * @hidden\n */\nexport var ResponsiveDialogAction;\n(function (ResponsiveDialogAction) {\n    /**  Defines dialog type as Edit */\n    ResponsiveDialogAction[ResponsiveDialogAction[\"isEdit\"] = 0] = \"isEdit\";\n    /**  Defines dialog type as Add */\n    ResponsiveDialogAction[ResponsiveDialogAction[\"isAdd\"] = 1] = \"isAdd\";\n    /**  Defines dialog type as Sort */\n    ResponsiveDialogAction[ResponsiveDialogAction[\"isSort\"] = 2] = \"isSort\";\n    /**  Defines dialog type as Filter */\n    ResponsiveDialogAction[ResponsiveDialogAction[\"isFilter\"] = 3] = \"isFilter\";\n})(ResponsiveDialogAction || (ResponsiveDialogAction = {}));\n/**\n * Defines responsive toolbar actions\n *\n * @hidden\n */\nexport var ResponsiveToolbarAction;\n(function (ResponsiveToolbarAction) {\n    /**  Defines initial responsive toolbar buttons */\n    ResponsiveToolbarAction[ResponsiveToolbarAction[\"isInitial\"] = 0] = \"isInitial\";\n    /**  Defines responsive toolbar search */\n    ResponsiveToolbarAction[ResponsiveToolbarAction[\"isSearch\"] = 1] = \"isSearch\";\n})(ResponsiveToolbarAction || (ResponsiveToolbarAction = {}));\n","import { isNullOrUndefined, extend } from '@syncfusion/ej2-base';\nimport { Query, DataManager, Predicate, Deferred, UrlAdaptor } from '@syncfusion/ej2-data';\nimport { setFormatter, isGroupAdaptive, getColumnByForeignKeyValue, refreshFilteredColsUid } from '../base/util';\nimport * as events from '../base/constant';\nimport { ValueFormatter } from '../services/value-formatter';\nimport { CheckBoxFilterBase } from '../common/checkbox-filter-base';\n/**\n * Grid data module is used to generate query and data source.\n *\n * @hidden\n */\nvar Data = /** @class */ (function () {\n    /**\n     * Constructor for data module.\n     *\n     * @param {IGrid} parent - specifies the IGrid\n     * @param {ServiceLocator} serviceLocator - specifies the service locator\n     * @hidden\n     */\n    function Data(parent, serviceLocator) {\n        this.dataState = { isPending: false, resolver: null, group: [] };\n        this.foreignKeyDataState = { isPending: false, resolver: null };\n        this.parent = parent;\n        this.serviceLocator = serviceLocator;\n        this.initDataManager();\n        if (this.parent.isDestroyed || this.getModuleName() === 'foreignKey') {\n            return;\n        }\n        this.parent.on(events.rowsAdded, this.addRows, this);\n        this.parent.on(events.rowPositionChanged, this.reorderRows, this);\n        this.parent.on(events.rowsRemoved, this.removeRows, this);\n        this.parent.on(events.dataSourceModified, this.initDataManager, this);\n        this.parent.on(events.destroy, this.destroy, this);\n        this.parent.on(events.updateData, this.crudActions, this);\n        this.parent.on(events.addDeleteAction, this.getData, this);\n        this.parent.on(events.autoCol, this.refreshFilteredCols, this);\n        this.parent.on(events.columnsPrepared, this.refreshFilteredCols, this);\n    }\n    Data.prototype.reorderRows = function (e) {\n        this.dataManager.dataSource.json.splice(e.toIndex, 0, this.dataManager.dataSource.json.splice(e.fromIndex, 1)[0]);\n    };\n    Data.prototype.getModuleName = function () {\n        return 'data';\n    };\n    /**\n     * The function used to initialize dataManager and external query\n     *\n     * @returns {void}\n     */\n    Data.prototype.initDataManager = function () {\n        var gObj = this.parent;\n        this.dataManager = gObj.dataSource instanceof DataManager ? gObj.dataSource :\n            (isNullOrUndefined(gObj.dataSource) ? new DataManager() : new DataManager(gObj.dataSource));\n        if (gObj.isAngular && !(gObj.query instanceof Query)) {\n            gObj.setProperties({ query: new Query() }, true);\n        }\n        else {\n            this.isQueryInvokedFromData = true;\n            gObj.query = gObj.query instanceof Query ? gObj.query : new Query();\n        }\n    };\n    /**\n     * The function is used to generate updated Query from Grid model.\n     *\n     * @param {boolean} skipPage - specifies the boolean to skip the page\n     * @returns {Query} returns the Query\n     * @hidden\n     */\n    Data.prototype.generateQuery = function (skipPage) {\n        var gObj = this.parent;\n        var query = gObj.getQuery().clone();\n        if (this.parent.columnQueryMode === 'ExcludeHidden') {\n            query.select(this.parent.getColumns().filter(function (column) { return !(column.isPrimaryKey !== true && column.visible === false || column.field === undefined); }).map(function (column) { return column.field; }));\n        }\n        else if (this.parent.columnQueryMode === 'Schema') {\n            var selectQueryFields = [];\n            var columns = this.parent.columns;\n            for (var i = 0; i < columns.length; i++) {\n                selectQueryFields.push(columns[i].field);\n            }\n            query.select(selectQueryFields);\n        }\n        this.filterQuery(query);\n        this.searchQuery(query);\n        this.aggregateQuery(query);\n        this.sortQuery(query);\n        if (isGroupAdaptive(this.parent)) {\n            this.virtualGroupPageQuery(query);\n        }\n        else {\n            this.pageQuery(query, skipPage);\n        }\n        this.groupQuery(query);\n        return query;\n    };\n    /**\n     * @param {Query} query - specifies the query\n     * @returns {Query} - returns the query\n     * @hidden\n     */\n    Data.prototype.aggregateQuery = function (query) {\n        var rows = this.parent.aggregates;\n        for (var i = 0; i < rows.length; i++) {\n            var row = rows[i];\n            for (var j = 0; j < row.columns.length; j++) {\n                var cols = row.columns[j];\n                var types = cols.type instanceof Array ? cols.type : [cols.type];\n                for (var k = 0; k < types.length; k++) {\n                    query.aggregate(types[k].toLowerCase(), cols.field);\n                }\n            }\n        }\n        return query;\n    };\n    Data.prototype.virtualGroupPageQuery = function (query) {\n        var fName = 'fn';\n        if (query.queries.length) {\n            for (var i = 0; i < query.queries.length; i++) {\n                if (query.queries[i][fName] === 'onPage') {\n                    query.queries.splice(i, 1);\n                }\n            }\n        }\n        return query;\n    };\n    Data.prototype.pageQuery = function (query, skipPage) {\n        var gObj = this.parent;\n        var fName = 'fn';\n        var args = { query: query, skipPage: false };\n        gObj.notify(events.setVirtualPageQuery, args);\n        if (args.skipPage) {\n            return query;\n        }\n        if ((gObj.allowPaging || gObj.enableVirtualization || gObj.enableInfiniteScrolling) && skipPage !== true) {\n            gObj.pageSettings.currentPage = Math.max(1, gObj.pageSettings.currentPage);\n            if (gObj.pageSettings.pageCount <= 0) {\n                gObj.pageSettings.pageCount = 8;\n            }\n            if (gObj.pageSettings.pageSize <= 0) {\n                gObj.pageSettings.pageSize = 12;\n            }\n            if (query.queries.length) {\n                for (var i = 0; i < query.queries.length; i++) {\n                    if (query.queries[i][fName] === 'onPage') {\n                        query.queries.splice(i, 1);\n                    }\n                }\n            }\n            if (!isNullOrUndefined(gObj.infiniteScrollModule) && gObj.enableInfiniteScrolling) {\n                this.parent.notify(events.infinitePageQuery, query);\n            }\n            else {\n                query.page(gObj.pageSettings.currentPage, gObj.allowPaging && gObj.pagerModule &&\n                    gObj.pagerModule.pagerObj.isAllPage && !this.dataManager.dataSource.offline ? null :\n                    gObj.pageSettings.pageSize);\n            }\n        }\n        return query;\n    };\n    Data.prototype.groupQuery = function (query) {\n        var gObj = this.parent;\n        if (gObj.allowGrouping && gObj.groupSettings.columns.length) {\n            if (this.parent.groupSettings.enableLazyLoading) {\n                query.lazyLoad.push({ key: 'isLazyLoad', value: this.parent.groupSettings.enableLazyLoading });\n            }\n            var columns = gObj.groupSettings.columns;\n            for (var i = 0, len = columns.length; i < len; i++) {\n                var column = this.getColumnByField(columns[i]);\n                if (!column) {\n                    this.parent.log('initial_action', { moduleName: 'group', columnName: columns[i] });\n                }\n                var isGrpFmt = column.enableGroupByFormat;\n                var format = column.format;\n                if (isGrpFmt) {\n                    query.group(columns[i], this.formatGroupColumn.bind(this), format);\n                }\n                else {\n                    query.group(columns[i], null);\n                }\n            }\n        }\n        return query;\n    };\n    Data.prototype.sortQuery = function (query) {\n        var gObj = this.parent;\n        if ((gObj.allowSorting || gObj.allowGrouping) && gObj.sortSettings.columns.length) {\n            var columns = gObj.sortSettings.columns;\n            var sortGrp = [];\n            for (var i = columns.length - 1; i > -1; i--) {\n                var col = this.getColumnByField(columns[i].field);\n                if (col) {\n                    col.setSortDirection(columns[i].direction);\n                }\n                else {\n                    this.parent.log('initial_action', { moduleName: 'sort', columnName: columns[i].field });\n                    return query;\n                }\n                var fn = columns[i].direction;\n                if (col.sortComparer) {\n                    this.parent.log('grid_sort_comparer');\n                    fn = !this.isRemote() ? col.sortComparer.bind(col) : columns[i].direction;\n                }\n                if (gObj.groupSettings.columns.indexOf(columns[i].field) === -1) {\n                    if (col.isForeignColumn() || col.sortComparer) {\n                        query.sortByForeignKey(col.field, fn, undefined, columns[i].direction.toLowerCase());\n                    }\n                    else {\n                        query.sortBy(col.field, fn);\n                    }\n                }\n                else {\n                    sortGrp.push({ direction: fn, field: col.field });\n                }\n            }\n            for (var i = 0, len = sortGrp.length; i < len; i++) {\n                if (typeof sortGrp[i].direction === 'string') {\n                    query.sortBy(sortGrp[i].field, sortGrp[i].direction);\n                }\n                else {\n                    var col = this.getColumnByField(sortGrp[i].field);\n                    query.sortByForeignKey(sortGrp[i].field, sortGrp[i].direction, undefined, col.getSortDirection().toLowerCase());\n                }\n            }\n        }\n        return query;\n    };\n    Data.prototype.searchQuery = function (query, fcolumn, isForeignKey) {\n        var sSettings = this.parent.searchSettings;\n        var fields = sSettings.fields.length ? sSettings.fields : this.getSearchColumnFieldNames();\n        var predicateList = [];\n        var needForeignKeySearch = false;\n        if (this.parent.searchSettings.key.length) {\n            needForeignKeySearch = this.parent.getForeignKeyColumns().some(function (col) { return fields.indexOf(col.field) > -1; });\n            var adaptor = !isForeignKey ? this.dataManager.adaptor : fcolumn.dataSource.adaptor;\n            if (needForeignKeySearch || (adaptor.getModuleName &&\n                adaptor.getModuleName() === 'ODataV4Adaptor')) {\n                fields = isForeignKey ? [fcolumn.foreignKeyValue] : fields;\n                for (var i = 0; i < fields.length; i++) {\n                    var column = isForeignKey ? fcolumn : this.getColumnByField(fields[i]);\n                    if (column.isForeignColumn() && !isForeignKey) {\n                        predicateList = this.fGeneratePredicate(column, predicateList);\n                    }\n                    else {\n                        predicateList.push(new Predicate(fields[i], sSettings.operator, sSettings.key, sSettings.ignoreCase, sSettings.ignoreAccent));\n                    }\n                }\n                var predList = Predicate.or(predicateList);\n                predList.key = sSettings.key;\n                query.where(predList);\n            }\n            else {\n                query.search(sSettings.key, fields, sSettings.operator, sSettings.ignoreCase, sSettings.ignoreAccent);\n            }\n        }\n        return query;\n    };\n    Data.prototype.filterQuery = function (query, column, skipFoerign) {\n        var gObj = this.parent;\n        var predicateList = [];\n        var actualFilter = [];\n        var foreignColumn = this.parent.getForeignKeyColumns();\n        var foreignColEmpty;\n        if (gObj.allowFiltering && gObj.filterSettings.columns.length) {\n            var columns = column ? column : gObj.filterSettings.columns;\n            var colType = {};\n            for (var _i = 0, _a = gObj.getColumns(); _i < _a.length; _i++) {\n                var col = _a[_i];\n                colType[col.field] = col.filter.type ? col.filter.type : gObj.filterSettings.type;\n            }\n            var foreignCols = [];\n            var defaultFltrCols = [];\n            for (var _b = 0, columns_1 = columns; _b < columns_1.length; _b++) {\n                var col = columns_1[_b];\n                var gridColumn = gObj.getColumnByField(col.field);\n                if (isNullOrUndefined(col.type) && gridColumn && (gridColumn.type === 'date' || gridColumn.type === 'datetime')) {\n                    col.type = gObj.getColumnByField(col.field).type;\n                }\n                if (col.isForeignKey) {\n                    foreignCols.push(col);\n                }\n                else {\n                    defaultFltrCols.push(col);\n                }\n            }\n            if (defaultFltrCols.length) {\n                for (var i = 0, len = defaultFltrCols.length; i < len; i++) {\n                    defaultFltrCols[i].uid = defaultFltrCols[i].uid ||\n                        this.parent.grabColumnByFieldFromAllCols(defaultFltrCols[i].field).uid;\n                }\n                var excelPredicate = CheckBoxFilterBase.getPredicate(defaultFltrCols);\n                for (var _c = 0, _d = Object.keys(excelPredicate); _c < _d.length; _c++) {\n                    var prop = _d[_c];\n                    predicateList.push(excelPredicate[prop]);\n                }\n            }\n            if (foreignCols.length) {\n                for (var _e = 0, foreignCols_1 = foreignCols; _e < foreignCols_1.length; _e++) {\n                    var col = foreignCols_1[_e];\n                    col.uid = col.uid || this.parent.grabColumnByFieldFromAllCols(col.field).uid;\n                    var column_1 = this.parent.grabColumnByUidFromAllCols(col.uid);\n                    if (!column_1) {\n                        this.parent.log('initial_action', { moduleName: 'filter', columnName: col.field });\n                    }\n                    if (column_1.isForeignColumn() && getColumnByForeignKeyValue(col.field, foreignColumn) && !skipFoerign) {\n                        actualFilter.push(col);\n                        if (!column_1.columnData.length) {\n                            foreignColEmpty = true;\n                        }\n                        predicateList = this.fGeneratePredicate(column_1, predicateList);\n                    }\n                    else {\n                        var excelPredicate = CheckBoxFilterBase.getPredicate(columns);\n                        for (var _f = 0, _g = Object.keys(excelPredicate); _f < _g.length; _f++) {\n                            var prop = _g[_f];\n                            predicateList.push(excelPredicate[prop]);\n                        }\n                    }\n                }\n            }\n            if (predicateList.length && !foreignColEmpty) {\n                query.where(Predicate.and(predicateList));\n            }\n            else {\n                this.parent.notify(events.showEmptyGrid, {});\n            }\n        }\n        return query;\n    };\n    Data.prototype.fGeneratePredicate = function (col, predicateList) {\n        var fPredicate = {};\n        if (col) {\n            this.parent.notify(events.generateQuery, { predicate: fPredicate, column: col });\n            if (fPredicate.predicate.predicates.length) {\n                predicateList.push(fPredicate.predicate);\n            }\n        }\n        return predicateList;\n    };\n    /**\n     * The function is used to get dataManager promise by executing given Query.\n     *\n     * @param {object} args - specifies the object\n     * @param {string} args.requestType - Defines the request type\n     * @param {string[]} args.foreignKeyData - Defines the foreignKeyData.string\n     * @param {Object} args.data - Defines the data.\n     * @param {number} args.index - Defines the index .\n     * @param {Query} query - Defines the query which will execute along with data processing.\n     * @returns {Promise<Object>} - returns the object\n     * @hidden\n     */\n    Data.prototype.getData = function (args, query) {\n        var _this = this;\n        if (args === void 0) { args = { requestType: '' }; }\n        var key = this.getKey(args.foreignKeyData &&\n            Object.keys(args.foreignKeyData).length ?\n            args.foreignKeyData : this.parent.getPrimaryKeyFieldNames());\n        this.parent.log('datasource_syntax_mismatch', { dataState: this.parent });\n        if (this.parent.dataSource && 'result' in this.parent.dataSource) {\n            var def = this.eventPromise(args, query, key);\n            return def.promise;\n        }\n        else {\n            var crud = void 0;\n            switch (args.requestType) {\n                case 'delete':\n                    query = query ? query : this.generateQuery();\n                    // eslint-disable-next-line no-case-declarations\n                    var len = Object.keys(args.data).length;\n                    if (len === 1) {\n                        crud = this.dataManager.remove(key, args.data[0], query.fromTable, query);\n                    }\n                    else {\n                        var changes = {\n                            addedRecords: [],\n                            deletedRecords: [],\n                            changedRecords: []\n                        };\n                        changes.deletedRecords = args.data;\n                        crud = this.dataManager.saveChanges(changes, key, query.fromTable, query.requiresCount());\n                    }\n                    break;\n                case 'save':\n                    query = query ? query : this.generateQuery();\n                    args.index = isNullOrUndefined(args.index) ? 0 : args.index;\n                    crud = this.dataManager.insert(args.data, query.fromTable, query, args.index);\n                    break;\n            }\n            var promise = 'promise';\n            args[promise] = crud;\n            // eslint-disable-next-line no-prototype-builtins\n            if (crud && !Array.isArray(crud) && !crud.hasOwnProperty('deletedRecords')) {\n                return crud.then(function () {\n                    return _this.insert(query, args);\n                });\n            }\n            else {\n                return this.insert(query, args);\n            }\n        }\n    };\n    Data.prototype.insert = function (query, args) {\n        if (args.requestType === 'save') {\n            this.parent.notify(events.recordAdded, args);\n        }\n        return this.executeQuery(query);\n    };\n    Data.prototype.executeQuery = function (query) {\n        var _this = this;\n        if (this.dataManager.ready) {\n            var deferred_1 = new Deferred();\n            var ready = this.dataManager.ready;\n            ready.then(function () {\n                _this.dataManager.executeQuery(query).then(function (result) {\n                    deferred_1.resolve(result);\n                });\n            }).catch(function (e) {\n                deferred_1.reject(e);\n            });\n            return deferred_1.promise;\n        }\n        else {\n            return this.dataManager.executeQuery(query);\n        }\n    };\n    Data.prototype.formatGroupColumn = function (value, field) {\n        var serviceLocator = this.serviceLocator;\n        var column = this.getColumnByField(field);\n        var date = value;\n        if (!column.type) {\n            column.type = date.getDay ? (date.getHours() > 0 || date.getMinutes() > 0 ||\n                date.getSeconds() > 0 || date.getMilliseconds() > 0 ? 'datetime' : 'date') : typeof (value);\n        }\n        if (isNullOrUndefined(column.getFormatter())) {\n            setFormatter(serviceLocator, column);\n        }\n        var formatVal = ValueFormatter.prototype.toView(value, column.getFormatter());\n        return formatVal;\n    };\n    Data.prototype.crudActions = function (args) {\n        var query = this.generateQuery();\n        var promise = null;\n        var pr = 'promise';\n        var key = this.getKey(args.foreignKeyData &&\n            Object.keys(args.foreignKeyData).length ? args.foreignKeyData :\n            this.parent.getPrimaryKeyFieldNames());\n        if (this.parent.dataSource && 'result' in this.parent.dataSource) {\n            this.eventPromise(args, query, key);\n        }\n        switch (args.requestType) {\n            case 'save':\n                promise = this.dataManager.update(key, args.data, query.fromTable, query, args.previousData);\n                break;\n        }\n        args[pr] = promise ? promise : args[pr];\n        this.parent.notify(events.crudAction, args);\n    };\n    /**\n     * @param {object} changes - specifies the changes\n     * @param {string} key - specifies the key\n     * @param {object} original - specifies the original data\n     * @param {Query} query - specifies the query\n     * @returns {Promise<Object>} returns the object\n     * @hidden\n     */\n    Data.prototype.saveChanges = function (changes, key, original, query) {\n        if (query === void 0) { query = this.generateQuery(); }\n        query.requiresCount();\n        if ('result' in this.parent.dataSource) {\n            var deff = new Deferred();\n            var args = {\n                requestType: 'batchsave', changes: changes, key: key, query: query,\n                endEdit: deff.resolve\n            };\n            this.setState({ isPending: true, resolver: deff.resolve });\n            this.parent.trigger(events.dataSourceChanged, args);\n            return deff.promise;\n        }\n        else {\n            var promise = this.dataManager.saveChanges(changes, key, query.fromTable, query, original);\n            return promise;\n        }\n    };\n    Data.prototype.getKey = function (keys) {\n        if (keys && keys.length) {\n            return keys[0];\n        }\n        return undefined;\n    };\n    /**\n     * @returns {boolean} returns whether its remote data\n     * @hidden\n     */\n    Data.prototype.isRemote = function () {\n        return this.dataManager.dataSource.offline !== true && this.dataManager.dataSource.url !== undefined &&\n            this.dataManager.dataSource.url !== '';\n    };\n    Data.prototype.addRows = function (e) {\n        for (var i = e.records.length; i > 0; i--) {\n            this.dataManager.dataSource.json.splice(e.toIndex, 0, e.records[i - 1]);\n        }\n    };\n    Data.prototype.removeRows = function (e) {\n        var json = this.dataManager.dataSource.json;\n        this.dataManager.dataSource.json = json.filter(function (value) { return e.records.indexOf(value) === -1; });\n    };\n    Data.prototype.getColumnByField = function (field) {\n        var col;\n        return (this.parent.columnModel).some(function (column) {\n            col = column;\n            return column.field === field;\n        }) && col;\n    };\n    Data.prototype.destroy = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off(events.rowsAdded, this.addRows);\n        this.parent.off(events.rowsRemoved, this.removeRows);\n        this.parent.off(events.dataSourceModified, this.initDataManager);\n        this.parent.off(events.destroy, this.destroy);\n        this.parent.off(events.updateData, this.crudActions);\n        this.parent.off(events.addDeleteAction, this.getData);\n        this.parent.off(events.autoCol, this.refreshFilteredCols);\n        this.parent.off(events.columnsPrepared, this.refreshFilteredCols);\n    };\n    Data.prototype.getState = function () {\n        return this.dataState;\n    };\n    Data.prototype.setState = function (state) {\n        return this.dataState = state;\n    };\n    Data.prototype.getForeignKeyDataState = function () {\n        return this.foreignKeyDataState;\n    };\n    Data.prototype.setForeignKeyDataState = function (state) {\n        this.foreignKeyDataState = state;\n    };\n    Data.prototype.getStateEventArgument = function (query) {\n        var adaptr = new UrlAdaptor();\n        var dm = new DataManager({ url: '', adaptor: new UrlAdaptor });\n        var state = adaptr.processQuery(dm, query);\n        var data = JSON.parse(state.data);\n        return extend(data, state.pvtData);\n    };\n    Data.prototype.eventPromise = function (args, query, key) {\n        var _this = this;\n        var dataArgs = args;\n        var state = this.getStateEventArgument(query);\n        var def = new Deferred();\n        var deff = new Deferred();\n        if (args.requestType !== undefined && this.dataState.isDataChanged !== false) {\n            state.action = args;\n            if (args.requestType === 'save' || args.requestType === 'delete') {\n                var editArgs_1 = args;\n                editArgs_1.key = key;\n                var promise = 'promise';\n                editArgs_1[promise] = deff.promise;\n                editArgs_1.state = state;\n                this.setState({ isPending: true, resolver: deff.resolve });\n                dataArgs.endEdit = deff.resolve;\n                dataArgs.cancelEdit = deff.reject;\n                this.parent.trigger(events.dataSourceChanged, editArgs_1);\n                deff.promise.then(function () {\n                    _this.setState({ isPending: true, resolver: def.resolve, group: state.group, aggregates: state.aggregates });\n                    if (editArgs_1.requestType === 'save') {\n                        _this.parent.notify(events.recordAdded, editArgs_1);\n                    }\n                    _this.parent.trigger(events.dataStateChange, state);\n                })\n                    .catch(function () { return void 0; });\n            }\n            else {\n                this.setState({ isPending: true, resolver: def.resolve, group: state.group, aggregates: state.aggregates });\n                this.parent.trigger(events.dataStateChange, state);\n            }\n        }\n        else {\n            this.setState({});\n            def.resolve(this.parent.dataSource);\n        }\n        return def;\n    };\n    /**\n     * Gets the columns where searching needs to be performed from the Grid.\n     *\n     * @returns {string[]} returns the searched column field names\n     */\n    Data.prototype.getSearchColumnFieldNames = function () {\n        var colFieldNames = [];\n        var columns = this.parent.getColumns();\n        for (var _i = 0, columns_2 = columns; _i < columns_2.length; _i++) {\n            var col = columns_2[_i];\n            if (col.allowSearching && !isNullOrUndefined(col.field)) {\n                colFieldNames.push(col.field);\n            }\n        }\n        return colFieldNames;\n    };\n    Data.prototype.refreshFilteredCols = function () {\n        if (this.parent.allowFiltering && this.parent.filterSettings.columns.length) {\n            refreshFilteredColsUid(this.parent, this.parent.filterSettings.columns);\n        }\n    };\n    return Data;\n}());\nexport { Data };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Row } from '../models/row';\nimport { Column } from '../models/column';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { calculateAggregate, getUid } from '../base/util';\nimport { CellType } from '../base/enum';\nimport { Cell } from '../models/cell';\n/**\n * Summary row model generator\n *\n * @hidden\n */\nvar SummaryModelGenerator = /** @class */ (function () {\n    /**\n     * Constructor for Summary row model generator\n     *\n     * @param {IGrid} parent - specifies the IGrid\n     */\n    function SummaryModelGenerator(parent) {\n        this.parent = parent;\n    }\n    SummaryModelGenerator.prototype.getData = function () {\n        var _this = this;\n        var rows = [];\n        var row = this.parent.aggregates.slice();\n        for (var i = 0; i < row.length; i++) {\n            var columns = row[i].columns.filter(function (column) {\n                return !(column.footerTemplate || column.groupFooterTemplate || column.groupCaptionTemplate)\n                    || _this.columnSelector(column);\n            });\n            if (columns.length) {\n                rows.push({ columns: columns });\n            }\n        }\n        return rows;\n    };\n    SummaryModelGenerator.prototype.columnSelector = function (column) {\n        return column.footerTemplate !== undefined;\n    };\n    SummaryModelGenerator.prototype.getColumns = function (start, end) {\n        var columns = [];\n        if (this.parent.allowGrouping) {\n            for (var i = 0; i < this.parent.groupSettings.columns.length; i++) {\n                columns.push(new Column({}));\n            }\n        }\n        if (this.parent.detailTemplate || !isNullOrUndefined(this.parent.childGrid)) {\n            columns.push(new Column({}));\n        }\n        if (this.parent.isRowDragable() && !start) {\n            columns.push(new Column({}));\n        }\n        columns.push.apply(columns, this.parent.getColumns());\n        end = end && !start ? end + this.parent.getIndentCount() : end;\n        return isNullOrUndefined(start) ? columns : columns.slice(start, end);\n    };\n    SummaryModelGenerator.prototype.generateRows = function (input, args, start, end, columns) {\n        if (input.length === 0) {\n            if (args === undefined || !args.count) {\n                return [];\n            }\n        }\n        var data = this.buildSummaryData(input, args);\n        var rows = [];\n        var row = this.getData();\n        for (var i = 0; i < row.length; i++) {\n            rows.push(this.getGeneratedRow(row[i], data[i], args ? args.level : undefined, start, end, args ? args.parentUid : undefined, columns));\n        }\n        return rows;\n    };\n    SummaryModelGenerator.prototype.getGeneratedRow = function (summaryRow, data, raw, start, end, parentUid, columns) {\n        var tmp = [];\n        var indents = this.getIndentByLevel();\n        var isDetailGridAlone = !isNullOrUndefined(this.parent.childGrid);\n        var indentLength = !start ? this.parent.getIndentCount() : 0;\n        if (this.parent.isRowDragable() && !start) {\n            indents = ['e-indentcelltop'];\n        }\n        var values = columns ? columns : this.getColumns(start, end);\n        for (var i = 0; i < values.length; i++) {\n            tmp.push(this.getGeneratedCell(values[i], summaryRow, i >= indentLength ? this.getCellType() :\n                i < this.parent.groupSettings.columns.length ? CellType.Indent : CellType.DetailFooterIntent, indents[i], isDetailGridAlone));\n        }\n        var row = new Row({ data: data, attributes: { class: 'e-summaryrow' } });\n        row.cells = tmp;\n        row.uid = getUid('grid-row');\n        row.parentUid = parentUid;\n        row.isAggregateRow = true;\n        row.visible = tmp.some(function (cell) { return cell.isDataCell && cell.visible; });\n        return row;\n    };\n    SummaryModelGenerator.prototype.getGeneratedCell = function (column, summaryRow, cellType, indent, isDetailGridAlone) {\n        //Get the summary column by display\n        var sColumn = summaryRow.columns.filter(function (scolumn) { return scolumn.columnName === column.field; })[0];\n        var attrs = {\n            'style': { 'textAlign': column.textAlign },\n            'e-mappinguid': column.uid, index: column.index\n        };\n        if (indent) {\n            attrs.class = indent;\n        }\n        if (isNullOrUndefined(indent) && isDetailGridAlone) {\n            attrs.class = 'e-detailindentcelltop';\n        }\n        var opt = {\n            'visible': column.visible,\n            'isDataCell': !isNullOrUndefined(sColumn),\n            'isTemplate': sColumn && !isNullOrUndefined(sColumn.footerTemplate\n                || sColumn.groupFooterTemplate || sColumn.groupCaptionTemplate),\n            'column': sColumn || {},\n            'attributes': attrs,\n            'cellType': cellType\n        };\n        opt.column.headerText = column.headerText;\n        return new Cell(opt);\n    };\n    SummaryModelGenerator.prototype.buildSummaryData = function (data, args) {\n        var dummy = [];\n        var summaryRows = this.getData();\n        var single = {};\n        for (var i = 0; i < summaryRows.length; i++) {\n            single = {};\n            var column = summaryRows[i].columns;\n            for (var j = 0; j < column.length; j++) {\n                single = this.setTemplate(column[j], (args && args.aggregates) ? args : data, single);\n            }\n            dummy.push(single);\n        }\n        return dummy;\n    };\n    SummaryModelGenerator.prototype.getIndentByLevel = function () {\n        return this.parent.groupSettings.columns.map(function () { return 'e-indentcelltop'; });\n    };\n    SummaryModelGenerator.prototype.setTemplate = function (column, data, single) {\n        var types = column.type;\n        var helper = {};\n        var formatFn = column.getFormatter() || (function () { return function (a) { return a; }; })();\n        var group = data;\n        if (!(types instanceof Array)) {\n            types = [column.type];\n        }\n        for (var i = 0; i < types.length; i++) {\n            var key = column.field + ' - ' + types[i].toLowerCase();\n            var disp = column.columnName;\n            var val = types[i] !== 'Custom' && group.aggregates && key in group.aggregates ? group.aggregates[key] :\n                calculateAggregate(types[i], group.aggregates ? group : data, column, this.parent);\n            single[disp] = single[disp] || {};\n            single[disp][key] = val;\n            single[disp][types[i]] = !isNullOrUndefined(val) ? formatFn(val) : ' ';\n            if (group.field) {\n                single[disp].field = group.field;\n                single[disp].key = group.key;\n            }\n        }\n        helper.format = column.getFormatter();\n        column.setTemplate(helper);\n        return single;\n    };\n    SummaryModelGenerator.prototype.getCellType = function () {\n        return CellType.Summary;\n    };\n    return SummaryModelGenerator;\n}());\nexport { SummaryModelGenerator };\nvar GroupSummaryModelGenerator = /** @class */ (function (_super) {\n    __extends(GroupSummaryModelGenerator, _super);\n    function GroupSummaryModelGenerator() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    GroupSummaryModelGenerator.prototype.columnSelector = function (column) {\n        return column.groupFooterTemplate !== undefined;\n    };\n    GroupSummaryModelGenerator.prototype.getIndentByLevel = function (level) {\n        if (level === void 0) { level = this.parent.groupSettings.columns.length; }\n        return this.parent.groupSettings.columns.map(function (v, indx) { return indx <= level - 1 ? '' : 'e-indentcelltop'; });\n    };\n    GroupSummaryModelGenerator.prototype.getCellType = function () {\n        return CellType.GroupSummary;\n    };\n    return GroupSummaryModelGenerator;\n}(SummaryModelGenerator));\nexport { GroupSummaryModelGenerator };\nvar CaptionSummaryModelGenerator = /** @class */ (function (_super) {\n    __extends(CaptionSummaryModelGenerator, _super);\n    function CaptionSummaryModelGenerator() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    CaptionSummaryModelGenerator.prototype.columnSelector = function (column) {\n        return column.groupCaptionTemplate !== undefined;\n    };\n    CaptionSummaryModelGenerator.prototype.getData = function () {\n        var initVal = { columns: [] };\n        return [_super.prototype.getData.call(this).reduce(function (prev, cur) {\n                prev.columns = prev.columns.concat(cur.columns);\n                return prev;\n            }, initVal)];\n    };\n    CaptionSummaryModelGenerator.prototype.isEmpty = function () {\n        return (this.getData()[0].columns || []).length === 0;\n    };\n    CaptionSummaryModelGenerator.prototype.getCellType = function () {\n        return CellType.CaptionSummary;\n    };\n    return CaptionSummaryModelGenerator;\n}(SummaryModelGenerator));\nexport { CaptionSummaryModelGenerator };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Row } from '../models/row';\nimport { isNullOrUndefined, extend, setValue } from '@syncfusion/ej2-base';\nimport { CellType } from '../base/enum';\nimport { RowModelGenerator } from '../services/row-model-generator';\nimport { GroupSummaryModelGenerator, CaptionSummaryModelGenerator } from '../services/summary-model-generator';\nimport { getForeignData, getUid } from '../../grid/base/util';\n/**\n * GroupModelGenerator is used to generate group caption rows and data rows.\n *\n * @hidden\n */\nvar GroupModelGenerator = /** @class */ (function (_super) {\n    __extends(GroupModelGenerator, _super);\n    function GroupModelGenerator(parent) {\n        var _this = _super.call(this, parent) || this;\n        _this.rows = [];\n        /** @hidden */\n        _this.index = 0;\n        _this.infiniteChildCount = 0;\n        _this.renderInfiniteAgg = true;\n        _this.parent = parent;\n        _this.summaryModelGen = new GroupSummaryModelGenerator(parent);\n        _this.captionModelGen = new CaptionSummaryModelGenerator(parent);\n        return _this;\n    }\n    GroupModelGenerator.prototype.generateRows = function (data, args) {\n        if (this.parent.groupSettings.columns.length === 0) {\n            return _super.prototype.generateRows.call(this, data, args);\n        }\n        this.isInfiniteScroll = (args.requestType === 'infiniteScroll');\n        this.rows = [];\n        this.index = this.parent.enableVirtualization || this.isInfiniteScroll ? args.startIndex : 0;\n        for (var i = 0, len = data.length; i < len; i++) {\n            this.infiniteChildCount = 0;\n            this.renderInfiniteAgg = true;\n            this.getGroupedRecords(0, data[i], data.level, i, undefined, this.rows.length);\n        }\n        this.index = 0;\n        if (this.parent.isCollapseStateEnabled()) {\n            this.ensureRowVisibility();\n        }\n        return this.rows;\n    };\n    GroupModelGenerator.prototype.getGroupedRecords = function (index, data, raw, parentid, childId, tIndex, parentUid) {\n        var _a;\n        var level = raw;\n        if (isNullOrUndefined(data.items)) {\n            if (isNullOrUndefined(data.GroupGuid)) {\n                this.rows = this.rows.concat(this.generateDataRows(data, index, parentid, this.rows.length, parentUid));\n            }\n            else {\n                for (var j = 0, len = data.length; j < len; j++) {\n                    this.getGroupedRecords(index, data[j], data.level, parentid, index, this.rows.length, parentUid);\n                }\n            }\n        }\n        else {\n            var preCaption = void 0;\n            var captionRow = this.generateCaptionRow(data, index, parentid, childId, tIndex, parentUid);\n            if (this.isInfiniteScroll) {\n                preCaption = this.getPreCaption(index, captionRow.data.key);\n            }\n            if (!preCaption) {\n                this.rows = this.rows.concat(captionRow);\n            }\n            else {\n                captionRow.uid = preCaption.uid;\n            }\n            if (data.items && data.items.length) {\n                this.getGroupedRecords(index + 1, data.items, data.items.level, parentid, index + 1, this.rows.length, captionRow.uid);\n            }\n            if (this.parent.aggregates.length && this.isRenderAggregate(captionRow)) {\n                var rowCnt = this.rows.length;\n                (_a = this.rows).push.apply(_a, this.summaryModelGen.generateRows(data, { level: level, parentUid: captionRow.uid }));\n                for (var i = rowCnt - 1; i >= 0; i--) {\n                    if (this.rows[i].isCaptionRow) {\n                        this.rows[i].aggregatesCount = this.rows.length - rowCnt;\n                    }\n                    else if (!this.rows[i].isCaptionRow && !this.rows[i].isDataRow) {\n                        break;\n                    }\n                }\n            }\n            if (preCaption) {\n                this.setInfiniteRowVisibility(preCaption);\n            }\n        }\n    };\n    GroupModelGenerator.prototype.isRenderAggregate = function (data) {\n        if (this.parent.enableInfiniteScrolling) {\n            if (!this.renderInfiniteAgg) {\n                return false;\n            }\n            this.getPreCaption(data.indent, data.data.key);\n            this.renderInfiniteAgg = data.data.count === this.infiniteChildCount;\n            return this.renderInfiniteAgg;\n        }\n        return !this.parent.enableInfiniteScrolling;\n    };\n    GroupModelGenerator.prototype.getPreCaption = function (indent, key) {\n        var rowObj = this.parent.getRowsObject().concat(this.rows);\n        var preCap;\n        this.infiniteChildCount = 0;\n        var i = rowObj.length;\n        while (i--) {\n            if (rowObj[i].isCaptionRow && rowObj[i].indent === indent\n                && rowObj[i].data.key === key) {\n                preCap = rowObj[i];\n            }\n            if (rowObj[i].indent === indent || rowObj[i].indent < indent) {\n                break;\n            }\n            if (rowObj[i].indent === indent + 1) {\n                this.infiniteChildCount++;\n            }\n        }\n        return preCap;\n    };\n    GroupModelGenerator.prototype.getCaptionRowCells = function (field, indent, data) {\n        var cells = [];\n        var visibles = [];\n        var column = this.parent.getColumnByField(field);\n        var indexes = this.parent.getColumnIndexesInView();\n        if (this.parent.enableColumnVirtualization) {\n            column = this.parent.columns.filter(function (c) { return c.field === field; })[0];\n        }\n        var groupedLen = this.parent.groupSettings.columns.length;\n        var gObj = this.parent;\n        if (!this.parent.enableColumnVirtualization || indexes.indexOf(indent) !== -1) {\n            for (var i = 0; i < indent; i++) {\n                cells.push(this.generateIndentCell());\n            }\n            cells.push(this.generateCell({}, null, CellType.Expand));\n        }\n        indent = this.parent.enableColumnVirtualization ? 1 :\n            (this.parent.getVisibleColumns().length + groupedLen + (gObj.detailTemplate || gObj.childGrid ? 1 : 0) -\n                indent + (this.parent.getVisibleColumns().length ? -1 : 0));\n        //Captionsummary cells will be added here.\n        if (this.parent.aggregates.length && !this.captionModelGen.isEmpty()) {\n            var captionCells = this.captionModelGen.generateRows(data)[0];\n            extend(data, captionCells.data);\n            var cIndex_1 = 0;\n            captionCells.cells.some(function (cell, index) { cIndex_1 = index; return cell.visible && cell.isDataCell; });\n            visibles = captionCells.cells.slice(cIndex_1).filter(function (cell) { return cell.visible; });\n            if (captionCells.visible && visibles[0].column.field === this.parent.getVisibleColumns()[0].field) {\n                visibles = visibles.slice(1);\n            }\n            if (this.parent.getVisibleColumns().length === 1) {\n                visibles = [];\n            }\n            indent = indent - visibles.length;\n        }\n        var cols = (!this.parent.enableColumnVirtualization ? [column] : this.parent.getColumns());\n        var wFlag = true;\n        for (var j = 0; j < cols.length; j++) {\n            var tmpFlag = wFlag && indexes.indexOf(indent) !== -1;\n            if (tmpFlag) {\n                wFlag = false;\n            }\n            var cellType = !this.parent.enableColumnVirtualization || tmpFlag ?\n                CellType.GroupCaption : CellType.GroupCaptionEmpty;\n            indent = this.parent.enableColumnVirtualization && cellType === CellType.GroupCaption ? indent + groupedLen : indent;\n            if (gObj.isRowDragable()) {\n                indent++;\n            }\n            cells.push(this.generateCell(column, null, cellType, indent));\n        }\n        cells.push.apply(cells, visibles);\n        return cells;\n    };\n    /**\n     * @param {GroupedData} data - specifies the data\n     * @param {number} indent - specifies the indent\n     * @param {number} parentID - specifies the parentID\n     * @param {number} childID - specifies the childID\n     * @param {number} tIndex - specifies the TIndex\n     * @param {string} parentUid - specifies the ParentUid\n     * @returns {Row<Column>} returns the Row object\n     * @hidden\n     */\n    GroupModelGenerator.prototype.generateCaptionRow = function (data, indent, parentID, childID, tIndex, parentUid) {\n        var options = {};\n        var records = 'records';\n        var col = this.parent.getColumnByField(data.field);\n        options.data = extend({}, data);\n        if (col) {\n            options.data.field = data.field;\n        }\n        options.isDataRow = false;\n        options.isExpand = !this.parent.groupSettings.enableLazyLoading && !this.parent.isCollapseStateEnabled();\n        options.parentGid = parentID;\n        options.childGid = childID;\n        options.tIndex = tIndex;\n        options.isCaptionRow = true;\n        options.parentUid = parentUid;\n        options.gSummary = !isNullOrUndefined(data.items[records]) ? data.items[records].length : data.items.length;\n        options.uid = getUid('grid-row');\n        var row = new Row(options);\n        row.indent = indent;\n        this.getForeignKeyData(row);\n        row.cells = this.getCaptionRowCells(data.field, indent, row.data);\n        return row;\n    };\n    GroupModelGenerator.prototype.getForeignKeyData = function (row) {\n        var data = row.data;\n        var col = this.parent.getColumnByField(data.field);\n        if (col && col.isForeignColumn && col.isForeignColumn()) {\n            var fkValue = (isNullOrUndefined(data.key) ? '' : col.valueAccessor(col.foreignKeyValue, getForeignData(col, {}, data.key)[0], col));\n            setValue('foreignKey', fkValue, row.data);\n        }\n    };\n    /**\n     * @param {Object[]} data - specifies the data\n     * @param {number} indent - specifies the indent\n     * @param {number} childID - specifies the childID\n     * @param {number} tIndex - specifies the tIndex\n     * @param {string} parentUid - specifies the ParentUid\n     * @returns {Row<Column>[]} returns the row object\n     * @hidden\n     */\n    GroupModelGenerator.prototype.generateDataRows = function (data, indent, childID, tIndex, parentUid) {\n        var rows = [];\n        var indexes = this.parent.getColumnIndexesInView();\n        for (var i = 0, len = data.length; i < len; i++, tIndex++) {\n            rows[i] = this.generateRow(data[i], this.index, i ? undefined : 'e-firstchildrow', indent, childID, tIndex, parentUid);\n            for (var j = 0; j < indent; j++) {\n                if (this.parent.enableColumnVirtualization && indexes.indexOf(indent) === -1) {\n                    continue;\n                }\n                rows[i].cells.unshift(this.generateIndentCell());\n            }\n            this.index++;\n        }\n        return rows;\n    };\n    GroupModelGenerator.prototype.generateIndentCell = function () {\n        return this.generateCell({}, null, CellType.Indent);\n    };\n    GroupModelGenerator.prototype.refreshRows = function (input) {\n        var indexes = this.parent.getColumnIndexesInView();\n        for (var i = 0; i < input.length; i++) {\n            if (input[i].isDataRow) {\n                input[i].cells = this.generateCells(input[i]);\n                for (var j = 0; j < input[i].indent; j++) {\n                    if (this.parent.enableColumnVirtualization && indexes.indexOf(input[i].indent) === -1) {\n                        continue;\n                    }\n                    input[i].cells.unshift(this.generateIndentCell());\n                }\n            }\n            else {\n                var cRow = this.generateCaptionRow(input[i].data, input[i].indent);\n                input[i].cells = cRow.cells;\n            }\n        }\n        return input;\n    };\n    GroupModelGenerator.prototype.setInfiniteRowVisibility = function (caption) {\n        if (!caption.isExpand || caption.visible === false) {\n            for (var _i = 0, _a = this.rows; _i < _a.length; _i++) {\n                var row = _a[_i];\n                if (row.parentUid === caption.uid) {\n                    row.visible = false;\n                    if (row.isCaptionRow) {\n                        this.setInfiniteRowVisibility(row);\n                    }\n                }\n            }\n        }\n    };\n    GroupModelGenerator.prototype.ensureRowVisibility = function () {\n        for (var i = 0; i < this.rows.length; i++) {\n            var row = this.rows[i];\n            if (!row.isCaptionRow) {\n                continue;\n            }\n            for (var j = i + 1; j < this.rows.length; j++) {\n                var childRow = this.rows[j];\n                if (row.uid === childRow.parentUid) {\n                    this.rows[j].visible = row.isExpand;\n                }\n            }\n        }\n    };\n    return GroupModelGenerator;\n}(RowModelGenerator));\nexport { GroupModelGenerator };\n","import { Droppable } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, extend } from '@syncfusion/ej2-base';\nimport { setStyleAttribute, remove, updateBlazorTemplate } from '@syncfusion/ej2-base';\nimport { getUpdateUsingRaf, appendChildren, setDisplayValue, clearReactVueTemplates } from '../base/util';\nimport * as events from '../base/constant';\nimport { RowRenderer } from './row-renderer';\nimport { CellMergeRender } from './cell-merge-renderer';\nimport { RowModelGenerator } from '../services/row-model-generator';\nimport { GroupModelGenerator } from '../services/group-model-generator';\nimport { isGroupAdaptive } from '../base/util';\nimport * as literals from '../base/string-literals';\n// eslint-disable-next-line valid-jsdoc\n/**\n * Content module is used to render grid content\n *\n * @hidden\n */\nvar ContentRender = /** @class */ (function () {\n    /**\n     * Constructor for content renderer module\n     *\n     * @param {IGrid} parent - specifies the Igrid\n     * @param {ServiceLocator} serviceLocator - specifies the service locator\n     */\n    function ContentRender(parent, serviceLocator) {\n        var _this = this;\n        this.rows = [];\n        this.freezeRows = [];\n        this.movableRows = [];\n        this.freezeRowElements = [];\n        /** @hidden */\n        this.currentInfo = {};\n        /** @hidden */\n        this.prevCurrentView = [];\n        this.isLoaded = true;\n        this.viewColIndexes = [];\n        this.drop = function (e) {\n            _this.parent.notify(events.columnDrop, { target: e.target, droppedElement: e.droppedElement });\n            remove(e.droppedElement);\n        };\n        this.infiniteCache = {};\n        this.isRemove = false;\n        this.visibleRows = [];\n        this.visibleFrozenRows = [];\n        this.rightFreezeRows = [];\n        this.isAddRows = false;\n        this.isInfiniteFreeze = false;\n        this.useGroupCache = false;\n        this.rafCallback = function (args) {\n            var arg = args;\n            return function () {\n                if (_this.parent.isFrozenGrid() && _this.parent.enableVirtualization) {\n                    var tableName = args.tableName;\n                    _this.isLoaded = _this.parent.getFrozenMode() === literals.leftRight ? tableName === 'frozen-right' : tableName === 'movable';\n                    if (_this.parent.enableColumnVirtualization && args.requestType === 'virtualscroll' && _this.isLoaded) {\n                        var mHdr = [].slice.call(_this.parent.getMovableVirtualHeader().getElementsByClassName(literals.row));\n                        var fHdr = [].slice.call(_this.parent.getFrozenVirtualHeader().getElementsByClassName(literals.row));\n                        _this.isLoaded = mHdr.length === fHdr.length;\n                    }\n                }\n                _this.ariaService.setBusy(_this.getPanel().querySelector('.' + literals.content), false);\n                if (_this.parent.isDestroyed) {\n                    return;\n                }\n                var rows = _this.rows.slice(0);\n                if (_this.parent.enableInfiniteScrolling) {\n                    rows = _this.parent.getRowsObject();\n                    var prevPage = arg.prevPage;\n                    if (_this.parent.infiniteScrollSettings.enableCache && prevPage) {\n                        var maxBlock = _this.parent.infiniteScrollSettings.maxBlocks;\n                        rows = [];\n                        var rowIdx = (parseInt(_this.rowElements[0].getAttribute('aria-rowindex'), 10) + 1);\n                        var startIdx = Math.ceil(rowIdx / _this.parent.pageSettings.pageSize);\n                        for (var i = 0, count = startIdx; i < maxBlock; i++, count++) {\n                            if (_this.infiniteCache[count]) {\n                                rows = rows.concat(_this.infiniteCache[count]);\n                            }\n                        }\n                    }\n                }\n                if (_this.parent.isFrozenGrid()) {\n                    rows = args.isFrozen ? _this.freezeRows : args.renderFrozenRightContent ? _this.parent.getFrozenRightRowsObject()\n                        : _this.movableRows;\n                }\n                _this.parent.notify(events.contentReady, { rows: rows, args: arg });\n                if (_this.isLoaded) {\n                    _this.parent.isManualRefresh = false;\n                    _this.parent.trigger(events.dataBound, {}, function () {\n                        if (_this.parent.allowTextWrap) {\n                            _this.parent.notify(events.freezeRender, { case: 'textwrap' });\n                        }\n                    });\n                }\n                if (arg) {\n                    var action = (arg.requestType || '').toLowerCase() + '-complete';\n                    _this.parent.notify(action, arg);\n                    if (args.requestType === 'batchsave') {\n                        args.cancel = false;\n                        _this.parent.trigger(events.actionComplete, args);\n                    }\n                }\n                if (_this.isLoaded) {\n                    _this.parent.hideSpinner();\n                }\n            };\n        };\n        this.parent = parent;\n        this.serviceLocator = serviceLocator;\n        this.ariaService = this.serviceLocator.getService('ariaService');\n        this.parent.enableDeepCompare = this.parent.getDataModule().isRemote();\n        this.generator = this.getModelGenerator();\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        if (!this.parent.enableColumnVirtualization && !this.parent.enableVirtualization\n            && !this.parent.groupSettings.enableLazyLoading) {\n            this.parent.on(events.columnVisibilityChanged, this.setVisible, this);\n        }\n        this.parent.on(events.colGroupRefresh, this.colGroupRefresh, this);\n        this.parent.on(events.uiUpdate, this.enableAfterRender, this);\n        this.parent.on(events.refreshInfiniteModeBlocks, this.refreshContentRows, this);\n        this.parent.on(events.beforeCellFocused, this.beforeCellFocused, this);\n        this.parent.on(events.destroy, this.droppableDestroy, this);\n    }\n    ContentRender.prototype.beforeCellFocused = function (e) {\n        if (e.byKey && (e.keyArgs.action === 'upArrow' || e.keyArgs.action === 'downArrow')) {\n            this.pressedKey = e.keyArgs.action;\n        }\n        else {\n            this.pressedKey = undefined;\n        }\n    };\n    /**\n     * The function is used to render grid content div\n     *\n     * @returns {void}\n     */\n    ContentRender.prototype.renderPanel = function () {\n        var gObj = this.parent;\n        var div = this.parent.element.querySelector('.' + literals.gridContent);\n        if (div) {\n            this.ariaService.setOptions(this.parent.element.querySelector('.' + literals.content), { busy: false });\n            this.setPanel(div);\n            return;\n        }\n        div = this.parent.createElement('div', { className: literals.gridContent });\n        var innerDiv = this.parent.createElement('div', {\n            className: literals.content\n        });\n        this.ariaService.setOptions(innerDiv, { busy: false });\n        div.appendChild(innerDiv);\n        this.setPanel(div);\n        gObj.element.appendChild(div);\n    };\n    /**\n     * The function is used to render grid content table\n     *\n     * @returns {void}\n     */\n    ContentRender.prototype.renderTable = function () {\n        var contentDiv = this.getPanel();\n        var virtualTable = contentDiv.querySelector('.e-virtualtable');\n        var virtualTrack = contentDiv.querySelector('.e-virtualtrack');\n        if (this.parent.enableVirtualization && !isNullOrUndefined(virtualTable) && !isNullOrUndefined(virtualTrack)) {\n            remove(virtualTable);\n            remove(virtualTrack);\n        }\n        contentDiv.appendChild(this.createContentTable('_content_table'));\n        this.setTable(contentDiv.querySelector('.' + literals.table));\n        this.ariaService.setOptions(this.getTable(), {\n            multiselectable: this.parent.selectionSettings.type === 'Multiple'\n        });\n        this.initializeContentDrop();\n        if (this.parent.frozenRows) {\n            this.parent.getHeaderContent().classList.add('e-frozenhdrcont');\n        }\n    };\n    /**\n     * The function is used to create content table elements\n     *\n     * @param {string} id - specifies the id\n     * @returns {Element} returns the element\n     * @hidden\n     */\n    ContentRender.prototype.createContentTable = function (id) {\n        var innerDiv = this.getPanel().firstElementChild;\n        if (this.getTable()) {\n            remove(this.getTable());\n        }\n        var table = innerDiv.querySelector('.' + literals.table) ? innerDiv.querySelector('.' + literals.table) :\n            this.parent.createElement('table', {\n                className: literals.table, attrs: {\n                    cellspacing: '0.25px', role: 'grid',\n                    id: this.parent.element.id + id\n                }\n            });\n        this.setColGroup(this.parent.getHeaderTable().querySelector(literals.colGroup).cloneNode(true));\n        table.appendChild(this.getColGroup());\n        table.appendChild(this.parent.createElement(literals.tbody));\n        innerDiv.appendChild(table);\n        return innerDiv;\n    };\n    /**\n     * Refresh the content of the Grid.\n     *\n     * @param {NotifyArgs} args - specifies the args\n     * @returns {void}\n     */\n    // tslint:disable-next-line:max-func-body-length\n    ContentRender.prototype.refreshContentRows = function (args) {\n        var _this = this;\n        if (args === void 0) { args = {}; }\n        var gObj = this.parent;\n        if (gObj.currentViewData.length === 0) {\n            return;\n        }\n        var dataSource = this.currentMovableRows || gObj.currentViewData;\n        var contentModule = this.parent.contentModule;\n        var isReact = gObj.isReact && !isNullOrUndefined(gObj.rowTemplate);\n        var frag = isReact ? gObj.createElement(literals.tbody) : document.createDocumentFragment();\n        if (!this.initialPageRecords) {\n            this.initialPageRecords = extend([], dataSource);\n        }\n        var hdrfrag = isReact ? gObj.createElement(literals.tbody) : document.createDocumentFragment();\n        var columns = gObj.getColumns();\n        var tr;\n        var hdrTbody;\n        var frzCols = gObj.getFrozenColumns();\n        var isFrozenGrid = this.parent.isFrozenGrid();\n        var trElement;\n        var row = new RowRenderer(this.serviceLocator, null, this.parent);\n        var isInfiniteScroll = this.parent.enableInfiniteScrolling\n            && args.requestType === 'infiniteScroll';\n        gObj.notify(events.destroyChildGrid, {});\n        this.rowElements = [];\n        this.rows = [];\n        var fCont = this.getPanel().querySelector('.' + literals.frozenContent);\n        var mCont = this.getPanel().querySelector('.' + literals.movableContent);\n        var cont = this.getPanel().querySelector('.' + literals.content);\n        var tbdy;\n        var tableName;\n        if (isGroupAdaptive(gObj)) {\n            if (['sorting', 'filtering', 'searching', 'grouping', 'ungrouping', 'reorder']\n                .some(function (value) { return args.requestType === value; })) {\n                this.emptyVcRows();\n            }\n        }\n        var modelData;\n        if (this.parent.enableVirtualization && this.parent.isFrozenGrid()) {\n            if (this.parent.enableColumnVirtualization && args.requestType === 'virtualscroll'\n                && args.virtualInfo.sentinelInfo.axis === 'X') {\n                modelData = this.parent.contentModule.generateRows(dataSource, args);\n                args.renderMovableContent = true;\n            }\n            modelData = this.parent.contentModule.generateRows(dataSource, args);\n        }\n        else {\n            modelData = this.checkCache(modelData, args);\n            if (!this.isAddRows && !this.useGroupCache) {\n                modelData = this.generator.generateRows(dataSource, args);\n            }\n        }\n        this.setGroupCache(modelData, args);\n        this.parent.notify(events.setInfiniteCache, { isInfiniteScroll: isInfiniteScroll, modelData: modelData, args: args });\n        var idx = modelData[0].cells[0].index;\n        if (isFrozenGrid) {\n            tableName = contentModule.setTbody(modelData, args);\n            tbdy = contentModule.getTbody(tableName);\n        }\n        var isFrozenLeft = this.parent.getFrozenMode() === literals.leftRight && tableName === literals.frozenRight;\n        /* eslint-disable */\n        if (args.requestType !== 'infiniteScroll' && this.parent.registeredTemplate\n            && this.parent.registeredTemplate.template && !args.isFrozen && !isFrozenLeft) {\n            var templatetoclear = [];\n            for (var i = 0; i < this.parent.registeredTemplate.template.length; i++) {\n                for (var j = 0; j < this.parent.registeredTemplate.template[i].rootNodes.length; j++) {\n                    if (isNullOrUndefined(this.parent.registeredTemplate.template[i].rootNodes[j].parentNode)) {\n                        templatetoclear.push(this.parent.registeredTemplate.template[i]);\n                        /* eslint-enable */\n                    }\n                }\n            }\n            this.parent.destroyTemplate(['template'], templatetoclear);\n        }\n        if ((this.parent.isReact || this.parent.isVue) && args.requestType !== 'infiniteScroll' && !args.isFrozen) {\n            var templates = [\n                this.parent.isVue ? 'template' : 'columnTemplate', 'rowTemplate', 'detailTemplate',\n                'captionTemplate', 'commandsTemplate', 'groupFooterTemplate', 'groupCaptionTemplate'\n            ];\n            clearReactVueTemplates(this.parent, templates);\n        }\n        if (this.parent.enableColumnVirtualization) {\n            var cellMerge = new CellMergeRender(this.serviceLocator, this.parent);\n            cellMerge.updateVirtualCells(modelData);\n        }\n        if (!isFrozenGrid) {\n            this.tbody = this.getTable().querySelector(literals.tbody);\n        }\n        var startIndex = 0;\n        var blockLoad = true;\n        if (isGroupAdaptive(gObj) && gObj.vcRows.length) {\n            var top_1 = 'top';\n            var scrollTop = !isNullOrUndefined(args.virtualInfo.offsets) ? args.virtualInfo.offsets.top :\n                (!isNullOrUndefined(args.scrollTop) ? args.scrollTop[top_1] : 0);\n            if (scrollTop !== 0) {\n                var offsets_1 = gObj.vGroupOffsets;\n                var bSize = gObj.pageSettings.pageSize / 2;\n                var values = Object.keys(offsets_1).map(function (key) { return offsets_1[key]; });\n                for (var m = 0; m < values.length; m++) {\n                    if (scrollTop < values[m]) {\n                        if (!isNullOrUndefined(args.virtualInfo) && args.virtualInfo.direction === 'up') {\n                            startIndex = m > 0 ? ((m - 1) * bSize) : (m * bSize);\n                            break;\n                        }\n                        else {\n                            startIndex = m * bSize;\n                            if (this.parent.contentModule.isEndBlock(m) || this.parent.contentModule.isEndBlock(m + 1)) {\n                                args.virtualInfo.blockIndexes = [m, m + 1];\n                            }\n                            break;\n                        }\n                    }\n                }\n                if (Math.round(scrollTop + this.contentPanel.firstElementChild.offsetHeight) >=\n                    this.contentPanel.firstElementChild.scrollHeight && !args.rowObject) {\n                    blockLoad = false;\n                }\n            }\n        }\n        var isVFFrozenOnly = gObj.frozenRows && !gObj.isFrozenGrid() && this.parent.enableVirtualization\n            && args.requestType === 'reorder';\n        if ((gObj.frozenRows && args.requestType === 'virtualscroll' && args.virtualInfo.sentinelInfo.axis === 'X') || isVFFrozenOnly) {\n            var bIndex = args.virtualInfo.blockIndexes;\n            var page = args.virtualInfo.page;\n            args.virtualInfo.blockIndexes = [1, 2];\n            if (isVFFrozenOnly) {\n                args.virtualInfo.page = 1;\n            }\n            var data = isVFFrozenOnly ? this.initialPageRecords : dataSource;\n            var mhdrData = this.vgenerator\n                .generateRows(data, args);\n            mhdrData.splice(this.parent.frozenRows);\n            for (var i = 0; i < this.parent.frozenRows; i++) {\n                mhdrData[i].cells.splice(0, this.parent.getFrozenColumns());\n                tr = row.render(mhdrData[i], columns);\n                hdrfrag.appendChild(tr);\n            }\n            args.virtualInfo.blockIndexes = bIndex;\n            args.virtualInfo.page = page;\n            if (isVFFrozenOnly && args.virtualInfo.page === 1) {\n                modelData.splice(0, this.parent.frozenRows);\n            }\n        }\n        this.virtualFrozenHdrRefresh(hdrfrag, modelData, row, args, dataSource, columns);\n        for (var i = startIndex, len = modelData.length; i < len; i++) {\n            this.rows.push(modelData[i]);\n            if (this.parent.groupSettings.enableLazyLoading && !this.useGroupCache && this.parent.groupSettings.columns.length) {\n                this.setRowsInLazyGroup(modelData[i], i);\n                if (isNullOrUndefined(modelData[i].indent)) {\n                    continue;\n                }\n            }\n            this.setInfiniteVisibleRows(args, modelData[i], tableName);\n            if (isGroupAdaptive(gObj) && args.virtualInfo && args.virtualInfo.blockIndexes\n                && (this.rowElements.length >= (args.virtualInfo.blockIndexes.length * this.parent.contentModule.getBlockSize()))\n                && blockLoad) {\n                this.parent.currentViewData['records'] = this.rows.map(function (m) { return m.data; });\n                break;\n            }\n            if (!gObj.rowTemplate) {\n                tr = row.render(modelData[i], columns);\n                var isVFreorder = this.ensureFrozenHeaderRender(args);\n                if (gObj.frozenRows && i < gObj.frozenRows && !isInfiniteScroll && args.requestType !== 'virtualscroll' && isVFreorder\n                    && this.ensureVirtualFrozenHeaderRender(args)) {\n                    hdrfrag.appendChild(tr);\n                }\n                else {\n                    frag.appendChild(tr);\n                }\n                if (modelData[i].isExpand) {\n                    gObj.notify(events.expandChildGrid, tr.cells[gObj.groupSettings.columns.length]);\n                }\n            }\n            else {\n                var rowTemplateID = gObj.element.id + 'rowTemplate';\n                var elements = void 0;\n                if (gObj.isReact) {\n                    var isHeader = gObj.frozenRows && i < gObj.frozenRows;\n                    var copied = extend({ index: i }, dataSource[i]);\n                    gObj.getRowTemplate()(copied, gObj, 'rowTemplate', rowTemplateID, null, null, isHeader ? hdrfrag : frag);\n                    gObj.renderTemplates();\n                }\n                else {\n                    elements = gObj.getRowTemplate()(extend({ index: i }, dataSource[i]), gObj, 'rowTemplate', rowTemplateID);\n                }\n                if (!gObj.isReact && elements[0].tagName === 'TBODY') {\n                    for (var j = 0; j < elements.length; j++) {\n                        var isTR = elements[j].nodeName.toLowerCase() === 'tr';\n                        if (isTR || (elements[j].querySelectorAll && elements[j].querySelectorAll('tr').length)) {\n                            tr = isTR ? elements[j] : elements[j].querySelector('tr');\n                        }\n                    }\n                    if (gObj.frozenRows && i < gObj.frozenRows) {\n                        hdrfrag.appendChild(tr);\n                    }\n                    else {\n                        frag.appendChild(tr);\n                    }\n                }\n                else {\n                    if (gObj.frozenRows && i < gObj.frozenRows) {\n                        tr = !gObj.isReact ? appendChildren(hdrfrag, elements) : hdrfrag.lastElementChild;\n                    }\n                    else {\n                        // frag.appendChild(tr);\n                        if (!gObj.isReact) {\n                            tr = appendChildren(frag, elements);\n                        }\n                        trElement = gObj.isReact ? frag.lastElementChild : tr.lastElementChild;\n                    }\n                }\n                var arg = { data: modelData[i].data, row: trElement ? trElement : tr };\n                this.parent.trigger(events.rowDataBound, arg);\n            }\n            if (modelData[i].isDataRow) {\n                this.rowElements.push(tr);\n            }\n            this.ariaService.setOptions(this.getTable(), { colcount: gObj.getColumns().length.toString() });\n        }\n        if (isFrozenGrid) {\n            contentModule.splitRows(tableName);\n        }\n        if ((gObj.frozenRows && args.requestType !== 'virtualscroll' && !isInfiniteScroll && this.ensureVirtualFrozenHeaderRender(args))\n            || (args.requestType === 'virtualscroll' && args.virtualInfo.sentinelInfo && args.virtualInfo.sentinelInfo.axis === 'X')) {\n            hdrTbody = isFrozenGrid ? contentModule.getFrozenHeader(tableName) : gObj.getHeaderTable().querySelector(literals.tbody);\n            if (isReact) {\n                var parentTable = hdrTbody.parentElement;\n                remove(hdrTbody);\n                parentTable.appendChild(hdrfrag);\n            }\n            else {\n                hdrTbody.innerHTML = '';\n                hdrTbody.appendChild(hdrfrag);\n            }\n        }\n        if (!gObj.enableVirtualization && gObj.frozenRows && idx === 0 && cont.offsetHeight === Number(gObj.height)) {\n            cont.style.height = (cont.offsetHeight - hdrTbody.offsetHeight) + 'px';\n        }\n        args.rows = this.rows.slice(0);\n        if (isFrozenGrid) {\n            contentModule.setIsFrozen(args, tableName);\n        }\n        this.index = idx;\n        getUpdateUsingRaf(function () {\n            _this.parent.notify(events.beforeFragAppend, args);\n            var isVFTable = _this.parent.enableVirtualization && _this.parent.isFrozenGrid();\n            if (!_this.parent.enableVirtualization && !isInfiniteScroll) {\n                if (_this.parent.isFrozenGrid()) {\n                    remove(contentModule.getTbody(tableName));\n                    tbdy = _this.parent.createElement(literals.tbody);\n                }\n                else {\n                    _this.tbody.innerHTML = '';\n                    remove(_this.tbody);\n                    _this.tbody = _this.parent.createElement(literals.tbody);\n                }\n            }\n            if (isFrozenGrid && !isVFTable && !_this.parent.enableInfiniteScrolling) {\n                _this.appendContent(tbdy, frag, args, tableName);\n            }\n            else {\n                if (gObj.rowTemplate) {\n                    updateBlazorTemplate(gObj.element.id + 'rowTemplate', 'RowTemplate', gObj);\n                }\n                if (isVFTable) {\n                    if (args.renderFrozenRightContent) {\n                        var frCont = gObj.getContent().querySelector('.e-frozen-right-content').querySelector(literals.tbody);\n                        _this.appendContent(frCont, frag, args);\n                    }\n                    else if (!args.renderMovableContent) {\n                        _this.appendContent(fCont.querySelector(literals.tbody), frag, args);\n                    }\n                    else {\n                        _this.appendContent(mCont.querySelector(literals.tbody), frag, args);\n                        args.renderMovableContent = false;\n                    }\n                    if (!_this.parent.getFrozenColumns()) {\n                        contentModule.renderNextFrozentPart(args, tableName);\n                    }\n                }\n                else {\n                    if (!isNullOrUndefined(_this.parent.infiniteScrollModule) && _this.parent.enableInfiniteScrolling) {\n                        _this.isAddRows = false;\n                        _this.parent.notify(events.removeInfiniteRows, { args: args });\n                        _this.parent.notify(events.appendInfiniteContent, {\n                            tbody: tbdy ? tbdy : _this.tbody, frag: frag, args: args, rows: _this.rows,\n                            rowElements: _this.rowElements, visibleRows: _this.visibleRows,\n                            tableName: tableName\n                        });\n                        if (!frzCols && isFrozenGrid) {\n                            if ((gObj.getFrozenMode() !== literals.leftRight\n                                && (tableName === literals.frozenLeft || tableName === literals.frozenRight))\n                                || (gObj.getFrozenMode() === literals.leftRight\n                                    && (tableName === literals.frozenLeft || tableName === 'movable'))) {\n                                _this.refreshContentRows(extend({}, args));\n                            }\n                        }\n                    }\n                    else {\n                        _this.useGroupCache = false;\n                        _this.appendContent(_this.tbody, frag, args);\n                    }\n                }\n            }\n            if (frzCols) {\n                contentModule.renderNextFrozentPart(args, tableName);\n            }\n            frag = null;\n        }, this.rafCallback(extend({}, args)));\n    };\n    ContentRender.prototype.emptyVcRows = function () {\n        this.parent.vcRows = [];\n        this.parent.vRows = [];\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    ContentRender.prototype.appendContent = function (tbody, frag, args, tableName) {\n        var isReact = this.parent.isReact && !isNullOrUndefined(this.parent.rowTemplate);\n        if (isReact) {\n            this.getTable().appendChild(frag);\n        }\n        else {\n            tbody.appendChild(frag);\n            this.getTable().appendChild(tbody);\n        }\n    };\n    ContentRender.prototype.setRowsInLazyGroup = function (row, index) {\n        if (this.parent.groupSettings.enableLazyLoading && !this.useGroupCache && this.parent.groupSettings.columns.length) {\n            this.parent.contentModule.maintainRows(row, index);\n        }\n    };\n    ContentRender.prototype.setGroupCache = function (data, args) {\n        if (!this.useGroupCache && this.parent.groupSettings.enableLazyLoading) {\n            this.parent.notify(events.setGroupCache, { args: args, data: data });\n        }\n    };\n    ContentRender.prototype.ensureFrozenHeaderRender = function (args) {\n        return !((this.parent.enableVirtualization\n            && (args.requestType === 'reorder' || args.requestType === 'refresh')) || (this.parent.infiniteScrollSettings.enableCache\n            && this.parent.frozenRows && this.parent.infiniteScrollModule.requestType === 'delete'\n            && this.parent.pageSettings.currentPage !== 1));\n    };\n    ContentRender.prototype.ensureVirtualFrozenHeaderRender = function (args) {\n        return !(this.parent.enableVirtualization && args.requestType === 'delete');\n    };\n    ContentRender.prototype.checkCache = function (modelData, args) {\n        if (this.parent.infiniteScrollSettings.enableCache && args.requestType === 'infiniteScroll') {\n            var index = args.isFrozen ? 1 : 0;\n            var frozenCols = this.parent.isFrozenGrid();\n            this.isAddRows = !isNullOrUndefined(this.infiniteCache[this.parent.pageSettings.currentPage]);\n            if (frozenCols && !isNullOrUndefined(this.infiniteCache[this.parent.pageSettings.currentPage])) {\n                this.isAddRows = this.infiniteCache[this.parent.pageSettings.currentPage][index].length !== 0;\n            }\n            if (this.isAddRows) {\n                var data = !frozenCols ? this.infiniteCache[this.parent.pageSettings.currentPage]\n                    : this.infiniteCache[this.parent.pageSettings.currentPage][index];\n                modelData = this.parent.pageSettings.currentPage === 1 ? data.slice(this.parent.frozenRows) : data;\n            }\n            return modelData;\n        }\n        if (this.parent.groupSettings.enableLazyLoading && this.parent.groupSettings.columns.length &&\n            (args.requestType === 'paging' || args.requestType === 'columnstate' || args.requestType === 'reorder')\n            && this.parent.contentModule.getGroupCache()[this.parent.pageSettings.currentPage]) {\n            this.useGroupCache = true;\n            return this.parent.contentModule.initialGroupRows(args.requestType === 'reorder');\n        }\n        return null;\n    };\n    ContentRender.prototype.setInfiniteVisibleRows = function (args, data, tableName) {\n        var frozenCols = this.parent.isFrozenGrid();\n        if (this.parent.enableInfiniteScrolling && !this.parent.infiniteScrollSettings.enableCache) {\n            if (frozenCols) {\n                if (tableName === literals.frozenLeft || (this.parent.getFrozenMode() === 'Right' && tableName === literals.frozenRight)) {\n                    this.visibleFrozenRows.push(data);\n                }\n                else if (tableName === 'movable') {\n                    this.visibleRows.push(data);\n                }\n                else {\n                    this.rightFreezeRows.push(data);\n                }\n            }\n            else if (!this.parent.infiniteScrollSettings.enableCache) {\n                this.visibleRows.push(data);\n            }\n        }\n    };\n    ContentRender.prototype.getCurrentBlockInfiniteRecords = function (isFreeze) {\n        var data = [];\n        if (this.parent.infiniteScrollSettings.enableCache) {\n            if (!Object.keys(this.infiniteCache).length) {\n                return [];\n            }\n            var frozenCols = this.parent.isFrozenGrid();\n            var rows = this.parent.getRows();\n            var index = parseInt(rows[this.parent.frozenRows].getAttribute(literals.ariaRowIndex), 10);\n            var first = Math.ceil((index + 1) / this.parent.pageSettings.pageSize);\n            index = parseInt(rows[rows.length - 1].getAttribute(literals.ariaRowIndex), 10);\n            var last = Math.ceil(index / this.parent.pageSettings.pageSize);\n            if (frozenCols) {\n                var idx = isFreeze ? 0 : 1;\n                for (var i = first; i <= last; i++) {\n                    data = !data.length ? this.infiniteCache[i][idx]\n                        : data.concat(this.infiniteCache[i][idx]);\n                }\n                if (this.parent.frozenRows && this.parent.pageSettings.currentPage > 1) {\n                    data = this.infiniteCache[1][idx].slice(0, this.parent.frozenRows).concat(data);\n                }\n            }\n            else {\n                for (var i = first; i <= last; i++) {\n                    data = !data.length ? this.infiniteCache[i] : data.concat(this.infiniteCache[i]);\n                }\n                if (this.parent.frozenRows && this.parent.pageSettings.currentPage > 1) {\n                    data = this.infiniteCache[1].slice(0, this.parent.frozenRows).concat(data);\n                }\n            }\n        }\n        return data;\n    };\n    ContentRender.prototype.getReorderedVFRows = function (args) {\n        return this.parent.contentModule.getReorderedFrozenRows(args);\n    };\n    ContentRender.prototype.getReorderedRows = function (args) {\n        return this.parent.contentModule.getReorderedFrozenRows(args);\n    };\n    ContentRender.prototype.virtualFrozenHdrRefresh = function (hdrfrag, modelData, row, args, dataSource, columns) {\n        if (this.parent.frozenRows && this.parent.enableVirtualization\n            && (args.requestType === 'reorder' || args.requestType === 'refresh')) {\n            var tr = void 0;\n            var fhdrData = [];\n            if (this.parent.isFrozenGrid()) {\n                this.currentMovableRows = dataSource;\n                fhdrData = this.getReorderedVFRows(args);\n            }\n            else {\n                fhdrData = this.getReorderedRows(args);\n            }\n            for (var i = 0; i < fhdrData.length; i++) {\n                tr = row.render(fhdrData[i], columns);\n                hdrfrag.appendChild(tr);\n            }\n            if (args.virtualInfo.page === 1) {\n                modelData.splice(0, this.parent.frozenRows);\n            }\n            if (args.renderMovableContent) {\n                this.parent.currentViewData = this.currentMovableRows;\n                this.currentMovableRows = null;\n            }\n        }\n    };\n    ContentRender.prototype.getInfiniteRows = function () {\n        var rows = [];\n        var frozenCols = this.parent.isFrozenGrid();\n        if (this.parent.enableInfiniteScrolling) {\n            if (this.parent.infiniteScrollSettings.enableCache) {\n                var keys = Object.keys(this.infiniteCache);\n                for (var i = 0; i < keys.length; i++) {\n                    rows = !frozenCols ? rows.concat(this.infiniteCache[keys[i]]) : rows.concat(this.infiniteCache[keys[i]][0]);\n                }\n            }\n            else {\n                rows = frozenCols ? this.visibleFrozenRows : this.visibleRows;\n            }\n        }\n        return rows;\n    };\n    ContentRender.prototype.getInfiniteMovableRows = function () {\n        var infiniteCacheRows = this.getCurrentBlockInfiniteRecords();\n        var infiniteRows = this.parent.enableInfiniteScrolling ? infiniteCacheRows.length ? infiniteCacheRows\n            : this.visibleRows : [];\n        return infiniteRows;\n    };\n    /**\n     * Get the content div element of grid\n     *\n     * @returns {Element} returns the element\n     */\n    ContentRender.prototype.getPanel = function () {\n        return this.contentPanel;\n    };\n    /**\n     * Set the content div element of grid\n     *\n     * @param  {Element} panel - specifies the panel\n     * @returns {void}\n     */\n    ContentRender.prototype.setPanel = function (panel) {\n        this.contentPanel = panel;\n    };\n    /**\n     * Get the content table element of grid\n     *\n     * @returns {Element} returns the element\n     */\n    ContentRender.prototype.getTable = function () {\n        return this.contentTable;\n    };\n    /**\n     * Set the content table element of grid\n     *\n     * @param  {Element} table - specifies the table\n     * @returns {void}\n     */\n    ContentRender.prototype.setTable = function (table) {\n        this.contentTable = table;\n    };\n    /**\n     * Get the Movable Row collection in the Freeze pane Grid.\n     *\n     * @returns {Row[] | HTMLCollectionOf<HTMLTableRowElement>} returns the row\n     */\n    ContentRender.prototype.getRows = function () {\n        var infiniteRows = this.getInfiniteRows();\n        return infiniteRows.length ? infiniteRows : this.parent.getFrozenColumns() ? this.freezeRows : this.rows;\n    };\n    /**\n     * Get the Movable Row collection in the Freeze pane Grid.\n     *\n     * @returns {Row[] | HTMLCollectionOf<HTMLTableRowElement>} returns the row\n     */\n    ContentRender.prototype.getMovableRows = function () {\n        var infiniteRows = this.getInfiniteMovableRows();\n        return infiniteRows.length ? infiniteRows : this.movableRows;\n    };\n    /**\n     * Get the content table data row elements\n     *\n     * @returns {Element} returns the element\n     */\n    ContentRender.prototype.getRowElements = function () {\n        return this.parent.getFrozenColumns() ? this.freezeRowElements : this.rowElements;\n    };\n    /**\n     * Get the Freeze pane movable content table data row elements\n     *\n     * @returns {Element} returns the element\n     */\n    ContentRender.prototype.getMovableRowElements = function () {\n        return this.rowElements;\n    };\n    /**\n     * Get the content table data row elements\n     *\n     * @param {Element[]} elements - specifies the elements\n     * @returns {void}\n     */\n    ContentRender.prototype.setRowElements = function (elements) {\n        this.rowElements = elements;\n    };\n    /**\n     * Get the header colgroup element\n     *\n     * @returns {Element} returns the element\n     */\n    ContentRender.prototype.getColGroup = function () {\n        return this.colgroup;\n    };\n    /**\n     * Set the header colgroup element\n     *\n     * @param {Element} colGroup - specifies the colgroup\n     * @returns {Element} returns the element\n     */\n    ContentRender.prototype.setColGroup = function (colGroup) {\n        if (!isNullOrUndefined(colGroup)) {\n            colGroup.id = 'content-' + colGroup.id;\n        }\n        return this.colgroup = colGroup;\n    };\n    /**\n     * Function to hide content table column based on visible property\n     *\n     * @param {Column[]} columns - specifies the column\n     * @returns {void}\n     */\n    ContentRender.prototype.setVisible = function (columns) {\n        var gObj = this.parent;\n        var isFrozenGrid = this.parent.isFrozenGrid();\n        var frzCols = gObj.getFrozenColumns();\n        var rows = [];\n        if (isFrozenGrid) {\n            var fRows = this.freezeRows;\n            var mRows = this.movableRows;\n            var rowLen = fRows.length;\n            var cellLen = void 0;\n            var rightRows = [];\n            if (gObj.getFrozenMode() === literals.leftRight) {\n                rightRows = gObj.getFrozenRightRowsObject();\n            }\n            for (var i = 0, row = void 0; i < rowLen; i++) {\n                cellLen = mRows[i].cells.length;\n                var rightLen = rightRows.length ? rightRows[i].cells.length : 0;\n                row = fRows[i].clone();\n                for (var j = 0; j < cellLen; j++) {\n                    row.cells.push(mRows[i].cells[j]);\n                }\n                for (var k = 0; k < rightLen; k++) {\n                    row.cells.push(rightRows[i].cells[k]);\n                }\n                rows.push(row);\n            }\n        }\n        else {\n            rows = this.getRows();\n        }\n        var testRow;\n        rows.some(function (r) { if (r.isDataRow) {\n            testRow = r;\n        } return r.isDataRow; });\n        var needFullRefresh = true;\n        if (!gObj.groupSettings.columns.length && testRow) {\n            needFullRefresh = false;\n        }\n        var tr = gObj.getDataRows();\n        var args = {};\n        var infiniteData = this.infiniteRowVisibility();\n        var contentrows = infiniteData ? infiniteData\n            : this.rows.filter(function (row) { return !row.isDetailRow; });\n        for (var c = 0, clen = columns.length; c < clen; c++) {\n            var column = columns[c];\n            var idx = this.parent.getNormalizedColumnIndex(column.uid);\n            var colIdx = this.parent.getColumnIndexByUid(column.uid);\n            var displayVal = column.visible === true ? '' : 'none';\n            if (idx !== -1 && testRow && idx < testRow.cells.length) {\n                if (isFrozenGrid) {\n                    if (column.getFreezeTableName() !== 'movable') {\n                        if (column.getFreezeTableName() === literals.frozenRight) {\n                            var left = this.parent.getFrozenLeftColumnsCount();\n                            var movable = this.parent.getMovableColumnsCount();\n                            colIdx = idx = idx - (left + movable);\n                            var colG = this.parent.getContent().querySelector('.e-frozen-right-content').querySelector(literals.colGroup);\n                            setStyleAttribute(colG.childNodes[idx], { 'display': displayVal });\n                            contentrows = gObj.getFrozenRightRowsObject();\n                            tr = gObj.getFrozenRightDataRows();\n                        }\n                        else {\n                            setStyleAttribute(this.getColGroup().childNodes[idx], { 'display': displayVal });\n                            var infiniteFreezeData = this.infiniteRowVisibility(true);\n                            contentrows = infiniteFreezeData ? infiniteFreezeData : this.freezeRows;\n                            tr = gObj.getDataRows();\n                        }\n                    }\n                    else {\n                        var mTable = gObj.getContent().querySelector('.' + literals.movableContent).querySelector(literals.colGroup);\n                        colIdx = idx = idx - frzCols - this.parent.getFrozenLeftColumnsCount();\n                        setStyleAttribute(mTable.childNodes[idx], { 'display': displayVal });\n                        tr = gObj.getMovableDataRows();\n                        var infiniteMovableData = this.infiniteRowVisibility();\n                        contentrows = infiniteMovableData ? infiniteMovableData : this.movableRows;\n                    }\n                }\n                else {\n                    setStyleAttribute(this.getColGroup().childNodes[idx], { 'display': displayVal });\n                }\n            }\n            if (!needFullRefresh) {\n                this.setDisplayNone(tr, colIdx, displayVal, contentrows);\n                if (contentrows[0].cells[colIdx].isTemplate) {\n                    needFullRefresh = true;\n                }\n            }\n            if (!this.parent.invokedFromMedia && column.hideAtMedia) {\n                this.parent.updateMediaColumns(column);\n            }\n            this.parent.invokedFromMedia = false;\n        }\n        if (needFullRefresh) {\n            this.refreshContentRows({ requestType: 'refresh' });\n        }\n        else {\n            if (!this.parent.getFrozenColumns()) {\n                this.parent.notify(events.partialRefresh, { rows: contentrows, args: args });\n            }\n            else {\n                this.parent.notify(events.partialRefresh, { rows: this.freezeRows, args: { isFrozen: true, rows: this.freezeRows } });\n                this.parent.notify(events.partialRefresh, { rows: this.movableRows, args: { isFrozen: false, rows: this.movableRows } });\n            }\n        }\n    };\n    /**\n     * @param {Object} tr - specifies the trr\n     * @param {number} idx - specifies the idx\n     * @param {string} displayVal - specifies the displayval\n     * @param {Row<Column>} rows - specifies the rows\n     * @returns {void}\n     * @hidden\n     */\n    ContentRender.prototype.setDisplayNone = function (tr, idx, displayVal, rows) {\n        setDisplayValue(tr, idx, displayVal, rows, this.parent, this.parent.isRowDragable());\n        this.parent.notify(events.infiniteShowHide, { visible: displayVal, index: idx, isFreeze: this.isInfiniteFreeze });\n    };\n    ContentRender.prototype.infiniteRowVisibility = function (isFreeze) {\n        var infiniteData;\n        if (this.parent.enableInfiniteScrolling) {\n            this.isInfiniteFreeze = isFreeze;\n            if (this.parent.infiniteScrollSettings.enableCache) {\n                infiniteData = isFreeze ? this.getCurrentBlockInfiniteRecords(true) : this.getCurrentBlockInfiniteRecords();\n            }\n            else {\n                infiniteData = isFreeze ? this.visibleFrozenRows : this.visibleRows;\n            }\n        }\n        return infiniteData;\n    };\n    ContentRender.prototype.colGroupRefresh = function () {\n        if (this.getColGroup()) {\n            var colGroup = void 0;\n            if (this.parent.enableColumnVirtualization && this.parent.getFrozenColumns()\n                && this.parent.contentModule.isXaxis()) {\n                colGroup = this.parent.getMovableVirtualHeader().querySelector(literals.colGroup).cloneNode(true);\n            }\n            else {\n                colGroup = this.getHeaderColGroup();\n            }\n            this.getTable().replaceChild(colGroup, this.getColGroup());\n            this.setColGroup(colGroup);\n        }\n    };\n    ContentRender.prototype.getHeaderColGroup = function () {\n        return this.parent.element.querySelector('.' + literals.gridHeader).querySelector(literals.colGroup).cloneNode(true);\n    };\n    ContentRender.prototype.initializeContentDrop = function () {\n        var gObj = this.parent;\n        this.droppable = new Droppable(gObj.element, {\n            accept: '.e-dragclone',\n            drop: this.drop\n        });\n    };\n    ContentRender.prototype.droppableDestroy = function () {\n        if (this.droppable && !this.droppable.isDestroyed) {\n            this.droppable.destroy();\n        }\n    };\n    ContentRender.prototype.canSkip = function (column, row, index) {\n        /**\n         * Skip the toggle visiblity operation when one of the following success\n         * 1. Grid has empty records\n         * 2. column visible property is unchanged\n         * 3. cell`s isVisible property is same as column`s visible property.\n         */\n        return isNullOrUndefined(row) || //(1)\n            isNullOrUndefined(column.visible) || //(2)\n            row.cells[index].visible === column.visible; //(3)\n    };\n    ContentRender.prototype.getModelGenerator = function () {\n        return this.generator = this.parent.allowGrouping ? new GroupModelGenerator(this.parent) : new RowModelGenerator(this.parent);\n    };\n    ContentRender.prototype.renderEmpty = function (tbody) {\n        this.getTable().appendChild(tbody);\n        if (this.parent.frozenRows) {\n            this.parent.getHeaderContent().querySelector(literals.tbody).innerHTML = '';\n        }\n    };\n    ContentRender.prototype.setSelection = function (uid, set, clearAll) {\n        this.parent.notify(events.setFreezeSelection, { uid: uid, set: set, clearAll: clearAll });\n        var isFrozen = this.parent.isFrozenGrid();\n        if (isFrozen && this.parent.enableVirtualization) {\n            return;\n        }\n        if (isFrozen) {\n            var rows = this.getMovableRows().filter(function (row) { return clearAll || uid === row.uid; });\n            for (var i = 0; i < rows.length; i++) {\n                rows[i].isSelected = set;\n            }\n        }\n        var row = this.getRows().filter(function (row) { return clearAll || uid === row.uid; });\n        for (var j = 0; j < row.length; j++) {\n            row[j].isSelected = set;\n            var cells = row[j].cells;\n            for (var k = 0; k < cells.length; k++) {\n                cells[k].isSelected = set;\n            }\n        }\n    };\n    ContentRender.prototype.getRowByIndex = function (index) {\n        index = this.getInfiniteRowIndex(index);\n        return this.parent.getDataRows()[index];\n    };\n    ContentRender.prototype.getInfiniteRowIndex = function (index) {\n        if (this.parent.infiniteScrollSettings.enableCache) {\n            var fRows = this.parent.frozenRows;\n            var idx = fRows > index ? 0 : fRows;\n            var firstRowIndex = parseInt(this.parent.getRows()[idx].getAttribute(literals.ariaRowIndex), 10);\n            index = fRows > index ? index : (index - firstRowIndex) + fRows;\n        }\n        return index;\n    };\n    ContentRender.prototype.getVirtualRowIndex = function (index) {\n        return index;\n    };\n    ContentRender.prototype.getMovableRowByIndex = function (index) {\n        index = this.getInfiniteRowIndex(index);\n        return this.parent.getMovableDataRows()[index];\n    };\n    ContentRender.prototype.enableAfterRender = function (e) {\n        if (e.module === 'group' && e.enable) {\n            this.generator = this.getModelGenerator();\n        }\n    };\n    ContentRender.prototype.setRowObjects = function (rows) {\n        this.rows = rows;\n    };\n    /**\n     * @param {NotifyArgs} args - specifies the args\n     * @returns {void}\n     * @hidden\n     */\n    ContentRender.prototype.immutableModeRendering = function (args) {\n        var _this = this;\n        if (args === void 0) { args = {}; }\n        var gObj = this.parent;\n        gObj.hideSpinner();\n        var key = gObj.getPrimaryKeyFieldNames()[0];\n        var oldKeys = {};\n        var newKeys = {};\n        var newRowObjs = [];\n        var oldIndexes = {};\n        var oldRowObjs = gObj.getRowsObject().slice();\n        var batchChangeKeys = this.getBatchEditedRecords(key, oldRowObjs);\n        var newIndexes = {};\n        var hasBatch = Object.keys(batchChangeKeys).length !== 0;\n        if (gObj.getContent().querySelector('.e-emptyrow') || args.requestType === 'reorder'\n            || this.parent.groupSettings.columns.length) {\n            this.refreshContentRows(args);\n        }\n        else {\n            if (gObj.currentViewData.length === 0) {\n                return;\n            }\n            var oldRowElements = {};\n            var tbody = gObj.createElement(literals.tbody);\n            var dataSource = gObj.currentViewData;\n            var trs = [].slice.call(this.getTable().querySelector(literals.tbody).children);\n            if (this.prevCurrentView.length) {\n                var prevLen = this.prevCurrentView.length;\n                var currentLen = dataSource.length;\n                if (prevLen === currentLen) {\n                    for (var i = 0; i < currentLen; i++) {\n                        if (this.parent.editSettings.mode === 'Batch'\n                            && trs[i].classList.contains('e-insertedrow')) {\n                            trs.splice(i, 1);\n                            --i;\n                            continue;\n                        }\n                        newKeys[dataSource[i][key]] = oldKeys[this.prevCurrentView[i][key]] = i;\n                        newIndexes[i] = dataSource[i][key];\n                        oldRowElements[oldRowObjs[i].uid] = trs[i];\n                        oldIndexes[i] = this.prevCurrentView[i][key];\n                    }\n                }\n                else {\n                    for (var i = 0; i < currentLen; i++) {\n                        newKeys[dataSource[i][key]] = i;\n                        newIndexes[i] = dataSource[i][key];\n                    }\n                    for (var i = 0; i < prevLen; i++) {\n                        if (this.parent.editSettings.mode === 'Batch'\n                            && trs[i].classList.contains('e-insertedrow')) {\n                            trs.splice(i, 1);\n                            --i;\n                            continue;\n                        }\n                        oldRowElements[oldRowObjs[i].uid] = trs[i];\n                        oldKeys[this.prevCurrentView[i][key]] = i;\n                        oldIndexes[i] = this.prevCurrentView[i][key];\n                    }\n                }\n            }\n            for (var i = 0; i < dataSource.length; i++) {\n                var oldIndex = oldKeys[dataSource[i][key]];\n                if (!isNullOrUndefined(oldIndex)) {\n                    var isEqual = false;\n                    if (this.parent.enableDeepCompare) {\n                        isEqual = this.objectEqualityChecker(this.prevCurrentView[oldIndex], dataSource[i]);\n                    }\n                    var tr = oldRowElements[oldRowObjs[oldIndex].uid];\n                    newRowObjs.push(oldRowObjs[oldIndex]);\n                    if (this.rowElements[oldIndex] && this.rowElements[oldIndex].getAttribute('data-uid') === newRowObjs[i].uid\n                        && ((hasBatch && isNullOrUndefined(batchChangeKeys[newIndexes[i]]))\n                            || (!hasBatch && (isEqual || this.prevCurrentView[oldIndex] === dataSource[i])))) {\n                        if (oldIndex !== i) {\n                            this.refreshImmutableContent(i, tr, newRowObjs[i]);\n                        }\n                        tbody.appendChild(tr);\n                        continue;\n                    }\n                    if ((hasBatch && !isNullOrUndefined(batchChangeKeys[newIndexes[i]]))\n                        || (!this.parent.enableDeepCompare && dataSource[i] !== this.prevCurrentView[oldIndex])\n                        || (this.parent.enableDeepCompare && !isEqual)) {\n                        oldRowObjs[oldIndex].setRowValue(dataSource[i]);\n                    }\n                    tbody.appendChild(tr);\n                    this.refreshImmutableContent(i, tr, newRowObjs[i]);\n                }\n                else {\n                    var row = new RowRenderer(this.serviceLocator, null, gObj);\n                    var modelData = this.generator.generateRows([dataSource[i]]);\n                    newRowObjs.push(modelData[0]);\n                    var tr = row.render(modelData[0], gObj.getColumns());\n                    tbody.appendChild(tr);\n                    this.refreshImmutableContent(i, tr, newRowObjs[i]);\n                }\n            }\n            this.rows = newRowObjs;\n            this.rowElements = [].slice.call(tbody.children);\n            remove(this.getTable().querySelector(literals.tbody));\n            this.getTable().appendChild(tbody);\n            this.parent.trigger(events.dataBound, {}, function () {\n                if (_this.parent.allowTextWrap) {\n                    _this.parent.notify(events.freezeRender, { case: 'textwrap' });\n                }\n            });\n            if (args) {\n                var action = (args.requestType || '').toLowerCase() + '-complete';\n                this.parent.notify(action, args);\n            }\n        }\n    };\n    ContentRender.prototype.objectEqualityChecker = function (old, next) {\n        var keys = Object.keys(old);\n        var isEqual = true;\n        for (var i = 0; i < keys.length; i++) {\n            if (old[keys[i]] !== next[keys[i]]) {\n                var isDate = old[keys[i]] instanceof Date && next[keys[i]] instanceof Date;\n                if (!isDate || (old[keys[i]].getTime() !== next[keys[i]].getTime())) {\n                    isEqual = false;\n                    break;\n                }\n            }\n        }\n        return isEqual;\n    };\n    ContentRender.prototype.getBatchEditedRecords = function (primaryKey, rows) {\n        var keys = {};\n        var changes = this.parent.getBatchChanges();\n        var changedRecords = [];\n        var addedRecords = [];\n        if (Object.keys(changes).length) {\n            changedRecords = changes.changedRecords;\n            addedRecords = changes.addedRecords;\n        }\n        var args = { cancel: false };\n        this.parent.notify(events.immutableBatchCancel, { rows: rows, args: args });\n        if (addedRecords.length) {\n            if (this.parent.editSettings.newRowPosition === 'Bottom') {\n                rows.splice(rows.length - 1, addedRecords.length);\n            }\n            else {\n                if (!args.cancel) {\n                    rows.splice(0, addedRecords.length);\n                }\n            }\n        }\n        for (var i = 0; i < changedRecords.length; i++) {\n            keys[changedRecords[i][primaryKey]] = i;\n        }\n        return keys;\n    };\n    ContentRender.prototype.refreshImmutableContent = function (index, tr, row) {\n        row.isAltRow = this.parent.enableAltRow ? index % 2 !== 0 : false;\n        if (row.isAltRow) {\n            tr.classList.add('e-altrow');\n        }\n        else {\n            tr.classList.remove('e-altrow');\n        }\n        row.index = index;\n        row.edit = undefined;\n        row.isDirty = false;\n        tr.setAttribute(literals.ariaRowIndex, index.toString());\n        this.updateCellIndex(tr, index);\n    };\n    ContentRender.prototype.updateCellIndex = function (rowEle, index) {\n        for (var i = 0; i < rowEle.cells.length; i++) {\n            rowEle.cells[i].setAttribute('index', index.toString());\n        }\n    };\n    return ContentRender;\n}());\nexport { ContentRender };\n","import { isNullOrUndefined, extend } from '@syncfusion/ej2-base';\nimport { setStyleAttribute, closest as getClosest, remove } from '@syncfusion/ej2-base';\nimport { classList } from '@syncfusion/ej2-base';\nimport { CellType } from '../base/enum';\nimport { RowRenderer } from './row-renderer';\nimport { Cell } from '../models/cell';\nimport { Row } from '../models/row';\nimport * as events from '../base/constant';\nimport { Draggable, Droppable } from '@syncfusion/ej2-base';\nimport { Button } from '@syncfusion/ej2-buttons';\nimport { parentsUntil, wrap, measureColumnDepth, appendChildren } from '../base/util';\nimport * as literals from '../base/string-literals';\n// eslint-disable-next-line valid-jsdoc\n/**\n * Content module is used to render grid content\n *\n * @hidden\n */\nvar HeaderRender = /** @class */ (function () {\n    /**\n     * Constructor for header renderer module\n     *\n     * @param {IGrid} parent - specifies the IGrid\n     * @param {ServiceLocator} serviceLocator - specifies the serviceLocator\n     */\n    function HeaderRender(parent, serviceLocator) {\n        var _this = this;\n        this.frzIdx = 0;\n        this.notfrzIdx = 0;\n        this.isFirstCol = false;\n        this.isReplaceDragEle = true;\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        this.helper = function (e) {\n            var gObj = _this.parent;\n            var target = _this.draggable.currentStateTarget;\n            var parentEle = parentsUntil(target, 'e-headercell');\n            if (!(gObj.allowReordering || gObj.allowGrouping) || (!isNullOrUndefined(parentEle)\n                && parentEle.getElementsByClassName('e-checkselectall').length > 0)) {\n                return false;\n            }\n            var visualElement = _this.parent.createElement('div', { className: 'e-cloneproperties e-dragclone e-headerclone' });\n            var element = target.classList.contains('e-headercell') ? target : parentEle;\n            if (!element || (!gObj.allowReordering && element.classList.contains('e-stackedheadercell'))) {\n                return false;\n            }\n            var height = element.offsetHeight;\n            var headercelldiv = element.querySelector('.e-headercelldiv') || element.querySelector('.e-stackedheadercelldiv');\n            var col;\n            if (headercelldiv) {\n                if (element.querySelector('.e-stackedheadercelldiv')) {\n                    col = gObj.getStackedHeaderColumnByHeaderText(headercelldiv.innerText.trim(), gObj.columns);\n                }\n                else {\n                    col = gObj.getColumnByUid(headercelldiv.getAttribute('e-mappinguid'));\n                }\n                _this.column = col;\n                if (_this.column.lockColumn) {\n                    return false;\n                }\n                visualElement.setAttribute('e-mappinguid', _this.column.uid);\n            }\n            if (col && !isNullOrUndefined(col.headerTemplate)) {\n                if (!isNullOrUndefined(col.headerTemplate)) {\n                    var colIndex = gObj.getColumnIndexByField(col.field);\n                    var result = col.getHeaderTemplate()(extend({ 'index': colIndex }, col), gObj, 'headerTemplate');\n                    appendChildren(visualElement, result);\n                }\n                else {\n                    visualElement.innerHTML = col.headerTemplate;\n                }\n            }\n            else {\n                visualElement.innerHTML = headercelldiv ?\n                    col.headerText : element.firstElementChild.innerHTML;\n            }\n            visualElement.style.width = element.offsetWidth + 'px';\n            visualElement.style.height = element.offsetHeight + 'px';\n            visualElement.style.lineHeight = (height - 6).toString() + 'px';\n            gObj.element.appendChild(visualElement);\n            return visualElement;\n        };\n        this.dragStart = function (e) {\n            var gObj = _this.parent;\n            gObj.element.querySelector('.e-gridpopup').style.display = 'none';\n            gObj.notify(events.columnDragStart, { target: _this.draggable.currentStateTarget, column: _this.column, event: e.event });\n        };\n        this.drag = function (e) {\n            var gObj = _this.parent;\n            var target = e.target;\n            if (target) {\n                var closest = getClosest(target, '.e-grid');\n                var cloneElement = _this.parent.element.querySelector('.e-cloneproperties');\n                if (!closest || closest.getAttribute('id') !== gObj.element.getAttribute('id')) {\n                    classList(cloneElement, ['e-notallowedcur'], ['e-defaultcur']);\n                    if (gObj.allowReordering) {\n                        gObj.element.querySelector('.e-reorderuparrow').style.display = 'none';\n                        gObj.element.querySelector('.e-reorderdownarrow').style.display = 'none';\n                    }\n                    if (!gObj.groupSettings.allowReordering) {\n                        return;\n                    }\n                }\n                gObj.notify(events.columnDrag, { target: e.target, column: _this.column, event: e.event });\n            }\n        };\n        this.dragStop = function (e) {\n            var gObj = _this.parent;\n            var cancel;\n            gObj.element.querySelector('.e-gridpopup').style.display = 'none';\n            if ((!parentsUntil(e.target, 'e-headercell') && !parentsUntil(e.target, 'e-groupdroparea')) ||\n                (!gObj.allowReordering && parentsUntil(e.target, 'e-headercell')) ||\n                (!e.helper.getAttribute('e-mappinguid') && parentsUntil(e.target, 'e-groupdroparea'))) {\n                remove(e.helper);\n                cancel = true;\n            }\n            gObj.notify(events.columnDragStop, { target: e.target, event: e.event, column: _this.column, cancel: cancel });\n        };\n        this.drop = function (e) {\n            var gObj = _this.parent;\n            var uid = e.droppedElement.getAttribute('e-mappinguid');\n            var closest = getClosest(e.target, '.e-grid');\n            remove(e.droppedElement);\n            if (closest && closest.getAttribute('id') !== gObj.element.getAttribute('id') ||\n                !(gObj.allowReordering || gObj.allowGrouping)) {\n                return;\n            }\n            gObj.notify(events.headerDrop, { target: e.target, uid: uid, droppedElement: e.droppedElement });\n        };\n        this.parent = parent;\n        this.serviceLocator = serviceLocator;\n        this.ariaService = this.serviceLocator.getService('ariaService');\n        this.widthService = this.serviceLocator.getService('widthService');\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        if (!this.parent.enableColumnVirtualization\n            && !this.parent.getFrozenLeftColumnsCount() && !this.parent.getFrozenRightColumnsCount()) {\n            this.parent.on(events.columnVisibilityChanged, this.setVisible, this);\n        }\n        this.parent.on(events.columnPositionChanged, this.colPosRefresh, this);\n        this.parent.on(events.initialEnd, this.renderCustomToolbar, this);\n        if (this.parent.rowRenderingMode === 'Vertical') {\n            this.parent.on(events.uiUpdate, this.updateCustomResponsiveToolbar, this);\n        }\n    }\n    /**\n     * The function is used to render grid header div\n     *\n     * @returns {void}\n     */\n    HeaderRender.prototype.renderPanel = function () {\n        var div = this.parent.element.querySelector('.' + literals.gridHeader);\n        var isRendered = (div != null);\n        div = isRendered ? div : this.parent.createElement('div', { className: 'e-gridheader' });\n        var innerDiv = isRendered ? div.querySelector('.' + literals.headerContent) :\n            this.parent.createElement('div', { className: literals.headerContent });\n        this.toggleStackClass(div);\n        div.appendChild(innerDiv);\n        this.setPanel(div);\n        if (!isRendered) {\n            this.parent.element.appendChild(div);\n        }\n    };\n    /**\n     * The function is used to render grid header div\n     *\n     * @returns {void}\n     */\n    HeaderRender.prototype.renderTable = function () {\n        var headerDiv = this.getPanel();\n        headerDiv.appendChild(this.createHeaderTable());\n        this.setTable(headerDiv.querySelector('.' + literals.table));\n        if (!this.parent.getFrozenColumns() && !this.parent.getFrozenRightColumnsCount() && !this.parent.getFrozenLeftColumnsCount()) {\n            this.initializeHeaderDrag();\n            this.initializeHeaderDrop();\n        }\n        this.parent.notify(events.headerRefreshed, { rows: this.rows, args: { isFrozen: this.parent.isFrozenGrid() } });\n    };\n    /**\n     * Get the header content div element of grid\n     *\n     * @returns {Element} returns the element\n     */\n    HeaderRender.prototype.getPanel = function () {\n        return this.headerPanel;\n    };\n    /**\n     * Set the header content div element of grid\n     *\n     * @param  {Element} panel - specifies the panel element\n     * @returns {void}\n     */\n    HeaderRender.prototype.setPanel = function (panel) {\n        this.headerPanel = panel;\n    };\n    /**\n     * Get the header table element of grid\n     *\n     * @returns {Element} returns the element\n     */\n    HeaderRender.prototype.getTable = function () {\n        return this.headerTable;\n    };\n    /**\n     * Set the header table element of grid\n     *\n     * @param  {Element} table - specifies the table element\n     * @returns {void}\n     */\n    HeaderRender.prototype.setTable = function (table) {\n        this.headerTable = table;\n    };\n    /**\n     * Get the header colgroup element\n     *\n     * @returns {Element} returns the element\n     */\n    HeaderRender.prototype.getColGroup = function () {\n        return this.colgroup;\n    };\n    /**\n     * Set the header colgroup element\n     *\n     * @param {Element} colGroup - specifies the colgroup\n     * @returns {Element} returns the element\n     */\n    HeaderRender.prototype.setColGroup = function (colGroup) {\n        return this.colgroup = colGroup;\n    };\n    /**\n     * Get the header row element collection.\n     *\n     * @returns {Element[]} returns the element\n     */\n    HeaderRender.prototype.getRows = function () {\n        var table = this.getTable();\n        return table.tHead.rows;\n    };\n    /**\n     * The function is used to create header table elements\n     *\n     * @returns {Element} returns the element\n     * @hidden\n     */\n    HeaderRender.prototype.createHeaderTable = function () {\n        var table = this.createTable();\n        var innerDiv = this.getPanel().querySelector('.' + literals.headerContent);\n        innerDiv.appendChild(table);\n        return innerDiv;\n    };\n    /**\n     * The function is used to create header table elements\n     *\n     * @param {Element} tableEle - specifies the table Element\n     * @param {freezeTable} tableName - specifies the table name\n     * @returns {Element} returns the element\n     * @hidden\n     */\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    HeaderRender.prototype.createHeader = function (tableEle, tableName) {\n        if (tableEle === void 0) { tableEle = null; }\n        var gObj = this.parent;\n        var isFrozen = gObj.isFrozenGrid();\n        if (this.getTable() && !isFrozen) {\n            remove(this.getTable());\n        }\n        var table = this.parent.createElement('table', { className: literals.table, attrs: { cellspacing: '0.25px', role: 'grid' } });\n        var tblName = tableName ? tableName : gObj.getFrozenLeftCount() ? 'frozen-left' : 'frozen-right';\n        var findHeaderRow = this.createHeaderContent(tblName);\n        var thead = findHeaderRow.thead;\n        var tbody = this.parent.createElement(literals.tbody, { className: this.parent.frozenRows ? '' : 'e-hide' });\n        this.caption = this.parent.createElement('caption', { innerHTML: this.parent.element.id + '_header_table', className: 'e-hide' });\n        var colGroup = this.parent.createElement(literals.colGroup);\n        var rowBody = this.parent.createElement('tr');\n        var bodyCell;\n        var rows = this.rows = findHeaderRow.rows;\n        for (var i = 0, len = rows.length; i < len; i++) {\n            for (var j = 0, len_1 = rows[i].cells.length; j < len_1; j++) {\n                bodyCell = this.parent.createElement('td');\n                rowBody.appendChild(bodyCell);\n            }\n        }\n        if (gObj.allowFiltering || gObj.allowSorting || gObj.allowGrouping) {\n            table.classList.add('e-sortfilter');\n        }\n        this.updateColGroup(colGroup);\n        tbody.appendChild(rowBody);\n        table.appendChild(this.setColGroup(colGroup));\n        table.appendChild(thead);\n        table.appendChild(tbody);\n        table.appendChild(this.caption);\n        this.ariaService.setOptions(table, { colcount: gObj.getColumns().length.toString() });\n        return table;\n    };\n    /**\n     * @param {Element} tableEle - specifies the column\n     * @returns {Element} returns the element\n     * @hidden\n     */\n    HeaderRender.prototype.createTable = function (tableEle) {\n        if (tableEle === void 0) { tableEle = null; }\n        return this.createHeader(tableEle);\n    };\n    HeaderRender.prototype.createHeaderContent = function (tableName) {\n        var gObj = this.parent;\n        var index = 1;\n        var frozenMode = gObj.getFrozenMode();\n        var columns = gObj.getColumns();\n        var thead = this.parent.createElement('thead');\n        var colHeader = this.parent.createElement('tr', { className: 'e-columnheader' });\n        var rowRenderer = new RowRenderer(this.serviceLocator, CellType.Header, gObj);\n        rowRenderer.element = colHeader;\n        var rows = [];\n        var headerRow;\n        this.colDepth = measureColumnDepth(gObj.columns);\n        for (var i = 0, len = this.colDepth; i < len; i++) {\n            rows[i] = this.generateRow(i);\n            rows[i].cells = [];\n        }\n        if (frozenMode !== 'Right') {\n            rows = this.ensureColumns(rows);\n        }\n        rows = this.getHeaderCells(rows, tableName);\n        if (frozenMode === 'Right') {\n            index = 0;\n            rows = this.ensureColumns(rows);\n        }\n        var frzCols = this.parent.getFrozenColumns();\n        if (this.parent.isRowDragable() && this.parent.isFrozenGrid() && rows[0].cells[index]) {\n            var colFreezeMode = rows[0].cells[index].column.getFreezeTableName();\n            if (colFreezeMode === 'movable' || (frozenMode === literals.leftRight && colFreezeMode === literals.frozenRight)) {\n                if (frozenMode === 'Right') {\n                    rows[0].cells.pop();\n                }\n                else {\n                    rows[0].cells.shift();\n                }\n            }\n            else if (!frzCols && colFreezeMode === literals.frozenLeft) {\n                rows[0].cells[0].column.freeze = colFreezeMode === literals.frozenLeft ? 'Left' : 'Right';\n            }\n            else if (frozenMode === 'Right' && colFreezeMode === literals.frozenRight) {\n                rows[0].cells[rows[0].cells.length - 1].column.freeze = 'Right';\n            }\n        }\n        for (var i = 0, len = this.colDepth; i < len; i++) {\n            headerRow = rowRenderer.render(rows[i], columns);\n            if (this.parent.rowHeight && headerRow.querySelector('.e-headercell')) {\n                headerRow.style.height = this.parent.rowHeight + 'px';\n            }\n            thead.appendChild(headerRow);\n        }\n        var findHeaderRow = {\n            thead: thead,\n            rows: rows\n        };\n        return findHeaderRow;\n    };\n    HeaderRender.prototype.updateColGroup = function (colGroup) {\n        var cols = this.parent.getColumns();\n        var col;\n        var indexes = this.parent.getColumnIndexesInView();\n        if (this.parent.enableColumnVirtualization && this.parent.getFrozenColumns()\n            && this.parent.contentModule.isXaxis()) {\n            cols = extend([], this.parent.getColumns());\n            cols.splice(0, this.parent.getFrozenColumns());\n        }\n        colGroup.id = this.parent.element.id + literals.colGroup;\n        if (this.parent.allowGrouping) {\n            for (var i = 0, len = this.parent.groupSettings.columns.length; i < len; i++) {\n                if (this.parent.enableColumnVirtualization && indexes.indexOf(i) === -1) {\n                    continue;\n                }\n                col = this.parent.createElement('col', { className: 'e-group-intent' });\n                colGroup.appendChild(col);\n            }\n        }\n        if (this.parent.detailTemplate || this.parent.childGrid) {\n            col = this.parent.createElement('col', { className: 'e-detail-intent' });\n            colGroup.appendChild(col);\n        }\n        if (this.parent.isRowDragable() && this.parent.getFrozenMode() !== 'Right') {\n            col = this.parent.createElement('col', { className: 'e-drag-intent' });\n            colGroup.appendChild(col);\n        }\n        for (var i = 0, len = cols.length; i < len; i++) {\n            col = this.parent.createElement('col');\n            if (cols[i].visible === false) {\n                setStyleAttribute(col, { 'display': 'none' });\n            }\n            colGroup.appendChild(col);\n        }\n        if (this.parent.isRowDragable() && this.parent.getFrozenMode() === 'Right') {\n            col = this.parent.createElement('col', { className: 'e-drag-intent' });\n            colGroup.appendChild(col);\n        }\n        return colGroup;\n    };\n    HeaderRender.prototype.ensureColumns = function (rows) {\n        //TODO: generate dummy column for group, detail, stacked row here; ensureColumns here\n        var gObj = this.parent;\n        var indexes = this.parent.getColumnIndexesInView();\n        for (var i = 0, len = rows.length; i < len; i++) {\n            if (gObj.allowGrouping) {\n                for (var c = 0, len_2 = gObj.groupSettings.columns.length; c < len_2; c++) {\n                    if (this.parent.enableColumnVirtualization && indexes.indexOf(c) === -1) {\n                        continue;\n                    }\n                    rows[i].cells.push(this.generateCell({}, CellType.HeaderIndent));\n                }\n            }\n            if (gObj.detailTemplate || gObj.childGrid) {\n                var args = {};\n                this.parent.notify(events.detailIndentCellInfo, args);\n                rows[i].cells.push(this.generateCell(args, CellType.DetailHeader));\n            }\n            if (gObj.isRowDragable()) {\n                rows[i].cells.push(this.generateCell({}, CellType.RowDragHIcon));\n            }\n        }\n        return rows;\n    };\n    HeaderRender.prototype.getHeaderCells = function (rows, tableName) {\n        var thead = this.parent.getHeaderTable() && this.parent.getHeaderTable().querySelector('thead');\n        var cols = this.parent.enableColumnVirtualization ?\n            this.parent.getColumns(this.parent.enablePersistence) : this.parent.columns;\n        this.frzIdx = 0;\n        this.notfrzIdx = 0;\n        if (this.parent.lockcolPositionCount) {\n            for (var i = 0; i < cols.length; i++) {\n                this.lockColsRendered = false;\n                rows = this.appendCells(cols[i], rows, 0, i === 0, false, i === (cols.length - 1), thead, tableName, false);\n            }\n        }\n        for (var i = 0, len = cols.length; i < len; i++) {\n            this.notfrzIdx = 0;\n            this.lockColsRendered = true;\n            rows = this.appendCells(cols[i], rows, 0, i === 0, false, i === (len - 1), thead, tableName, false);\n        }\n        return rows;\n    };\n    HeaderRender.prototype.appendCells = function (cols, rows, index, isFirstObj, isFirstCol, isLastCol, isMovable, tableName, isStackLastCol) {\n        var lastCol = isLastCol ? isStackLastCol ? 'e-laststackcell' : 'e-lastcell' : '';\n        var isFrozen = this.parent.isFrozenGrid();\n        var isLockColumn = !this.parent.lockcolPositionCount\n            || (cols.lockColumn && !this.lockColsRendered) || (!cols.lockColumn && this.lockColsRendered);\n        var isFrozenLockColumn = !this.parent.lockcolPositionCount || (cols.lockColumn && !this.lockColsRendered)\n            || (!cols.lockColumn && this.lockColsRendered);\n        var scrollbar = this.parent.getContent().querySelector('.e-movablescrollbar');\n        var left;\n        if (isFrozen && scrollbar && this.parent.enableColumnVirtualization) {\n            left = scrollbar.scrollLeft;\n        }\n        if (!cols.columns) {\n            if (left && left > 0 && this.parent.contentModule.isXaxis()\n                && this.parent.inViewIndexes[0] !== 0 && cols.getFreezeTableName() === 'movable') {\n                rows[index].cells.push(this.generateCell(cols, CellType.Header, this.colDepth - index, (isFirstObj ? '' : (isFirstCol ? 'e-firstcell' : '')) + lastCol, index, this.parent.getColumnIndexByUid(cols.uid)));\n            }\n            else {\n                if ((!isFrozen && isLockColumn) || (isFrozen && cols.getFreezeTableName() === tableName && isFrozenLockColumn)) {\n                    rows[index].cells.push(this.generateCell(cols, CellType.Header, this.colDepth - index, (isFirstObj ? '' : (isFirstCol ? 'e-firstcell' : '')) + lastCol, index, this.parent.getColumnIndexByUid(cols.uid)));\n                }\n            }\n            if (this.parent.lockcolPositionCount) {\n                if ((this.frzIdx + this.notfrzIdx < this.parent.frozenColumns) &&\n                    ((cols.lockColumn && !this.lockColsRendered) || (!cols.lockColumn && this.lockColsRendered))) {\n                    this.frzIdx++;\n                }\n                else {\n                    this.notfrzIdx++;\n                }\n            }\n            else {\n                this.frzIdx++;\n            }\n        }\n        else {\n            this.isFirstCol = false;\n            var colSpan = this.getCellCnt(cols, 0);\n            if (colSpan) {\n                var stackedLockColsCount = this.getStackedLockColsCount(cols, 0);\n                var isStackedLockColumn = this.parent.lockcolPositionCount === 0\n                    || (!this.lockColsRendered && stackedLockColsCount !== 0)\n                    || (this.lockColsRendered && (colSpan - stackedLockColsCount) !== 0);\n                var isFrozenStack = isFrozen && this.ensureStackedFrozen(cols.columns, tableName, false);\n                if ((!isFrozen && isStackedLockColumn) || isFrozenStack) {\n                    rows[index].cells.push(new Cell({\n                        cellType: CellType.StackedHeader, column: cols,\n                        colSpan: this.getColSpan(colSpan, stackedLockColsCount, cols.columns, tableName, isFrozen),\n                        className: isFirstObj ? '' : (isFirstCol ? 'e-firstcell' : '')\n                    }));\n                }\n            }\n            if (this.parent.lockcolPositionCount && !this.lockColsRendered) {\n                for (var i = 0; i < cols.columns.length; i++) {\n                    rows = this.appendCells(cols.columns[i], rows, index + 1, isFirstObj, i === 0, i === (cols.columns.length - 1) && isLastCol, isMovable, tableName, false);\n                }\n            }\n            if (this.lockColsRendered) {\n                for (var i = 0, len = cols.columns.length; i < len; i++) {\n                    isFirstObj = isFirstObj && i === 0;\n                    var isFirstCol_1 = this.isFirstCol = cols.columns[i].visible && !isFirstObj;\n                    var isLaststackedCol = i === (len - 1) && isLastCol;\n                    rows = this.appendCells(cols.columns[i], rows, index + 1, isFirstObj, isFirstCol_1 && !isLaststackedCol, isLaststackedCol, isMovable, tableName, true);\n                }\n            }\n        }\n        return rows;\n    };\n    HeaderRender.prototype.ensureStackedFrozen = function (columns, tableName, isTrue) {\n        var length = columns.length;\n        for (var i = 0; i < length; i++) {\n            if (columns[i].columns) {\n                isTrue = this.ensureStackedFrozen(columns[i].columns, tableName, isTrue);\n            }\n            else if (columns[i].getFreezeTableName() === tableName) {\n                isTrue = true;\n                break;\n            }\n        }\n        return isTrue;\n    };\n    HeaderRender.prototype.getStackedLockColsCount = function (col, lockColsCount) {\n        if (col.columns) {\n            for (var i = 0; i < col.columns.length; i++) {\n                lockColsCount = this.getStackedLockColsCount(col.columns[i], lockColsCount);\n            }\n        }\n        else if (col.lockColumn) {\n            lockColsCount++;\n        }\n        return lockColsCount;\n    };\n    HeaderRender.prototype.getColSpan = function (colSpan, stackedLockColsCount, columns, tableName, isFrozen) {\n        if (isFrozen) {\n            colSpan = this.getFrozenColSpan(columns, tableName, 0);\n        }\n        else if (this.parent.lockcolPositionCount) {\n            colSpan = !this.lockColsRendered ? stackedLockColsCount : colSpan - stackedLockColsCount;\n        }\n        return colSpan;\n    };\n    HeaderRender.prototype.getFrozenColSpan = function (columns, tableName, count) {\n        var length = columns.length;\n        for (var i = 0; i < length; i++) {\n            if (columns[i].columns) {\n                count = this.getFrozenColSpan(columns[i].columns, tableName, count);\n            }\n            else if (columns[i].getFreezeTableName() === tableName && columns[i].visible) {\n                count++;\n            }\n        }\n        return count;\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    HeaderRender.prototype.generateRow = function (index) {\n        return new Row({});\n    };\n    HeaderRender.prototype.generateCell = function (column, cellType, rowSpan, className, rowIndex, colIndex) {\n        var opt = {\n            'visible': column.visible,\n            'isDataCell': false,\n            'isTemplate': !isNullOrUndefined(column.headerTemplate),\n            'rowID': '',\n            'column': column,\n            'cellType': cellType,\n            'rowSpan': rowSpan,\n            'className': className,\n            'index': rowIndex,\n            'colIndex': colIndex\n        };\n        if (!opt.rowSpan || opt.rowSpan < 2) {\n            delete opt.rowSpan;\n        }\n        return new Cell(opt);\n    };\n    /**\n     * Function to hide header table column based on visible property\n     *\n     * @param {Column[]} columns - specifies the column\n     * @returns {void}\n     */\n    HeaderRender.prototype.setVisible = function (columns) {\n        var gObj = this.parent;\n        var displayVal;\n        var idx;\n        var frzCols = gObj.getFrozenColumns();\n        for (var c = 0, clen = columns.length; c < clen; c++) {\n            var column = columns[c];\n            idx = gObj.getNormalizedColumnIndex(column.uid);\n            displayVal = column.visible ? '' : 'none';\n            if (frzCols) {\n                var normalizedfrzCols = this.parent.isRowDragable() ? frzCols + 1 : frzCols;\n                if (idx < normalizedfrzCols) {\n                    setStyleAttribute(this.getColGroup().children[idx], { 'display': displayVal });\n                }\n                else {\n                    var mTblColGrp = gObj.getHeaderContent().querySelector('.' + literals.movableHeader).querySelector(literals.colGroup);\n                    setStyleAttribute(mTblColGrp.children[idx - normalizedfrzCols], { 'display': displayVal });\n                }\n            }\n            else {\n                setStyleAttribute(this.getColGroup().children[idx], { 'display': displayVal });\n            }\n        }\n        this.refreshUI();\n    };\n    HeaderRender.prototype.colPosRefresh = function () {\n        this.refreshUI();\n    };\n    /**\n     * Refresh the header of the Grid.\n     *\n     * @returns {void}\n     */\n    HeaderRender.prototype.refreshUI = function () {\n        var frzCols = this.parent.isFrozenGrid();\n        var isVFTable = this.parent.enableColumnVirtualization && frzCols;\n        var headerDiv = this.getPanel();\n        this.toggleStackClass(headerDiv);\n        var table = this.freezeReorder ? this.headerPanel.querySelector('.' + literals.movableHeader).querySelector('.' + literals.table)\n            : this.getTable();\n        var tableName = this.parent.isFrozenGrid() ? this.parent.getFrozenLeftCount() ? 'frozen-left'\n            : 'frozen-right' : undefined;\n        if (isVFTable) {\n            table = this.parent.contentModule.getVirtualFreezeHeader();\n            tableName = this.parent.contentModule.isXaxis() ? 'movable' : tableName;\n        }\n        if (table) {\n            remove(table);\n            table.removeChild(table.firstChild);\n            table.removeChild(table.childNodes[0]);\n            var colGroup = this.parent.createElement(literals.colGroup);\n            var findHeaderRow = this.createHeaderContent(tableName);\n            this.rows = findHeaderRow.rows;\n            table.insertBefore(findHeaderRow.thead, table.firstChild);\n            this.updateColGroup(colGroup);\n            table.insertBefore(this.setColGroup(colGroup), table.firstChild);\n            if (!isVFTable) {\n                this.setTable(table);\n            }\n            this.appendContent(table);\n            this.parent.notify(events.colGroupRefresh, {});\n            this.widthService.setWidthToColumns();\n            this.parent.updateDefaultCursor();\n            if (!frzCols || (this.parent.enableColumnVirtualization && frzCols)) {\n                this.initializeHeaderDrag();\n            }\n            var rows = [].slice.call(headerDiv.querySelectorAll('tr.e-columnheader'));\n            for (var _i = 0, rows_1 = rows; _i < rows_1.length; _i++) {\n                var row = rows_1[_i];\n                var gCells = [].slice.call(row.getElementsByClassName('e-grouptopleftcell'));\n                if (gCells.length) {\n                    gCells[gCells.length - 1].classList.add('e-lastgrouptopleftcell');\n                }\n            }\n            if (!frzCols) {\n                this.parent.notify(events.headerRefreshed, { rows: this.rows, args: { isFrozen: frzCols } });\n            }\n            if (this.parent.enableColumnVirtualization && parentsUntil(table, literals.movableHeader)) {\n                this.parent.notify(events.headerRefreshed, { rows: this.rows, args: { isFrozen: false, isXaxis: true } });\n            }\n            if (this.parent.allowTextWrap && this.parent.textWrapSettings.wrapMode === 'Header') {\n                wrap(rows, true);\n            }\n        }\n    };\n    HeaderRender.prototype.toggleStackClass = function (div) {\n        var column = this.parent.columns;\n        var stackedHdr = column.some(function (column) { return !isNullOrUndefined(column.columns); });\n        if (stackedHdr) {\n            div.classList.add('e-stackedheader');\n        }\n        else {\n            div.classList.remove('e-stackedheader');\n        }\n    };\n    HeaderRender.prototype.appendContent = function (table) {\n        this.getPanel().querySelector('.' + literals.headerContent).appendChild(table);\n    };\n    HeaderRender.prototype.getCellCnt = function (col, cnt) {\n        if (col.columns) {\n            for (var i = 0, len = col.columns.length; i < len; i++) {\n                cnt = this.getCellCnt(col.columns[i], cnt);\n            }\n        }\n        else {\n            if (col.visible) {\n                cnt++;\n            }\n        }\n        return cnt;\n    };\n    HeaderRender.prototype.initializeHeaderDrag = function () {\n        var gObj = this.parent;\n        if (!(this.parent.allowReordering || (this.parent.allowGrouping && this.parent.groupSettings.showDropArea))) {\n            return;\n        }\n        this.draggable = new Draggable(gObj.getHeaderContent(), {\n            dragTarget: '.e-headercell',\n            distance: 5,\n            helper: this.helper,\n            dragStart: this.dragStart,\n            drag: this.drag,\n            dragStop: this.dragStop,\n            abort: '.e-rhandler',\n            isReplaceDragEle: this.isReplaceDragEle\n        });\n    };\n    HeaderRender.prototype.initializeHeaderDrop = function () {\n        var gObj = this.parent;\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        var drop = new Droppable(gObj.getHeaderContent(), {\n            accept: '.e-dragclone',\n            drop: this.drop\n        });\n    };\n    HeaderRender.prototype.renderCustomToolbar = function () {\n        var _this = this;\n        var gObj = this.parent;\n        if (gObj.rowRenderingMode === 'Vertical' && !gObj.toolbar\n            && (gObj.allowSorting || (gObj.allowFiltering && gObj.filterSettings.type !== 'FilterBar'))) {\n            var div = gObj.createElement('div', { className: 'e-res-toolbar e-toolbar' });\n            var toolbarItems = gObj.createElement('div', { className: 'e-toolbar-items' });\n            var toolbarLeft = gObj.createElement('div', { className: 'e-toolbar-left' });\n            var count = this.parent.allowFiltering && this.parent.allowSorting ? 2 : 1;\n            for (var i = 0; i < count; i++) {\n                var toolbarItem = gObj.createElement('div', { className: 'e-toolbar-item e-gridresponsiveicons e-icons e-tbtn-align' });\n                var cls = count === 1 ? this.parent.allowSorting ? 'sort'\n                    : 'filter' : i === 1 ? 'sort' : 'filter';\n                var button = gObj.createElement('button', { className: 'e-tbar-btn e-control e-btn e-lib e-icon-btn' });\n                var span = gObj.createElement('span', { className: 'e-btn-icon e-res' + cls + '-icon e-icons' });\n                button.appendChild(span);\n                var btnObj = new Button({});\n                btnObj.appendTo(button);\n                button.onclick = function (e) {\n                    if (e.target.classList.contains('e-ressort-btn')\n                        || e.target.classList.contains('e-ressort-icon')) {\n                        _this.parent.showResponsiveCustomSort();\n                    }\n                    else {\n                        _this.parent.showResponsiveCustomFilter();\n                    }\n                };\n                toolbarItem.appendChild(button);\n                toolbarLeft.appendChild(toolbarItem);\n            }\n            toolbarItems.appendChild(toolbarLeft);\n            div.appendChild(toolbarItems);\n            gObj.element.insertBefore(div, this.parent.element.querySelector('.' + literals.gridHeader));\n        }\n        else {\n            if (gObj.enableAdaptiveUI && !gObj.toolbar) {\n                gObj.getContent().classList.add('e-responsive-header');\n            }\n        }\n    };\n    HeaderRender.prototype.updateCustomResponsiveToolbar = function (args) {\n        var resToolbar = this.parent.element.querySelector('.e-responsive-toolbar');\n        if (args.module === 'toolbar') {\n            if (resToolbar) {\n                remove(resToolbar);\n            }\n            else {\n                this.renderCustomToolbar();\n            }\n        }\n    };\n    return HeaderRender;\n}());\nexport { HeaderRender };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { isNullOrUndefined, extend } from '@syncfusion/ej2-base';\nimport { attributes } from '@syncfusion/ej2-base';\nimport { setStyleAndAttributes, appendChildren } from '../base/util';\nimport { CellRenderer } from './cell-renderer';\nimport { AriaService } from '../services/aria-service';\nimport { createCheckBox } from '@syncfusion/ej2-buttons';\nimport { headerCellInfo } from '../base/constant';\n/**\n * HeaderCellRenderer class which responsible for building header cell content.\n *\n * @hidden\n */\nvar HeaderCellRenderer = /** @class */ (function (_super) {\n    __extends(HeaderCellRenderer, _super);\n    function HeaderCellRenderer() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.element = _this.parent\n            .createElement('TH', { className: 'e-headercell', attrs: { role: 'columnheader', tabindex: '-1' } });\n        _this.ariaService = new AriaService();\n        _this.hTxtEle = _this.parent.createElement('span', { className: 'e-headertext' });\n        _this.sortEle = _this.parent.createElement('div', { className: 'e-sortfilterdiv e-icons' });\n        _this.gui = _this.parent.createElement('div');\n        _this.chkAllBox = _this.parent.createElement('input', { className: 'e-checkselectall', attrs: { 'type': 'checkbox', 'aria-label': 'checkbox' } });\n        return _this;\n    }\n    /**\n     * Function to return the wrapper for the TH content.\n     *\n     * @returns {string | Element} returns the element\n     */\n    HeaderCellRenderer.prototype.getGui = function () {\n        return this.gui.cloneNode();\n    };\n    /**\n     * Function to render the cell content based on Column object.\n     *\n     * @param {Cell} cell - specifies the column\n     * @param {Object} data - specifies the data\n     * @param {object} attributes - specifies the aattributes\n     * @returns {Element} returns the element\n     */\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    HeaderCellRenderer.prototype.render = function (cell, data, attributes) {\n        var node = this.element.cloneNode();\n        var fltrMenuEle = this.parent.createElement('div', { className: 'e-filtermenudiv e-icons e-icon-filter' });\n        return this.prepareHeader(cell, node, fltrMenuEle);\n    };\n    /**\n     * Function to refresh the cell content based on Column object.\n     *\n     * @param  {Cell} cell - specifies the cell\n     * @param  {Element} node - specifies the noe\n     * @returns {Element} returns the element\n     */\n    HeaderCellRenderer.prototype.refresh = function (cell, node) {\n        this.clean(node);\n        var fltrMenuEle = this.parent.createElement('div', { className: 'e-filtermenudiv e-icons e-icon-filter' });\n        return this.prepareHeader(cell, node, fltrMenuEle);\n    };\n    HeaderCellRenderer.prototype.clean = function (node) {\n        node.innerHTML = '';\n    };\n    /* tslint:disable-next-line:max-func-body-length */\n    HeaderCellRenderer.prototype.prepareHeader = function (cell, node, fltrMenuEle) {\n        var column = cell.column;\n        var ariaAttr = {};\n        //Prepare innerHtml\n        var innerDIV = this.getGui();\n        var hValueAccer;\n        attributes(innerDIV, {\n            'e-mappinguid': column.uid,\n            'class': 'e-headercelldiv'\n        });\n        if (!isNullOrUndefined(column.headerValueAccessor)) {\n            hValueAccer = this.getValue(column.headerText, column);\n        }\n        if (column.type !== 'checkbox') {\n            var value = column.headerText;\n            if (!isNullOrUndefined(hValueAccer)) {\n                value = hValueAccer;\n            }\n            var headerText = this.hTxtEle.cloneNode();\n            headerText[column.getDomSetter()] = value;\n            innerDIV.appendChild(headerText);\n        }\n        else {\n            column.editType = 'booleanedit';\n            var checkAllWrap = createCheckBox(this.parent.createElement, false, { checked: false, label: ' ' });\n            this.chkAllBox.id = 'checkbox-' + column.uid;\n            checkAllWrap.insertBefore(this.chkAllBox.cloneNode(), checkAllWrap.firstChild);\n            innerDIV.appendChild(checkAllWrap);\n            innerDIV.classList.add('e-headerchkcelldiv');\n        }\n        this.buildAttributeFromCell(node, cell);\n        this.appendHtml(node, innerDIV);\n        node.appendChild(this.sortEle.cloneNode());\n        if ((this.parent.allowFiltering && this.parent.filterSettings.type !== 'FilterBar') &&\n            (column.allowFiltering && !isNullOrUndefined(column.field)) &&\n            !(this.parent.showColumnMenu && column.showColumnMenu)) {\n            attributes(fltrMenuEle, {\n                'e-mappinguid': 'e-flmenu-' + column.uid\n            });\n            node.classList.add('e-fltr-icon');\n            var matchFlColumns = [];\n            if (this.parent.filterSettings.columns.length && this.parent.filterSettings.columns.length !== matchFlColumns.length) {\n                var foreignColumn = this.parent.getForeignKeyColumns();\n                for (var index = 0; index < this.parent.columns.length; index++) {\n                    for (var count = 0; count < this.parent.filterSettings.columns.length; count++) {\n                        if (this.parent.filterSettings.columns[count].field === column.field || (foreignColumn.length\n                            && column.foreignKeyValue === this.parent.filterSettings.columns[count].field)) {\n                            fltrMenuEle.classList.add('e-filtered');\n                            matchFlColumns.push(column.field);\n                            break;\n                        }\n                    }\n                }\n            }\n            node.appendChild(fltrMenuEle.cloneNode());\n        }\n        if (cell.className) {\n            node.classList.add(cell.className);\n        }\n        if (column.customAttributes) {\n            setStyleAndAttributes(node, column.customAttributes);\n        }\n        if (column.allowSorting) {\n            ariaAttr.sort = 'none';\n        }\n        if (column.allowGrouping) {\n            ariaAttr.grabbed = false;\n        }\n        node = this.extendPrepareHeader(column, node);\n        var result;\n        var gridObj = this.parent;\n        var colIndex = gridObj.getColumnIndexByField(column.field);\n        if (!isNullOrUndefined(column.headerTemplate)) {\n            //need to pass the template id for blazor headertemplate\n            var headerTempID = gridObj.element.id + column.uid + 'headerTemplate';\n            var str = 'isStringTemplate';\n            var col = column;\n            var isReactCompiler = this.parent.isReact && typeof (column.headerTemplate) !== 'string';\n            if (isReactCompiler) {\n                var copied = { 'index': colIndex };\n                node.firstElementChild.innerHTML = '';\n                column.getHeaderTemplate()(extend(copied, col), gridObj, 'headerTemplate', headerTempID, this.parent[str], null, node.firstElementChild);\n                this.parent.renderTemplates();\n            }\n            else {\n                result = column.getHeaderTemplate()(extend({ 'index': colIndex }, col), gridObj, 'headerTemplate', headerTempID, this.parent[str]);\n                node.firstElementChild.innerHTML = '';\n                appendChildren(node.firstElementChild, result);\n            }\n        }\n        this.ariaService.setOptions(node, ariaAttr);\n        if (!isNullOrUndefined(column.headerTextAlign) || !isNullOrUndefined(column.textAlign)) {\n            var alignment = column.headerTextAlign || column.textAlign;\n            innerDIV.style.textAlign = alignment;\n            if (alignment === 'Right' || alignment === 'Left') {\n                node.classList.add(alignment === 'Right' ? 'e-rightalign' : 'e-leftalign');\n            }\n            else if (alignment === 'Center') {\n                node.classList.add('e-centeralign');\n            }\n        }\n        if (column.clipMode === 'Clip' || (!column.clipMode && this.parent.clipMode === 'Clip')) {\n            node.classList.add('e-gridclip');\n        }\n        else if (column.clipMode === 'EllipsisWithTooltip' || (!column.clipMode && this.parent.clipMode === 'EllipsisWithTooltip')) {\n            if (column.type !== 'checkbox') {\n                node.classList.add('e-ellipsistooltip');\n            }\n        }\n        node.setAttribute('aria-rowspan', (!isNullOrUndefined(cell.rowSpan) ? cell.rowSpan : 1).toString());\n        node.setAttribute('aria-colspan', '1');\n        this.parent.trigger(headerCellInfo, { cell: cell, node: node });\n        return node;\n    };\n    HeaderCellRenderer.prototype.getValue = function (field, column) {\n        return column.headerValueAccessor(field, column);\n    };\n    HeaderCellRenderer.prototype.extendPrepareHeader = function (column, node) {\n        if (this.parent.showColumnMenu && column.showColumnMenu && !isNullOrUndefined(column.field)) {\n            var element = (this.parent.createElement('div', { className: 'e-icons e-columnmenu' }));\n            var matchFilteredColumns = [];\n            if (this.parent.filterSettings.columns.length && this.parent.filterSettings.columns.length !== matchFilteredColumns.length) {\n                for (var i = 0; i < this.parent.columns.length; i++) {\n                    for (var j = 0; j < this.parent.filterSettings.columns.length; j++) {\n                        if (this.parent.filterSettings.columns[j].field === column.field) {\n                            element.classList.add('e-filtered');\n                            matchFilteredColumns.push(column.field);\n                            break;\n                        }\n                    }\n                }\n            }\n            node.classList.add('e-fltr-icon');\n            node.appendChild(element);\n        }\n        if (this.parent.allowResizing) {\n            var handler = this.parent.createElement('div');\n            handler.className = column.allowResizing ? 'e-rhandler e-rcursor' : 'e-rsuppress';\n            node.appendChild(handler);\n        }\n        return node;\n    };\n    /**\n     * Function to specifies how the result content to be placed in the cell.\n     *\n     * @param  {Element} node - specifies the node\n     * @param  {string|Element} innerHtml - specifies the innerHtml\n     * @returns {Element} returns the element\n     */\n    HeaderCellRenderer.prototype.appendHtml = function (node, innerHtml) {\n        node.appendChild(innerHtml);\n        return node;\n    };\n    return HeaderCellRenderer;\n}(CellRenderer));\nexport { HeaderCellRenderer };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { CellRenderer } from './cell-renderer';\nimport { headerCellInfo } from '../base/constant';\nimport { setStyleAndAttributes, appendChildren } from '../base/util';\n/**\n * StackedHeaderCellRenderer class which responsible for building stacked header cell content.\n *\n * @hidden\n */\nvar StackedHeaderCellRenderer = /** @class */ (function (_super) {\n    __extends(StackedHeaderCellRenderer, _super);\n    function StackedHeaderCellRenderer() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.element = _this.parent.createElement('TH', {\n            className: 'e-headercell e-stackedheadercell', attrs: {\n                role: 'columnheader',\n                tabindex: '-1'\n            }\n        });\n        return _this;\n    }\n    /**\n     * Function to render the cell content based on Column object.\n     *\n     * @param {Cell<Column>} cell - specifies the cell\n     * @param {Object} data - specifies the data\n     * @param {object} attributes - specifies the attributes\n     * @returns {Element} returns the element\n     */\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    StackedHeaderCellRenderer.prototype.render = function (cell, data, attributes) {\n        var node = this.element.cloneNode();\n        var div = this.parent.createElement('div', {\n            className: 'e-stackedheadercelldiv',\n            attrs: { 'e-mappinguid': cell.column.uid }\n        });\n        var column = cell.column;\n        node.appendChild(div);\n        if (!isNullOrUndefined(column.headerTemplate)) {\n            appendChildren(div, column.getHeaderTemplate()(column, this.parent, 'headerTemplate'));\n        }\n        else {\n            this.appendHtml(div, column.headerText, column.getDomSetter());\n        }\n        if (cell.column.toolTip) {\n            node.setAttribute('title', cell.column.toolTip);\n        }\n        if (column.clipMode === 'Clip' || (!column.clipMode && this.parent.clipMode === 'Clip')) {\n            node.classList.add('e-gridclip');\n        }\n        else if (column.clipMode === 'EllipsisWithTooltip' || (!column.clipMode && this.parent.clipMode === 'EllipsisWithTooltip')) {\n            node.classList.add('e-ellipsistooltip');\n        }\n        if (!isNullOrUndefined(cell.column.textAlign)) {\n            div.style.textAlign = cell.column.textAlign;\n        }\n        if (cell.column.customAttributes) {\n            setStyleAndAttributes(node, cell.column.customAttributes);\n        }\n        node.setAttribute('colspan', cell.colSpan.toString());\n        node.setAttribute('aria-colspan', cell.colSpan.toString());\n        node.setAttribute('aria-rowspan', '1');\n        if (this.parent.allowResizing) {\n            var handler = this.parent.createElement('div');\n            handler.className = cell.column.allowResizing ? 'e-rhandler e-rcursor' : 'e-rsuppress';\n            node.appendChild(handler);\n        }\n        if (cell.className) {\n            node.classList.add(cell.className);\n        }\n        this.parent.trigger(headerCellInfo, { cell: cell, node: node });\n        return node;\n    };\n    return StackedHeaderCellRenderer;\n}(CellRenderer));\nexport { StackedHeaderCellRenderer };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { setStyleAndAttributes } from '../base/util';\nimport { CellRenderer } from './cell-renderer';\n/**\n * IndentCellRenderer class which responsible for building group indent cell.\n *\n * @hidden\n */\nvar IndentCellRenderer = /** @class */ (function (_super) {\n    __extends(IndentCellRenderer, _super);\n    function IndentCellRenderer() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.element = _this.parent.createElement('TD', { className: 'e-indentcell' });\n        return _this;\n    }\n    /**\n     * Function to render the indent cell\n     *\n     * @param  {Cell} cell - specifies the cell\n     * @param  {Object} data - specifies the data\n     * @returns {Element} returns the element\n     */\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    IndentCellRenderer.prototype.render = function (cell, data) {\n        var node = this.element.cloneNode();\n        setStyleAndAttributes(node, cell.attributes);\n        return node;\n    };\n    return IndentCellRenderer;\n}(CellRenderer));\nexport { IndentCellRenderer };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { CellRenderer } from './cell-renderer';\nimport { appendChildren, templateCompiler } from '../base/util';\n/**\n * GroupCaptionCellRenderer class which responsible for building group caption cell.\n *\n * @hidden\n */\nvar GroupCaptionCellRenderer = /** @class */ (function (_super) {\n    __extends(GroupCaptionCellRenderer, _super);\n    function GroupCaptionCellRenderer() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.element = _this.parent\n            .createElement('TD', { className: 'e-groupcaption',\n            attrs: { id: _this.parent.element.id + 'captioncell', role: 'gridcell', tabindex: '-1' } });\n        return _this;\n    }\n    /**\n     * Function to render the cell content based on Column object.\n     *\n     * @param  {Cell} cell - specifies the cell\n     * @param  {Object} data - specifies the GroupedData\n     * @returns {Element} returns the element\n     */\n    GroupCaptionCellRenderer.prototype.render = function (cell, data) {\n        var node = this.element.cloneNode();\n        var gObj = this.parent;\n        var result;\n        var fKeyValue;\n        data.headerText = cell.column.headerText;\n        if (cell.isForeignKey) {\n            fKeyValue = this.format(cell.column, cell.column.valueAccessor('foreignKey', data, cell.column));\n        }\n        var value = cell.isForeignKey ? fKeyValue : cell.column.enableGroupByFormat ? data.key :\n            this.format(cell.column, cell.column.valueAccessor('key', data, cell.column));\n        if (!isNullOrUndefined(gObj.groupSettings.captionTemplate)) {\n            var isReactCompiler = this.parent.isReact && typeof (gObj.groupSettings.captionTemplate) !== 'string';\n            if (isReactCompiler) {\n                var tempID = gObj.element.id + 'captionTemplate';\n                templateCompiler(gObj.groupSettings.captionTemplate)(data, this.parent, 'captionTemplate', tempID, null, null, node);\n                this.parent.renderTemplates();\n            }\n            else if (this.parent.isVue) {\n                result = templateCompiler(gObj.groupSettings.captionTemplate)(data, this.parent);\n            }\n            else {\n                result = templateCompiler(gObj.groupSettings.captionTemplate)(data);\n            }\n            if (!isReactCompiler) {\n                appendChildren(node, result);\n            }\n        }\n        else {\n            if (gObj.groupSettings.enableLazyLoading) {\n                node.innerHTML = cell.column.headerText + ': ' + value;\n            }\n            else {\n                node.innerHTML = cell.column.headerText + ': ' + value + ' - ' + data.count + ' ' +\n                    (data.count < 2 ? this.localizer.getConstant('Item') : this.localizer.getConstant('Items'));\n            }\n        }\n        node.setAttribute('colspan', cell.colSpan.toString());\n        node.setAttribute('aria-label', node.innerHTML + ' is groupcaption cell');\n        node.setAttribute('title', node.innerHTML);\n        return node;\n    };\n    return GroupCaptionCellRenderer;\n}(CellRenderer));\nexport { GroupCaptionCellRenderer };\n/**\n * GroupCaptionEmptyCellRenderer class which responsible for building group caption empty cell.\n *\n * @hidden\n */\nvar GroupCaptionEmptyCellRenderer = /** @class */ (function (_super) {\n    __extends(GroupCaptionEmptyCellRenderer, _super);\n    function GroupCaptionEmptyCellRenderer() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.element = _this.parent.createElement('TD', { className: 'e-groupcaption' });\n        return _this;\n    }\n    /**\n     * Function to render the cell content based on Column object.\n     *\n     * @param {Cell} cell - specifies the cell\n     * @param {Object} data - specifies the Object\n     * @param {string} data.field - Defines the field\n     * @param {string} data.key - Defines the key\n     * @param {number} data.count - Defines the count\n     * @returns {Element} returns the element\n     */\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    GroupCaptionEmptyCellRenderer.prototype.render = function (cell, data) {\n        var node = this.element.cloneNode();\n        node.innerHTML = '&nbsp;';\n        node.setAttribute('colspan', cell.colSpan.toString());\n        return node;\n    };\n    return GroupCaptionEmptyCellRenderer;\n}(CellRenderer));\nexport { GroupCaptionEmptyCellRenderer };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { IndentCellRenderer } from './indent-cell-renderer';\n/**\n * ExpandCellRenderer class which responsible for building group expand cell.\n *\n * @hidden\n */\nvar ExpandCellRenderer = /** @class */ (function (_super) {\n    __extends(ExpandCellRenderer, _super);\n    function ExpandCellRenderer() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Function to render the expand cell\n     *\n     * @param {Cell} cell - specifies the cell\n     * @param {Object} data - specifies the data\n     * @param {string} data.field - Defines the field\n     * @param {string} data.key - Defines the key\n     * @param {Object} attr - specifies the attribute\n     * @param {boolean} isExpand - specifies isexpand\n     * @returns {Element} returns the element\n     */\n    ExpandCellRenderer.prototype.render = function (cell, data, attr, isExpand) {\n        var node = this.element.cloneNode();\n        node.className = isExpand ? 'e-recordplusexpand' : 'e-recordpluscollapse';\n        node.setAttribute('ej-mappingname', data.field);\n        node.setAttribute('ej-mappingvalue', data.key);\n        node.setAttribute('aria-expanded', isExpand ? 'true' : 'false');\n        node.setAttribute('tabindex', '-1');\n        node.appendChild(this.parent.createElement('div', {\n            className: isExpand ? 'e-icons e-gdiagonaldown e-icon-gdownarrow' : 'e-icons e-gnextforward e-icon-grightarrow'\n        }));\n        return node;\n    };\n    return ExpandCellRenderer;\n}(IndentCellRenderer));\nexport { ExpandCellRenderer };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { CellRenderer } from './cell-renderer';\n/**\n * HeaderIndentCellRenderer class which responsible for building header indent cell.\n *\n * @hidden\n */\nvar HeaderIndentCellRenderer = /** @class */ (function (_super) {\n    __extends(HeaderIndentCellRenderer, _super);\n    function HeaderIndentCellRenderer() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.element = _this.parent.createElement('TH', { className: 'e-grouptopleftcell' });\n        return _this;\n    }\n    /**\n     * Function to render the indent cell\n     *\n     * @param  {Cell} cell - specifies the cell\n     * @param  {Object} data - specifies the data\n     * @returns {Element} returns the element\n     */\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    HeaderIndentCellRenderer.prototype.render = function (cell, data) {\n        var node = this.element.cloneNode();\n        node.appendChild(this.parent.createElement('div', { className: 'e-headercelldiv e-emptycell', innerHTML: '' }));\n        return node;\n    };\n    return HeaderIndentCellRenderer;\n}(CellRenderer));\nexport { HeaderIndentCellRenderer };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { CellRenderer } from './cell-renderer';\n/**\n * DetailHeaderIndentCellRenderer class which responsible for building detail header indent cell.\n *\n * @hidden\n */\nvar DetailHeaderIndentCellRenderer = /** @class */ (function (_super) {\n    __extends(DetailHeaderIndentCellRenderer, _super);\n    function DetailHeaderIndentCellRenderer() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.element = _this.parent.createElement('TH', { className: 'e-detailheadercell' });\n        return _this;\n    }\n    /**\n     * Function to render the detail indent cell\n     *\n     * @param  {Cell} cell - specifies the cell\n     * @param  {Object} data - specifies the data\n     * @returns {Element} returns the element\n     */\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    DetailHeaderIndentCellRenderer.prototype.render = function (cell, data) {\n        var node = this.element.cloneNode();\n        node.appendChild(this.parent.createElement('div', { className: 'e-emptycell' }));\n        return node;\n    };\n    return DetailHeaderIndentCellRenderer;\n}(CellRenderer));\nexport { DetailHeaderIndentCellRenderer };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { CellRenderer } from './cell-renderer';\n/**\n * ExpandCellRenderer class which responsible for building group expand cell.\n *\n * @hidden\n */\nvar DetailExpandCellRenderer = /** @class */ (function (_super) {\n    __extends(DetailExpandCellRenderer, _super);\n    function DetailExpandCellRenderer() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.element = _this.parent.createElement('TD', {\n            className: 'e-detailrowcollapse',\n            attrs: { 'aria-expanded': 'false', role: 'gridcell', tabindex: '-1' }\n        });\n        return _this;\n    }\n    /**\n     * Function to render the detail expand cell\n     *\n     * @param {Cell<Column>} cell - specifies the cell\n     * @param {Object} data - specifies the data\n     * @param {Object} attributes - specifies the attributes\n     * @returns {Element} returns the element\n     */\n    DetailExpandCellRenderer.prototype.render = function (cell, data, attributes) {\n        var node = this.element.cloneNode();\n        if (attributes && !isNullOrUndefined(attributes['class'])) {\n            node.className = '';\n            node.className = attributes['class'];\n            node.appendChild(this.parent.createElement('div', { className: 'e-icons e-dtdiagonaldown e-icon-gdownarrow' }));\n        }\n        else {\n            node.appendChild(this.parent.createElement('div', { className: 'e-icons e-dtdiagonalright e-icon-grightarrow' }));\n        }\n        return node;\n    };\n    return DetailExpandCellRenderer;\n}(CellRenderer));\nexport { DetailExpandCellRenderer };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { CellRenderer } from './cell-renderer';\n/**\n * ExpandCellRenderer class which responsible for building group expand cell.\n *\n * @hidden\n */\nvar RowDragDropRenderer = /** @class */ (function (_super) {\n    __extends(RowDragDropRenderer, _super);\n    function RowDragDropRenderer() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.element = _this.parent.createElement('TD', {\n            className: 'e-rowdragdrop e-rowdragdropcell',\n            attrs: { role: 'gridcell', tabindex: '-1' }\n        });\n        return _this;\n    }\n    /**\n     * Function to render the detail expand cell\n     *\n     * @param {Cell<Column>} cell - specifies the cell\n     * @param {Object} data - specifies the data\n     * @returns {Element} returns the element\n     */\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    RowDragDropRenderer.prototype.render = function (cell, data) {\n        var nodeElement = this.element.cloneNode();\n        nodeElement.appendChild(this.parent.createElement('div', {\n            className: 'e-icons e-rowcelldrag e-dtdiagonalright e-icon-rowdragicon'\n        }));\n        if (cell.isSelected) {\n            nodeElement.classList.add('e-selectionbackground');\n            nodeElement.classList.add('e-active');\n        }\n        return nodeElement;\n    };\n    return RowDragDropRenderer;\n}(CellRenderer));\nexport { RowDragDropRenderer };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { createElement } from '@syncfusion/ej2-base';\nimport { CellRenderer } from './cell-renderer';\n/**\n * DetailHeaderIndentCellRenderer class which responsible for building detail header indent cell.\n *\n * @hidden\n */\nvar RowDragDropHeaderRenderer = /** @class */ (function (_super) {\n    __extends(RowDragDropHeaderRenderer, _super);\n    function RowDragDropHeaderRenderer() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.element = _this.parent.createElement('TH', { className: 'e-rowdragheader' });\n        return _this;\n    }\n    /**\n     * Function to render the detail indent cell\n     *\n     * @param  {Cell} cell - specifies the cell\n     * @param  {Object} data - specifies the data\n     * @returns {Element} returns the element\n     */\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    RowDragDropHeaderRenderer.prototype.render = function (cell, data) {\n        var node = this.element.cloneNode();\n        node.appendChild(createElement('div', { className: 'e-emptycell' }));\n        return node;\n    };\n    return RowDragDropHeaderRenderer;\n}(CellRenderer));\nexport { RowDragDropHeaderRenderer };\n","import { remove, resetBlazorTemplate, blazorTemplates, getValue } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, extend } from '@syncfusion/ej2-base';\nimport { DataManager, Query, Deferred, Predicate, DataUtil } from '@syncfusion/ej2-data';\nimport { ValueFormatter } from '../services/value-formatter';\nimport { RenderType, CellType } from '../base/enum';\nimport { Data } from '../actions/data';\nimport { Column } from '../models/column';\nimport { Row } from '../models/row';\nimport { Cell } from '../models/cell';\nimport * as events from '../base/constant';\nimport { prepareColumns, setFormatter, isGroupAdaptive, getDatePredicate, getObject, clearReactVueTemplates } from '../base/util';\nimport { ContentRender } from '../renderer/content-renderer';\nimport { HeaderRender } from '../renderer/header-renderer';\nimport { CellRenderer } from '../renderer/cell-renderer';\nimport { HeaderCellRenderer } from '../renderer/header-cell-renderer';\nimport { StackedHeaderCellRenderer } from '../renderer/stacked-cell-renderer';\nimport { IndentCellRenderer } from '../renderer/indent-cell-renderer';\nimport { GroupCaptionCellRenderer, GroupCaptionEmptyCellRenderer } from '../renderer/caption-cell-renderer';\nimport { ExpandCellRenderer } from '../renderer/expand-cell-renderer';\nimport { HeaderIndentCellRenderer } from '../renderer/header-indent-renderer';\nimport { DetailHeaderIndentCellRenderer } from '../renderer/detail-header-indent-renderer';\nimport { DetailExpandCellRenderer } from '../renderer/detail-expand-cell-renderer';\nimport { RowDragDropRenderer } from './row-drag-drop-renderer';\nimport { RowDragDropHeaderRenderer } from '../renderer/row-drag-header-indent-render';\nimport * as literals from '../base/string-literals';\n/**\n * Content module is used to render grid content\n *\n * @hidden\n */\nvar Render = /** @class */ (function () {\n    /**\n     * Constructor for render module\n     *\n     * @param {IGrid} parent - specifies the IGrid\n     * @param {ServiceLocator} locator - specifies the serviceLocator\n     */\n    function Render(parent, locator) {\n        this.emptyGrid = false;\n        this.counter = 0;\n        this.parent = parent;\n        this.locator = locator;\n        this.data = new Data(parent, locator);\n        this.l10n = locator.getService('localization');\n        this.ariaService = this.locator.getService('ariaService');\n        this.renderer = this.locator.getService('rendererFactory');\n        this.addEventListener();\n    }\n    /**\n     * To initialize grid header, content and footer rendering\n     *\n     * @returns {void}\n     */\n    Render.prototype.render = function () {\n        var gObj = this.parent;\n        this.headerRenderer = this.renderer.getRenderer(RenderType.Header);\n        this.contentRenderer = this.renderer.getRenderer(RenderType.Content);\n        this.headerRenderer.renderPanel();\n        this.contentRenderer.renderPanel();\n        if (gObj.getColumns().length) {\n            this.isLayoutRendered = true;\n            this.headerRenderer.renderTable();\n            this.contentRenderer.renderTable();\n            this.emptyRow(false);\n        }\n        this.parent.scrollModule.setWidth();\n        this.parent.scrollModule.setHeight();\n        if (this.parent.height !== 'auto') {\n            this.parent.scrollModule.setPadding();\n        }\n        this.refreshDataManager();\n    };\n    /**\n     * Refresh the entire Grid.\n     *\n     * @param {NotifyArgs} e - specifies the NotifyArgs\n     * @returns {void}\n     */\n    Render.prototype.refresh = function (e) {\n        var _this = this;\n        if (e === void 0) { e = { requestType: 'refresh' }; }\n        var gObj = this.parent;\n        gObj.notify(e.requestType + \"-begin\", e);\n        gObj.trigger(events.actionBegin, e, function (args) {\n            if (args === void 0) { args = { requestType: 'refresh' }; }\n            if (args.cancel) {\n                gObj.notify(events.cancelBegin, args);\n                return;\n            }\n            if (args.requestType === 'delete' && gObj.allowPaging) {\n                var dataLength = args.data.length;\n                var count = gObj.pageSettings.totalRecordsCount - dataLength;\n                var currentViewData = gObj.getCurrentViewRecords().length;\n                // eslint-disable-next-line max-len\n                if (!(currentViewData - dataLength) && count && ((gObj.pageSettings.currentPage - 1) * gObj.pageSettings.pageSize) === count) {\n                    gObj.prevPageMoving = true;\n                    gObj.setProperties({\n                        pageSettings: {\n                            totalRecordsCount: count, currentPage: Math.ceil(count / gObj.pageSettings.pageSize)\n                        }\n                    }, true);\n                    gObj.pagerModule.pagerObj.totalRecordsCount = count;\n                }\n            }\n            if (args.requestType === 'reorder' && _this.parent.dataSource && 'result' in _this.parent.dataSource) {\n                _this.contentRenderer.refreshContentRows(args);\n            }\n            else if ((args.requestType === 'paging' || args.requestType === 'columnstate' || args.requestType === 'reorder')\n                && _this.parent.groupSettings.enableLazyLoading && _this.parent.groupSettings.columns.length\n                && _this.parent.contentModule.getGroupCache()[_this.parent.pageSettings.currentPage]) {\n                _this.contentRenderer.refreshContentRows(args);\n            }\n            else {\n                _this.refreshDataManager(args);\n            }\n        });\n    };\n    /**\n     * @returns {void}\n     * @hidden\n     */\n    Render.prototype.resetTemplates = function () {\n        var gObj = this.parent;\n        var gridColumns = gObj.getColumns();\n        if (gObj.detailTemplate) {\n            var detailTemplateID = gObj.element.id + 'detailTemplate';\n            blazorTemplates[detailTemplateID] = [];\n            resetBlazorTemplate(detailTemplateID, 'DetailTemplate');\n        }\n        if (gObj.groupSettings.captionTemplate) {\n            resetBlazorTemplate(gObj.element.id + 'captionTemplate', 'CaptionTemplate');\n        }\n        if (gObj.rowTemplate) {\n            resetBlazorTemplate(gObj.element.id + 'rowTemplate', 'RowTemplate');\n        }\n        if (gObj.toolbarTemplate) {\n            resetBlazorTemplate(gObj.element.id + 'toolbarTemplate', 'ToolbarTemplate');\n        }\n        if (gObj.pageSettings.template) {\n            resetBlazorTemplate(gObj.element.id + '_template', 'pageSettings');\n        }\n        for (var i = 0; i < gridColumns.length; i++) {\n            if (gridColumns[i].template) {\n                blazorTemplates[gObj.element.id + gridColumns[i].uid] = [];\n                resetBlazorTemplate(gObj.element.id + gridColumns[i].uid, 'Template');\n            }\n            if (gridColumns[i].headerTemplate) {\n                resetBlazorTemplate(gObj.element.id + gridColumns[i].uid + 'headerTemplate', 'HeaderTemplate');\n            }\n            if (gridColumns[i].filterTemplate) {\n                resetBlazorTemplate(gObj.element.id + gridColumns[i].uid + 'filterTemplate', 'FilterTemplate');\n            }\n        }\n        var guid = 'guid';\n        for (var k = 0; k < gObj.aggregates.length; k++) {\n            for (var j = 0; j < gObj.aggregates[k].columns.length; j++) {\n                if (gObj.aggregates[k].columns[j].footerTemplate) {\n                    var tempID = gObj.element.id + gObj.aggregates[k].columns[j][guid] + 'footerTemplate';\n                    resetBlazorTemplate(tempID, 'FooterTemplate');\n                }\n                if (gObj.aggregates[k].columns[j].groupFooterTemplate) {\n                    var tempID = gObj.element.id + gObj.aggregates[k].columns[j][guid] + 'groupFooterTemplate';\n                    resetBlazorTemplate(tempID, 'GroupFooterTemplate');\n                }\n                if (gObj.aggregates[k].columns[j].groupCaptionTemplate) {\n                    var tempID = gObj.element.id + gObj.aggregates[k].columns[j][guid] + 'groupCaptionTemplate';\n                    resetBlazorTemplate(tempID, 'GroupCaptionTemplate');\n                }\n            }\n        }\n    };\n    Render.prototype.refreshComplete = function (e) {\n        this.parent.trigger(events.actionComplete, e);\n    };\n    /**\n     * The function is used to refresh the dataManager\n     *\n     * @param {NotifyArgs} args - specifies the args\n     * @returns {void}\n     */\n    Render.prototype.refreshDataManager = function (args) {\n        var _this = this;\n        if (args === void 0) { args = {}; }\n        if (args.requestType !== 'virtualscroll' && !args.isCaptionCollapse) {\n            this.parent.showSpinner();\n        }\n        this.parent.notify(events.resetInfiniteBlocks, args);\n        this.emptyGrid = false;\n        var dataManager;\n        var isFActon = this.isNeedForeignAction();\n        this.ariaService.setBusy(this.parent.getContent().querySelector('.' + literals.content), true);\n        if (isFActon) {\n            var deffered = new Deferred();\n            dataManager = this.getFData(deffered, args);\n        }\n        if (!dataManager) {\n            dataManager = this.data.getData(args, this.data.generateQuery().requiresCount());\n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/no-unused-vars\n            dataManager = dataManager.then(function (e) {\n                var query = _this.data.generateQuery().requiresCount();\n                if (_this.emptyGrid) {\n                    var def = new Deferred();\n                    def.resolve({ result: [], count: 0 });\n                    return def.promise;\n                }\n                return _this.data.getData(args, query);\n            });\n        }\n        if (this.parent.getForeignKeyColumns().length && (!isFActon || this.parent.searchSettings.key.length)) {\n            var deffered_1 = new Deferred();\n            dataManager = dataManager.then(function (e) {\n                _this.parent.notify(events.getForeignKeyData, { dataManager: dataManager, result: e, promise: deffered_1, action: args });\n                return deffered_1.promise;\n            });\n        }\n        if (this.parent.groupSettings.disablePageWiseAggregates && this.parent.groupSettings.columns.length) {\n            dataManager = dataManager.then(function (e) { return _this.validateGroupRecords(e); });\n        }\n        dataManager.then(function (e) { return _this.dataManagerSuccess(e, args); })\n            .catch(function (e) { return _this.dataManagerFailure(e, args); });\n    };\n    Render.prototype.getFData = function (deferred, args) {\n        this.parent.notify(events.getForeignKeyData, { isComplex: true, promise: deferred, action: args });\n        return deferred.promise;\n    };\n    Render.prototype.isNeedForeignAction = function () {\n        var gObj = this.parent;\n        return !!((gObj.allowFiltering && gObj.filterSettings.columns.length) ||\n            (gObj.searchSettings.key.length)) && this.foreignKey(this.parent.getForeignKeyColumns());\n    };\n    Render.prototype.foreignKey = function (columns) {\n        var _this = this;\n        return columns.some(function (col) {\n            var fbool = false;\n            fbool = _this.parent.filterSettings.columns.some(function (value) {\n                return col.uid === value.uid;\n            });\n            return !!(fbool || _this.parent.searchSettings.key.length);\n        });\n    };\n    Render.prototype.sendBulkRequest = function (args) {\n        var _this = this;\n        args.requestType = 'batchsave';\n        var promise = this.data.saveChanges(args.changes, this.parent.getPrimaryKeyFieldNames()[0], args.original);\n        var query = this.data.generateQuery().requiresCount();\n        if (this.data.dataManager.dataSource.offline) {\n            this.refreshDataManager({ requestType: 'batchsave' });\n            return;\n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/no-unused-vars\n            promise.then(function (e) {\n                _this.data.getData(args, query)\n                    .then(function (e) { return _this.dmSuccess(e, args); })\n                    .catch(function (e) { return _this.dmFailure(e, args); });\n            })\n                .catch(function (e) { return _this.dmFailure(e, args); });\n        }\n    };\n    Render.prototype.dmSuccess = function (e, args) {\n        this.dataManagerSuccess(e, args);\n    };\n    Render.prototype.dmFailure = function (e, args) {\n        this.dataManagerFailure(e, args);\n    };\n    /**\n     * Render empty row to Grid which is used at the time to represent to no records.\n     *\n     * @returns {void}\n     * @hidden\n     */\n    Render.prototype.renderEmptyRow = function () {\n        this.emptyRow(true);\n    };\n    Render.prototype.emptyRow = function (isTrigger) {\n        var gObj = this.parent;\n        var tbody = this.contentRenderer.getTable().querySelector(literals.tbody);\n        if (!isNullOrUndefined(tbody)) {\n            remove(tbody);\n        }\n        tbody = this.parent.createElement(literals.tbody);\n        var spanCount = 0;\n        if (gObj.detailTemplate || gObj.childGrid) {\n            ++spanCount;\n        }\n        var tr = this.parent.createElement('tr', { className: 'e-emptyrow' });\n        tr.appendChild(this.parent.createElement('td', {\n            innerHTML: this.l10n.getConstant('EmptyRecord'),\n            attrs: { colspan: (gObj.getVisibleColumns().length + spanCount + gObj.groupSettings.columns.length).toString() }\n        }));\n        tbody.appendChild(tr);\n        this.contentRenderer.renderEmpty(tbody);\n        if (isTrigger) {\n            this.parent.trigger(events.dataBound, {});\n            this.parent.notify(events.onEmpty, { rows: [new Row({ isDataRow: true, cells: [new Cell({ isDataCell: true, visible: true })] })] });\n        }\n    };\n    Render.prototype.dynamicColumnChange = function () {\n        if (this.parent.getCurrentViewRecords().length) {\n            this.updateColumnType(this.parent.getCurrentViewRecords()[0]);\n        }\n    };\n    Render.prototype.updateColumnType = function (record) {\n        var columns = this.parent.getColumns();\n        var value;\n        var cFormat = 'customFormat';\n        var equalTo = 'equalTo';\n        var data = record && record.items ? record.items[0] : record;\n        var fmtr = this.locator.getService('valueFormatter');\n        for (var i = 0, len = columns.length; i < len; i++) {\n            value = getObject(columns[i].field || '', data);\n            if (!isNullOrUndefined(columns[i][cFormat])) {\n                columns[i].format = columns[i][cFormat];\n            }\n            if (!isNullOrUndefined(columns[i].validationRules) && !isNullOrUndefined(columns[i].validationRules[equalTo])) {\n                columns[i].validationRules[equalTo][0] = this.parent.element.id + columns[i].validationRules[equalTo][0];\n            }\n            if (columns[i].isForeignColumn() && columns[i].columnData) {\n                value = getObject(columns[i].foreignKeyValue || '', columns[i].columnData[0]);\n            }\n            if (!isNullOrUndefined(value)) {\n                this.isColTypeDef = true;\n                if (!columns[i].type) {\n                    columns[i].type = value.getDay ? (value.getHours() > 0 || value.getMinutes() > 0 ||\n                        value.getSeconds() > 0 || value.getMilliseconds() > 0 ? 'datetime' : 'date') : typeof (value);\n                }\n            }\n            else {\n                columns[i].type = columns[i].type || null;\n            }\n            var valueFormatter = new ValueFormatter();\n            if (columns[i].format && (columns[i].format.skeleton || (columns[i].format.format &&\n                typeof columns[i].format.format === 'string'))) {\n                columns[i].setFormatter(valueFormatter.getFormatFunction(extend({}, columns[i].format)));\n                columns[i].setParser(valueFormatter.getParserFunction(columns[i].format));\n            }\n            if (typeof (columns[i].format) === 'string') {\n                setFormatter(this.locator, columns[i]);\n            }\n            else if (!columns[i].format && columns[i].type === 'number') {\n                columns[i].setParser(fmtr.getParserFunction({ format: 'n2' }));\n            }\n        }\n    };\n    /**\n     * @param {ReturnType} e - specifies the return type\n     * @param {NotifyArgs} args - specifies the Notifyargs\n     * @returns {void}\n     * @hidden\n     */\n    // tslint:disable-next-line:max-func-body-length\n    Render.prototype.dataManagerSuccess = function (e, args) {\n        var _this = this;\n        var gObj = this.parent;\n        this.contentRenderer = this.renderer.getRenderer(RenderType.Content);\n        this.headerRenderer = this.renderer.getRenderer(RenderType.Header);\n        e.actionArgs = args;\n        var isInfiniteDelete = this.parent.enableInfiniteScrolling && !this.parent.infiniteScrollSettings.enableCache\n            && (args.requestType === 'delete' || (args.requestType === 'save' && this.parent.infiniteScrollModule.requestType === 'add'));\n        // tslint:disable-next-line:max-func-body-length\n        gObj.trigger(events.beforeDataBound, e, function (dataArgs) {\n            if (dataArgs.cancel) {\n                return;\n            }\n            dataArgs.result = isNullOrUndefined(dataArgs.result) ? [] : dataArgs.result;\n            var len = Object.keys(dataArgs.result).length;\n            if (_this.parent.isDestroyed) {\n                return;\n            }\n            if ((!gObj.getColumns().length && !len) && !(gObj.columns.length && gObj.columns[0] instanceof Column)) {\n                gObj.hideSpinner();\n                return;\n            }\n            if (_this.isInfiniteEnd(args) && !len) {\n                _this.parent.notify(events.infiniteEditHandler, { e: args, result: e.result, count: e.count, agg: e.aggregates });\n                return;\n            }\n            _this.parent.isEdit = false;\n            _this.parent.notify(events.editReset, {});\n            _this.parent.notify(events.tooltipDestroy, {});\n            _this.contentRenderer.prevCurrentView = _this.parent.currentViewData.slice();\n            gObj.currentViewData = dataArgs.result;\n            gObj.notify(events.refreshInfiniteCurrentViewData, { args: args, data: dataArgs.result });\n            if (!len && dataArgs.count && gObj.allowPaging && args && args.requestType !== 'delete') {\n                if (_this.parent.groupSettings.enableLazyLoading\n                    && (args.requestType === 'grouping' || args.requestType === 'ungrouping')) {\n                    _this.parent.notify(events.groupComplete, args);\n                }\n                gObj.prevPageMoving = true;\n                gObj.pageSettings.totalRecordsCount = dataArgs.count;\n                if (args.requestType !== 'paging') {\n                    gObj.pageSettings.currentPage = Math.ceil(dataArgs.count / gObj.pageSettings.pageSize);\n                }\n                gObj.dataBind();\n                return;\n            }\n            if ((!gObj.getColumns().length && len || !_this.isLayoutRendered) && !isGroupAdaptive(gObj)) {\n                _this.updatesOnInitialRender(dataArgs);\n            }\n            if (!_this.isColTypeDef && gObj.getCurrentViewRecords()) {\n                if (_this.data.dataManager.dataSource.offline && gObj.dataSource && gObj.dataSource.length) {\n                    _this.updateColumnType(gObj.dataSource[0]);\n                }\n                else {\n                    _this.updateColumnType(gObj.getCurrentViewRecords()[0]);\n                }\n            }\n            if (!_this.parent.isInitialLoad && _this.parent.groupSettings.disablePageWiseAggregates &&\n                !_this.parent.groupSettings.columns.length) {\n                dataArgs.result = _this.parent.dataSource instanceof Array ? _this.parent.dataSource : _this.parent.currentViewData;\n            }\n            if ((_this.parent.isReact || _this.parent.isVue) && !isNullOrUndefined(args) && args.requestType !== 'infiniteScroll' && !args.isFrozen) {\n                clearReactVueTemplates(_this.parent, ['footerTemplate']);\n            }\n            _this.parent.notify(events.dataReady, extend({ count: dataArgs.count, result: dataArgs.result, aggregates: dataArgs.aggregates }, args));\n            if ((gObj.groupSettings.columns.length || (args && args.requestType === 'ungrouping'))\n                && (args && args.requestType !== 'filtering')) {\n                _this.headerRenderer.refreshUI();\n            }\n            if (len) {\n                if (isGroupAdaptive(gObj)) {\n                    var content = 'content';\n                    args.scrollTop = { top: _this.contentRenderer[content].scrollTop };\n                }\n                if (!isInfiniteDelete) {\n                    if (_this.parent.enableImmutableMode) {\n                        _this.contentRenderer.immutableModeRendering(args);\n                    }\n                    else {\n                        _this.contentRenderer.refreshContentRows(args);\n                    }\n                }\n                else {\n                    _this.parent.notify(events.infiniteEditHandler, { e: args, result: e.result, count: e.count, agg: e.aggregates });\n                }\n            }\n            else {\n                if (args && args.isCaptionCollapse) {\n                    return;\n                }\n                if (!gObj.getColumns().length) {\n                    gObj.element.innerHTML = '';\n                    alert(_this.l10n.getConstant('EmptyDataSourceError')); //ToDO: change this alert as dialog\n                    return;\n                }\n                _this.contentRenderer.setRowElements([]);\n                _this.contentRenderer.setRowObjects([]);\n                _this.ariaService.setBusy(_this.parent.getContent().querySelector('.' + literals.content), false);\n                _this.renderEmptyRow();\n                if (args) {\n                    var action = (args.requestType || '').toLowerCase() + '-complete';\n                    _this.parent.notify(action, args);\n                    if (args.requestType === 'batchsave') {\n                        args.cancel = false;\n                        args.rows = [];\n                        args.isFrozen = _this.parent.getFrozenColumns() !== 0 && !args.isFrozen;\n                        _this.parent.trigger(events.actionComplete, args);\n                    }\n                }\n                _this.parent.hideSpinner();\n            }\n            _this.parent.notify(events.toolbarRefresh, {});\n            _this.setRowCount(_this.parent.getCurrentViewRecords().length);\n            _this.parent.getDataModule().isQueryInvokedFromData = false;\n        });\n    };\n    /**\n     * @param {object} e - specifies the object\n     * @param {Object[]} e.result - specifies the result\n     * @param {NotifyArgs} args - specifies the args\n     * @returns {void}\n     * @hidden\n     */\n    Render.prototype.dataManagerFailure = function (e, args) {\n        this.ariaService.setOptions(this.parent.getContent().querySelector('.' + literals.content), { busy: false, invalid: true });\n        this.setRowCount(1);\n        this.parent.trigger(events.actionFailure, { error: e });\n        this.parent.hideSpinner();\n        if (args.requestType === 'save' || args.requestType === 'delete'\n            || args.name === 'bulk-save') {\n            return;\n        }\n        this.parent.currentViewData = [];\n        this.renderEmptyRow();\n        this.parent.log('actionfailure', { error: e });\n    };\n    Render.prototype.setRowCount = function (dataRowCount) {\n        this.ariaService.setOptions(this.parent.getHeaderTable(), {\n            rowcount: dataRowCount ? dataRowCount.toString() : '1'\n        });\n    };\n    Render.prototype.isInfiniteEnd = function (args) {\n        return this.parent.enableInfiniteScrolling && !this.parent.infiniteScrollSettings.enableCache && args.requestType === 'delete';\n    };\n    Render.prototype.updatesOnInitialRender = function (e) {\n        this.isLayoutRendered = true;\n        if (this.parent.columns.length < 1) {\n            this.buildColumns(e.result[0]);\n        }\n        prepareColumns(this.parent.columns, null, this.parent);\n        this.headerRenderer.renderTable();\n        this.contentRenderer.renderTable();\n        this.parent.isAutoGen = true;\n        this.parent.notify(events.autoCol, {});\n    };\n    Render.prototype.iterateComplexColumns = function (obj, field, split) {\n        var keys = Object.keys(obj);\n        for (var i = 0; i < keys.length; i++) {\n            var childKeys = typeof obj[keys[i]] === 'object' && obj[keys[i]] && !(obj[keys[i]] instanceof Date) ?\n                Object.keys(obj[keys[i]]) : [];\n            if (childKeys.length) {\n                this.iterateComplexColumns(obj[keys[i]], field + (keys[i] + '.'), split);\n            }\n            else {\n                split[this.counter] = field + keys[i];\n                this.counter++;\n            }\n        }\n    };\n    Render.prototype.buildColumns = function (record) {\n        var cols = [];\n        var complexCols = {};\n        this.iterateComplexColumns(record, '', complexCols);\n        var columns = Object.keys(complexCols).filter(function (e) { return complexCols[e] !== 'BlazId'; }).\n            map(function (field) { return complexCols[field]; });\n        for (var i = 0, len = columns.length; i < len; i++) {\n            cols[i] = { 'field': columns[i] };\n            if (this.parent.enableColumnVirtualization) {\n                cols[i].width = !isNullOrUndefined(cols[i].width) ? cols[i].width : 200;\n            }\n        }\n        this.parent.setProperties({ 'columns': cols }, true);\n    };\n    Render.prototype.instantiateRenderer = function () {\n        this.renderer.addRenderer(RenderType.Header, new HeaderRender(this.parent, this.locator));\n        this.renderer.addRenderer(RenderType.Content, new ContentRender(this.parent, this.locator));\n        var cellrender = this.locator.getService('cellRendererFactory');\n        cellrender.addCellRenderer(CellType.Header, new HeaderCellRenderer(this.parent, this.locator));\n        cellrender.addCellRenderer(CellType.Data, new CellRenderer(this.parent, this.locator));\n        cellrender.addCellRenderer(CellType.StackedHeader, new StackedHeaderCellRenderer(this.parent, this.locator));\n        cellrender.addCellRenderer(CellType.Indent, new IndentCellRenderer(this.parent, this.locator));\n        cellrender.addCellRenderer(CellType.GroupCaption, new GroupCaptionCellRenderer(this.parent, this.locator));\n        cellrender.addCellRenderer(CellType.GroupCaptionEmpty, new GroupCaptionEmptyCellRenderer(this.parent, this.locator));\n        cellrender.addCellRenderer(CellType.Expand, new ExpandCellRenderer(this.parent, this.locator));\n        cellrender.addCellRenderer(CellType.HeaderIndent, new HeaderIndentCellRenderer(this.parent, this.locator));\n        cellrender.addCellRenderer(CellType.StackedHeader, new StackedHeaderCellRenderer(this.parent, this.locator));\n        cellrender.addCellRenderer(CellType.DetailHeader, new DetailHeaderIndentCellRenderer(this.parent, this.locator));\n        cellrender.addCellRenderer(CellType.RowDragHIcon, new RowDragDropHeaderRenderer(this.parent, this.locator));\n        cellrender.addCellRenderer(CellType.DetailExpand, new DetailExpandCellRenderer(this.parent, this.locator));\n        cellrender.addCellRenderer(CellType.DetailFooterIntent, new IndentCellRenderer(this.parent, this.locator));\n        cellrender.addCellRenderer(CellType.RowDragIcon, new RowDragDropRenderer(this.parent, this.locator));\n    };\n    Render.prototype.addEventListener = function () {\n        var _this = this;\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.on(events.initialLoad, this.instantiateRenderer, this);\n        this.parent.on('refreshdataSource', this.dataManagerSuccess, this);\n        this.parent.on(events.modelChanged, this.refresh, this);\n        this.parent.on(events.refreshComplete, this.refreshComplete, this);\n        this.parent.on(events.bulkSave, this.sendBulkRequest, this);\n        this.parent.on(events.showEmptyGrid, function () { _this.emptyGrid = true; }, this);\n        this.parent.on(events.autoCol, this.dynamicColumnChange, this);\n    };\n    /**\n     * @param {ReturnType} e - specifies the Return type\n     * @returns {Promise<Object>} returns the object\n     * @hidden\n     */\n    Render.prototype.validateGroupRecords = function (e) {\n        var _this = this;\n        var index = e.result.length - 1;\n        if (index < 0) {\n            return Promise.resolve(e);\n        }\n        var group0 = e.result[0];\n        var groupN = e.result[index];\n        var predicate = [];\n        var addWhere = function (input) {\n            var groups = [group0, groupN];\n            for (var i = 0; i < groups.length; i++) {\n                predicate.push(new Predicate('field', '==', groups[i].field).and(_this.getPredicate('key', 'equal', groups[i].key)));\n            }\n            input.where(Predicate.or(predicate));\n        };\n        var query = new Query();\n        addWhere(query);\n        var curDm = new DataManager(e.result);\n        var curFilter = curDm.executeLocal(query);\n        var newQuery = this.data.generateQuery(true);\n        var rPredicate = [];\n        if (this.data.isRemote()) {\n            var groups = [group0, groupN];\n            for (var i = 0; i < groups.length; i++) {\n                rPredicate.push(this.getPredicate(groups[i].field, 'equal', groups[i].key));\n            }\n            newQuery.where(Predicate.or(rPredicate));\n        }\n        else {\n            addWhere(newQuery);\n        }\n        var deferred = new Deferred();\n        this.data.getData({}, newQuery).then(function (r) {\n            _this.updateGroupInfo(curFilter, r.result);\n            deferred.resolve(e);\n        }).catch(function (e) { return deferred.reject(e); });\n        return deferred.promise;\n    };\n    Render.prototype.getPredicate = function (key, operator, value) {\n        if (value instanceof Date) {\n            return getDatePredicate({ field: key, operator: operator, value: value });\n        }\n        return new Predicate(key, operator, value);\n    };\n    Render.prototype.updateGroupInfo = function (current, untouched) {\n        var dm = new DataManager(untouched);\n        var elements = current;\n        for (var i = 0; i < elements.length; i++) {\n            var uGroup = dm.executeLocal(new Query()\n                .where(new Predicate('field', '==', elements[i].field).and(this.getPredicate('key', 'equal', elements[i].key))))[0];\n            elements[i].count = uGroup.count;\n            var itemGroup = elements[i].items;\n            var uGroupItem = uGroup.items;\n            if (itemGroup.GroupGuid) {\n                elements[i].items = this.updateGroupInfo(elements[i].items, uGroup.items);\n            }\n            var rows = this.parent.aggregates;\n            for (var j = 0; j < rows.length; j++) {\n                var row = rows[j];\n                for (var k = 0; k < row.columns.length; k++) {\n                    var types = row.columns[k].type instanceof Array ? (row.columns[k].type) :\n                        [(row.columns[k].type)];\n                    for (var l = 0; l < types.length; l++) {\n                        var key = row.columns[k].field + ' - ' + types[l].toLowerCase();\n                        var data = itemGroup.level ? uGroupItem.records : uGroup.items;\n                        var context = this.parent;\n                        if (types[l] === 'Custom') {\n                            var data_1 = itemGroup.level ? uGroupItem : uGroup;\n                            var temp = row.columns[k].customAggregate;\n                            if (typeof temp === 'string') {\n                                temp = getValue(temp, window);\n                            }\n                            elements[i].aggregates[key] = temp ? temp.call(context, data_1, row.columns[k]) : '';\n                        }\n                        else {\n                            // eslint-disable-next-line max-len\n                            elements[i].aggregates[key] = DataUtil.aggregates[types[l].toLowerCase()](data, row.columns[k].field);\n                        }\n                    }\n                }\n            }\n        }\n        return current;\n    };\n    return Render;\n}());\nexport { Render };\n","import { isNullOrUndefined, getEnumValue } from '@syncfusion/ej2-base';\nimport { CellType } from '../base/enum';\n/**\n * CellRendererFactory\n *\n * @hidden\n */\nvar CellRendererFactory = /** @class */ (function () {\n    function CellRendererFactory() {\n        this.cellRenderMap = {};\n    }\n    CellRendererFactory.prototype.addCellRenderer = function (name, type) {\n        name = typeof name === 'string' ? name : getEnumValue(CellType, name);\n        if (isNullOrUndefined(this.cellRenderMap[name])) {\n            this.cellRenderMap[name] = type;\n        }\n    };\n    CellRendererFactory.prototype.getCellRenderer = function (name) {\n        name = typeof name === 'string' ? name : getEnumValue(CellType, name);\n        if (isNullOrUndefined(this.cellRenderMap[name])) {\n            // eslint-disable-next-line no-throw-literal\n            throw \"The cellRenderer \" + name + \" is not found\";\n        }\n        else {\n            return this.cellRenderMap[name];\n        }\n    };\n    return CellRendererFactory;\n}());\nexport { CellRendererFactory };\n","import { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { ResponsiveDialogRenderer } from '../renderer/responsive-dialog-renderer';\n/**\n * ServiceLocator\n *\n * @hidden\n */\nvar ServiceLocator = /** @class */ (function () {\n    function ServiceLocator() {\n        this.services = {};\n    }\n    ServiceLocator.prototype.register = function (name, type) {\n        if (isNullOrUndefined(this.services[name])) {\n            this.services[name] = type;\n        }\n    };\n    ServiceLocator.prototype.getService = function (name) {\n        if (isNullOrUndefined(this.services[name])) {\n            // eslint-disable-next-line no-throw-literal\n            throw \"The service \" + name + \" is not registered\";\n        }\n        return this.services[name];\n    };\n    ServiceLocator.prototype.registerAdaptiveService = function (type, isAdaptiveUI, action) {\n        if (isAdaptiveUI) {\n            type.responsiveDialogRenderer = new ResponsiveDialogRenderer(type.parent, type.serviceLocator);\n            type.responsiveDialogRenderer.action = action;\n        }\n        else {\n            if (type.responsiveDialogRenderer) {\n                type.responsiveDialogRenderer.removeEventListener();\n                type.responsiveDialogRenderer = undefined;\n            }\n        }\n    };\n    return ServiceLocator;\n}());\nexport { ServiceLocator };\n","import { isNullOrUndefined, getEnumValue } from '@syncfusion/ej2-base';\nimport { RenderType } from '../base/enum';\n/**\n * RendererFactory\n *\n * @hidden\n */\nvar RendererFactory = /** @class */ (function () {\n    function RendererFactory() {\n        this.rendererMap = {};\n    }\n    RendererFactory.prototype.addRenderer = function (name, type) {\n        var rName = getEnumValue(RenderType, name);\n        if (isNullOrUndefined(this.rendererMap[rName])) {\n            this.rendererMap[rName] = type;\n        }\n    };\n    RendererFactory.prototype.getRenderer = function (name) {\n        var rName = getEnumValue(RenderType, name);\n        if (isNullOrUndefined(this.rendererMap[rName])) {\n            // eslint-disable-next-line no-throw-literal\n            throw \"The renderer \" + rName + \" is not found\";\n        }\n        else {\n            return this.rendererMap[rName];\n        }\n    };\n    return RendererFactory;\n}());\nexport { RendererFactory };\n","import { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { formatUnit } from '@syncfusion/ej2-base';\nimport { columnWidthChanged, preventFrozenScrollRefresh } from '../base/constant';\nimport { Column } from '../models/column';\nimport { parentsUntil, ispercentageWidth, getScrollBarWidth } from '../base/util';\nimport * as literals from '../base/string-literals';\n/**\n * ColumnWidthService\n *\n * @hidden\n */\nvar ColumnWidthService = /** @class */ (function () {\n    function ColumnWidthService(parent) {\n        this.parent = parent;\n    }\n    ColumnWidthService.prototype.setWidthToColumns = function () {\n        var i = 0;\n        var indexes = this.parent.getColumnIndexesInView();\n        var wFlag = true;\n        var totalColumnsWidth = 0;\n        if (this.parent.allowGrouping) {\n            for (var len = this.parent.groupSettings.columns.length; i < len; i++) {\n                if (this.parent.enableColumnVirtualization && indexes.indexOf(i) === -1) {\n                    wFlag = false;\n                    continue;\n                }\n                this.setColumnWidth(new Column({ width: '30px' }), i);\n            }\n        }\n        if (this.parent.detailTemplate || this.parent.childGrid) {\n            this.setColumnWidth(new Column({ width: '30px' }), i);\n            i++;\n        }\n        if (this.parent.isRowDragable() && this.parent.getFrozenMode() !== 'Right') {\n            this.setColumnWidth(new Column({ width: '30px' }), i);\n            i++;\n        }\n        var columns = this.parent.getColumns();\n        for (var j = 0; j < columns.length; j++) {\n            this.setColumnWidth(columns[j], wFlag && this.parent.enableColumnVirtualization ? undefined : j + i);\n        }\n        if (this.parent.isRowDragable() && this.parent.getFrozenMode() === 'Right') {\n            this.setColumnWidth(new Column({ width: '30px' }), columns.length);\n        }\n        totalColumnsWidth = this.getTableWidth(this.parent.getColumns());\n        if (this.parent.width !== 'auto' && this.parent.width.toString().indexOf('%') === -1) {\n            this.setMinwidthBycalculation(totalColumnsWidth);\n        }\n    };\n    ColumnWidthService.prototype.setMinwidthBycalculation = function (tWidth) {\n        var difference = 0;\n        var collection = this.parent.getColumns().filter(function (a) {\n            return isNullOrUndefined(a.width) || a.width === 'auto';\n        });\n        if (collection.length) {\n            if (!isNullOrUndefined(this.parent.width) && this.parent.width !== 'auto' &&\n                typeof (this.parent.width) === 'string' && this.parent.width.indexOf('%') === -1) {\n                difference = (typeof this.parent.width === 'string' ? parseInt(this.parent.width, 10) : this.parent.width) - tWidth;\n            }\n            else {\n                difference = this.parent.element.getBoundingClientRect().width - tWidth;\n            }\n            var tmWidth = 0;\n            for (var _i = 0, collection_1 = collection; _i < collection_1.length; _i++) {\n                var cols = collection_1[_i];\n                tmWidth += !isNullOrUndefined(cols.minWidth) ?\n                    ((typeof cols.minWidth === 'string' ? parseInt(cols.minWidth, 10) : cols.minWidth)) : 0;\n            }\n            for (var i = 0; i < collection.length; i++) {\n                if (tWidth === 0 && this.parent.allowResizing && this.isWidthUndefined() && (i !== collection.length - 1)) {\n                    this.setUndefinedColumnWidth(collection);\n                }\n                var index = this.parent.getColumnIndexByField(collection[i].field) + this.parent.getIndentCount();\n                if (tWidth !== 0 && difference < tmWidth) {\n                    this.setWidth(collection[i].minWidth, index);\n                }\n                else if (tWidth !== 0 && difference > tmWidth) {\n                    this.setWidth('', index, true);\n                }\n            }\n        }\n    };\n    ColumnWidthService.prototype.setUndefinedColumnWidth = function (collection) {\n        for (var k = 0; k < collection.length; k++) {\n            if (k !== collection.length - 1) {\n                collection[k].width = 200;\n                this.setWidth(200, this.parent.getColumnIndexByField(collection[k].field));\n            }\n        }\n    };\n    ColumnWidthService.prototype.setColumnWidth = function (column, index, module) {\n        if (this.parent.getColumns().length < 1) {\n            return;\n        }\n        var columnIndex = isNullOrUndefined(index) ? this.parent.getNormalizedColumnIndex(column.uid) : index;\n        var cWidth = this.getWidth(column);\n        var tgridWidth = this.getTableWidth(this.parent.getColumns());\n        if (cWidth !== null) {\n            this.setWidth(cWidth, columnIndex);\n            if (this.parent.width !== 'auto' && this.parent.width.toString().indexOf('%') === -1) {\n                this.setMinwidthBycalculation(tgridWidth);\n            }\n            if ((this.parent.allowResizing && module === 'resize') || (this.parent.getFrozenColumns() && this.parent.allowResizing)) {\n                this.setWidthToTable();\n            }\n            this.parent.notify(columnWidthChanged, { index: columnIndex, width: cWidth, column: column, module: module });\n        }\n    };\n    ColumnWidthService.prototype.setWidth = function (width, index, clear) {\n        if (this.parent.groupSettings.columns.length > index && ispercentageWidth(this.parent)) {\n            var elementWidth = this.parent.element.offsetWidth;\n            width = (30 / elementWidth * 100).toFixed(1) + '%';\n        }\n        var header = this.parent.getHeaderTable();\n        var content = this.parent.getContentTable();\n        var fWidth = formatUnit(width);\n        var headerCol;\n        var frzCols = this.parent.getFrozenColumns();\n        var isDraggable = this.parent.isRowDragable();\n        frzCols = frzCols && isDraggable ? frzCols + 1 : frzCols;\n        var mHdr = this.parent.getHeaderContent().querySelector('.' + literals.movableHeader);\n        var mCont = this.parent.getContent().querySelector('.' + literals.movableContent);\n        var freezeLeft = this.parent.getFrozenLeftColumnsCount();\n        var freezeRight = this.parent.getFrozenRightColumnsCount();\n        var movableCount = this.parent.getMovableColumnsCount();\n        var isColFrozen = freezeLeft !== 0 || freezeRight !== 0;\n        if (frzCols && index >= frzCols) {\n            if (!mHdr || !mHdr.querySelector(literals.colGroup)) {\n                return;\n            }\n            headerCol = mHdr.querySelector(literals.colGroup).children[index - frzCols];\n        }\n        else if (this.parent.enableColumnVirtualization && frzCols && this.parent.contentModule.isXaxis()\n            && mHdr.scrollLeft > 0) {\n            var colGroup = mHdr.querySelector(literals.colGroup);\n            headerCol = colGroup.children[(colGroup.children.length - 1) - index];\n        }\n        else if (isColFrozen) {\n            var target = void 0;\n            if (freezeLeft && !freezeRight) {\n                index = isDraggable ? index - 1 : index;\n                target = index < freezeLeft ? header : mHdr;\n            }\n            else if (!freezeLeft && freezeRight) {\n                target = index >= movableCount ? header : mHdr;\n            }\n            else if (freezeLeft && freezeRight) {\n                index = isDraggable ? index - 1 : index;\n                var frHdr = this.parent.getFrozenRightHeader();\n                target = index < freezeLeft ? header : index < (freezeLeft + movableCount) ? mHdr : frHdr;\n            }\n            headerCol = this.getColumnLevelFrozenColgroup(index, freezeLeft, movableCount, target);\n            if (!headerCol) {\n                return;\n            }\n        }\n        else {\n            headerCol = header.querySelector(literals.colGroup).children[index];\n        }\n        if (headerCol && !clear) {\n            headerCol.style.width = fWidth;\n        }\n        else if (headerCol && clear) {\n            headerCol.style.width = '';\n        }\n        var contentCol;\n        if (frzCols && index >= frzCols) {\n            contentCol = this.parent.getContent().querySelector('.' + literals.movableContent)\n                .querySelector(literals.colGroup).children[index - frzCols];\n        }\n        else if (this.parent.enableColumnVirtualization && frzCols && this.parent.contentModule.isXaxis()\n            && mCont.scrollLeft > 0) {\n            var colGroup = this.parent.getContent().querySelector('.' + literals.movableContent)\n                .querySelector(literals.colGroup);\n            contentCol = colGroup.children[(colGroup.children.length - 1) - index];\n        }\n        else if (isColFrozen) {\n            var target = void 0;\n            if (freezeLeft && !freezeRight) {\n                target = index < freezeLeft ? content : mCont;\n            }\n            if (!freezeLeft && freezeRight) {\n                target = index >= movableCount ? content : mCont;\n            }\n            if (freezeLeft && freezeRight) {\n                var frCont = this.parent.getContent().querySelector('.e-frozen-right-content');\n                target = index < freezeLeft ? content : index < (freezeLeft + movableCount) ? mCont : frCont;\n            }\n            contentCol = this.getColumnLevelFrozenColgroup(index, freezeLeft, movableCount, target);\n        }\n        else {\n            contentCol = content.querySelector(literals.colGroup).children[index];\n        }\n        if (contentCol && !clear) {\n            contentCol.style.width = fWidth;\n        }\n        else if (contentCol && clear) {\n            contentCol.style.width = '';\n        }\n        if (!this.parent.enableColumnVirtualization) {\n            var edit = this.parent.element.querySelectorAll('.e-table.e-inline-edit');\n            var editTableCol = [];\n            for (var i = 0; i < edit.length; i++) {\n                if (parentsUntil(edit[i], 'e-grid').id === this.parent.element.id) {\n                    for (var j = 0; j < edit[i].querySelector('colgroup').children.length; j++) {\n                        editTableCol.push(edit[i].querySelector('colgroup').children[j]);\n                    }\n                }\n            }\n            if (edit.length && editTableCol.length) {\n                editTableCol[index].style.width = fWidth;\n            }\n        }\n        if (this.parent.isFrozenGrid()) {\n            this.refreshFrozenScrollbar();\n        }\n    };\n    ColumnWidthService.prototype.getColumnLevelFrozenColgroup = function (index, left, movable, ele) {\n        if (!ele || !ele.querySelector(literals.colGroup)) {\n            return null;\n        }\n        var columns = this.parent.getColumns();\n        var isDrag = this.parent.isRowDragable();\n        var frzMode = this.parent.getFrozenMode();\n        var headerCol;\n        var colGroup = [].slice.call(ele.querySelector(literals.colGroup).children);\n        if (frzMode === 'Right' && isDrag && index === (movable + this.parent.getFrozenRightColumnsCount())) {\n            headerCol = colGroup[colGroup.length - 1];\n        }\n        else if (isDrag && index === -1) {\n            headerCol = colGroup[0];\n        }\n        else if (columns[index].freeze === 'Left') {\n            headerCol = colGroup[isDrag ? (index + 1) : index];\n        }\n        else if (columns[index].freeze === 'Right') {\n            headerCol = colGroup[index - (left + movable)];\n        }\n        else {\n            headerCol = colGroup[index - left];\n        }\n        return headerCol;\n    };\n    /**\n     * @returns {void}\n     * @hidden\n     */\n    ColumnWidthService.prototype.refreshFrozenScrollbar = function () {\n        var args = { cancel: false };\n        this.parent.notify(preventFrozenScrollRefresh, args);\n        if (args.cancel) {\n            return;\n        }\n        var scrollWidth = getScrollBarWidth();\n        var frozenScrollbar = this.parent.element.querySelector('.e-frozenscrollbar');\n        var movableScrollbar = this.parent.element.querySelector('.e-movablescrollbar');\n        var frozencontent = this.parent.getContent().querySelector('.' + literals.frozenContent);\n        var movableContent = this.parent.getContent().querySelector('.' + literals.movableContent);\n        var frozenWidth = frozencontent.firstElementChild.getBoundingClientRect().width;\n        var movableWidth = movableContent.firstElementChild.getBoundingClientRect().width;\n        if (this.parent.getFrozenMode() === 'Right') {\n            frozenWidth = frozenWidth + scrollWidth;\n        }\n        frozenScrollbar.style.width = frozenWidth + 'px';\n        if (this.parent.getFrozenMode() === literals.leftRight) {\n            var frozenRightScrollbar = this.parent.element.querySelector('.e-frozen-right-scrollbar');\n            var frozenRightWidth = this.parent.getContent().querySelector('.e-frozen-right-content')\n                .firstElementChild.getBoundingClientRect().width;\n            if (this.parent.height !== 'auto') {\n                frozenRightWidth = frozenRightWidth + scrollWidth;\n            }\n            frozenRightScrollbar.style.width = frozenRightWidth + 'px';\n        }\n        else {\n            if (this.parent.enableColumnVirtualization) {\n                var placeHolder = this.parent.getMovableVirtualContent().querySelector('.e-virtualtrack');\n                if (placeHolder) {\n                    movableWidth = placeHolder.scrollWidth;\n                }\n            }\n            if (this.parent.getFrozenMode() !== 'Right' && this.parent.height !== 'auto') {\n                movableWidth = movableWidth + scrollWidth;\n            }\n        }\n        movableScrollbar.firstElementChild.style.width = movableWidth + 'px';\n    };\n    ColumnWidthService.prototype.getSiblingsHeight = function (element) {\n        var previous = this.getHeightFromDirection(element, 'previous');\n        var next = this.getHeightFromDirection(element, 'next');\n        return previous + next;\n    };\n    ColumnWidthService.prototype.getHeightFromDirection = function (element, direction) {\n        var sibling = element[direction + 'ElementSibling'];\n        var result = 0;\n        var classList = [literals.gridHeader, literals.gridFooter, 'e-groupdroparea', 'e-gridpager', 'e-toolbar'];\n        while (sibling) {\n            if (classList.some(function (value) { return sibling.classList.contains(value); })) {\n                result += sibling.offsetHeight;\n            }\n            sibling = sibling[direction + 'ElementSibling'];\n        }\n        return result;\n    };\n    ColumnWidthService.prototype.isWidthUndefined = function () {\n        var isWidUndefCount = this.parent.getColumns().filter(function (col) {\n            return isNullOrUndefined(col.width) && isNullOrUndefined(col.minWidth);\n        }).length;\n        return (this.parent.getColumns().length === isWidUndefCount);\n    };\n    ColumnWidthService.prototype.getWidth = function (column) {\n        if (isNullOrUndefined(column.width) && this.parent.allowResizing\n            && isNullOrUndefined(column.minWidth) && !this.isWidthUndefined()) {\n            column.width = 200;\n        }\n        if (this.parent.isFrozenGrid() && isNullOrUndefined(column.width) &&\n            (column.getFreezeTableName() === literals.frozenLeft || column.getFreezeTableName() === literals.frozenRight)) {\n            column.width = 200;\n        }\n        if (!column.width) {\n            return null;\n        }\n        var width = parseInt(column.width.toString(), 10);\n        if (column.minWidth && width < parseInt(column.minWidth.toString(), 10)) {\n            return column.minWidth;\n        }\n        else if ((column.maxWidth && width > parseInt(column.maxWidth.toString(), 10))) {\n            return column.maxWidth;\n        }\n        else {\n            return column.width;\n        }\n    };\n    ColumnWidthService.prototype.getTableWidth = function (columns) {\n        var tWidth = 0;\n        for (var _i = 0, columns_1 = columns; _i < columns_1.length; _i++) {\n            var column = columns_1[_i];\n            var cWidth = this.getWidth(column);\n            if (column.width === 'auto') {\n                cWidth = 0;\n            }\n            if (column.visible !== false && cWidth !== null) {\n                tWidth += parseInt(cWidth.toString(), 10);\n            }\n        }\n        return tWidth;\n    };\n    ColumnWidthService.prototype.calcMovableOrFreezeColWidth = function (tableType) {\n        var columns = this.parent.getColumns().slice();\n        var left = this.parent.getFrozenLeftColumnsCount() || this.parent.getFrozenColumns();\n        var movable = this.parent.getMovableColumnsCount();\n        var right = this.parent.getFrozenRightColumnsCount();\n        if (tableType === 'movable') {\n            if (right) {\n                columns.splice(left + movable, columns.length);\n            }\n            if (left) {\n                columns.splice(0, left);\n            }\n        }\n        else if (tableType === 'freeze-left') {\n            columns.splice(left, columns.length);\n        }\n        else if (tableType === 'freeze-right') {\n            columns.splice(0, left + movable);\n        }\n        return formatUnit(this.getTableWidth(columns));\n    };\n    ColumnWidthService.prototype.setWidthToFrozenRightTable = function () {\n        var freezeWidth = this.calcMovableOrFreezeColWidth('freeze-right');\n        freezeWidth = this.isAutoResize() ? '100%' : freezeWidth;\n        var headerTbl = this.parent.getHeaderContent().querySelector('.e-frozen-right-header').querySelector('.' + literals.table);\n        var cntTbl = this.parent.getContent().querySelector('.e-frozen-right-content').querySelector('.' + literals.table);\n        headerTbl.style.width = freezeWidth;\n        cntTbl.style.width = freezeWidth;\n    };\n    ColumnWidthService.prototype.setWidthToFrozenLeftTable = function () {\n        var freezeWidth = this.calcMovableOrFreezeColWidth('freeze-left');\n        freezeWidth = this.isAutoResize() ? '100%' : freezeWidth;\n        this.parent.getHeaderTable().style.width = freezeWidth;\n        this.parent.getContentTable().style.width = freezeWidth;\n    };\n    ColumnWidthService.prototype.setWidthToMovableTable = function () {\n        var movableWidth = '';\n        var isColUndefined = this.parent.getColumns().filter(function (a) { return isNullOrUndefined(a.width); }).length >= 1;\n        var isWidthAuto = this.parent.getColumns().filter(function (a) { return (a.width === 'auto'); }).length >= 1;\n        if (typeof this.parent.width === 'number' && !isColUndefined && !isWidthAuto) {\n            movableWidth = formatUnit(this.parent.width - parseInt(this.calcMovableOrFreezeColWidth('freeze').split('px')[0], 10) - 5);\n        }\n        else if (!isColUndefined && !isWidthAuto) {\n            movableWidth = this.calcMovableOrFreezeColWidth('movable');\n        }\n        movableWidth = this.isAutoResize() ? '100%' : movableWidth;\n        if (this.parent.getHeaderContent().querySelector('.' + literals.movableHeader).firstElementChild) {\n            this.parent.getHeaderContent().querySelector('.' + literals.movableHeader).firstElementChild.style.width\n                = movableWidth;\n        }\n        this.parent.getContent().querySelector('.' + literals.movableContent).firstElementChild.style.width =\n            movableWidth;\n    };\n    ColumnWidthService.prototype.setWidthToFrozenEditTable = function () {\n        var freezeWidth = this.calcMovableOrFreezeColWidth('freeze');\n        freezeWidth = this.isAutoResize() ? '100%' : freezeWidth;\n        this.parent.element.querySelectorAll('.e-table.e-inline-edit')[0].style.width = freezeWidth;\n    };\n    ColumnWidthService.prototype.setWidthToMovableEditTable = function () {\n        var movableWidth = this.calcMovableOrFreezeColWidth('movable');\n        movableWidth = this.isAutoResize() ? '100%' : movableWidth;\n        this.parent.element.querySelectorAll('.e-table.e-inline-edit')[1].style.width = movableWidth;\n    };\n    ColumnWidthService.prototype.setWidthToTable = function () {\n        var tWidth = formatUnit(this.getTableWidth(this.parent.getColumns()));\n        if (this.parent.isFrozenGrid()) {\n            if (this.parent.getFrozenColumns() || this.parent.getFrozenLeftColumnsCount()) {\n                this.setWidthToFrozenLeftTable();\n            }\n            this.setWidthToMovableTable();\n            if (this.parent.getFrozenRightColumnsCount()) {\n                this.setWidthToFrozenRightTable();\n            }\n        }\n        else {\n            if (this.parent.detailTemplate || this.parent.childGrid) {\n                this.setColumnWidth(new Column({ width: '30px' }));\n            }\n            tWidth = this.isAutoResize() ? '100%' : tWidth;\n            this.parent.getHeaderTable().style.width = tWidth;\n            this.parent.getContentTable().style.width = tWidth;\n        }\n        var edit = this.parent.element.querySelector('.e-table.e-inline-edit');\n        if (edit && this.parent.getFrozenColumns()) {\n            this.setWidthToFrozenEditTable();\n            this.setWidthToMovableEditTable();\n        }\n        else if (edit) {\n            edit.style.width = tWidth;\n        }\n    };\n    ColumnWidthService.prototype.isAutoResize = function () {\n        return this.parent.allowResizing && this.parent.resizeSettings.mode === 'Auto';\n    };\n    return ColumnWidthService;\n}());\nexport { ColumnWidthService };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Configures the paging behavior of the Grid.\n */\nvar PageSettings = /** @class */ (function (_super) {\n    __extends(PageSettings, _super);\n    function PageSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(12)\n    ], PageSettings.prototype, \"pageSize\", void 0);\n    __decorate([\n        Property(8)\n    ], PageSettings.prototype, \"pageCount\", void 0);\n    __decorate([\n        Property(1)\n    ], PageSettings.prototype, \"currentPage\", void 0);\n    __decorate([\n        Property()\n    ], PageSettings.prototype, \"totalRecordsCount\", void 0);\n    __decorate([\n        Property(false)\n    ], PageSettings.prototype, \"enableQueryString\", void 0);\n    __decorate([\n        Property(false)\n    ], PageSettings.prototype, \"pageSizes\", void 0);\n    __decorate([\n        Property(null)\n    ], PageSettings.prototype, \"template\", void 0);\n    return PageSettings;\n}(ChildProperty));\nexport { PageSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Configures the column chooser behavior of the Grid.\n */\nvar ColumnChooserSettings = /** @class */ (function (_super) {\n    __extends(ColumnChooserSettings, _super);\n    function ColumnChooserSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('startsWith')\n    ], ColumnChooserSettings.prototype, \"operator\", void 0);\n    __decorate([\n        Property(false)\n    ], ColumnChooserSettings.prototype, \"ignoreAccent\", void 0);\n    return ColumnChooserSettings;\n}(ChildProperty));\nexport { ColumnChooserSettings };\n","import { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { iterateArrayOrObject, isGroupAdaptive } from '../base/util';\nimport * as events from '../base/constant';\n/**\n * The `ShowHide` module is used to control column visibility.\n */\nvar ShowHide = /** @class */ (function () {\n    /**\n     * Constructor for the show hide module.\n     *\n     * @param {IGrid} parent - specifies the IGrid\n     * @hidden\n     */\n    function ShowHide(parent) {\n        this.parent = parent;\n    }\n    /**\n     * Shows a column by column name.\n     *\n     * @param  {string|string[]} columnName - Defines a single or collection of column names to show.\n     * @param  {string} showBy - Defines the column key either as field name or header text.\n     * @returns {void}\n     */\n    ShowHide.prototype.show = function (columnName, showBy) {\n        var keys = this.getToggleFields(columnName);\n        var columns = this.getColumns(keys, showBy);\n        this.parent.notify(events.tooltipDestroy, { module: 'edit' });\n        for (var i = 0; i < columns.length; i++) {\n            columns[i].visible = true;\n        }\n        this.setVisible(columns);\n    };\n    /**\n     * Hides a column by column name.\n     *\n     * @param  {string|string[]} columnName - Defines a single or collection of column names to hide.\n     * @param  {string} hideBy - Defines the column key either as field name or header text.\n     * @returns {void}\n     */\n    ShowHide.prototype.hide = function (columnName, hideBy) {\n        var keys = this.getToggleFields(columnName);\n        var columns = this.getColumns(keys, hideBy);\n        this.parent.notify(events.tooltipDestroy, { module: 'edit' });\n        for (var i = 0; i < columns.length; i++) {\n            columns[i].visible = false;\n        }\n        this.setVisible(columns);\n    };\n    ShowHide.prototype.getToggleFields = function (key) {\n        var finalized = [];\n        if (typeof key === 'string') {\n            finalized = [key];\n        }\n        else {\n            finalized = key;\n        }\n        return finalized;\n    };\n    ShowHide.prototype.getColumns = function (keys, getKeyBy) {\n        var _this = this;\n        var columns = iterateArrayOrObject(keys, function (key) {\n            return iterateArrayOrObject(_this.parent.columnModel, function (item) {\n                if (item[getKeyBy] === key) {\n                    return item;\n                }\n                return undefined;\n            })[0];\n        });\n        return columns;\n    };\n    /**\n     * Shows or hides columns by given column collection.\n     *\n     * @private\n     * @param {Column[]} columns - Specifies the columns.\n     * @param {Column[]} changedStateColumns - specifies the changedStateColumns\n     * @returns {void}\n     */\n    ShowHide.prototype.setVisible = function (columns, changedStateColumns) {\n        var _this = this;\n        if (changedStateColumns === void 0) { changedStateColumns = []; }\n        changedStateColumns = (changedStateColumns.length > 0) ? changedStateColumns : columns;\n        var args = {\n            requestType: 'columnstate',\n            cancel: false,\n            columns: changedStateColumns\n        };\n        var cancel = 'cancel';\n        this.parent.trigger(events.actionBegin, args, function (showHideArgs) {\n            var currentViewCols = _this.parent.getColumns();\n            columns = isNullOrUndefined(columns) ? currentViewCols : columns;\n            if (showHideArgs[cancel]) {\n                _this.parent.notify(events.resetColumns, { showHideArgs: showHideArgs });\n                if (columns.length > 0) {\n                    columns[0].visible = true;\n                }\n                return;\n            }\n            if (isGroupAdaptive(_this.parent)) {\n                _this.parent.contentModule.emptyVcRows();\n            }\n            if (_this.parent.allowSelection && _this.parent.getSelectedRecords().length &&\n                !_this.parent.selectionSettings.persistSelection) {\n                _this.parent.clearSelection();\n            }\n            if (_this.parent.enableColumnVirtualization) {\n                var colsInCurrentView = columns.filter(function (col1) { return (currentViewCols.some(function (col2) { return col1.field === col2.field; })); });\n                if (colsInCurrentView.length) {\n                    _this.parent.notify(events.columnVisibilityChanged, columns);\n                }\n            }\n            else {\n                _this.parent.notify(events.columnVisibilityChanged, columns);\n            }\n            var params = {\n                requestType: 'columnstate',\n                columns: changedStateColumns\n            };\n            _this.parent.trigger(events.actionComplete, params);\n            if (_this.parent.columnQueryMode !== 'All') {\n                _this.parent.refresh();\n            }\n        });\n    };\n    return ShowHide;\n}());\nexport { ShowHide };\n","import { Browser, EventHandler } from '@syncfusion/ej2-base';\nimport { addClass, removeClass } from '@syncfusion/ej2-base';\nimport { formatUnit, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { getScrollBarWidth, getUpdateUsingRaf } from '../base/util';\nimport { scroll, contentReady, uiUpdate, onEmpty, headerRefreshed, textWrapRefresh, virtualScrollEdit, infiniteScrollHandler, closeFilterDialog } from '../base/constant';\nimport { lazyLoadScrollHandler, checkScrollReset } from '../base/constant';\nimport { ColumnWidthService } from '../services/width-controller';\nimport * as literals from '../base/string-literals';\nimport * as events from '../base/constant';\n/**\n * The `Scroll` module is used to handle scrolling behaviour.\n */\nvar Scroll = /** @class */ (function () {\n    /**\n     * Constructor for the Grid scrolling.\n     *\n     * @param {IGrid} parent - specifies the IGrid\n     * @hidden\n     */\n    function Scroll(parent) {\n        //To maintain scroll state on grid actions.\n        this.previousValues = { top: 0, left: 0 };\n        this.oneTimeReady = true;\n        this.parent = parent;\n        this.widthService = new ColumnWidthService(parent);\n        this.addEventListener();\n    }\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} returns the module name\n     * @private\n     */\n    Scroll.prototype.getModuleName = function () {\n        return 'scroll';\n    };\n    /**\n     * @param {boolean} uiupdate - specifies the uiupdate\n     * @returns {void}\n     * @hidden\n     */\n    Scroll.prototype.setWidth = function (uiupdate) {\n        this.parent.element.style.width = formatUnit(this.parent.width);\n        if (uiupdate) {\n            this.widthService.setWidthToColumns();\n        }\n        if (this.parent.toolbarModule && this.parent.toolbarModule.toolbar &&\n            this.parent.toolbarModule.toolbar.element) {\n            this.parent.toolbarModule.toolbar.refreshOverflow();\n        }\n    };\n    /**\n     * @returns {void}\n     * @hidden\n     */\n    Scroll.prototype.setHeight = function () {\n        var mHdrHeight = 0;\n        var content = this.parent.getContent().querySelector('.' + literals.content);\n        var height = this.parent.height;\n        if (this.parent.isFrozenGrid() && this.parent.height !== 'auto' && this.parent.height.toString().indexOf('%') < 0) {\n            height = parseInt(height, 10) - Scroll.getScrollBarWidth();\n        }\n        if (!this.parent.enableVirtualization && this.parent.frozenRows && this.parent.height !== 'auto') {\n            var tbody = this.parent.getHeaderContent().querySelector(literals.tbody);\n            mHdrHeight = tbody ? tbody.offsetHeight : 0;\n            if (tbody && mHdrHeight) {\n                var add = tbody.getElementsByClassName(literals.addedRow).length;\n                var height_1 = add * this.parent.getRowHeight();\n                mHdrHeight -= height_1;\n            }\n            content.style.height = formatUnit(height - mHdrHeight);\n        }\n        else {\n            content.style.height = formatUnit(height);\n        }\n        this.ensureOverflow(content);\n        if (this.parent.isFrozenGrid()) {\n            this.refresh();\n        }\n    };\n    /**\n     * @returns {void}\n     * @hidden\n     */\n    Scroll.prototype.setPadding = function () {\n        var content = this.parent.getHeaderContent();\n        var scrollWidth = Scroll.getScrollBarWidth() - this.getThreshold();\n        var cssProps = this.getCssProperties();\n        var padding = this.parent.getFrozenMode() === 'Right' || this.parent.getFrozenMode() === literals.leftRight ? '0.5px' : '1px';\n        content.querySelector('.' + literals.headerContent).style[cssProps.border] = scrollWidth > 0 ? padding : '0px';\n        content.style[cssProps.padding] = scrollWidth > 0 ? scrollWidth + 'px' : '0px';\n    };\n    /**\n     * @param {boolean} rtl - specifies the rtl\n     * @returns {void}\n     * @hidden\n     */\n    Scroll.prototype.removePadding = function (rtl) {\n        var cssProps = this.getCssProperties(rtl);\n        var hDiv = this.parent.getHeaderContent().querySelector('.' + literals.headerContent);\n        hDiv.style[cssProps.border] = '';\n        hDiv.parentElement.style[cssProps.padding] = '';\n        var footerDiv = this.parent.getFooterContent();\n        if (footerDiv && footerDiv.classList.contains('e-footerpadding')) {\n            footerDiv.classList.remove('e-footerpadding');\n        }\n    };\n    /**\n     * Refresh makes the Grid adoptable with the height of parent container.\n     *\n     * > The [`height`](grid/#height/) must be set to 100%.\n     *\n     * @returns {void}\n     */\n    Scroll.prototype.refresh = function () {\n        if (this.parent.height !== '100%') {\n            return;\n        }\n        var content = this.parent.getContent();\n        this.parent.element.style.height = '100%';\n        var height = this.widthService.getSiblingsHeight(content);\n        content.style.height = 'calc(100% - ' + height + 'px)'; //Set the height to the  '.' + literals.gridContent;\n        if (this.parent.isFrozenGrid()) {\n            content.firstElementChild.style.height = 'calc(100% - ' + getScrollBarWidth() + 'px)';\n        }\n    };\n    Scroll.prototype.getThreshold = function () {\n        /* Some browsers places the scroller outside the content,\n         * hence the padding should be adjusted.*/\n        var appName = Browser.info.name;\n        if (appName === 'mozilla') {\n            return 0.5;\n        }\n        return 1;\n    };\n    /**\n     * @returns {void}\n     * @hidden\n     */\n    Scroll.prototype.addEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.on(onEmpty, this.wireEvents, this);\n        this.parent.on(contentReady, this.wireEvents, this);\n        this.parent.on(uiUpdate, this.onPropertyChanged, this);\n        this.parent.on(textWrapRefresh, this.wireEvents, this);\n        this.parent.on(headerRefreshed, this.setScrollLeft, this);\n    };\n    /**\n     * @returns {void}\n     * @hidden\n     */\n    Scroll.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off(onEmpty, this.wireEvents);\n        this.parent.off(contentReady, this.wireEvents);\n        this.parent.off(uiUpdate, this.onPropertyChanged);\n        this.parent.off(textWrapRefresh, this.wireEvents);\n        this.parent.off(headerRefreshed, this.setScrollLeft);\n    };\n    Scroll.prototype.setScrollLeft = function () {\n        if (this.parent.isFrozenGrid()) {\n            this.parent.headerModule.getMovableHeader().scrollLeft = this.previousValues.left;\n        }\n        else {\n            this.parent.getHeaderContent().querySelector('.' + literals.headerContent).scrollLeft = this.previousValues.left;\n        }\n    };\n    Scroll.prototype.onFrozenContentScroll = function () {\n        var _this = this;\n        return function (e) {\n            if (_this.content.querySelector(literals.tbody) === null || _this.parent.isPreventScrollEvent) {\n                return;\n            }\n            if (!isNullOrUndefined(_this.parent.infiniteScrollModule) && _this.parent.enableInfiniteScrolling) {\n                _this.parent.notify(infiniteScrollHandler, e);\n            }\n            _this.previousValues.top = e.target.scrollTop;\n        };\n    };\n    Scroll.prototype.onContentScroll = function (scrollTarget) {\n        var _this = this;\n        var element = scrollTarget;\n        var isHeader = element.classList.contains(literals.headerContent);\n        return function (e) {\n            if (_this.content.querySelector(literals.tbody) === null || _this.parent.isPreventScrollEvent) {\n                return;\n            }\n            var target = e.target;\n            var left = target.scrollLeft;\n            if (!isNullOrUndefined(_this.parent.infiniteScrollModule) && _this.parent.enableInfiniteScrolling) {\n                _this.parent.notify(infiniteScrollHandler, { target: e.target, isLeft: _this.previousValues.left !== left });\n            }\n            if (_this.parent.groupSettings.columns.length && _this.parent.groupSettings.enableLazyLoading) {\n                var isDown = _this.previousValues.top < _this.parent.getContent().firstElementChild.scrollTop;\n                _this.parent.notify(lazyLoadScrollHandler, { scrollDown: isDown });\n            }\n            _this.parent.notify(virtualScrollEdit, {});\n            var isFooter = target.classList.contains('e-summarycontent');\n            if (_this.previousValues.left === left) {\n                _this.previousValues.top = !isHeader ? _this.previousValues.top : target.scrollTop;\n                return;\n            }\n            _this.parent.notify(closeFilterDialog, e);\n            element.scrollLeft = left;\n            if (isFooter) {\n                _this.header.scrollLeft = left;\n            }\n            _this.previousValues.left = left;\n            _this.parent.notify(scroll, { left: left });\n        };\n    };\n    Scroll.prototype.onCustomScrollbarScroll = function (mCont, mHdr) {\n        var _this = this;\n        var content = mCont;\n        var header = mHdr;\n        return function (e) {\n            if (_this.content.querySelector(literals.tbody) === null) {\n                return;\n            }\n            var target = e.target;\n            var left = target.scrollLeft;\n            if (_this.previousValues.left === left) {\n                return;\n            }\n            content.scrollLeft = left;\n            header.scrollLeft = left;\n            _this.previousValues.left = left;\n            _this.parent.notify(scroll, { left: left });\n            if (_this.parent.isDestroyed) {\n                return;\n            }\n        };\n    };\n    Scroll.prototype.onTouchScroll = function (scrollTarget) {\n        var _this = this;\n        var element = scrollTarget;\n        return function (e) {\n            if (e.pointerType === 'mouse') {\n                return;\n            }\n            var isFrozen = _this.parent.isFrozenGrid();\n            var pageXY = _this.getPointXY(e);\n            var left = element.scrollLeft + (_this.pageXY.x - pageXY.x);\n            var mHdr = isFrozen ?\n                _this.parent.getHeaderContent().querySelector('.' + literals.movableHeader) :\n                _this.parent.getHeaderContent().querySelector('.' + literals.headerContent);\n            var mCont = isFrozen ?\n                _this.parent.getContent().querySelector('.' + literals.movableContent) :\n                _this.parent.getContent().querySelector('.' + literals.content);\n            if (_this.previousValues.left === left || (left < 0 || (mHdr.scrollWidth - mHdr.clientWidth) < left)) {\n                return;\n            }\n            e.preventDefault();\n            mHdr.scrollLeft = left;\n            mCont.scrollLeft = left;\n            if (isFrozen) {\n                var scrollBar = _this.parent.getContent().querySelector('.e-movablescrollbar');\n                scrollBar.scrollLeft = left;\n            }\n            _this.pageXY.x = pageXY.x;\n            _this.previousValues.left = left;\n        };\n    };\n    Scroll.prototype.setPageXY = function () {\n        var _this = this;\n        return function (e) {\n            if (e.pointerType === 'mouse') {\n                return;\n            }\n            _this.pageXY = _this.getPointXY(e);\n        };\n    };\n    Scroll.prototype.getPointXY = function (e) {\n        var pageXY = { x: 0, y: 0 };\n        if (e.touches && e.touches.length) {\n            pageXY.x = e.touches[0].pageX;\n            pageXY.y = e.touches[0].pageY;\n        }\n        else {\n            pageXY.x = e.pageX;\n            pageXY.y = e.pageY;\n        }\n        return pageXY;\n    };\n    Scroll.prototype.getScrollbleParent = function (node) {\n        if (node === null) {\n            return null;\n        }\n        var parent = isNullOrUndefined(node.tagName) ? node.scrollingElement : node;\n        var overflowY = document.defaultView.getComputedStyle(parent, null).overflowY;\n        if (parent.scrollHeight > parent.clientHeight && overflowY !== 'hidden'\n            && overflowY !== 'visible' || node.tagName === \"HTML\" || node.tagName === \"BODY\") {\n            return node;\n        }\n        else {\n            return this.getScrollbleParent(node.parentNode);\n        }\n    };\n    /**\n     * @param {boolean} isAdd - specifies whether adding/removing the event\n     * @returns {void}\n     * @hidden\n     */\n    Scroll.prototype.addStickyListener = function (isAdd) {\n        this.parentElement = this.getScrollbleParent(this.parent.element.parentElement);\n        if (isAdd) {\n            if (this.parentElement) {\n                EventHandler.add(this.parentElement.tagName === 'HTML' || this.parentElement.tagName === 'BODY' ? document :\n                    this.parentElement, 'scroll', this.makeStickyHeader, this);\n            }\n        }\n        else {\n            EventHandler.remove(this.parentElement, 'scroll', this.makeStickyHeader);\n        }\n    };\n    Scroll.prototype.wireEvents = function () {\n        var _this = this;\n        if (this.oneTimeReady) {\n            var frzCols = this.parent.isFrozenGrid();\n            this.content = this.parent.getContent().querySelector('.' + literals.content);\n            this.header = this.parent.getHeaderContent().querySelector('.' + literals.headerContent);\n            var mCont = this.content.querySelector('.' + literals.movableContent);\n            var mHdr = this.header.querySelector('.' + literals.movableHeader);\n            var mScrollBar = this.parent.getContent().querySelector('.e-movablescrollbar');\n            if (this.parent.frozenRows) {\n                EventHandler.add(frzCols ? mHdr : this.header, 'touchstart pointerdown', this.setPageXY(), this);\n                EventHandler.add(frzCols ? mHdr : this.header, 'touchmove pointermove', this.onTouchScroll(frzCols ? mCont : this.content), this);\n            }\n            if (this.parent.isFrozenGrid()) {\n                EventHandler.add(mScrollBar, 'scroll', this.onCustomScrollbarScroll(mCont, mHdr), this);\n                EventHandler.add(mCont, 'scroll', this.onCustomScrollbarScroll(mScrollBar, mHdr), this);\n                EventHandler.add(mHdr, 'scroll', this.onCustomScrollbarScroll(mScrollBar, mCont), this);\n                EventHandler.add(this.content, 'scroll', this.onFrozenContentScroll(), this);\n                EventHandler.add(mHdr, 'touchstart pointerdown', this.setPageXY(), this);\n                EventHandler.add(mHdr, 'touchmove pointermove', this.onTouchScroll(mCont), this);\n                EventHandler.add(mCont, 'touchstart pointerdown', this.setPageXY(), this);\n                if (!(/macintosh|ipad/.test(Browser.userAgent.toLowerCase()) && Browser.isDevice)) {\n                    EventHandler.add(mCont, 'touchmove pointermove', this.onTouchScroll(mHdr), this);\n                }\n            }\n            else {\n                EventHandler.add(this.content, 'scroll', this.onContentScroll(this.header), this);\n                EventHandler.add(this.header, 'scroll', this.onContentScroll(this.content), this);\n            }\n            if (this.parent.aggregates.length) {\n                EventHandler.add(this.parent.getFooterContent().firstChild, 'scroll', this.onContentScroll(this.content), this);\n            }\n            if (this.parent.enableStickyHeader) {\n                this.addStickyListener(true);\n            }\n            this.refresh();\n            this.oneTimeReady = false;\n        }\n        var table = this.parent.getContentTable();\n        var sLeft;\n        var sHeight;\n        var clientHeight;\n        getUpdateUsingRaf(function () {\n            sLeft = _this.header.scrollLeft;\n            sHeight = table.scrollHeight;\n            clientHeight = _this.parent.getContent().clientHeight;\n        }, function () {\n            var args = { cancel: false };\n            _this.parent.notify(checkScrollReset, args);\n            if (!_this.parent.enableVirtualization && !_this.parent.enableInfiniteScrolling) {\n                if (sHeight < clientHeight) {\n                    addClass(table.querySelectorAll('tr:last-child td'), 'e-lastrowcell');\n                    if (_this.parent.isFrozenGrid()) {\n                        addClass(_this.parent.getContent().querySelector('.' + literals.movableContent).querySelectorAll('tr:last-child td'), 'e-lastrowcell');\n                        if (_this.parent.getFrozenRightColumnsCount()) {\n                            addClass(_this.parent.getContent().querySelector('.e-frozen-right-content').querySelectorAll('tr:last-child td'), 'e-lastrowcell');\n                        }\n                    }\n                }\n                if (!args.cancel) {\n                    if ((_this.parent.frozenRows > 0 || _this.parent.isFrozenGrid()) && _this.header.querySelector('.' + literals.movableHeader)) {\n                        _this.header.querySelector('.' + literals.movableHeader).scrollLeft = _this.previousValues.left;\n                    }\n                    else {\n                        _this.header.scrollLeft = _this.previousValues.left;\n                    }\n                    _this.content.scrollLeft = _this.previousValues.left;\n                    _this.content.scrollTop = _this.previousValues.top;\n                }\n            }\n            if (!_this.parent.enableColumnVirtualization) {\n                _this.content.scrollLeft = sLeft;\n            }\n            if (_this.parent.isFrozenGrid() && _this.header.querySelector('.' + literals.movableHeader)) {\n                _this.header.querySelector('.' + literals.movableHeader).scrollLeft =\n                    _this.content.querySelector('.' + literals.movableContent).scrollLeft;\n            }\n        });\n        this.parent.isPreventScrollEvent = false;\n    };\n    /**\n     * @param {boolean} rtl - specifies the rtl\n     * @returns {ScrollCss} returns the ScrollCss\n     * @hidden\n     */\n    Scroll.prototype.getCssProperties = function (rtl) {\n        var css = {};\n        var enableRtl = isNullOrUndefined(rtl) ? this.parent.enableRtl : rtl;\n        css.border = enableRtl ? 'borderLeftWidth' : 'borderRightWidth';\n        css.padding = enableRtl ? 'paddingLeft' : 'paddingRight';\n        return css;\n    };\n    Scroll.prototype.ensureOverflow = function (content) {\n        content.style.overflowY = this.parent.height === 'auto' ? 'auto' : 'scroll';\n    };\n    Scroll.prototype.onPropertyChanged = function (e) {\n        if (e.module !== this.getModuleName()) {\n            return;\n        }\n        this.setPadding();\n        this.oneTimeReady = true;\n        if (this.parent.height === 'auto') {\n            this.removePadding();\n        }\n        this.wireEvents();\n        this.setHeight();\n        var width = 'width';\n        this.setWidth(!isNullOrUndefined(e.properties[width]));\n    };\n    Scroll.prototype.makeStickyHeader = function () {\n        if (this.parent.enableStickyHeader && this.parent.element && this.parent.getContent()) {\n            var contentRect = this.parent.getContent().getClientRects()[0];\n            if (contentRect) {\n                var headerEle = this.parent.getHeaderContent();\n                var toolbarEle = this.parent.element.querySelector('.e-toolbar');\n                var groupHeaderEle = this.parent.element.querySelector('.e-groupdroparea');\n                var height = headerEle.offsetHeight + (toolbarEle ? toolbarEle.offsetHeight : 0) +\n                    (groupHeaderEle ? groupHeaderEle.offsetHeight : 0);\n                var parentTop = this.parentElement.getClientRects()[0].top;\n                var top_1 = contentRect.top - (parentTop < 0 ? 0 : parentTop);\n                var left = contentRect.left;\n                if (top_1 < height && contentRect.bottom > 0) {\n                    headerEle.classList.add('e-sticky');\n                    var elemTop = 0;\n                    if (groupHeaderEle && this.parent.groupSettings.showDropArea) {\n                        this.setSticky(groupHeaderEle, elemTop, contentRect.width, left, true);\n                        elemTop += groupHeaderEle.getClientRects()[0].height;\n                    }\n                    if (toolbarEle) {\n                        this.setSticky(toolbarEle, elemTop, contentRect.width, left, true);\n                        elemTop += toolbarEle.getClientRects()[0].height;\n                    }\n                    this.setSticky(headerEle, elemTop, contentRect.width, left, true);\n                }\n                else {\n                    if (headerEle.classList.contains('e-sticky')) {\n                        this.setSticky(headerEle, null, null, null, false);\n                        if (toolbarEle) {\n                            this.setSticky(toolbarEle, null, null, null, false);\n                        }\n                        if (groupHeaderEle) {\n                            this.setSticky(groupHeaderEle, null, null, null, false);\n                        }\n                        var ccDlg = this.parent.element.querySelector('.e-ccdlg');\n                        if (ccDlg) {\n                            ccDlg.classList.remove('e-sticky');\n                        }\n                    }\n                }\n                this.parent.notify(events.stickyScrollComplete, {});\n            }\n        }\n    };\n    Scroll.prototype.setSticky = function (ele, top, width, left, isAdd) {\n        if (isAdd) {\n            ele.style.width = width + 'px';\n            ele.classList.add('e-sticky');\n        }\n        else {\n            ele.classList.remove('e-sticky');\n        }\n        ele.style.top = top != null ? top + 'px' : '';\n        ele.style.left = left !== null ? parseInt(ele.style.left, 10) !== left ? left + 'px' : ele.style.left : '';\n    };\n    /**\n     * @returns {void}\n     * @hidden\n     */\n    Scroll.prototype.destroy = function () {\n        var gridElement = this.parent.element;\n        if (!gridElement || (!gridElement.querySelector('.' + literals.gridHeader) && !gridElement.querySelector('.' + literals.gridContent))) {\n            return;\n        }\n        this.removeEventListener();\n        //Remove Dom event\n        var cont = this.parent.getContent().querySelector('.' + literals.content);\n        EventHandler.remove(cont, 'scroll', this.onContentScroll);\n        if (this.parent.enableStickyHeader) {\n            this.addStickyListener(false);\n        }\n        //Remove padding\n        this.removePadding();\n        removeClass([this.parent.getHeaderContent().querySelector('.' + literals.headerContent)], literals.headerContent);\n        removeClass([cont], literals.content);\n        //Remove height\n        cont.style.height = '';\n        //Remove width\n        this.parent.element.style.width = '';\n    };\n    /**\n     * Function to get the scrollbar width of the browser.\n     *\n     * @returns {number} return the width\n     * @hidden\n     */\n    Scroll.getScrollBarWidth = function () {\n        return getScrollBarWidth();\n    };\n    return Scroll;\n}());\nexport { Scroll };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { compile } from '@syncfusion/ej2-base';\nimport { getEnumValue } from '@syncfusion/ej2-base';\nimport { CellType } from '../base/enum';\nimport { Property, Collection, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Configures the Grid's aggregate column.\n */\nvar AggregateColumn = /** @class */ (function (_super) {\n    __extends(AggregateColumn, _super);\n    function AggregateColumn() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.templateFn = {};\n        return _this;\n    }\n    /**\n     * @param {Function} value - specifies the value\n     * @returns {void}\n     * @hidden\n     */\n    AggregateColumn.prototype.setFormatter = function (value) {\n        this.formatFn = value;\n    };\n    /**\n     * @returns {Function} returns the Function\n     * @hidden\n     */\n    AggregateColumn.prototype.getFormatter = function () {\n        return this.formatFn;\n    };\n    /**\n     * @param {Object} helper - specifies the helper\n     * @returns {void}\n     * @hidden\n     */\n    AggregateColumn.prototype.setTemplate = function (helper) {\n        if (helper === void 0) { helper = {}; }\n        if (this.footerTemplate !== undefined) {\n            this.templateFn[getEnumValue(CellType, CellType.Summary)] = { fn: compile(this.footerTemplate, helper),\n                property: 'footerTemplate' };\n        }\n        if (this.groupFooterTemplate !== undefined) {\n            this.templateFn[getEnumValue(CellType, CellType.GroupSummary)] = { fn: compile(this.groupFooterTemplate, helper),\n                property: 'groupFooterTemplate' };\n        }\n        if (this.groupCaptionTemplate !== undefined) {\n            this.templateFn[getEnumValue(CellType, CellType.CaptionSummary)] = { fn: compile(this.groupCaptionTemplate, helper),\n                property: 'groupCaptionTemplate' };\n        }\n    };\n    /**\n     * @param {CellType} type - specifies the cell type\n     * @returns {Object} returns the object\n     * @hidden\n     */\n    AggregateColumn.prototype.getTemplate = function (type) {\n        return this.templateFn[getEnumValue(CellType, type)];\n    };\n    /**\n     * @param {Object} prop - returns the Object\n     * @returns {void}\n     * @hidden\n     */\n    AggregateColumn.prototype.setPropertiesSilent = function (prop) {\n        this.setProperties(prop, true);\n    };\n    __decorate([\n        Property()\n    ], AggregateColumn.prototype, \"type\", void 0);\n    __decorate([\n        Property()\n    ], AggregateColumn.prototype, \"field\", void 0);\n    __decorate([\n        Property()\n    ], AggregateColumn.prototype, \"columnName\", void 0);\n    __decorate([\n        Property()\n    ], AggregateColumn.prototype, \"format\", void 0);\n    __decorate([\n        Property()\n    ], AggregateColumn.prototype, \"footerTemplate\", void 0);\n    __decorate([\n        Property()\n    ], AggregateColumn.prototype, \"groupFooterTemplate\", void 0);\n    __decorate([\n        Property()\n    ], AggregateColumn.prototype, \"groupCaptionTemplate\", void 0);\n    __decorate([\n        Property()\n    ], AggregateColumn.prototype, \"customAggregate\", void 0);\n    return AggregateColumn;\n}(ChildProperty));\nexport { AggregateColumn };\n/**\n * Configures the aggregate rows.\n */\nvar AggregateRow = /** @class */ (function (_super) {\n    __extends(AggregateRow, _super);\n    function AggregateRow() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Collection([], AggregateColumn)\n    ], AggregateRow.prototype, \"columns\", void 0);\n    return AggregateRow;\n}(ChildProperty));\nexport { AggregateRow };\n","import { Browser, remove, EventHandler, isUndefined, closest, classList } from '@syncfusion/ej2-base';\nimport { parentsUntil } from '../base/util';\nimport * as events from '../base/constant';\nimport * as literals from '../base/string-literals';\n/**\n * The `Clipboard` module is used to handle clipboard copy action.\n */\nvar Clipboard = /** @class */ (function () {\n    /**\n     * Constructor for the Grid clipboard module\n     *\n     * @param {IGrid} parent - specifies the IGrid\n     * @hidden\n     */\n    function Clipboard(parent) {\n        this.copyContent = '';\n        this.isSelect = false;\n        this.parent = parent;\n        this.addEventListener();\n    }\n    /**\n     * @returns {void}\n     * @hidden\n     */\n    Clipboard.prototype.addEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.on(events.contentReady, this.initialEnd, this);\n        this.parent.on(events.keyPressed, this.keyDownHandler, this);\n        this.parent.on(events.click, this.clickHandler, this);\n        EventHandler.add(this.parent.element, 'keydown', this.pasteHandler, this);\n    };\n    /**\n     * @returns {void}\n     * @hidden\n     */\n    Clipboard.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off(events.keyPressed, this.keyDownHandler);\n        this.parent.off(events.contentReady, this.initialEnd);\n        this.parent.off(events.click, this.clickHandler);\n        EventHandler.remove(this.parent.element, 'keydown', this.pasteHandler);\n    };\n    Clipboard.prototype.clickHandler = function (e) {\n        var target = e.target;\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        target = parentsUntil(target, 'e-rowcell');\n    };\n    Clipboard.prototype.pasteHandler = function (e) {\n        var _this = this;\n        var grid = this.parent;\n        var isMacLike = /(Mac)/i.test(navigator.platform);\n        if (e.keyCode === 67 && isMacLike && e.metaKey && !grid.isEdit) {\n            this.copy();\n        }\n        if (e.keyCode === 86 && (e.ctrlKey || (isMacLike && e.metaKey)) && !grid.isEdit) {\n            var target = closest(document.activeElement, '.' + literals.rowCell);\n            if (!target || !grid.editSettings.allowEditing || grid.editSettings.mode !== 'Batch' ||\n                grid.selectionSettings.mode !== 'Cell' || grid.selectionSettings.cellSelectionMode === 'Flow') {\n                return;\n            }\n            this.activeElement = document.activeElement;\n            this.clipBoardTextArea.value = '';\n            var x_1 = window.scrollX;\n            var y_1 = window.scrollY;\n            this.clipBoardTextArea.focus();\n            setTimeout(function () {\n                _this.activeElement.focus();\n                window.scrollTo(x_1, y_1);\n                _this.paste(_this.clipBoardTextArea.value, _this.parent.getSelectedRowCellIndexes()[0].rowIndex, _this.parent.getSelectedRowCellIndexes()[0].cellIndexes[0]);\n            }, 10);\n        }\n    };\n    /**\n     * Paste data from clipboard to selected cells.\n     *\n     * @param {boolean} data - Specifies the date for paste.\n     * @param {boolean} rowIndex - Specifies the row index.\n     * @param {boolean} colIndex - Specifies the column index.\n     * @returns {void}\n     */\n    Clipboard.prototype.paste = function (data, rowIndex, colIndex) {\n        var grid = this.parent;\n        var cIdx = colIndex;\n        var rIdx = rowIndex;\n        var col;\n        var value;\n        var isAvail;\n        if (!grid.editSettings.allowEditing || grid.editSettings.mode !== 'Batch' ||\n            grid.selectionSettings.mode !== 'Cell' || grid.selectionSettings.cellSelectionMode === 'Flow') {\n            return;\n        }\n        var rows = data.split('\\n');\n        var cols;\n        var dataRows = grid.getDataRows();\n        var mRows;\n        var frRows;\n        var isFrozen = this.parent.isFrozenGrid();\n        if (isFrozen) {\n            mRows = grid.getMovableDataRows();\n            if (grid.getFrozenRightColumnsCount()) {\n                frRows = grid.getFrozenRightDataRows();\n            }\n        }\n        for (var r = 0; r < rows.length; r++) {\n            cols = rows[r].split('\\t');\n            cIdx = colIndex;\n            if ((r === rows.length - 1 && rows[r] === '') || isUndefined(grid.getRowByIndex(rIdx))) {\n                cIdx++;\n                break;\n            }\n            for (var c = 0; c < cols.length; c++) {\n                isAvail = grid.getCellFromIndex(rIdx, cIdx);\n                if (isFrozen) {\n                    var fTr = dataRows[rIdx];\n                    var mTr = mRows[rIdx];\n                    isAvail = !fTr.querySelector('[aria-colindex=\"' + cIdx + '\"]') ?\n                        mTr.querySelector('[aria-colindex=\"' + cIdx + '\"]') : true;\n                    if (frRows && !isAvail) {\n                        var frTr = frRows[rIdx];\n                        isAvail = frTr.querySelector('[aria-colindex=\"' + cIdx + '\"]');\n                    }\n                }\n                if (!isAvail) {\n                    cIdx++;\n                    break;\n                }\n                col = grid.getColumnByIndex(cIdx);\n                value = col.getParser() ? col.getParser()(cols[c]) : cols[c];\n                if (col.allowEditing && !col.isPrimaryKey && !col.template) {\n                    var args = {\n                        column: col,\n                        data: value,\n                        rowIndex: rIdx\n                    };\n                    this.parent.trigger(events.beforePaste, args);\n                    rIdx = args.rowIndex;\n                    if (!args.cancel) {\n                        if (grid.editModule) {\n                            if (col.type === 'number') {\n                                this.parent.editModule.updateCell(rIdx, col.field, parseFloat(args.data));\n                            }\n                            else {\n                                grid.editModule.updateCell(rIdx, col.field, args.data);\n                            }\n                        }\n                    }\n                }\n                cIdx++;\n            }\n            rIdx++;\n        }\n        grid.selectionModule.selectCellsByRange({ rowIndex: rowIndex, cellIndex: colIndex }, { rowIndex: rIdx - 1, cellIndex: cIdx - 1 });\n        var cell = this.parent.getCellFromIndex(rIdx - 1, cIdx - 1);\n        if (cell) {\n            classList(cell, ['e-focus', 'e-focused'], []);\n        }\n    };\n    Clipboard.prototype.initialEnd = function () {\n        this.parent.off(events.contentReady, this.initialEnd);\n        this.clipBoardTextArea = this.parent.createElement('textarea', {\n            className: 'e-clipboard',\n            styles: 'opacity: 0',\n            attrs: { tabindex: '-1', 'aria-label': 'clipboard' }\n        });\n        this.parent.element.appendChild(this.clipBoardTextArea);\n    };\n    Clipboard.prototype.keyDownHandler = function (e) {\n        if (e.action === 'ctrlPlusC') {\n            this.copy();\n        }\n        else if (e.action === 'ctrlShiftPlusH') {\n            this.copy(true);\n        }\n    };\n    Clipboard.prototype.setCopyData = function (withHeader) {\n        if (window.getSelection().toString() === '') {\n            var isFrozen = this.parent.isFrozenGrid();\n            this.clipBoardTextArea.value = this.copyContent = '';\n            var mRows = void 0;\n            var frRows = void 0;\n            var rows = this.parent.getRows();\n            if (isFrozen) {\n                mRows = this.parent.getMovableDataRows();\n                if (this.parent.getFrozenMode() === literals.leftRight) {\n                    frRows = this.parent.getFrozenRightRows();\n                }\n            }\n            if (this.parent.selectionSettings.mode !== 'Cell') {\n                var selectedIndexes = this.parent.getSelectedRowIndexes().sort(function (a, b) { return a - b; });\n                if (withHeader) {\n                    var headerTextArray = [];\n                    for (var i = 0; i < this.parent.getVisibleColumns().length; i++) {\n                        headerTextArray[i] = this.parent.getVisibleColumns()[i].headerText;\n                    }\n                    this.getCopyData(headerTextArray, false, '\\t', withHeader);\n                    this.copyContent += '\\n';\n                }\n                for (var i = 0; i < selectedIndexes.length; i++) {\n                    if (i > 0) {\n                        this.copyContent += '\\n';\n                    }\n                    var cells = [].slice.call(rows[selectedIndexes[i]].\n                        querySelectorAll('.e-rowcell:not(.e-hide)'));\n                    if (isFrozen) {\n                        cells.push.apply(cells, [].slice.call(mRows[selectedIndexes[i]].querySelectorAll('.e-rowcell:not(.e-hide)')));\n                        if (frRows) {\n                            cells.push.apply(cells, [].slice.call(frRows[selectedIndexes[i]].querySelectorAll('.e-rowcell:not(.e-hide)')));\n                        }\n                    }\n                    this.getCopyData(cells, false, '\\t', withHeader);\n                }\n            }\n            else {\n                var obj = this.checkBoxSelection();\n                if (obj.status) {\n                    if (withHeader) {\n                        var headers = [];\n                        for (var i = 0; i < obj.colIndexes.length; i++) {\n                            headers.push(this.parent.getColumnHeaderByIndex(obj.colIndexes[i]));\n                        }\n                        this.getCopyData(headers, false, '\\t', withHeader);\n                        this.copyContent += '\\n';\n                    }\n                    for (var i = 0; i < obj.rowIndexes.length; i++) {\n                        if (i > 0) {\n                            this.copyContent += '\\n';\n                        }\n                        var cells = [].slice.call(rows[obj.rowIndexes[i]].\n                            getElementsByClassName('e-cellselectionbackground'));\n                        if (isFrozen) {\n                            cells.push.apply(cells, [].slice.call(mRows[obj.rowIndexes[i]]\n                                .getElementsByClassName('e-cellselectionbackground')));\n                            if (frRows) {\n                                cells.push.apply(cells, [].slice.call(frRows[obj.rowIndexes[i]]\n                                    .getElementsByClassName('e-cellselectionbackground')));\n                            }\n                        }\n                        this.getCopyData(cells, false, '\\t', withHeader);\n                    }\n                }\n                else {\n                    this.getCopyData([].slice.call(this.parent.element.getElementsByClassName('e-cellselectionbackground')), true, '\\n', withHeader);\n                }\n            }\n            var args = {\n                data: this.copyContent,\n                cancel: false\n            };\n            this.parent.trigger(events.beforeCopy, args);\n            if (args.cancel) {\n                return;\n            }\n            this.clipBoardTextArea.value = this.copyContent = args.data;\n            if (!Browser.userAgent.match(/ipad|ipod|iphone/i)) {\n                this.clipBoardTextArea.select();\n            }\n            else {\n                this.clipBoardTextArea.setSelectionRange(0, this.clipBoardTextArea.value.length);\n            }\n            this.isSelect = true;\n        }\n    };\n    Clipboard.prototype.getCopyData = function (cells, isCell, splitKey, withHeader) {\n        var isElement = typeof cells[0] !== 'string';\n        for (var j = 0; j < cells.length; j++) {\n            if (withHeader && isCell) {\n                var colIdx = parseInt(cells[j].getAttribute(literals.ariaColIndex), 10);\n                this.copyContent += this.parent.getColumns()[colIdx].headerText + '\\n';\n            }\n            if (isElement) {\n                if (!cells[j].classList.contains('e-hide')) {\n                    this.copyContent += cells[j].innerText;\n                }\n            }\n            else {\n                this.copyContent += cells[j];\n            }\n            if (j < cells.length - 1) {\n                this.copyContent += splitKey;\n            }\n        }\n    };\n    /**\n     * Copy selected rows or cells data into clipboard.\n     *\n     * @returns {void}\n     * @param {boolean} withHeader - Specifies whether the column header data need to be copied or not.\n     */\n    Clipboard.prototype.copy = function (withHeader) {\n        if (document.queryCommandSupported('copy')) {\n            this.setCopyData(withHeader);\n            document.execCommand('copy');\n            this.clipBoardTextArea.blur();\n        }\n        if (this.isSelect) {\n            window.getSelection().removeAllRanges();\n            this.isSelect = false;\n        }\n    };\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} returns the module name\n     * @private\n     */\n    Clipboard.prototype.getModuleName = function () {\n        return 'clipboard';\n    };\n    /**\n     * To destroy the clipboard\n     *\n     * @returns {void}\n     * @hidden\n     */\n    Clipboard.prototype.destroy = function () {\n        this.removeEventListener();\n        if (this.clipBoardTextArea) {\n            remove(this.clipBoardTextArea);\n        }\n    };\n    Clipboard.prototype.checkBoxSelection = function () {\n        var gridObj = this.parent;\n        var obj = { status: false };\n        if (gridObj.selectionSettings.mode === 'Cell') {\n            var rowCellIndxes = gridObj.getSelectedRowCellIndexes();\n            var str = void 0;\n            var rowIndexes = [];\n            var i = void 0;\n            for (i = 0; i < rowCellIndxes.length; i++) {\n                if (rowCellIndxes[i].cellIndexes.length) {\n                    rowIndexes.push(rowCellIndxes[i].rowIndex);\n                }\n                if (rowCellIndxes[i].cellIndexes.length) {\n                    if (!str) {\n                        str = JSON.stringify(rowCellIndxes[i].cellIndexes.sort());\n                    }\n                    if (str !== JSON.stringify(rowCellIndxes[i].cellIndexes.sort())) {\n                        break;\n                    }\n                }\n            }\n            rowIndexes.sort(function (a, b) { return a - b; });\n            if (i === rowCellIndxes.length && rowIndexes[rowIndexes.length - 1] - rowIndexes[0] === rowIndexes.length - 1) {\n                obj = { status: true, rowIndexes: rowIndexes, colIndexes: rowCellIndxes[0].cellIndexes };\n            }\n        }\n        return obj;\n    };\n    return Clipboard;\n}());\nexport { Clipboard };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { isNullOrUndefined, setValue, getValue } from '@syncfusion/ej2-base';\nimport { Component, ChildProperty, Browser, closest, extend } from '@syncfusion/ej2-base';\nimport { addClass, removeClass, append, remove, classList, setStyleAttribute } from '@syncfusion/ej2-base';\nimport { Property, Collection, Complex, Event, NotifyPropertyChanges, L10n } from '@syncfusion/ej2-base';\nimport { EventHandler, KeyboardEvents } from '@syncfusion/ej2-base';\nimport { DataManager, DataUtil, UrlAdaptor } from '@syncfusion/ej2-data';\nimport { createSpinner, hideSpinner, showSpinner, Tooltip } from '@syncfusion/ej2-popups';\nimport { iterateArrayOrObject, prepareColumns, parentsUntil, wrap, templateCompiler, isGroupAdaptive, refreshForeignData } from './util';\nimport { getRowHeight, setColumnIndex, Global, ispercentageWidth, renderMovable, getNumberFormat } from './util';\nimport { setRowElements, resetRowIndex, compareChanges, getCellByColAndRowIndex, performComplexDataOperation } from './util';\nimport * as events from '../base/constant';\nimport { Render } from '../renderer/render';\nimport { RenderType } from './enum';\nimport { RowRenderer } from '../renderer/row-renderer';\nimport { CellRenderer } from '../renderer/cell-renderer';\nimport { CellRendererFactory } from '../services/cell-render-factory';\nimport { ServiceLocator } from '../services/service-locator';\nimport { ValueFormatter } from '../services/value-formatter';\nimport { RendererFactory } from '../services/renderer-factory';\nimport { ColumnWidthService } from '../services/width-controller';\nimport { AriaService } from '../services/aria-service';\nimport { FocusStrategy } from '../services/focus-strategy';\nimport { PageSettings } from '../models/page-settings';\nimport { ColumnChooserSettings } from '../models/column-chooser-settings';\nimport { Selection } from '../actions/selection';\nimport { Search } from '../actions/search';\nimport { ShowHide } from '../actions/show-hide';\nimport { Scroll } from '../actions/scroll';\nimport { Print } from '../actions/print';\nimport { AggregateRow } from '../models/aggregate';\nimport { Clipboard } from '../actions/clipboard';\nimport { RowModelGenerator } from '../services/row-model-generator';\nimport * as literals from '../base/string-literals';\nimport { HeaderCellRenderer } from '../renderer/header-cell-renderer';\n/**\n * Represents the field name and direction of sort column.\n */\nvar SortDescriptor = /** @class */ (function (_super) {\n    __extends(SortDescriptor, _super);\n    function SortDescriptor() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property()\n    ], SortDescriptor.prototype, \"field\", void 0);\n    __decorate([\n        Property()\n    ], SortDescriptor.prototype, \"direction\", void 0);\n    __decorate([\n        Property(false)\n    ], SortDescriptor.prototype, \"isFromGroup\", void 0);\n    return SortDescriptor;\n}(ChildProperty));\nexport { SortDescriptor };\n/**\n * Configures the sorting behavior of Grid.\n */\nvar SortSettings = /** @class */ (function (_super) {\n    __extends(SortSettings, _super);\n    function SortSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Collection([], SortDescriptor)\n    ], SortSettings.prototype, \"columns\", void 0);\n    __decorate([\n        Property(true)\n    ], SortSettings.prototype, \"allowUnsort\", void 0);\n    return SortSettings;\n}(ChildProperty));\nexport { SortSettings };\n/**\n * Represents the predicate for the filter column.\n */\nvar Predicate = /** @class */ (function (_super) {\n    __extends(Predicate, _super);\n    function Predicate() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property()\n    ], Predicate.prototype, \"field\", void 0);\n    __decorate([\n        Property()\n    ], Predicate.prototype, \"operator\", void 0);\n    __decorate([\n        Property()\n    ], Predicate.prototype, \"value\", void 0);\n    __decorate([\n        Property()\n    ], Predicate.prototype, \"matchCase\", void 0);\n    __decorate([\n        Property(false)\n    ], Predicate.prototype, \"ignoreAccent\", void 0);\n    __decorate([\n        Property()\n    ], Predicate.prototype, \"predicate\", void 0);\n    __decorate([\n        Property({})\n    ], Predicate.prototype, \"actualFilterValue\", void 0);\n    __decorate([\n        Property({})\n    ], Predicate.prototype, \"actualOperator\", void 0);\n    __decorate([\n        Property()\n    ], Predicate.prototype, \"type\", void 0);\n    __decorate([\n        Property()\n    ], Predicate.prototype, \"ejpredicate\", void 0);\n    __decorate([\n        Property()\n    ], Predicate.prototype, \"uid\", void 0);\n    __decorate([\n        Property()\n    ], Predicate.prototype, \"isForeignKey\", void 0);\n    return Predicate;\n}(ChildProperty));\nexport { Predicate };\n/**\n * Configures the infinite scroll behavior of Grid.\n */\nvar InfiniteScrollSettings = /** @class */ (function (_super) {\n    __extends(InfiniteScrollSettings, _super);\n    function InfiniteScrollSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(false)\n    ], InfiniteScrollSettings.prototype, \"enableCache\", void 0);\n    __decorate([\n        Property(3)\n    ], InfiniteScrollSettings.prototype, \"maxBlocks\", void 0);\n    __decorate([\n        Property(3)\n    ], InfiniteScrollSettings.prototype, \"initialBlocks\", void 0);\n    return InfiniteScrollSettings;\n}(ChildProperty));\nexport { InfiniteScrollSettings };\n/**\n * Configures the filtering behavior of the Grid.\n */\nvar FilterSettings = /** @class */ (function (_super) {\n    __extends(FilterSettings, _super);\n    function FilterSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Collection([], Predicate)\n    ], FilterSettings.prototype, \"columns\", void 0);\n    __decorate([\n        Property('FilterBar')\n    ], FilterSettings.prototype, \"type\", void 0);\n    __decorate([\n        Property()\n    ], FilterSettings.prototype, \"mode\", void 0);\n    __decorate([\n        Property(true)\n    ], FilterSettings.prototype, \"showFilterBarStatus\", void 0);\n    __decorate([\n        Property(1500)\n    ], FilterSettings.prototype, \"immediateModeDelay\", void 0);\n    __decorate([\n        Property()\n    ], FilterSettings.prototype, \"operators\", void 0);\n    __decorate([\n        Property(false)\n    ], FilterSettings.prototype, \"ignoreAccent\", void 0);\n    __decorate([\n        Property(false)\n    ], FilterSettings.prototype, \"enableCaseSensitivity\", void 0);\n    __decorate([\n        Property(false)\n    ], FilterSettings.prototype, \"showFilterBarOperator\", void 0);\n    return FilterSettings;\n}(ChildProperty));\nexport { FilterSettings };\n/**\n * Configures the selection behavior of the Grid.\n */\nvar SelectionSettings = /** @class */ (function (_super) {\n    __extends(SelectionSettings, _super);\n    function SelectionSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('Row')\n    ], SelectionSettings.prototype, \"mode\", void 0);\n    __decorate([\n        Property('Flow')\n    ], SelectionSettings.prototype, \"cellSelectionMode\", void 0);\n    __decorate([\n        Property('Single')\n    ], SelectionSettings.prototype, \"type\", void 0);\n    __decorate([\n        Property(false)\n    ], SelectionSettings.prototype, \"checkboxOnly\", void 0);\n    __decorate([\n        Property(false)\n    ], SelectionSettings.prototype, \"persistSelection\", void 0);\n    __decorate([\n        Property('Default')\n    ], SelectionSettings.prototype, \"checkboxMode\", void 0);\n    __decorate([\n        Property(false)\n    ], SelectionSettings.prototype, \"enableSimpleMultiRowSelection\", void 0);\n    __decorate([\n        Property(true)\n    ], SelectionSettings.prototype, \"enableToggle\", void 0);\n    __decorate([\n        Property(false)\n    ], SelectionSettings.prototype, \"allowColumnSelection\", void 0);\n    return SelectionSettings;\n}(ChildProperty));\nexport { SelectionSettings };\n/**\n * Configures the search behavior of the Grid.\n */\nvar SearchSettings = /** @class */ (function (_super) {\n    __extends(SearchSettings, _super);\n    function SearchSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property([])\n    ], SearchSettings.prototype, \"fields\", void 0);\n    __decorate([\n        Property('')\n    ], SearchSettings.prototype, \"key\", void 0);\n    __decorate([\n        Property('contains')\n    ], SearchSettings.prototype, \"operator\", void 0);\n    __decorate([\n        Property(true)\n    ], SearchSettings.prototype, \"ignoreCase\", void 0);\n    __decorate([\n        Property(false)\n    ], SearchSettings.prototype, \"ignoreAccent\", void 0);\n    return SearchSettings;\n}(ChildProperty));\nexport { SearchSettings };\n/**\n * Configures the row drop settings of the Grid.\n */\nvar RowDropSettings = /** @class */ (function (_super) {\n    __extends(RowDropSettings, _super);\n    function RowDropSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property()\n    ], RowDropSettings.prototype, \"targetID\", void 0);\n    return RowDropSettings;\n}(ChildProperty));\nexport { RowDropSettings };\n/**\n * Configures the text wrap settings of the Grid.\n */\nvar TextWrapSettings = /** @class */ (function (_super) {\n    __extends(TextWrapSettings, _super);\n    function TextWrapSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('Both')\n    ], TextWrapSettings.prototype, \"wrapMode\", void 0);\n    return TextWrapSettings;\n}(ChildProperty));\nexport { TextWrapSettings };\n/**\n * Configures the resize behavior of the Grid.\n */\nvar ResizeSettings = /** @class */ (function (_super) {\n    __extends(ResizeSettings, _super);\n    function ResizeSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('Normal')\n    ], ResizeSettings.prototype, \"mode\", void 0);\n    return ResizeSettings;\n}(ChildProperty));\nexport { ResizeSettings };\n/**\n * Configures the group behavior of the Grid.\n */\nvar GroupSettings = /** @class */ (function (_super) {\n    __extends(GroupSettings, _super);\n    function GroupSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(true)\n    ], GroupSettings.prototype, \"showDropArea\", void 0);\n    __decorate([\n        Property(false)\n    ], GroupSettings.prototype, \"allowReordering\", void 0);\n    __decorate([\n        Property(false)\n    ], GroupSettings.prototype, \"showToggleButton\", void 0);\n    __decorate([\n        Property(false)\n    ], GroupSettings.prototype, \"showGroupedColumn\", void 0);\n    __decorate([\n        Property(true)\n    ], GroupSettings.prototype, \"showUngroupButton\", void 0);\n    __decorate([\n        Property(false)\n    ], GroupSettings.prototype, \"disablePageWiseAggregates\", void 0);\n    __decorate([\n        Property([])\n    ], GroupSettings.prototype, \"columns\", void 0);\n    __decorate([\n        Property()\n    ], GroupSettings.prototype, \"captionTemplate\", void 0);\n    __decorate([\n        Property(false)\n    ], GroupSettings.prototype, \"enableLazyLoading\", void 0);\n    return GroupSettings;\n}(ChildProperty));\nexport { GroupSettings };\n/**\n * Configures the edit behavior of the Grid.\n */\nvar EditSettings = /** @class */ (function (_super) {\n    __extends(EditSettings, _super);\n    function EditSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(false)\n    ], EditSettings.prototype, \"allowAdding\", void 0);\n    __decorate([\n        Property(false)\n    ], EditSettings.prototype, \"allowEditing\", void 0);\n    __decorate([\n        Property(false)\n    ], EditSettings.prototype, \"allowDeleting\", void 0);\n    __decorate([\n        Property('Normal')\n    ], EditSettings.prototype, \"mode\", void 0);\n    __decorate([\n        Property(true)\n    ], EditSettings.prototype, \"allowEditOnDblClick\", void 0);\n    __decorate([\n        Property(true)\n    ], EditSettings.prototype, \"showConfirmDialog\", void 0);\n    __decorate([\n        Property(false)\n    ], EditSettings.prototype, \"showDeleteConfirmDialog\", void 0);\n    __decorate([\n        Property('')\n    ], EditSettings.prototype, \"template\", void 0);\n    __decorate([\n        Property('')\n    ], EditSettings.prototype, \"headerTemplate\", void 0);\n    __decorate([\n        Property('')\n    ], EditSettings.prototype, \"footerTemplate\", void 0);\n    __decorate([\n        Property('Top')\n    ], EditSettings.prototype, \"newRowPosition\", void 0);\n    __decorate([\n        Property({})\n    ], EditSettings.prototype, \"dialog\", void 0);\n    __decorate([\n        Property(false)\n    ], EditSettings.prototype, \"allowNextRowEdit\", void 0);\n    return EditSettings;\n}(ChildProperty));\nexport { EditSettings };\n/**\n * Represents the Grid component.\n * ```html\n * <div id=\"grid\"></div>\n * <script>\n *  var gridObj = new Grid({ allowPaging: true });\n *  gridObj.appendTo(\"#grid\");\n * </script>\n * ```\n */\nvar Grid = /** @class */ (function (_super) {\n    __extends(Grid, _super);\n    /**\n     * Constructor for creating the component\n     *\n     * @param {GridModel} options - specifies the options\n     * @param {string | HTMLElement} element - specifies the element\n     * @hidden\n     */\n    function Grid(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.isPreventScrollEvent = false;\n        _this.inViewIndexes = [];\n        _this.keyA = false;\n        _this.frozenRightCount = 0;\n        _this.frozenLeftCount = 0;\n        _this.tablesCount = 1;\n        _this.movableCount = 0;\n        _this.visibleFrozenLeft = 0;\n        _this.visibleFrozenRight = 0;\n        _this.visibleMovable = 0;\n        _this.frozenLeftColumns = [];\n        _this.frozenRightColumns = [];\n        _this.movableColumns = [];\n        _this.media = {};\n        _this.isFreezeRefresh = false;\n        /** @hidden */\n        _this.tableIndex = 0;\n        _this.componentRefresh = Component.prototype.refresh;\n        /** @hidden */\n        _this.isVirtualAdaptive = false;\n        /** @hidden */\n        _this.vRows = [];\n        /** @hidden */\n        _this.vcRows = [];\n        /** @hidden */\n        _this.vGroupOffsets = {};\n        /** @hidden */\n        _this.rowUid = 0;\n        /**\n         * Gets the currently visible records of the Grid.\n         */\n        _this.currentViewData = [];\n        /** @hidden */\n        _this.isManualRefresh = false;\n        /** @hidden */\n        _this.isAutoFitColumns = false;\n        /** @hidden */\n        _this.enableDeepCompare = false;\n        /** @hidden */\n        _this.lockcolPositionCount = 0;\n        /** @hidden */\n        _this.prevPageMoving = false;\n        /** @hidden */\n        _this.pageTemplateChange = false;\n        /** @hidden */\n        _this.isAutoGen = false;\n        _this.mediaBindInstance = {};\n        /** @hidden */\n        _this.commandDelIndex = undefined;\n        /** @hidden */\n        _this.asyncTimeOut = 50;\n        /** @hidden */\n        _this.isExportGrid = false;\n        // enable/disable logger for MVC & Core\n        _this.enableLogger = true;\n        _this.needsID = true;\n        Grid_1.Inject(Selection);\n        setValue('mergePersistData', _this.mergePersistGridData, _this);\n        return _this;\n    }\n    Grid_1 = Grid;\n    /**\n     * Get the properties to be maintained in the persisted state.\n     *\n     * @returns {string} returns the persist data\n     */\n    Grid.prototype.getPersistData = function () {\n        var keyEntity = ['pageSettings', 'sortSettings',\n            'filterSettings', 'groupSettings', 'columns', 'searchSettings', 'selectedRowIndex', 'scrollPosition'];\n        var ignoreOnPersist = {\n            pageSettings: ['template', 'pageSizes', 'enableQueryString', 'totalRecordsCount', 'pageCount'],\n            filterSettings: ['type', 'mode', 'showFilterBarStatus', 'immediateModeDelay', 'ignoreAccent'],\n            groupSettings: ['showDropArea', 'showToggleButton', 'showGroupedColumn', 'showUngroupButton',\n                'disablePageWiseAggregates', 'hideCaptionCount'],\n            searchSettings: ['fields', 'operator', 'ignoreCase'],\n            sortSettings: [], columns: [], selectedRowIndex: [], scrollPosition: []\n        };\n        for (var i = 0; i < keyEntity.length; i++) {\n            var currentObject = this[keyEntity[i]];\n            for (var _i = 0, _a = ignoreOnPersist[keyEntity[i]]; _i < _a.length; _i++) {\n                var val = _a[_i];\n                delete currentObject[val];\n            }\n        }\n        var temp = this.pageSettings.template;\n        var settings = Object.assign({ template: undefined }, this.pageSettings);\n        this.setProperties({ pageSettings: settings }, true);\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (this.isAngular) {\n            delete this.groupSettings['properties']['captionTemplate'];\n        }\n        this.pageTemplateChange = !isNullOrUndefined(this.pagerTemplate);\n        var persistData = this.addOnPersist(keyEntity);\n        settings.template = temp;\n        this.setProperties({ pageSettings: settings }, true);\n        return persistData;\n    };\n    /**\n     * To provide the array of modules needed for component rendering\n     *\n     * @returns {ModuleDeclaration[]} Returns the module Declaration\n     * @hidden\n     */\n    Grid.prototype.requiredModules = function () {\n        this.setFrozenCount();\n        this.enableInfiniteAggrgate();\n        var modules = [];\n        if (this.isDestroyed) {\n            return modules;\n        }\n        if (this.allowFiltering) {\n            modules.push({\n                member: 'filter',\n                args: [this, this.filterSettings, this.serviceLocator]\n            });\n        }\n        if (this.allowExcelExport) {\n            modules.push({\n                member: 'ExcelExport',\n                args: [this, this.serviceLocator]\n            });\n        }\n        if (this.allowPdfExport) {\n            modules.push({\n                member: 'PdfExport',\n                args: [this]\n            });\n        }\n        if (this.allowSorting) {\n            modules.push({\n                member: 'sort',\n                args: [this, this.sortSettings, this.sortedColumns, this.serviceLocator]\n            });\n        }\n        if (this.allowPaging) {\n            modules.push({\n                member: 'pager',\n                args: [this, this.pageSettings]\n            });\n        }\n        if (this.allowSelection) {\n            modules.push({\n                member: 'selection',\n                args: [this, this.selectionSettings, this.serviceLocator]\n            });\n        }\n        modules.push({\n            member: 'resize',\n            args: [this]\n        });\n        if (this.allowReordering) {\n            modules.push({\n                member: 'reorder',\n                args: [this]\n            });\n        }\n        if (this.allowRowDragAndDrop) {\n            modules.push({\n                member: 'rowDragAndDrop',\n                args: [this]\n            });\n        }\n        if (this.allowGrouping) {\n            modules.push({\n                member: 'group',\n                args: [this, this.groupSettings, this.sortedColumns, this.serviceLocator]\n            });\n        }\n        if (this.aggregates.length) {\n            modules.push({ member: 'aggregate', args: [this, this.serviceLocator] });\n        }\n        if (this.isDetail()) {\n            modules.push({\n                member: 'detailRow',\n                args: [this, this.serviceLocator]\n            });\n        }\n        if (this.toolbar || this.toolbarTemplate) {\n            modules.push({\n                member: 'toolbar',\n                args: [this, this.serviceLocator]\n            });\n        }\n        if (this.enableVirtualization || this.enableColumnVirtualization) {\n            modules.push({\n                member: 'virtualscroll',\n                args: [this, this.serviceLocator]\n            });\n        }\n        if (this.getFrozenColumns() || this.frozenRows || this.frozenRightCount || this.frozenLeftCount) {\n            modules.push({ member: 'freeze', args: [this, this.serviceLocator] });\n        }\n        if (this.isCommandColumn(this.columns)) {\n            modules.push({\n                member: 'commandColumn',\n                args: [this, this.serviceLocator]\n            });\n        }\n        if (this.editSettings.allowAdding || this.editSettings.allowDeleting || this.editSettings.allowEditing) {\n            modules.push({\n                member: 'edit',\n                args: [this, this.serviceLocator]\n            });\n        }\n        this.extendRequiredModules(modules);\n        return modules;\n    };\n    Grid.prototype.extendRequiredModules = function (modules) {\n        if (this.enableInfiniteScrolling) {\n            modules.push({\n                member: 'infiniteScroll',\n                args: [this, this.serviceLocator]\n            });\n        }\n        if (this.groupSettings.enableLazyLoading) {\n            modules.push({\n                member: 'lazyLoadGroup',\n                args: [this, this.serviceLocator]\n            });\n        }\n        if (this.contextMenuItems) {\n            modules.push({\n                member: 'contextMenu',\n                args: [this, this.serviceLocator]\n            });\n        }\n        if (this.showColumnMenu) {\n            modules.push({\n                member: 'columnMenu',\n                args: [this, this.serviceLocator]\n            });\n        }\n        if (this.showColumnChooser) {\n            modules.push({\n                member: 'columnChooser',\n                args: [this, this.serviceLocator]\n            });\n        }\n        if (this.isForeignKeyEnabled(this.columns)) {\n            modules.push({ member: 'foreignKey', args: [this, this.serviceLocator] });\n        }\n        if (this.enableLogger) {\n            modules.push({ member: 'logger', args: [this] });\n        }\n    };\n    /**\n     * For internal use only - Initialize the event handler;\n     *\n     * @returns {void}\n     * @private\n     */\n    Grid.prototype.preRender = function () {\n        this.serviceLocator = new ServiceLocator;\n        this.initProperties();\n        this.initializeServices();\n    };\n    Grid.prototype.initProperties = function () {\n        this.isInitial = true;\n        this.sortedColumns = [];\n        this.inViewIndexes = [];\n        this.mediaCol = [];\n        this.isInitialLoad = false;\n        this.allowServerDataBinding = false;\n        this.ignoreCollectionWatch = true;\n        this.mergeCells = {};\n        this.isEdit = false;\n        this.checkAllRows = 'None';\n        this.isCheckBoxSelection = false;\n        this.isPersistSelection = false;\n        this.componentRefresh = Component.prototype.refresh;\n        this.filterOperators = {\n            contains: 'contains', endsWith: 'endswith', equal: 'equal', greaterThan: 'greaterthan', greaterThanOrEqual: 'greaterthanorequal',\n            lessThan: 'lessthan', lessThanOrEqual: 'lessthanorequal', notEqual: 'notequal', startsWith: 'startswith'\n        };\n        this.defaultLocale = {\n            EmptyRecord: 'No records to display',\n            True: 'true',\n            False: 'false',\n            InvalidFilterMessage: 'Invalid Filter Data',\n            GroupDropArea: 'Drag a column header here to group its column',\n            UnGroup: 'Click here to ungroup',\n            UnGroupButton: 'Click here to ungroup',\n            GroupDisable: 'Grouping is disabled for this column',\n            FilterbarTitle: '\\'s filter bar cell',\n            EmptyDataSourceError: 'DataSource must not be empty at initial load since columns are generated from dataSource in AutoGenerate Column Grid',\n            // Toolbar Items\n            Add: 'Add',\n            Edit: 'Edit',\n            Cancel: 'Cancel',\n            Update: 'Update',\n            Delete: 'Delete',\n            Print: 'Print',\n            Pdfexport: 'PDF Export',\n            Excelexport: 'Excel Export',\n            Wordexport: 'Word Export',\n            Csvexport: 'CSV Export',\n            Search: 'Search',\n            Columnchooser: 'Columns',\n            Save: 'Save',\n            Item: 'item',\n            Items: 'items',\n            EditOperationAlert: 'No records selected for edit operation',\n            DeleteOperationAlert: 'No records selected for delete operation',\n            SaveButton: 'Save',\n            OKButton: 'OK',\n            CancelButton: 'Cancel',\n            EditFormTitle: 'Details of ',\n            AddFormTitle: 'Add New Record',\n            BatchSaveConfirm: 'Are you sure you want to save changes?',\n            BatchSaveLostChanges: 'Unsaved changes will be lost. Are you sure you want to continue?',\n            ConfirmDelete: 'Are you sure you want to Delete Record?',\n            CancelEdit: 'Are you sure you want to Cancel the changes?',\n            ChooseColumns: 'Choose Column',\n            SearchColumns: 'search columns',\n            Matchs: 'No matches found',\n            FilterButton: 'Filter',\n            ClearButton: 'Clear',\n            StartsWith: 'Starts With',\n            EndsWith: 'Ends With',\n            Contains: 'Contains',\n            Equal: 'Equal',\n            NotEqual: 'Not Equal',\n            LessThan: 'Less Than',\n            LessThanOrEqual: 'Less Than Or Equal',\n            GreaterThan: 'Greater Than',\n            GreaterThanOrEqual: 'Greater Than Or Equal',\n            ChooseDate: 'Choose a Date',\n            EnterValue: 'Enter the value',\n            Copy: 'Copy',\n            Group: 'Group by this column',\n            Ungroup: 'Ungroup by this column',\n            autoFitAll: 'Autofit all columns',\n            autoFit: 'Autofit this column',\n            AutoFitAll: 'Autofit all columns',\n            AutoFit: 'Autofit this column',\n            Export: 'Export',\n            FirstPage: 'First Page',\n            LastPage: 'Last Page',\n            PreviousPage: 'Previous Page',\n            NextPage: 'Next Page',\n            SortAscending: 'Sort Ascending',\n            SortDescending: 'Sort Descending',\n            EditRecord: 'Edit Record',\n            DeleteRecord: 'Delete Record',\n            FilterMenu: 'Filter',\n            SelectAll: 'Select All',\n            Blanks: 'Blanks',\n            FilterTrue: 'True',\n            FilterFalse: 'False',\n            NoResult: 'No matches found',\n            ClearFilter: 'Clear Filter',\n            Clear: 'Clear',\n            NumberFilter: 'Number Filters',\n            TextFilter: 'Text Filters',\n            DateFilter: 'Date Filters',\n            DateTimeFilter: 'DateTime Filters',\n            MatchCase: 'Match Case',\n            Between: 'Between',\n            CustomFilter: 'Custom Filter',\n            CustomFilterPlaceHolder: 'Enter the value',\n            CustomFilterDatePlaceHolder: 'Choose a date',\n            AND: 'AND',\n            OR: 'OR',\n            ShowRowsWhere: 'Show rows where:',\n            FilterMenuDialogARIA: 'Filter menu dialog',\n            ExcelFilterDialogARIA: 'Excel filter dialog',\n            DialogEditARIA: 'Edit dialog',\n            ColumnChooserDialogARIA: 'Column chooser dialog',\n            ColumnMenuDialogARIA: 'Column menu dialog',\n            CustomFilterDialogARIA: 'Customer filter dialog',\n            SortAtoZ: 'Sort A to Z',\n            SortZtoA: 'Sort Z to A',\n            SortByOldest: 'Sort by Oldest',\n            SortByNewest: 'Sort by Newest',\n            SortSmallestToLargest: 'Sort Smallest to Largest',\n            SortLargestToSmallest: 'Sort Largest to Smallest',\n            Sort: 'Sort'\n        };\n        this.keyConfigs = {\n            downArrow: 'downarrow',\n            upArrow: 'uparrow',\n            rightArrow: 'rightarrow',\n            leftArrow: 'leftarrow',\n            shiftDown: 'shift+downarrow',\n            shiftUp: 'shift+uparrow',\n            shiftRight: 'shift+rightarrow',\n            shiftLeft: 'shift+leftarrow',\n            home: 'home',\n            end: 'end',\n            escape: 'escape',\n            ctrlHome: 'ctrl+home',\n            ctrlEnd: 'ctrl+end',\n            pageUp: 'pageup',\n            pageDown: 'pagedown',\n            ctrlAltPageUp: 'ctrl+alt+pageup',\n            ctrlAltPageDown: 'ctrl+alt+pagedown',\n            altPageUp: 'alt+pageup',\n            altPageDown: 'alt+pagedown',\n            altDownArrow: 'alt+downarrow',\n            altUpArrow: 'alt+uparrow',\n            ctrlDownArrow: 'ctrl+downarrow',\n            ctrlUpArrow: 'ctrl+uparrow',\n            ctrlPlusA: 'ctrl+A',\n            ctrlPlusP: 'ctrl+P',\n            insert: 'insert',\n            delete: 'delete',\n            f2: 'f2',\n            enter: 'enter',\n            ctrlEnter: 'ctrl+enter',\n            shiftEnter: 'shift+enter',\n            tab: 'tab',\n            shiftTab: 'shift+tab',\n            space: 'space',\n            ctrlPlusC: 'ctrl+C',\n            ctrlShiftPlusH: 'ctrl+shift+H',\n            ctrlSpace: 'ctrl+space',\n            ctrlLeftArrow: 'ctrl+leftarrow',\n            ctrlRightArrow: 'ctrl+rightarrow'\n        };\n    };\n    /**\n     * For internal use only - To Initialize the component rendering.\n     *\n     * @returns {void}\n     * @private\n     */\n    Grid.prototype.render = function () {\n        this.log(['module_missing', 'promise_enabled', 'locale_missing', 'check_datasource_columns']);\n        this.ariaService.setOptions(this.element, { role: 'grid' });\n        createSpinner({ target: this.element }, this.createElement);\n        this.renderModule = new Render(this, this.serviceLocator);\n        this.searchModule = new Search(this);\n        this.scrollModule = new Scroll(this);\n        this.notify(events.initialLoad, {});\n        if (this.getDataModule().dataManager.dataSource.offline === true || this.getDataModule().dataManager.dataSource.url === undefined) {\n            this.isVirtualAdaptive = true;\n        }\n        this.trigger(events.load);\n        prepareColumns(this.columns, this.enableColumnVirtualization, this);\n        if (this.enablePersistence) {\n            this.notify(events.columnsPrepared, {});\n        }\n        this.getMediaColumns();\n        setColumnIndex(this.columns);\n        this.checkLockColumns(this.columns);\n        this.getColumns();\n        this.processModel();\n        this.gridRender();\n        this.wireEvents();\n        this.addListener();\n        this.updateDefaultCursor();\n        this.updateStackedFilter();\n        this.showSpinner();\n        this.notify(events.initialEnd, {});\n        if (this.refreshing) {\n            this.trigger('created');\n        }\n    };\n    /**\n     * By default, grid shows the spinner for all its actions. You can use this method to show spinner at your needed time.\n     *\n     * @returns {void}\n     */\n    Grid.prototype.showSpinner = function () {\n        if (!this.isExportGrid) {\n            showSpinner(this.element);\n        }\n    };\n    /**\n     * By default, grid shows the spinner for all its actions. You can use this method to show spinner at your needed time.\n     *\n     * @returns {void}\n     */\n    Grid.prototype.hideSpinner = function () {\n        if (!this.isExportGrid) {\n            hideSpinner(this.element);\n        }\n    };\n    Grid.prototype.updateStackedFilter = function () {\n        if (this.allowFiltering && this.filterSettings.type === 'FilterBar' &&\n            this.getHeaderContent().getElementsByClassName('e-stackedheadercell').length) {\n            this.getHeaderContent().classList.add('e-stackedfilter');\n        }\n        else {\n            this.getHeaderContent().classList.remove('e-stackedfilter');\n        }\n    };\n    Grid.prototype.getMediaColumns = function () {\n        if (!this.enableColumnVirtualization) {\n            var gcol = this.getColumns();\n            this.getShowHideService = this.serviceLocator.getService('showHideService');\n            if (!isNullOrUndefined(gcol)) {\n                for (var index = 0; index < gcol.length; index++) {\n                    if (!isNullOrUndefined(gcol[index].hideAtMedia) && (isNullOrUndefined(gcol[index].visible) || gcol[index].visible)) {\n                        this.pushMediaColumn(gcol[index], index);\n                    }\n                }\n            }\n        }\n    };\n    Grid.prototype.pushMediaColumn = function (col, index) {\n        this.mediaCol.push(col);\n        this.media[col.uid] = window.matchMedia(col.hideAtMedia);\n        this.mediaQueryUpdate(index, this.media[col.uid]);\n        this.mediaBindInstance[index] = this.mediaQueryUpdate.bind(this, index);\n        this.media[col.uid].addListener(this.mediaBindInstance[index]);\n    };\n    /**\n     * @param {Column} col - specifies the column\n     * @returns {void}\n     * @hidden\n     */\n    Grid.prototype.updateMediaColumns = function (col) {\n        if (!this.enableColumnVirtualization) {\n            var index = this.getColumnIndexByUid(col.uid);\n            for (var i = 0; i < this.mediaCol.length; i++) {\n                if (col.uid === this.mediaCol[i].uid) {\n                    this.mediaCol.splice(i, 1);\n                    return;\n                }\n            }\n            this.pushMediaColumn(col, index);\n        }\n    };\n    /**\n     * @param {number} columnIndex - specifies the column index\n     * @param {MediaQueryList} e - specifies the MediaQueryList\n     * @returns {void}\n     * @hidden\n     */\n    Grid.prototype.mediaQueryUpdate = function (columnIndex, e) {\n        var col = this.getColumns()[columnIndex];\n        if (this.mediaCol.some(function (mediaColumn) { return mediaColumn.uid === col.uid; })) {\n            col.visible = e.matches;\n            if (this.isInitialLoad) {\n                this.invokedFromMedia = true;\n                if (col.visible) {\n                    this.showHider.show(col.headerText, 'headerText');\n                }\n                else {\n                    this.showHider.hide(col.headerText, 'headerText');\n                }\n            }\n        }\n    };\n    Grid.prototype.refreshMediaCol = function () {\n        this.isInitialLoad = true;\n        var footerContent = this.element.querySelector('.' + literals.gridFooter);\n        if (this.aggregates.length && this.element.scrollHeight > this.height && footerContent) {\n            addClass([footerContent], ['e-footerpadding']);\n        }\n        var checkboxColumn = this.getColumns().filter(function (col) { return col.type === 'checkbox'; });\n        if (checkboxColumn.length && this.selectionSettings.checkboxMode === 'ResetOnRowClick') {\n            this.isCheckBoxSelection = false;\n        }\n        if (this.rowRenderingMode === 'Vertical') {\n            if (this.enableHover) {\n                this.setProperties({ enableAdaptiveUI: true, enableHover: false }, true);\n                removeClass([this.element], 'e-gridhover');\n            }\n        }\n        if (this.enableAdaptiveUI && this.scrollModule) {\n            this.scrollModule.refresh();\n        }\n    };\n    Grid.prototype.removeMediaListener = function () {\n        for (var i = 0; i < this.mediaCol.length; i++) {\n            this.media[this.mediaCol[i].uid].removeListener(this.mediaBindInstance[this.mediaCol[i].index]);\n        }\n    };\n    /**\n     * For internal use only - Initialize the event handler\n     *\n     * @returns {void}\n     * @private\n     */\n    Grid.prototype.eventInitializer = function () {\n        //eventInitializer\n    };\n    /**\n     * Destroys the component (detaches/removes all event handlers, attributes, classes, and empties the component element).\n     *\n     * @function destroy\n     * @returns {void}\n     */\n    Grid.prototype.destroy = function () {\n        var gridElement = this.element;\n        if (!gridElement) {\n            return;\n        }\n        var hasGridChild = gridElement.querySelector('.' + literals.gridHeader) &&\n            gridElement.querySelector('.' + literals.gridContent) ? true : false;\n        if (hasGridChild) {\n            this.unwireEvents();\n        }\n        this.removeListener();\n        this.removeMediaListener();\n        this.notify(events.destroy, {});\n        this.destroyDependentModules();\n        if (this.isReact || this.isVue) {\n            this.destroyTemplate(['template']);\n        }\n        if (hasGridChild) {\n            _super.prototype.destroy.call(this);\n        }\n        this.toolTipObj.destroy();\n        var modules = ['renderModule', 'headerModule', 'contentModule', 'valueFormatterService',\n            'serviceLocator', 'ariaService', 'keyboardModule', 'widthService', 'searchModule', 'showHider',\n            'scrollModule', 'printModule', 'clipboardModule', 'focusModule'];\n        for (var i = 0; i < modules.length; i++) {\n            if (this[modules[i]]) {\n                this[modules[i]] = null;\n            }\n        }\n        this.element.innerHTML = '';\n        classList(this.element, [], ['e-rtl', 'e-gridhover', 'e-responsive', 'e-default', 'e-device', 'e-grid-min-height']);\n        this.isFreezeRefresh = false;\n    };\n    Grid.prototype.destroyDependentModules = function () {\n        var gridElement = this.element;\n        if (!gridElement || (!gridElement.querySelector('.' + literals.gridHeader) && !gridElement.querySelector('.' + literals.gridContent))) {\n            return;\n        }\n        this.scrollModule.destroy();\n        this.keyboardModule.destroy();\n        this.focusModule.destroy();\n        this.clipboardModule.destroy();\n        this.printModule.destroy();\n    };\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} returns the module name\n     * @private\n     */\n    Grid.prototype.getModuleName = function () {\n        return 'grid';\n    };\n    Grid.prototype.enableBoxSelection = function () {\n        if (this.enableAutoFill) {\n            this.selectionSettings.cellSelectionMode = 'BoxWithBorder';\n            this.element.classList.add('e-afenabled');\n        }\n        else {\n            this.element.classList.remove('e-afenabled');\n        }\n    };\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @param {GridModel} newProp - Defines new properties\n     * @param {GridModel} oldProp - Defines old properties\n     * @returns {void}\n     * @hidden\n     */\n    Grid.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var requireRefresh = false;\n        var requireGridRefresh = false;\n        var freezeRefresh = false;\n        var checkCursor;\n        var args = { requestType: 'refresh' };\n        if (this.isDestroyed) {\n            return;\n        }\n        this.log('module_missing');\n        if (this.isEllipsisTooltip()) {\n            this.toolTipObj.close();\n        }\n        var properties = Object.keys(newProp);\n        if (properties.indexOf('columns') > -1) {\n            if (this.enableColumnVirtualization) {\n                this.columnModel = [];\n            }\n            this.updateColumnObject();\n            requireGridRefresh = true;\n        }\n        for (var _i = 0, properties_1 = properties; _i < properties_1.length; _i++) {\n            var prop = properties_1[_i];\n            switch (prop) {\n                case 'allowPaging':\n                    this.notify(events.uiUpdate, { module: 'pager', enable: this.allowPaging });\n                    requireRefresh = true;\n                    break;\n                case 'pageSettings':\n                    if (this.pageTemplateChange) {\n                        this.pageTemplateChange = false;\n                        this.notify(events.inBoundModelChanged, { module: 'pager', properties: newProp.pageSettings });\n                        break;\n                    }\n                    this.notify(events.inBoundModelChanged, { module: 'pager', properties: newProp.pageSettings });\n                    if (isNullOrUndefined(newProp.pageSettings.currentPage) && isNullOrUndefined(newProp.pageSettings.pageSize)\n                        && isNullOrUndefined(newProp.pageSettings.totalRecordsCount)\n                        || !isNullOrUndefined(oldProp.pageSettings) &&\n                            ((newProp.pageSettings.currentPage !== oldProp.pageSettings.currentPage)\n                                && !this.enableColumnVirtualization && !this.enableVirtualization\n                                && this.pageSettings.totalRecordsCount <= this.pageSettings.pageSize)) {\n                        requireRefresh = true;\n                    }\n                    break;\n                case 'allowSorting':\n                    this.notify(events.uiUpdate, { module: 'sort', enable: this.allowSorting });\n                    requireRefresh = true;\n                    checkCursor = true;\n                    break;\n                case 'allowFiltering':\n                    this.updateStackedFilter();\n                    this.notify(events.uiUpdate, { module: 'filter', enable: this.allowFiltering });\n                    requireRefresh = true;\n                    if (this.filterSettings.type !== 'FilterBar') {\n                        this.refreshHeader();\n                    }\n                    break;\n                case 'height':\n                case 'width':\n                    this.notify(events.uiUpdate, { module: 'scroll', properties: { width: newProp.width, height: newProp.height } });\n                    break;\n                case 'allowReordering':\n                    this.headerModule.refreshUI();\n                    checkCursor = true;\n                    break;\n                case 'allowRowDragAndDrop':\n                    this.notify(events.uiUpdate, { module: 'rowDragAndDrop', enable: this.allowRowDragAndDrop });\n                    this.renderModule.refresh();\n                    this.headerModule.refreshUI();\n                    break;\n                case 'allowSelection':\n                    this.notify(events.uiUpdate, { module: 'selection', enable: this.allowSelection });\n                    break;\n                case 'enableAutoFill':\n                    if (this.selectionModule) {\n                        this.enableBoxSelection();\n                        this.selectionModule.updateAutoFillPosition();\n                    }\n                    break;\n                case 'rowTemplate':\n                    this.rowTemplateFn = templateCompiler(this.rowTemplate);\n                    requireRefresh = true;\n                    break;\n                case 'detailTemplate':\n                    this.detailTemplateFn = templateCompiler(this.detailTemplate);\n                    requireRefresh = true;\n                    break;\n                case 'allowGrouping':\n                    this.notify(events.uiUpdate, { module: 'group', enable: this.allowGrouping });\n                    this.headerModule.refreshUI();\n                    requireRefresh = true;\n                    checkCursor = true;\n                    break;\n                case 'enableInfiniteScrolling':\n                case 'childGrid':\n                    requireRefresh = true;\n                    break;\n                case 'toolbar':\n                    this.notify(events.uiUpdate, { module: 'toolbar' });\n                    break;\n                case 'groupSettings':\n                    this.notify(events.inBoundModelChanged, {\n                        module: 'group', properties: newProp.groupSettings,\n                        oldProperties: oldProp.groupSettings\n                    });\n                    break;\n                case 'aggregates':\n                    if (!this.aggregates.length && this.allowGrouping && this.groupSettings.columns.length) {\n                        requireRefresh = true;\n                    }\n                    this.notify(events.uiUpdate, { module: 'aggregate', properties: newProp });\n                    break;\n                case 'frozenColumns':\n                case 'frozenRows':\n                case 'enableVirtualization':\n                case 'currencyCode':\n                case 'locale':\n                    this.log('frozen_rows_columns');\n                    freezeRefresh = true;\n                    requireGridRefresh = true;\n                    break;\n                case 'query':\n                    if (!this.getDataModule().isQueryInvokedFromData) {\n                        requireRefresh = true;\n                    }\n                    this.getDataModule().isQueryInvokedFromData = false;\n                    break;\n                default:\n                    this.extendedPropertyChange(prop, newProp, requireGridRefresh);\n            }\n        }\n        if (checkCursor) {\n            this.updateDefaultCursor();\n        }\n        if (requireGridRefresh) {\n            if (freezeRefresh || this.getFrozenColumns() || this.frozenRows) {\n                this.freezeRefresh();\n            }\n            else {\n                this.refresh();\n            }\n        }\n        else if (requireRefresh) {\n            this.notify(events.modelChanged, args);\n            requireRefresh = false;\n            this.maintainSelection(newProp.selectedRowIndex);\n        }\n    };\n    Grid.prototype.extendedPropertyChange = function (prop, newProp, requireGridRefresh) {\n        switch (prop) {\n            case 'enableRtl':\n                this.updateRTL();\n                if (this.allowPaging) {\n                    this.element.querySelector('.e-gridpager').ej2_instances[0].enableRtl = newProp.enableRtl;\n                    this.element.querySelector('.e-gridpager').ej2_instances[0].dataBind();\n                }\n                if (this.height !== 'auto') {\n                    this.scrollModule.removePadding(!newProp.enableRtl);\n                    this.scrollModule.setPadding();\n                }\n                if (this.toolbar && this.toolbarModule) {\n                    this.toolbarModule.getToolbar().ej2_instances[0].enableRtl = newProp.enableRtl;\n                    this.toolbarModule.getToolbar().ej2_instances[0].dataBind();\n                }\n                if (this.contextMenuItems && this.contextMenuModule) {\n                    this.contextMenuModule.getContextMenu().ej2_instances[0].enableRtl = newProp.enableRtl;\n                    this.contextMenuModule.getContextMenu().ej2_instances[0].dataBind();\n                }\n                if (this.showColumnMenu && this.columnMenuModule) {\n                    this.columnMenuModule.getColumnMenu().ej2_instances[0].enableRtl = newProp.enableRtl;\n                    this.columnMenuModule.getColumnMenu().ej2_instances[0].dataBind();\n                }\n                if (this.filterSettings.type === 'FilterBar' && this.filterSettings.showFilterBarOperator) {\n                    this.refreshHeader();\n                }\n                this.notify(events.rtlUpdated, {});\n                break;\n            case 'enableAltRow':\n                this.renderModule.refresh();\n                break;\n            case 'allowResizing':\n                this.headerModule.refreshUI();\n                this.updateResizeLines();\n                break;\n            case 'rowHeight':\n                if (this.rowHeight) {\n                    addClass([this.element], 'e-grid-min-height');\n                }\n                else {\n                    removeClass([this.element], 'e-grid-min-height');\n                }\n                this.renderModule.refresh();\n                this.headerModule.refreshUI();\n                break;\n            case 'gridLines':\n                this.updateGridLines();\n                break;\n            case 'showColumnMenu':\n                this.headerModule.refreshUI();\n                this.notify(events.uiUpdate, { module: 'columnMenu', enable: true });\n                break;\n            case 'columnMenuItems':\n                this.notify(events.uiUpdate, { module: 'columnMenu', enable: this.columnMenuItems });\n                break;\n            case 'contextMenuItems':\n                this.notify(events.uiUpdate, { module: 'contextMenu', enable: this.contextMenuItems });\n                break;\n            case 'showColumnChooser':\n                this.notify(events.uiUpdate, { module: 'columnChooser', enable: this.showColumnChooser });\n                break;\n            case 'filterSettings':\n                this.updateStackedFilter();\n                this.notify(events.inBoundModelChanged, { module: 'filter', properties: newProp.filterSettings });\n                break;\n            case 'searchSettings':\n                this.notify(events.inBoundModelChanged, { module: 'search', properties: newProp.searchSettings });\n                break;\n            case 'sortSettings':\n                this.notify(events.inBoundModelChanged, { module: 'sort' });\n                break;\n            case 'selectionSettings':\n                this.notify(events.inBoundModelChanged, { module: 'selection', properties: newProp.selectionSettings });\n                break;\n            case 'editSettings':\n                this.notify(events.inBoundModelChanged, { module: 'edit', properties: newProp.editSettings });\n                break;\n            case 'allowTextWrap':\n            case 'textWrapSettings':\n                if (this.allowTextWrap) {\n                    this.applyTextWrap();\n                }\n                else {\n                    this.removeTextWrap();\n                }\n                this.notify(events.freezeRender, { case: 'textwrap', isModeChg: (prop === 'textWrapSettings') });\n                break;\n            case 'dataSource':\n                // eslint-disable-next-line no-case-declarations\n                var pending_1 = this.getDataModule().getState();\n                if (Object.getPrototypeOf(newProp).deepWatch) {\n                    var pKeyField = this.getPrimaryKeyFieldNames()[0];\n                    for (var i = 0, props = Object.keys(newProp.dataSource); i < props.length; i++) {\n                        this.setRowData(getValue(pKeyField, this.dataSource[props[i]]), this.dataSource[props[i]]);\n                    }\n                }\n                else if (pending_1.isPending) {\n                    var gResult = !isNullOrUndefined(this.dataSource) ? this.dataSource.result : [];\n                    var names = (pending_1.group || []);\n                    for (var i = 0; i < names.length; i++) {\n                        gResult = DataUtil.group(gResult, names[i], pending_1.aggregates || []);\n                    }\n                    this.dataSource = {\n                        result: gResult, count: this.dataSource.count,\n                        aggregates: this.dataSource.aggregates\n                    };\n                    this.getDataModule().setState({});\n                    pending_1.resolver(this.dataSource);\n                }\n                else {\n                    this.getDataModule().setState({ isDataChanged: false });\n                    this.notify(events.dataSourceModified, {});\n                    if (!requireGridRefresh) {\n                        this.renderModule.refresh();\n                        if (this.isCheckBoxSelection) {\n                            this.notify(events.beforeRefreshOnDataChange, {});\n                        }\n                    }\n                }\n                this.scrollRefresh();\n                break;\n            case 'enableHover':\n                // eslint-disable-next-line no-case-declarations\n                var action = newProp.enableHover ? addClass : removeClass;\n                action([this.element], 'e-gridhover');\n                break;\n            case 'selectedRowIndex':\n                if (!this.isSelectedRowIndexUpdating) {\n                    this.selectRow(newProp.selectedRowIndex);\n                }\n                this.isSelectedRowIndexUpdating = false;\n                break;\n            case 'resizeSettings':\n                this.widthService.setWidthToTable();\n                break;\n            case 'enableAdaptiveUI':\n                this.notify(events.setFullScreenDialog, {});\n                break;\n            case 'rowRenderingMode':\n                this.enableVerticalRendering();\n                this.notify(events.rowModeChange, {});\n                this.refresh();\n                break;\n            case 'enableStickyHeader':\n                this.scrollModule.addStickyListener(newProp.enableStickyHeader);\n                break;\n        }\n    };\n    Grid.prototype.maintainSelection = function (index) {\n        var _this = this;\n        if (index !== -1) {\n            var fn_1 = function () {\n                _this.selectRow(index);\n                _this.off(events.contentReady, fn_1);\n            };\n            this.on(events.contentReady, fn_1, this);\n        }\n    };\n    /**\n     * @param {Object} prop - Defines the property\n     * @param {boolean} muteOnChange - Defines the mute on change\n     * @returns {void}\n     * @private\n     */\n    Grid.prototype.setProperties = function (prop, muteOnChange) {\n        _super.prototype.setProperties.call(this, prop, muteOnChange);\n        var filterSettings = 'filterSettings';\n        if (prop[filterSettings] && this.filterModule && muteOnChange) {\n            this.filterModule.refreshFilter();\n        }\n    };\n    /**\n     * @hidden\n     * @returns {void}\n     */\n    Grid.prototype.setTablesCount = function () {\n        var frozenCols = this.getFrozenColumns();\n        var frozenLeft = this.getFrozenLeftColumnsCount();\n        var frozenRight = this.getFrozenRightColumnsCount();\n        if (frozenCols && !frozenLeft && !frozenRight) {\n            this.tablesCount = 2;\n        }\n        else if (!frozenCols && (frozenLeft || frozenRight)) {\n            if ((frozenLeft && !frozenRight) || (frozenRight && !frozenLeft)) {\n                this.tablesCount = 2;\n            }\n            else if (frozenLeft && frozenRight) {\n                this.tablesCount = 3;\n            }\n        }\n    };\n    /**\n     * @hidden\n     * @returns {number} - Returns the tables count\n     */\n    Grid.prototype.getTablesCount = function () {\n        return this.tablesCount;\n    };\n    /**\n     * @hidden\n     * @returns {void}\n     */\n    Grid.prototype.updateDefaultCursor = function () {\n        var headerCells = [].slice.call(this.getHeaderContent().querySelectorAll('.e-headercell:not(.e-stackedheadercell)'));\n        var stdHdrCell = [].slice.call(this.getHeaderContent().getElementsByClassName('e-stackedheadercell'));\n        var cols = this.getColumns();\n        if (this.enableColumnVirtualization && this.getFrozenColumns()) {\n            var cells = this.contentModule.getHeaderCells();\n            headerCells = cells.length ? cells : headerCells;\n        }\n        for (var i = 0; i < headerCells.length; i++) {\n            var cell = headerCells[i];\n            if (this.allowGrouping || this.allowReordering || this.allowSorting) {\n                if (!cols[i].allowReordering || !cols[i].allowSorting || !cols[i].allowGrouping) {\n                    cell.classList.add('e-defaultcursor');\n                }\n                else {\n                    cell.classList.add('e-mousepointer');\n                }\n            }\n        }\n        for (var count = 0; count < stdHdrCell.length; count++) {\n            if (this.allowReordering) {\n                stdHdrCell[count].classList.add('e-mousepointer');\n            }\n        }\n    };\n    Grid.prototype.updateColumnModel = function (columns) {\n        for (var i = 0, len = columns.length; i < len; i++) {\n            if (columns[i].columns) {\n                this.updateColumnModel(columns[i].columns);\n            }\n            else {\n                this.columnModel.push(columns[i]);\n            }\n        }\n        this.updateColumnLevelFrozen();\n        this.updateFrozenColumns();\n        this.updateLockableColumns();\n    };\n    Grid.prototype.updateColumnLevelFrozen = function () {\n        var cols = this.columnModel;\n        var leftCols = [];\n        var rightCols = [];\n        var movableCols = [];\n        if (this.frozenLeftCount || this.frozenRightCount) {\n            for (var i = 0, len = cols.length; i < len; i++) {\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                var col = cols[i];\n                if (col.freeze === 'Left') {\n                    col.freezeTable = literals.frozenLeft;\n                    leftCols.push(col);\n                }\n                else if (col.freeze === 'Right') {\n                    col.freezeTable = literals.frozenRight;\n                    rightCols.push(col);\n                }\n                else {\n                    col.freezeTable = 'movable';\n                    movableCols.push(col);\n                }\n            }\n            this.columnModel = leftCols.concat(movableCols).concat(rightCols);\n        }\n    };\n    Grid.prototype.updateFrozenColumns = function () {\n        if (this.frozenLeftCount || this.frozenRightCount) {\n            return;\n        }\n        var cols = this.columnModel;\n        var directFrozenCount = this.frozenColumns;\n        var totalFrozenCount = this.getFrozenColumns();\n        var count = 0;\n        for (var i = 0, len = cols.length; i < len; i++) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            var col = cols[i];\n            if (directFrozenCount) {\n                if (i < directFrozenCount) {\n                    col.freezeTable = literals.frozenLeft;\n                }\n                else {\n                    col.freezeTable = 'movable';\n                }\n            }\n            if (col.isFrozen && i >= directFrozenCount) {\n                col.freezeTable = literals.frozenLeft;\n                cols.splice(this.frozenColumns + count, 0, cols.splice(i, 1)[0]);\n                count++;\n            }\n            else if (totalFrozenCount && !directFrozenCount) {\n                col.freezeTable = 'movable';\n            }\n        }\n    };\n    Grid.prototype.getFrozenLeftCount = function () {\n        return this.getFrozenColumns() || this.getFrozenLeftColumnsCount();\n    };\n    Grid.prototype.isFrozenGrid = function () {\n        return this.getFrozenColumns() !== 0 || this.getFrozenLeftColumnsCount() !== 0 || this.getFrozenRightColumnsCount() !== 0;\n    };\n    Grid.prototype.getFrozenMode = function () {\n        return this.frozenName;\n    };\n    Grid.prototype.updateLockableColumns = function () {\n        var cols = this.columnModel;\n        var frozenCount = 0;\n        var movableCount = 0;\n        var frozenColumns = this.getFrozenColumns();\n        for (var i = 0; i < cols.length; i++) {\n            if (cols[i].lockColumn) {\n                if (i < frozenColumns) {\n                    cols.splice(frozenCount, 0, cols.splice(i, 1)[0]);\n                    frozenCount++;\n                }\n                else {\n                    cols.splice(frozenColumns + movableCount, 0, cols.splice(i, 1)[0]);\n                    movableCount++;\n                }\n            }\n        }\n    };\n    Grid.prototype.checkLockColumns = function (cols) {\n        for (var i = 0; i < cols.length; i++) {\n            if (cols[i].columns) {\n                this.checkLockColumns(cols[i].columns);\n            }\n            else if (cols[i].lockColumn) {\n                this.lockcolPositionCount++;\n            }\n        }\n    };\n    /**\n     * Gets the columns from the Grid.\n     *\n     * @param {boolean} isRefresh - Defines the boolean whether to refresh\n     * @returns {Column[]} - returns the column\n     */\n    Grid.prototype.getColumns = function (isRefresh) {\n        var _this = this;\n        var inview = this.inViewIndexes.map(function (v) { return v - _this.groupSettings.columns.length; }).filter(function (v) { return v > -1; });\n        var vLen = inview.length;\n        if (!this.enableColumnVirtualization || isNullOrUndefined(this.columnModel) || this.columnModel.length === 0 || isRefresh) {\n            this.columnModel = [];\n            this.updateColumnModel(this.columns);\n        }\n        var columns = vLen === 0 ? this.columnModel :\n            this.columnModel.slice(inview[0], inview[vLen - 1] + 1);\n        if (this.contentModule && this.enableColumnVirtualization && this.isFrozenGrid() && inview.length\n            && inview[0] > 0) {\n            var frozenCols = this.contentModule.ensureFrozenCols(columns);\n            columns = frozenCols;\n        }\n        return columns;\n    };\n    /**\n     * @private\n     * @param {string} stackedHeader - Defines the stacked header\n     * @param {Column[]} col - Defines the column\n     * @returns {Column} Returns the Column\n     */\n    Grid.prototype.getStackedHeaderColumnByHeaderText = function (stackedHeader, col) {\n        for (var i = 0; i < col.length; i++) {\n            var individualColumn = col[i];\n            if (individualColumn.field === stackedHeader || individualColumn.headerText === stackedHeader) {\n                this.stackedColumn = individualColumn;\n                break;\n            }\n            else if (individualColumn.columns) {\n                this.getStackedHeaderColumnByHeaderText(stackedHeader, individualColumn.columns);\n            }\n        }\n        return this.stackedColumn;\n    };\n    /**\n     * @private\n     * @returns {number[]} Returns the column indexes\n     */\n    Grid.prototype.getColumnIndexesInView = function () {\n        return this.inViewIndexes;\n    };\n    /**\n     * @private\n     * @returns {Query} - returns the query\n     */\n    Grid.prototype.getQuery = function () {\n        return this.query;\n    };\n    /**\n     * @private\n     * @returns {object} - returns the locale constants\n     */\n    Grid.prototype.getLocaleConstants = function () {\n        return this.defaultLocale;\n    };\n    /**\n     * @param {number[]} indexes - specifies the indexes\n     * @returns {void}\n     * @private\n     */\n    Grid.prototype.setColumnIndexesInView = function (indexes) {\n        this.inViewIndexes = indexes;\n    };\n    /**\n     * Gets the visible columns from the Grid.\n     *\n     * @returns {Column[]} returns the column\n     */\n    Grid.prototype.getVisibleColumns = function () {\n        return this.getCurrentVisibleColumns();\n    };\n    /**\n     * Gets the header div of the Grid.\n     *\n     * @returns {Element} - Returns the element\n     */\n    Grid.prototype.getHeaderContent = function () {\n        return this.headerModule.getPanel();\n    };\n    /**\n     * Sets the header div of the Grid to replace the old header.\n     *\n     * @param  {Element} element - Specifies the Grid header.\n     * @returns {void}\n     */\n    Grid.prototype.setGridHeaderContent = function (element) {\n        this.headerModule.setPanel(element);\n    };\n    /**\n     * Gets the content table of the Grid.\n     *\n     * @returns {Element} - Returns the element\n     */\n    Grid.prototype.getContentTable = function () {\n        return this.contentModule.getTable();\n    };\n    /**\n     * Sets the content table of the Grid to replace the old content table.\n     *\n     * @param  {Element} element - Specifies the Grid content table.\n     * @returns {void}\n     */\n    Grid.prototype.setGridContentTable = function (element) {\n        this.contentModule.setTable(element);\n    };\n    /**\n     * Gets the content div of the Grid.\n     *\n     * @returns {Element} Returns the element\n     */\n    Grid.prototype.getContent = function () {\n        return this.contentModule.getPanel();\n    };\n    /**\n     * Sets the content div of the Grid to replace the old Grid content.\n     *\n     * @param  {Element} element - Specifies the Grid content.\n     * @returns {void}\n     */\n    Grid.prototype.setGridContent = function (element) {\n        this.contentModule.setPanel(element);\n    };\n    /**\n     * Gets the header table element of the Grid.\n     *\n     * @returns {Element} returns the element\n     */\n    Grid.prototype.getHeaderTable = function () {\n        return this.headerModule.getTable();\n    };\n    /**\n     * Sets the header table of the Grid to replace the old one.\n     *\n     * @param  {Element} element - Specifies the Grid header table.\n     * @returns {void}\n     */\n    Grid.prototype.setGridHeaderTable = function (element) {\n        this.headerModule.setTable(element);\n    };\n    /**\n     * Gets the footer div of the Grid.\n     *\n     * @returns {Element} returns the element\n     */\n    Grid.prototype.getFooterContent = function () {\n        this.footerElement = this.element.getElementsByClassName(literals.gridFooter)[0];\n        return this.footerElement;\n    };\n    /**\n     * Gets the footer table element of the Grid.\n     *\n     * @returns {Element} returns the element\n     */\n    Grid.prototype.getFooterContentTable = function () {\n        this.footerElement = this.element.getElementsByClassName(literals.gridFooter)[0];\n        return this.footerElement.firstChild.firstChild;\n    };\n    /**\n     * Gets the pager of the Grid.\n     *\n     * @returns {Element} returns the element\n     */\n    Grid.prototype.getPager = function () {\n        return this.gridPager; //get element from pager\n    };\n    /**\n     * Sets the pager of the Grid to replace the old pager.\n     *\n     * @param  {Element} element - Specifies the Grid pager.\n     * @returns {void}\n     */\n    Grid.prototype.setGridPager = function (element) {\n        this.gridPager = element;\n    };\n    /**\n     * Gets a row by index.\n     *\n     * @param  {number} index - Specifies the row index.\n     * @returns {Element} returns the element\n     */\n    Grid.prototype.getRowByIndex = function (index) {\n        return this.contentModule.getRowByIndex(index);\n    };\n    /**\n     * Gets a movable tables row by index.\n     *\n     * @param  {number} index - Specifies the row index.\n     * @returns {Element} returns the element\n     */\n    Grid.prototype.getMovableRowByIndex = function (index) {\n        return this.contentModule.getMovableRowByIndex(index);\n    };\n    /**\n     * Gets a frozen tables row by index.\n     *\n     * @param  {number} index - Specifies the row index.\n     * @returns {Element} returns the element\n     */\n    Grid.prototype.getFrozenRowByIndex = function (index) {\n        return this.getFrozenDataRows()[index];\n    };\n    /**\n     * Gets all the data rows of the Grid.\n     *\n     * @returns {Element[]} returns the element\n     */\n    Grid.prototype.getRows = function () {\n        return this.contentModule.getRowElements();\n    };\n    /**\n     * Gets a frozen right tables row element by index.\n     *\n     * @param  {number} index - Specifies the row index.\n     * @returns {Element} returns the element\n     */\n    Grid.prototype.getFrozenRightRowByIndex = function (index) {\n        return this.contentModule.getFrozenRightRowByIndex(index);\n    };\n    /**\n     * Get a row information based on cell\n     *\n     * @param {Element | EventTarget} target - specifies the element\n     * @returns {RowInfo} returns the row info\n     */\n    Grid.prototype.getRowInfo = function (target) {\n        var ele = target;\n        var args = { target: target };\n        if (!isNullOrUndefined(target) && isNullOrUndefined(parentsUntil(ele, 'e-detailrowcollapse')\n            && isNullOrUndefined(parentsUntil(ele, 'e-recordplusexpand')))) {\n            var cell = closest(ele, '.' + literals.rowCell);\n            if (!cell) {\n                var row = closest(ele, '.' + literals.row);\n                if (!isNullOrUndefined(row) && !row.classList.contains('e-addedrow')) {\n                    var rowObj = this.getRowObjectFromUID(row.getAttribute('data-uid'));\n                    var rowIndex = parseInt(row.getAttribute(literals.ariaRowIndex), 10);\n                    args = { row: row, rowData: rowObj.data, rowIndex: rowIndex };\n                }\n                return args;\n            }\n            var cellIndex = parseInt(cell.getAttribute(literals.ariaColIndex), 10);\n            if (!isNullOrUndefined(cell) && !isNaN(cellIndex)) {\n                var row_1 = closest(cell, '.' + literals.row);\n                var rowIndex = parseInt(row_1.getAttribute(literals.ariaRowIndex), 10);\n                var frzCols = this.getFrozenColumns();\n                var tableName = this.columnModel[cellIndex].getFreezeTableName();\n                var rows = this.contentModule.getRows();\n                var index = cellIndex + this.getIndentCount();\n                if (this.isFrozenGrid()) {\n                    if (tableName === literals.frozenLeft) {\n                        rows = this.contentModule.getRows();\n                    }\n                    else if (tableName === 'movable') {\n                        index = cellIndex - frzCols - this.frozenLeftCount;\n                        rows = this.contentModule.getMovableRows();\n                    }\n                    else if (tableName === literals.frozenRight) {\n                        index = cellIndex - (this.frozenLeftCount + this.movableCount);\n                        rows = this.contentModule.getFrozenRightRows();\n                    }\n                }\n                var rowsObject = rows.filter(function (r) { return r.uid === row_1.getAttribute('data-uid'); });\n                var rowData = {};\n                var column = void 0;\n                if (Object.keys(rowsObject).length) {\n                    rowData = rowsObject[0].data;\n                    column = rowsObject[0].cells[index].column;\n                }\n                args = { cell: cell, cellIndex: cellIndex, row: row_1, rowIndex: rowIndex, rowData: rowData, column: column, target: target };\n            }\n        }\n        return args;\n    };\n    /**\n     * Gets the Grid's movable content rows from frozen grid.\n     *\n     * @returns {Element[]} returns the element\n     */\n    Grid.prototype.getMovableRows = function () {\n        return this.contentModule.getMovableRowElements();\n    };\n    /**\n     * Gets the Grid's frozen right content rows from frozen grid.\n     *\n     * @returns {Element[]} returns the element\n     */\n    Grid.prototype.getFrozenRightRows = function () {\n        return this.contentModule.getFrozenRightRowElements();\n    };\n    /**\n     * Gets all the Grid's data rows.\n     *\n     * @returns {Element[]} returns the element\n     */\n    Grid.prototype.getDataRows = function () {\n        return this.getAllDataRows();\n    };\n    /**\n     * @param {boolean} includeAdd - specifies includeAdd\n     * @returns {Element[]} returns the element\n     * @hidden\n     */\n    Grid.prototype.getAllDataRows = function (includeAdd) {\n        if (isNullOrUndefined(this.getContentTable().querySelector(literals.tbody))) {\n            return [];\n        }\n        var tbody = this.isFrozenGrid() ? this.getFrozenLeftContentTbody()\n            : this.getContentTable().querySelector(literals.tbody);\n        var rows = [].slice.call(tbody.children);\n        if (this.frozenRows) {\n            var hdrTbody = this.isFrozenGrid() ? this.getHeaderContent().querySelector('.' + literals.frozenHeader).querySelector(literals.tbody)\n                : this.getHeaderTable().querySelector(literals.tbody);\n            var freezeRows = [].slice.call(hdrTbody.children);\n            rows = this.addMovableRows(freezeRows, rows);\n        }\n        var dataRows = this.generateDataRows(rows, includeAdd);\n        return dataRows;\n    };\n    /**\n     * @param {HTMLElement[]} fRows - Defines the frozen Rows\n     * @param {HTMLElement[]} mrows - Defines the movable Rows\n     * @returns {HTMLElement[]} Returns the element\n     * @hidden\n     */\n    Grid.prototype.addMovableRows = function (fRows, mrows) {\n        for (var i = 0, len = mrows.length; i < len; i++) {\n            fRows.push(mrows[i]);\n        }\n        return fRows;\n    };\n    Grid.prototype.generateDataRows = function (rows, includAdd) {\n        var dRows = [];\n        for (var i = 0, len = rows.length; i < len; i++) {\n            if (rows[i].classList.contains(literals.row) && (!rows[i].classList.contains('e-hiddenrow') || includAdd)) {\n                if (this.isCollapseStateEnabled()) {\n                    dRows[parseInt(rows[i].getAttribute('aria-rowindex'), 10)] = rows[i];\n                }\n                else {\n                    dRows.push(rows[i]);\n                }\n            }\n        }\n        return dRows;\n    };\n    /**\n     * Gets all the Grid's movable table data rows.\n     *\n     * @returns {Element[]} Returns the element\n     */\n    Grid.prototype.getMovableDataRows = function () {\n        return this.getAllMovableDataRows();\n    };\n    /**\n     * @param {boolean} includeAdd Defines the include add in boolean\n     * @returns {Element[]} Returns the element\n     * @hidden\n     */\n    Grid.prototype.getAllMovableDataRows = function (includeAdd) {\n        if (!this.isFrozenGrid()) {\n            return [];\n        }\n        var rows = [].slice.call(this.getContent().querySelector('.' + literals.movableContent).querySelector(literals.tbody).children);\n        if (this.frozenRows) {\n            var freezeRows = [].slice.call(this.getHeaderContent().querySelector('.' + literals.movableHeader).querySelector(literals.tbody).children);\n            rows = this.addMovableRows(freezeRows, rows);\n        }\n        var dataRows = this.generateDataRows(rows, includeAdd);\n        return dataRows;\n    };\n    /**\n     * Gets all the Grid's frozen table data rows.\n     *\n     * @returns {Element[]} returns the element\n     */\n    Grid.prototype.getFrozenDataRows = function () {\n        return this.getAllFrozenDataRows();\n    };\n    /**\n     * @param {boolean} includeAdd Defines the include add in boolean\n     * @returns {Element[]} Returns the element\n     * @hidden\n     */\n    Grid.prototype.getAllFrozenDataRows = function (includeAdd) {\n        var rows = [].slice.call(this.getContent().querySelector('.' + literals.frozenContent).querySelector(literals.tbody).children);\n        if (this.frozenRows) {\n            var freezeRows = [].slice.call(this.getHeaderContent().querySelector('.' + literals.frozenHeader).querySelector(literals.tbody).children);\n            rows = this.addMovableRows(freezeRows, rows);\n        }\n        var dataRows = this.generateDataRows(rows, includeAdd);\n        return dataRows;\n    };\n    /**\n     * Gets all the Grid's frozen right table data rows.\n     *\n     * @returns {Element[]} Returns the Element\n     */\n    Grid.prototype.getFrozenRightDataRows = function () {\n        return this.getAllFrozenRightDataRows();\n    };\n    /**\n     * @param {boolean} includeAdd Defines the include add in boolean\n     * @returns {Element[]} Returns the element\n     * @hidden\n     */\n    Grid.prototype.getAllFrozenRightDataRows = function (includeAdd) {\n        if (this.getFrozenMode() !== 'Right' && this.getFrozenMode() !== 'Left-Right') {\n            return [];\n        }\n        var rows = [].slice.call(this.getContent().querySelector('.e-frozen-right-content').querySelector(literals.tbody).children);\n        if (this.frozenRows) {\n            var freezeRows = [].slice.call(this.getHeaderContent().querySelector('.e-frozen-right-header').querySelector(literals.tbody).children);\n            rows = this.addMovableRows(freezeRows, rows);\n        }\n        var dataRows = this.generateDataRows(rows, includeAdd);\n        return dataRows;\n    };\n    /**\n     * Updates particular cell value based on the given primary key value.\n     * > Primary key column must be specified using `columns.isPrimaryKey` property.\n     *\n     * @param {string| number} key - Specifies the PrimaryKey value of dataSource.\n     * @param {string } field - Specifies the field name which you want to update.\n     * @param {string | number | boolean | Date} value - To update new value for the particular cell.\n     * @returns {void}\n     */\n    Grid.prototype.setCellValue = function (key, field, value) {\n        var cells = 'cells';\n        var rowData = 'data';\n        var rowIdx = 'index';\n        var rowuID = 'uid';\n        var isRight = this.getFrozenMode() === 'Right';\n        var pkName = this.getPrimaryKeyFieldNames()[0];\n        var cell = new CellRenderer(this, this.serviceLocator);\n        var fieldIdx = this.getColumnIndexByField(field);\n        var col = this.getColumnByField(field);\n        var rowObjects = col.getFreezeTableName() === 'movable' ? this.contentModule.getMovableRows() :\n            col.getFreezeTableName() === 'frozen-right' ? this.getFrozenRightRowsObject() : this.contentModule.getRows();\n        var selectedRow = rowObjects.filter(function (r) {\n            return getValue(pkName, r.data) === key;\n        })[0];\n        var tr = selectedRow ? this.element.querySelector('[data-uid=' + selectedRow[rowuID] + ']') : null;\n        if (!isNullOrUndefined(tr)) {\n            setValue(field, value, selectedRow[rowData]);\n            var left = this.getFrozenLeftColumnsCount() || this.getFrozenColumns();\n            var movable = this.getMovableColumnsCount();\n            if (this.isRowDragable() && !isRight) {\n                left++;\n            }\n            var frIdx = left + movable;\n            var td = this.getCellFromIndex(selectedRow[rowIdx], fieldIdx);\n            if (!isNullOrUndefined(td)) {\n                var Idx = col.getFreezeTableName() === 'movable' ? left : col.getFreezeTableName() === 'frozen-right' ? frIdx : 0;\n                if (this.groupSettings.columns.length) {\n                    fieldIdx = fieldIdx + this.groupSettings.columns.length;\n                }\n                if (this.childGrid || this.detailTemplate) {\n                    fieldIdx++;\n                }\n                if (this.isRowDragable() && !isRight) {\n                    fieldIdx++;\n                }\n                var sRow = selectedRow[cells][fieldIdx - Idx];\n                cell.refreshTD(td, sRow, selectedRow[rowData], { index: selectedRow[rowIdx] });\n                if (this.aggregates.length > 0) {\n                    this.notify(events.refreshFooterRenderer, {});\n                    if (this.groupSettings.columns.length > 0) {\n                        this.notify(events.groupAggregates, {});\n                    }\n                }\n                /* tslint:disable:no-string-literal */\n                if (!isNullOrUndefined(selectedRow) && !isNullOrUndefined(selectedRow['changes'])) {\n                    selectedRow['changes'][field] = value;\n                }\n                /* tslint:disable:no-string-literal */\n                this.trigger(events.queryCellInfo, {\n                    cell: td, column: col, data: selectedRow[rowData]\n                });\n            }\n        }\n        else {\n            return;\n        }\n    };\n    /**\n     * @param {string} columnUid - Defines column uid\n     * @returns {void}\n     * @hidden\n     */\n    Grid.prototype.refreshReactColumnTemplateByUid = function (columnUid) {\n        var _this = this;\n        if (this.isReact) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            this.clearTemplate(['columnTemplate'], undefined, function () {\n                var cells = 'cells';\n                var rowIdx = 'index';\n                var rows = _this.getDataRows();\n                var indent = _this.getIndentCount();\n                var cellIndex = _this.getNormalizedColumnIndex(columnUid);\n                for (var j = 0; j < rows.length; j++) {\n                    var rowsObj = _this.getRowObjectFromUID(rows[j].getAttribute('data-uid'));\n                    if (rowsObj.isDataRow && !isNullOrUndefined(rowsObj.index)) {\n                        var cell = rowsObj[cells][cellIndex];\n                        var cellRenderer = new CellRenderer(_this, _this.serviceLocator);\n                        var td = _this.getCellFromIndex(j, cellIndex - indent);\n                        cellRenderer.refreshTD(td, cell, rowsObj.data, { index: rowsObj[rowIdx] });\n                    }\n                }\n            });\n        }\n    };\n    /**\n     * @param {string} columnUid - Defines column uid\n     * @returns {void}\n     * @hidden\n     */\n    Grid.prototype.refreshReactHeaderTemplateByUid = function (columnUid) {\n        if (this.isReact) {\n            var cells = 'cells';\n            var rowsObj = this.headerModule.rows;\n            var cellIndex = this.getNormalizedColumnIndex(columnUid);\n            for (var j = 0; j < rowsObj.length; j++) {\n                var cell = rowsObj[j][cells][cellIndex];\n                if (cell && cell.column.uid === columnUid) {\n                    var headerCellRenderer = new HeaderCellRenderer(this, this.serviceLocator);\n                    var td = parentsUntil(this.element.querySelectorAll('[e-mappinguid=' + columnUid + ']')[0], 'e-templatecell');\n                    headerCellRenderer.refresh(cell, td);\n                }\n            }\n        }\n    };\n    /**\n     * Updates and refresh the particular row values based on the given primary key value.\n     * > Primary key column must be specified using `columns.isPrimaryKey` property.\n     *\n     * @param {string| number} key - Specifies the PrimaryKey value of dataSource.\n     * @param {Object} rowData - To update new data for the particular row.\n     * @returns {void}\n     */\n    Grid.prototype.setRowData = function (key, rowData) {\n        var rowuID = 'uid';\n        var rowObjects = this.contentModule.getRows();\n        var pkName = this.getPrimaryKeyFieldNames()[0];\n        var rowRenderer = new RowRenderer(this.serviceLocator, null, this);\n        if (this.groupSettings.columns.length > 0 && this.aggregates.length > 0) {\n            rowObjects = rowObjects.filter(function (row) { return row.isDataRow; });\n        }\n        var selectedRow = rowObjects.filter(function (r) {\n            return getValue(pkName, r.data) === key;\n        })[0];\n        if (!isNullOrUndefined(selectedRow) && this.element.querySelectorAll('[data-uid=' + selectedRow[rowuID] + ']').length) {\n            selectedRow.changes = rowData;\n            refreshForeignData(selectedRow, this.getForeignKeyColumns(), selectedRow.changes);\n            rowRenderer.refresh(selectedRow, this.getColumns(), true);\n            if (this.aggregates.length > 0) {\n                this.notify(events.refreshFooterRenderer, {});\n                if (this.groupSettings.columns.length > 0) {\n                    this.notify(events.groupAggregates, {});\n                }\n            }\n        }\n        else {\n            return;\n        }\n    };\n    /**\n     * Gets a cell by row and column index.\n     *\n     * @param  {number} rowIndex - Specifies the row index.\n     * @param  {number} columnIndex - Specifies the column index.\n     * @returns {Element} Returns the Element\n     */\n    Grid.prototype.getCellFromIndex = function (rowIndex, columnIndex) {\n        var col = this.getColumnByIndex(columnIndex);\n        return getCellByColAndRowIndex(this, col, rowIndex, columnIndex);\n    };\n    /**\n     * Gets a movable table cell by row and column index.\n     *\n     * @param  {number} rowIndex - Specifies the row index.\n     * @param  {number} columnIndex - Specifies the column index.\n     * @returns {Element} Returns the Element\n     */\n    Grid.prototype.getMovableCellFromIndex = function (rowIndex, columnIndex) {\n        if (this.frozenName === 'Left-Right' && columnIndex >= this.movableCount) {\n            return undefined;\n        }\n        var index = this.getFrozenColumns() || this.getFrozenLeftColumnsCount();\n        return this.getMovableDataRows()[rowIndex] &&\n            this.getMovableDataRows()[rowIndex].getElementsByClassName(literals.rowCell)[columnIndex - index];\n    };\n    /**\n     * Gets a frozen right table cell by row and column index.\n     *\n     * @param  {number} rowIndex - Specifies the row index.\n     * @param  {number} columnIndex - Specifies the column index.\n     * @returns {Element} Returns the Element\n     */\n    Grid.prototype.getFrozenRightCellFromIndex = function (rowIndex, columnIndex) {\n        var index = this.getFrozenLeftColumnsCount() + this.getMovableColumnsCount();\n        var rows = this.getFrozenRightDataRows();\n        return rows[rowIndex] && rows[rowIndex].getElementsByClassName(literals.rowCell)[columnIndex - index];\n    };\n    /**\n     * Gets a column header by column index.\n     *\n     * @param  {number} index - Specifies the column index.\n     * @returns {Element} Returns the Element\n     */\n    Grid.prototype.getColumnHeaderByIndex = function (index) {\n        return this.getHeaderTable().getElementsByClassName('e-headercell')[index];\n    };\n    /**\n     * Gets a movable column header by column index.\n     *\n     * @param  {number} index - Specifies the column index.\n     * @returns {Element} Returns the Element\n     */\n    Grid.prototype.getMovableColumnHeaderByIndex = function (index) {\n        var left = this.getFrozenColumns() || this.getFrozenLeftColumnsCount();\n        return this.getMovableVirtualHeader().getElementsByClassName('e-headercell')[index - left];\n    };\n    /**\n     * Gets a frozen right column header by column index.\n     *\n     * @param  {number} index - Specifies the column index.\n     * @returns {Element} Returns the Element\n     */\n    Grid.prototype.getFrozenRightColumnHeaderByIndex = function (index) {\n        var left = this.getFrozenLeftColumnsCount() + this.getMovableColumnsCount();\n        return this.getFrozenRightHeader().getElementsByClassName('e-headercell')[index - left];\n    };\n    /**\n     * Gets a frozen left column header by column index.\n     *\n     * @param  {number} index - Specifies the column index.\n     * @returns {Element} Returns the Element\n     */\n    Grid.prototype.getFrozenLeftColumnHeaderByIndex = function (index) {\n        return this.getFrozenVirtualHeader().getElementsByClassName('e-headercell')[index];\n    };\n    /**\n     * @param {string} uid - Defines the uid\n     * @param {boolean} isMovable - Defines isMovable\n     * @param {boolean} isFrozenRight - Defines isFrozenRight\n     * @returns {Row<Column>} Returns the row object\n     * @hidden\n     */\n    Grid.prototype.getRowObjectFromUID = function (uid, isMovable, isFrozenRight) {\n        var rows = this.contentModule.getRows();\n        var row = this.rowObject(rows, uid);\n        if (this.isFrozenGrid()) {\n            if (!row || isMovable || isFrozenRight) {\n                row = this.rowObject(this.contentModule.getMovableRows(), uid);\n                if ((!row && this.getFrozenMode() === 'Left-Right') || isFrozenRight) {\n                    row = this.rowObject(this.contentModule.getFrozenRightRows(), uid);\n                }\n                return row;\n            }\n        }\n        if (isNullOrUndefined(row) && this.enableVirtualization && this.groupSettings.columns.length > 0) {\n            row = this.rowObject(this.vRows, uid);\n            return row;\n        }\n        return row;\n    };\n    Grid.prototype.rowObject = function (rows, uid) {\n        for (var _i = 0, rows_1 = rows; _i < rows_1.length; _i++) {\n            var row = rows_1[_i];\n            if (row.uid === uid) {\n                return row;\n            }\n        }\n        return null;\n    };\n    /**\n     * @hidden\n     * @returns {Row<Column>[]} Returns the Row object\n     */\n    Grid.prototype.getRowsObject = function () {\n        return this.contentModule.getRows();\n    };\n    /**\n     * @hidden\n     * @returns {Row<Column>[]} Returns the Row object\n     */\n    Grid.prototype.getMovableRowsObject = function () {\n        var rows = [];\n        if (this.isFrozenGrid()) {\n            rows = this.contentModule.getMovableRows();\n        }\n        return rows;\n    };\n    /**\n     * @hidden\n     * @returns {Row<Column>[]} Returns the Row object\n     */\n    Grid.prototype.getFrozenRightRowsObject = function () {\n        var rows = [];\n        if (this.getFrozenMode() === 'Right' || this.getFrozenMode() === 'Left-Right') {\n            rows = this.contentModule.getFrozenRightRows();\n        }\n        return rows;\n    };\n    /**\n     * Gets a column header by column name.\n     *\n     * @param  {string} field - Specifies the column name.\n     * @returns {Element} - Returns the element\n     */\n    Grid.prototype.getColumnHeaderByField = function (field) {\n        var column = this.getColumnByField(field);\n        return column ? this.getColumnHeaderByUid(column.uid) : undefined;\n    };\n    /**\n     * Gets a column header by UID.\n     *\n     * @param {string} uid - Specifies the column uid.\n     * @returns {Element} - Returns the element\n     */\n    Grid.prototype.getColumnHeaderByUid = function (uid) {\n        var element = this.getHeaderContent().querySelector('[e-mappinguid=' + uid + ']');\n        return element ? element.parentElement : undefined;\n    };\n    /**\n     * @hidden\n     * @param {number} index - Defines the index\n     * @returns {Column} Returns the column\n     */\n    Grid.prototype.getColumnByIndex = function (index) {\n        var column;\n        this.getColumns().some(function (col, i) {\n            column = col;\n            return i === index;\n        });\n        return column;\n    };\n    /**\n     * Gets a Column by column name.\n     *\n     * @param  {string} field - Specifies the column name.\n     * @returns {Column} Returns the column\n     */\n    Grid.prototype.getColumnByField = function (field) {\n        return iterateArrayOrObject(this.getColumns(), function (item) {\n            if (item.field === field) {\n                return item;\n            }\n            return undefined;\n        })[0];\n    };\n    /**\n     * Gets a column index by column name.\n     *\n     * @param  {string} field - Specifies the column name.\n     * @returns {number} Returns the index by field\n     */\n    Grid.prototype.getColumnIndexByField = function (field) {\n        var cols = this.getColumns();\n        for (var i = 0; i < cols.length; i++) {\n            if (cols[i].field === field) {\n                return i;\n            }\n        }\n        return -1;\n    };\n    /**\n     * Gets a column by UID.\n     *\n     * @param  {string} uid - Specifies the column UID.\n     * @returns {Column} Returns the column\n     */\n    Grid.prototype.getColumnByUid = function (uid) {\n        return iterateArrayOrObject(this.getColumns().concat(this.getStackedColumns(this.columns)), function (item) {\n            if (item.uid === uid) {\n                return item;\n            }\n            return undefined;\n        })[0];\n    };\n    /**\n     * @param {Column[]} columns - Defines the columns\n     * @param {Column[]} stackedColumn - Defines the stacked columns\n     * @returns {Column[]} Returns the columns\n     * @hidden\n     */\n    Grid.prototype.getStackedColumns = function (columns, stackedColumn) {\n        if (stackedColumn === void 0) { stackedColumn = []; }\n        for (var _i = 0, columns_1 = columns; _i < columns_1.length; _i++) {\n            var column = columns_1[_i];\n            if (column.columns) {\n                stackedColumn.push(column);\n                this.getStackedColumns(column.columns, stackedColumn);\n            }\n        }\n        return stackedColumn;\n    };\n    /**\n     * Gets a column index by UID.\n     *\n     * @param  {string} uid - Specifies the column UID.\n     * @returns {number} Returns the column by index\n     */\n    Grid.prototype.getColumnIndexByUid = function (uid) {\n        var index = iterateArrayOrObject(this.getColumns(), function (item, index) {\n            if (item.uid === uid) {\n                return index;\n            }\n            return undefined;\n        })[0];\n        return !isNullOrUndefined(index) ? index : -1;\n    };\n    /**\n     * Gets UID by column name.\n     *\n     * @param  {string} field - Specifies the column name.\n     * @returns {string} Returns the column by field\n     */\n    Grid.prototype.getUidByColumnField = function (field) {\n        return iterateArrayOrObject(this.getColumns(), function (item) {\n            if (item.field === field) {\n                return item.uid;\n            }\n            return undefined;\n        })[0];\n    };\n    /**\n     * Gets column index by column uid value.\n     *\n     * @private\n     * @param  {string} uid - Specifies the column uid.\n     * @returns {number} Returns the column by field\n     */\n    Grid.prototype.getNormalizedColumnIndex = function (uid) {\n        var index = this.getColumnIndexByUid(uid);\n        return index + this.getIndentCount();\n    };\n    /**\n     * Gets indent cell count.\n     *\n     * @private\n     * @returns {number} Returns the indent count\n     */\n    Grid.prototype.getIndentCount = function () {\n        var index = 0;\n        if (this.allowGrouping) {\n            index += this.groupSettings.columns.length;\n        }\n        if (this.isDetail()) {\n            index++;\n        }\n        if (this.isRowDragable() && isNullOrUndefined(this.rowDropSettings.targetID)) {\n            index++;\n        }\n        /**\n         * TODO: index normalization based on the stacked header, grouping and detailTemplate\n         * and frozen should be handled here\n         */\n        return index;\n    };\n    /**\n     * Gets the collection of column fields.\n     *\n     * @returns {string[]} Returns the Field names\n     */\n    Grid.prototype.getColumnFieldNames = function () {\n        var columnNames = [];\n        var column;\n        for (var i = 0, len = this.getColumns().length; i < len; i++) {\n            column = this.getColumns()[i];\n            if (column.visible) {\n                columnNames.push(column.field);\n            }\n        }\n        return columnNames;\n    };\n    /**\n     * Gets a compiled row template.\n     *\n     * @returns {Function} Returns the row TEmplate\n     * @private\n     */\n    Grid.prototype.getRowTemplate = function () {\n        return this.rowTemplateFn;\n    };\n    /**\n     * Gets a compiled detail row template.\n     *\n     * @private\n     * @returns {Function} Returns the Detail template\n     */\n    Grid.prototype.getDetailTemplate = function () {\n        return this.detailTemplateFn;\n    };\n    /**\n     * Gets a compiled detail row template.\n     *\n     * @private\n     * @returns {Function}Returns the Edit template\n     */\n    Grid.prototype.getEditTemplate = function () {\n        return this.editTemplateFn;\n    };\n    /**\n     * Gets a compiled dialog edit header template.\n     *\n     * @private\n     * @returns {Function} returns template function\n     */\n    Grid.prototype.getEditHeaderTemplate = function () {\n        return this.editHeaderTemplateFn;\n    };\n    /**\n     * Gets a compiled dialog edit footer template.\n     *\n     * @private\n     * @returns {Function} Returns the Footer template\n     */\n    Grid.prototype.getEditFooterTemplate = function () {\n        return this.editFooterTemplateFn;\n    };\n    /**\n     * Get the names of the primary key columns of the Grid.\n     *\n     * @returns {string[]} Returns the field names\n     */\n    Grid.prototype.getPrimaryKeyFieldNames = function () {\n        var keys = [];\n        for (var k = 0; k < this.columnModel.length; k++) {\n            if (this.columnModel[k].isPrimaryKey) {\n                keys.push(this.columnModel[k].field);\n            }\n        }\n        return keys;\n    };\n    /**\n     * Refreshes the Grid header and content.\n     *\n     * @returns {void}\n     */\n    Grid.prototype.refresh = function () {\n        if (!this.isDestroyed) {\n            this.isManualRefresh = true;\n            this.headerModule.refreshUI();\n            this.updateStackedFilter();\n            this.renderModule.refresh();\n        }\n    };\n    /**\n     * Refreshes the Grid header.\n     *\n     * @returns {void}\n     */\n    Grid.prototype.refreshHeader = function () {\n        this.headerModule.refreshUI();\n    };\n    /**\n     * Gets the collection of selected rows.\n     *\n     * @returns {Element[]} Returns the element\n     */\n    Grid.prototype.getSelectedRows = function () {\n        return this.selectionModule ? this.selectionModule.selectedRecords : [];\n    };\n    /**\n     * Gets the collection of selected row indexes.\n     *\n     * @returns {number[]} Returns the Selected row indexes\n     */\n    Grid.prototype.getSelectedRowIndexes = function () {\n        return this.selectionModule ? this.selectionModule.selectedRowIndexes : [];\n    };\n    /**\n     * Gets the collection of selected row and cell indexes.\n     *\n     * @returns {number[]} Returns the Selected row cell indexes\n     */\n    Grid.prototype.getSelectedRowCellIndexes = function () {\n        return this.selectionModule ? this.selectionModule.selectedRowCellIndexes : [];\n    };\n    /**\n     * Gets the collection of selected records.\n     *\n     * @returns {Object[]} Returns the selected records\n     * @isGenericType true\n     */\n    Grid.prototype.getSelectedRecords = function () {\n        return this.selectionModule ? this.selectionModule.getSelectedRecords() : [];\n    };\n    /**\n     * Gets the collection of selected columns uid.\n     *\n     * @returns {string[]} Returns the selected column uid\n     * @isGenericType true\n     */\n    Grid.prototype.getSelectedColumnsUid = function () {\n        var _this = this;\n        var uid = [];\n        if (this.selectionModule) {\n            this.selectionModule.selectedColumnsIndexes.filter(function (i) { return uid.push(_this.getColumns()[i].uid); });\n        }\n        return uid;\n    };\n    /**\n     * Gets the data module.\n     *\n     * @returns {Data} Returns the data\n     */\n    Grid.prototype.getDataModule = function () {\n        return this.renderModule.data;\n    };\n    /**\n     * Shows a column by its column name.\n     *\n     * @param  {string|string[]} keys - Defines a single or collection of column names.\n     * @param  {string} showBy - Defines the column key either as field name or header text.\n     * @returns {void}\n     */\n    Grid.prototype.showColumns = function (keys, showBy) {\n        showBy = showBy ? showBy : 'headerText';\n        this.showHider.show(keys, showBy);\n    };\n    /**\n     * Hides a column by column name.\n     *\n     * @param  {string|string[]} keys - Defines a single or collection of column names.\n     * @param  {string} hideBy - Defines the column key either as field name or header text.\n     * @returns {void}\n     */\n    Grid.prototype.hideColumns = function (keys, hideBy) {\n        hideBy = hideBy ? hideBy : 'headerText';\n        this.showHider.hide(keys, hideBy);\n    };\n    /**\n     * @hidden\n     * @returns {number} Returns the Frozen column\n     */\n    Grid.prototype.getFrozenColumns = function () {\n        return this.frozenColumns + this.getFrozenCount(this.columns, 0, 0);\n    };\n    /**\n     * @hidden\n     * @returns {number} Returns the Frozen Right column count\n     */\n    Grid.prototype.getFrozenRightColumnsCount = function () {\n        return this.frozenRightCount;\n    };\n    /**\n     * @hidden\n     * @returns {number} Returns the Frozen Left column\n     */\n    Grid.prototype.getFrozenLeftColumnsCount = function () {\n        return this.frozenLeftCount;\n    };\n    /**\n     * @hidden\n     * @returns {number} Returns the movable column count\n     */\n    Grid.prototype.getMovableColumnsCount = function () {\n        return this.movableCount;\n    };\n    /**\n     * @hidden\n     * @returns {void}\n     */\n    Grid.prototype.setFrozenCount = function () {\n        this.frozenLeftCount = this.frozenRightCount = this.movableCount = 0;\n        this.visibleFrozenLeft = this.visibleFrozenRight = this.visibleMovable = 0;\n        this.frozenLeftColumns = [];\n        this.frozenRightColumns = [];\n        this.movableColumns = [];\n        this.splitFrozenCount(this.columns);\n        if (this.frozenColumns && (this.frozenLeftCount || this.frozenRightCount)) {\n            this.setProperties({ frozenColumns: 0 }, true);\n        }\n        this.setTablesCount();\n        if (this.frozenLeftCount && !this.frozenRightCount) {\n            this.frozenName = 'Left';\n        }\n        else if (this.frozenRightCount && !this.frozenLeftCount) {\n            this.frozenName = 'Right';\n        }\n        else if (this.frozenLeftCount && this.frozenRightCount) {\n            this.frozenName = 'Left-Right';\n        }\n    };\n    /**\n     * @hidden\n     * @returns {number} Returns the visible Frozen left count\n     */\n    Grid.prototype.getVisibleFrozenLeftCount = function () {\n        return this.visibleFrozenLeft;\n    };\n    /**\n     * @hidden\n     * @returns {number} Returns the visible Frozen Right count\n     */\n    Grid.prototype.getVisibleFrozenRightCount = function () {\n        return this.visibleFrozenRight;\n    };\n    /**\n     * @hidden\n     * @returns {number} Returns the visible movable count\n     */\n    Grid.prototype.getVisibleMovableCount = function () {\n        return this.visibleMovable;\n    };\n    /**\n     * @hidden\n     * @returns {Column[]} Returns the column\n     */\n    Grid.prototype.getFrozenRightColumns = function () {\n        return this.frozenRightColumns;\n    };\n    /**\n     * @hidden\n     * @returns {Column[]} Returns the column\n     */\n    Grid.prototype.getFrozenLeftColumns = function () {\n        return this.frozenLeftColumns;\n    };\n    /**\n     * @hidden\n     * @returns {Column[]} Returns the column\n     */\n    Grid.prototype.getMovableColumns = function () {\n        return this.movableColumns;\n    };\n    Grid.prototype.splitFrozenCount = function (columns) {\n        for (var i = 0; i < columns.length; i++) {\n            if (columns[i].columns) {\n                this.splitFrozenCount(columns[i].columns);\n            }\n            else {\n                if (columns[i].freeze === 'Right') {\n                    if (columns[i].visible !== false) {\n                        this.visibleFrozenRight++;\n                    }\n                    this.frozenRightColumns.push(columns[i]);\n                    this.frozenRightCount++;\n                }\n                else if (columns[i].freeze === 'Left') {\n                    if (columns[i].visible !== false) {\n                        this.visibleFrozenLeft++;\n                    }\n                    this.frozenLeftColumns.push(columns[i]);\n                    this.frozenLeftCount++;\n                }\n                else {\n                    if (columns[i].visible !== false) {\n                        this.visibleMovable++;\n                    }\n                    this.movableColumns.push(columns[i]);\n                    this.movableCount++;\n                }\n            }\n        }\n    };\n    /**\n     * @hidden\n     * @returns {number} Returns the visible frozen columns count\n     */\n    Grid.prototype.getVisibleFrozenColumns = function () {\n        return this.getVisibleFrozenColumnsCount() + this.getVisibleFrozenCount(this.columns, 0);\n    };\n    /**\n     * Get the current Filter operator and field.\n     *\n     * @returns {FilterUI} Returns the filter UI\n     */\n    Grid.prototype.getFilterUIInfo = function () {\n        return this.filterModule ? this.filterModule.getFilterUIInfo() : {};\n    };\n    Grid.prototype.getVisibleFrozenColumnsCount = function () {\n        var visibleFrozenColumns = 0;\n        var columns = this.columnModel;\n        for (var i = 0; i < this.frozenColumns; i++) {\n            if (columns[i].visible) {\n                visibleFrozenColumns++;\n            }\n        }\n        if (this.frozenLeftCount || this.frozenRightCount) {\n            for (var i = 0; i < columns.length; i++) {\n                if (columns[i].visible && (columns[i].freeze === 'Left' || columns[i].freeze === 'Right')) {\n                    visibleFrozenColumns++;\n                }\n            }\n        }\n        return visibleFrozenColumns;\n    };\n    Grid.prototype.getVisibleFrozenCount = function (cols, cnt) {\n        if (!this.frozenLeftCount && !this.frozenRightCount) {\n            for (var i = 0, len = cols.length; i < len; i++) {\n                if (cols[i].columns) {\n                    cnt = this.getVisibleFrozenCount(cols[i].columns, cnt);\n                }\n                else {\n                    if (cols[i].isFrozen && cols[i].visible) {\n                        cnt++;\n                    }\n                }\n            }\n        }\n        return cnt;\n    };\n    Grid.prototype.getFrozenCount = function (cols, cnt, index) {\n        for (var i = 0, len = cols.length; i < len; i++) {\n            if (cols[i].columns) {\n                cnt = this.getFrozenCount(cols[i].columns, cnt, index);\n            }\n            else {\n                if (cols[i].isFrozen && index > this.frozenColumns - 1) {\n                    cnt++;\n                }\n                index++;\n            }\n        }\n        return cnt;\n    };\n    /**\n     * Navigates to the specified target page.\n     *\n     * @param  {number} pageNo - Defines the page number to navigate.\n     * @returns {void}\n     */\n    Grid.prototype.goToPage = function (pageNo) {\n        if (this.pagerModule) {\n            this.pagerModule.goToPage(pageNo);\n        }\n    };\n    /**\n     * Defines the text of external message.\n     *\n     * @param  {string} message - Defines the message to update.\n     * @returns {void}\n     */\n    Grid.prototype.updateExternalMessage = function (message) {\n        if (this.pagerModule) {\n            this.pagerModule.updateExternalMessage(message);\n        }\n    };\n    /**\n     * Sorts a column with the given options.\n     *\n     * @param {string} columnName - Defines the column name to be sorted.\n     * @param {SortDirection} direction - Defines the direction of sorting field.\n     * @param {boolean} isMultiSort - Specifies whether the previous sorted columns are to be maintained.\n     * @returns {void}\n     */\n    Grid.prototype.sortColumn = function (columnName, direction, isMultiSort) {\n        if (this.sortModule) {\n            this.sortModule.sortColumn(columnName, direction, isMultiSort);\n        }\n    };\n    /**\n     * Clears all the sorted columns of the Grid.\n     *\n     * @returns {void}\n     */\n    Grid.prototype.clearSorting = function () {\n        if (this.sortModule) {\n            this.sortModule.clearSorting();\n        }\n    };\n    /**\n     * Remove sorted column by field name.\n     *\n     * @param {string} field - Defines the column field name to remove sort.\n     * @returns {void}\n     * @hidden\n     */\n    Grid.prototype.removeSortColumn = function (field) {\n        if (this.sortModule) {\n            this.sortModule.removeSortColumn(field);\n        }\n    };\n    /**\n    * @hidden\n    * @returns {void}\n    */\n    Grid.prototype.clearGridActions = function () {\n        this.setProperties({ sortSettings: { columns: [] } }, true);\n        this.setProperties({ filterSettings: { columns: [] } }, true);\n        this.setProperties({ searchSettings: { key: '' } }, true);\n        if (this.allowGrouping) {\n            this.setProperties({ groupSettings: { columns: [] } }, false);\n        }\n        else {\n            this.freezeRefresh();\n        }\n    };\n    /**\n     * Filters grid row by column name with the given options.\n     *\n     * @param  {string} fieldName - Defines the field name of the column.\n     * @param  {string} filterOperator - Defines the operator to filter records.\n     * @param  {string | number | Date | boolean} filterValue - Defines the value used to filter records.\n     * @param  {string} predicate - Defines the relationship between one filter query and another by using AND or OR predicate.\n     * @param  {boolean} matchCase - If match case is set to true, the grid filters the records with exact match. if false, it filters case\n     * insensitive records (uppercase and lowercase letters treated the same).\n     * @param  {boolean} ignoreAccent - If ignoreAccent set to true,\n     * then filter ignores the diacritic characters or accents while filtering.\n     * @param  {string} actualFilterValue - Defines the actual filter value for the filter column.\n     * @param  {string} actualOperator - Defines the actual filter operator for the filter column.\n     * @returns {void}\n     */\n    Grid.prototype.filterByColumn = function (fieldName, filterOperator, filterValue, predicate, matchCase, ignoreAccent, actualFilterValue, actualOperator) {\n        if (this.filterModule) {\n            this.filterModule.filterByColumn(fieldName, filterOperator, filterValue, predicate, matchCase, ignoreAccent, actualFilterValue, actualOperator);\n        }\n    };\n    /**\n     * Clears all the filtered rows of the Grid.\n     *\n     * @param {string[]} fields - Defines the Fields\n     * @returns {void}\n     */\n    Grid.prototype.clearFiltering = function (fields) {\n        if (this.filterModule) {\n            this.filterModule.clearFiltering(fields);\n        }\n    };\n    /**\n     * Removes filtered column by field name.\n     *\n     * @param  {string} field - Defines column field name to remove filter.\n     * @param  {boolean} isClearFilterBar -  Specifies whether the filter bar value needs to be cleared.\n     * @returns {void}\n     * @hidden\n     */\n    Grid.prototype.removeFilteredColsByField = function (field, isClearFilterBar) {\n        if (this.filterModule) {\n            this.filterModule.removeFilteredColsByField(field, isClearFilterBar);\n        }\n    };\n    /**\n     * Selects a row by given index.\n     *\n     * @param  {number} index - Defines the row index.\n     * @param  {boolean} isToggle - If set to true, then it toggles the selection.\n     * @returns {void}\n     */\n    Grid.prototype.selectRow = function (index, isToggle) {\n        if (this.selectionModule) {\n            this.selectionModule.selectRow(index, isToggle);\n        }\n    };\n    /**\n     * Selects a collection of rows by indexes.\n     *\n     * @param  {number[]} rowIndexes - Specifies the row indexes.\n     * @returns {void}\n     */\n    Grid.prototype.selectRows = function (rowIndexes) {\n        if (this.selectionModule) {\n            this.selectionModule.selectRows(rowIndexes);\n        }\n    };\n    /**\n     * Deselects the current selected rows and cells.\n     *\n     * @returns {void}\n     */\n    Grid.prototype.clearSelection = function () {\n        if (this.selectionModule) {\n            this.selectionModule.clearSelection();\n        }\n    };\n    /**\n     * Selects a cell by the given index.\n     *\n     * @param  {IIndex} cellIndex - Defines the row and column indexes.\n     * @param  {boolean} isToggle - If set to true, then it toggles the selection.\n     * @returns {void}\n     */\n    Grid.prototype.selectCell = function (cellIndex, isToggle) {\n        if (this.selectionModule) {\n            this.selectionModule.selectCell(cellIndex, isToggle);\n        }\n    };\n    /**\n     * Selects a range of cells from start and end indexes.\n     *\n     * @param  {IIndex} startIndex - Specifies the row and column's start index.\n     * @param  {IIndex} endIndex - Specifies the row and column's end index.\n     * @returns {void}\n     */\n    Grid.prototype.selectCellsByRange = function (startIndex, endIndex) {\n        this.selectionModule.selectCellsByRange(startIndex, endIndex);\n    };\n    /**\n     * Searches Grid records using the given key.\n     * You can customize the default search option by using the\n     * [`searchSettings`](./#searchsettings/).\n     *\n     * @param  {string} searchString - Defines the key.\n     * @returns {void}\n     */\n    Grid.prototype.search = function (searchString) {\n        if (this.searchModule) {\n            this.searchModule.search(searchString);\n        }\n    };\n    /**\n     * By default, prints all the pages of the Grid and hides the pager.\n     * > You can customize print options using the\n     * [`printMode`](./#printmode).\n     *\n     * @returns {void}\n     */\n    Grid.prototype.print = function () {\n        if (this.printModule) {\n            this.printModule.print();\n        }\n    };\n    /**\n     * Delete a record with Given options. If fieldname and data is not given then grid will delete the selected record.\n     * > `editSettings.allowDeleting` should be true.\n     *\n     * @param {string} fieldname - Defines the primary key field, 'Name of the column'.\n     * @param {Object} data - Defines the JSON data of the record to be deleted.\n     * @returns {void}\n     */\n    Grid.prototype.deleteRecord = function (fieldname, data) {\n        if (this.editModule) {\n            this.editModule.deleteRecord(fieldname, data);\n        }\n    };\n    /**\n     * Starts edit the selected row. At least one row must be selected before invoking this method.\n     * `editSettings.allowEditing` should be true.\n     * {% codeBlock src='grid/startEdit/index.md' %}{% endcodeBlock %}\n     *\n     * @returns {void}\n     */\n    Grid.prototype.startEdit = function () {\n        if (this.editModule) {\n            this.editModule.startEdit();\n        }\n    };\n    /**\n     * If Grid is in editable state, you can save a record by invoking endEdit.\n     *\n     * @returns {void}\n     */\n    Grid.prototype.endEdit = function () {\n        if (this.editModule) {\n            this.editModule.endEdit();\n        }\n    };\n    /**\n     * Cancels edited state.\n     *\n     * @returns {void}\n     */\n    Grid.prototype.closeEdit = function () {\n        if (this.editModule) {\n            this.editModule.closeEdit();\n        }\n    };\n    /**\n     * Adds a new record to the Grid. Without passing parameters, it adds empty rows.\n     * > `editSettings.allowEditing` should be true.\n     *\n     * @param {Object} data - Defines the new add record data.\n     * @param {number} index - Defines the row index to be added\n     * @returns {void}\n     */\n    Grid.prototype.addRecord = function (data, index) {\n        if (this.editModule) {\n            this.editModule.addRecord(data, index);\n        }\n    };\n    /**\n     * Delete any visible row by TR element.\n     *\n     * @param {HTMLTableRowElement} tr - Defines the table row element.\n     * @returns {void}\n     */\n    Grid.prototype.deleteRow = function (tr) {\n        if (this.editModule) {\n            this.editModule.deleteRow(tr);\n        }\n    };\n    /**\n     * Changes a particular cell into edited state based on the row index and field name provided in the `batch` mode.\n     *\n     * @param {number} index - Defines row index to edit a particular cell.\n     * @param {string} field - Defines the field name of the column to perform batch edit.\n     * @returns {void}\n     */\n    Grid.prototype.editCell = function (index, field) {\n        if (this.editModule) {\n            this.editModule.editCell(index, field);\n        }\n    };\n    /**\n     * Saves the cell that is currently edited. It does not save the value to the DataSource.\n     *\n     * @returns {void}\n     * {% codeBlock src='grid/saveCell/index.md' %}{% endcodeBlock %}\n     */\n    Grid.prototype.saveCell = function () {\n        if (this.editModule) {\n            this.editModule.saveCell();\n        }\n    };\n    /**\n     * To update the specified cell by given value without changing into edited state.\n     *\n     * @param {number} rowIndex Defines the row index.\n     * @param {string} field Defines the column field.\n     * @param {string | number | boolean | Date} value - Defines the value to be changed.\n     * @returns {void}\n     */\n    Grid.prototype.updateCell = function (rowIndex, field, value) {\n        if (this.editModule) {\n            this.editModule.updateCell(rowIndex, field, value);\n        }\n    };\n    /**\n     * To update the specified row by given values without changing into edited state.\n     *\n     * {% codeBlock src='grid/updateRow/index.md' %}{% endcodeBlock %}\n     *\n     * @param {number} index Defines the row index.\n     * @param {Object} data Defines the data object to be updated.\n     * @returns {void}\n     */\n    Grid.prototype.updateRow = function (index, data) {\n        if (this.editModule) {\n            this.editModule.updateRow(index, data);\n        }\n    };\n    /**\n     * Gets the added, edited,and deleted data before bulk save to the DataSource in batch mode.\n     *\n     * @returns {Object} Returns the batch changes\n     */\n    Grid.prototype.getBatchChanges = function () {\n        if (this.editModule) {\n            return this.editModule.getBatchChanges();\n        }\n        return {};\n    };\n    /**\n     * Enables or disables ToolBar items.\n     *\n     * @param {string[]} items - Defines the collection of itemID of ToolBar items.\n     * @param {boolean} isEnable - Defines the items to be enabled or disabled.\n     * @returns {void}\n     */\n    Grid.prototype.enableToolbarItems = function (items, isEnable) {\n        if (this.toolbarModule) {\n            this.toolbarModule.enableItems(items, isEnable);\n        }\n    };\n    /**\n     * Copy the selected rows or cells data into clipboard.\n     *\n     * @param {boolean} withHeader - Specifies whether the column header text needs to be copied along with rows or cells.\n     * @returns {void}\n     */\n    Grid.prototype.copy = function (withHeader) {\n        if (this.clipboardModule) {\n            this.clipboardModule.copy(withHeader);\n        }\n    };\n    /**\n     * @hidden\n     * @returns {void}\n     */\n    Grid.prototype.recalcIndentWidth = function () {\n        var _this = this;\n        if (!this.getHeaderTable().querySelector('.e-emptycell')) {\n            return;\n        }\n        if ((!this.groupSettings.columns.length && !this.isDetail() && !this.isRowDragable()) ||\n            this.getHeaderTable().querySelector('.e-emptycell').getAttribute('indentRefreshed') ||\n            !this.getContentTable()) {\n            return;\n        }\n        var indentWidth = this.getHeaderTable().querySelector('.e-emptycell').parentElement.offsetWidth;\n        var headerCol = [].slice.call(this.getHeaderTable().querySelector(literals.colGroup).childNodes);\n        var contentCol = [].slice.call(this.getContentTable().querySelector(literals.colGroup).childNodes);\n        var perPixel = indentWidth / 30;\n        var i = this.getFrozenMode() === 'Right' ? this.frozenRightCount : 0;\n        var parentOffset = this.element.offsetWidth;\n        var applyWidth = function (index, width) {\n            if (ispercentageWidth(_this)) {\n                var newWidth = (width / parentOffset * 100).toFixed(1) + '%';\n                headerCol[index].style.width = newWidth;\n                contentCol[index].style.width = newWidth;\n            }\n            else {\n                headerCol[index].style.width = width + 'px';\n                contentCol[index].style.width = width + 'px';\n            }\n            _this.notify(events.columnWidthChanged, { index: index, width: width });\n        };\n        if (perPixel >= 1) {\n            indentWidth = (30 / perPixel);\n        }\n        if (indentWidth < 1) {\n            indentWidth = 1;\n        }\n        if (this.enableColumnVirtualization || this.isAutoGen) {\n            indentWidth = 30;\n        }\n        while (i < this.groupSettings.columns.length) {\n            applyWidth(i, indentWidth);\n            i++;\n        }\n        if (this.isDetail()) {\n            applyWidth(i, indentWidth);\n            i++;\n        }\n        if (this.isRowDragable()) {\n            applyWidth(i, indentWidth);\n        }\n        this.isAutoGen = false;\n        this.getHeaderTable().querySelector('.e-emptycell').setAttribute('indentRefreshed', 'true');\n    };\n    /**\n     * @hidden\n     * @returns {void}\n     */\n    Grid.prototype.resetIndentWidth = function () {\n        if (ispercentageWidth(this)) {\n            this.getHeaderTable().querySelector('.e-emptycell').removeAttribute('indentRefreshed');\n            this.widthService.setWidthToColumns();\n            this.recalcIndentWidth();\n        }\n        if ((this.width === 'auto' || typeof (this.width) === 'string' && this.width.indexOf('%') !== -1)\n            && this.getColumns().filter(function (col) { return (!col.width || col.width === 'auto') && col.minWidth; }).length > 0) {\n            var tgridWidth = this.widthService.getTableWidth(this.getColumns());\n            this.widthService.setMinwidthBycalculation(tgridWidth);\n        }\n        if (this.isFrozenGrid() && this.widthService) {\n            this.widthService.refreshFrozenScrollbar();\n        }\n        if (this.allowTextWrap && this.textWrapSettings.wrapMode !== 'Content') {\n            this.notify(events.refreshHandlers, {});\n        }\n    };\n    /**\n     * @hidden\n     * @returns {boolean} Returns isRowDragable\n     */\n    Grid.prototype.isRowDragable = function () {\n        return this.allowRowDragAndDrop && !this.rowDropSettings.targetID;\n    };\n    /**\n     * Changes the Grid column positions by field names.\n     *\n     * @param  {string} fromFName - Defines the origin field name.\n     * @param  {string} toFName - Defines the destination field name.\n     * @returns {void}\n     */\n    Grid.prototype.reorderColumns = function (fromFName, toFName) {\n        if (this.reorderModule) {\n            this.reorderModule.reorderColumns(fromFName, toFName);\n        }\n    };\n    /**\n     * Changes the Grid column positions by field index. If you invoke reorderColumnByIndex multiple times,\n     * then you won't get the same results every time.\n     *\n     * @param  {number} fromIndex - Defines the origin field index.\n     * @param  {number} toIndex - Defines the destination field index.\n     * @returns {void}\n     */\n    Grid.prototype.reorderColumnByIndex = function (fromIndex, toIndex) {\n        if (this.reorderModule) {\n            this.reorderModule.reorderColumnByIndex(fromIndex, toIndex);\n        }\n    };\n    /**\n     * Changes the Grid column positions by field index. If you invoke reorderColumnByTargetIndex multiple times,\n     * then you will get the same results every time.\n     *\n     * @param  {string} fieldName - Defines the field name.\n     * @param  {number} toIndex - Defines the destination field index.\n     * @returns {void}\n     */\n    Grid.prototype.reorderColumnByTargetIndex = function (fieldName, toIndex) {\n        if (this.reorderModule) {\n            this.reorderModule.reorderColumnByTargetIndex(fieldName, toIndex);\n        }\n    };\n    /**\n     * Changes the Grid Row position with given indexes.\n     *\n     * @param  {number} fromIndexes - Defines the origin Indexes.\n     * @param  {number} toIndex - Defines the destination Index.\n     * @returns {void}\n     */\n    Grid.prototype.reorderRows = function (fromIndexes, toIndex) {\n        if (this.rowDragAndDropModule) {\n            this.rowDragAndDropModule.reorderRows(fromIndexes, toIndex);\n        }\n    };\n    /**\n     * @param {ReturnType} e - Defines the Return type\n     * @returns {void}\n     * @hidden\n     */\n    Grid.prototype.refreshDataSource = function (e) {\n        this.notify('refreshdataSource', e);\n    };\n    /**\n     * @param {boolean} enable -Defines the enable\n     * @returns {void}\n     * @hidden\n     */\n    Grid.prototype.disableRowDD = function (enable) {\n        var headerTable = this.getHeaderTable();\n        var contentTable = this.getContentTable();\n        var headerRows = headerTable.querySelectorAll('th.e-rowdragheader, th.e-mastercell');\n        var rows = this.getRows();\n        var disValue = enable ? 'none' : '';\n        setStyleAttribute(headerTable.querySelector(literals.colGroup).childNodes[0], { 'display': disValue });\n        setStyleAttribute(contentTable.querySelector(literals.colGroup).childNodes[0], { 'display': disValue });\n        for (var i = 0; i < this.getRows().length; i++) {\n            var ele = rows[i].firstElementChild;\n            if (enable) {\n                addClass([ele], 'e-hide');\n            }\n            else {\n                removeClass([ele], ['e-hide']);\n            }\n        }\n        for (var j = 0; j < headerTable.querySelectorAll('th.e-rowdragheader, th.e-mastercell').length; j++) {\n            var ele = headerRows[j];\n            if (enable) {\n                addClass([ele], 'e-hide');\n            }\n            else {\n                removeClass([ele], ['e-hide']);\n            }\n        }\n    };\n    /**\n     * Changes the column width to automatically fit its content to ensure that the width shows the content without wrapping/hiding.\n     * > * This method ignores the hidden columns.\n     * > * Uses the `autoFitColumns` method in the `dataBound` event to resize at initial rendering.\n     *\n     * @param  {string |string[]} fieldNames - Defines the column names.\n     * @returns {void}\n     *\n     *\n     * ```typescript\n     * <div id=\"Grid\"></div>\n     * <script>\n     * let gridObj: Grid = new Grid({\n     *     dataSource: employeeData,\n     *     columns: [\n     *         { field: 'OrderID', headerText: 'Order ID', width:100 },\n     *         { field: 'EmployeeID', headerText: 'Employee ID' }],\n     *     dataBound: () => gridObj.autoFitColumns('EmployeeID')\n     * });\n     * gridObj.appendTo('#Grid');\n     * </script>\n     * ```\n     *\n     */\n    Grid.prototype.autoFitColumns = function (fieldNames) {\n        if (this.resizeModule) {\n            this.resizeModule.autoFitColumns(fieldNames);\n        }\n    };\n    /**\n     * @param {number} x - Defines the number\n     * @param {number} y - Defines the number\n     * @param {Element} target - Defines the Element\n     * @returns {void}\n     * @hidden\n     */\n    Grid.prototype.createColumnchooser = function (x, y, target) {\n        if (this.columnChooserModule) {\n            this.columnChooserModule.renderColumnChooser(x, y, target);\n        }\n    };\n    Grid.prototype.initializeServices = function () {\n        this.serviceLocator.register('widthService', this.widthService = new ColumnWidthService(this));\n        this.serviceLocator.register('cellRendererFactory', new CellRendererFactory);\n        this.serviceLocator.register('rendererFactory', new RendererFactory);\n        this.serviceLocator.register('localization', this.localeObj = new L10n(this.getModuleName(), this.defaultLocale, this.locale));\n        this.serviceLocator.register('valueFormatter', this.valueFormatterService = new ValueFormatter(this.locale));\n        this.serviceLocator.register('showHideService', this.showHider = new ShowHide(this));\n        this.serviceLocator.register('ariaService', this.ariaService = new AriaService());\n        this.serviceLocator.register('focus', this.focusModule = new FocusStrategy(this));\n    };\n    Grid.prototype.processModel = function () {\n        var gCols = this.groupSettings.columns;\n        var sCols = this.sortSettings.columns;\n        var flag;\n        var j;\n        if (this.allowGrouping) {\n            var _loop_1 = function (i, len) {\n                j = 0;\n                for (var sLen = sCols.length; j < sLen; j++) {\n                    if (sCols[j].field === gCols[i]) {\n                        flag = true;\n                        break;\n                    }\n                }\n                if (!flag) {\n                    sCols.push({ field: gCols[i], direction: 'Ascending', isFromGroup: true });\n                }\n                else {\n                    if (this_1.allowSorting) {\n                        this_1.sortedColumns.push(sCols[j].field);\n                    }\n                    else {\n                        sCols[j].direction = 'Ascending';\n                    }\n                }\n                if (!this_1.groupSettings.showGroupedColumn) {\n                    var column = this_1.enableColumnVirtualization ?\n                        this_1.columns.filter(function (c) { return c.field === gCols[i]; })[0] : this_1.getColumnByField(gCols[i]);\n                    if (column) {\n                        column.visible = false;\n                    }\n                    else {\n                        this_1.log('initial_action', { moduleName: 'group', columnName: gCols[i] });\n                    }\n                }\n            };\n            var this_1 = this;\n            for (var i = 0, len = gCols.length; i < len; i++) {\n                _loop_1(i, len);\n            }\n        }\n        if (!gCols.length) {\n            for (var i = 0; i < sCols.length; i++) {\n                this.sortedColumns.push(sCols[i].field);\n            }\n        }\n        this.rowTemplateFn = templateCompiler(this.rowTemplate);\n        this.detailTemplateFn = templateCompiler(this.detailTemplate);\n        this.editTemplateFn = templateCompiler(this.editSettings.template);\n        this.editHeaderTemplateFn = templateCompiler(this.editSettings.headerTemplate);\n        this.editFooterTemplateFn = templateCompiler(this.editSettings.footerTemplate);\n        if (!isNullOrUndefined(this.parentDetails)) {\n            var value = isNullOrUndefined(this.parentDetails.parentKeyFieldValue) ? 'undefined' :\n                this.parentDetails.parentKeyFieldValue;\n            this.query.where(this.queryString, 'equal', value, true);\n        }\n        this.initForeignColumn();\n    };\n    Grid.prototype.initForeignColumn = function () {\n        if (this.isForeignKeyEnabled(this.getColumns())) {\n            this.notify(events.initForeignKeyColumn, this.getForeignKeyColumns());\n        }\n    };\n    Grid.prototype.enableVerticalRendering = function () {\n        if (this.rowRenderingMode === 'Vertical') {\n            this.element.classList.add('e-row-responsive');\n        }\n        else {\n            this.element.classList.remove('e-row-responsive');\n        }\n    };\n    Grid.prototype.gridRender = function () {\n        this.updateRTL();\n        if (this.rowRenderingMode === 'Vertical') {\n            this.element.classList.add('e-row-responsive');\n        }\n        if (this.enableHover) {\n            this.element.classList.add('e-gridhover');\n        }\n        if (Browser.isDevice) {\n            this.element.classList.add('e-device');\n        }\n        if (this.rowHeight) {\n            this.element.classList.add('e-grid-min-height');\n        }\n        classList(this.element, ['e-responsive', 'e-default'], []);\n        var rendererFactory = this.serviceLocator.getService('rendererFactory');\n        this.headerModule = rendererFactory.getRenderer(RenderType.Header);\n        this.contentModule = rendererFactory.getRenderer(RenderType.Content);\n        this.printModule = new Print(this, this.scrollModule);\n        this.clipboardModule = new Clipboard(this);\n        this.renderModule.render();\n        this.eventInitializer();\n        this.createGridPopUpElement();\n        this.widthService.setWidthToColumns();\n        this.updateGridLines();\n        this.applyTextWrap();\n        this.createTooltip(); //for clip mode ellipsis\n        this.enableBoxSelection();\n    };\n    Grid.prototype.dataReady = function () {\n        this.scrollModule.setWidth();\n        this.scrollModule.setHeight();\n        if (this.height !== 'auto') {\n            this.scrollModule.setPadding();\n        }\n    };\n    Grid.prototype.updateRTL = function () {\n        if (this.enableRtl) {\n            this.element.classList.add('e-rtl');\n        }\n        else {\n            this.element.classList.remove('e-rtl');\n        }\n    };\n    Grid.prototype.createGridPopUpElement = function () {\n        var popup = this.createElement('div', { className: 'e-gridpopup', styles: 'display:none;' });\n        var content = this.createElement('div', { className: literals.content, attrs: { tabIndex: '-1' } });\n        append([content, this.createElement('div', { className: 'e-uptail e-tail' })], popup);\n        content.appendChild(this.createElement('span'));\n        append([content, this.createElement('div', { className: 'e-downtail e-tail' })], popup);\n        this.element.appendChild(popup);\n    };\n    Grid.prototype.updateGridLines = function () {\n        classList(this.element, [], ['e-verticallines', 'e-horizontallines', 'e-hidelines', 'e-bothlines']);\n        switch (this.gridLines) {\n            case 'Horizontal':\n                this.element.classList.add('e-horizontallines');\n                break;\n            case 'Vertical':\n                this.element.classList.add('e-verticallines');\n                break;\n            case 'None':\n                this.element.classList.add('e-hidelines');\n                break;\n            case 'Both':\n                this.element.classList.add('e-bothlines');\n                break;\n        }\n        this.updateResizeLines();\n    };\n    Grid.prototype.updateResizeLines = function () {\n        if (this.allowResizing &&\n            !(this.gridLines === 'Vertical' || this.gridLines === 'Both')) {\n            this.element.classList.add('e-resize-lines');\n        }\n        else {\n            this.element.classList.remove('e-resize-lines');\n        }\n    };\n    /**\n     * The function is used to apply text wrap\n     *\n     * @returns {void}\n     * @hidden\n     */\n    Grid.prototype.applyTextWrap = function () {\n        if (this.allowTextWrap) {\n            var headerRows = [].slice.call(this.element.getElementsByClassName('e-columnheader'));\n            switch (this.textWrapSettings.wrapMode) {\n                case 'Header':\n                    wrap(this.element, false);\n                    wrap(this.getContent(), false);\n                    wrap(headerRows, true);\n                    break;\n                case 'Content':\n                    wrap(this.getContent(), true);\n                    wrap(this.element, false);\n                    wrap(headerRows, false);\n                    break;\n                default:\n                    wrap(this.element, true);\n                    wrap(this.getContent(), false);\n                    wrap(headerRows, false);\n            }\n            if (this.textWrapSettings.wrapMode !== 'Content') {\n                this.notify(events.refreshHandlers, {});\n            }\n        }\n    };\n    /**\n     * The function is used to remove text wrap\n     *\n     * @returns {void}\n     * @hidden\n     */\n    Grid.prototype.removeTextWrap = function () {\n        wrap(this.element, false);\n        var headerRows = [].slice.call(this.element.getElementsByClassName('e-columnheader'));\n        wrap(headerRows, false);\n        wrap(this.getContent(), false);\n        if (this.textWrapSettings.wrapMode !== 'Content') {\n            this.notify(events.refreshHandlers, {});\n        }\n    };\n    /**\n     * The function is used to add Tooltip to the grid cell that has ellipsiswithtooltip clip mode.\n     *\n     * @returns {void}\n     * @hidden\n     */\n    Grid.prototype.createTooltip = function () {\n        this.toolTipObj = new Tooltip({ opensOn: 'custom', content: '' }, this.element);\n    };\n    /** @hidden\n     * @returns {void}\n     */\n    Grid.prototype.freezeRefresh = function () {\n        this.isFreezeRefresh = true;\n        if (this.enableVirtualization) {\n            this.pageSettings.currentPage = 1;\n        }\n        this.componentRefresh();\n    };\n    Grid.prototype.getTooltipStatus = function (element) {\n        var headerTable = this.getHeaderTable();\n        var headerDivTag = 'e-gridheader';\n        var htable = this.createTable(headerTable, headerDivTag, 'header');\n        var ctable = this.createTable(headerTable, headerDivTag, 'content');\n        var table = element.classList.contains('e-headercell') ? htable : ctable;\n        var ele = element.classList.contains('e-headercell') ? 'th' : 'tr';\n        table.querySelector(ele).className = element.className;\n        table.querySelector(ele).innerHTML = element.innerHTML;\n        var width = table.querySelector(ele).getBoundingClientRect().width;\n        document.body.removeChild(htable);\n        document.body.removeChild(ctable);\n        if (width > element.getBoundingClientRect().width) {\n            return true;\n        }\n        return false;\n    };\n    Grid.prototype.mouseMoveHandler = function (e) {\n        if (this.isEllipsisTooltip()) {\n            var element = parentsUntil(e.target, 'e-ellipsistooltip');\n            if (this.prevElement !== element || e.type === 'mouseout') {\n                this.toolTipObj.close();\n            }\n            var tagName = e.target.tagName;\n            var elemNames = ['A', 'BUTTON', 'INPUT'];\n            if (element && e.type !== 'mouseout' && !(Browser.isDevice && elemNames.indexOf(tagName) !== -1)) {\n                if (element.getAttribute('aria-describedby')) {\n                    return;\n                }\n                if (this.getTooltipStatus(element)) {\n                    if (element.getElementsByClassName('e-headertext').length) {\n                        this.toolTipObj.content = element.getElementsByClassName('e-headertext')[0].innerText;\n                    }\n                    else {\n                        this.toolTipObj.content = element.innerText;\n                    }\n                    this.prevElement = element;\n                    var col = this.getColumns()[parseInt(element.getAttribute(literals.ariaColIndex), 10)];\n                    if (col.disableHtmlEncode) {\n                        this.toolTipObj.enableHtmlParse = false;\n                    }\n                    this.toolTipObj.open(element);\n                }\n            }\n        }\n        this.hoverFrozenRows(e);\n    };\n    /**\n     * @param {MouseEvent} e - Defines the mouse event\n     * @returns {void}\n     * @hidden\n     */\n    Grid.prototype.hoverFrozenRows = function (e) {\n        if (this.isFrozenGrid()) {\n            var row = parentsUntil(e.target, literals.row);\n            if ([].slice.call(this.element.getElementsByClassName('e-frozenhover')).length && e.type === 'mouseout') {\n                var rows = [].slice.call(this.element.getElementsByClassName('e-frozenhover'));\n                for (var i = 0; i < rows.length; i++) {\n                    rows[i].classList.remove('e-frozenhover');\n                }\n            }\n            else if (row) {\n                var rows = [].slice.call(this.element.querySelectorAll('tr[aria-rowindex=\"' + row.getAttribute(literals.ariaRowIndex) + '\"]'));\n                rows.splice(rows.indexOf(row), 1);\n                for (var i = 0; i < rows.length; i++) {\n                    if (row.getAttribute('aria-selected') !== 'true' && rows[i]) {\n                        rows[i].classList.add('e-frozenhover');\n                    }\n                    else if (rows[i]) {\n                        rows[i].classList.remove('e-frozenhover');\n                    }\n                }\n            }\n        }\n    };\n    Grid.prototype.isEllipsisTooltip = function () {\n        var cols = this.getColumns();\n        if (this.clipMode === 'EllipsisWithTooltip') {\n            return true;\n        }\n        for (var i = 0; i < cols.length; i++) {\n            if (cols[i].clipMode === 'EllipsisWithTooltip') {\n                return true;\n            }\n        }\n        return false;\n    };\n    Grid.prototype.scrollHandler = function () {\n        if (this.isEllipsisTooltip()) {\n            this.toolTipObj.close();\n        }\n    };\n    /**\n     * To create table for ellipsiswithtooltip\n     *\n     * @param {Element} table - Defines the table\n     * @param {string} tag - Defines the tag\n     * @param {string} type - Defines the type\n     * @returns {HTMLDivElement} Returns the HTML div ELement\n     * @hidden\n     */\n    Grid.prototype.createTable = function (table, tag, type) {\n        var myTableDiv = this.createElement('div');\n        myTableDiv.className = this.element.className;\n        myTableDiv.style.cssText = 'display: inline-block;visibility:hidden;position:absolute';\n        var mySubDiv = this.createElement('div');\n        mySubDiv.className = tag;\n        var myTable = this.createElement('table');\n        myTable.className = table.className;\n        myTable.style.cssText = 'table-layout: auto;width: auto';\n        var ele = (type === 'header') ? 'th' : 'td';\n        var myTr = this.createElement('tr');\n        var mytd = this.createElement(ele);\n        myTr.appendChild(mytd);\n        myTable.appendChild(myTr);\n        mySubDiv.appendChild(myTable);\n        myTableDiv.appendChild(mySubDiv);\n        document.body.appendChild(myTableDiv);\n        return myTableDiv;\n    };\n    Grid.prototype.onKeyPressed = function (e) {\n        if (e.action === 'tab' || e.action === 'shiftTab') {\n            this.toolTipObj.close();\n        }\n    };\n    /**\n     * Binding events to the element while component creation.\n     *\n     * @hidden\n     * @returns {void}\n     */\n    Grid.prototype.wireEvents = function () {\n        EventHandler.add(this.element, 'click', this.mouseClickHandler, this);\n        EventHandler.add(this.element, 'touchend', this.mouseClickHandler, this);\n        EventHandler.add(this.element, 'focusout', this.focusOutHandler, this);\n        EventHandler.add(this.element, 'dblclick', this.dblClickHandler, this);\n        EventHandler.add(this.element, 'keydown', this.keyPressHandler, this);\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        EventHandler.add(window, 'resize', this.resetIndentWidth, this);\n        if (this.allowKeyboard) {\n            this.element.tabIndex = this.element.tabIndex === -1 ? 0 : this.element.tabIndex;\n        }\n        this.keyboardModule = new KeyboardEvents(this.element, {\n            keyAction: this.keyActionHandler.bind(this),\n            keyConfigs: this.keyConfigs,\n            eventName: 'keydown'\n        });\n        EventHandler.add(this.getContent().firstElementChild, 'scroll', this.scrollHandler, this);\n        EventHandler.add(this.element, 'mousemove', this.mouseMoveHandler, this);\n        EventHandler.add(this.element, 'mouseout', this.mouseMoveHandler, this);\n        EventHandler.add(this.getContent(), 'touchstart', this.tapEvent, this);\n        EventHandler.add(document.body, 'keydown', this.keyDownHandler, this);\n    };\n    /**\n     * Unbinding events from the element while component destroy.\n     *\n     * @hidden\n     * @returns {void}\n     */\n    Grid.prototype.unwireEvents = function () {\n        EventHandler.remove(this.element, 'click', this.mouseClickHandler);\n        EventHandler.remove(this.element, 'touchend', this.mouseClickHandler);\n        EventHandler.remove(this.element, 'focusout', this.focusOutHandler);\n        EventHandler.remove(this.element, 'dblclick', this.dblClickHandler);\n        EventHandler.remove(this.getContent().firstElementChild, 'scroll', this.scrollHandler);\n        EventHandler.remove(this.element, 'mousemove', this.mouseMoveHandler);\n        EventHandler.remove(this.element, 'mouseout', this.mouseMoveHandler);\n        EventHandler.remove(this.element, 'keydown', this.keyPressHandler);\n        EventHandler.remove(this.getContent(), 'touchstart', this.tapEvent);\n        EventHandler.remove(document.body, 'keydown', this.keyDownHandler);\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        EventHandler.remove(window, 'resize', this.resetIndentWidth);\n    };\n    /**\n     * @hidden\n     * @returns {void}\n     */\n    Grid.prototype.addListener = function () {\n        if (this.isDestroyed) {\n            return;\n        }\n        this.on(events.dataReady, this.dataReady, this);\n        this.on(events.contentReady, this.recalcIndentWidth, this);\n        this.on(events.headerRefreshed, this.recalcIndentWidth, this);\n        this.dataBoundFunction = this.refreshMediaCol.bind(this);\n        this.addEventListener(events.dataBound, this.dataBoundFunction);\n        this.on(events.keyPressed, this.onKeyPressed, this);\n    };\n    /**\n     * @hidden\n     * @returns {void}\n     */\n    Grid.prototype.removeListener = function () {\n        if (this.isDestroyed) {\n            return;\n        }\n        this.off(events.dataReady, this.dataReady);\n        this.off(events.contentReady, this.recalcIndentWidth);\n        this.off(events.headerRefreshed, this.recalcIndentWidth);\n        this.removeEventListener(events.dataBound, this.dataBoundFunction);\n        this.off(events.keyPressed, this.onKeyPressed);\n    };\n    /**\n     * Get current visible data of grid.\n     *\n     * @returns {Object[]} Returns the current view records\n     * @isGenericType true\n     */\n    Grid.prototype.getCurrentViewRecords = function () {\n        if (isGroupAdaptive(this)) {\n            return isNullOrUndefined(this.currentViewData.records) ?\n                this.currentViewData : this.currentViewData.records;\n        }\n        if (this.groupSettings.enableLazyLoading) {\n            return this.currentViewData;\n        }\n        return (this.allowGrouping && this.groupSettings.columns.length && this.currentViewData.length\n            && this.currentViewData.records) ? this.currentViewData.records\n            : this.currentViewData;\n    };\n    Grid.prototype.mouseClickHandler = function (e) {\n        if (this.isChildGrid(e) || (parentsUntil(e.target, 'e-gridpopup') && e.touches) ||\n            this.element.getElementsByClassName('e-cloneproperties').length || this.checkEdit(e)) {\n            return;\n        }\n        if (((!this.allowRowDragAndDrop && (parentsUntil(e.target, literals.gridContent) ||\n            e.target.tagName === 'TD')) || (!(this.allowGrouping || this.allowReordering) &&\n            parentsUntil(e.target, 'e-gridheader'))) && e.touches) {\n            return;\n        }\n        if (parentsUntil(e.target, 'e-gridheader') && this.allowRowDragAndDrop &&\n            !(parentsUntil(e.target, 'e-filterbarcell'))) {\n            e.preventDefault();\n        }\n        var args = this.getRowInfo(e.target);\n        var cancel = 'cancel';\n        args[cancel] = false;\n        var isDataRow = false;\n        var tr = closest(e.target, 'tr');\n        if (tr && tr.getAttribute('data-uid')) {\n            var rowObj = this.getRowObjectFromUID(tr.getAttribute('data-uid'));\n            isDataRow = rowObj ? rowObj.isDataRow : false;\n        }\n        if (isDataRow) {\n            this.trigger(events.recordClick, args);\n        }\n        this.notify(events.click, e);\n    };\n    Grid.prototype.checkEdit = function (e) {\n        var tr = parentsUntil(e.target, literals.row);\n        var isEdit = this.editSettings.mode !== 'Batch' &&\n            this.isEdit && tr && (tr.classList.contains(literals.editedRow) || tr.classList.contains(literals.addedRow));\n        return !parentsUntil(e.target, 'e-unboundcelldiv') && (isEdit || (parentsUntil(e.target, literals.rowCell) &&\n            parentsUntil(e.target, literals.rowCell).classList.contains('e-editedbatchcell')));\n    };\n    Grid.prototype.dblClickHandler = function (e) {\n        var grid = parentsUntil(e.target, 'e-grid');\n        if (isNullOrUndefined(grid) || grid.id !== this.element.id || closest(e.target, '.e-unboundcelldiv')) {\n            return;\n        }\n        var dataRow = false;\n        var tr = closest(e.target, 'tr');\n        if (tr && tr.getAttribute('data-uid')) {\n            var rowObj = this.getRowObjectFromUID(tr.getAttribute('data-uid'));\n            dataRow = rowObj ? rowObj.isDataRow : false;\n        }\n        var args = this.getRowInfo(e.target);\n        args.target = e.target;\n        if (dataRow) {\n            this.trigger(events.recordDoubleClick, args);\n        }\n        this.notify(events.dblclick, e);\n    };\n    Grid.prototype.focusOutHandler = function (e) {\n        if (this.isChildGrid(e)) {\n            return;\n        }\n        if (!parentsUntil(e.target, 'e-grid')) {\n            this.element.querySelector('.e-gridpopup').style.display = 'None';\n        }\n        var filterClear = this.element.querySelector('.e-cancel:not(.e-hide)');\n        if (filterClear) {\n            filterClear.classList.add('e-hide');\n        }\n        var relatedTarget = e.relatedTarget;\n        var ariaOwns = relatedTarget ? relatedTarget.getAttribute('aria-owns') : null;\n        if ((!relatedTarget || (!parentsUntil(relatedTarget, 'e-grid') &&\n            (!isNullOrUndefined(ariaOwns) &&\n                (ariaOwns)) !== e.target.getAttribute('aria-owns')))\n            && !this.keyPress && this.isEdit && !Browser.isDevice) {\n            if (this.editSettings.mode === 'Batch' && !((parentsUntil(relatedTarget, 'e-ddl') || parentsUntil(relatedTarget, 'e-ddt')) &&\n                parentsUntil(relatedTarget, 'e-input-group'))) {\n                this.editModule.saveCell();\n                this.notify(events.editNextValCell, {});\n            }\n            if (this.editSettings.mode === 'Normal') {\n                this.editModule.editFormValidate();\n            }\n        }\n        this.keyPress = false;\n    };\n    Grid.prototype.isChildGrid = function (e) {\n        var gridElement = parentsUntil(e.target, 'e-grid');\n        if ((gridElement && gridElement.id !== this.element.id) || (parentsUntil(e.target, 'e-unboundcelldiv') &&\n            isNullOrUndefined(gridElement))) {\n            return true;\n        }\n        return false;\n    };\n    /**\n     * @param {Object} persistedData - Defines the persisted data\n     * @returns {void}\n     * @hidden\n     */\n    Grid.prototype.mergePersistGridData = function (persistedData) {\n        var data = this.getLocalData();\n        if (!(isNullOrUndefined(data) || (data === '')) || !isNullOrUndefined(persistedData)) {\n            var dataObj = !isNullOrUndefined(persistedData) ? persistedData : JSON.parse(data);\n            if (this.enableVirtualization) {\n                dataObj.pageSettings.currentPage = 1;\n            }\n            var keys = Object.keys(dataObj);\n            this.isProtectedOnChange = true;\n            for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n                var key = keys_1[_i];\n                if ((typeof this[key] === 'object') && !isNullOrUndefined(this[key])) {\n                    if (Array.isArray(this[key]) && key === 'columns') {\n                        setColumnIndex(this[key]);\n                        this.mergeColumns(dataObj[key], this[key]);\n                        this[key] = dataObj[key];\n                    }\n                    else {\n                        extend(this[key], dataObj[key]);\n                    }\n                }\n                else {\n                    this[key] = dataObj[key];\n                }\n            }\n            this.isProtectedOnChange = false;\n        }\n    };\n    Grid.prototype.mergeColumns = function (storedColumn, columns) {\n        var storedColumns = storedColumn;\n        var _loop_2 = function (i) {\n            var localCol = columns.filter(function (tCol) { return tCol.index === storedColumns[i].index; })[0];\n            if (!isNullOrUndefined(localCol)) {\n                if (localCol.columns && localCol.columns.length) {\n                    this_2.mergeColumns(storedColumns[i].columns, localCol.columns);\n                    storedColumns[i] = extend(localCol, storedColumns[i], {}, true);\n                }\n                else {\n                    storedColumns[i] = extend(localCol, storedColumns[i], {}, true);\n                }\n            }\n        };\n        var this_2 = this;\n        for (var i = 0; i < storedColumns.length; i++) {\n            _loop_2(i);\n        }\n    };\n    /**\n     * @hidden\n     * @returns {boolean} Returns the isDetail\n     */\n    Grid.prototype.isDetail = function () {\n        return !isNullOrUndefined(this.detailTemplate) || !isNullOrUndefined(this.childGrid);\n    };\n    Grid.prototype.isCommandColumn = function (columns) {\n        var _this = this;\n        return columns.some(function (col) {\n            if (col.columns) {\n                return _this.isCommandColumn(col.columns);\n            }\n            return !!(col.commands || col.commandsTemplate);\n        });\n    };\n    Grid.prototype.isForeignKeyEnabled = function (columns) {\n        var _this = this;\n        return columns.some(function (col) {\n            if (col.columns) {\n                return _this.isForeignKeyEnabled(col.columns);\n            }\n            return !!(col.dataSource && col.foreignKeyValue);\n        });\n    };\n    Grid.prototype.keyPressHandler = function (e) {\n        var presskey = extend(e, { cancel: false });\n        this.trigger('keyPressed', presskey);\n        if (presskey.cancel === true) {\n            e.stopImmediatePropagation();\n        }\n    };\n    Grid.prototype.keyDownHandler = function (e) {\n        if (e.altKey) {\n            if (e.keyCode === 74) { //alt j\n                if (this.keyA) { //alt A J\n                    this.notify(events.groupCollapse, { target: e.target, collapse: false });\n                    this.keyA = false;\n                }\n                else {\n                    this.focusModule.focusHeader();\n                    this.focusModule.addOutline();\n                }\n            }\n            if (e.keyCode === 87) { //alt w\n                this.focusModule.focusContent();\n                this.focusModule.addOutline();\n            }\n            if (e.keyCode === 65) { //alt A\n                this.keyA = true;\n            }\n            if (e.keyCode === 72 && this.keyA) { //alt A H\n                this.notify(events.groupCollapse, { target: e.target, collapse: true });\n                this.keyA = false;\n            }\n        }\n        if (e.keyCode === 13) {\n            this.notify(events.enterKeyHandler, e);\n        }\n    };\n    Grid.prototype.keyActionHandler = function (e) {\n        if (this.isChildGrid(e) ||\n            (this.isEdit && e.action !== 'escape' && e.action !== 'enter' && e.action !== 'shiftEnter'\n                && e.action !== 'tab' && e.action !== 'shiftTab')) {\n            return;\n        }\n        else {\n            this.keyPress = true;\n        }\n        if (this.allowKeyboard) {\n            if (e.action === 'ctrlPlusP') {\n                e.preventDefault();\n                this.print();\n            }\n            this.notify(events.keyPressed, e);\n        }\n    };\n    /**\n     * @param {Function[]} modules - Defines the modules\n     * @returns {void}\n     * @hidden\n     */\n    Grid.prototype.setInjectedModules = function (modules) {\n        this.injectedModules = modules;\n    };\n    Grid.prototype.updateColumnObject = function () {\n        prepareColumns(this.columns, this.enableColumnVirtualization, this);\n        setColumnIndex(this.columns);\n        this.initForeignColumn();\n        this.notify(events.autoCol, {});\n    };\n    /**\n     * Gets the foreign columns from Grid.\n     *\n     * @returns {Column[]} Returns Foreign key column\n     */\n    Grid.prototype.getForeignKeyColumns = function () {\n        return this.getColumns().filter(function (col) {\n            return col.isForeignColumn();\n        });\n    };\n    /**\n     * @hidden\n     * @returns {number} Returns row height\n     */\n    Grid.prototype.getRowHeight = function () {\n        return this.rowHeight ? this.rowHeight : getRowHeight(this.element);\n    };\n    /**\n     * Refreshes the Grid column changes.\n     *\n     * @returns {void}\n     */\n    Grid.prototype.refreshColumns = function () {\n        this.setFrozenCount();\n        var fCnt = this.getContent().querySelector('.e-frozen-left-content');\n        var frCnt = this.getContent().querySelector('.e-frozen-right-content');\n        var isColFrozen = !this.frozenRightCount && !this.frozenLeftCount;\n        var isFrozen = this.getFrozenColumns() !== 0;\n        if (!isFrozen && ((!fCnt && this.frozenLeftCount) || (!frCnt && this.frozenRightCount) || (fCnt && !this.frozenLeftCount)\n            || (frCnt && !this.frozenRightCount))) {\n            this.tableIndex = 0;\n            this.tablesCount = 1;\n            if (this.enableColumnVirtualization) {\n                this.columnModel = [];\n                this.updateColumnModel(this.columns);\n            }\n            this.freezeRefresh();\n        }\n        else if (isColFrozen && ((this.getFrozenColumns() === 1 && !fCnt) || (this.getFrozenColumns() === 0 && fCnt))) {\n            this.tableIndex = 0;\n            this.tablesCount = 1;\n            if (this.enableColumnVirtualization) {\n                this.columnModel = [];\n                this.updateColumnModel(this.columns);\n            }\n            this.freezeRefresh();\n        }\n        else {\n            this.isPreventScrollEvent = true;\n            this.updateColumnObject();\n            this.checkLockColumns(this.getColumns());\n            this.refresh();\n            if (this.isFrozenGrid()) {\n                var mTbl = this.contentModule.getMovableContent().querySelector('.' + literals.table);\n                remove(mTbl.querySelector(literals.colGroup));\n                var colGroup = ((this.getHeaderContent()\n                    .querySelector('.' + literals.movableHeader).querySelector(literals.colGroup)).cloneNode(true));\n                mTbl.insertBefore(colGroup, mTbl.querySelector(literals.tbody));\n                if (this.getFrozenMode() === 'Left-Right') {\n                    var frTbl = this.contentModule.getFrozenRightContent().querySelector('.' + literals.table);\n                    remove(frTbl.querySelector(literals.colGroup));\n                    var colGrp = ((this.getHeaderContent()\n                        .querySelector('.e-frozen-right-header').querySelector(literals.colGroup)).cloneNode(true));\n                    frTbl.insertBefore(colGrp, frTbl.querySelector(literals.tbody));\n                }\n            }\n        }\n        if (this.isFrozenGrid()) {\n            var left = this.getContent().querySelector('.e-movablescrollbar').scrollLeft;\n            this.headerModule.getMovableHeader().scrollLeft = left;\n            this.contentModule.getMovableContent().scrollLeft = left;\n        }\n    };\n    /**\n     * Export Grid data to Excel file(.xlsx).\n     *\n     * @param  {ExcelExportProperties} excelExportProperties - Defines the export properties of the Grid.\n     * @param  {boolean} isMultipleExport - Define to enable multiple export.\n     * @param  {Workbook} workbook - Defines the Workbook if multiple export is enabled.\n     * @param  {boolean} isBlob - If 'isBlob' set to true, then it will be returned as blob data.\n     * @returns {Promise<any>} Returns the excelexport\n     */\n    Grid.prototype.excelExport = function (excelExportProperties, isMultipleExport, \n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    workbook, isBlob) {\n        return this.excelExportModule ?\n            this.excelExportModule.Map(this, excelExportProperties, isMultipleExport, workbook, false, isBlob) : null;\n    };\n    /**\n     * Export Grid data to CSV file.\n     *\n     * @param  {ExcelExportProperties} excelExportProperties - Defines the export properties of the Grid.\n     * @param  {boolean} isMultipleExport - Define to enable multiple export.\n     * @param  {Workbook} workbook - Defines the Workbook if multiple export is enabled.\n     * @param  {boolean} isBlob - If 'isBlob' set to true, then it will be returned as blob data.\n     * @returns {Promise<any>} Returns csv export\n     */\n    Grid.prototype.csvExport = function (excelExportProperties, \n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    isMultipleExport, workbook, isBlob) {\n        return this.excelExportModule ?\n            this.excelExportModule.Map(this, excelExportProperties, isMultipleExport, workbook, true, isBlob) : null;\n    };\n    /**\n     * Export Grid data to PDF document.\n     *\n     * @param {pdfExportProperties} pdfExportProperties - Defines the export properties of the Grid.\n     * @param {isMultipleExport} isMultipleExport - Define to enable multiple export.\n     * @param {pdfDoc} pdfDoc - Defined the Pdf Document if multiple export is enabled.\n     * @param {boolean} isBlob - If 'isBlob' set to true, then it will be returned as blob data.\n     * @returns {Promise<any>} Returns pdfexport\n     */\n    Grid.prototype.pdfExport = function (pdfExportProperties, isMultipleExport, pdfDoc, isBlob) {\n        return this.pdfExportModule ? this.pdfExportModule.Map(this, pdfExportProperties, isMultipleExport, pdfDoc, isBlob) : null;\n    };\n    /**\n     * Groups a column by column name.\n     *\n     * @param  {string} columnName - Defines the column name to group.\n     * @returns {void}\n     */\n    Grid.prototype.groupColumn = function (columnName) {\n        if (this.groupModule) {\n            this.groupModule.groupColumn(columnName);\n        }\n    };\n    /**\n     * Expands all the grouped rows of the Grid.\n     *\n     * @returns {void}\n     */\n    Grid.prototype.groupExpandAll = function () {\n        if (this.groupModule) {\n            this.groupModule.expandAll();\n        }\n    };\n    /**\n     * Collapses all the grouped rows of the Grid.\n     *\n     * @returns {void}\n     */\n    Grid.prototype.groupCollapseAll = function () {\n        if (this.groupModule) {\n            this.groupModule.collapseAll();\n        }\n    };\n    /**\n     * Expands or collapses grouped rows by target element.\n     *\n     * @param  {Element} target - Defines the target element of the grouped row.\n     * @returns {void}\n     */\n    // public expandCollapseRows(target: Element): void {\n    //     if (this.groupModule) {\n    //         this.groupModule.expandCollapseRows(target);\n    //     }\n    // }\n    /**\n     * Clears all the grouped columns of the Grid.\n     *\n     * @returns {void}\n     */\n    Grid.prototype.clearGrouping = function () {\n        if (this.groupModule) {\n            this.groupModule.clearGrouping();\n        }\n    };\n    /**\n     * Ungroups a column by column name.\n     *\n     * {% codeBlock src='grid/ungroupColumn/index.md' %}{% endcodeBlock %}\n     *\n     * @param  {string} columnName - Defines the column name to ungroup.\n     * @returns {void}\n     */\n    Grid.prototype.ungroupColumn = function (columnName) {\n        if (this.groupModule) {\n            this.groupModule.ungroupColumn(columnName);\n        }\n    };\n    /**\n     * Column chooser can be displayed on screen by given position(X and Y axis).\n     *\n     * @param {number} x - Defines the X axis.\n     * @param {number} y - Defines the Y axis.\n     * @returns {void}\n     */\n    Grid.prototype.openColumnChooser = function (x, y) {\n        if (this.columnChooserModule) {\n            this.columnChooserModule.openColumnChooser(x, y);\n        }\n    };\n    Grid.prototype.scrollRefresh = function () {\n        var _this = this;\n        var refresh = function () {\n            _this.scrollModule.refresh();\n            _this.off(events.contentReady, refresh);\n        };\n        this.on(events.contentReady, refresh, this);\n    };\n    /**\n     * Collapses a detail row with the given target.\n     *\n     * @param  {Element} target - Defines the expanded element to collapse.\n     * @returns {void}\n     */\n    // public detailCollapse(target: number | Element): void {\n    //     if (this.detailRowModule) {\n    //         this.detailRowModule.collapse(target);\n    //     }\n    // }\n    /**\n     * Collapses all the detail rows of the Grid.\n     *\n     * @returns {void}\n     */\n    Grid.prototype.detailCollapseAll = function () {\n        if (this.detailRowModule) {\n            this.detailRowModule.collapseAll();\n        }\n    };\n    /**\n     * Expands a detail row with the given target.\n     *\n     * @param  {Element} target - Defines the collapsed element to expand.\n     * @returns {void}\n     */\n    // public detailExpand(target: number | Element): void {\n    //     if (this.detailRowModule) {\n    //         this.detailRowModule.expand(target);\n    //     }\n    // }\n    /**\n     * Expands all the detail rows of the Grid.\n     *\n     * @returns {void}\n     */\n    Grid.prototype.detailExpandAll = function () {\n        if (this.detailRowModule) {\n            this.detailRowModule.expandAll();\n        }\n    };\n    /**\n     * Deselects the currently selected cells.\n     *\n     * @returns {void}\n     */\n    Grid.prototype.clearCellSelection = function () {\n        if (this.selectionModule) {\n            this.selectionModule.clearCellSelection();\n        }\n    };\n    /**\n     * Deselects the currently selected rows.\n     *\n     * @returns {void}\n     */\n    Grid.prototype.clearRowSelection = function () {\n        if (this.selectionModule) {\n            this.selectionModule.clearRowSelection();\n        }\n    };\n    /**\n     * Selects a collection of cells by row and column indexes.\n     *\n     * @param  {ISelectedCell[]} rowCellIndexes - Specifies the row and column indexes.\n     * @returns {void}\n     */\n    Grid.prototype.selectCells = function (rowCellIndexes) {\n        if (this.selectionModule) {\n            this.selectionModule.selectCells(rowCellIndexes);\n        }\n    };\n    /**\n     * Selects a range of rows from start and end row indexes.\n     *\n     * @param  {number} startIndex - Specifies the start row index.\n     * @param  {number} endIndex - Specifies the end row index.\n     * @returns {void}\n     */\n    Grid.prototype.selectRowsByRange = function (startIndex, endIndex) {\n        if (this.selectionModule) {\n            this.selectionModule.selectRowsByRange(startIndex, endIndex);\n        }\n    };\n    /**\n     * @hidden\n     * @returns {boolean} Returns whether context menu is open or not\n     */\n    Grid.prototype.isContextMenuOpen = function () {\n        return this.contextMenuModule && this.contextMenuModule.isOpen;\n    };\n    /**\n     * @param {Function} module - Defines the module\n     * @returns {boolean} return the injected modules\n     * @hidden\n     */\n    Grid.prototype.ensureModuleInjected = function (module) {\n        return this.getInjectedModules().indexOf(module) >= 0;\n    };\n    /**\n     * Destroys the given template reference.\n     *\n     * @param {string[]} propertyNames - Defines the collection of template name.\n     * @param {any} index - specifies the index\n     */\n    // eslint-disable-next-line\n    Grid.prototype.destroyTemplate = function (propertyNames, index) {\n        this.clearTemplate(propertyNames, index);\n    };\n    /**\n     * @param {string | string[]} type - Defines the type\n     * @param {Object} args - Defines the arguments\n     * @returns {void}\n     * @hidden\n     * @private\n     */\n    Grid.prototype.log = function (type, args) {\n        // eslint-disable-next-line\n        this.loggerModule ? this.loggerModule.log(type, args) : (function () { return 0; })();\n    };\n    /**\n     * @param {Element} element - Defines the element\n     * @returns {void}\n     * @hidden\n     */\n    Grid.prototype.applyBiggerTheme = function (element) {\n        if (this.element.classList.contains('e-bigger')) {\n            element.classList.add('e-bigger');\n        }\n    };\n    /**\n     * @hidden\n     * @returns {Object} Returns the previous row data\n     */\n    Grid.prototype.getPreviousRowData = function () {\n        var previousRowData = this.getRowsObject()[this.getRows().length - 1].data;\n        return previousRowData;\n    };\n    /**\n     * Hides the scrollbar placeholder of Grid content when grid content is not overflown.\n     *\n     * @returns {void}\n     */\n    Grid.prototype.hideScroll = function () {\n        var content = this.getContent().querySelector('.' + literals.content);\n        var scrollBar = this.getContent().querySelector('.e-scrollbar');\n        if (content.scrollHeight <= content.clientHeight) {\n            this.scrollModule.removePadding();\n            content.style.overflowY = 'auto';\n        }\n        if (this.isFrozenGrid() && scrollBar) {\n            var mvblScrollBar = this.getContent().querySelector('.e-movablescrollbar');\n            var mvblChild = this.getContent().querySelector('.e-movablechild');\n            scrollBar.style.display = 'flex';\n            if (mvblScrollBar.offsetWidth >= mvblChild.offsetWidth) {\n                scrollBar.style.display = 'none';\n                this.notify(events.frozenHeight, 0);\n            }\n        }\n    };\n    /**\n     * Get row index by primary key or row data.\n     *\n     * @param  {string | Object} value - Defines the primary key value.\n     * @returns {number} Returns the index\n     */\n    Grid.prototype.getRowIndexByPrimaryKey = function (value) {\n        var pkName = this.getPrimaryKeyFieldNames()[0];\n        value = typeof value === 'object' ? value[pkName] : value;\n        var rows = this.getRowsObject();\n        for (var i = 0; i < rows.length; i++) {\n            if (rows[i].isDetailRow || rows[i].isCaptionRow) {\n                continue;\n            }\n            var pKvalue = rows[i].data[pkName];\n            if (pkName.split('.').length > 1) {\n                pKvalue = performComplexDataOperation(pkName, rows[i].data);\n            }\n            if (pKvalue === value) {\n                return rows[i].index;\n            }\n        }\n        return -1;\n    };\n    /**\n     * @param {string} field - Defines the field name\n     * @returns {Column} returns the column\n     * @hidden\n     */\n    // Need to have all columns while filtering with ColumnVirtualization.\n    Grid.prototype.grabColumnByFieldFromAllCols = function (field) {\n        var column;\n        this.columnModel = [];\n        this.updateColumnModel(this.columns);\n        var gCols = this.columnModel;\n        for (var i = 0; i < gCols.length; i++) {\n            if (field === gCols[i].field) {\n                column = gCols[i];\n            }\n        }\n        return column;\n    };\n    /**\n     * @param {string} uid - Defines the uid\n     * @returns {Column} returns the column\n     * @hidden\n     */\n    // Need to have all columns while filtering with ColumnVirtualization.\n    Grid.prototype.grabColumnByUidFromAllCols = function (uid) {\n        var column;\n        this.columnModel = [];\n        this.updateColumnModel(this.columns);\n        var gCols = this.columnModel;\n        for (var i = 0; i < gCols.length; i++) {\n            if (uid === gCols[i].uid) {\n                column = gCols[i];\n            }\n        }\n        return column;\n    };\n    /**\n     * Get all filtered records from the Grid and it returns array of objects for the local dataSource, returns a promise object if the Grid has remote data.\n     *\n     * @returns {Object[] | Promise<Object>} Returns the filtered records\n     */\n    Grid.prototype.getFilteredRecords = function () {\n        if (this.allowFiltering && this.filterSettings.columns.length) {\n            var query = this.renderModule.data.generateQuery(true);\n            if (this.dataSource && this.renderModule.data.isRemote() && this.dataSource instanceof DataManager) {\n                return this.renderModule.data.getData(this.dataSource, query);\n            }\n            else {\n                if (this.dataSource instanceof DataManager) {\n                    return this.dataSource.executeLocal(query);\n                }\n                else {\n                    return new DataManager(this.dataSource, query).executeLocal(query);\n                }\n            }\n        }\n        return [];\n    };\n    Grid.prototype.getUserAgent = function () {\n        var userAgent = Browser.userAgent.toLowerCase();\n        return /iphone|ipod|ipad/.test(userAgent);\n    };\n    /**\n     * @param {TouchEventArgs} e - Defines the TouchEventArgs\n     * @returns {void}\n     * @hidden\n     */\n    // Need to have all columns while filtering with ColumnVirtualization.\n    // eslint-disable-next-line\n    Grid.prototype.tapEvent = function (e) {\n        if (this.getUserAgent()) {\n            if (!Global.timer) {\n                Global.timer = setTimeout(function () {\n                    Global.timer = null;\n                }, 300);\n            }\n            else {\n                clearTimeout(Global.timer);\n                Global.timer = null;\n                this.dblClickHandler(e);\n                this.notify(events.doubleTap, e);\n            }\n        }\n    };\n    /**\n     * @param {string} prefix - specifies the prefix\n     * @returns {string} returns the row uid\n     * @hidden\n     */\n    Grid.prototype.getRowUid = function (prefix) {\n        return \"\" + prefix + this.rowUid++;\n    };\n    /**\n     * @hidden\n     * @returns {Element} returns the element\n     */\n    Grid.prototype.getMovableVirtualContent = function () {\n        return this.getContent().querySelector('.' + literals.movableContent);\n    };\n    /**\n     * @hidden\n     * @returns {Element} returns the element\n     */\n    Grid.prototype.getFrozenVirtualContent = function () {\n        return this.getContent().querySelector('.' + literals.frozenContent);\n    };\n    /**\n     * @hidden\n     * @returns {Element} returns the element\n     */\n    Grid.prototype.getMovableVirtualHeader = function () {\n        return this.getHeaderContent().querySelector('.' + literals.movableHeader);\n    };\n    /**\n     * @hidden\n     * @returns {Element} returns the element\n     */\n    Grid.prototype.getFrozenVirtualHeader = function () {\n        return this.getHeaderContent().querySelector('.' + literals.frozenHeader);\n    };\n    /**\n     * @param {string} uid - specifies the uid\n     * @returns {Element} returns the element\n     * @hidden\n     */\n    Grid.prototype.getRowElementByUID = function (uid) {\n        var rowEle;\n        var rows = [];\n        if (this.isFrozenGrid()) {\n            var fRows = [].slice.call(this.getFrozenVirtualContent().querySelector(literals.tbody).children);\n            var mRows = [].slice.call(this.getMovableVirtualContent().querySelector(literals.tbody).children);\n            var frozenRigtRows = [];\n            if (this.tablesCount === 3) {\n                frozenRigtRows = [].slice.call(this.getContent().querySelector('.e-frozen-right-content').querySelector(literals.tbody).children);\n            }\n            if (this.frozenRows) {\n                rows = [].slice.call(this.getFrozenVirtualHeader().querySelector(literals.tbody).children);\n                rows = rows.concat([].slice.call(this.getMovableVirtualHeader().querySelector(literals.tbody).children));\n                if (this.tablesCount === 3) {\n                    var frHdr = this.getHeaderContent().querySelector('.e-frozen-right-header');\n                    rows = rows.concat([].slice.call(frHdr.querySelector(literals.tbody).children)).concat(frozenRigtRows);\n                }\n                rows = rows.concat(fRows).concat(mRows);\n            }\n            else {\n                rows = fRows.concat(mRows).concat(frozenRigtRows);\n            }\n        }\n        else {\n            var cntRows = [].slice.call(this.getContent().querySelector(literals.tbody).children);\n            if (this.frozenRows) {\n                rows = [].slice.call(this.getHeaderContent().querySelector(literals.tbody).children);\n                rows = rows.concat(cntRows);\n            }\n            else {\n                rows = cntRows;\n            }\n        }\n        for (var _i = 0, rows_2 = rows; _i < rows_2.length; _i++) {\n            var row = rows_2[_i];\n            if (row.getAttribute('data-uid') === uid) {\n                rowEle = row;\n                break;\n            }\n        }\n        return rowEle;\n    };\n    /**\n     * Gets the hidden columns from the Grid.\n     *\n     * @returns {Column[]} Returns the Column\n     */\n    Grid.prototype.getHiddenColumns = function () {\n        var cols = [];\n        for (var _i = 0, _a = this.columnModel; _i < _a.length; _i++) {\n            var col = _a[_i];\n            if (col.visible === false) {\n                cols.push(col);\n            }\n        }\n        return cols;\n    };\n    /**\n     * calculatePageSizeByParentHeight\n     *\n     * @param {number | string } containerHeight - specifies the container height\n     * @returns {number} returns the page size\n     */\n    Grid.prototype.calculatePageSizeByParentHeight = function (containerHeight) {\n        if (this.allowPaging) {\n            if ((this.allowTextWrap && this.textWrapSettings.wrapMode === 'Header') || (!this.allowTextWrap)) {\n                var pagesize = 0;\n                if (containerHeight.indexOf('%') !== -1) {\n                    containerHeight = parseInt(containerHeight, 10) / 100 * this.element.clientHeight;\n                }\n                var nonContentHeight = this.getNoncontentHeight() + this.getRowHeight();\n                if (containerHeight > nonContentHeight) {\n                    var contentHeight = 0;\n                    contentHeight = containerHeight - this.getNoncontentHeight();\n                    pagesize = (contentHeight / this.getRowHeight());\n                }\n                if (pagesize > 0) {\n                    return Math.floor(pagesize);\n                }\n            }\n        }\n        return 0;\n    };\n    Grid.prototype.getNoncontentHeight = function () {\n        var height = 0;\n        if (!isNullOrUndefined(this.getHeaderContent().clientHeight)) {\n            height += this.getHeaderContent().clientHeight;\n        }\n        if (this.toolbar && !isNullOrUndefined(this.element.querySelector('.e-toolbar').clientHeight)) {\n            height += this.element.querySelector('.e-toolbar').clientHeight;\n        }\n        if (this.allowPaging && !isNullOrUndefined(this.element.querySelector('.e-gridpager').clientHeight)) {\n            height += this.element.querySelector('.e-gridpager').clientHeight;\n        }\n        if (this.showColumnChooser && !isNullOrUndefined(this.element.querySelector('.e-columnheader').clientHeight)) {\n            height += this.element.querySelector('.e-columnheader').clientHeight;\n        }\n        if (this.allowGrouping && this.groupSettings.showDropArea && !isNullOrUndefined(this.element.querySelector('.e-groupdroparea').clientHeight)) {\n            height += this.element.querySelector('.e-groupdroparea').clientHeight;\n        }\n        if (this.aggregates.length > 0 && !isNullOrUndefined(this.element.querySelector('.e-summaryrow').clientHeight)) {\n            for (var i = 0; i < this.element.getElementsByClassName('e-summaryrow').length; i++) {\n                height += this.element.getElementsByClassName('e-summaryrow')[i].clientHeight;\n            }\n        }\n        return height;\n    };\n    /**\n     *To perform aggregate operation on a column.\n     *\n     * @param  {AggregateColumnModel} summaryCol - Pass Aggregate Column details.\n     * @param  {Object} summaryData - Pass JSON Array for which its field values to be calculated.\n     * @returns {number} returns the summary values\n     */\n    Grid.prototype.getSummaryValues = function (summaryCol, summaryData) {\n        return DataUtil.aggregates[summaryCol.type.toLowerCase()](summaryData, summaryCol.field);\n    };\n    /**\n     * Sends a Post request to export Grid to Excel file in server side.\n     *\n     * @param  {string} url - Pass Url for server side excel export action.\n     * @returns {void}\n     */\n    Grid.prototype.serverExcelExport = function (url) {\n        this.isExcel = true;\n        this.exportGrid(url);\n    };\n    /**\n     * Sends a Post request to export Grid to Pdf file in server side.\n     *\n     * @param  {string} url - Pass Url for server side pdf export action.\n     * @returns {void}\n     */\n    Grid.prototype.serverPdfExport = function (url) {\n        this.isExcel = false;\n        this.exportGrid(url);\n    };\n    /**\n     * Sends a Post request to export Grid to CSV file in server side.\n     *\n     * @param  {string} url - Pass Url for server side pdf export action.\n     * @returns {void}\n     */\n    Grid.prototype.serverCsvExport = function (url) {\n        this.isExcel = true;\n        this.exportGrid(url);\n    };\n    /**\n     * @param {string} url - Defines exporting url\n     * @returns {void}\n     * @hidden\n     */\n    Grid.prototype.exportGrid = function (url) {\n        // eslint-disable-next-line @typescript-eslint/no-this-alias\n        var grid = this;\n        var query = grid.getDataModule().generateQuery(true);\n        var state = new UrlAdaptor().processQuery(new DataManager({ url: '' }), query);\n        var queries = JSON.parse(state.data);\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var gridModel = JSON.parse(this.addOnPersist(['allowGrouping', 'allowPaging', 'pageSettings', 'sortSettings', 'allowPdfExport', 'allowExcelExport', 'aggregates',\n            'filterSettings', 'groupSettings', 'columns', 'locale', 'searchSettings']));\n        var include = ['field', 'headerText', 'type', 'format', 'visible', 'foreignKeyValue', 'foreignKeyField',\n            'template', 'index', 'width', 'textAlign', 'headerTextAlign', 'columns'];\n        gridModel.filterSettings.columns = queries.where;\n        gridModel.searchSettings.fields = queries.search && queries.search[0]['fields'] || [];\n        gridModel.sortSettings.columns = queries.sorted;\n        gridModel.columns = this.setHeaderText(gridModel.columns, include);\n        var form = this.createElement('form', { id: 'ExportForm', styles: 'display:none;' });\n        var gridInput = this.createElement('input', { id: 'gridInput', attrs: { name: 'gridModel' } });\n        gridInput.value = JSON.stringify(gridModel);\n        form.method = 'POST';\n        form.action = url;\n        form.appendChild(gridInput);\n        document.body.appendChild(form);\n        form.submit();\n        form.remove();\n    };\n    /**\n     * @param {Column[]} columns - Defines array of columns\n     * @param {string[]} include - Defines array of sting\n     * @returns {Column[]} returns array of columns\n     * @hidden\n     */\n    Grid.prototype.setHeaderText = function (columns, include) {\n        for (var i = 0; i < columns.length; i++) {\n            var column = this.getColumnByUid(columns[i].uid);\n            columns[i].headerText = column.headerText;\n            if (!isNullOrUndefined(column.template)) {\n                columns[i].template = 'true';\n            }\n            if (columns[i].format) {\n                columns[i].format = getNumberFormat(this.getFormat(columns[i].format), columns[i].type, this.isExcel);\n            }\n            if (columns[i].columns) {\n                this.setHeaderText(columns[i].columns, include);\n            }\n            var keys = Object.keys(columns[i]);\n            for (var j = 0; j < keys.length; j++) {\n                if (include.indexOf(keys[j]) < 0) {\n                    delete columns[i][keys[j]];\n                }\n            }\n        }\n        return columns;\n    };\n    Grid.prototype.getFormat = function (format) {\n        return typeof (format) === 'object' ? !isNullOrUndefined(format.format) ?\n            format.format : format.skeleton : format;\n    };\n    /**\n     * @hidden\n     * @returns {boolean} returns the isCollapseStateEnabled\n     */\n    Grid.prototype.isCollapseStateEnabled = function () {\n        var isExpanded = 'isExpanded';\n        return this[isExpanded] === false;\n    };\n    /**\n     * @param {number} key - Defines the primary key value.\n     * @param {Object} rowData - Defines the rowData\n     * @returns {void}\n     */\n    Grid.prototype.updateRowValue = function (key, rowData) {\n        var args = {\n            requestType: 'save', data: rowData\n        };\n        this.showSpinner();\n        this.notify(events.updateData, args);\n        this.refresh();\n    };\n    /**\n     * @hidden\n     * @returns {void}\n     */\n    Grid.prototype.setForeignKeyData = function () {\n        this.dataBind();\n        var colpending = this.getDataModule().getForeignKeyDataState();\n        if (colpending.isPending) {\n            this.getDataModule().setForeignKeyDataState({});\n            colpending.resolver();\n        }\n        else {\n            this.getDataModule().setForeignKeyDataState({ isDataChanged: false });\n            if (this.contentModule || this.headerModule) {\n                this.renderModule.render();\n            }\n        }\n    };\n    /**\n     * @param {string} field - specifies the field\n     * @returns {void}\n     * @hidden\n     */\n    Grid.prototype.resetFilterDlgPosition = function (field) {\n        var header = this.getColumnHeaderByField(field);\n        if (header) {\n            var target = header.querySelector('.e-filtermenudiv');\n            var filterDlg = this.element.querySelector('.e-filter-popup');\n            if (target && filterDlg) {\n                var gClient = this.element.getBoundingClientRect();\n                var fClient = target.getBoundingClientRect();\n                if (filterDlg) {\n                    if ((filterDlg.offsetWidth + fClient.right) > gClient.right) {\n                        filterDlg.style.left = ((fClient.right - filterDlg.offsetWidth) - gClient.left).toString() + 'px';\n                    }\n                    else {\n                        filterDlg.style.left = (fClient.right - gClient.left).toString() + 'px';\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * @hidden\n     * @returns {void}\n     */\n    Grid.prototype.renderTemplates = function () {\n        var portals = 'portals';\n        this.notify('reactTemplateRender', this[portals]);\n        this.renderReactTemplates();\n    };\n    /**\n     * Apply the changes to the Grid without refreshing the rows.\n     *\n     * @param  {BatchChanges} changes - Defines changes to be updated.\n     * @returns {void}\n     */\n    Grid.prototype.batchUpdate = function (changes) {\n        this.processRowChanges(changes);\n    };\n    /**\n     * Apply the changes to the Grid in one batch after 50ms without refreshing the rows.\n     *\n     * @param  {BatchChanges} changes - Defines changes to be updated.\n     * @returns {void}\n     */\n    Grid.prototype.batchAsyncUpdate = function (changes) {\n        this.processBulkRowChanges(changes);\n    };\n    Grid.prototype.processBulkRowChanges = function (changes) {\n        var _this = this;\n        if (!this.dataToBeUpdated) {\n            this.dataToBeUpdated = Object.assign({ addedRecords: [], changedRecords: [], deletedRecords: [] }, changes);\n            setTimeout(function () {\n                _this.processRowChanges(_this.dataToBeUpdated);\n                _this.dataToBeUpdated = null;\n            }, this.asyncTimeOut);\n        }\n        else {\n            var loopstring = [literals.addedRecords, literals.changedRecords, literals.deletedRecords];\n            var keyField = this.getPrimaryKeyFieldNames()[0];\n            for (var i = 0; i < loopstring.length; i++) {\n                if (changes[loopstring[i]]) {\n                    compareChanges(this, changes, loopstring[i], keyField);\n                }\n            }\n        }\n    };\n    Grid.prototype.processRowChanges = function (changes) {\n        var _this = this;\n        var keyField = this.getPrimaryKeyFieldNames()[0];\n        changes = Object.assign({ addedRecords: [], changedRecords: [], deletedRecords: [] }, changes);\n        var promise = this.getDataModule().saveChanges(changes, keyField, {}, this.getDataModule().generateQuery().requiresCount());\n        if (this.getDataModule().isRemote()) {\n            promise.then(function () {\n                _this.setNewData();\n            });\n        }\n        else {\n            this.setNewData();\n        }\n    };\n    Grid.prototype.setNewData = function () {\n        var _this = this;\n        var oldValues = JSON.parse(JSON.stringify(this.getCurrentViewRecords()));\n        var getData = this.getDataModule().getData({}, this.getDataModule().generateQuery().requiresCount());\n        getData.then(function (e) {\n            _this.bulkRefresh(e.result, oldValues, e.count);\n        });\n    };\n    Grid.prototype.deleteRowElement = function (row) {\n        var tr = this.getRowElementByUID(row.uid);\n        var index = parseInt(tr.getAttribute(literals.ariaRowIndex), 10);\n        remove(tr);\n        if (this.getFrozenColumns()) {\n            var mtr = this.getMovableRows()[index];\n            remove(mtr);\n        }\n    };\n    Grid.prototype.bulkRefresh = function (result, oldValues, count) {\n        var _this = this;\n        var rowObj = this.getRowsObject();\n        var keyField = this.getPrimaryKeyFieldNames()[0];\n        var _loop_3 = function (i) {\n            if (!result.filter(function (e) { return e[keyField] === rowObj[i].data[keyField]; }).length) {\n                this_3.deleteRowElement(rowObj[i]);\n                rowObj.splice(i, 1);\n                i--;\n            }\n            out_i_1 = i;\n        };\n        var this_3 = this, out_i_1;\n        for (var i = 0; i < rowObj.length; i++) {\n            _loop_3(i);\n            i = out_i_1;\n        }\n        var _loop_4 = function (i) {\n            var isRowExist;\n            oldValues.filter(function (e) {\n                if (e[keyField] === result[i][keyField]) {\n                    if (e !== result[i]) {\n                        _this.setRowData(result[i][keyField], result[i]);\n                    }\n                    isRowExist = true;\n                }\n            });\n            if (!isRowExist) {\n                this_4.renderRowElement(result[i], i);\n            }\n        };\n        var this_4 = this;\n        for (var i = 0; i < result.length; i++) {\n            _loop_4(i);\n        }\n        this.currentViewData = result;\n        var rows = [].slice.call(this.getContentTable().getElementsByClassName(literals.row));\n        resetRowIndex(this, this.getRowsObject(), rows);\n        setRowElements(this);\n        if (this.allowPaging) {\n            this.notify(events.inBoundModelChanged, { module: 'pager', properties: { totalRecordsCount: count } });\n        }\n    };\n    Grid.prototype.renderRowElement = function (data, index) {\n        var row = new RowRenderer(this.serviceLocator, null, this);\n        var model = new RowModelGenerator(this);\n        var modelData = model.generateRows([data]);\n        var tr = row.render(modelData[0], this.getColumns());\n        var mTr;\n        var mTbody;\n        this.addRowObject(modelData[0], index);\n        var tbody = this.getContentTable().querySelector(literals.tbody);\n        if (tbody.querySelector('.e-emptyrow')) {\n            var emptyRow = tbody.querySelector('.e-emptyrow');\n            emptyRow.parentNode.removeChild(emptyRow);\n            if (this.getFrozenColumns()) {\n                var moveTbody = this.getContent().querySelector('.' + literals.movableContent).querySelector(literals.tbody);\n                (moveTbody.firstElementChild).parentNode.removeChild(moveTbody.firstElementChild);\n            }\n        }\n        if (this.getFrozenColumns()) {\n            mTr = renderMovable(tr, this.getFrozenColumns(), this);\n            if (this.frozenRows && index < this.frozenRows) {\n                mTbody = this.getHeaderContent().querySelector('.' + literals.movableHeader).querySelector(literals.tbody);\n            }\n            else {\n                mTbody = this.getContent().querySelector('.' + literals.movableContent).querySelector(literals.tbody);\n            }\n            mTbody.appendChild(mTr);\n            if (this.height === 'auto') {\n                this.notify(events.frozenHeight, {});\n            }\n        }\n        if (this.frozenRows && index < this.frozenRows) {\n            tbody = this.getHeaderContent().querySelector(literals.tbody);\n        }\n        else {\n            tbody = this.getContent().querySelector(literals.tbody);\n        }\n        tbody = this.getContent().querySelector(literals.tbody);\n        tbody.appendChild(tr);\n    };\n    Grid.prototype.addRowObject = function (row, index) {\n        var frzCols = this.getFrozenColumns();\n        if (frzCols) {\n            var mRows = this.getMovableRowsObject();\n            var mRow = row.clone();\n            mRow.cells = mRow.cells.slice(frzCols);\n            row.cells = row.cells.slice(0, frzCols);\n            mRows.splice(index, 1, mRow);\n        }\n        this.getRowsObject().splice(index, 1, row);\n    };\n    /**\n     * @hidden\n     * @returns {void}\n     */\n    Grid.prototype.updateVisibleExpandCollapseRows = function () {\n        var rows = this.getRowsObject();\n        for (var i = 0, len = rows.length; i < len; i++) {\n            if ((rows[i].isDataRow || rows[i].isAggregateRow) && this.getRowElementByUID(rows[i].uid).style.display === 'none') {\n                rows[i].visible = false;\n            }\n            else {\n                rows[i].visible = true;\n            }\n        }\n    };\n    /**\n     * @param {string | number} height - specifies the height\n     * @returns {number | string} - specifies the height number\n     * @hidden\n     */\n    Grid.prototype.getHeight = function (height) {\n        if (!Number.isInteger(height) && height.indexOf('%') !== -1) {\n            height = parseInt(height, 10) / 100 * this.element.clientHeight;\n        }\n        else if (!Number.isInteger(height) && this.height !== 'auto') {\n            height = parseInt(height, 10);\n        }\n        else {\n            height = this.height;\n        }\n        return height;\n    };\n    /**\n     * @hidden\n     * @returns {Element} - returns frozen right content\n     */\n    Grid.prototype.getFrozenRightContent = function () {\n        return this.getContent().querySelector('.e-frozen-right-content');\n    };\n    /**\n     * @hidden\n     * @returns {Element} - returns frozen right header\n     */\n    Grid.prototype.getFrozenRightHeader = function () {\n        return this.getHeaderContent().querySelector('.e-frozen-right-header');\n    };\n    /**\n     * @hidden\n     * @returns {Element} - returns movable header tbody\n     */\n    Grid.prototype.getMovableHeaderTbody = function () {\n        return this.getMovableVirtualHeader().querySelector(literals.tbody);\n    };\n    /**\n     * @hidden\n     * @returns {Element} - returns movable content tbody\n     */\n    Grid.prototype.getMovableContentTbody = function () {\n        return this.getMovableVirtualContent().querySelector(literals.tbody);\n    };\n    /**\n     * @hidden\n     * @returns {Element} - returns frozen header tbody\n     */\n    Grid.prototype.getFrozenHeaderTbody = function () {\n        return this.getFrozenVirtualHeader().querySelector(literals.tbody);\n    };\n    /**\n     * @hidden\n     * @returns {Element} - returns frozen left content tbody\n     */\n    Grid.prototype.getFrozenLeftContentTbody = function () {\n        return this.getFrozenVirtualContent().querySelector(literals.tbody);\n    };\n    /**\n     * @hidden\n     * @returns {Element} - returns frozen right header tbody\n     */\n    Grid.prototype.getFrozenRightHeaderTbody = function () {\n        return this.getFrozenRightHeader().querySelector(literals.tbody);\n    };\n    /**\n     * @returns {Element} returns frozen right content tbody\n     * @hidden\n     */\n    Grid.prototype.getFrozenRightContentTbody = function () {\n        var cnt = this.getFrozenRightContent();\n        var tbody;\n        if (cnt) {\n            tbody = this.getFrozenRightContent().querySelector(literals.tbody);\n        }\n        return tbody;\n    };\n    /**\n     * @param {boolean} isCustom - Defines custom filter dialog open\n     * @returns {void}\n     * @hidden\n     */\n    Grid.prototype.showResponsiveCustomFilter = function (isCustom) {\n        if (this.filterModule) {\n            this.filterModule.showCustomFilter(isCustom || this.rowRenderingMode === 'Vertical');\n        }\n    };\n    /**\n     * @param {boolean} isCustom - Defines custom sort dialog open\n     * @returns {void}\n     * @hidden\n     */\n    Grid.prototype.showResponsiveCustomSort = function (isCustom) {\n        if (this.sortModule) {\n            this.sortModule.showCustomSort(isCustom || this.rowRenderingMode === 'Vertical');\n        }\n    };\n    /**\n     * To manually show the vertical row mode filter dialog\n     *\n     * @returns {void}\n     */\n    Grid.prototype.showAdaptiveFilterDialog = function () {\n        if (this.enableAdaptiveUI) {\n            this.showResponsiveCustomFilter(true);\n        }\n    };\n    /**\n     * To manually show the vertical row sort filter dialog\n     *\n     * @returns {void}\n     */\n    Grid.prototype.showAdaptiveSortDialog = function () {\n        if (this.enableAdaptiveUI) {\n            this.showResponsiveCustomSort(true);\n        }\n    };\n    /**\n     * @param {boolean} isColVirtualization - Defines column virtualization\n     * @returns {Column[]} returns array of column models\n     * @hidden\n     */\n    Grid.prototype.getCurrentVisibleColumns = function (isColVirtualization) {\n        var cols = [];\n        var gridCols = isColVirtualization ? this.getColumns() : this.columnModel;\n        for (var _i = 0, gridCols_1 = gridCols; _i < gridCols_1.length; _i++) {\n            var col = gridCols_1[_i];\n            if (col.visible) {\n                cols.push(col);\n            }\n        }\n        return cols;\n    };\n    Grid.prototype.enableInfiniteAggrgate = function () {\n        if (this.enableInfiniteScrolling && this.groupSettings.columns.length && !this.groupSettings.disablePageWiseAggregates) {\n            this.setProperties({ groupSettings: { disablePageWiseAggregates: true } }, true);\n        }\n    };\n    var Grid_1;\n    __decorate([\n        Property()\n    ], Grid.prototype, \"parentDetails\", void 0);\n    __decorate([\n        Property([])\n    ], Grid.prototype, \"columns\", void 0);\n    __decorate([\n        Property(true)\n    ], Grid.prototype, \"enableAltRow\", void 0);\n    __decorate([\n        Property(true)\n    ], Grid.prototype, \"enableHover\", void 0);\n    __decorate([\n        Property(false)\n    ], Grid.prototype, \"enableAutoFill\", void 0);\n    __decorate([\n        Property(true)\n    ], Grid.prototype, \"allowKeyboard\", void 0);\n    __decorate([\n        Property(false)\n    ], Grid.prototype, \"enableStickyHeader\", void 0);\n    __decorate([\n        Property(false)\n    ], Grid.prototype, \"allowTextWrap\", void 0);\n    __decorate([\n        Complex({}, TextWrapSettings)\n    ], Grid.prototype, \"textWrapSettings\", void 0);\n    __decorate([\n        Complex({}, ResizeSettings)\n    ], Grid.prototype, \"resizeSettings\", void 0);\n    __decorate([\n        Property(false)\n    ], Grid.prototype, \"allowPaging\", void 0);\n    __decorate([\n        Complex({}, PageSettings)\n    ], Grid.prototype, \"pageSettings\", void 0);\n    __decorate([\n        Property(false)\n    ], Grid.prototype, \"enableVirtualization\", void 0);\n    __decorate([\n        Property(false)\n    ], Grid.prototype, \"enableColumnVirtualization\", void 0);\n    __decorate([\n        Property(false)\n    ], Grid.prototype, \"enableInfiniteScrolling\", void 0);\n    __decorate([\n        Complex({}, SearchSettings)\n    ], Grid.prototype, \"searchSettings\", void 0);\n    __decorate([\n        Property(false)\n    ], Grid.prototype, \"allowSorting\", void 0);\n    __decorate([\n        Property('Ellipsis')\n    ], Grid.prototype, \"clipMode\", void 0);\n    __decorate([\n        Property(true)\n    ], Grid.prototype, \"allowMultiSorting\", void 0);\n    __decorate([\n        Property(false)\n    ], Grid.prototype, \"allowExcelExport\", void 0);\n    __decorate([\n        Property(false)\n    ], Grid.prototype, \"allowPdfExport\", void 0);\n    __decorate([\n        Complex({}, SortSettings)\n    ], Grid.prototype, \"sortSettings\", void 0);\n    __decorate([\n        Complex({}, InfiniteScrollSettings)\n    ], Grid.prototype, \"infiniteScrollSettings\", void 0);\n    __decorate([\n        Property(true)\n    ], Grid.prototype, \"allowSelection\", void 0);\n    __decorate([\n        Property(-1)\n    ], Grid.prototype, \"selectedRowIndex\", void 0);\n    __decorate([\n        Complex({}, SelectionSettings)\n    ], Grid.prototype, \"selectionSettings\", void 0);\n    __decorate([\n        Property(false)\n    ], Grid.prototype, \"allowFiltering\", void 0);\n    __decorate([\n        Property('Horizontal')\n    ], Grid.prototype, \"rowRenderingMode\", void 0);\n    __decorate([\n        Property(false)\n    ], Grid.prototype, \"enableAdaptiveUI\", void 0);\n    __decorate([\n        Property(false)\n    ], Grid.prototype, \"allowReordering\", void 0);\n    __decorate([\n        Property(false)\n    ], Grid.prototype, \"allowResizing\", void 0);\n    __decorate([\n        Property(false)\n    ], Grid.prototype, \"allowRowDragAndDrop\", void 0);\n    __decorate([\n        Complex({}, RowDropSettings)\n    ], Grid.prototype, \"rowDropSettings\", void 0);\n    __decorate([\n        Complex({}, FilterSettings)\n    ], Grid.prototype, \"filterSettings\", void 0);\n    __decorate([\n        Property(false)\n    ], Grid.prototype, \"allowGrouping\", void 0);\n    __decorate([\n        Property(false)\n    ], Grid.prototype, \"enableImmutableMode\", void 0);\n    __decorate([\n        Property(false)\n    ], Grid.prototype, \"showColumnMenu\", void 0);\n    __decorate([\n        Complex({}, GroupSettings)\n    ], Grid.prototype, \"groupSettings\", void 0);\n    __decorate([\n        Complex({}, EditSettings)\n    ], Grid.prototype, \"editSettings\", void 0);\n    __decorate([\n        Collection([], AggregateRow)\n    ], Grid.prototype, \"aggregates\", void 0);\n    __decorate([\n        Property(false)\n    ], Grid.prototype, \"showColumnChooser\", void 0);\n    __decorate([\n        Complex({}, ColumnChooserSettings)\n    ], Grid.prototype, \"columnChooserSettings\", void 0);\n    __decorate([\n        Property(false)\n    ], Grid.prototype, \"enableHeaderFocus\", void 0);\n    __decorate([\n        Property('auto')\n    ], Grid.prototype, \"height\", void 0);\n    __decorate([\n        Property('auto')\n    ], Grid.prototype, \"width\", void 0);\n    __decorate([\n        Property('Default')\n    ], Grid.prototype, \"gridLines\", void 0);\n    __decorate([\n        Property()\n    ], Grid.prototype, \"rowTemplate\", void 0);\n    __decorate([\n        Property()\n    ], Grid.prototype, \"detailTemplate\", void 0);\n    __decorate([\n        Property()\n    ], Grid.prototype, \"childGrid\", void 0);\n    __decorate([\n        Property()\n    ], Grid.prototype, \"queryString\", void 0);\n    __decorate([\n        Property('AllPages')\n    ], Grid.prototype, \"printMode\", void 0);\n    __decorate([\n        Property('Expanded')\n    ], Grid.prototype, \"hierarchyPrintMode\", void 0);\n    __decorate([\n        Property([])\n    ], Grid.prototype, \"dataSource\", void 0);\n    __decorate([\n        Property(null)\n    ], Grid.prototype, \"rowHeight\", void 0);\n    __decorate([\n        Property()\n    ], Grid.prototype, \"query\", void 0);\n    __decorate([\n        Property('USD')\n    ], Grid.prototype, \"currencyCode\", void 0);\n    __decorate([\n        Property()\n    ], Grid.prototype, \"toolbar\", void 0);\n    __decorate([\n        Property()\n    ], Grid.prototype, \"contextMenuItems\", void 0);\n    __decorate([\n        Property()\n    ], Grid.prototype, \"columnMenuItems\", void 0);\n    __decorate([\n        Property()\n    ], Grid.prototype, \"toolbarTemplate\", void 0);\n    __decorate([\n        Property()\n    ], Grid.prototype, \"pagerTemplate\", void 0);\n    __decorate([\n        Property(0)\n    ], Grid.prototype, \"frozenRows\", void 0);\n    __decorate([\n        Property(0)\n    ], Grid.prototype, \"frozenColumns\", void 0);\n    __decorate([\n        Property('All')\n    ], Grid.prototype, \"columnQueryMode\", void 0);\n    __decorate([\n        Property({})\n    ], Grid.prototype, \"currentAction\", void 0);\n    __decorate([\n        Property('19.4.56')\n    ], Grid.prototype, \"ej2StatePersistenceVersion\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"destroyed\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"load\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"rowDataBound\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"queryCellInfo\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"headerCellInfo\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"actionBegin\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"actionComplete\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"actionFailure\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"dataBound\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"recordDoubleClick\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"recordClick\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"rowSelecting\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"rowSelected\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"rowDeselecting\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"rowDeselected\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"cellSelecting\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"cellSelected\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"cellDeselecting\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"cellDeselected\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"columnSelecting\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"columnSelected\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"columnDeselecting\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"columnDeselected\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"columnDragStart\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"columnDrag\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"columnDrop\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"printComplete\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"beforePrint\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"pdfQueryCellInfo\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"pdfHeaderQueryCellInfo\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"pdfAggregateQueryCellInfo\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"excelAggregateQueryCellInfo\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"exportDetailDataBound\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"excelQueryCellInfo\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"excelHeaderQueryCellInfo\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"beforeExcelExport\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"excelExportComplete\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"beforePdfExport\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"pdfExportComplete\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"rowDragStartHelper\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"detailDataBound\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"rowDragStart\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"rowDrag\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"rowDrop\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"toolbarClick\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"beforeOpenColumnChooser\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"beforeOpenAdaptiveDialog\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"batchAdd\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"batchDelete\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"batchCancel\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"beforeBatchAdd\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"beforeBatchDelete\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"beforeBatchSave\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"beginEdit\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"commandClick\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"cellEdit\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"cellSave\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"cellSaved\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"resizeStart\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"resizing\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"resizeStop\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"keyPressed\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"beforeDataBound\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"contextMenuOpen\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"contextMenuClick\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"columnMenuOpen\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"columnMenuClick\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"checkBoxChange\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"beforeCopy\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"beforePaste\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"beforeAutoFill\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"columnDataStateChange\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"dataStateChange\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"dataSourceChanged\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"exportGroupCaption\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"lazyLoadGroupExpand\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"lazyLoadGroupCollapse\", void 0);\n    Grid = Grid_1 = __decorate([\n        NotifyPropertyChanges\n    ], Grid);\n    return Grid;\n}(Component));\nexport { Grid };\n","/**\n * Specifies class names\n */\n/** @hidden */\nexport var rowCell = 'e-rowcell';\n/** @hidden */\nexport var gridHeader = 'e-gridheader';\n/** @hidden */\nexport var gridContent = 'e-gridcontent';\n/** @hidden */\nexport var gridFooter = 'e-gridfooter';\n/** @hidden */\nexport var headerContent = 'e-headercontent';\n/** @hidden */\nexport var movableContent = 'e-movablecontent';\n/** @hidden */\nexport var movableHeader = 'e-movableheader';\n/** @hidden */\nexport var frozenContent = 'e-frozencontent';\n/** @hidden */\nexport var frozenHeader = 'e-frozenheader';\n/** @hidden */\nexport var content = 'e-content';\n/** @hidden */\nexport var table = 'e-table';\n/** @hidden */\nexport var row = 'e-row';\n/** @hidden */\nexport var gridChkBox = 'e-gridchkbox';\n/** @hidden */\nexport var editedRow = 'e-editedrow';\n/** @hidden */\nexport var addedRow = 'e-addedrow';\n/**\n * Specifies repeated strings\n */\n/** @hidden */\nexport var changedRecords = 'changedRecords';\n/** @hidden */\nexport var addedRecords = 'addedRecords';\n/** @hidden */\nexport var deletedRecords = 'deletedRecords';\n/** @hidden */\nexport var leftRight = 'Left-Right';\n/** @hidden */\nexport var frozenRight = 'frozen-right';\n/** @hidden */\nexport var frozenLeft = 'frozen-left';\n/** @hidden */\nexport var ariaColIndex = 'aria-colindex';\n/** @hidden */\nexport var ariaRowIndex = 'aria-rowindex';\n/** @hidden */\nexport var tbody = 'tbody';\n/** @hidden */\nexport var colGroup = 'colgroup';\n/** @hidden */\nexport var open = 'open';\n/** @hidden */\nexport var change = 'change';\n/** @hidden */\nexport var focus = 'focus';\n/** @hidden */\nexport var create = 'created';\n/** @hidden */\nexport var beforeOpen = 'beforeOpen';\n/** @hidden */\nexport var downArrow = 'downArrow';\n/** @hidden */\nexport var upArrow = 'upArrow';\n/** @hidden */\nexport var pageUp = 'PageUp';\n/** @hidden */\nexport var pageDown = 'PageDown';\n/** @hidden */\nexport var enter = 'enter';\n/** @hidden */\nexport var shiftEnter = 'shiftEnter';\n/** @hidden */\nexport var tab = 'tab';\n/** @hidden */\nexport var shiftTab = 'shiftTab';\n","import { ChildProperty, compile as baseTemplateComplier, setValue, Internationalization, isUndefined, closest } from '@syncfusion/ej2-base';\nimport { extend as baseExtend, isNullOrUndefined, getValue, classList } from '@syncfusion/ej2-base';\nimport { setStyleAttribute, addClass, attributes, remove, createElement, removeClass } from '@syncfusion/ej2-base';\nimport { isObject, select, selectAll } from '@syncfusion/ej2-base';\nimport { DataUtil, Query, DataManager, Predicate, UrlAdaptor, Deferred } from '@syncfusion/ej2-data';\nimport { Column } from '../models/column';\nimport { calculateRelativeBasedPosition } from '@syncfusion/ej2-popups';\nimport { Print } from '../actions/print';\nimport { CheckBoxFilterBase } from '../common/checkbox-filter-base';\nimport * as literals from '../base/string-literals';\n//https://typescript.codeplex.com/discussions/401501\n/**\n * Function to check whether target object implement specific interface\n *\n * @param  {Object} target - specifies the target\n * @param  {string} checkFor - specifies the checkfors\n * @returns {boolean} returns the boolean\n * @hidden\n */\nexport function doesImplementInterface(target, checkFor) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return target.prototype && checkFor in target.prototype;\n}\n/**\n * Function to get value from provided data\n *\n * @param  {string} field - specifies the field\n * @param  {Object} data - specifies the data\n * @param  {ColumnModel} column - specifies the column\n * @returns {Object} returns the object\n * @hidden\n */\n// eslint-disable-next-line\nexport function valueAccessor(field, data, column) {\n    return (isNullOrUndefined(field) || field === '') ? '' : DataUtil.getObject(field, data);\n}\n/**\n * Defines the method used to apply custom header cell values from external function and display this on each header cell rendered.\n *\n * @param  {string} field - specifies the field\n * @param  {ColumnModel} column - specifies the column\n * @returns {object} headerValueAccessor\n * @hidden\n */\nexport function headerValueAccessor(field, column) {\n    return (isNullOrUndefined(field) || field === '') ? '' : DataUtil.getObject(field, column);\n}\n/**\n * The function used to update Dom using requestAnimationFrame.\n *\n * @param {Function} updateFunction - Function that contains the actual action\n * @param {object} callBack - defines the callback\n * @returns {void}\n * @hidden\n */\n// eslint-disable-next-line\nexport function getUpdateUsingRaf(updateFunction, callBack) {\n    requestAnimationFrame(function () {\n        try {\n            callBack(null, updateFunction());\n        }\n        catch (e) {\n            callBack(e);\n        }\n    });\n}\n/**\n * @hidden\n * @param {PdfExportProperties | ExcelExportProperties} exportProperties - Defines the export properties\n * @returns {boolean} Returns isExportColumns\n */\nexport function isExportColumns(exportProperties) {\n    return !isNullOrUndefined(exportProperties) &&\n        !isNullOrUndefined(exportProperties.columns) && exportProperties.columns.length > 0;\n}\n/**\n * @param {PdfExportProperties | ExcelExportProperties} exportProperties - Defines the export properties\n * @param {IGrid} gObj - Defines the grid object\n * @returns {void}\n * @hidden\n */\nexport function updateColumnTypeForExportColumns(exportProperties, gObj) {\n    var exportColumns = exportProperties.columns;\n    var gridColumns = gObj.columns;\n    for (var i = 0; i < exportColumns.length; i++) {\n        if (gridColumns.length - 1 >= i) {\n            if (gridColumns[i].columns) {\n                for (var j = 0; j < gridColumns[i].columns.length; j++) {\n                    exportColumns[i].columns[j].type = gridColumns[i].columns[j].type;\n                }\n            }\n            else {\n                exportColumns[i].type = gridColumns[i].type;\n            }\n        }\n    }\n}\n/**\n * @hidden\n * @param {IGrid} grid - Defines the grid\n * @returns {void}\n */\nexport function updatecloneRow(grid) {\n    var nRows = [];\n    var actualRows = grid.vRows;\n    for (var i = 0; i < actualRows.length; i++) {\n        if (actualRows[i].isDataRow) {\n            nRows.push(actualRows[i]);\n        }\n        else if (!actualRows[i].isDataRow) {\n            nRows.push(actualRows[i]);\n            if (!actualRows[i].isExpand && actualRows[i].isCaptionRow) {\n                i += getCollapsedRowsCount(actualRows[i], grid);\n            }\n        }\n    }\n    grid.vcRows = nRows;\n}\nvar count = 0;\n/**\n * @hidden\n * @param {Row<Column>} val - Defines the value\n * @param {IGrid} grid - Defines the grid\n * @returns {number} Returns the collapsed row count\n */\nexport function getCollapsedRowsCount(val, grid) {\n    count = 0;\n    var gSummary = 'gSummary';\n    var total = 'count';\n    var gLen = grid.groupSettings.columns.length;\n    var records = 'records';\n    var items = 'items';\n    var value = val[gSummary];\n    var dataRowCnt = 0;\n    var agrCnt = 'aggregatesCount';\n    if (value === val.data[total]) {\n        if (grid.groupSettings.columns.length && !isNullOrUndefined(val[agrCnt]) && val[agrCnt]) {\n            if (grid.groupSettings.columns.length !== 1) {\n                count += (val.indent !== 0 && (value) < 2) ? (val[gSummary] * ((gLen - val.indent) + (gLen - val.indent) * val[agrCnt])) :\n                    (val[gSummary] * ((gLen - val.indent) + (gLen - val.indent - 1) * val[agrCnt])) + val[agrCnt];\n            }\n            else if (grid.groupSettings.columns.length === 1) {\n                count += (val[gSummary] * (gLen - val.indent)) + val[agrCnt];\n            }\n        }\n        else if (grid.groupSettings.columns.length) {\n            if (grid.groupSettings.columns.length !== 1) {\n                count += val[gSummary] * (grid.groupSettings.columns.length - val.indent);\n            }\n            else {\n                count += val[gSummary];\n            }\n        }\n        return count;\n    }\n    else {\n        for (var i = 0, len = val.data[items].length; i < len; i++) {\n            var gLevel = val.data[items][i];\n            count += gLevel[items].length + ((gLen !== grid.columns.length) &&\n                !isNullOrUndefined(gLevel[items][records]) ? gLevel[items][records].length : 0);\n            dataRowCnt += (!isNullOrUndefined(gLevel[items][records]) && !isNullOrUndefined(val[agrCnt])) ? gLevel[items][records].length :\n                gLevel[items].length;\n            if (gLevel[items].GroupGuid && gLevel[items].childLevels !== 0) {\n                recursive(gLevel);\n            }\n        }\n        count += val.data[items].length;\n        if (!isNullOrUndefined(val[agrCnt])) {\n            if (val[agrCnt] && count && dataRowCnt !== 0) {\n                count += ((count - dataRowCnt) * val[agrCnt]) + val[agrCnt];\n            }\n        }\n    }\n    return count;\n}\n/**\n * @param {Object[]} row - Defines the row\n * @returns {void}\n * @hidden\n */\nexport function recursive(row) {\n    var items = 'items';\n    var rCount = 'count';\n    for (var j = 0, length_1 = row[items].length; j < length_1; j++) {\n        var nLevel = row[items][j];\n        count += nLevel[rCount];\n        if (nLevel[items].childLevels !== 0) {\n            recursive(nLevel);\n        }\n    }\n}\n/**\n * @param {Object[]} collection - Defines the array\n * @param {Object} predicate - Defines the predicate\n * @returns {Object} Returns the object\n * @hidden\n */\nexport function iterateArrayOrObject(collection, predicate) {\n    var result = [];\n    for (var i = 0, len = collection.length; i < len; i++) {\n        var pred = predicate(collection[i], i);\n        if (!isNullOrUndefined(pred)) {\n            result.push(pred);\n        }\n    }\n    return result;\n}\n/**\n * @param {Object[]} array - Defines the array\n * @returns {Object} Returns the object\n * @hidden\n */\nexport function iterateExtend(array) {\n    var obj = [];\n    for (var i = 0; i < array.length; i++) {\n        obj.push(baseExtend({}, getActualProperties(array[i]), {}, true));\n    }\n    return obj;\n}\n/**\n * @param {string} template - Defines the template\n * @returns {Function} Returns the function\n * @hidden\n */\nexport function templateCompiler(template) {\n    if (template) {\n        try {\n            if (document.querySelectorAll(template).length) {\n                return baseTemplateComplier(document.querySelector(template).innerHTML.trim());\n            }\n            else {\n                return baseTemplateComplier(template);\n            }\n        }\n        catch (e) {\n            return baseTemplateComplier(template);\n        }\n    }\n    return undefined;\n}\n/**\n * @param {Element} node - Defines the column\n * @param {Object} customAttributes - Defines the index\n * @returns {void}\n * @hidden\n */\nexport function setStyleAndAttributes(node, customAttributes) {\n    var copyAttr = {};\n    var literals = ['style', 'class'];\n    //Dont touch the original object - make a copy\n    baseExtend(copyAttr, customAttributes, {});\n    if ('style' in copyAttr) {\n        setStyleAttribute(node, copyAttr[literals[0]]);\n        delete copyAttr[literals[0]];\n    }\n    if ('class' in copyAttr) {\n        addClass([node], copyAttr[literals[1]]);\n        delete copyAttr[literals[1]];\n    }\n    attributes(node, copyAttr);\n}\n/**\n * @param {Object} copied - Defines the column\n * @param {Object} first - Defines the inndex\n * @param {Object} second - Defines the second object\n * @param {string[]} exclude - Defines the exclude\n * @returns {Object} Returns the object\n * @hidden\n */\nexport function extend(copied, first, second, exclude) {\n    var moved = baseExtend(copied, first, second);\n    var values = Object.keys(moved);\n    for (var i = 0; i < values.length; i++) {\n        if (exclude && exclude.indexOf(values[i]) !== -1) {\n            delete moved[values[i]];\n        }\n    }\n    return moved;\n}\n/**\n * @param {Column[]} columnModel - Defines the column\n * @param {number} ind - Defines the inndex\n * @returns {number} - Returns the columnindex\n * @hidden\n */\nexport function setColumnIndex(columnModel, ind) {\n    if (ind === void 0) { ind = 0; }\n    for (var i = 0, len = columnModel.length; i < len; i++) {\n        if (columnModel[i].columns) {\n            columnModel[i].index = isNullOrUndefined(columnModel[i].index) ? ind : columnModel[i].index;\n            ind++;\n            ind = setColumnIndex(columnModel[i].columns, ind);\n        }\n        else {\n            columnModel[i].index = isNullOrUndefined(columnModel[i].index) ? ind : columnModel[i].index;\n            ind++;\n        }\n    }\n    return ind;\n}\n/**\n * @param {Column[] | string[] | ColumnModel[]} columns - Defines the column\n * @param {boolean} autoWidth - Defines the autowidth\n * @param {IGrid} gObj - Defines the class name\n * @returns {Column} - Returns the columns\n * @hidden\n */\nexport function prepareColumns(columns, autoWidth, gObj) {\n    for (var c = 0, len = columns.length; c < len; c++) {\n        var column = void 0;\n        if (typeof columns[c] === 'string') {\n            column = new Column({ field: columns[c] }, gObj);\n        }\n        else if (!(columns[c] instanceof Column) || columns[c].columns) {\n            if (!columns[c].columns) {\n                column = new Column(columns[c], gObj);\n            }\n            else {\n                columns[c].columns = prepareColumns(columns[c].columns, null, gObj);\n                column = new Column(columns[c], gObj);\n            }\n        }\n        else {\n            column = columns[c];\n        }\n        if (column.type && column.type.toLowerCase() === 'checkbox') {\n            column.allowReordering = false;\n        }\n        column.headerText = isNullOrUndefined(column.headerText) ? column.foreignKeyValue || column.field || '' : column.headerText;\n        column.foreignKeyField = column.foreignKeyField || column.field;\n        column.valueAccessor = (typeof column.valueAccessor === 'string' ? getValue(column.valueAccessor, window)\n            : column.valueAccessor) || valueAccessor;\n        column.width = autoWidth && isNullOrUndefined(column.width) ? 200 : column.width;\n        if (isNullOrUndefined(column.visible)) {\n            column.visible = true;\n        }\n        columns[c] = column;\n    }\n    return columns;\n}\n/**\n * @param {HTMLElement} popUp - Defines the popup element\n * @param {MouseEvent | TouchEvent} e - Defines the moouse event\n * @param {string} className - Defines the class name\n * @returns {void}\n * @hidden\n */\nexport function setCssInGridPopUp(popUp, e, className) {\n    var popUpSpan = popUp.querySelector('span');\n    var position = popUp.parentElement.getBoundingClientRect();\n    var targetPosition = e.target.getBoundingClientRect();\n    popUpSpan.className = className;\n    popUp.style.display = '';\n    var isBottomTail = (isNullOrUndefined(e.clientY) ? e.changedTouches[0].clientY :\n        e.clientY) > popUp.offsetHeight + 10;\n    popUp.style.top = targetPosition.top - position.top +\n        (isBottomTail ? -(popUp.offsetHeight + 10) : popUp.offsetHeight + 10) + 'px'; //10px for tail element\n    popUp.style.left = getPopupLeftPosition(popUp, e, targetPosition, position.left) + 'px';\n    if (isBottomTail) {\n        popUp.querySelector('.e-downtail').style.display = '';\n        popUp.querySelector('.e-uptail').style.display = 'none';\n    }\n    else {\n        popUp.querySelector('.e-downtail').style.display = 'none';\n        popUp.querySelector('.e-uptail').style.display = '';\n    }\n}\n/**\n * @param {HTMLElement} popup - Defines the popup element\n * @param {MouseEvent | TouchEvent} e  - Defines the mouse event\n * @param {Object} targetPosition - Defines the target position\n * @param {number} targetPosition.top - Defines the top position\n * @param {number} targetPosition.left  - Defines the left position\n * @param {number} targetPosition.right  - Defines the right position\n * @param {number} left - Defines the left position\n * @returns {number} Returns the popup left position\n * @hidden\n */\nfunction getPopupLeftPosition(popup, e, targetPosition, left) {\n    var width = popup.offsetWidth / 2;\n    var x = getPosition(e).x;\n    if (x - targetPosition.left < width) {\n        return targetPosition.left - left;\n    }\n    else if (targetPosition.right - x < width) {\n        return targetPosition.right - left - width * 2;\n    }\n    else {\n        return x - left - width;\n    }\n}\n/**\n * @param {Object} obj - Defines the object\n * @returns {Object} Returns the Properties\n * @hidden\n */\nexport function getActualProperties(obj) {\n    if (obj instanceof ChildProperty) {\n        return getValue('properties', obj);\n    }\n    else {\n        return obj;\n    }\n}\n/**\n * @param {Element} elem - Defines the element\n * @param {string} selector - Defines the string selector\n * @param {boolean} isID - Defines the isID\n * @returns {Element} Returns the element\n * @hidden\n */\nexport function parentsUntil(elem, selector, isID) {\n    var parent = elem;\n    while (parent) {\n        if (isID ? parent.id === selector : parent.classList.contains(selector)) {\n            break;\n        }\n        parent = parent.parentElement;\n    }\n    return parent;\n}\n/**\n * @param {Element} element - Defines the element\n * @param {Element} elements - Defines the element\n * @returns {number} Returns the element index\n * @hidden\n */\nexport function getElementIndex(element, elements) {\n    var index = -1;\n    for (var i = 0, len = elements.length; i < len; i++) {\n        if (elements[i].isEqualNode(element)) {\n            index = i;\n            break;\n        }\n    }\n    return index;\n}\n/**\n * @param {Object} value - Defines the value\n * @param {Object} collection - defines the collection\n * @returns {number} Returns the array\n * @hidden\n */\nexport function inArray(value, collection) {\n    for (var i = 0, len = collection.length; i < len; i++) {\n        if (collection[i] === value) {\n            return i;\n        }\n    }\n    return -1;\n}\n/**\n * @param {Object} collection - Defines the collection\n * @returns {Object} Returns the object\n * @hidden\n */\nexport function getActualPropFromColl(collection) {\n    var coll = [];\n    for (var i = 0, len = collection.length; i < len; i++) {\n        // eslint-disable-next-line no-prototype-builtins\n        if (collection[i].hasOwnProperty('properties')) {\n            coll.push(collection[i].properties);\n        }\n        else {\n            coll.push(collection[i]);\n        }\n    }\n    return coll;\n}\n/**\n * @param {Element} target - Defines the target element\n * @param {string} selector - Defines the selector\n * @returns {void}\n * @hidden\n */\nexport function removeElement(target, selector) {\n    var elements = [].slice.call(target.querySelectorAll(selector));\n    for (var i = 0; i < elements.length; i++) {\n        remove(elements[i]);\n    }\n}\n/**\n * @param {MouseEvent | TouchEvent} e Defines the mouse event\n * @returns {IPosition} Returns the position\n * @hidden\n */\nexport function getPosition(e) {\n    var position = {};\n    position.x = (isNullOrUndefined(e.clientX) ? e.changedTouches[0].clientX :\n        e.clientX);\n    position.y = (isNullOrUndefined(e.clientY) ? e.changedTouches[0].clientY :\n        e.clientY);\n    return position;\n}\nvar uid = 0;\n/**\n * @param {string} prefix - Defines the prefix string\n * @returns {string} Returns the uid\n * @hidden\n */\nexport function getUid(prefix) {\n    return prefix + uid++;\n}\n/**\n * @param {Element | DocumentFragment} elem - Defines the element\n * @param {Element[] | NodeList} children - Defines the Element\n * @returns {Element} Returns the element\n * @hidden\n */\nexport function appendChildren(elem, children) {\n    for (var i = 0, len = children.length; i < len; i++) {\n        if (len === children.length) {\n            elem.appendChild(children[i]);\n        }\n        else {\n            elem.appendChild(children[0]);\n        }\n    }\n    return elem;\n}\n/**\n * @param {Element} elem - Defines the element\n * @param {string} selector - Defines the selector\n * @param {boolean} isID - Defines isID\n * @returns {Element} Return the element\n * @hidden\n */\nexport function parents(elem, selector, isID) {\n    var parent = elem;\n    var parents = [];\n    while (parent) {\n        if (isID ? parent.id === selector : parent.classList.contains(selector)) {\n            parents.push(parent);\n        }\n        parent = parent.parentElement;\n    }\n    return parents;\n}\n/**\n * @param {AggregateType | string} type - Defines the type\n * @param {Object} data - Defines the data\n * @param {AggregateColumnModel} column - Defines the column\n * @param {Object} context - Defines the context\n * @returns {Object} Returns the calculated aggragate\n * @hidden\n */\nexport function calculateAggregate(type, data, column, context) {\n    if (type === 'Custom') {\n        var temp = column.customAggregate;\n        if (typeof temp === 'string') {\n            temp = getValue(temp, window);\n        }\n        return temp ? temp.call(context, data, column) : '';\n    }\n    return (column.field in data || data instanceof Array) ? DataUtil.aggregates[type.toLowerCase()](data, column.field) : null;\n}\n/** @hidden */\nvar scrollWidth = null;\n/** @hidden\n * @returns {number} - Returns the scrollbarwidth\n */\nexport function getScrollBarWidth() {\n    if (scrollWidth !== null) {\n        return scrollWidth;\n    }\n    var divNode = document.createElement('div');\n    var value = 0;\n    divNode.style.cssText = 'width:100px;height: 100px;overflow: scroll;position: absolute;top: -9999px;';\n    document.body.appendChild(divNode);\n    value = (divNode.offsetWidth - divNode.clientWidth) | 0;\n    document.body.removeChild(divNode);\n    return scrollWidth = value;\n}\n/** @hidden */\nvar rowHeight;\n/**\n * @param {HTMLElement} element - Defines the element\n * @returns {number} Returns the roww height\n * @hidden\n */\nexport function getRowHeight(element) {\n    if (rowHeight !== undefined) {\n        return rowHeight;\n    }\n    var table = createElement('table', { className: literals.table, styles: 'visibility: hidden' });\n    table.innerHTML = '<tr><td class=\"e-rowcell\">A<td></tr>';\n    element.appendChild(table);\n    var rect = table.querySelector('td').getBoundingClientRect();\n    element.removeChild(table);\n    rowHeight = Math.ceil(rect.height);\n    return rowHeight;\n}\n/** @hidden */\nvar actualRowHeight;\n/**\n * @param {HTMLElement} element - Defines the HTMl element\n * @returns {number} Returns the row height\n * @hidden\n */\nexport function getActualRowHeight(element) {\n    if (actualRowHeight !== undefined) {\n        return rowHeight;\n    }\n    var table = createElement('table', { className: literals.table, styles: 'visibility: hidden' });\n    table.innerHTML = '<tr><td class=\"e-rowcell\">A<td></tr>';\n    element.appendChild(table);\n    var rect = table.querySelector('tr').getBoundingClientRect();\n    element.removeChild(table);\n    return rect.height;\n}\n/**\n * @param {string} field - Defines the field\n * @returns {boolean} - Returns is complex field\n * @hidden\n */\nexport function isComplexField(field) {\n    return field.split('.').length > 1;\n}\n/**\n * @param {string} field - Defines the field\n * @returns {string} - Returns the get complex field ID\n * @hidden\n */\nexport function getComplexFieldID(field) {\n    if (field === void 0) { field = ''; }\n    return field.replace(/\\./g, '___');\n}\n/**\n * @param {string} field - Defines the field\n * @returns {string} - Returns the set complex field ID\n * @hidden\n */\nexport function setComplexFieldID(field) {\n    if (field === void 0) { field = ''; }\n    return field.replace(/___/g, '.');\n}\n/**\n * @param {Column} col - Defines the column\n * @param {string} type - Defines the type\n * @param {Element} elem - Defines th element\n * @returns {boolean} Returns is Editable\n * @hidden\n */\nexport function isEditable(col, type, elem) {\n    var row = parentsUntil(elem, literals.row);\n    var isOldRow = !row ? true : row && !row.classList.contains('e-insertedrow');\n    if (type === 'beginEdit' && isOldRow) {\n        if (col.isIdentity || col.isPrimaryKey || !col.allowEditing) {\n            return false;\n        }\n        return true;\n    }\n    else if (type === 'add' && col.isIdentity) {\n        return false;\n    }\n    else {\n        if (isOldRow && !col.allowEditing && !col.isIdentity && !col.isPrimaryKey) {\n            return false;\n        }\n        return true;\n    }\n}\n/**\n * @param {IGrid} inst - Defines the IGrid\n * @returns {boolean} Returns is action prevent in boolean\n * @hidden\n */\nexport function isActionPrevent(inst) {\n    var dlg = select('#' + inst.element.id + 'EditConfirm', inst.element);\n    return inst.editSettings.mode === 'Batch' &&\n        (selectAll('.e-updatedtd', inst.element).length) && inst.editSettings.showConfirmDialog &&\n        (dlg ? dlg.classList.contains('e-popup-close') : true);\n}\n/**\n * @param {any} elem - Defines the element\n * @param {boolean} action - Defines the boolean for action\n * @returns {void}\n * @hidden\n */\n// eslint-disable-next-line\nexport function wrap(elem, action) {\n    var clName = 'e-wrap';\n    elem = elem instanceof Array ? elem : [elem];\n    for (var i = 0; i < elem.length; i++) {\n        if (action) {\n            elem[i].classList.add(clName);\n        }\n        else {\n            elem[i].classList.remove(clName);\n        }\n    }\n}\n/**\n * @param {ServiceLocator} serviceLocator - Defines the service locator\n * @param {Column} column  - Defines the column\n * @returns {void}\n * @hidden\n */\nexport function setFormatter(serviceLocator, column) {\n    var fmtr = serviceLocator.getService('valueFormatter');\n    var format = 'format';\n    var args;\n    if (column.type === 'date' || column.type === 'datetime') {\n        args = { type: column.type, skeleton: column.format };\n        if ((typeof (column.format) === 'string') && column.format !== 'yMd') {\n            args[format] = column.format;\n        }\n    }\n    switch (column.type) {\n        case 'date':\n            column.setFormatter(fmtr.getFormatFunction(args));\n            column.setParser(fmtr.getParserFunction(args));\n            break;\n        case 'datetime':\n            column.setFormatter(fmtr.getFormatFunction(args));\n            column.setParser(fmtr.getParserFunction(args));\n            break;\n        case 'number':\n            column.setFormatter(fmtr.getFormatFunction({ format: column.format }));\n            column.setParser(fmtr.getParserFunction({ format: column.format }));\n            break;\n    }\n}\n/**\n * @param {Element} cells - Defines the cell element\n * @param {boolean} add - Defines the add\n * @param {string} args - Defines the args\n * @returns {void}\n * @hidden\n */\nexport function addRemoveActiveClasses(cells, add) {\n    var args = [];\n    for (var _i = 2; _i < arguments.length; _i++) {\n        args[_i - 2] = arguments[_i];\n    }\n    for (var i = 0, len = cells.length; i < len; i++) {\n        if (add) {\n            classList(cells[i], args.slice(), []);\n            cells[i].setAttribute('aria-selected', 'true');\n        }\n        else {\n            classList(cells[i], [], args.slice());\n            cells[i].removeAttribute('aria-selected');\n        }\n    }\n}\n/**\n * @param {string} result - Defines th string\n * @returns {string} Returns the distinct staing values\n * @hidden\n */\nexport function distinctStringValues(result) {\n    var temp = {};\n    var res = [];\n    for (var i = 0; i < result.length; i++) {\n        if (!(result[i] in temp)) {\n            res.push(result[i].toString());\n            temp[result[i]] = 1;\n        }\n    }\n    return res;\n}\n/**\n * @param {Element} target - Defines the target\n * @param {Dialog} dialogObj - Defines the dialog\n * @returns {void}\n * @hidden\n */\nexport function getFilterMenuPostion(target, dialogObj) {\n    var elementVisible = dialogObj.element.style.display;\n    dialogObj.element.style.display = 'block';\n    var dlgWidth = dialogObj.width;\n    var newpos = calculateRelativeBasedPosition(target, dialogObj.element);\n    dialogObj.element.style.display = elementVisible;\n    dialogObj.element.style.top = (newpos.top + target.getBoundingClientRect().height) - 5 + 'px';\n    var leftPos = ((newpos.left - dlgWidth) + target.clientWidth);\n    if (leftPos < 1) {\n        dialogObj.element.style.left = (dlgWidth + leftPos) - 16 + 'px'; // right calculation\n    }\n    else {\n        dialogObj.element.style.left = leftPos + -4 + 'px';\n    }\n}\n/**\n * @param {Object} args - Defines the args\n * @param {Popup} args.popup - Defines the args for popup\n * @param {Dialog} dialogObj - Defines the dialog obj\n * @returns {void}\n * @hidden\n */\nexport function getZIndexCalcualtion(args, dialogObj) {\n    args.popup.element.style.zIndex = (dialogObj.zIndex + 1).toString();\n}\n/**\n * @param {Element} elem - Defines the element\n * @returns {void}\n * @hidden\n */\nexport function toogleCheckbox(elem) {\n    var span = elem.querySelector('.e-frame');\n    var input = span.previousSibling;\n    if (span.classList.contains('e-check')) {\n        input.checked = false;\n        classList(span, ['e-uncheck'], ['e-check']);\n    }\n    else {\n        input.checked = true;\n        classList(span, ['e-check'], ['e-uncheck']);\n    }\n}\n/**\n * @param {HTMLInputElement} elem - Defines the element\n * @param {boolean} checked - Defines is checked\n * @returns {void}\n * @hidden\n */\nexport function setChecked(elem, checked) {\n    elem.checked = checked;\n}\n/**\n * @param {string} uid - Defines the string\n * @param {Element} elem - Defines the Element\n * @param {string} className - Defines the classname\n * @returns {Element} Returns the box wrap\n * @hidden\n */\nexport function createCboxWithWrap(uid, elem, className) {\n    var div = createElement('div', { className: className });\n    div.appendChild(elem);\n    div.setAttribute('uid', uid);\n    return div;\n}\n/**\n * @param {Element} elem - Defines the element\n * @param {boolean} checked - Defines is checked\n * @returns {void}\n * @hidden\n */\nexport function removeAddCboxClasses(elem, checked) {\n    removeClass([elem], ['e-check', 'e-stop', 'e-uncheck']);\n    if (checked) {\n        elem.classList.add('e-check');\n    }\n    else {\n        elem.classList.add('e-uncheck');\n    }\n}\n/**\n * Refresh the Row model's foreign data.\n *\n * @param {IRow<Column>} row - Grid Row model object.\n * @param {Column[]} columns - Foreign columns array.\n * @param {Object} data - Updated Row data.\n * @returns {void}\n * @hidden\n */\nexport function refreshForeignData(row, columns, data) {\n    for (var i = 0; i < columns.length; i++) {\n        setValue(columns[i].field, getForeignData(columns[i], data), row.foreignKeyData);\n    }\n    var cells = row.cells;\n    for (var i = 0; i < cells.length; i++) {\n        if (cells[i].isForeignKey) {\n            setValue('foreignKeyData', getValue(cells[i].column.field, row.foreignKeyData), cells[i]);\n        }\n    }\n}\n/**\n * Get the foreign data for the corresponding cell value.\n *\n * @param {Column} column - Foreign Key column\n * @param {Object} data - Row data.\n * @param {string | number} lValue - cell value.\n * @param {Object} foreignKeyData - foreign data source.\n * @returns {Object} Returns the object\n * @hidden\n */\nexport function getForeignData(column, data, lValue, foreignKeyData) {\n    var fField = column.foreignKeyField;\n    var key = (!isNullOrUndefined(lValue) ? lValue : valueAccessor(column.field, data, column));\n    key = isNullOrUndefined(key) ? '' : key;\n    var query = new Query();\n    var fdata = foreignKeyData || ((column.dataSource instanceof DataManager) && column.dataSource.dataSource.json.length ?\n        column.dataSource.dataSource.json : column.columnData);\n    if (key.getDay) {\n        query.where(getDatePredicate({ field: fField, operator: 'equal', value: key, matchCase: false }));\n    }\n    else {\n        query.where(fField, '==', key, false);\n    }\n    return new DataManager(fdata).executeLocal(query);\n}\n/**\n * To use to get the column's object by the foreign key value.\n *\n * @param {string} foreignKeyValue - Defines ForeignKeyValue.\n * @param {Column[]} columns - Array of column object.\n * @returns {Column} Returns the element\n * @hidden\n */\nexport function getColumnByForeignKeyValue(foreignKeyValue, columns) {\n    var column;\n    return columns.some(function (col) {\n        column = col;\n        return col.foreignKeyValue === foreignKeyValue;\n    }) && column;\n}\n/**\n * @param {PredicateModel} filterObject - Defines the filterObject\n * @param {string} type - Defines the type\n * @returns {Predicate} Returns the Predicate\n * @hidden\n */\nexport function getDatePredicate(filterObject, type) {\n    var datePredicate;\n    var prevDate;\n    var nextDate;\n    var prevObj = baseExtend({}, getActualProperties(filterObject));\n    var nextObj = baseExtend({}, getActualProperties(filterObject));\n    if (isNullOrUndefined(filterObject.value)) {\n        datePredicate = new Predicate(prevObj.field, prevObj.operator, prevObj.value, false);\n        return datePredicate;\n    }\n    var value = new Date(filterObject.value);\n    if (filterObject.operator === 'equal' || filterObject.operator === 'notequal') {\n        if (type === 'datetime') {\n            prevDate = new Date(value.setSeconds(value.getSeconds() - 1));\n            nextDate = new Date(value.setSeconds(value.getSeconds() + 2));\n            filterObject.value = new Date(value.setSeconds(nextDate.getSeconds() - 1));\n        }\n        else {\n            prevDate = new Date(value.setHours(0) - 1);\n            nextDate = new Date(value.setHours(24));\n        }\n        prevObj.value = prevDate;\n        nextObj.value = nextDate;\n        if (filterObject.operator === 'equal') {\n            prevObj.operator = 'greaterthan';\n            nextObj.operator = 'lessthan';\n        }\n        else if (filterObject.operator === 'notequal') {\n            prevObj.operator = 'lessthanorequal';\n            nextObj.operator = 'greaterthanorequal';\n        }\n        var predicateSt = new Predicate(prevObj.field, prevObj.operator, prevObj.value, false);\n        var predicateEnd = new Predicate(nextObj.field, nextObj.operator, nextObj.value, false);\n        datePredicate = filterObject.operator === 'equal' ? predicateSt.and(predicateEnd) : predicateSt.or(predicateEnd);\n    }\n    else {\n        if (type === 'date' && (filterObject.operator === 'lessthanorequal' || filterObject.operator === 'greaterthan')) {\n            prevObj.value = new Date(value.setHours(24) - 1);\n        }\n        if (typeof (prevObj.value) === 'string') {\n            prevObj.value = new Date(prevObj.value);\n        }\n        var predicates = new Predicate(prevObj.field, prevObj.operator, prevObj.value, false);\n        datePredicate = predicates;\n    }\n    if (filterObject.setProperties) {\n        filterObject.setProperties({ ejpredicate: datePredicate }, true);\n    }\n    else {\n        filterObject.ejpredicate = datePredicate;\n    }\n    return datePredicate;\n}\n/**\n * @param {Element} ele - Defines the element\n * @param {number} frzCols - Defines the frozen columns\n * @param {IGrid} gObj - Defines the IGrid\n * @returns {Element} Returns the element\n * @hidden\n */\nexport function renderMovable(ele, frzCols, gObj) {\n    frzCols = frzCols && gObj && gObj.isRowDragable() ? frzCols + 1 : frzCols;\n    var mEle = ele.cloneNode(true);\n    for (var i = 0; i < frzCols; i++) {\n        mEle.removeChild(mEle.children[0]);\n    }\n    for (var i = frzCols, len = ele.childElementCount; i < len; i++) {\n        ele.removeChild(ele.children[ele.childElementCount - 1]);\n    }\n    return mEle;\n}\n/**\n * @param {IGrid} grid - Defines the IGrid\n * @returns {boolean} Returns true if group adaptive is true\n * @hidden\n */\nexport function isGroupAdaptive(grid) {\n    return grid.enableVirtualization && grid.groupSettings.columns.length > 0 && grid.isVirtualAdaptive;\n}\n/**\n * @param {string} field - Defines the Field\n * @param {Object} object - Defines the objec\n * @returns {any} Returns the object\n * @hidden\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function getObject(field, object) {\n    if (field === void 0) { field = ''; }\n    if (field) {\n        var value = object;\n        var splits = field.split('.');\n        for (var i = 0; i < splits.length && !isNullOrUndefined(value); i++) {\n            value = value[splits[i]];\n        }\n        return value;\n    }\n}\n/**\n * @param {string | Object} format - defines the format\n * @param {string} colType - Defines the coltype\n * @returns {string} Returns the custom Data format\n * @hidden\n */\nexport function getCustomDateFormat(format, colType) {\n    var intl = new Internationalization();\n    var formatvalue;\n    var formatter = 'format';\n    var type = 'type';\n    if (colType === 'date') {\n        formatvalue = typeof (format) === 'object' ?\n            intl.getDatePattern({ type: format[type] ? format[type] : 'date', format: format[formatter] }, false) :\n            intl.getDatePattern({ type: 'dateTime', skeleton: format }, false);\n    }\n    else {\n        formatvalue = typeof (format) === 'object' ?\n            intl.getDatePattern({ type: format[type] ? format[type] : 'dateTime', format: format[formatter] }, false) :\n            intl.getDatePattern({ type: 'dateTime', skeleton: format }, false);\n    }\n    return formatvalue;\n}\n/**\n * @param {IGrid} gObj - Defines the IGrid\n * @param {HierarchyGridPrintMode} hierarchyPrintMode - Defines the hierarchyPrintMode\n * @returns {Object} Returns the object\n * @hidden\n */\nexport function getExpandedState(gObj, hierarchyPrintMode) {\n    var rows = gObj.getRowsObject();\n    var obj = {};\n    for (var _i = 0, rows_1 = rows; _i < rows_1.length; _i++) {\n        var row = rows_1[_i];\n        if (row.isExpand && !row.isDetailRow) {\n            var index = gObj.allowPaging && gObj.printMode === 'AllPages' ? row.index +\n                (gObj.pageSettings.currentPage * gObj.pageSettings.pageSize) - gObj.pageSettings.pageSize : row.index;\n            obj[index] = {};\n            obj[index].isExpand = true;\n            obj[index].gridModel = getPrintGridModel(row.childGrid, hierarchyPrintMode);\n            obj[index].gridModel.query = gObj.childGrid.query;\n        }\n    }\n    return obj;\n}\n/**\n * @param {IGrid} gObj - Defines the grid objct\n * @param {HierarchyGridPrintMode} hierarchyPrintMode - Defines the hierarchyPrintMode\n * @returns {IGrid} Returns the IGrid\n * @hidden\n */\nexport function getPrintGridModel(gObj, hierarchyPrintMode) {\n    if (hierarchyPrintMode === void 0) { hierarchyPrintMode = 'Expanded'; }\n    var printGridModel = {};\n    if (!gObj) {\n        return printGridModel;\n    }\n    var isFrozen = gObj.isFrozenGrid() && !gObj.getFrozenColumns();\n    for (var _i = 0, _a = Print.printGridProp; _i < _a.length; _i++) {\n        var key = _a[_i];\n        if (key === 'columns') {\n            printGridModel[key] = getActualPropFromColl(isFrozen ? gObj.getColumns() : gObj[key]);\n        }\n        else if (key === 'allowPaging') {\n            printGridModel[key] = gObj.printMode === 'CurrentPage';\n        }\n        else {\n            printGridModel[key] = getActualProperties(gObj[key]);\n        }\n    }\n    printGridModel['enableHover'] = false;\n    if (gObj.childGrid && hierarchyPrintMode !== 'None') {\n        printGridModel.expandedRows = getExpandedState(gObj, hierarchyPrintMode);\n    }\n    return printGridModel;\n}\n/**\n * @param {Object} copied - Defines the copied object\n * @param {Object} first - Defines the first object\n * @param {Object} second - Defines the second object\n * @param {boolean} deep - Defines the deep\n * @returns {Object} Returns the extended object\n * @hidden\n */\nexport function extendObjWithFn(copied, first, second, deep) {\n    var res = copied || {};\n    var len = arguments.length;\n    if (deep) {\n        len = len - 1;\n    }\n    for (var i = 1; i < len; i++) {\n        // eslint-disable-next-line prefer-rest-params\n        if (!arguments[i]) {\n            continue;\n        }\n        // eslint-disable-next-line prefer-rest-params\n        var obj1 = arguments[i];\n        var keys = Object.keys(Object.getPrototypeOf(obj1)).length ?\n            Object.keys(obj1).concat(getPrototypesOfObj(obj1)) : Object.keys(obj1);\n        for (var i_1 = 0; i_1 < keys.length; i_1++) {\n            var source = res[keys[i_1]];\n            var cpy = obj1[keys[i_1]];\n            var cln = void 0;\n            if (deep && (isObject(cpy) || Array.isArray(cpy))) {\n                if (isObject(cpy)) {\n                    cln = source ? source : {};\n                    res[keys[i_1]] = baseExtend({}, cln, cpy, deep);\n                }\n                else {\n                    cln = source ? source : [];\n                    res[keys[i_1]] = baseExtend([], cln, cpy, deep);\n                }\n            }\n            else {\n                res[keys[i_1]] = cpy;\n            }\n        }\n    }\n    return res;\n}\n/**\n * @param {Object} obj - Defines the obj\n * @returns {string[]} Returns the string\n * @hidden\n */\nfunction getPrototypesOfObj(obj) {\n    var keys = [];\n    while (Object.getPrototypeOf(obj) && Object.keys(Object.getPrototypeOf(obj)).length) {\n        keys = keys.concat(Object.keys(Object.getPrototypeOf(obj)));\n        obj = Object.getPrototypeOf(obj);\n    }\n    return keys;\n}\n/**\n * @param {Column[]} column - Defines the Column\n * @returns {number} Returns the column Depth\n * @hidden\n */\nexport function measureColumnDepth(column) {\n    var max = 0;\n    for (var i = 0; i < column.length; i++) {\n        var depth = checkDepth(column[i], 0);\n        if (max < depth) {\n            max = depth;\n        }\n    }\n    return max + 1;\n}\n/**\n * @param {Column} col - Defines the Column\n * @param {number} index - Defines the index\n * @returns {number} Returns the depth\n * @hidden\n */\nexport function checkDepth(col, index) {\n    var max = index;\n    var indices = [];\n    if (col.columns) {\n        index++;\n        for (var i = 0; i < col.columns.length; i++) {\n            indices[i] = checkDepth(col.columns[i], index);\n        }\n        for (var j = 0; j < indices.length; j++) {\n            if (max < indices[j]) {\n                max = indices[j];\n            }\n        }\n        index = max;\n    }\n    return index;\n}\n/**\n * @param {IGrid} gObj - Defines the IGrid\n * @param {PredicateModel[]} filteredCols - Defines the PredicateModel\n * @returns {void}\n * @hidden\n */\nexport function refreshFilteredColsUid(gObj, filteredCols) {\n    for (var i = 0; i < filteredCols.length; i++) {\n        filteredCols[i].uid = filteredCols[i].isForeignKey ?\n            getColumnByForeignKeyValue(filteredCols[i].field, gObj.getForeignKeyColumns()).uid\n            : gObj.enableColumnVirtualization ? getColumnModelByFieldName(gObj, filteredCols[i].field).uid\n                : gObj.getColumnByField(filteredCols[i].field).uid;\n    }\n}\n/** @hidden */\n// eslint-disable-next-line @typescript-eslint/no-namespace\nexport var Global;\n(function (Global) {\n    // eslint-disable-next-line prefer-const\n    Global.timer = null;\n})(Global || (Global = {}));\n/**\n * @param {Element} element - Defines the element\n * @returns {Object} Returns the transform values\n * @hidden\n */\nexport function getTransformValues(element) {\n    var style = document.defaultView.getComputedStyle(element, null);\n    var transformV = style.getPropertyValue('transform');\n    var replacedTv = transformV.replace(/,/g, '');\n    var translateX = parseFloat((replacedTv).split(' ')[4]);\n    var translateY = parseFloat((replacedTv).split(' ')[5]);\n    return { width: translateX, height: translateY };\n}\n/**\n * @param {Element} rootElement - Defines the root Element\n * @param {Element} element - Defines the element\n * @returns {void}\n * @hidden\n */\nexport function applyBiggerTheme(rootElement, element) {\n    if (rootElement.classList.contains('e-bigger')) {\n        element.classList.add('e-bigger');\n    }\n}\n/**\n * @param {HTMLElement} mTD - Defines the movable TD\n * @param {HTMLElement} fTD  - Defines the Frozen TD\n * @returns {void}\n * @hidden\n */\nexport function alignFrozenEditForm(mTD, fTD) {\n    if (mTD && fTD) {\n        var mHeight = closest(mTD, '.' + literals.row).getBoundingClientRect().height;\n        var fHeight = closest(fTD, '.' + literals.row).getBoundingClientRect().height;\n        if (mHeight > fHeight) {\n            fTD.style.height = mHeight + 'px';\n        }\n        else {\n            mTD.style.height = fHeight + 'px';\n        }\n    }\n}\n/**\n * @param {Element} row - Defines row element\n * @param {IGrid} gridObj - Defines grid object\n * @returns {boolean} Returns isRowEnteredInGrid\n * @hidden\n */\nexport function ensureLastRow(row, gridObj) {\n    var cntOffset = gridObj.getContent().firstElementChild.offsetHeight;\n    return row && row.getBoundingClientRect().top > cntOffset;\n}\n/**\n * @param {Element} row - Defines row element\n * @param {number} rowTop - Defines row top number\n * @returns {boolean} Returns first row is true\n * @hidden\n */\nexport function ensureFirstRow(row, rowTop) {\n    return row && row.getBoundingClientRect().top < rowTop;\n}\n/**\n * @param {number} index - Defines index\n * @param {IGrid} gObj - Defines grid object\n * @returns {boolean} Returns isRowEnteredInGrid\n * @hidden\n */\nexport function isRowEnteredInGrid(index, gObj) {\n    var rowHeight = gObj.getRowHeight();\n    var startIndex = gObj.getContent().firstElementChild.scrollTop / rowHeight;\n    var endIndex = startIndex + (gObj.getContent().firstElementChild.offsetHeight / rowHeight);\n    return index < endIndex && index > startIndex;\n}\n/**\n * @param {IGrid} gObj - Defines the grid object\n * @param {Object} data - Defines the query\n * @returns {number} Returns the edited data index\n * @hidden\n */\nexport function getEditedDataIndex(gObj, data) {\n    var keyField = gObj.getPrimaryKeyFieldNames()[0];\n    var dataIndex;\n    gObj.getCurrentViewRecords().filter(function (e, index) {\n        if (e[keyField] === data[keyField]) {\n            dataIndex = index;\n        }\n    });\n    return dataIndex;\n}\n/**\n * @param {Object} args - Defines the argument\n * @param {Query} query - Defines the query\n * @returns {FilterStateObj} Returns the filter state object\n * @hidden\n */\nexport function eventPromise(args, query) {\n    var state = getStateEventArgument(query);\n    var def = new Deferred();\n    state.dataSource = def.resolve;\n    state.action = args;\n    return { state: state, deffered: def };\n}\n/**\n * @param {Query} query - Defines the query\n * @returns {Object} Returns the state event argument\n * @hidden\n */\nexport function getStateEventArgument(query) {\n    var adaptr = new UrlAdaptor();\n    var dm = new DataManager({ url: '', adaptor: new UrlAdaptor });\n    var state = adaptr.processQuery(dm, query);\n    var data = JSON.parse(state.data);\n    return data;\n}\n/**\n * @param {IGrid} gObj - Defines the Igrid\n * @returns {boolean} Returns the ispercentageWidth\n * @hidden\n */\nexport function ispercentageWidth(gObj) {\n    var columns = gObj.getVisibleColumns();\n    var percentageCol = 0;\n    var undefinedWidthCol = 0;\n    for (var i = 0; i < columns.length; i++) {\n        if (isUndefined(columns[i].width)) {\n            undefinedWidthCol++;\n        }\n        else if (columns[i].width.toString().indexOf('%') !== -1) {\n            percentageCol++;\n        }\n    }\n    return (gObj.width === 'auto' || typeof (gObj.width) === 'string' && gObj.width.indexOf('%') !== -1) &&\n        !gObj.groupSettings.showGroupedColumn && gObj.groupSettings.columns.length\n        && percentageCol && !undefinedWidthCol;\n}\n/**\n * @param {IGrid} gObj - Defines the IGrid\n * @param {Row<Column>[]} rows - Defines the row\n * @param {HTMLTableRowElement[]} rowElms - Row elements\n * @param {number} index - Row index\n * @returns {void}\n * @hidden\n */\nexport function resetRowIndex(gObj, rows, rowElms, index) {\n    var startIndex = index ? index : 0;\n    for (var i = 0; i < rows.length; i++) {\n        if (rows[i].isDataRow) {\n            rows[i].index = startIndex;\n            rows[i].isAltRow = gObj.enableAltRow ? startIndex % 2 !== 0 : false;\n            rowElms[i].setAttribute(literals.ariaRowIndex, startIndex.toString());\n            if (rows[i].isAltRow) {\n                rowElms[i].classList.add('e-altrow');\n            }\n            else {\n                rowElms[i].classList.remove('e-altrow');\n            }\n            for (var j = 0; j < rowElms[i].cells.length; j++) {\n                rowElms[i].cells[j].setAttribute('index', startIndex.toString());\n            }\n            startIndex++;\n        }\n    }\n    if (!rows.length) {\n        gObj.renderModule.emptyRow(true);\n    }\n}\n/**\n * @param {IGrid} gObj - Defines the grid object\n * @param {Object} changes - Defines the changes\n * @param {string} type - Defines the type\n * @param {string} keyField - Defines the keyfield\n * @returns {void}\n * @hidden\n */\nexport function compareChanges(gObj, changes, type, keyField) {\n    var newArray = gObj.dataToBeUpdated[type].concat(changes[type]).reduce(function (r, o) {\n        r[o[keyField]] = r[o[keyField]] === undefined ? o : Object.assign(r[o[keyField]], o);\n        return r;\n    }, {});\n    gObj.dataToBeUpdated[type] = Object.keys(newArray).map(function (k) { return newArray[k]; });\n}\n/**\n * @param {IGrid} gObj - Defines the grid object\n * @returns {void}\n * @hidden\n */\nexport function setRowElements(gObj) {\n    if (gObj.isFrozenGrid()) {\n        (gObj).contentModule.rowElements =\n            [].slice.call(gObj.element.querySelectorAll('.e-movableheader .e-row, .e-movablecontent .e-row'));\n        var cls = gObj.getFrozenMode() === literals.leftRight ? '.e-frozen-left-header .e-row, .e-frozen-left-content .e-row'\n            : '.e-frozenheader .e-row, .e-frozencontent .e-row';\n        (gObj).contentModule.freezeRowElements =\n            [].slice.call(gObj.element.querySelectorAll(cls));\n        if (gObj.getFrozenMode() === literals.leftRight) {\n            gObj.contentModule.frozenRightRowElements =\n                [].slice.call(gObj.element.querySelectorAll('.e-frozen-right-header .e-row, .e-frozen-right-content .e-row'));\n        }\n    }\n    else {\n        (gObj).contentModule.rowElements =\n            [].slice.call(gObj.element.querySelectorAll('.e-row:not(.e-addedrow)'));\n    }\n}\n/**\n * @param {IGrid} gObj - Defines the grid object\n * @param {Cell<Column>} cells - Defines the callback function\n * @param {freezeTable} tableName - Defines the row\n * @returns {Cell<Column>[]} Returns the cell\n * @hidden\n */\nexport function splitFrozenRowObjectCells(gObj, cells, tableName) {\n    var left = gObj.getFrozenLeftCount();\n    var movable = gObj.getMovableColumnsCount();\n    var right = gObj.getFrozenRightColumnsCount();\n    var frozenMode = gObj.getFrozenMode();\n    var drag = gObj.isRowDragable() ? 1 : 0;\n    var rightIndex = frozenMode === 'Right' ? left + movable : left + movable + drag;\n    var mvblIndex = frozenMode === 'Right' ? left : left + drag;\n    var mvblEndIdx = frozenMode === 'Right' ? cells.length - right - drag\n        : right ? cells.length - right : cells.length;\n    if (tableName === literals.frozenLeft) {\n        cells = cells.slice(0, left ? left + drag : cells.length);\n    }\n    else if (tableName === literals.frozenRight) {\n        cells = cells.slice(rightIndex, cells.length);\n    }\n    else if (tableName === 'movable') {\n        cells = cells.slice(mvblIndex, mvblEndIdx);\n    }\n    return cells;\n}\n// eslint-disable-next-line\n/** @hidden */\nexport function gridActionHandler(gObj, callBack, rows, force, rowObj) {\n    if (rows[0].length || force) {\n        if (rowObj) {\n            callBack(literals.frozenLeft, rows[0], rowObj[0]);\n        }\n        else {\n            callBack(literals.frozenLeft, rows[0]);\n        }\n    }\n    if (gObj.isFrozenGrid() && (rows[1].length || force)) {\n        if (rowObj) {\n            callBack('movable', rows[1], rowObj[1]);\n        }\n        else {\n            callBack('movable', rows[1]);\n        }\n    }\n    if ((gObj.getFrozenMode() === literals.leftRight || gObj.getFrozenMode() === 'Right') && (rows[2].length || force)) {\n        if (rowObj) {\n            callBack(literals.frozenRight, rows[2], rowObj[2]);\n        }\n        else {\n            callBack(literals.frozenRight, rows[2]);\n        }\n    }\n}\n/**\n * @param {IGrid} gObj - Defines the grid\n * @returns {Row<Column>} Returns the row\n * @hidden\n */\nexport function getGridRowObjects(gObj) {\n    return [gObj.getFrozenMode() !== 'Right' ? gObj.getRowsObject() : [], gObj.getMovableRowsObject(), gObj.getFrozenRightRowsObject()];\n}\n/**\n * @param {IGrid} gObj - Defines the grid\n * @returns {Element} Returns the element\n * @hidden\n */\nexport function getGridRowElements(gObj) {\n    return [\n        gObj.getFrozenMode() !== 'Right' ? gObj.getAllDataRows(true) : [],\n        gObj.getAllMovableDataRows(true), gObj.getAllFrozenRightDataRows(true)\n    ];\n}\n/**\n * @param {Element} row - Defines the row\n * @param {number} start - Defines the start index\n * @param {number} end - Defines the end index\n * @returns {void}\n * @hidden\n */\nexport function sliceElements(row, start, end) {\n    var cells = row.children;\n    var len = cells.length;\n    var k = 0;\n    for (var i = 0; i < len; i++, k++) {\n        if (i >= start && i < end) {\n            continue;\n        }\n        row.removeChild(row.children[k]);\n        k--;\n    }\n}\n/**\n * @param {IGrid} gObj - Defines the grid Object\n * @param {Column} col - Defines the column\n * @param {number} rowIndex - Defines the rowindex\n * @returns {Element} Returns the element\n * @hidden\n */\nexport function getCellsByTableName(gObj, col, rowIndex) {\n    if (col.getFreezeTableName() === 'movable') {\n        return [].slice.call(gObj.getMovableDataRows()[rowIndex].getElementsByClassName(literals.rowCell));\n    }\n    else if (col.getFreezeTableName() === literals.frozenRight) {\n        return [].slice.call(gObj.getFrozenRightDataRows()[rowIndex].getElementsByClassName(literals.rowCell));\n    }\n    else {\n        return [].slice.call(gObj.getDataRows()[rowIndex].getElementsByClassName(literals.rowCell));\n    }\n}\n/**\n * @param {IGrid} gObj - Defines the column\n * @param {Column} col - Defines the index\n * @param {number} rowIndex - Defines the rules\n * @param {number} index - Defines the movable column rules\n * @returns {Element} Returns the Element\n * @hidden\n */\nexport function getCellByColAndRowIndex(gObj, col, rowIndex, index) {\n    var left = gObj.getFrozenLeftCount();\n    var movable = gObj.getMovableColumnsCount();\n    index = col.getFreezeTableName() === 'movable' ? index - left : col.getFreezeTableName() === literals.frozenRight\n        ? index - (left + movable) : index;\n    return getCellsByTableName(gObj, col, rowIndex)[index];\n}\n/**\n * @param {Column} col - Defines the column\n * @param {number} index - Defines the index\n * @param {Object} rules - Defines the rules\n * @param {Object} mRules - Defines the movable column rules\n * @param {Object} frRules - Defines the Frozen rules\n * @param {number} len - Defines the length\n * @param {boolean} isCustom - Defines custom form validation\n * @returns {void}\n * @hidden\n */\nexport function setValidationRuels(col, index, rules, mRules, frRules, len, isCustom) {\n    if (isCustom) {\n        rules[getComplexFieldID(col.field)] = col.validationRules;\n    }\n    else {\n        if (col.getFreezeTableName() === literals.frozenLeft\n            || (!index && col.getFreezeTableName() === literals.frozenRight) || len === 1) {\n            rules[getComplexFieldID(col.field)] = col.validationRules;\n        }\n        else if (col.getFreezeTableName() === 'movable' || !col.getFreezeTableName()) {\n            mRules[getComplexFieldID(col.field)] = col.validationRules;\n        }\n        else if (col.getFreezeTableName() === literals.frozenRight) {\n            frRules[getComplexFieldID(col.field)] = col.validationRules;\n        }\n    }\n}\n/**\n * @param {IGrid} gObj - Defines the grid object\n * @returns {Element} Returns the Element\n * @hidden\n */\nexport function getMovableTbody(gObj) {\n    var tbody;\n    if (gObj.isFrozenGrid()) {\n        tbody = gObj.frozenRows && gObj.editSettings.newRowPosition === 'Top' ? gObj.getMovableHeaderTbody()\n            : gObj.getMovableContentTbody();\n    }\n    return tbody;\n}\n/**\n * @param {IGrid} gObj - Defines the grid object\n * @returns {Element} Returns the Element\n * @hidden\n */\nexport function getFrozenRightTbody(gObj) {\n    var tbody;\n    if (gObj.getFrozenMode() === literals.leftRight) {\n        tbody = gObj.frozenRows && gObj.editSettings.newRowPosition === 'Top' ? gObj.getFrozenRightHeaderTbody()\n            : gObj.getFrozenRightContentTbody();\n    }\n    return tbody;\n}\n/**\n * @param {Element} tbody - Table body\n * @param {Element} mTbody - Movanle table body\n * @param {Element} frTbody - Frozen right table body\n * @param {Element[]} tr - Table rows\n * @param {Element[]} mTr - Movable table rows\n * @param {Element[]} frTr - Frozen right table rows\n * @param {Function} callBack - Callback function\n * @returns {void}\n * @hidden\n */\nexport function setRowsInTbody(tbody, mTbody, frTbody, tr, mTr, frTr, callBack) {\n    if (tbody && tr) {\n        callBack(tbody, tr);\n    }\n    if (mTbody && mTr) {\n        callBack(mTbody, mTr);\n    }\n    if (frTbody && frTr) {\n        callBack(frTbody, frTr);\n    }\n}\n/**\n * @param {string} numberFormat - Format\n * @param {string} type - Value type\n * @param {boolean} isExcel - Boolean property\n * @returns {string} returns formated value\n * @hidden\n */\nexport function getNumberFormat(numberFormat, type, isExcel) {\n    var format;\n    var intl = new Internationalization();\n    if (type === 'number') {\n        try {\n            format = intl.getNumberPattern({ format: numberFormat, currency: this.currency, useGrouping: true }, true);\n        }\n        catch (error) {\n            format = numberFormat;\n        }\n    }\n    else if (type === 'date' || type === 'time' || type === 'datetime') {\n        try {\n            format = intl.getDatePattern({ skeleton: numberFormat, type: type }, isExcel);\n            if (isNullOrUndefined(format)) {\n                // eslint-disable-next-line\n                throw 'error';\n            }\n        }\n        catch (error) {\n            try {\n                format = intl.getDatePattern({ format: numberFormat, type: type }, isExcel);\n            }\n            catch (error) {\n                format = numberFormat;\n            }\n        }\n    }\n    else {\n        format = numberFormat;\n    }\n    if (type !== 'number') {\n        var patternRegex = /G|H|c|'| a|yy|y|EEEE|E/g;\n        var mtch_1 = { 'G': '', 'H': 'h', 'c': 'd', '\\'': '\"', ' a': ' AM/PM', 'yy': 'yy', 'y': 'yyyy', 'EEEE': 'dddd', 'E': 'ddd' };\n        format = format.replace(patternRegex, function (pattern) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            return mtch_1[pattern];\n        });\n    }\n    return format;\n}\n/**\n * @param {IGrid} gObj - Grid instance\n * @returns {void}\n * @hidden\n */\nexport function addBiggerDialog(gObj) {\n    if (gObj.enableAdaptiveUI) {\n        var dialogs = document.getElementsByClassName('e-responsive-dialog');\n        for (var i = 0; i < dialogs.length; i++) {\n            dialogs[i].classList.add('e-bigger');\n        }\n    }\n}\n/**\n * @param {string} value - specifies the trr\n * @param {Object} mapObject - specifies the idx\n * @returns {Object | string} returns object or string\n * @hidden\n */\nexport function performComplexDataOperation(value, mapObject) {\n    var returnObj;\n    var length = value.split('.').length;\n    var splits = value.split('.');\n    var duplicateMap = mapObject;\n    for (var i = 0; i < length; i++) {\n        returnObj = duplicateMap[splits[i]];\n        duplicateMap = returnObj;\n    }\n    return returnObj;\n}\n/**\n * @param {Object} tr - specifies the trr\n * @param {number} idx - specifies the idx\n * @param {string} displayVal - specifies the displayval\n * @param {Row<Column>} rows - specifies the rows\n * @param {IGrid} parent - Grid instance\n * @param {boolean} isContent - check for content renderer\n * @returns {void}\n * @hidden\n */\nexport function setDisplayValue(tr, idx, displayVal, rows, parent, isContent) {\n    var trs = Object.keys(tr);\n    for (var i = 0; i < trs.length; i++) {\n        var td = tr[trs[i]].querySelectorAll('td.e-rowcell')[idx];\n        if (tr[trs[i]].querySelectorAll('td.e-rowcell').length && td) {\n            setStyleAttribute(tr[trs[i]].querySelectorAll('td.e-rowcell')[idx], { 'display': displayVal });\n            if (tr[trs[i]].querySelectorAll('td.e-rowcell')[idx].classList.contains('e-hide')) {\n                removeClass([tr[trs[i]].querySelectorAll('td.e-rowcell')[idx]], ['e-hide']);\n            }\n            if (isContent && parent.isRowDragable()) {\n                var index = parent.getFrozenColumns() ? idx : idx + 1;\n                rows[trs[i]].cells[index].visible = displayVal === '' ? true : false;\n            }\n            else {\n                rows[trs[i]].cells[idx].visible = displayVal === '' ? true : false;\n            }\n        }\n    }\n}\n// eslint-disable-next-line\n/** @hidden */\nexport function addRemoveEventListener(parent, evt, isOn, module) {\n    for (var _i = 0, evt_1 = evt; _i < evt_1.length; _i++) {\n        var inst = evt_1[_i];\n        if (isOn) {\n            parent.on(inst.event, inst.handler, module);\n        }\n        else {\n            parent.off(inst.event, inst.handler);\n        }\n    }\n}\n// eslint-disable-next-line\n/** @hidden */\nexport function createEditElement(parent, column, classNames, attr) {\n    var complexFieldName = getComplexFieldID(column.field);\n    attr = Object.assign(attr, {\n        id: parent.element.id + complexFieldName,\n        name: complexFieldName, 'e-mappinguid': column.uid\n    });\n    return parent.createElement('input', {\n        className: classNames, attrs: attr\n    });\n}\n/**\n * @param {IGrid} gObj - Grid instance\n * @param {string} uid - Defines column's uid\n * @returns {Column} returns column model\n * @hidden\n */\nexport function getColumnModelByUid(gObj, uid) {\n    var column;\n    for (var _i = 0, _a = (gObj.columnModel); _i < _a.length; _i++) {\n        var col = _a[_i];\n        if (col.uid === uid) {\n            column = col;\n            break;\n        }\n    }\n    return column;\n}\n/**\n * @param {IGrid} gObj - Grid instance\n * @param {string} field - Defines column's uid\n * @returns {Column} returns column model\n * @hidden\n */\nexport function getColumnModelByFieldName(gObj, field) {\n    var column;\n    if (!gObj.columnModel) {\n        gObj.getColumns();\n    }\n    for (var _i = 0, _a = (gObj.columnModel); _i < _a.length; _i++) {\n        var col = _a[_i];\n        if (col.field === field) {\n            column = col;\n            break;\n        }\n    }\n    return column;\n}\n/**\n * @param {string} id - Defines component id\n * @param {string[]} evts - Defines events\n * @param {object} handlers - Defines event handlers\n * @param {any} instance - Defines class instance\n * @returns {void}\n * @hidden\n */\n// eslint-disable-next-line\nexport function registerEventHandlers(id, evts, handlers, instance) {\n    instance.eventHandlers[id] = {};\n    for (var i = 0; i < evts.length; i++) {\n        instance.eventHandlers[id][evts[i]] = handlers[evts[i]];\n    }\n}\n/**\n * @param {any} component - Defines component instance\n * @param {string[]} evts - Defines events\n * @param {any} instance - Defines class instance\n * @returns {void}\n * @hidden\n */\n// eslint-disable-next-line\nexport function removeEventHandlers(component, evts, instance) {\n    for (var i = 0; i < evts.length; i++) {\n        if (component.isDestroyed) {\n            break;\n        }\n        component.removeEventListener(evts[i], instance.eventHandlers[component.element.id][evts[i]]);\n    }\n}\n/**\n * @param {IGrid | IXLFilter} parent - Defines parent instance\n * @param {string[]} templates - Defines the templates name which are needs to clear\n * @returns {void}\n * @hidden\n */\nexport function clearReactVueTemplates(parent, templates) {\n    parent.destroyTemplate(templates);\n    if (parent.isReact) {\n        parent.renderTemplates();\n    }\n}\n/**\n *\n * @param { Element } row - Defines row element\n * @returns { number } row index\n */\nexport function getRowIndexFromElement(row) {\n    return parseInt(row.getAttribute(literals.ariaRowIndex), 10);\n}\n/**\n *\n * @param { string[] } fields - Defines grouped fields\n * @param { values } values - Defines caption keys\n * @param { any } instance - Defines dynamic class instance\n * @returns { Predicate } returns filter predicate\n */\n// eslint-disable-next-line\nexport function generateExpandPredicates(fields, values, instance) {\n    var filterCols = [];\n    for (var i = 0; i < fields.length; i++) {\n        var column = instance.parent.getColumnByField(fields[i]);\n        var value = values[i] === 'null' ? null : values[i];\n        var pred = {\n            field: fields[i], predicate: 'or', uid: column.uid, operator: 'equal', type: column.type,\n            matchCase: instance.allowCaseSensitive, ignoreAccent: instance.parent.filterSettings.ignoreAccent\n        };\n        if (value === '' || isNullOrUndefined(value)) {\n            filterCols = filterCols.concat(CheckBoxFilterBase.generateNullValuePredicates(pred));\n        }\n        else {\n            filterCols.push(extend({}, { value: value }, pred));\n        }\n    }\n    return CheckBoxFilterBase.getPredicate(filterCols);\n}\n/**\n *\n * @param { Predicate } pred - Defines filter predicate\n * @returns { Predicate[] } Returns formed predicate\n */\nexport function getPredicates(pred) {\n    var predicateList = [];\n    for (var _i = 0, _a = Object.keys(pred); _i < _a.length; _i++) {\n        var prop = _a[_i];\n        predicateList.push(pred[prop]);\n    }\n    return predicateList;\n}\n/**\n *\n * @param { number } index - Defines group caption indent\n * @param { Row<Column>[] } rowsObject - Defines rows object\n * @returns { { fields: string[], keys: string[] } } Returns grouped keys and values\n */\nexport function getGroupKeysAndFields(index, rowsObject) {\n    var fields = [];\n    var keys = [];\n    for (var i = index; i >= 0; i--) {\n        if (rowsObject[i].isCaptionRow && fields.indexOf(rowsObject[i].data.field) === -1\n            && (rowsObject[i].indent < rowsObject[index].indent || i === index)) {\n            fields.push(rowsObject[i].data.field);\n            keys.push(rowsObject[i].data.key);\n            if (rowsObject[i].indent === 0) {\n                break;\n            }\n        }\n    }\n    return { fields: fields, keys: keys };\n}\n","/* tslint:disable-next-line:max-line-length */\nimport { EventHandler, isNullOrUndefined, extend, classList, addClass, removeClass, Browser, getValue, setValue } from '@syncfusion/ej2-base';\nimport { parentsUntil, getUid, appendChildren, getDatePredicate, getObject, extendObjWithFn, eventPromise, setChecked, clearReactVueTemplates } from '../base/util';\nimport { remove, debounce, Internationalization } from '@syncfusion/ej2-base';\nimport { DataUtil, Query, DataManager, Predicate } from '@syncfusion/ej2-data';\nimport { createCheckBox } from '@syncfusion/ej2-buttons';\nimport * as events from '../base/constant';\nimport { ValueFormatter } from '../services/value-formatter';\nimport { getForeignData } from '../base/util';\nimport { Dialog } from '@syncfusion/ej2-popups';\nimport { Input } from '@syncfusion/ej2-inputs';\nimport { createSpinner, hideSpinner, showSpinner } from '@syncfusion/ej2-popups';\nimport { getFilterMenuPostion, toogleCheckbox, createCboxWithWrap, removeAddCboxClasses, getColumnByForeignKeyValue } from '../base/util';\n/**\n * @hidden\n * `CheckBoxFilterBase` module is used to handle filtering action.\n */\nvar CheckBoxFilterBase = /** @class */ (function () {\n    /**\n     * Constructor for checkbox filtering module\n     *\n     * @param {IXLFilter} parent - specifies the IXLFilter\n     * @hidden\n     */\n    function CheckBoxFilterBase(parent) {\n        this.existingPredicate = {};\n        this.foreignKeyQuery = new Query();\n        /** @hidden */\n        this.filterState = true;\n        this.values = {};\n        this.renderEmpty = false;\n        this.parent = parent;\n        this.id = this.parent.element.id;\n        this.valueFormatter = new ValueFormatter(this.parent.locale);\n        this.cBoxTrue = createCheckBox(this.parent.createElement, false, { checked: true, label: ' ' });\n        this.cBoxFalse = createCheckBox(this.parent.createElement, false, { checked: false, label: ' ' });\n        this.cBoxTrue.insertBefore(this.parent.createElement('input', {\n            className: 'e-chk-hidden', attrs: { type: 'checkbox' }\n        }), this.cBoxTrue.firstChild);\n        this.cBoxFalse.insertBefore(this.parent.createElement('input', {\n            className: 'e-chk-hidden', attrs: { 'type': 'checkbox' }\n        }), this.cBoxFalse.firstChild);\n        this.cBoxFalse.querySelector('.e-frame').classList.add('e-uncheck');\n        if (this.parent.enableRtl) {\n            addClass([this.cBoxTrue, this.cBoxFalse], ['e-rtl']);\n        }\n    }\n    /**\n     * @returns {void}\n     * @hidden\n     */\n    CheckBoxFilterBase.prototype.destroy = function () {\n        this.closeDialog();\n    };\n    CheckBoxFilterBase.prototype.wireEvents = function () {\n        EventHandler.add(this.dlg, 'click', this.clickHandler, this);\n        EventHandler.add(this.dlg, 'keyup', this.keyupHandler, this);\n        this.searchHandler = debounce(this.searchBoxKeyUp, 200);\n        var elem = this.dialogObj.element.querySelector('.e-searchinput');\n        if (elem) {\n            EventHandler.add(elem, 'keyup', this.searchHandler, this);\n        }\n    };\n    CheckBoxFilterBase.prototype.unWireEvents = function () {\n        EventHandler.remove(this.dlg, 'click', this.clickHandler);\n        EventHandler.remove(this.dlg, 'keyup', this.keyupHandler);\n        var elem = this.dialogObj.element.querySelector('.e-searchinput');\n        if (elem) {\n            EventHandler.remove(elem, 'keyup', this.searchHandler);\n        }\n    };\n    CheckBoxFilterBase.prototype.foreignKeyFilter = function (args, fColl, mPredicate) {\n        var _this = this;\n        var fPredicate = {};\n        var filterCollection = [];\n        var query = this.foreignKeyQuery.clone();\n        this.options.column.dataSource.\n            executeQuery(query.where(mPredicate)).then(function (e) {\n            _this.options.column.columnData = e.result;\n            _this.parent.notify(events.generateQuery, { predicate: fPredicate, column: _this.options.column });\n            args.ejpredicate = fPredicate.predicate.predicates;\n            var fpred = fPredicate.predicate.predicates;\n            for (var i = 0; i < fpred.length; i++) {\n                filterCollection.push({\n                    field: fpred[i].field,\n                    predicate: 'or',\n                    matchCase: fpred[i].ignoreCase,\n                    ignoreAccent: fpred[i].ignoreAccent,\n                    operator: fpred[i].operator,\n                    value: fpred[i].value,\n                    type: _this.options.type\n                });\n            }\n            args.filterCollection = filterCollection.length ? filterCollection :\n                fColl.filter(function (col) { return col.field = _this.options.field; });\n            _this.options.handler(args);\n        });\n    };\n    CheckBoxFilterBase.prototype.foreignFilter = function (args, value) {\n        var operator = this.options.isRemote ?\n            (this.options.column.type === 'string' ? 'contains' : 'equal') : (this.options.column.type ? 'contains' : 'equal');\n        var initalPredicate = new Predicate(this.options.column.foreignKeyValue, operator, value, true, this.options.ignoreAccent);\n        this.foreignKeyFilter(args, [args.filterCollection], initalPredicate);\n    };\n    CheckBoxFilterBase.prototype.searchBoxClick = function (e) {\n        var target = e.target;\n        if (target.classList.contains('e-searchclear')) {\n            this.sInput.value = '';\n            this.refreshCheckboxes();\n            this.updateSearchIcon();\n            this.sInput.focus();\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    CheckBoxFilterBase.prototype.searchBoxKeyUp = function (e) {\n        this.refreshCheckboxes();\n        this.updateSearchIcon();\n    };\n    CheckBoxFilterBase.prototype.updateSearchIcon = function () {\n        if (this.sInput.value.length) {\n            classList(this.sIcon, ['e-chkcancel-icon'], ['e-search-icon']);\n        }\n        else {\n            classList(this.sIcon, ['e-search-icon'], ['e-chkcancel-icon']);\n        }\n    };\n    /**\n     * Gets the localized label by locale keyword.\n     *\n     * @param {string} key - Defines localization key\n     * @returns {string} - returns localization label\n     */\n    CheckBoxFilterBase.prototype.getLocalizedLabel = function (key) {\n        return this.localeObj.getConstant(key);\n    };\n    CheckBoxFilterBase.prototype.updateDataSource = function () {\n        var dataSource = this.options.dataSource;\n        var str = 'object';\n        if (!(dataSource instanceof DataManager)) {\n            for (var i = 0; i < dataSource.length; i++) {\n                // eslint-disable-next-line valid-typeof\n                if (typeof dataSource !== str) {\n                    var obj = {};\n                    obj[this.options.field] = dataSource[i];\n                    dataSource[i] = obj;\n                }\n            }\n        }\n    };\n    CheckBoxFilterBase.prototype.updateModel = function (options) {\n        this.options = options;\n        this.existingPredicate = options.actualPredicate || {};\n        this.options.dataSource = options.dataSource;\n        this.options.dataManager = options.dataManager ? options.dataManager : options.dataSource;\n        this.updateDataSource();\n        this.options.type = options.type;\n        this.options.format = options.format || '';\n        this.options.ignoreAccent = options.ignoreAccent || false;\n        this.options.filteredColumns = options.filteredColumns || this.parent.filterSettings.columns;\n        this.options.query = options.query || new Query();\n        this.options.allowCaseSensitive = options.allowCaseSensitive || false;\n        this.options.uid = options.column.uid;\n        this.values = {};\n        this.localeObj = options.localeObj;\n        this.isFiltered = options.filteredColumns.length;\n    };\n    CheckBoxFilterBase.prototype.getAndSetChkElem = function (options) {\n        this.dlg = this.parent.createElement('div', {\n            id: this.id + this.options.type + '_excelDlg',\n            attrs: { uid: this.options.column.uid },\n            className: 'e-checkboxfilter e-filter-popup'\n        });\n        this.sBox = this.parent.createElement('div', { className: 'e-searchcontainer' });\n        if (!options.hideSearchbox) {\n            this.sInput = this.parent.createElement('input', {\n                id: this.id + '_SearchBox',\n                className: 'e-searchinput'\n            });\n            this.sIcon = this.parent.createElement('span', {\n                className: 'e-searchclear e-search-icon e-icons e-input-group-icon', attrs: {\n                    type: 'text', title: this.getLocalizedLabel('Search')\n                }\n            });\n            this.searchBox = this.parent.createElement('span', { className: 'e-searchbox e-fields' });\n            this.searchBox.appendChild(this.sInput);\n            this.sBox.appendChild(this.searchBox);\n            var inputargs = {\n                element: this.sInput, floatLabelType: 'Never', properties: {\n                    placeholder: this.getLocalizedLabel('Search')\n                }\n            };\n            Input.createInput(inputargs, this.parent.createElement);\n            this.searchBox.querySelector('.e-input-group').appendChild(this.sIcon);\n        }\n        this.spinner = this.parent.createElement('div', { className: 'e-spinner' }); //for spinner\n        this.cBox = this.parent.createElement('div', {\n            id: this.id + this.options.type + '_CheckBoxList',\n            className: 'e-checkboxlist e-fields'\n        });\n        this.spinner.appendChild(this.cBox);\n        this.sBox.appendChild(this.spinner);\n        return this.sBox;\n    };\n    CheckBoxFilterBase.prototype.showDialog = function (options) {\n        var args = {\n            requestType: events.filterBeforeOpen,\n            columnName: this.options.field, columnType: this.options.type, cancel: false\n        };\n        var filterModel = 'filterModel';\n        args[filterModel] = this;\n        this.parent.notify(events.cBoxFltrBegin, args);\n        if (args.cancel) {\n            options.cancel = args.cancel;\n            return;\n        }\n        this.dialogObj = new Dialog({\n            visible: false, content: this.sBox,\n            close: this.closeDialog.bind(this),\n            enableRtl: this.parent.enableRtl,\n            width: (!isNullOrUndefined(parentsUntil(options.target, 'e-bigger')))\n                || this.parent.element.classList.contains('e-device') ? 260 : 255,\n            target: this.parent.element, animationSettings: { effect: 'None' },\n            buttons: [{\n                    click: this.btnClick.bind(this),\n                    buttonModel: {\n                        content: this.getLocalizedLabel(this.isExcel ? 'OKButton' : 'FilterButton'),\n                        cssClass: 'e-primary', isPrimary: true\n                    }\n                },\n                {\n                    click: this.btnClick.bind(this),\n                    buttonModel: { cssClass: 'e-flat', content: this.getLocalizedLabel(this.isExcel ? 'CancelButton' : 'ClearButton') }\n                }],\n            created: this.dialogCreated.bind(this),\n            open: this.dialogOpen.bind(this)\n        });\n        var isStringTemplate = 'isStringTemplate';\n        this.dialogObj[isStringTemplate] = true;\n        this.renderResponsiveFilter(options);\n        this.dlg.setAttribute('aria-label', this.getLocalizedLabel('ExcelFilterDialogARIA'));\n        if (options.isResponsiveFilter) {\n            var responsiveCnt = document.querySelector('.e-responsive-dialog > .e-dlg-content > .e-mainfilterdiv');\n            responsiveCnt.appendChild(this.dlg);\n        }\n        else {\n            this.parent.element.appendChild(this.dlg);\n        }\n        this.dialogObj.appendTo(this.dlg);\n        this.dialogObj.element.style.maxHeight = options.isResponsiveFilter ? 'none' : this.options.height + 'px';\n        this.dialogObj.show();\n        var content = this.dialogObj.element.querySelector('.e-dlg-content');\n        content.appendChild(this.sBox);\n        this.wireEvents();\n        createSpinner({ target: this.spinner }, this.parent.createElement);\n        showSpinner(this.spinner);\n        this.getAllData();\n    };\n    CheckBoxFilterBase.prototype.renderResponsiveFilter = function (options) {\n        if (options.isResponsiveFilter) {\n            this.dialogObj.buttons = [{}];\n            this.dialogObj.position = { X: '', Y: '' };\n            this.dialogObj.target = document.querySelector('.e-resfilter > .e-dlg-content > .e-mainfilterdiv');\n            this.dialogObj.width = '100%';\n        }\n    };\n    CheckBoxFilterBase.prototype.dialogCreated = function (e) {\n        if (this.options.isResponsiveFilter) {\n            this.dialogObj.element.style.left = '0px';\n        }\n        else {\n            if (!Browser.isDevice) {\n                getFilterMenuPostion(this.options.target, this.dialogObj);\n            }\n            else {\n                this.dialogObj.position = { X: 'center', Y: 'center' };\n            }\n        }\n        if (this.options.column.showColumnMenu) {\n            this.parent.notify(events.filterDialogCreated, e);\n        }\n    };\n    CheckBoxFilterBase.prototype.openDialog = function (options) {\n        this.updateModel(options);\n        this.getAndSetChkElem(options);\n        this.showDialog(options);\n    };\n    CheckBoxFilterBase.prototype.closeDialog = function () {\n        if (this.dialogObj && !this.dialogObj.isDestroyed) {\n            this.isBlanks = false;\n            var filterTemplateCol = this.options.columns.filter(function (col) { return col.getFilterItemTemplate(); });\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            var registeredTemplate = this.parent.registeredTemplate;\n            if (filterTemplateCol.length && !isNullOrUndefined(registeredTemplate) && registeredTemplate.filterItemTemplate) {\n                this.parent.destroyTemplate(['filterItemTemplate']);\n            }\n            if ((this.parent.isReact || this.parent.isVue) && this.parent.destroyTemplate !== undefined) {\n                clearReactVueTemplates(this.parent, ['filterItemTemplate']);\n            }\n            this.parent.notify(events.filterMenuClose, { field: this.options.field });\n            this.dialogObj.destroy();\n            this.unWireEvents();\n            remove(this.dlg);\n            this.dlg = null;\n            this.parent.notify(events.filterDialogClose, {});\n        }\n    };\n    /**\n     * @param {Column} col - Defines column details\n     * @returns {void}\n     * @hidden\n     */\n    CheckBoxFilterBase.prototype.clearFilter = function (col) {\n        // eslint-disable-next-line max-len\n        var args = { instance: this, handler: this.clearFilter, cancel: false };\n        this.parent.notify(events.fltrPrevent, args);\n        if (args.cancel) {\n            return;\n        }\n        this.options.handler({ action: 'clear-filter', field: col ? col.field : this.options.field });\n    };\n    CheckBoxFilterBase.prototype.btnClick = function (e) {\n        if (this.filterState) {\n            if ((e.target.tagName.toLowerCase() === 'input' && e.target.classList.contains('e-searchinput')) ||\n                e.keyCode === 13) {\n                this.fltrBtnHandler();\n            }\n            else {\n                var text = e.target.firstChild.textContent.toLowerCase();\n                if (this.getLocalizedLabel(this.isExcel ? 'OKButton' : 'FilterButton').toLowerCase() === text) {\n                    this.fltrBtnHandler();\n                }\n                else if (this.getLocalizedLabel('ClearButton').toLowerCase() === text) {\n                    this.clearFilter();\n                }\n            }\n            this.closeDialog();\n        }\n        else if (!(e.target.tagName.toLowerCase() === 'input')) {\n            this.clearFilter();\n            this.closeDialog();\n        }\n        if (this.options.column.showColumnMenu) {\n            this.parent.notify(events.afterFilterColumnMenuClose, {});\n        }\n    };\n    /**\n     * @returns {void}\n     * @hidden\n     */\n    CheckBoxFilterBase.prototype.fltrBtnHandler = function () {\n        var _this = this;\n        var checked = [].slice.call(this.cBox.querySelectorAll('.e-check:not(.e-selectall)'));\n        var check = checked;\n        var optr = 'equal';\n        var ddlValue = this.dialogObj.element.querySelector('.e-dropdownlist');\n        if (ddlValue) {\n            this.options.operator = optr = ddlValue.ej2_instances[0].value;\n        }\n        this.isMenuNotEqual = this.options.operator === 'notequal';\n        var searchInput;\n        if (!this.options.hideSearchbox) {\n            searchInput = this.searchBox.querySelector('.e-searchinput');\n        }\n        var caseSen = this.options.allowCaseSensitive;\n        var defaults = {\n            field: this.options.field, predicate: this.isMenuNotEqual ? 'and' : 'or', uid: this.options.uid,\n            operator: optr, type: this.options.type, matchCase: caseSen, ignoreAccent: this.options.ignoreAccent\n        };\n        var isNotEqual = this.itemsCnt !== checked.length && this.itemsCnt - checked.length < checked.length;\n        if (isNotEqual && searchInput && searchInput.value === '') {\n            optr = this.isMenuNotEqual ? 'equal' : 'notequal';\n            checked = [].slice.call(this.cBox.querySelectorAll('.e-uncheck:not(.e-selectall)'));\n            defaults.predicate = this.isMenuNotEqual ? 'or' : 'and';\n            defaults.operator = optr;\n        }\n        var value;\n        var val;\n        var length;\n        var fObj;\n        var coll = [];\n        if (checked.length !== this.itemsCnt || (searchInput && searchInput.value && searchInput.value !== '')) {\n            for (var i = 0; i < checked.length; i++) {\n                value = this.values[parentsUntil(checked[i], 'e-ftrchk').getAttribute('uid')];\n                fObj = extend({}, { value: value }, defaults);\n                if (value && !value.toString().length) {\n                    fObj.operator = isNotEqual ? 'notequal' : 'equal';\n                }\n                if (value === '' || isNullOrUndefined(value)) {\n                    coll = coll.concat(CheckBoxFilterBase.generateNullValuePredicates(defaults));\n                }\n                else {\n                    coll.push(fObj);\n                }\n                var args = {\n                    instance: this, handler: this.fltrBtnHandler, arg1: fObj.field, arg2: fObj.predicate, arg3: fObj.operator,\n                    arg4: fObj.matchCase, arg5: fObj.ignoreAccent, arg6: fObj.value, cancel: false\n                };\n                this.parent.notify(events.fltrPrevent, args);\n                if (args.cancel) {\n                    return;\n                }\n            }\n            if (this.options.type === 'date' || this.options.type === 'datetime') {\n                length = check.length - 1;\n                val = this.values[parentsUntil(check[length], 'e-ftrchk').getAttribute('uid')];\n                if (isNullOrUndefined(val) && isNotEqual) {\n                    coll.push({\n                        field: defaults.field, matchCase: defaults.matchCase, operator: 'equal',\n                        predicate: 'and', value: null\n                    });\n                }\n            }\n            this.initiateFilter(coll);\n        }\n        else {\n            var isClearFilter = this.options.filteredColumns.some(function (value) {\n                return _this.options.field === value.field;\n            });\n            if (isClearFilter) {\n                this.clearFilter();\n            }\n        }\n    };\n    // eslint-disable-next-line\n    /** @hidden */\n    CheckBoxFilterBase.generateNullValuePredicates = function (defaults) {\n        var coll = [];\n        if (defaults.type === 'string') {\n            coll.push({\n                field: defaults.field, ignoreAccent: defaults.ignoreAccent, matchCase: defaults.matchCase,\n                operator: defaults.operator, predicate: defaults.predicate, value: ''\n            });\n        }\n        coll.push({\n            field: defaults.field,\n            matchCase: defaults.matchCase, operator: defaults.operator, predicate: defaults.predicate, value: null\n        });\n        coll.push({\n            field: defaults.field, matchCase: defaults.matchCase, operator: defaults.operator,\n            predicate: defaults.predicate, value: undefined\n        });\n        return coll;\n    };\n    CheckBoxFilterBase.prototype.initiateFilter = function (fColl) {\n        var firstVal = fColl[0];\n        var predicate;\n        if (!isNullOrUndefined(firstVal)) {\n            predicate = firstVal.ejpredicate ? firstVal.ejpredicate :\n                new Predicate(firstVal.field, firstVal.operator, firstVal.value, !firstVal.matchCase, firstVal.ignoreAccent);\n            for (var j = 1; j < fColl.length; j++) {\n                predicate = fColl[j].ejpredicate !== undefined ?\n                    predicate[fColl[j].predicate](fColl[j].ejpredicate) :\n                    predicate[fColl[j].predicate](fColl[j].field, fColl[j].operator, fColl[j].value, !fColl[j].matchCase, fColl[j].ignoreAccent);\n            }\n            var args = {\n                action: 'filtering', filterCollection: fColl, field: this.options.field,\n                ejpredicate: Predicate.or(predicate)\n            };\n            this.options.handler(args);\n        }\n    };\n    CheckBoxFilterBase.prototype.isForeignColumn = function (col) {\n        return col.isForeignColumn ? col.isForeignColumn() : false;\n    };\n    CheckBoxFilterBase.prototype.refreshCheckboxes = function () {\n        var _this = this;\n        var val = this.sInput.value;\n        var column = this.options.column;\n        var query = this.isForeignColumn(column) ? this.foreignKeyQuery.clone() : this.options.query.clone();\n        var foreignQuery = this.options.query.clone();\n        var pred = query.queries.filter(function (e) { return e && e.fn === 'onWhere'; })[0];\n        query.queries = [];\n        foreignQuery.queries = [];\n        var parsed = (this.options.type !== 'string' && parseFloat(val)) ? parseFloat(val) : val;\n        var operator = this.options.isRemote ?\n            (this.options.type === 'string' ? 'contains' : 'equal') : (this.options.type ? 'contains' : 'equal');\n        var matchCase = true;\n        var ignoreAccent = this.options.ignoreAccent;\n        var field = this.isForeignColumn(column) ? column.foreignKeyValue : column.field;\n        parsed = (parsed === '' || parsed === undefined) ? undefined : parsed;\n        var coll = [];\n        var defaults = {\n            field: field, predicate: 'or', uid: this.options.uid,\n            operator: 'equal', type: this.options.type, matchCase: matchCase, ignoreAccent: ignoreAccent\n        };\n        var predicte;\n        var moduleName = this.options.dataManager.adaptor.getModuleName;\n        if (this.options.type === 'boolean') {\n            if (parsed !== undefined &&\n                this.getLocalizedLabel('FilterTrue').toLowerCase().indexOf(parsed.toLowerCase()) !== -1) {\n                parsed = 'true';\n            }\n            else if (parsed !== undefined &&\n                this.getLocalizedLabel('FilterFalse').toLowerCase().indexOf(parsed.toLowerCase()) !== -1) {\n                parsed = 'false';\n            }\n            if (parsed !== undefined &&\n                this.getLocalizedLabel('FilterTrue').toLowerCase().indexOf(parsed.toLowerCase()) !== -1 && moduleName) {\n                // eslint-disable-next-line no-constant-condition\n                parsed = (moduleName() === 'ODataAdaptor' || 'ODataV4Adaptor') ? true : 'true';\n            }\n            else if (parsed !== undefined &&\n                this.getLocalizedLabel('FilterFalse').toLowerCase().indexOf(parsed.toLowerCase()) !== -1 && moduleName) {\n                // eslint-disable-next-line no-constant-condition\n                parsed = (moduleName() === 'ODataAdaptor' || 'ODataV4Adaptor') ? false : 'false';\n            }\n            operator = 'equal';\n        }\n        if ((this.options.type === 'date' || this.options.type === 'datetime') && this.options.format) {\n            var intl = new Internationalization();\n            var format = typeof (this.options.format) === 'string' ? this.options.format :\n                this.options.format.format;\n            if (format) {\n                parsed = intl.parseDate(val, { format: format }) || new Date(val);\n            }\n            else {\n                parsed = new Date(val);\n            }\n        }\n        this.addDistinct(query);\n        var args = {\n            requestType: events.filterSearchBegin,\n            filterModel: this, columnName: field, column: column,\n            operator: operator, matchCase: matchCase, ignoreAccent: ignoreAccent, filterChoiceCount: null,\n            query: query, value: parsed\n        };\n        this.parent.trigger(events.actionBegin, args, function (filterargs) {\n            // eslint-disable-next-line no-self-assign\n            filterargs.operator = filterargs.operator;\n            predicte = new Predicate(field, filterargs.operator, parsed, filterargs.matchCase, filterargs.ignoreAccent);\n            if (_this.options.type === 'date' || _this.options.type === 'datetime') {\n                operator = 'equal';\n                var filterObj = {\n                    field: field, operator: operator, value: parsed, matchCase: matchCase,\n                    ignoreAccent: ignoreAccent\n                };\n                if (!isNullOrUndefined(parsed)) {\n                    predicte = getDatePredicate(filterObj, _this.options.type);\n                }\n            }\n            if (val && typeof val === 'string' && _this.isBlanks &&\n                _this.getLocalizedLabel('Blanks').toLowerCase().indexOf(val.toLowerCase()) >= 0) {\n                coll = coll.concat(CheckBoxFilterBase.generateNullValuePredicates(defaults));\n                var emptyValPredicte = CheckBoxFilterBase.generatePredicate(coll);\n                emptyValPredicte.predicates.push(predicte);\n                query.where(emptyValPredicte);\n            }\n            else if (val.length) {\n                predicte = !isNullOrUndefined(pred) ? predicte.and(pred.e) : predicte;\n                query.where(predicte);\n            }\n            else if (!isNullOrUndefined(pred)) {\n                query.where(pred.e);\n            }\n            filterargs.filterChoiceCount = !isNullOrUndefined(filterargs.filterChoiceCount) ? filterargs.filterChoiceCount : 1000;\n            var fPredicate = {};\n            showSpinner(_this.spinner);\n            _this.renderEmpty = false;\n            if (_this.isForeignColumn(column) && val.length) {\n                var colData = ('result' in column.dataSource) ? new DataManager(column.dataSource.result) :\n                    column.dataSource;\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                colData.executeQuery(query).then(function (e) {\n                    var columnData = _this.options.column.columnData;\n                    _this.options.column.columnData = e.result;\n                    _this.parent.notify(events.generateQuery, { predicate: fPredicate, column: column });\n                    if (fPredicate.predicate.predicates.length) {\n                        foreignQuery.where(fPredicate.predicate);\n                    }\n                    else {\n                        _this.renderEmpty = true;\n                    }\n                    _this.options.column.columnData = columnData;\n                    foreignQuery.take(filterargs.filterChoiceCount);\n                    _this.search(filterargs, foreignQuery);\n                });\n            }\n            else {\n                query.take(filterargs.filterChoiceCount);\n                _this.search(filterargs, query);\n            }\n        });\n    };\n    CheckBoxFilterBase.prototype.search = function (args, query) {\n        if (this.parent.dataSource && 'result' in this.parent.dataSource) {\n            this.filterEvent(args, query);\n        }\n        else {\n            this.processSearch(query);\n        }\n    };\n    CheckBoxFilterBase.prototype.getPredicateFromCols = function (columns) {\n        var predicates = CheckBoxFilterBase.getPredicate(columns);\n        var predicateList = [];\n        var fPredicate = {};\n        var isGrid = this.parent.getForeignKeyColumns !== undefined;\n        var foreignColumn = isGrid ? this.parent.getForeignKeyColumns() : [];\n        for (var _i = 0, _a = Object.keys(predicates); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            var col = void 0;\n            if (isGrid && this.parent.getColumnByField(prop).isForeignColumn()) {\n                col = getColumnByForeignKeyValue(prop, foreignColumn);\n            }\n            if (col) {\n                this.parent.notify(events.generateQuery, { predicate: fPredicate, column: col });\n                if (fPredicate.predicate.predicates.length) {\n                    predicateList.push(Predicate.or(fPredicate.predicate.predicates));\n                }\n            }\n            else {\n                predicateList.push(predicates[prop]);\n            }\n        }\n        return predicateList.length && Predicate.and(predicateList);\n    };\n    CheckBoxFilterBase.prototype.getQuery = function () {\n        return this.parent.getQuery ? this.parent.getQuery().clone() : new Query();\n    };\n    CheckBoxFilterBase.prototype.getAllData = function () {\n        var _this = this;\n        var query = this.getQuery();\n        query.requiresCount(); //consider take query\n        this.addDistinct(query);\n        var args = {\n            requestType: events.filterChoiceRequest, query: query, filterChoiceCount: null\n        };\n        var filterModel = 'filterModel';\n        args[filterModel] = this;\n        this.parent.trigger(events.actionBegin, args, function (args) {\n            args.filterChoiceCount = !isNullOrUndefined(args.filterChoiceCount) ? args.filterChoiceCount : 1000;\n            query.take(args.filterChoiceCount);\n            if (_this.parent.dataSource && 'result' in _this.parent.dataSource) {\n                _this.filterEvent(args, query);\n            }\n            else {\n                _this.processDataOperation(query, true);\n            }\n        });\n    };\n    CheckBoxFilterBase.prototype.addDistinct = function (query) {\n        var filteredColumn = DataUtil.distinct(this.options.filteredColumns, 'field');\n        if (filteredColumn.indexOf(this.options.column.field) <= -1) {\n            filteredColumn = filteredColumn.concat(this.options.column.field);\n        }\n        query.distinct(filteredColumn);\n        return query;\n    };\n    CheckBoxFilterBase.prototype.filterEvent = function (args, query) {\n        var _this = this;\n        var defObj = eventPromise(args, query);\n        this.parent.trigger(events.dataStateChange, defObj.state);\n        var def = defObj.deffered;\n        def.promise.then(function (e) {\n            _this.dataSuccess(e);\n        });\n    };\n    CheckBoxFilterBase.prototype.processDataOperation = function (query, isInitial) {\n        var _this = this;\n        this.options.dataSource = this.options.dataSource instanceof DataManager ?\n            this.options.dataSource : new DataManager(this.options.dataSource);\n        var allPromise = [];\n        var runArray = [];\n        if (this.isForeignColumn(this.options.column) && isInitial) {\n            var colData = ('result' in this.options.column.dataSource) ?\n                new DataManager(this.options.column.dataSource.result) :\n                this.options.column.dataSource;\n            this.foreignKeyQuery.params = query.params;\n            allPromise.push(colData.executeQuery(this.foreignKeyQuery));\n            runArray.push(function (data) { return _this.foreignKeyData = data; });\n        }\n        allPromise.push(this.options.dataSource.executeQuery(query));\n        runArray.push(this.dataSuccess.bind(this));\n        var i = 0;\n        Promise.all(allPromise).then(function (e) {\n            for (var j = 0; j < e.length; j++) {\n                runArray[i++](e[j].result);\n            }\n        });\n    };\n    CheckBoxFilterBase.prototype.dataSuccess = function (e) {\n        this.fullData = e;\n        var args1 = { dataSource: this.fullData, executeQuery: true, field: this.options.field };\n        this.parent.notify(events.beforeCheckboxRenderer, args1);\n        if (args1.executeQuery) {\n            var query = new Query();\n            if (this.parent.searchSettings && this.parent.searchSettings.key.length) {\n                var sSettings = this.parent.searchSettings;\n                var fields = sSettings.fields.length ? sSettings.fields : this.options.columns.map(function (f) { return f.field; });\n                query.search(sSettings.key, fields, sSettings.operator, sSettings.ignoreCase, sSettings.ignoreAccent);\n            }\n            if ((this.options.filteredColumns.length)) {\n                var cols = [];\n                for (var i = 0; i < this.options.filteredColumns.length; i++) {\n                    var filterColumn = this.options.filteredColumns[i];\n                    if (this.options.uid) {\n                        filterColumn.uid = filterColumn.uid || this.parent.getColumnByField(filterColumn.field).uid;\n                        if (filterColumn.uid !== this.options.uid) {\n                            cols.push(this.options.filteredColumns[i]);\n                        }\n                    }\n                    else {\n                        if (filterColumn.field !== this.options.field) {\n                            cols.push(this.options.filteredColumns[i]);\n                        }\n                    }\n                }\n                var predicate = this.getPredicateFromCols(cols);\n                if (predicate) {\n                    query.where(predicate);\n                }\n            }\n            // query.select(this.options.field);\n            var result = new DataManager(args1.dataSource).executeLocal(query);\n            var col = this.options.column;\n            this.filteredData = CheckBoxFilterBase.getDistinct(result, this.options.field, col, this.foreignKeyData).records || [];\n        }\n        var data = args1.executeQuery ? this.filteredData : args1.dataSource;\n        this.processDataSource(null, true, data, args1);\n        if (this.sInput) {\n            this.sInput.focus();\n        }\n        var args = {\n            requestType: events.filterAfterOpen,\n            columnName: this.options.field, columnType: this.options.type\n        };\n        var filterModel = 'filterModel';\n        args[filterModel] = this;\n        this.parent.notify(events.cBoxFltrComplete, args);\n    };\n    CheckBoxFilterBase.prototype.processDataSource = function (query, isInitial, dataSource, args) {\n        showSpinner(this.spinner);\n        // query = query ? query : this.options.query.clone();\n        // query.requiresCount();\n        // let result: Object = new DataManager(dataSource as JSON[]).executeLocal(query);\n        // let res: { result: Object[] } = result as { result: Object[] };\n        this.updateResult();\n        this.createFilterItems(dataSource, isInitial, args);\n    };\n    CheckBoxFilterBase.prototype.processSearch = function (query) {\n        this.processDataOperation(query);\n    };\n    CheckBoxFilterBase.prototype.updateResult = function () {\n        this.result = {};\n        var predicate = this.getPredicateFromCols(this.options.filteredColumns);\n        var query = new Query();\n        if (predicate) {\n            query.where(predicate);\n        }\n        this.parent.notify(events.beforeCheckboxRendererQuery, { query: query });\n        var result = new DataManager(this.fullData).executeLocal(query);\n        for (var _i = 0, result_1 = result; _i < result_1.length; _i++) {\n            var res = result_1[_i];\n            this.result[getObject(this.options.field, res)] = true;\n        }\n    };\n    CheckBoxFilterBase.prototype.clickHandler = function (e) {\n        var target = e.target;\n        var elem = parentsUntil(target, 'e-checkbox-wrapper');\n        if (parentsUntil(target, 'e-searchbox')) {\n            this.searchBoxClick(e);\n        }\n        if (elem) {\n            var selectAll = elem.querySelector('.e-selectall');\n            if (selectAll) {\n                this.updateAllCBoxes(!selectAll.classList.contains('e-check'));\n            }\n            else {\n                toogleCheckbox(elem.parentElement);\n            }\n            this.updateIndeterminatenBtn();\n            elem.querySelector('.e-chk-hidden').focus();\n        }\n        this.setFocus(parentsUntil(elem, 'e-ftrchk'));\n    };\n    CheckBoxFilterBase.prototype.keyupHandler = function (e) {\n        this.setFocus(parentsUntil(e.target, 'e-ftrchk'));\n    };\n    CheckBoxFilterBase.prototype.setFocus = function (elem) {\n        var prevElem = this.dlg.querySelector('.e-chkfocus');\n        if (prevElem) {\n            prevElem.classList.remove('e-chkfocus');\n        }\n        if (elem) {\n            elem.classList.add('e-chkfocus');\n        }\n    };\n    CheckBoxFilterBase.prototype.updateAllCBoxes = function (checked) {\n        var cBoxes = [].slice.call(this.cBox.getElementsByClassName('e-frame'));\n        for (var _i = 0, cBoxes_1 = cBoxes; _i < cBoxes_1.length; _i++) {\n            var cBox = cBoxes_1[_i];\n            removeAddCboxClasses(cBox, checked);\n            setChecked(cBox.previousSibling, checked);\n        }\n    };\n    CheckBoxFilterBase.prototype.dialogOpen = function () {\n        if (this.parent.element.classList.contains('e-device')) {\n            this.dialogObj.element.querySelector('.e-input-group').classList.remove('e-input-focus');\n            if (!this.options.isResponsiveFilter) {\n                this.dialogObj.element.querySelector('.e-btn').focus();\n            }\n        }\n    };\n    CheckBoxFilterBase.prototype.createCheckbox = function (value, checked, data) {\n        var elem = checked ? this.cBoxTrue.cloneNode(true) :\n            this.cBoxFalse.cloneNode(true);\n        setChecked(elem.querySelector('input'), checked);\n        var label = elem.querySelector('.e-label');\n        var dummyData = extendObjWithFn({}, data, { column: this.options.column, parent: this.parent });\n        label.innerHTML = !isNullOrUndefined(value) && value.toString().length ? value :\n            this.getLocalizedLabel('Blanks');\n        if (label.innerHTML === this.getLocalizedLabel('Blanks')) {\n            this.isBlanks = true;\n        }\n        if (typeof value === 'boolean') {\n            label.innerHTML = value === true ? this.getLocalizedLabel('FilterTrue') : this.getLocalizedLabel('FilterFalse');\n        }\n        addClass([label], ['e-checkboxfiltertext']);\n        if (this.options.template && data[this.options.column.field] !== this.getLocalizedLabel('SelectAll')) {\n            label.innerHTML = '';\n            var isReactCompiler = this.parent.isReact && this.options.column.filter\n                && typeof (this.options.column.filter.itemTemplate) !== 'string';\n            if (isReactCompiler) {\n                this.options.template(dummyData, this.parent, 'filterItemTemplate', null, null, null, label);\n                this.parent.renderTemplates();\n            }\n            else {\n                appendChildren(label, this.options.template(dummyData, this.parent, 'filterItemTemplate'));\n            }\n        }\n        return elem;\n    };\n    CheckBoxFilterBase.prototype.updateIndeterminatenBtn = function () {\n        var cnt = this.cBox.children.length - 1;\n        var className = [];\n        var disabled = false;\n        var elem = this.cBox.querySelector('.e-selectall');\n        var selected = this.cBox.querySelectorAll('.e-check:not(.e-selectall)').length;\n        var btn;\n        if (!this.options.isResponsiveFilter) {\n            btn = this.dialogObj.btnObj[0];\n            btn.disabled = false;\n        }\n        var input = elem.previousSibling;\n        setChecked(input, false);\n        input.indeterminate = false;\n        if (cnt === selected) {\n            className = ['e-check'];\n            setChecked(input, true);\n        }\n        else if (selected) {\n            className = ['e-stop'];\n            input.indeterminate = true;\n        }\n        else {\n            className = ['e-uncheck'];\n            disabled = true;\n            if (btn) {\n                btn.disabled = true;\n            }\n        }\n        if (btn) {\n            this.filterState = !btn.disabled;\n            btn.dataBind();\n        }\n        removeClass([elem], ['e-check', 'e-stop', 'e-uncheck']);\n        addClass([elem], className);\n        this.parent.notify(events.refreshCustomFilterOkBtn, { disabled: disabled });\n    };\n    CheckBoxFilterBase.prototype.createFilterItems = function (data, isInitial, args1) {\n        var _a;\n        var cBoxes = this.parent.createElement('div');\n        var btn;\n        var disabled = false;\n        if (!this.options.isResponsiveFilter) {\n            btn = this.dialogObj.btnObj[0];\n        }\n        var nullCounter = -1;\n        var key = 'ejValue';\n        if (!args1.executeQuery) {\n            key = args1.field;\n        }\n        for (var i = 0; i < data.length; i++) {\n            var val = getValue(key, data[i]);\n            if (val === '' || isNullOrUndefined(val)) {\n                nullCounter = nullCounter + 1;\n            }\n        }\n        this.itemsCnt = nullCounter !== -1 ? data.length - nullCounter : data.length;\n        if (data.length && !this.renderEmpty) {\n            var selectAllValue = this.getLocalizedLabel('SelectAll');\n            var innerDiv = this.cBox.querySelector('.e-checkfltrnmdiv');\n            if (innerDiv) {\n                innerDiv.classList.remove('e-checkfltrnmdiv');\n            }\n            var checkBox = this.createCheckbox(selectAllValue, false, (_a = {}, _a[this.options.field] = selectAllValue, _a));\n            var selectAll = createCboxWithWrap(getUid('cbox'), checkBox, 'e-ftrchk');\n            selectAll.querySelector('.e-frame').classList.add('e-selectall');\n            cBoxes.appendChild(selectAll);\n            var predicate = new Predicate('field', 'equal', this.options.field);\n            if (this.options.foreignKeyValue) {\n                predicate = predicate.or('field', 'equal', this.options.foreignKeyValue);\n            }\n            var isColFiltered = new DataManager(this.options.filteredColumns).executeLocal(new Query().where(predicate)).length;\n            var isRndere = void 0;\n            for (var i = 0; i < data.length; i++) {\n                var uid = getUid('cbox');\n                this.values[uid] = getValue(key, data[i]);\n                var value = getValue(this.options.field, data[i]);\n                if (this.options.formatFn) {\n                    value = this.valueFormatter.toView(value, this.options.formatFn);\n                }\n                var args_1 = { value: value, column: this.options.column, data: data[i] };\n                this.parent.notify(events.filterCboxValue, args_1);\n                value = args_1.value;\n                if ((value === '' || isNullOrUndefined(value))) {\n                    if (isRndere) {\n                        continue;\n                    }\n                    isRndere = true;\n                }\n                var checkbox = this.createCheckbox(value, this.getCheckedState(isColFiltered, this.values[uid]), getValue('dataObj', data[i]));\n                cBoxes.appendChild(createCboxWithWrap(uid, checkbox, 'e-ftrchk'));\n            }\n            this.cBox.innerHTML = '';\n            appendChildren(this.cBox, [].slice.call(cBoxes.children));\n            this.updateIndeterminatenBtn();\n            if (btn) {\n                btn.disabled = false;\n            }\n            disabled = false;\n        }\n        else {\n            cBoxes.appendChild(this.parent.createElement('span', { innerHTML: this.getLocalizedLabel('NoResult') }));\n            this.cBox.innerHTML = '';\n            this.cBox.appendChild(this.parent.createElement('div', { className: 'e-checkfltrnmdiv' }));\n            appendChildren(this.cBox.children[0], [].slice.call(cBoxes.children));\n            if (btn) {\n                btn.disabled = true;\n            }\n            disabled = true;\n        }\n        if (btn) {\n            this.filterState = !btn.disabled;\n            btn.dataBind();\n        }\n        var args = { requestType: events.filterChoiceRequest, dataSource: this.renderEmpty ? [] : data };\n        var filterModel = 'filterModel';\n        args[filterModel] = this;\n        this.parent.notify(events.cBoxFltrComplete, args);\n        this.parent.notify(events.refreshCustomFilterOkBtn, { disabled: disabled });\n        hideSpinner(this.spinner);\n    };\n    CheckBoxFilterBase.prototype.getCheckedState = function (isColFiltered, value) {\n        if (!this.isFiltered || !isColFiltered) {\n            return true;\n        }\n        else {\n            var checkState = this.result[value];\n            return this.options.operator === 'notequal' ? !checkState : checkState;\n        }\n    };\n    CheckBoxFilterBase.getDistinct = function (json, field, column, foreignKeyData) {\n        var len = json.length;\n        var result = [];\n        var value;\n        var ejValue = 'ejValue';\n        var lookup = {};\n        var isForeignKey = column && column.isForeignColumn ? column.isForeignColumn() : false;\n        while (len--) {\n            value = json[len];\n            value = getObject(field, value); //local remote diff, check with mdu\n            if (!(value in lookup)) {\n                var obj = {};\n                obj[ejValue] = value;\n                lookup[value] = true;\n                if (isForeignKey) {\n                    var foreignDataObj = getForeignData(column, {}, value, foreignKeyData)[0];\n                    setValue(events.foreignKeyData, foreignDataObj, json[len]);\n                    value = getValue(column.foreignKeyValue, foreignDataObj);\n                }\n                setValue(field, isNullOrUndefined(value) ? null : value, obj);\n                setValue('dataObj', json[len], obj);\n                result.push(obj);\n            }\n        }\n        return DataUtil.group(DataUtil.sort(result, field, DataUtil.fnAscending), 'ejValue');\n    };\n    CheckBoxFilterBase.getPredicate = function (columns) {\n        var cols = DataUtil.distinct(columns, 'field', true) || [];\n        var collection = [];\n        var pred = {};\n        for (var i = 0; i < cols.length; i++) {\n            collection = new DataManager(columns).executeLocal(new Query().where('field', 'equal', cols[i].field));\n            if (collection.length !== 0) {\n                pred[cols[i].field] = CheckBoxFilterBase.generatePredicate(collection);\n            }\n        }\n        return pred;\n    };\n    CheckBoxFilterBase.generatePredicate = function (cols) {\n        var len = cols ? cols.length : 0;\n        var predicate;\n        var operate = 'or';\n        var first = CheckBoxFilterBase.updateDateFilter(cols[0]);\n        first.ignoreAccent = !isNullOrUndefined(first.ignoreAccent) ? first.ignoreAccent : false;\n        if (first.type === 'date' || first.type === 'datetime') {\n            predicate = getDatePredicate(first, first.type);\n        }\n        else {\n            predicate = first.ejpredicate ? first.ejpredicate :\n                new Predicate(first.field, first.operator, first.value, !CheckBoxFilterBase.getCaseValue(first), first.ignoreAccent);\n        }\n        for (var p = 1; p < len; p++) {\n            cols[p] = CheckBoxFilterBase.updateDateFilter(cols[p]);\n            if (len > 2 && p > 1 && cols[p].predicate === 'or') {\n                if (cols[p].type === 'date' || cols[p].type === 'datetime') {\n                    predicate.predicates.push(getDatePredicate(cols[p], cols[p].type));\n                }\n                else {\n                    predicate.predicates.push(new Predicate(cols[p].field, cols[p].operator, cols[p].value, !CheckBoxFilterBase.getCaseValue(cols[p]), cols[p].ignoreAccent));\n                }\n            }\n            else {\n                if (cols[p].type === 'date' || cols[p].type === 'datetime') {\n                    if (cols[p].predicate === 'and' && cols[p].operator === 'equal') {\n                        predicate = predicate[operate](getDatePredicate(cols[p], cols[p].type), cols[p].type, cols[p].ignoreAccent);\n                    }\n                    else {\n                        predicate = predicate[(cols[p].predicate)](getDatePredicate(cols[p], cols[p].type), cols[p].type, cols[p].ignoreAccent);\n                    }\n                }\n                else {\n                    predicate = cols[p].ejpredicate ?\n                        predicate[cols[p].predicate](cols[p].ejpredicate) :\n                        predicate[(cols[p].predicate)](cols[p].field, cols[p].operator, cols[p].value, !CheckBoxFilterBase.getCaseValue(cols[p]), cols[p].ignoreAccent);\n                }\n            }\n        }\n        return predicate || null;\n    };\n    CheckBoxFilterBase.getCaseValue = function (filter) {\n        if (isNullOrUndefined(filter.matchCase)) {\n            if (filter.type === 'string' || isNullOrUndefined(filter.type) && typeof (filter.value) === 'string') {\n                return false;\n            }\n            else {\n                return true;\n            }\n        }\n        else {\n            return filter.matchCase;\n        }\n    };\n    CheckBoxFilterBase.updateDateFilter = function (filter) {\n        if ((filter.type === 'date' || filter.type === 'datetime' || filter.value instanceof Date)) {\n            filter.type = filter.type || 'date';\n        }\n        return filter;\n    };\n    return CheckBoxFilterBase;\n}());\nexport { CheckBoxFilterBase };\n","import { merge } from '@syncfusion/ej2-base';\n/**\n * Cell\n *\n * @hidden\n */\nvar Cell = /** @class */ (function () {\n    function Cell(options) {\n        this.isSpanned = false;\n        this.isRowSpanned = false;\n        merge(this, options);\n    }\n    Cell.prototype.clone = function () {\n        var cell = new Cell({});\n        merge(cell, this);\n        return cell;\n    };\n    return Cell;\n}());\nexport { Cell };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { merge, isNullOrUndefined, extend, Property } from '@syncfusion/ej2-base';\nimport { Query, DataUtil } from '@syncfusion/ej2-data';\nimport { ValueFormatter } from '../services/value-formatter';\nimport { getUid, templateCompiler, getForeignData, getObject } from '../base/util';\n/**\n * Represents Grid `Column` model class.\n */\nvar Column = /** @class */ (function () {\n    function Column(options, parent) {\n        var _this = this;\n        /**\n         * If `disableHtmlEncode` is set to true, it encodes the HTML of the header and content cells.\n         *\n         * @default true\n         */\n        this.disableHtmlEncode = true;\n        /**\n         * If `allowSorting` set to false, then it disables sorting option of a particular column.\n         * By default all columns are sortable.\n         *\n         * @default true\n         */\n        this.allowSorting = true;\n        /**\n         * If `allowResizing` is set to false, it disables resize option of a particular column.\n         * By default all the columns can be resized.\n         *\n         * @default true\n         */\n        this.allowResizing = true;\n        /**\n         * If `allowFiltering` set to false, then it disables filtering option and filter bar element of a particular column.\n         * By default all columns are filterable.\n         *\n         * @default true\n         */\n        this.allowFiltering = true;\n        /**\n         * If `allowGrouping` set to false, then it disables grouping of a particular column.\n         * By default all columns are groupable.\n         *\n         * @default true\n         */\n        this.allowGrouping = true;\n        /**\n         * If `allowReordering` set to false, then it disables reorder of a particular column.\n         * By default all columns can be reorder.\n         *\n         * @default true\n         */\n        this.allowReordering = true;\n        /**\n         * If `showColumnMenu` set to false, then it disable the column menu of a particular column.\n         * By default column menu will show for all columns\n         *\n         * @default true\n         */\n        this.showColumnMenu = true;\n        /**\n         * If `enableGroupByFormat` set to true, then it groups the particular column by formatted values.\n         *\n         * @default true\n         */\n        this.enableGroupByFormat = false;\n        /**\n         * If `allowEditing` set to false, then it disables editing of a particular column.\n         * By default all columns are editable.\n         *\n         * @default true\n         */\n        this.allowEditing = true;\n        /**\n         *  It is used to customize the default filter options for a specific columns.\n         * * type -  Specifies the filter type as menu or checkbox.\n         * * ui - to render custom component for specific column it has following functions.\n         * * ui.create – It is used for creating custom components.\n         * * ui.read -  It is used for read the value from the component.\n         * * ui.write - It is used to apply component model as dynamically.\n         * {% codeBlock src=\"grid/filter-menu-api/index.ts\" %}{% endcodeBlock %}\n         *\n         * > Check the [`Filter UI`](../../grid/filtering/#custom-component-in-filter-menu) for its customization.\n         *\n         *  @default {}\n         */\n        this.filter = {};\n        /**\n         * If `showInColumnChooser` set to false, then hide the particular column in column chooser.\n         *  By default all columns are displayed in column Chooser.\n         *\n         * @default true\n         */\n        this.showInColumnChooser = true;\n        /**\n         * Defines the `IEditCell` object to customize default edit cell.\n         *\n         * @default {}\n         */\n        this.edit = {};\n        /**\n         * If `allowSearching` set to false, then it disables Searching of a particular column.\n         * By default all columns allow Searching.\n         *\n         * @default true\n         */\n        this.allowSearching = true;\n        /**\n         * If `autoFit` set to true, then the particular column content width will be\n         * adjusted based on its content in the initial rendering itself.\n         * Setting this property as true is equivalent to calling `autoFitColumns` method in the `dataBound` event.\n         *\n         * @default false\n         */\n        this.autoFit = false;\n        this.sortDirection = 'Descending';\n        /**\n         * @returns {Function} returns the edit template\n         * @hidden */\n        this.getEditTemplate = function () { return _this.editTemplateFn; };\n        /**\n         * @returns {Function} returns the filter template\n         * @hidden */\n        this.getFilterTemplate = function () { return _this.filterTemplateFn; };\n        merge(this, options);\n        this.parent = parent;\n        if (this.type === 'none') {\n            this.type = null;\n        }\n        else if (this.type) {\n            this.type = typeof (this.type) === 'string' ? this.type.toLowerCase() : undefined;\n        }\n        if (this.editType) {\n            this.editType = this.editType.toLowerCase();\n        }\n        if (isNullOrUndefined(this.uid)) {\n            this.uid = getUid('grid-column');\n        }\n        var valueFormatter = new ValueFormatter();\n        if (options.format && (options.format.skeleton || (options.format.format &&\n            typeof options.format.format === 'string'))) {\n            this.setFormatter(valueFormatter.getFormatFunction(extend({}, options.format)));\n            this.setParser(valueFormatter.getParserFunction(options.format));\n        }\n        this.toJSON = function () {\n            var col = {};\n            var skip = ['filter', 'dataSource', 'headerText', 'template', 'headerTemplate', 'edit',\n                'editTemplate', 'filterTemplate', 'commandsTemplate', 'parent'];\n            var keys = Object.keys(_this);\n            for (var i = 0; i < keys.length; i++) {\n                if (keys[i] === 'columns') {\n                    col[keys[i]] = [];\n                    for (var j = 0; j < _this[keys[i]].length; j++) {\n                        col[keys[i]].push(_this[keys[i]][j].toJSON());\n                    }\n                }\n                else if (skip.indexOf(keys[i]) < 0) {\n                    col[keys[i]] = _this[keys[i]];\n                }\n            }\n            return col;\n        };\n        if (!this.field) {\n            this.allowFiltering = false;\n            this.allowGrouping = false;\n            this.allowSorting = false;\n            if (this.columns) {\n                this.allowResizing = this.columns.some(function (col) {\n                    return col.allowResizing;\n                });\n            }\n        }\n        if (this.commands && !this.textAlign) {\n            this.textAlign = 'Right';\n        }\n        if (this.template || this.commandsTemplate) {\n            this.templateFn = templateCompiler(this.template || this.commandsTemplate);\n        }\n        if (this.headerTemplate) {\n            this.headerTemplateFn = templateCompiler(this.headerTemplate);\n        }\n        if (!isNullOrUndefined(this.filter) && this.filter.itemTemplate) {\n            this.fltrTemplateFn = templateCompiler(this.filter.itemTemplate);\n        }\n        if (this.editTemplate) {\n            this.editTemplateFn = templateCompiler(this.editTemplate);\n        }\n        if (this.filterTemplate) {\n            this.filterTemplateFn = templateCompiler(this.filterTemplate);\n        }\n        if (this.isForeignColumn() &&\n            (isNullOrUndefined(this.editType) || this.editType === 'dropdownedit' || this.editType === 'defaultedit')) {\n            this.editType = 'dropdownedit';\n            if (this.edit.params && this.edit.params.dataSource) {\n                this.edit.params.ddEditedData = true;\n            }\n            this.edit.params = extend({\n                dataSource: this.dataSource,\n                query: new Query(), fields: { value: this.foreignKeyField || this.field, text: this.foreignKeyValue }\n            }, this.edit.params);\n        }\n        if (this.sortComparer) {\n            var a_1 = this.sortComparer;\n            this.sortComparer = function (x, y, xObj, yObj) {\n                if (typeof a_1 === 'string') {\n                    a_1 = getObject(a_1, window);\n                }\n                if (_this.sortDirection === 'Descending') {\n                    var z = x;\n                    x = y;\n                    y = z;\n                    var obj = xObj;\n                    xObj = yObj;\n                    yObj = obj;\n                }\n                return a_1(x, y, xObj, yObj);\n            };\n        }\n        if (!this.sortComparer && this.isForeignColumn()) {\n            this.sortComparer = function (x, y) {\n                x = getObject(_this.foreignKeyValue, getForeignData(_this, {}, x)[0]);\n                y = getObject(_this.foreignKeyValue, getForeignData(_this, {}, y)[0]);\n                return _this.sortDirection === 'Descending' ? DataUtil.fnDescending(x, y) : DataUtil.fnAscending(x, y);\n            };\n        }\n    }\n    /**\n     * @returns {string} returns the sort direction\n     * @hidden */\n    Column.prototype.getSortDirection = function () {\n        return this.sortDirection;\n    };\n    /**\n     * @param {string} direction - specifies the direction\n     * @returns {void}\n     * @hidden\n     */\n    Column.prototype.setSortDirection = function (direction) {\n        this.sortDirection = direction;\n    };\n    /**\n     * @returns {freezeTable} returns the FreezeTable\n     * @hidden */\n    Column.prototype.getFreezeTableName = function () {\n        return this.freezeTable;\n    };\n    /**\n     * @param {Column} column - specifies the column\n     * @returns {void}\n     * @hidden\n     */\n    Column.prototype.setProperties = function (column) {\n        //Angular two way binding\n        var keys = Object.keys(column);\n        for (var i = 0; i < keys.length; i++) {\n            this[keys[i]] = column[keys[i]];\n            //Refresh the react columnTemplates on state change\n            if (this.parent && this.parent.isReact) {\n                if (keys[i] === 'template') {\n                    this.parent.refreshReactColumnTemplateByUid(this.uid);\n                }\n                else if (keys[i] === 'headerTemplate') {\n                    this.headerTemplateFn = templateCompiler(column[keys[i]]);\n                    this.parent.refreshReactHeaderTemplateByUid(this.uid);\n                }\n            }\n        }\n    };\n    /**\n     * @returns {boolean} returns true for foreign column\n     * @hidden\n     * It defines the column is foreign key column or not.\n     */\n    Column.prototype.isForeignColumn = function () {\n        return !!(this.dataSource && this.foreignKeyValue);\n    };\n    /**\n     * @returns {Function} returns the function\n     * @hidden\n     */\n    Column.prototype.getFormatter = function () {\n        return this.formatFn;\n    };\n    /**\n     * @param {Function} value - specifies the value\n     * @returns {void}\n     * @hidden\n     */\n    Column.prototype.setFormatter = function (value) {\n        this.formatFn = value;\n    };\n    /**\n     * @returns {Function} returns the function\n     * @hidden */\n    Column.prototype.getParser = function () {\n        return this.parserFn;\n    };\n    /**\n     * @param {Function} value - specifies the value\n     * @returns {void}\n     * @hidden\n     */\n    Column.prototype.setParser = function (value) {\n        this.parserFn = value;\n    };\n    /**\n     * @returns {Function} returns the function\n     * @hidden */\n    Column.prototype.getColumnTemplate = function () {\n        return this.templateFn;\n    };\n    /**\n     * @returns {Function} returns the function\n     * @hidden */\n    Column.prototype.getHeaderTemplate = function () {\n        return this.headerTemplateFn;\n    };\n    /**\n     * @returns {Function} returns the function\n     * @hidden */\n    Column.prototype.getFilterItemTemplate = function () {\n        return this.fltrTemplateFn;\n    };\n    /**\n     * @returns {string} returns the string\n     * @hidden */\n    Column.prototype.getDomSetter = function () {\n        return this.disableHtmlEncode ? 'textContent' : 'innerHTML';\n    };\n    return Column;\n}());\nexport { Column };\n/**\n * Define options for custom command buttons.\n */\nvar CommandColumnModel = /** @class */ (function () {\n    function CommandColumnModel() {\n    }\n    __decorate([\n        Property()\n    ], CommandColumnModel.prototype, \"title\", void 0);\n    __decorate([\n        Property()\n    ], CommandColumnModel.prototype, \"type\", void 0);\n    __decorate([\n        Property()\n    ], CommandColumnModel.prototype, \"buttonOption\", void 0);\n    return CommandColumnModel;\n}());\nexport { CommandColumnModel };\n/**\n * Defines Grid column\n */\nvar GridColumn = /** @class */ (function (_super) {\n    __extends(GridColumn, _super);\n    function GridColumn() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], GridColumn.prototype, \"columns\", void 0);\n    return GridColumn;\n}(Column));\nexport { GridColumn };\n/**\n * Defines stacked grid column\n */\nvar StackedColumn = /** @class */ (function (_super) {\n    __extends(StackedColumn, _super);\n    function StackedColumn() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return StackedColumn;\n}(GridColumn));\nexport { StackedColumn };\n","import { merge } from '@syncfusion/ej2-base';\n/**\n * Row\n *\n * @hidden\n */\nvar Row = /** @class */ (function () {\n    function Row(options, parent) {\n        merge(this, options);\n        this.parent = parent;\n    }\n    Row.prototype.clone = function () {\n        var row = new Row({});\n        merge(row, this);\n        row.cells = this.cells.map(function (cell) { return cell.clone(); });\n        return row;\n    };\n    /**\n     * Replaces the row data and grid refresh the particular row element only.\n     *\n     * @param  {Object} data - To update new data for the particular row.\n     * @returns {void}\n     */\n    Row.prototype.setRowValue = function (data) {\n        if (!this.parent) {\n            return;\n        }\n        var key = this.data[this.parent.getPrimaryKeyFieldNames()[0]];\n        this.parent.setRowData(key, data);\n    };\n    /**\n     * Replaces the given field value and refresh the particular cell element only.\n     *\n     * @param {string} field - Specifies the field name which you want to update.\n     * @param {string | number | boolean | Date} value - To update new value for the particular cell.\n     * @returns {void}\n     */\n    Row.prototype.setCellValue = function (field, value) {\n        if (!this.parent) {\n            return;\n        }\n        var isValDiff = !(this.data[field].toString() === value.toString());\n        if (isValDiff) {\n            var pKeyField = this.parent.getPrimaryKeyFieldNames()[0];\n            var key = this.data[pKeyField];\n            this.parent.setCellValue(key, field, value);\n            this.makechanges(pKeyField, this.data);\n        }\n        else {\n            return;\n        }\n    };\n    Row.prototype.makechanges = function (key, data) {\n        if (!this.parent) {\n            return;\n        }\n        var gObj = this.parent;\n        var dataManager = gObj.getDataModule().dataManager;\n        dataManager.update(key, data);\n    };\n    return Row;\n}());\nexport { Row };\n","import { isNullOrUndefined, attributes } from '@syncfusion/ej2-base';\nimport { iterateArrayOrObject } from '../base/util';\nimport { CellType } from '../base/enum';\n/**\n * `CellMergeRender` module.\n *\n * @hidden\n */\nvar CellMergeRender = /** @class */ (function () {\n    function CellMergeRender(serviceLocator, parent) {\n        this.serviceLocator = serviceLocator;\n        this.parent = parent;\n    }\n    CellMergeRender.prototype.render = function (cellArgs, row, i, td) {\n        var cellRendererFact = this.serviceLocator.getService('cellRendererFactory');\n        var cellRenderer = cellRendererFact.getCellRenderer(row.cells[i].cellType || CellType.Data);\n        var colSpan = row.cells[i].cellSpan ? row.cells[i].cellSpan :\n            (cellArgs.colSpan + i) <= row.cells.length ? cellArgs.colSpan : row.cells.length - i;\n        var rowSpan = cellArgs.rowSpan;\n        var visible = 0;\n        var spannedCell;\n        if (row.index > 0) {\n            var cells = this.parent.groupSettings.columns.length > 0 &&\n                !this.parent.getRowsObject()[row.index - 1].isDataRow ? this.parent.getRowsObject()[row.index].cells :\n                this.parent.getRowsObject()[row.index - 1].cells;\n            var targetCell_1 = row.cells[i];\n            var uid_1 = 'uid';\n            spannedCell = cells.filter(function (cell) { return cell.column.uid === targetCell_1.column[uid_1]; })[0];\n        }\n        var colSpanLen = spannedCell && spannedCell.colSpanRange > 1 && spannedCell.rowSpanRange > 1 ?\n            spannedCell.colSpanRange : colSpan;\n        for (var j = i + 1; j < i + colSpanLen && j < row.cells.length; j++) {\n            if (row.cells[j].visible === false) {\n                visible++;\n            }\n            else {\n                row.cells[j].isSpanned = true;\n            }\n        }\n        if (visible > 0) {\n            for (var j = i + colSpan; j < i + colSpan + visible && j < row.cells.length; j++) {\n                row.cells[j].isSpanned = true;\n            }\n            if (i + colSpan + visible >= row.cells.length) {\n                colSpan -= (i + colSpan + visible) - row.cells.length;\n            }\n        }\n        if (row.cells[i].cellSpan) {\n            row.data[cellArgs.column.field] = row.cells[i].spanText;\n            td = cellRenderer.render(row.cells[i], row.data, { 'index': !isNullOrUndefined(row.index) ? row.index.toString() : '' });\n        }\n        if (colSpan > 1) {\n            attributes(td, { 'colSpan': colSpan.toString(), 'aria-colSpan': colSpan.toString() });\n        }\n        if (rowSpan > 1) {\n            attributes(td, { 'rowspan': rowSpan.toString(), 'aria-rowspan': rowSpan.toString() });\n            row.cells[i].isRowSpanned = true;\n            row.cells[i].rowSpanRange = Number(rowSpan);\n            if (colSpan > 1) {\n                row.cells[i].colSpanRange = Number(colSpan);\n            }\n        }\n        if (row.index > 0 && (spannedCell.rowSpanRange > 1)) {\n            row.cells[i].isSpanned = true;\n            row.cells[i].rowSpanRange = Number(spannedCell.rowSpanRange - 1);\n            row.cells[i].colSpanRange = spannedCell.rowSpanRange > 0 ? spannedCell.colSpanRange : 1;\n        }\n        if (this.parent.enableColumnVirtualization && !row.cells[i].cellSpan &&\n            !this.containsKey(cellArgs.column.field, cellArgs.data[cellArgs.column.field])) {\n            this.backupMergeCells(cellArgs.column.field, cellArgs.data[cellArgs.column.field], cellArgs.colSpan);\n        }\n        return td;\n    };\n    CellMergeRender.prototype.backupMergeCells = function (fName, data, span) {\n        this.setMergeCells(this.generteKey(fName, data), span);\n    };\n    CellMergeRender.prototype.generteKey = function (fname, data) {\n        return fname + '__' + data.toString();\n    };\n    CellMergeRender.prototype.splitKey = function (key) {\n        return key.split('__');\n    };\n    CellMergeRender.prototype.containsKey = function (fname, data) {\n        // eslint-disable-next-line no-prototype-builtins\n        return this.getMergeCells().hasOwnProperty(this.generteKey(fname, data));\n    };\n    CellMergeRender.prototype.getMergeCells = function () {\n        return this.parent.mergeCells;\n    };\n    CellMergeRender.prototype.setMergeCells = function (key, span) {\n        this.parent.mergeCells[key] = span;\n    };\n    CellMergeRender.prototype.updateVirtualCells = function (rows) {\n        var mCells = this.getMergeCells();\n        for (var _i = 0, _a = Object.keys(mCells); _i < _a.length; _i++) {\n            var key = _a[_i];\n            var value = mCells[key];\n            var merge = this.splitKey(key);\n            var columnIndex = this.getIndexFromAllColumns(merge[0]);\n            var vColumnIndices = this.parent.getColumnIndexesInView();\n            var span = value - (vColumnIndices[0] - columnIndex);\n            if (columnIndex < vColumnIndices[0] && span > 1) {\n                for (var _b = 0, rows_1 = rows; _b < rows_1.length; _b++) {\n                    var row = rows_1[_b];\n                    if (row.data[merge[0]].toString() === merge[1].toString()) {\n                        row.cells[0].cellSpan = span;\n                        row.cells[0].spanText = merge[1];\n                        break;\n                    }\n                }\n            }\n        }\n        return rows;\n    };\n    CellMergeRender.prototype.getIndexFromAllColumns = function (field) {\n        var index = iterateArrayOrObject(this.parent.getVisibleColumns(), function (item, index) {\n            if (item.field === field) {\n                return index;\n            }\n            return undefined;\n        })[0];\n        return index;\n    };\n    return CellMergeRender;\n}());\nexport { CellMergeRender };\n","import { remove } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, extend } from '@syncfusion/ej2-base';\nimport { doesImplementInterface, setStyleAndAttributes, appendChildren, extendObjWithFn } from '../base/util';\nimport { createCheckBox } from '@syncfusion/ej2-buttons';\nimport { foreignKeyData } from '../base/constant';\nimport { CellType } from '../base/enum';\nimport * as literals from '../base/string-literals';\n/**\n * CellRenderer class which responsible for building cell content.\n *\n * @hidden\n */\nvar CellRenderer = /** @class */ (function () {\n    function CellRenderer(parent, locator) {\n        this.localizer = locator.getService('localization');\n        this.formatter = locator.getService('valueFormatter');\n        this.parent = parent;\n        this.element = this.parent.createElement('TD', { className: literals.rowCell, attrs: { role: 'gridcell', tabindex: '-1' } });\n        this.rowChkBox = this.parent.createElement('input', { className: 'e-checkselect', attrs: { 'type': 'checkbox', 'aria-label': 'checkbox' } });\n    }\n    /**\n     * Function to return the wrapper for the TD content\n     *\n     * @returns {string | Element} returns the string\n     */\n    CellRenderer.prototype.getGui = function () {\n        return '';\n    };\n    /**\n     * Function to format the cell value.\n     *\n     * @param  {Column} column - specifies the column\n     * @param  {Object} value - specifies the value\n     * @param  {Object} data - specifies the data\n     * @returns {string} returns the format\n     */\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    CellRenderer.prototype.format = function (column, value, data) {\n        if (!isNullOrUndefined(column.format)) {\n            if (column.type === 'number' && isNaN(parseInt(value, 10))) {\n                value = null;\n            }\n            value = this.formatter.toView(value, column.getFormatter());\n        }\n        return isNullOrUndefined(value) ? '' : value.toString();\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    CellRenderer.prototype.evaluate = function (node, cell, data, attributes, fData, isEdit) {\n        var _a;\n        var result;\n        if (cell.column.template) {\n            var isReactCompiler = this.parent.isReact && typeof (cell.column.template) !== 'string';\n            var literals_1 = ['index'];\n            var dummyData = extendObjWithFn({}, data, (_a = {}, _a[foreignKeyData] = fData, _a.column = cell.column, _a));\n            var templateID = this.parent.element.id + cell.column.uid;\n            var str = 'isStringTemplate';\n            if (isReactCompiler) {\n                var copied = { 'index': attributes[literals_1[0]] };\n                cell.column.getColumnTemplate()(extend(copied, dummyData), this.parent, 'columnTemplate', templateID, this.parent[str], null, node);\n                this.parent.renderTemplates();\n            }\n            else {\n                result = cell.column.getColumnTemplate()(extend({ 'index': attributes[literals_1[0]] }, dummyData), this.parent, 'template', templateID, this.parent[str]);\n            }\n            if (!isReactCompiler) {\n                appendChildren(node, result);\n            }\n            this.parent.notify('template-result', { template: result });\n            result = null;\n            node.setAttribute('aria-label', node.innerText + ' is template cell' + ' column header ' +\n                cell.column.headerText);\n            return false;\n        }\n        return true;\n    };\n    /**\n     * Function to invoke the custom formatter available in the column object.\n     *\n     * @param  {Column} column - specifies the column\n     * @param  {Object} value - specifies the value\n     * @param  {Object} data - specifies the data\n     * @returns {Object} returns the object\n     */\n    CellRenderer.prototype.invokeFormatter = function (column, value, data) {\n        if (!isNullOrUndefined(column.formatter)) {\n            if (doesImplementInterface(column.formatter, 'getValue')) {\n                var formatter = column.formatter;\n                value = new formatter().getValue(column, data);\n            }\n            else if (typeof column.formatter === 'function') {\n                value = column.formatter(column, data);\n            }\n            else {\n                value = column.formatter.getValue(column, data);\n            }\n        }\n        return value;\n    };\n    /**\n     * Function to render the cell content based on Column object.\n     *\n     * @param {Cell<Column>} cell - specifies the cell\n     * @param {Object} data - specifies the data\n     * @param {Object} attributes - specifies the attributes\n     * @param {boolean} isExpand - specifies the boolean for expand\n     * @param {boolean} isEdit - specifies the boolean for edit\n     * @returns {Element} returns the element\n     */\n    CellRenderer.prototype.render = function (cell, data, attributes, isExpand, isEdit) {\n        return this.refreshCell(cell, data, attributes, isEdit);\n    };\n    /**\n     * Function to refresh the cell content based on Column object.\n     *\n     * @param {Element} td - specifies the element\n     * @param {Cell<Column>} cell - specifies the cell\n     * @param {Object} data - specifies the data\n     * @param {Object} attributes - specifies the attribute\n     * @returns {void}\n     */\n    CellRenderer.prototype.refreshTD = function (td, cell, data, attributes) {\n        var isEdit = this.parent.editSettings.mode === 'Batch' && td.classList.contains('e-editedbatchcell');\n        if (this.parent.isReact) {\n            td.innerHTML = '';\n            var cellIndex = td.cellIndex;\n            var parentRow = td.parentElement;\n            remove(td);\n            var newTD = this.refreshCell(cell, data, attributes, isEdit);\n            this.cloneAttributes(newTD, td);\n            if (parentRow.cells.length !== cellIndex - 1) {\n                parentRow.insertBefore(newTD, parentRow.cells[cellIndex]);\n            }\n            else {\n                parentRow.appendChild(newTD);\n            }\n        }\n        else {\n            var node = this.refreshCell(cell, data, attributes, isEdit);\n            td.innerHTML = '';\n            td.setAttribute('aria-label', node.getAttribute('aria-label'));\n            var elements = [].slice.call(node.childNodes);\n            for (var _i = 0, elements_1 = elements; _i < elements_1.length; _i++) {\n                var elem = elements_1[_i];\n                td.appendChild(elem);\n            }\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    CellRenderer.prototype.cloneAttributes = function (target, source) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var attrs = source.attributes;\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var i = attrs.length;\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var attr;\n        while (i--) {\n            attr = attrs[i];\n            target.setAttribute(attr.name, attr.value);\n        }\n    };\n    CellRenderer.prototype.refreshCell = function (cell, data, attributes, isEdit) {\n        var _a;\n        var node = this.element.cloneNode();\n        var column = cell.column;\n        var fData;\n        if (cell.isForeignKey) {\n            fData = cell.foreignKeyData[0] || (_a = {}, _a[column.foreignKeyValue] = column.format ? null : '', _a);\n        }\n        //Prepare innerHtml\n        var innerHtml = this.getGui();\n        var value = cell.isForeignKey ? this.getValue(column.foreignKeyValue, fData, column) :\n            this.getValue(column.field, data, column);\n        if ((column.type === 'date' || column.type === 'datetime') && !isNullOrUndefined(value)) {\n            value = new Date(value);\n        }\n        value = this.format(column, value, data);\n        innerHtml = value.toString();\n        if (column.type === 'boolean' && !column.displayAsCheckBox) {\n            var localeStr = (value !== 'true' && value !== 'false') ? null : value === 'true' ? 'True' : 'False';\n            innerHtml = localeStr ? this.localizer.getConstant(localeStr) : innerHtml;\n        }\n        var fromFormatter = this.invokeFormatter(column, value, data);\n        innerHtml = !isNullOrUndefined(column.formatter) ? isNullOrUndefined(fromFormatter) ? '' : fromFormatter.toString() : innerHtml;\n        node.setAttribute('aria-label', innerHtml + ' column header ' + cell.column.headerText);\n        if (this.evaluate(node, cell, data, attributes, fData, isEdit) && column.type !== 'checkbox') {\n            this.appendHtml(node, innerHtml, column.getDomSetter ? column.getDomSetter() : 'innerHTML');\n        }\n        else if (column.type === 'checkbox') {\n            node.classList.add(literals.gridChkBox);\n            node.setAttribute('aria-label', 'checkbox');\n            if (this.parent.selectionSettings.persistSelection) {\n                value = value === 'true';\n            }\n            else {\n                value = false;\n            }\n            var checkWrap = createCheckBox(this.parent.createElement, false, { checked: value, label: ' ' });\n            this.rowChkBox.id = 'checkbox-' + cell.rowID;\n            checkWrap.insertBefore(this.rowChkBox.cloneNode(), checkWrap.firstChild);\n            node.appendChild(checkWrap);\n        }\n        if (this.parent.checkAllRows === 'Check' && this.parent.enableVirtualization) {\n            cell.isSelected = true;\n        }\n        this.setAttributes(node, cell, attributes);\n        if (column.type === 'boolean' && column.displayAsCheckBox) {\n            var checked = isNaN(parseInt(value.toString(), 10)) ? value === 'true' : parseInt(value.toString(), 10) > 0;\n            var checkWrap = createCheckBox(this.parent.createElement, false, { checked: checked, label: ' ' });\n            node.innerHTML = '';\n            checkWrap.classList.add('e-checkbox-disabled');\n            node.appendChild(checkWrap);\n            node.setAttribute('aria-label', checked + ' column header ' + cell.column.headerText);\n        }\n        return node;\n    };\n    /**\n     * Function to specifies how the result content to be placed in the cell.\n     *\n     * @param {Element} node - specifies the node\n     * @param {string|Element} innerHtml - specifies the innerHTML\n     * @param {string} property - specifies the element\n     * @returns {Element} returns the element\n     */\n    CellRenderer.prototype.appendHtml = function (node, innerHtml, property) {\n        if (property === void 0) { property = 'innerHTML'; }\n        node[property] = innerHtml;\n        return node;\n    };\n    /**\n     * @param {HTMLElement} node - specifies the node\n     * @param {cell<Column>} cell - specifies the cell\n     * @param {Object} attributes - specifies the attributes\n     * @returns {void}\n     * @hidden\n     */\n    CellRenderer.prototype.setAttributes = function (node, cell, attributes) {\n        var column = cell.column;\n        this.buildAttributeFromCell(node, cell, column.type === 'checkbox');\n        setStyleAndAttributes(node, attributes);\n        setStyleAndAttributes(node, cell.attributes);\n        if (column.customAttributes) {\n            setStyleAndAttributes(node, column.customAttributes);\n        }\n        if (this.parent.rowRenderingMode === 'Vertical') {\n            setStyleAndAttributes(node, { 'data-cell': column.headerText });\n        }\n        if (column.textAlign) {\n            node.style.textAlign = column.textAlign;\n        }\n        if (column.clipMode === 'Clip' || (!column.clipMode && this.parent.clipMode === 'Clip')) {\n            node.classList.add('e-gridclip');\n        }\n        else if (column.clipMode === 'EllipsisWithTooltip' || (!column.clipMode && this.parent.clipMode === 'EllipsisWithTooltip')) {\n            if (column.type !== 'checkbox') {\n                node.classList.add('e-ellipsistooltip');\n            }\n        }\n    };\n    CellRenderer.prototype.buildAttributeFromCell = function (node, cell, isCheckBoxType) {\n        var attr = {};\n        var prop = { 'colindex': literals.ariaColIndex };\n        var classes = [];\n        if (cell.colSpan) {\n            attr.colSpan = cell.colSpan;\n        }\n        if (cell.rowSpan) {\n            attr.rowSpan = cell.rowSpan;\n        }\n        if (cell.isTemplate) {\n            classes.push('e-templatecell');\n        }\n        if (cell.isSelected) {\n            classes.push.apply(classes, ['e-selectionbackground', 'e-active']);\n            if (isCheckBoxType) {\n                node.querySelector('.e-frame').classList.add('e-check');\n            }\n        }\n        if (cell.isColumnSelected) {\n            classes.push.apply(classes, ['e-columnselection']);\n        }\n        if (cell.cellType === CellType.Header) {\n            attr[prop.colindex] = cell.colIndex;\n        }\n        else if (!isNullOrUndefined(cell.index)) {\n            attr[prop.colindex] = cell.index;\n        }\n        if (!cell.visible) {\n            classes.push('e-hide');\n        }\n        attr.class = classes;\n        setStyleAndAttributes(node, attr);\n    };\n    CellRenderer.prototype.getValue = function (field, data, column) {\n        return column.valueAccessor(field, data, column);\n    };\n    return CellRenderer;\n}());\nexport { CellRenderer };\n","import { Dialog } from '@syncfusion/ej2-popups';\nimport { EventHandler, remove } from '@syncfusion/ej2-base';\nimport { parentsUntil, addBiggerDialog, addRemoveEventListener } from '../base/util';\nimport * as events from '../base/constant';\nimport { Button } from '@syncfusion/ej2-buttons';\nimport { ResponsiveDialogAction } from '../base/enum';\n/**\n *\n * The `ResponsiveDialogRenderer` module is used to render the responsive dialogs.\n */\nvar ResponsiveDialogRenderer = /** @class */ (function () {\n    function ResponsiveDialogRenderer(parent, serviceLocator) {\n        this.sortedCols = [];\n        this.sortPredicate = [];\n        /** @hidden */\n        this.isCustomDialog = false;\n        this.parent = parent;\n        this.serviceLocator = serviceLocator;\n        this.addEventListener();\n    }\n    ResponsiveDialogRenderer.prototype.addEventListener = function () {\n        this.evtHandlers = [{ event: events.filterDialogClose, handler: this.closeCustomDialog },\n            { event: events.refreshCustomFilterOkBtn, handler: this.refreshCustomFilterOkBtn },\n            { event: events.renderResponsiveCmenu, handler: this.renderResponsiveContextMenu },\n            { event: events.filterCmenuSelect, handler: this.renderCustomFilterDiv },\n            { event: events.customFilterClose, handler: this.customExFilterClose },\n            { event: events.refreshCustomFilterClearBtn, handler: this.refreshCustomFilterClearBtn }];\n        addRemoveEventListener(this.parent, this.evtHandlers, true, this);\n        this.onActionCompleteFn = this.editComplate.bind(this);\n        this.parent.addEventListener(events.actionComplete, this.onActionCompleteFn);\n    };\n    ResponsiveDialogRenderer.prototype.customExFilterClose = function () {\n        this.isCustomDlgRender = false;\n    };\n    ResponsiveDialogRenderer.prototype.renderCustomFilterDiv = function () {\n        var header = this.customResponsiveDlg.element.querySelector('.e-dlg-header-content');\n        var title = header.querySelector('.e-dlg-custom-header');\n        var closeBtn = header.querySelector('.e-dlg-closeicon-btn');\n        this.isCustomDlgRender = true;\n        this.parent.filterModule.filterModule.closeDialog();\n        this.saveBtn.element.style.display = '';\n        this.refreshCustomFilterOkBtn({ disabled: false });\n        this.backBtn.element.style.display = 'none';\n        closeBtn.style.display = '';\n        title.innerHTML = this.parent.localeObj.getConstant('CustomFilter');\n        var content = this.customResponsiveDlg.element.querySelector('.e-dlg-content');\n        this.customExcelFilterParent = this.parent.createElement('div', { className: 'e-xl-customfilterdiv e-default-filter' });\n        content.appendChild(this.customExcelFilterParent);\n    };\n    ResponsiveDialogRenderer.prototype.renderResponsiveContextMenu = function (args) {\n        if (this.action === ResponsiveDialogAction.isFilter) {\n            var content = this.customResponsiveDlg.element.querySelector('.e-dlg-content');\n            var header = this.customResponsiveDlg.element.querySelector('.e-dlg-header-content');\n            var closeBtn = header.querySelector('.e-dlg-closeicon-btn');\n            var text = header.querySelector('.e-dlg-custom-header');\n            if (args.isOpen) {\n                content.firstChild.style.display = 'none';\n                content.appendChild(args.target);\n                closeBtn.style.display = 'none';\n                this.saveBtn.element.style.display = 'none';\n                this.filterClearBtn.element.style.display = 'none';\n                text.innerHTML = args.header;\n                var backBtn = this.parent.createElement('button');\n                var span = this.parent.createElement('span', { className: 'e-btn-icon e-resfilterback e-icons' });\n                backBtn.appendChild(span);\n                this.backBtn = new Button({\n                    cssClass: 'e-res-back-btn'\n                });\n                this.backBtn.appendTo(backBtn);\n                text.parentElement.insertBefore(backBtn, text);\n            }\n            else if (this.backBtn && !this.isCustomDlgRender) {\n                content.firstChild.style.display = '';\n                remove(this.backBtn.element);\n                closeBtn.style.display = '';\n                this.saveBtn.element.style.display = '';\n                if (this.isFiltered) {\n                    this.filterClearBtn.element.style.display = '';\n                }\n                text.innerHTML = this.getHeaderTitle({ action: ResponsiveDialogAction.isFilter }, args.col);\n            }\n        }\n    };\n    ResponsiveDialogRenderer.prototype.refreshCustomFilterClearBtn = function (args) {\n        if (this.filterClearBtn) {\n            this.isFiltered = args.isFiltered;\n            this.filterClearBtn.element.style.display = args.isFiltered ? '' : 'none';\n        }\n    };\n    ResponsiveDialogRenderer.prototype.refreshCustomFilterOkBtn = function (args) {\n        if (this.saveBtn) {\n            this.saveBtn.disabled = args.disabled;\n        }\n    };\n    ResponsiveDialogRenderer.prototype.renderResponsiveContent = function (col) {\n        var _this = this;\n        var gObj = this.parent;\n        if (col) {\n            this.filterParent = this.parent.createElement('div', { className: 'e-mainfilterdiv e-default-filter', id: col.uid + '-main-filter' });\n            return this.filterParent;\n        }\n        else {\n            var cols = gObj.getColumns();\n            this.customColumnDiv = gObj.createElement('div', { className: 'columndiv', styles: 'width: 100%' });\n            var sortBtnParent = gObj.createElement('div', { className: 'e-ressortbutton-parent' });\n            var filteredCols = [];\n            var isSort = this.action === ResponsiveDialogAction.isSort;\n            var isFilter = this.action === ResponsiveDialogAction.isFilter;\n            if (isFilter) {\n                for (var i = 0; i < gObj.filterSettings.columns.length; i++) {\n                    filteredCols.push(gObj.filterSettings.columns[i].field);\n                }\n            }\n            for (var i = 0; i < cols.length; i++) {\n                if (!cols[i].visible || (!cols[i].allowSorting && isSort) || (!cols[i].allowFiltering && isFilter)) {\n                    continue;\n                }\n                var cDiv = gObj.createElement('div', { className: 'e-responsivecoldiv' });\n                cDiv.setAttribute('data-e-mappingname', cols[i].field);\n                cDiv.setAttribute('data-e-mappinguid', cols[i].uid);\n                var span = gObj.createElement('span', { innerHTML: cols[i].headerText, className: 'e-res-header-text' });\n                cDiv.appendChild(span);\n                this.customColumnDiv.appendChild(cDiv);\n                if (isSort) {\n                    var fields = this.getSortedFieldsAndDirections('field');\n                    var index = fields.indexOf(cols[i].field);\n                    var button = gObj.createElement('button', { id: gObj.element.id + cols[i].field + 'sortbutton' });\n                    var clone = sortBtnParent.cloneNode();\n                    clone.appendChild(button);\n                    cDiv.appendChild(clone);\n                    var btnObj = new Button({\n                        cssClass: 'e-ressortbutton'\n                    });\n                    btnObj.appendTo(button);\n                    button.innerHTML = index > -1 ? this.parent.sortSettings.columns[index].direction : 'None';\n                    button.onclick = function (e) {\n                        _this.sortButtonClickHandler(e.target);\n                    };\n                }\n                if (isFilter && filteredCols.indexOf(cols[i].field) > -1) {\n                    var divIcon = gObj.createElement('div', { className: 'e-icons e-res-icon e-filtersetdiv' });\n                    var iconSpan = gObj.createElement('span', { className: 'e-icons e-res-icon e-filterset' });\n                    iconSpan.setAttribute('colType', cols[i].type);\n                    divIcon.appendChild(iconSpan);\n                    cDiv.appendChild(divIcon);\n                }\n            }\n            EventHandler.add(this.customColumnDiv, 'click', this.customFilterColumnClickHandler, this);\n            return this.customColumnDiv;\n        }\n    };\n    ResponsiveDialogRenderer.prototype.getSortedFieldsAndDirections = function (name) {\n        var fields = [];\n        for (var i = 0; i < this.parent.sortSettings.columns.length; i++) {\n            fields.push(this.parent.sortSettings.columns[i][name]);\n        }\n        return fields;\n    };\n    ResponsiveDialogRenderer.prototype.sortButtonClickHandler = function (target) {\n        if (target) {\n            var columndiv = parentsUntil(target, 'e-responsivecoldiv');\n            var field = columndiv.getAttribute('data-e-mappingname');\n            if (!this.parent.allowMultiSorting) {\n                this.sortPredicate = [];\n                this.sortedCols = [];\n                this.isSortApplied = false;\n                this.resetSortButtons(target);\n            }\n            var txt = target.textContent;\n            var direction = txt === 'None' ? 'Ascending' : txt === 'Ascending' ? 'Descending' : 'None';\n            target.innerHTML = direction;\n            this.setSortedCols(field, direction);\n        }\n    };\n    ResponsiveDialogRenderer.prototype.resetSortButtons = function (target) {\n        var buttons = [].slice.call(this.customColumnDiv.getElementsByClassName('e-ressortbutton'));\n        for (var i = 0; i < buttons.length; i++) {\n            if (buttons[i] !== target) {\n                buttons[i].innerHTML = 'None';\n            }\n        }\n    };\n    ResponsiveDialogRenderer.prototype.setSortedCols = function (field, direction) {\n        var fields = this.getCurrentSortedFields();\n        var index = fields.indexOf(field);\n        if (this.parent.allowMultiSorting && index > -1) {\n            this.sortedCols.splice(index, 1);\n            this.sortPredicate.splice(index, 1);\n        }\n        this.isSortApplied = true;\n        if (direction !== 'None') {\n            this.sortedCols.push(field);\n            this.sortPredicate.push({ field: field, direction: direction });\n        }\n    };\n    ResponsiveDialogRenderer.prototype.getCurrentSortedFields = function () {\n        var fields = [];\n        for (var i = 0; i < this.sortedCols.length; i++) {\n            fields.push(this.sortedCols[i]);\n        }\n        return fields;\n    };\n    ResponsiveDialogRenderer.prototype.customFilterColumnClickHandler = function (e) {\n        if (this.action !== ResponsiveDialogAction.isFilter) {\n            return;\n        }\n        var gObj = this.parent;\n        var target = e.target;\n        if (gObj.filterSettings.type !== 'FilterBar') {\n            if (target.classList.contains('e-responsivecoldiv') || target.parentElement.classList.contains('e-responsivecoldiv')) {\n                var field = target.getAttribute('data-e-mappingname');\n                if (!field) {\n                    field = target.parentElement.getAttribute('data-e-mappingname');\n                }\n                if (field) {\n                    var col = gObj.getColumnByField(field);\n                    this.isRowResponsive = true;\n                    this.showResponsiveDialog(col);\n                }\n            }\n            else if (target.classList.contains('e-filterset') || target.parentElement.classList.contains('e-filtersetdiv')) {\n                var colDiv = parentsUntil(target, 'e-responsivecoldiv');\n                if (colDiv) {\n                    var field = colDiv.getAttribute('data-e-mappingname');\n                    var col = gObj.getColumnByField(field);\n                    if (col.filter.type === 'Menu' || (!col.filter.type && gObj.filterSettings.type === 'Menu')) {\n                        this.isDialogClose = true;\n                    }\n                    this.parent.filterModule.filterModule.clearCustomFilter(col);\n                    this.removeCustomDlgFilterEle(target);\n                }\n            }\n        }\n    };\n    /**\n     * Function to show the responsive dialog\n     *\n     * @param {Column} col - specifies the column\n     * @returns {void}\n     */\n    ResponsiveDialogRenderer.prototype.showResponsiveDialog = function (col) {\n        if (this.isCustomDialog && this.action === ResponsiveDialogAction.isFilter && !this.isRowResponsive) {\n            this.renderCustomFilterDialog();\n        }\n        else {\n            this.filteredCol = col;\n            this.renderResponsiveDialog(col);\n            if (this.parent.enableAdaptiveUI && col) {\n                this.parent.filterModule.setFilterModel(col);\n                this.parent.filterModule.filterModule.openDialog(this.parent.filterModule.createOptions(col, undefined));\n            }\n            if (this.action === ResponsiveDialogAction.isSort) {\n                var args = {\n                    cancel: false, dialogObj: this.customResponsiveDlg, requestType: 'beforeOpenAptiveSortDialog'\n                };\n                this.parent.trigger(events.beforeOpenAdaptiveDialog, args);\n                if (args.cancel) {\n                    return;\n                }\n            }\n            this.customResponsiveDlg.show(true);\n            this.customResponsiveDlg.element.style.maxHeight = '100%';\n            this.setTopToChildDialog(this.customResponsiveDlg.element);\n        }\n    };\n    ResponsiveDialogRenderer.prototype.setTopToChildDialog = function (dialogEle) {\n        var child = dialogEle.querySelector('.e-dialog');\n        if (child) {\n            var top_1 = dialogEle.querySelector('.e-dlg-header-content').getBoundingClientRect().height;\n            child.style.top = top_1 + 'px';\n        }\n    };\n    ResponsiveDialogRenderer.prototype.renderCustomFilterDialog = function (col) {\n        var gObj = this.parent;\n        if (this.action === ResponsiveDialogAction.isFilter && gObj.filterSettings.type === 'FilterBar') {\n            return;\n        }\n        var outerDiv = this.parent.createElement('div', {\n            id: gObj.element.id + 'customfilter', className: 'e-customfilterdiv e-responsive-dialog'\n        });\n        this.parent.element.appendChild(outerDiv);\n        this.customFilterDlg = this.getDialogOptions(col, true);\n        var args = {\n            cancel: false, dialogObj: this.customFilterDlg, requestType: 'beforeOpenAptiveFilterDialog'\n        };\n        this.parent.trigger(events.beforeOpenAdaptiveDialog, args);\n        if (args.cancel) {\n            return;\n        }\n        this.customFilterDlg.appendTo(outerDiv);\n        this.customFilterDlg.show(true);\n        this.customFilterDlg.element.style.maxHeight = '100%';\n    };\n    ResponsiveDialogRenderer.prototype.getDialogOptions = function (col, isCustomFilter, id) {\n        var options = new Dialog({\n            isModal: true,\n            showCloseIcon: true,\n            closeOnEscape: false,\n            locale: this.parent.locale,\n            target: this.parent.adaptiveDlgTarget ? this.parent.adaptiveDlgTarget : document.body,\n            visible: false,\n            enableRtl: this.parent.enableRtl,\n            content: this.renderResponsiveContent(col),\n            open: this.dialogOpen.bind(this),\n            created: this.dialogCreated.bind(this),\n            close: this.beforeDialogClose.bind(this),\n            width: '100%',\n            height: '100%',\n            animationSettings: { effect: 'None' }\n        });\n        var isStringTemplate = 'isStringTemplate';\n        options[isStringTemplate] = true;\n        if (isCustomFilter) {\n            options.header = this.renderResponsiveHeader(col, undefined, true);\n            options.cssClass = 'e-customfilter';\n        }\n        else {\n            options.header = this.renderResponsiveHeader(col);\n            options.cssClass = this.parent.rowRenderingMode === 'Vertical' && this.action === ResponsiveDialogAction.isFilter\n                ? 'e-res' + id + ' e-row-responsive-filter' : 'e-res' + id;\n        }\n        return options;\n    };\n    ResponsiveDialogRenderer.prototype.renderResponsiveDialog = function (col) {\n        var gObj = this.parent;\n        if (this.action === ResponsiveDialogAction.isFilter && gObj.filterSettings.type === 'FilterBar') {\n            return;\n        }\n        var id = this.action === ResponsiveDialogAction.isFilter ? 'filter' : 'sort';\n        var outerDiv = this.parent.createElement('div', {\n            id: gObj.element.id + 'responsive' + id, className: 'e-res' + id + 'div e-responsive-dialog'\n        });\n        this.parent.element.appendChild(outerDiv);\n        this.customResponsiveDlg = this.getDialogOptions(col, false, id);\n        this.customResponsiveDlg.appendTo(outerDiv);\n    };\n    ResponsiveDialogRenderer.prototype.dialogCreated = function () {\n        addBiggerDialog(this.parent);\n    };\n    ResponsiveDialogRenderer.prototype.dialogOpen = function () {\n        if (this.action === ResponsiveDialogAction.isSort && this.parent.allowMultiSorting) {\n            for (var i = 0; i < this.parent.sortSettings.columns.length; i++) {\n                this.sortedCols.push(this.parent.sortSettings.columns[i].field);\n                var sortField = this.parent.sortSettings.columns[i].field;\n                var sortDirection = this.parent.sortSettings.columns[i].direction;\n                this.sortPredicate.push({ field: sortField, direction: sortDirection });\n            }\n        }\n    };\n    ResponsiveDialogRenderer.prototype.beforeDialogClose = function (args) {\n        this.isDialogClose = args.element && !args.element.querySelector('.e-xl-customfilterdiv')\n            && args.element.classList.contains('e-resfilterdiv');\n        if (this.action === ResponsiveDialogAction.isFilter) {\n            if (args.element.classList.contains('e-resfilterdiv')) {\n                this.parent.filterModule.filterModule.closeResponsiveDialog(this.isCustomDlgRender);\n            }\n            else if (args.element.classList.contains('e-customfilterdiv')) {\n                this.closeCustomFilter();\n            }\n        }\n        else if (this.action === ResponsiveDialogAction.isSort) {\n            this.closeCustomDialog();\n        }\n        this.parent.off(events.enterKeyHandler, this.keyHandler);\n    };\n    ResponsiveDialogRenderer.prototype.sortColumn = function () {\n        if (!this.isSortApplied) {\n            this.closeCustomDialog();\n            return;\n        }\n        if (this.sortPredicate.length) {\n            this.parent.setProperties({ sortSettings: { columns: [] } }, true);\n        }\n        for (var i = 0; i < this.sortPredicate.length; i++) {\n            this.parent.sortColumn(this.sortPredicate[i].field, this.sortPredicate[i].direction, this.parent.allowMultiSorting);\n        }\n        if (!this.sortPredicate.length) {\n            this.parent.clearSorting();\n        }\n        this.closeCustomDialog();\n    };\n    ResponsiveDialogRenderer.prototype.getHeaderTitle = function (args, col) {\n        var gObj = this.parent;\n        var title;\n        if (this.action === ResponsiveDialogAction.isEdit) {\n            title = gObj.localeObj.getConstant('EditFormTitle') + args.primaryKeyValue[0];\n        }\n        else if (this.action === ResponsiveDialogAction.isAdd) {\n            title = gObj.localeObj.getConstant('AddFormTitle');\n        }\n        else if (this.action === ResponsiveDialogAction.isFilter) {\n            title = col ? col.headerText || col.field : gObj.localeObj.getConstant('FilterButton');\n        }\n        else if (this.action === ResponsiveDialogAction.isSort) {\n            title = gObj.localeObj.getConstant('Sort');\n        }\n        return title;\n    };\n    ResponsiveDialogRenderer.prototype.getDialogName = function (action) {\n        var name;\n        if (action === ResponsiveDialogAction.isAdd || action === ResponsiveDialogAction.isEdit) {\n            name = 'dialogEdit_wrapper_title';\n        }\n        else if (action === ResponsiveDialogAction.isFilter) {\n            name = 'responsive_filter_dialog_wrapper';\n        }\n        return name;\n    };\n    ResponsiveDialogRenderer.prototype.getButtonText = function (action) {\n        var text;\n        if (action === ResponsiveDialogAction.isAdd || action === ResponsiveDialogAction.isEdit) {\n            text = 'Save';\n        }\n        else if (action === ResponsiveDialogAction.isFilter || this.action === ResponsiveDialogAction.isSort) {\n            text = 'OKButton';\n        }\n        return text;\n    };\n    /**\n     * Function to render the responsive header\n     *\n     * @param {Column} col - specifies the column\n     * @param {ResponsiveDialogArgs} args - specifies the responsive dialog arguments\n     * @param {boolean} isCustomFilter - specifies whether it is custom filter or not\n     * @returns {HTMLElement | string} returns the html element or string\n     */\n    ResponsiveDialogRenderer.prototype.renderResponsiveHeader = function (col, args, isCustomFilter) {\n        var _this = this;\n        var gObj = this.parent;\n        gObj.on(events.enterKeyHandler, this.keyHandler, this);\n        var id = gObj.element.id + this.getDialogName(this.action);\n        var header = gObj.createElement('div', { className: 'e-res-custom-element' });\n        var titleDiv = gObj.createElement('div', { className: 'e-dlg-custom-header', id: id });\n        titleDiv.innerHTML = this.getHeaderTitle(args, col);\n        header.appendChild(titleDiv);\n        var saveBtn = gObj.createElement('button');\n        if (!isCustomFilter) {\n            this.saveBtn = new Button({\n                cssClass: 'e-primary e-flat e-res-apply-btn'\n            });\n            saveBtn.innerHTML = gObj.localeObj.getConstant(this.getButtonText(this.action));\n            this.saveBtn.appendTo(saveBtn);\n            // eslint-disable-next-line @typescript-eslint/no-unused-vars\n            saveBtn.onclick = function (e) {\n                _this.dialogHdrBtnClickHandler();\n            };\n        }\n        var isSort = this.action === ResponsiveDialogAction.isSort;\n        var isFilter = this.action === ResponsiveDialogAction.isFilter;\n        if (isFilter || isSort) {\n            var id_1 = isSort ? 'sort' : 'filter';\n            var clearBtn = gObj.createElement('button');\n            this.filterClearBtn = new Button({\n                cssClass: 'e-primary e-flat e-res-' + id_1 + '-clear-btn'\n            });\n            if (isFilter) {\n                var span = gObj.createElement('span', { className: 'e-btn-icon e-icon-filter-clear e-icons' });\n                clearBtn.appendChild(span);\n            }\n            else {\n                clearBtn.innerHTML = gObj.localeObj.getConstant('Clear');\n            }\n            header.appendChild(clearBtn);\n            this.filterClearBtn.appendTo(clearBtn);\n            clearBtn.onclick = function (e) {\n                if ((parentsUntil(e.target, 'e-customfilter'))) {\n                    _this.parent.filterModule.clearFiltering();\n                    _this.removeCustomDlgFilterEle();\n                }\n                else {\n                    if (isFilter) {\n                        _this.filterClear();\n                    }\n                    else {\n                        _this.resetSortButtons();\n                        _this.sortedCols = [];\n                        _this.sortPredicate = [];\n                        _this.isSortApplied = true;\n                    }\n                }\n            };\n            header.appendChild(clearBtn);\n        }\n        if (!isCustomFilter) {\n            header.appendChild(saveBtn);\n        }\n        return header;\n    };\n    ResponsiveDialogRenderer.prototype.filterClear = function () {\n        this.parent.filterModule.filterModule.clearCustomFilter(this.filteredCol);\n        this.parent.filterModule.filterModule.closeResponsiveDialog();\n    };\n    ResponsiveDialogRenderer.prototype.dialogHdrBtnClickHandler = function () {\n        if (this.action === ResponsiveDialogAction.isEdit || this.action === ResponsiveDialogAction.isAdd) {\n            this.parent.endEdit();\n        }\n        else if (this.action === ResponsiveDialogAction.isFilter) {\n            this.parent.filterModule.filterModule.applyCustomFilter({ col: this.filteredCol, isCustomFilter: this.isCustomDlgRender });\n        }\n        else if (this.action === ResponsiveDialogAction.isSort) {\n            this.sortColumn();\n        }\n    };\n    ResponsiveDialogRenderer.prototype.closeCustomDialog = function () {\n        if (this.isCustomDlgRender) {\n            var mainfilterdiv = this.customResponsiveDlg.element.querySelector('.e-mainfilterdiv');\n            remove(mainfilterdiv);\n            return;\n        }\n        this.isRowResponsive = false;\n        this.isCustomDlgRender = false;\n        this.destroyCustomFilterDialog();\n    };\n    ResponsiveDialogRenderer.prototype.destroyCustomFilterDialog = function () {\n        if (!this.customResponsiveDlg) {\n            return;\n        }\n        var elem = document.getElementById(this.customResponsiveDlg.element.id);\n        if (this.customResponsiveDlg && !this.customResponsiveDlg.isDestroyed && elem) {\n            this.customResponsiveDlg.destroy();\n            remove(elem);\n        }\n        this.closeCustomFilter();\n        if (this.action === ResponsiveDialogAction.isSort) {\n            this.sortPredicate = [];\n            this.sortedCols = [];\n            this.isSortApplied = false;\n        }\n    };\n    ResponsiveDialogRenderer.prototype.closeCustomFilter = function () {\n        if (!this.isDialogClose && this.customFilterDlg) {\n            var customEle = document.getElementById(this.customFilterDlg.element.id);\n            if (this.customFilterDlg && !this.customFilterDlg.isDestroyed && customEle) {\n                this.customFilterDlg.destroy();\n                remove(customEle);\n            }\n        }\n        this.isCustomDialog = false;\n        this.isDialogClose = false;\n    };\n    ResponsiveDialogRenderer.prototype.removeCustomDlgFilterEle = function (target) {\n        if (target) {\n            if (target.parentElement.classList.contains('e-filtersetdiv')) {\n                remove(target.parentElement);\n            }\n            else {\n                remove(target);\n            }\n        }\n        else {\n            var child = this.customColumnDiv.children;\n            for (var i = 0; i < child.length; i++) {\n                target = child[i].querySelector('.e-filtersetdiv');\n                if (target) {\n                    remove(target);\n                    i--;\n                }\n            }\n        }\n    };\n    ResponsiveDialogRenderer.prototype.keyHandler = function (e) {\n        if (e.keyCode === 13 && ((this.action === ResponsiveDialogAction.isFilter\n            && e.target.classList.contains('e-searchinput'))\n            || (this.action === ResponsiveDialogAction.isEdit || this.action === ResponsiveDialogAction.isAdd))) {\n            this.dialogHdrBtnClickHandler();\n        }\n    };\n    ResponsiveDialogRenderer.prototype.editComplate = function (args) {\n        if (args.requestType === 'save' || args.requestType === 'cancel') {\n            this.parent.off(events.enterKeyHandler, this.keyHandler);\n        }\n    };\n    ResponsiveDialogRenderer.prototype.removeEventListener = function () {\n        if (this.customColumnDiv) {\n            EventHandler.remove(this.customColumnDiv, 'click', this.customFilterColumnClickHandler);\n        }\n        addRemoveEventListener(this.parent, this.evtHandlers, true, this);\n        this.parent.removeEventListener(events.actionComplete, this.onActionCompleteFn);\n    };\n    return ResponsiveDialogRenderer;\n}());\nexport { ResponsiveDialogRenderer };\n","import { isNullOrUndefined, extend, addClass } from '@syncfusion/ej2-base';\nimport { attributes as addAttributes } from '@syncfusion/ej2-base';\nimport { rowDataBound, queryCellInfo } from '../base/constant';\nimport { setStyleAndAttributes, getObject, extendObjWithFn } from '../base/util';\nimport { CellType } from '../base/enum';\nimport { CellMergeRender } from './cell-merge-renderer';\nimport * as literals from '../base/string-literals';\n/**\n * RowRenderer class which responsible for building row content.\n *\n * @hidden\n */\nvar RowRenderer = /** @class */ (function () {\n    function RowRenderer(serviceLocator, cellType, parent) {\n        this.isSpan = false;\n        this.cellType = cellType;\n        this.serviceLocator = serviceLocator;\n        this.parent = parent;\n        this.element = this.parent.createElement('tr', { attrs: { role: 'row' } });\n    }\n    /* eslint-disable */\n    /**\n     * Function to render the row content based on Column[] and data.\n     *\n     * @param {Row<T>} row - specifies the row\n     * @param {Column[]} columns - specifies the columns\n     * @param {Object} attributes - specifies the attributes\n     * @param {string} rowTemplate - specifies the rowTemplate\n     * @param {Element} cloneNode - specifies the cloneNode\n     * @returns {Element} returns the element\n     */\n    /* eslint-enable */\n    RowRenderer.prototype.render = function (row, columns, attributes, rowTemplate, cloneNode) {\n        return this.refreshRow(row, columns, attributes, rowTemplate, cloneNode);\n    };\n    /* eslint-disable */\n    /**\n     * Function to refresh the row content based on Column[] and data.\n     *\n     * @param {Row<T>} row - specifies the row\n     * @param {Column[]} columns - specifies the column\n     * @param {boolean} isChanged - specifies isChanged\n     * @param {Object} attributes - specifies the attributes\n     * @param {string} rowTemplate - specifies the rowTemplate\n     * @returns {void}\n     */\n    /* eslint-enable */\n    RowRenderer.prototype.refresh = function (row, columns, isChanged, attributes, rowTemplate) {\n        if (isChanged) {\n            row.data = extendObjWithFn({}, row.changes);\n            this.refreshMergeCells(row);\n        }\n        var node = this.parent.element.querySelector('[data-uid=' + row.uid + ']');\n        var tr = this.refreshRow(row, columns, attributes, rowTemplate, null, isChanged);\n        var cells = [].slice.call(tr.cells);\n        node.innerHTML = '';\n        for (var _i = 0, cells_1 = cells; _i < cells_1.length; _i++) {\n            var cell = cells_1[_i];\n            node.appendChild(cell);\n        }\n    };\n    // tslint:disable-next-line:max-func-body-length\n    RowRenderer.prototype.refreshRow = function (row, columns, attributes, rowTemplate, cloneNode, isEdit) {\n        var tr = !isNullOrUndefined(cloneNode) ? cloneNode : this.element.cloneNode();\n        var rowArgs = { data: row.data };\n        var cellArgs = { data: row.data };\n        var chekBoxEnable = this.parent.getColumns().filter(function (col) { return col.type === 'checkbox' && col.field; })[0];\n        var value = false;\n        if (chekBoxEnable) {\n            value = getObject(chekBoxEnable.field, rowArgs.data);\n        }\n        var selIndex = this.parent.getSelectedRowIndexes();\n        if (row.isDataRow) {\n            row.isSelected = selIndex.indexOf(row.index) > -1 || value;\n        }\n        if (row.isDataRow && this.parent.isCheckBoxSelection\n            && this.parent.checkAllRows === 'Check' && this.parent.enableVirtualization) {\n            row.isSelected = true;\n            if (selIndex.indexOf(row.index) === -1) {\n                selIndex.push(row.index);\n            }\n        }\n        this.buildAttributeFromRow(tr, row);\n        addAttributes(tr, extend({}, attributes, {}));\n        setStyleAndAttributes(tr, row.attributes);\n        var cellRendererFact = this.serviceLocator.getService('cellRendererFactory');\n        var _loop_1 = function (i, len) {\n            var cell = row.cells[i];\n            cell.isSelected = row.isSelected;\n            cell.isColumnSelected = cell.column.isSelected;\n            var cellRenderer = cellRendererFact.getCellRenderer(row.cells[i].cellType || CellType.Data);\n            var attrs = { 'index': !isNullOrUndefined(row.index) ? row.index.toString() : '' };\n            if (row.isExpand && row.cells[i].cellType === CellType.DetailExpand) {\n                attrs['class'] = this_1.parent.isPrinting ? 'e-detailrowcollapse' : 'e-detailrowexpand';\n            }\n            var td = cellRenderer.render(row.cells[i], row.data, attrs, row.isExpand, isEdit);\n            if (row.cells[i].cellType !== CellType.Filter) {\n                if (row.cells[i].cellType === CellType.Data || row.cells[i].cellType === CellType.CommandColumn) {\n                    this_1.parent.trigger(queryCellInfo, extend(cellArgs, {\n                        cell: td, column: cell.column, colSpan: 1,\n                        rowSpan: 1, foreignKeyData: row.cells[i].foreignKeyData,\n                        requestType: this_1.parent.requestTypeAction\n                    }));\n                    var isRowSpanned = false;\n                    if (row.index > 0 && this_1.isSpan) {\n                        var prevRowCells = this_1.parent.groupSettings.columns.length > 0 &&\n                            !this_1.parent.getRowsObject()[row.index - 1].isDataRow ?\n                            this_1.parent.getRowsObject()[row.index].cells : this_1.parent.getRowsObject()[row.index - 1].cells;\n                        var uid_1 = 'uid';\n                        var prevRowCell = prevRowCells.filter(function (cell) {\n                            return cell.column.uid === row.cells[i].column[uid_1];\n                        })[0];\n                        isRowSpanned = prevRowCell.isRowSpanned ? prevRowCell.isRowSpanned : prevRowCell.rowSpanRange > 1;\n                    }\n                    if (cellArgs.colSpan > 1 || row.cells[i].cellSpan > 1 || cellArgs.rowSpan > 1 || isRowSpanned) {\n                        this_1.isSpan = true;\n                        var cellMerge = new CellMergeRender(this_1.serviceLocator, this_1.parent);\n                        td = cellMerge.render(cellArgs, row, i, td);\n                    }\n                }\n                if (!row.cells[i].isSpanned) {\n                    tr.appendChild(td);\n                }\n            }\n        };\n        var this_1 = this;\n        for (var i = 0, len = row.cells.length; i < len; i++) {\n            _loop_1(i, len);\n        }\n        var args = { row: tr, rowHeight: this.parent.rowHeight };\n        if (row.isDataRow) {\n            this.parent.trigger(rowDataBound, extend(rowArgs, args));\n            if (this.parent.childGrid || this.parent.isRowDragable() || this.parent.detailTemplate) {\n                var td = tr.querySelectorAll('.e-rowcell:not(.e-hide)')[0];\n                if (td) {\n                    td.classList.add('e-detailrowvisible');\n                }\n            }\n        }\n        if (this.parent.enableVirtualization) {\n            rowArgs.rowHeight = this.parent.rowHeight;\n        }\n        if (rowArgs.rowHeight) {\n            tr.style.height = rowArgs.rowHeight + 'px';\n        }\n        else if (this.parent.rowHeight && (tr.querySelector('.e-headercell') || tr.querySelector('.e-groupcaption'))) {\n            tr.style.height = this.parent.rowHeight + 'px';\n        }\n        if (row.cssClass) {\n            tr.classList.add(row.cssClass);\n        }\n        if (row.lazyLoadCssClass) {\n            tr.classList.add(row.lazyLoadCssClass);\n        }\n        var vFTable = this.parent.enableColumnVirtualization && this.parent.frozenColumns !== 0;\n        if (!vFTable && this.parent.aggregates.length && this.parent.element.scrollHeight > this.parent.height) {\n            for (var i = 0; i < this.parent.aggregates.length; i++) {\n                var property = 'properties';\n                var column = 'columns';\n                if (this.parent.aggregates[i][property][column][0].footerTemplate) {\n                    var summarycell = [].slice.call(tr.getElementsByClassName('e-summarycell'));\n                    if (summarycell.length) {\n                        var lastSummaryCell = (summarycell[summarycell.length - 1]);\n                        addClass([lastSummaryCell], ['e-lastsummarycell']);\n                        var firstSummaryCell = (summarycell[0]);\n                        addClass([firstSummaryCell], ['e-firstsummarycell']);\n                    }\n                }\n            }\n        }\n        return tr;\n    };\n    RowRenderer.prototype.refreshMergeCells = function (row) {\n        for (var _i = 0, _a = row.cells; _i < _a.length; _i++) {\n            var cell = _a[_i];\n            cell.isSpanned = false;\n        }\n        return row;\n    };\n    /* eslint-disable */\n    /**\n     * Function to check and add alternative row css class.\n     *\n     * @param {Element} tr - specifies the tr element\n     * @param {Row<T>} row - specifies the row\n     * @returns {void}\n     */\n    /* eslint-enable */\n    RowRenderer.prototype.buildAttributeFromRow = function (tr, row) {\n        var attr = {};\n        var prop = { 'rowindex': literals.ariaRowIndex, 'dataUID': 'data-uid', 'ariaSelected': 'aria-selected' };\n        var classes = [];\n        if (row.isDataRow) {\n            classes.push(literals.row);\n        }\n        if (row.isAltRow) {\n            classes.push('e-altrow');\n        }\n        if (!isNullOrUndefined(row.index)) {\n            attr[prop.rowindex] = row.index;\n        }\n        if (row.rowSpan) {\n            attr.rowSpan = row.rowSpan;\n        }\n        if (row.uid) {\n            attr[prop.dataUID] = row.uid;\n        }\n        if (row.isSelected) {\n            attr[prop.ariaSelected] = true;\n        }\n        if (row.visible === false) {\n            classes.push('e-hide');\n        }\n        attr.class = classes;\n        setStyleAndAttributes(tr, attr);\n    };\n    return RowRenderer;\n}());\nexport { RowRenderer };\n","/**\n * AriaService\n *\n * @hidden\n */\nvar AriaService = /** @class */ (function () {\n    function AriaService() {\n    }\n    AriaService.prototype.setOptions = function (target, options) {\n        var props = Object.keys(options);\n        for (var i = 0; i < props.length; i++) {\n            setStateAndProperties(target, config[props[i]], options[props[i]]);\n        }\n    };\n    AriaService.prototype.setExpand = function (target, expand) {\n        setStateAndProperties(target, config.expand, expand);\n    };\n    AriaService.prototype.setSort = function (target, direction) {\n        setStateAndProperties(target, config.sort, direction, typeof direction === 'boolean');\n    };\n    AriaService.prototype.setBusy = function (target, isBusy) {\n        setStateAndProperties(target, config.busy, isBusy);\n        setStateAndProperties(target, config.invalid, null, true);\n    };\n    AriaService.prototype.setGrabbed = function (target, isGrabbed, remove) {\n        setStateAndProperties(target, config.grabbed, isGrabbed, remove);\n    };\n    AriaService.prototype.setDropTarget = function (target, isTarget) {\n        setStateAndProperties(target, config.dropeffect, 'copy', !isTarget);\n    };\n    return AriaService;\n}());\nexport { AriaService };\n/**\n * @param {HTMLElement} target - specifies the target\n * @param {string} attribute - specifies the attribute\n * @param {ValueType} value - specifies the value\n * @param {boolean} remove - specifies the boolean for remove\n * @returns {void}\n * @hidden\n */\nfunction setStateAndProperties(target, attribute, value, remove) {\n    if (remove && target) {\n        target.removeAttribute(attribute);\n        return;\n    }\n    if (target) {\n        target.setAttribute(attribute, value);\n    }\n}\nvar config = {\n    expand: 'aria-expanded',\n    role: 'role',\n    selected: 'aria-selected',\n    multiselectable: 'aria-multiselectable',\n    sort: 'aria-sort',\n    busy: 'aria-busy',\n    invalid: 'aria-invalid',\n    grabbed: 'aria-grabbed',\n    dropeffect: 'aria-dropeffect',\n    haspopup: 'aria-haspopup',\n    level: 'aria-level',\n    colcount: 'aria-colcount',\n    rowcount: 'aria-rowcount'\n};\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { EventHandler, getValue, closest, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { addClass, removeClass, extend, Browser } from '@syncfusion/ej2-base';\nimport { CellType } from '../base/enum';\nimport * as event from '../base/constant';\nimport { Row } from '../models/row';\nimport { RowModelGenerator } from './row-model-generator';\nimport { parentsUntil, addRemoveEventListener } from '../base/util';\nimport * as literals from '../base/string-literals';\n/**\n * FocusStrategy class\n *\n * @hidden\n */\nvar FocusStrategy = /** @class */ (function () {\n    function FocusStrategy(parent) {\n        this.currentInfo = {};\n        this.oneTime = true;\n        this.swap = {};\n        /** @hidden */\n        this.isInfiniteScroll = false;\n        this.forget = false;\n        this.skipFocus = true;\n        this.focusByClick = false;\n        this.prevIndexes = {};\n        this.refMatrix = this.refreshMatrix(true);\n        this.actions = ['downArrow', 'upArrow'];\n        this.isVirtualScroll = false;\n        this.parent = parent;\n        this.rowModelGen = new RowModelGenerator(this.parent);\n        this.addEventListener();\n    }\n    FocusStrategy.prototype.focusCheck = function (e) {\n        var target = e.target;\n        this.focusByClick = true;\n        this.skipFocus = target.classList.contains('e-grid');\n    };\n    FocusStrategy.prototype.onFocus = function (e) {\n        if (this.parent.isDestroyed || Browser.isDevice || this.parent.enableVirtualization) {\n            return;\n        }\n        this.setActive(!this.parent.enableHeaderFocus && this.parent.frozenRows === 0, this.parent.isFrozenGrid());\n        if (!this.parent.enableHeaderFocus && !this.parent.getCurrentViewRecords().length && ((this.parent.editSettings.mode !== 'Batch')\n            || (this.parent.editSettings.mode === 'Batch' && !this.parent.editModule.getBatchChanges()[literals.addedRecords].length))) {\n            this.getContent().matrix.\n                generate(this.rowModelGen.generateRows({ rows: [new Row({ isDataRow: true })] }), this.getContent().selector, false);\n        }\n        var current = this.getContent().matrix.get(0, -1, [0, 1], null, this.getContent().validator());\n        this.getContent().matrix.select(current[0], current[1]);\n        if (this.skipFocus) {\n            this.focus(e);\n            this.skipFocus = false;\n        }\n    };\n    FocusStrategy.prototype.passiveFocus = function (e) {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        if (e.target && e.target.classList.contains('e-detailcell')) {\n            this.currentInfo.skipAction = false;\n            addClass([this.currentInfo.element], ['e-focused', 'e-focus']);\n        }\n    };\n    FocusStrategy.prototype.onBlur = function (e) {\n        if ((this.parent.isEdit || e && (!e.relatedTarget || closest(e.relatedTarget, '.e-grid')))\n            && !(isNullOrUndefined(e.relatedTarget) && parseInt(e.target.getAttribute('aria-colindex'), 10) === 0 &&\n                parseInt(e.target.getAttribute('index'), 10) === 0)) {\n            return;\n        }\n        this.removeFocus();\n        this.skipFocus = true;\n        this.currentInfo.skipAction = false;\n        this.parent.element.tabIndex = 0;\n    };\n    FocusStrategy.prototype.onClick = function (e, force) {\n        if (parentsUntil(e.target, 'e-filterbarcell') && (parentsUntil(e.target, 'e-multiselect') ||\n            e.target.classList.contains('e-input-group-icon'))) {\n            return;\n        }\n        var isContent = !isNullOrUndefined(closest(e.target, '.' + literals.gridContent));\n        var isHeader = !isNullOrUndefined(closest(e.target, '.' + literals.gridHeader));\n        isContent = isContent && isHeader ? !isContent : isContent;\n        var isFrozen = !isNullOrUndefined(closest(e.target, '.' + literals.frozenContent)) ||\n            !isNullOrUndefined(closest(e.target, '.' + literals.frozenHeader));\n        var isFrozenRight = false;\n        if (this.parent.getFrozenMode() === literals.leftRight) {\n            isFrozenRight = !isNullOrUndefined(closest(e.target, '.e-frozen-right-content')) ||\n                !isNullOrUndefined(closest(e.target, '.e-frozen-right-header'));\n            isFrozen = isFrozen && !isFrozenRight;\n        }\n        if (!isContent && isNullOrUndefined(closest(e.target, '.' + literals.gridHeader)) ||\n            e.target.classList.contains(literals.content) ||\n            !isNullOrUndefined(closest(e.target, '.e-unboundcell'))) {\n            return;\n        }\n        this.setActive(isContent, isFrozen, isFrozenRight);\n        if (!isContent && isNullOrUndefined(closest(e.target, '.' + literals.gridHeader))) {\n            this.clearOutline();\n            return;\n        }\n        var beforeArgs = { cancel: false, byKey: false, byClick: !isNullOrUndefined(e.target), clickArgs: e };\n        this.parent.notify(event.beforeCellFocused, beforeArgs);\n        if (beforeArgs.cancel || closest(e.target, '.e-inline-edit')) {\n            return;\n        }\n        this.setActive(isContent, isFrozen, isFrozenRight);\n        if (this.getContent()) {\n            var returnVal = this.getContent().onClick(e, force);\n            if (returnVal === false) {\n                return;\n            }\n            this.focus();\n        }\n    };\n    FocusStrategy.prototype.onKeyPress = function (e) {\n        if (this.skipOn(e)) {\n            return;\n        }\n        this.activeKey = e.action;\n        var beforeArgs = { cancel: false, byKey: true, byClick: false, keyArgs: e };\n        this.parent.notify(event.beforeCellFocused, beforeArgs);\n        if (beforeArgs.cancel) {\n            return;\n        }\n        var bValue = this.getContent().matrix.current;\n        this.currentInfo.outline = true;\n        var swapInfo = this.getContent().jump(e.action, bValue);\n        this.swap = swapInfo;\n        if (swapInfo.swap) {\n            this.setActive(!swapInfo.toHeader, swapInfo.toFrozen, swapInfo.toFrozenRight);\n            this.getContent().matrix.current = this.getContent().getNextCurrent(bValue, swapInfo, this.active, e.action);\n            this.prevIndexes = {};\n        }\n        this.setActiveByKey(e.action, this.getContent());\n        var returnVal = this.content.lastIdxCell ? false : this.getContent().onKeyPress(e);\n        if (returnVal === false) {\n            this.clearIndicator();\n            if (e.action === 'shiftTab' && bValue.toString() === [0, 0].toString()) {\n                this.parent.element.tabIndex = -1;\n            }\n            return;\n        }\n        e.preventDefault();\n        this.focus(e);\n    };\n    FocusStrategy.prototype.skipOn = function (e) {\n        var target = e.target;\n        if (!target) {\n            return false;\n        }\n        if (this.currentInfo.skipAction) {\n            this.clearIndicator();\n            return true;\n        }\n        if (['pageUp', 'pageDown', 'altDownArrow'].indexOf(e.action) > -1) {\n            this.clearIndicator();\n            return true;\n        }\n        var th = closest(target, 'th') && !closest(target, 'th').tabIndex;\n        if (e.target.classList.contains('e-filterbaroperator') && (e.keyCode === 13 || e.keyCode === 27)) {\n            var inputTarget = closest(e.target, '.e-filterbarcell');\n            inputTarget.querySelector('input').focus();\n        }\n        if (th && closest(document.activeElement, '.e-filterbarcell') !== null) {\n            this.removeFocus();\n        }\n        var filterCell = closest(document.activeElement, '.e-filterbarcell') !== null;\n        if (this.parent.enableHeaderFocus && filterCell) {\n            var matrix = this.active.matrix;\n            var current = matrix.current;\n            filterCell = matrix.matrix[current[0]].lastIndexOf(1) !== current[1];\n        }\n        return (e.action === 'delete'\n            || (this.parent.editSettings.mode !== 'Batch' && (this.parent.isEdit || ['insert', 'f2'].indexOf(e.action) > -1))\n            || (filterCell ||\n                closest(document.activeElement, '#' + this.parent.element.id + '_searchbar') !== null\n                    && ['enter', 'leftArrow', 'rightArrow',\n                        'shiftLeft', 'shiftRight', 'ctrlPlusA'].indexOf(e.action) > -1)\n            || (closest(target, '.' + literals.gridContent) === null && closest(target, '.' + literals.gridHeader) === null)\n            || (e.action === 'space' && (!target.classList.contains(literals.gridChkBox) && closest(target, '.' + literals.gridChkBox) === null\n                && closest(target, '.e-headerchkcelldiv') === null))) || closest(target, '.e-filter-popup') !== null;\n    };\n    FocusStrategy.prototype.focusVirtualElement = function (e) {\n        var _this = this;\n        if (this.parent.enableVirtualization || this.parent.enableInfiniteScrolling) {\n            var data = { virtualData: {}, isAdd: false, isCancel: false };\n            this.parent.notify(event.getVirtualData, data);\n            var isKeyFocus = this.actions.some(function (value) { return value === _this.activeKey; });\n            var isSelected = this.parent.contentModule ?\n                this.parent.contentModule.selectedRowIndex > -1 : false;\n            if (data.isAdd || Object.keys(data.virtualData).length || isKeyFocus || data.isCancel || isSelected) {\n                this.parent.notify(event.resetVirtualFocus, { isCancel: false });\n                data.isCancel = false;\n                this.parent.contentModule.selectedRowIndex = -1;\n                if (isKeyFocus) {\n                    this.activeKey = this.empty;\n                    this.parent.notify('virtaul-key-handler', e);\n                }\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                this.currentInfo.elementToFocus.focus({ preventScroll: true });\n            }\n            else {\n                if (this.isVirtualScroll || this.isInfiniteScroll) {\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    this.currentInfo.elementToFocus.focus({ preventScroll: true });\n                }\n                else {\n                    this.currentInfo.elementToFocus.focus();\n                }\n            }\n        }\n        this.isVirtualScroll = this.isInfiniteScroll = false;\n    };\n    FocusStrategy.prototype.getFocusedElement = function () {\n        return this.currentInfo.elementToFocus;\n    };\n    FocusStrategy.prototype.getContent = function () {\n        return this.active || this.content;\n    };\n    FocusStrategy.prototype.setActive = function (content, isFrozen, isFrozenRight) {\n        this.active = content ? isFrozen ? this.fContent : isFrozenRight ? this.frContent : this.content :\n            isFrozen ? this.fHeader : isFrozenRight ? this.frHeader : this.header;\n    };\n    FocusStrategy.prototype.setFocusedElement = function (element, e) {\n        var _this = this;\n        this.currentInfo.elementToFocus = element;\n        setTimeout(function () {\n            if (!isNullOrUndefined(_this.currentInfo.elementToFocus)) {\n                if (_this.parent.enableVirtualization || _this.parent.enableInfiniteScrolling) {\n                    _this.focusVirtualElement(e);\n                }\n                else {\n                    _this.currentInfo.elementToFocus.focus();\n                }\n            }\n        }, 0);\n    };\n    FocusStrategy.prototype.focus = function (e) {\n        this.parent.notify(event.virtaulCellFocus, e);\n        this.removeFocus();\n        this.addFocus(this.getContent().getFocusInfo(), e);\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    FocusStrategy.prototype.removeFocus = function (e) {\n        if (!this.currentInfo.element) {\n            return;\n        }\n        removeClass([this.currentInfo.element, this.currentInfo.elementToFocus], ['e-focused', 'e-focus']);\n        this.currentInfo.element.tabIndex = -1;\n    };\n    /**\n     * @returns {void}\n     * @hidden */\n    FocusStrategy.prototype.addOutline = function () {\n        var info = this.getContent().getFocusInfo();\n        if (info.element) {\n            addClass([info.element], ['e-focused']);\n            addClass([info.elementToFocus], ['e-focus']);\n        }\n    };\n    /**\n     * @returns {void}\n     * @hidden */\n    FocusStrategy.prototype.focusHeader = function () {\n        this.setActive(false, this.parent.isFrozenGrid());\n        this.resetFocus();\n    };\n    /**\n     * @returns {void}\n     * @hidden */\n    FocusStrategy.prototype.focusContent = function () {\n        this.setActive(true, this.parent.isFrozenGrid());\n        this.resetFocus();\n    };\n    FocusStrategy.prototype.resetFocus = function () {\n        var current = this.getContent().matrix.get(0, -1, [0, 1], null, this.getContent().validator());\n        this.getContent().matrix.select(current[0], current[1]);\n        this.focus();\n    };\n    FocusStrategy.prototype.addFocus = function (info, e) {\n        this.currentInfo = info;\n        this.currentInfo.outline = info.outline && !isNullOrUndefined(e);\n        if (this.isInfiniteScroll) {\n            this.currentInfo.outline = true;\n        }\n        if (!info.element) {\n            return;\n        }\n        var isFocused = info.elementToFocus.classList.contains('e-focus');\n        if (isFocused) {\n            return;\n        }\n        if (this.currentInfo.outline) {\n            addClass([info.element], ['e-focused']);\n        }\n        addClass([info.elementToFocus], ['e-focus']);\n        info.element.tabIndex = 0;\n        if (!isFocused) {\n            this.setFocusedElement(info.elementToFocus, e);\n        }\n        this.parent.notify(event.cellFocused, {\n            element: info.elementToFocus,\n            parent: info.element,\n            indexes: this.getContent().matrix.current,\n            byKey: !isNullOrUndefined(e),\n            byClick: isNullOrUndefined(e),\n            keyArgs: e,\n            isJump: this.swap.swap,\n            container: this.getContent().getInfo(e),\n            outline: !isNullOrUndefined(e),\n            swapInfo: this.swap\n        });\n        var _a = this.getContent().matrix.current, rowIndex = _a[0], cellIndex = _a[1];\n        this.prevIndexes = { rowIndex: rowIndex, cellIndex: cellIndex };\n        this.focusedColumnUid = this.parent.getColumnByIndex(cellIndex).uid;\n        this.focusByClick = false;\n    };\n    FocusStrategy.prototype.refreshMatrix = function (content) {\n        var _this = this;\n        return function (e) {\n            if (content && (e.args && e.args.isFrozen) && !_this.fContent) {\n                _this.fContent = new FixedContentFocus(_this.parent);\n            }\n            else if (content && !_this.frContent && (e.args && e.args.renderFrozenRightContent)) {\n                _this.frContent = new FixedRightContentFocus(_this.parent);\n            }\n            else if (content && !_this.content) {\n                _this.content = new ContentFocus(_this.parent);\n            }\n            if (!content && (e.args && e.args.isFrozen) && !_this.fHeader) {\n                _this.fHeader = new FixedHeaderFocus(_this.parent);\n            }\n            else if (!content && (e.args && e.args.renderFrozenRightContent) && !_this.frHeader) {\n                _this.frHeader = new FixedRightHeaderFocus(_this.parent);\n            }\n            else if (!content && !_this.header) {\n                _this.header = new HeaderFocus(_this.parent);\n            }\n            var cFocus = content ? (e.args && e.args.isFrozen) ? _this.fContent : (e.args && e.args.renderFrozenRightContent)\n                ? _this.frContent : _this.content : (e.args && e.args.isFrozen) ? _this.fHeader : (e.args && e.args.renderFrozenRightContent)\n                ? _this.frHeader : _this.header;\n            var rows = content ? e.rows.slice(_this.parent.frozenRows) : e.rows;\n            var updateRow = content ? e.rows.slice(0, _this.parent.frozenRows) : e.rows;\n            if (_this.parent.isCollapseStateEnabled() && content) {\n                rows = rows.filter(function (x) { return x.visible !== false; });\n            }\n            var isRowTemplate = !isNullOrUndefined(_this.parent.rowTemplate);\n            var matrix = cFocus.matrix.generate(updateRow, cFocus.selector, isRowTemplate);\n            if (e.name === 'batchAdd' && _this.parent.isFrozenGrid()) {\n                var mRows = _this.parent.getMovableRowsObject();\n                var newMovableRows = mRows.map(function (row) { return row.clone(); });\n                var newFrozenRows = rows.map(function (row) { return row.clone(); });\n                _this.fContent.matrix.generate(newFrozenRows, _this.fContent.selector, isRowTemplate);\n                _this.content.matrix.generate(newMovableRows, _this.content.selector, isRowTemplate);\n                if (_this.parent.getFrozenMode() === literals.leftRight) {\n                    var frRows = _this.parent.getFrozenRightRowsObject();\n                    var newfrRows = frRows.map(function (row) { return row.clone(); });\n                    _this.frContent.matrix.generate(newfrRows, _this.frContent.selector, isRowTemplate);\n                }\n            }\n            else {\n                cFocus.matrix.generate(rows, cFocus.selector, isRowTemplate);\n            }\n            cFocus.generateRows(updateRow, {\n                matrix: matrix, handlerInstance: (e.args && e.args.isFrozen) ? _this.fHeader\n                    : (e.args && e.args.renderFrozenRightContent) ? _this.frHeader : _this.header\n            });\n            if (!Browser.isDevice && e && e.args) {\n                if (!_this.focusByClick && e.args.requestType === 'paging') {\n                    _this.skipFocus = false;\n                    _this.parent.element.focus();\n                }\n                if (e.args.requestType === 'grouping') {\n                    _this.skipFocus = true;\n                }\n            }\n            if (e && e.args && e.args.requestType === 'virtualscroll') {\n                if (_this.currentInfo.uid) {\n                    var index_1;\n                    var bool = e.rows.some(function (row, i) {\n                        index_1 = i;\n                        return row.uid === _this.currentInfo.uid;\n                    });\n                    if (bool) {\n                        _this.content.matrix.current[0] = index_1;\n                        _this.content.matrix.current[1] = _this.parent.getColumnIndexByUid(_this.focusedColumnUid) || 0;\n                        var focusElement = _this.getContent().getFocusInfo().elementToFocus;\n                        if (focusElement) {\n                            var cellPosition = focusElement.getBoundingClientRect();\n                            var gridPosition = _this.parent.element.getBoundingClientRect();\n                            if (cellPosition.top >= 0 && cellPosition.left >= 0 &&\n                                cellPosition.right <= Math.min(gridPosition.right, window.innerWidth ||\n                                    document.documentElement.clientWidth) &&\n                                cellPosition.bottom <= Math.min(gridPosition.bottom, window.innerHeight ||\n                                    document.documentElement.clientHeight)) {\n                                _this.isVirtualScroll = true;\n                                _this.focus();\n                            }\n                        }\n                    }\n                }\n                else if (e.args.focusElement && e.args.focusElement.classList.contains('e-filtertext')) {\n                    var focusElement = _this.parent.element.querySelector('#' + e.args.focusElement.id);\n                    if (focusElement) {\n                        focusElement.focus();\n                    }\n                }\n            }\n        };\n    };\n    FocusStrategy.prototype.addEventListener = function () {\n        var _this = this;\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        EventHandler.add(this.parent.element, 'mousedown', this.focusCheck, this);\n        EventHandler.add(this.parent.element, 'focus', this.onFocus, this);\n        this.parent.element.addEventListener('focus', this.passiveHandler = function (e) { return _this.passiveFocus(e); }, true);\n        EventHandler.add(this.parent.element, 'focusout', this.onBlur, this);\n        this.evtHandlers = [{ event: event.keyPressed, handler: this.onKeyPress },\n            { event: event.click, handler: this.onClick },\n            { event: event.contentReady, handler: this.refMatrix },\n            { event: event.partialRefresh, handler: this.refMatrix },\n            { event: event.refreshExpandandCollapse, handler: this.refMatrix },\n            { event: event.headerRefreshed, handler: this.refreshMatrix() },\n            { event: event.closeEdit, handler: this.restoreFocus },\n            { event: event.restoreFocus, handler: this.restoreFocus },\n            { event: 'start-edit', handler: this.clearIndicator },\n            { event: 'start-add', handler: this.clearIndicator },\n            { event: 'sorting-complete', handler: this.restoreFocus },\n            { event: 'filtering-complete', handler: this.filterfocus },\n            { event: 'grouping-complete', handler: this.restoreFocusWithAction },\n            { event: 'ungrouping-complete', handler: this.restoreFocusWithAction },\n            { event: event.batchAdd, handler: this.refMatrix },\n            { event: event.batchCancel, handler: this.refMatrix },\n            { event: event.batchDelete, handler: this.refMatrix },\n            { event: event.detailDataBound, handler: this.refMatrix },\n            { event: event.onEmpty, handler: this.refMatrix },\n            { event: event.cellFocused, handler: this.internalCellFocus }];\n        addRemoveEventListener(this.parent, this.evtHandlers, true, this);\n    };\n    FocusStrategy.prototype.filterfocus = function () {\n        if (this.parent.filterSettings.type !== 'FilterBar') {\n            this.restoreFocus();\n        }\n    };\n    FocusStrategy.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        EventHandler.remove(this.parent.element, 'mousedown', this.focusCheck);\n        EventHandler.remove(this.parent.element, 'focus', this.onFocus);\n        EventHandler.remove(this.parent.element, 'focusout', this.onBlur);\n        this.parent.element.removeEventListener('focus', this.passiveHandler, true);\n        addRemoveEventListener(this.parent, this.evtHandlers, false);\n    };\n    FocusStrategy.prototype.destroy = function () {\n        this.removeEventListener();\n    };\n    FocusStrategy.prototype.restoreFocus = function () {\n        this.addFocus(this.getContent().getFocusInfo());\n    };\n    FocusStrategy.prototype.restoreFocusWithAction = function (e) {\n        if (!this.parent.enableInfiniteScrolling) {\n            var matrix = this.getContent().matrix;\n            var current = matrix.current;\n            switch (e.requestType) {\n                case 'grouping':\n                case 'ungrouping':\n                    current[1] = current.length &&\n                        !this.parent.groupSettings.showGroupedColumn && !isNullOrUndefined(matrix.matrix[current[0]]) ?\n                        matrix.matrix[current[0]].indexOf(1) : e.requestType === 'grouping' ? current[1] + 1 : current[1] - 1;\n                    break;\n            }\n            this.getContent().matrix.current = current;\n            this.addFocus(this.getContent().getFocusInfo());\n        }\n    };\n    FocusStrategy.prototype.clearOutline = function () {\n        this.getContent().matrix.current = this.getContent().matrix.get(0, -1, [0, 1], 'downArrow', this.getContent().validator());\n        this.clearIndicator();\n    };\n    FocusStrategy.prototype.clearIndicator = function () {\n        if (!this.currentInfo.element || !this.currentInfo.elementToFocus) {\n            return;\n        }\n        removeClass([this.currentInfo.element, this.currentInfo.elementToFocus], ['e-focus', 'e-focused']);\n    };\n    FocusStrategy.prototype.getPrevIndexes = function () {\n        var forget = this.forget;\n        this.forget = false;\n        return forget || !Object.keys(this.prevIndexes).length ? { rowIndex: null, cellIndex: null } : this.prevIndexes;\n    };\n    FocusStrategy.prototype.forgetPrevious = function () {\n        this.forget = true;\n    };\n    FocusStrategy.prototype.setActiveByKey = function (action, active) {\n        var _this = this;\n        if (!this.parent.isFrozenGrid() && this.parent.frozenRows === 0) {\n            return;\n        }\n        // eslint-disable-next-line prefer-const\n        var info;\n        var actions = {\n            'home': function () { return ({ toHeader: !info.isContent, toFrozen: true }); },\n            'end': function () { return ({ toHeader: !info.isContent, toFrozen: false }); },\n            'ctrlHome': function () { return ({ toHeader: true, toFrozen: _this.parent.isFrozenGrid() }); },\n            'ctrlEnd': function () { return ({ toHeader: false, toFrozen: false }); }\n        };\n        if (!(action in actions)) {\n            return;\n        }\n        info = active.getInfo();\n        var swap = actions[action]();\n        this.setActive(!swap.toHeader, swap.toFrozen);\n        this.getContent().matrix.current = active.matrix.current;\n    };\n    FocusStrategy.prototype.internalCellFocus = function (e) {\n        if (!(e.byKey && e.container.isContent && e.keyArgs.action === 'enter'\n            && (e.parent.classList.contains('e-detailcell') ||\n                e.parent.classList.contains('e-unboundcell') || e.parent.classList.contains('e-templatecell')))) {\n            return;\n        }\n        this.clearIndicator();\n        var focusEle = this.getContent().getFocusable(this.getFocusedElement());\n        this.setFocusedElement(focusEle);\n        this.currentInfo.skipAction = true;\n    };\n    return FocusStrategy;\n}());\nexport { FocusStrategy };\n/**\n * Create matrix from row collection which act as mental model for cell navigation\n *\n * @hidden\n */\nvar Matrix = /** @class */ (function () {\n    function Matrix() {\n        this.matrix = [];\n        this.current = [];\n    }\n    Matrix.prototype.set = function (rowIndex, columnIndex, allow) {\n        rowIndex = Math.max(0, Math.min(rowIndex, this.rows));\n        columnIndex = Math.max(0, Math.min(columnIndex, this.columns));\n        this.matrix[rowIndex] = this.matrix[rowIndex] || [];\n        this.matrix[rowIndex][columnIndex] = allow ? 1 : 0;\n    };\n    Matrix.prototype.get = function (rowIndex, columnIndex, navigator, action, validator) {\n        var tmp = columnIndex;\n        if (rowIndex + navigator[0] < 0) {\n            return [rowIndex, columnIndex];\n        }\n        rowIndex = Math.max(0, Math.min(rowIndex + navigator[0], this.rows));\n        var emptyTable = true;\n        if (isNullOrUndefined(this.matrix[rowIndex])) {\n            return null;\n        }\n        columnIndex = Math.max(0, Math.min(columnIndex + navigator[1], this.matrix[rowIndex].length - 1));\n        if (tmp + navigator[1] > this.matrix[rowIndex].length - 1 && validator(rowIndex, columnIndex, action)) {\n            return [rowIndex, tmp];\n        }\n        var first = this.first(this.matrix[rowIndex], columnIndex, navigator, true, action);\n        columnIndex = first === null ? tmp : first;\n        var val = getValue(rowIndex + \".\" + columnIndex, this.matrix);\n        if (rowIndex === this.rows && (action === 'downArrow' || action === 'enter')) {\n            navigator[0] = -1;\n        }\n        if (first === null) {\n            for (var i = 0; i < this.rows; i++) {\n                if (this.matrix[i].some(function (v) { return v === 1; })) {\n                    emptyTable = false;\n                    break;\n                }\n            }\n            if (emptyTable) {\n                rowIndex = this.current[0];\n                return [rowIndex, columnIndex];\n            }\n        }\n        return this.inValid(val) || !validator(rowIndex, columnIndex, action) ?\n            this.get(rowIndex, tmp, navigator, action, validator) : [rowIndex, columnIndex];\n    };\n    Matrix.prototype.first = function (vector, index, navigator, moveTo, action) {\n        if (((index < 0 || index === vector.length) && this.inValid(vector[index])\n            && (action !== 'upArrow' && action !== 'downArrow')) || !vector.some(function (v) { return v === 1; })) {\n            return null;\n        }\n        return !this.inValid(vector[index]) ? index :\n            this.first(vector, (['upArrow', 'downArrow', 'shiftUp', 'shiftDown'].indexOf(action) !== -1) ? moveTo ? 0 : ++index : index + navigator[1], navigator, false, action);\n    };\n    Matrix.prototype.select = function (rowIndex, columnIndex) {\n        rowIndex = Math.max(0, Math.min(rowIndex, this.rows));\n        columnIndex = Math.max(0, Math.min(columnIndex, this.matrix[rowIndex].length - 1));\n        this.current = [rowIndex, columnIndex];\n    };\n    Matrix.prototype.generate = function (rows, selector, isRowTemplate) {\n        this.rows = rows.length - 1;\n        this.matrix = [];\n        for (var i = 0; i < rows.length; i++) {\n            var cells = rows[i].cells.filter(function (c) { return c.isSpanned !== true; });\n            this.columns = Math.max(cells.length - 1, this.columns | 0);\n            for (var j = 0; j < cells.length; j++) {\n                this.set(i, j, rows[i].visible === false ? false : selector(rows[i], cells[j], isRowTemplate));\n            }\n        }\n        return this.matrix;\n    };\n    Matrix.prototype.inValid = function (value) {\n        return value === 0 || value === undefined;\n    };\n    return Matrix;\n}());\nexport { Matrix };\n/**\n * @hidden\n */\nvar ContentFocus = /** @class */ (function () {\n    function ContentFocus(parent) {\n        var _this = this;\n        this.matrix = new Matrix();\n        this.lastIdxCell = false;\n        this.parent = parent;\n        this.keyActions = {\n            'rightArrow': [0, 1],\n            'tab': [0, 1],\n            'leftArrow': [0, -1],\n            'shiftTab': [0, -1],\n            'upArrow': [-1, 0],\n            'downArrow': [1, 0],\n            'shiftUp': [-1, 0],\n            'shiftDown': [1, 0],\n            'shiftRight': [0, 1],\n            'shiftLeft': [0, -1],\n            'enter': [1, 0],\n            'shiftEnter': [-1, 0]\n        };\n        this.indexesByKey = function (action) {\n            var opt = {\n                'home': [_this.matrix.current[0], -1, 0, 1],\n                'end': [_this.matrix.current[0], _this.matrix.columns + 1, 0, -1],\n                'ctrlHome': [0, -1, 0, 1],\n                'ctrlEnd': [_this.matrix.rows, _this.matrix.columns + 1, 0, -1]\n            };\n            return opt[action] || null;\n        };\n    }\n    ContentFocus.prototype.getTable = function () {\n        return (this.parent.isFrozenGrid() ?\n            this.parent.getContent().querySelector('.e-movablecontent .e-table') :\n            this.parent.getContentTable());\n    };\n    ContentFocus.prototype.onKeyPress = function (e) {\n        var navigator = this.keyActions[e.action];\n        var current = this.getCurrentFromAction(e.action, navigator, e.action in this.keyActions, e);\n        if (!current) {\n            return;\n        }\n        if ((['tab', 'shiftTab'].indexOf(e.action) > -1 && this.matrix.current || []).toString() === current.toString()) {\n            if (current.toString() === [this.matrix.rows, this.matrix.columns].toString() ||\n                current.toString() === [0, 0].toString() || (this.matrix.current[0] === this.matrix.rows &&\n                this.matrix.current.toString() === current.toString())) {\n                return false;\n            }\n            else {\n                current = this.editNextRow(current[0], current[1], e.action);\n            }\n        }\n        this.matrix.select(current[0], current[1]);\n    };\n    ContentFocus.prototype.editNextRow = function (rowIndex, cellIndex, action) {\n        var gObj = this.parent;\n        var editNextRow = gObj.editSettings.allowNextRowEdit && (gObj.isEdit || gObj.isLastCellPrimaryKey);\n        var visibleIndex = gObj.getColumnIndexByField(gObj.getVisibleColumns()[0].field);\n        var cell = this.getTable().rows[rowIndex].cells[cellIndex];\n        if (action === 'tab' && editNextRow) {\n            rowIndex++;\n            var index = (this.getTable().rows[rowIndex].getElementsByClassName('e-indentcell').length +\n                this.getTable().rows[rowIndex].getElementsByClassName('e-detailrowcollapse').length);\n            cellIndex = visibleIndex + index;\n        }\n        if (action === 'shiftTab' && editNextRow) {\n            rowIndex--;\n            cellIndex = gObj.getColumnIndexByField(gObj.getVisibleColumns()[gObj.getVisibleColumns().length - 1].field);\n        }\n        return !cell.classList.contains(literals.rowCell) && !cell.classList.contains('e-headercell') &&\n            !cell.classList.contains('e-groupcaption') ?\n            this.editNextRow(rowIndex, cellIndex, action) : [rowIndex, cellIndex];\n    };\n    ContentFocus.prototype.getCurrentFromAction = function (action, navigator, isPresent, e) {\n        if (navigator === void 0) { navigator = [0, 0]; }\n        if (!isPresent && !this.indexesByKey(action) || (this.matrix.current.length === 0)) {\n            return null;\n        }\n        if (!this.shouldFocusChange(e)) {\n            return this.matrix.current;\n        }\n        var _a = this.indexesByKey(action) || this.matrix.current.concat(navigator), rowIndex = _a[0], cellIndex = _a[1], rN = _a[2], cN = _a[3];\n        var current = this.matrix.get(rowIndex, cellIndex, [rN, cN], action, this.validator());\n        return current;\n    };\n    ContentFocus.prototype.onClick = function (e, force) {\n        var target = e.target;\n        this.target = target;\n        target = (target.classList.contains(literals.rowCell) ? target : closest(target, 'td'));\n        target = target ? target : closest(e.target, 'td.e-detailrowcollapse')\n            || closest(e.target, 'td.e-detailrowexpand');\n        target = closest(e.target, 'td.e-detailcell') ?\n            isNullOrUndefined(closest(closest(e.target, '.e-grid'), 'td.e-detailcell')) ? null : target : target;\n        target = target && closest(target, 'table').classList.contains(literals.table) ? target : null;\n        if (!target) {\n            return false;\n        }\n        var _a = [target.parentElement.rowIndex, target.cellIndex], rowIndex = _a[0], cellIndex = _a[1];\n        var _b = this.matrix.current, oRowIndex = _b[0], oCellIndex = _b[1];\n        var val = getValue(rowIndex + \".\" + cellIndex, this.matrix.matrix);\n        if (this.matrix.inValid(val) || (!force && oRowIndex === rowIndex && oCellIndex === cellIndex) ||\n            (!parentsUntil(e.target, literals.rowCell) && !parentsUntil(e.target, 'e-groupcaption'))) {\n            return false;\n        }\n        this.matrix.select(rowIndex, cellIndex);\n    };\n    ContentFocus.prototype.getFocusInfo = function () {\n        var info = {};\n        var _a = this.matrix.current, _b = _a[0], rowIndex = _b === void 0 ? 0 : _b, _c = _a[1], cellIndex = _c === void 0 ? 0 : _c;\n        this.matrix.current = [rowIndex, cellIndex];\n        info.element = !isNullOrUndefined(this.getTable().rows[rowIndex]) ? this.getTable().rows[rowIndex].cells[cellIndex] : null;\n        if (!info.element) {\n            return info;\n        }\n        info.elementToFocus = !info.element.classList.contains('e-unboundcell') && !info.element.classList.contains('e-detailcell')\n            ? this.getFocusable(info.element) : info.element;\n        info.outline = true;\n        info.uid = info.element.parentElement.getAttribute('data-uid');\n        return info;\n    };\n    ContentFocus.prototype.getFocusable = function (element) {\n        var query = 'button, [href], input:not([type=\"hidden\"]), select, textarea, [tabindex]:not([tabindex=\"-1\"])';\n        var isTemplate = !isNullOrUndefined(closest(element, '.e-templatecell'));\n        if (this.parent.isEdit) {\n            query = 'input:not([type=\"hidden\"]), select:not([aria-hidden=\"true\"]), textarea';\n        }\n        var child = [].slice.call(element.querySelectorAll(query));\n        /* Select the first focusable child element\n         * if no child found then select the cell itself.\n         * if Grid is in editable state, check for editable control inside child.\n         */\n        return child.length ? isTemplate && child.length > 1 ? this.target : child[0] : element;\n    };\n    ContentFocus.prototype.selector = function (row, cell, isRowTemplate) {\n        var types = [CellType.Expand, CellType.GroupCaption, CellType.CaptionSummary, CellType.GroupSummary];\n        return ((row.isDataRow && cell.visible && (cell.isDataCell || cell.isTemplate))\n            || (row.isDataRow && cell.cellType === CellType.DetailExpand && isNullOrUndefined(cell.visible))\n            || (!row.isDataRow && types.indexOf(cell.cellType) > -1)\n            || (cell.column && cell.visible && cell.column.type === 'checkbox')\n            || (cell.cellType === CellType.CommandColumn)\n            || (row.isDataRow && isRowTemplate))\n            && !(row.edit === 'delete' && row.isDirty);\n    };\n    ContentFocus.prototype.nextRowFocusValidate = function (index) {\n        var lastIndex = index;\n        for (var i = index, len = this.matrix.rows; i <= len; i++) {\n            if (this.matrix.matrix[index].indexOf(1) === -1) {\n                index = index + 1;\n            }\n            else {\n                return index;\n            }\n        }\n        this.lastIdxCell = true;\n        return lastIndex;\n    };\n    ContentFocus.prototype.previousRowFocusValidate = function (index) {\n        var firstIndex = index;\n        for (var i = index, len = 0; i >= len; i--) {\n            if (this.matrix.matrix[index].indexOf(1) === -1) {\n                index = index - 1;\n                if (index < 0) {\n                    this.lastIdxCell = true;\n                    return firstIndex;\n                }\n            }\n            else {\n                return index;\n            }\n        }\n        return firstIndex;\n    };\n    ContentFocus.prototype.jump = function (action, current) {\n        var frozenSwap = this.parent.getFrozenLeftCount() &&\n            ((action === 'leftArrow' || action === 'shiftTab') && current[1] === 0);\n        var right = ((action === 'rightArrow' || action === 'tab') && current[1] === this.matrix.columns);\n        var frSwap = this.parent.getFrozenMode() === literals.leftRight && right;\n        if (this.parent.getFrozenMode() === 'Right') {\n            frozenSwap = right;\n        }\n        this.lastIdxCell = false;\n        var enterFrozen = this.parent.frozenRows !== 0 && action === 'shiftEnter';\n        if (action === 'tab' && !this.parent.isEdit &&\n            current[1] === this.matrix.matrix[current[0]].lastIndexOf(1) && this.matrix.matrix.length - 1 !== current[0]) {\n            this.matrix.current[0] = this.nextRowFocusValidate(this.matrix.current[0] + 1);\n            this.matrix.current[1] = -1;\n            frozenSwap = this.parent.isFrozenGrid();\n        }\n        if (action === 'shiftTab' && !this.parent.isEdit &&\n            current[0] !== 0 && this.matrix.matrix[current[0]].indexOf(1) === current[1]) {\n            this.matrix.current[0] = this.previousRowFocusValidate(this.matrix.current[0] - 1);\n            this.matrix.current[1] = this.matrix.matrix[current[0]].length;\n        }\n        var isHeaderFocus = false;\n        var row = document.activeElement.parentElement;\n        if ((this.parent.enableVirtualization || this.parent.infiniteScrollSettings.enableCache)\n            && row.classList.contains(literals.row)) {\n            var rowIndex = parseInt(row.getAttribute(literals.ariaRowIndex), 10);\n            isHeaderFocus = rowIndex > 0;\n        }\n        var info = {\n            swap: !isHeaderFocus ? ((action === 'upArrow' || enterFrozen) && current[0] === 0) || frozenSwap || frSwap : false,\n            toHeader: (action === 'upArrow' || enterFrozen) && current[0] === 0,\n            toFrozen: frozenSwap,\n            toFrozenRight: frSwap\n        };\n        return info;\n    };\n    ContentFocus.prototype.getNextCurrent = function (previous, swap, active, action) {\n        if (previous === void 0) { previous = []; }\n        var current = [];\n        if (this.parent.getFrozenMode() === 'Right' || this.parent.getFrozenMode() === literals.leftRight) {\n            if (action === 'leftArrow' || action === 'shiftTab') {\n                current[0] = previous[0];\n                current[1] = active.matrix.columns + 1;\n            }\n            if (this.parent.getFrozenMode() === literals.leftRight && (action === 'rightArrow' || action === 'tab')) {\n                current[0] = previous[0];\n                current[1] = -1;\n            }\n        }\n        else if (action === 'rightArrow' || action === 'tab') {\n            current[0] = previous[0];\n            current[1] = -1;\n        }\n        if (action === 'downArrow' || action === 'enter') {\n            current[0] = -1;\n            current[1] = previous[1];\n        }\n        return current;\n    };\n    ContentFocus.prototype.generateRows = function (rows, optionals) {\n        var _a;\n        var matrix = optionals.matrix, handlerInstance = optionals.handlerInstance;\n        var len = handlerInstance.matrix.matrix.length;\n        var defaultLen = this.parent.allowFiltering && this.parent.filterSettings.type === 'FilterBar' ? len + 1 : len;\n        handlerInstance.matrix.matrix = handlerInstance.matrix.matrix.slice(0, defaultLen); //Header matrix update.\n        handlerInstance.matrix.rows = defaultLen;\n        (_a = handlerInstance.matrix.matrix).push.apply(_a, matrix);\n        handlerInstance.matrix.rows += matrix.length;\n    };\n    ContentFocus.prototype.getInfo = function (e) {\n        var info = this.getFocusInfo();\n        var _a = this.matrix.current, rIndex = _a[0], cIndex = _a[1];\n        var isData = info.element.classList.contains(literals.rowCell);\n        var isSelectable = isData || (e && e.action !== 'enter' && (info.element.classList.contains('e-detailrowcollapse')\n            || info.element.classList.contains('e-detailrowexpand')));\n        // eslint-disable-next-line max-len\n        var _b = [Math.min(parseInt(info.element.parentElement.getAttribute(literals.ariaRowIndex), 10), rIndex),\n            Math.min(parseInt(info.element.getAttribute(literals.ariaColIndex), 10), cIndex)], rowIndex = _b[0], cellIndex = _b[1];\n        return { isContent: true, isDataCell: isData, indexes: [rowIndex, cellIndex], isSelectable: isSelectable };\n    };\n    ContentFocus.prototype.validator = function () {\n        var table = this.getTable();\n        return function (rowIndex, cellIndex, action) {\n            if (!isNullOrUndefined(table.rows[rowIndex])) {\n                var cell = void 0;\n                cellIndex = table.querySelector('.e-emptyrow') ? 0 : cellIndex;\n                if (table.rows[rowIndex].cells[0].classList.contains('e-editcell')) {\n                    cell = table.rows[rowIndex].cells[0].querySelectorAll('td')[cellIndex];\n                }\n                else {\n                    cell = table.rows[rowIndex].cells[cellIndex];\n                }\n                var isCellWidth = cell.getBoundingClientRect().width !== 0;\n                if (action === 'enter' || action === 'shiftEnter') {\n                    return isCellWidth && cell.classList.contains(literals.rowCell);\n                }\n                if ((action === 'shiftUp' || action === 'shiftDown') && cell.classList.contains(literals.rowCell)) {\n                    return isCellWidth;\n                }\n                else if (action !== 'shiftUp' && action !== 'shiftDown') {\n                    return isCellWidth;\n                }\n            }\n            return false;\n        };\n    };\n    ContentFocus.prototype.shouldFocusChange = function (e) {\n        var _a = this.matrix.current, _b = _a[0], rIndex = _b === void 0 ? -1 : _b, _c = _a[1], cIndex = _c === void 0 ? -1 : _c;\n        if (rIndex < 0 || cIndex < 0) {\n            return true;\n        }\n        var cell = getValue(rIndex + \".cells.\" + cIndex, this.getTable().rows);\n        if (!cell) {\n            return true;\n        }\n        return e.action === 'enter' || e.action === 'shiftEnter' ?\n            cell.classList.contains(literals.rowCell) && !cell.classList.contains('e-unboundcell')\n                && (!cell.classList.contains('e-templatecell') || cell.classList.contains('e-editedbatchcell'))\n                && !cell.classList.contains('e-detailcell') : true;\n    };\n    ContentFocus.prototype.getGridSeletion = function () {\n        return this.parent.allowSelection && this.parent.selectionSettings.allowColumnSelection;\n    };\n    return ContentFocus;\n}());\nexport { ContentFocus };\n/**\n * @hidden\n */\nvar HeaderFocus = /** @class */ (function (_super) {\n    __extends(HeaderFocus, _super);\n    function HeaderFocus(parent) {\n        return _super.call(this, parent) || this;\n    }\n    HeaderFocus.prototype.getTable = function () {\n        return (this.parent.isFrozenGrid() ?\n            this.parent.getHeaderContent().querySelector('.e-movableheader .e-table') :\n            this.parent.getHeaderTable());\n    };\n    HeaderFocus.prototype.onClick = function (e) {\n        var target = e.target;\n        this.target = target;\n        target = (target.classList.contains('e-headercell') ? target : closest(target, 'th'));\n        if (!target && this.parent.frozenRows !== 0) {\n            target = (e.target.classList.contains(literals.rowCell) ? e.target :\n                closest(e.target, 'td'));\n        }\n        if (e.target.classList.contains('e-columnheader') ||\n            e.target.querySelector('.e-stackedheadercell')) {\n            return false;\n        }\n        if (!target) {\n            return;\n        }\n        var _a = [target.parentElement.rowIndex, target.cellIndex], rowIndex = _a[0], cellIndex = _a[1];\n        var val = getValue(rowIndex + \".\" + cellIndex, this.matrix.matrix);\n        if (this.matrix.inValid(val)) {\n            return false;\n        }\n        this.matrix.select(target.parentElement.rowIndex, target.cellIndex);\n    };\n    HeaderFocus.prototype.getFocusInfo = function () {\n        var info = {};\n        var _a = this.matrix.current, _b = _a[0], rowIndex = _b === void 0 ? 0 : _b, _c = _a[1], cellIndex = _c === void 0 ? 0 : _c;\n        info.element = this.getTable().rows[rowIndex].cells[cellIndex];\n        if (!isNullOrUndefined(info.element)) {\n            info.elementToFocus = this.getFocusable(info.element);\n            info.outline = !info.element.classList.contains('e-filterbarcell');\n        }\n        return info;\n    };\n    HeaderFocus.prototype.selector = function (row, cell) {\n        return (cell.visible && (cell.column.field !== undefined || cell.isTemplate || !isNullOrUndefined(cell.column.template))) ||\n            cell.column.type === 'checkbox' || cell.cellType === CellType.StackedHeader;\n    };\n    HeaderFocus.prototype.jump = function (action, current) {\n        var frozenSwap = this.parent.getFrozenLeftCount() &&\n            (action === 'leftArrow' || (action === 'shiftLeft' && this.getGridSeletion()) || action === 'shiftTab') && current[1] === 0;\n        var right = (action === 'rightArrow' || (action === 'shiftRight' && this.getGridSeletion())\n            || action === 'tab') && current[1] === this.matrix.columns;\n        var frSwap = this.parent.getFrozenMode() === literals.leftRight && right;\n        if (this.parent.getFrozenMode() === 'Right') {\n            frozenSwap = right;\n        }\n        var enterFrozen = this.parent.frozenRows !== 0 && action === 'enter';\n        var isLastCell;\n        var lastRow;\n        var headerSwap = frozenSwap || frSwap;\n        var fMatrix = this.parent.focusModule.fHeader && this.parent.focusModule.fHeader.matrix.matrix;\n        var isPresent = fMatrix && !isNullOrUndefined(fMatrix[current[0]]);\n        if (this.parent.enableHeaderFocus && action === 'tab') {\n            lastRow = this.matrix.matrix.length - 1 === current[0];\n            isLastCell = current[1] === this.matrix.matrix[current[0]].lastIndexOf(1);\n            if (isLastCell) {\n                if (!lastRow) {\n                    this.matrix.current[0] = this.matrix.current[0] + 1;\n                }\n                else {\n                    this.matrix.current[0] = 0;\n                }\n                this.matrix.current[1] = -1;\n            }\n            if (this.parent.isFrozenGrid() && lastRow && isLastCell) {\n                frozenSwap = true;\n                headerSwap = false;\n            }\n        }\n        return {\n            swap: ((action === 'downArrow' || enterFrozen) && current[0] === this.matrix.matrix.length - 1) ||\n                (isPresent && (frozenSwap || frSwap)) || (action === 'tab' && lastRow && isLastCell),\n            toHeader: headerSwap,\n            toFrozen: frozenSwap,\n            toFrozenRight: frSwap\n        };\n    };\n    HeaderFocus.prototype.getNextCurrent = function (previous, swap, active, action) {\n        if (previous === void 0) { previous = []; }\n        var current1 = [];\n        if (this.parent.getFrozenMode() === 'Right' || this.parent.getFrozenMode() === literals.leftRight) {\n            if (action === 'leftArrow' || (action === 'shiftLeft' && this.getGridSeletion()) || action === 'shiftTab') {\n                current1[0] = previous[0];\n                current1[1] = active.matrix.columns + 1;\n            }\n            if (this.parent.getFrozenMode() === literals.leftRight\n                && (action === 'rightArrow' || (action === 'shiftRight' && this.getGridSeletion()) || action === 'tab')) {\n                current1[0] = previous[0];\n                current1[1] = -1;\n            }\n        }\n        else if (action === 'rightArrow' || (action === 'shiftRight' && this.getGridSeletion()) || action === 'tab') {\n            current1[0] = previous[0];\n            current1[1] = -1;\n        }\n        if (action === 'upArrow' || action === 'shiftEnter') {\n            current1[0] = this.matrix.matrix.length;\n            current1[1] = previous[1];\n        }\n        return current1;\n    };\n    HeaderFocus.prototype.generateRows = function (rows) {\n        var length = this.matrix.matrix.length;\n        if (this.parent.allowFiltering && this.parent.filterSettings.type === 'FilterBar') {\n            this.matrix.rows = ++this.matrix.rows;\n            var cells = rows[0].cells;\n            for (var i = 0; i < cells.length; i++) {\n                this.matrix.set(length, i, cells[i].visible && cells[i].column.allowFiltering !== false);\n            }\n        }\n    };\n    HeaderFocus.prototype.getInfo = function (e) {\n        return extend(_super.prototype.getInfo.call(this, e), { isContent: false, isHeader: true });\n    };\n    HeaderFocus.prototype.validator = function () {\n        return function () { return true; };\n    };\n    HeaderFocus.prototype.shouldFocusChange = function (e) {\n        var _a = this.matrix.current, rowIndex = _a[0], columnIndex = _a[1];\n        if (rowIndex < 0 || columnIndex < 0) {\n            return true;\n        }\n        var cell = getValue(rowIndex + \".cells.\" + columnIndex, this.getTable().rows);\n        if (!cell) {\n            return true;\n        }\n        return e.action === 'enter' || e.action === 'altDownArrow' ? !cell.classList.contains('e-headercell') : true;\n    };\n    return HeaderFocus;\n}(ContentFocus));\nexport { HeaderFocus };\nvar FixedContentFocus = /** @class */ (function (_super) {\n    __extends(FixedContentFocus, _super);\n    function FixedContentFocus() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    FixedContentFocus.prototype.getTable = function () {\n        return this.parent.getContent().querySelector('.e-frozencontent .e-table');\n    };\n    FixedContentFocus.prototype.jump = function (action, current) {\n        var enterFrozen = this.parent.frozenRows !== 0 && action === 'shiftEnter';\n        var toHeader = (action === 'upArrow' || enterFrozen) && current[0] === 0;\n        if (this.parent.getFrozenMode() === 'Right') {\n            var swap = toHeader || ((action === 'shiftTab' || action === 'leftArrow') && current[1] === 0);\n            return { swap: swap, toHeader: toHeader, toFrozen: toHeader };\n        }\n        return {\n            swap: toHeader || ((action === 'tab' || action === 'rightArrow') && current[1] === this.matrix.columns),\n            toHeader: toHeader,\n            toFrozen: toHeader\n        };\n    };\n    FixedContentFocus.prototype.getNextCurrent = function (previous, swap, active, action) {\n        if (previous === void 0) { previous = []; }\n        var current2 = [];\n        if (this.parent.getFrozenMode() === 'Right') {\n            if (action === 'rightArrow' || action === 'tab') {\n                current2[0] = previous[0];\n                current2[1] = -1;\n            }\n        }\n        else {\n            if (action === 'tab' && this.parent.enableHeaderFocus) {\n                current2[0] = previous[0];\n                current2[1] = -1;\n            }\n            if (action === 'leftArrow' || action === 'shiftTab') {\n                current2[0] = previous[0];\n                current2[1] = active.matrix.columns + 1;\n            }\n        }\n        if (action === 'downArrow' || action === 'enter') {\n            current2[0] = -1;\n            current2[1] = previous[1];\n        }\n        return current2;\n    };\n    return FixedContentFocus;\n}(ContentFocus));\nexport { FixedContentFocus };\nvar FixedHeaderFocus = /** @class */ (function (_super) {\n    __extends(FixedHeaderFocus, _super);\n    function FixedHeaderFocus() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    FixedHeaderFocus.prototype.jump = function (action, current) {\n        var enterFrozen = this.parent.frozenRows !== 0 && action === 'enter';\n        var hMatrix = this.parent.focusModule.header && this.parent.focusModule.header.matrix.matrix;\n        var isPresent = hMatrix && !isNullOrUndefined(hMatrix[current[0]]);\n        if (this.parent.getFrozenMode() === 'Right') {\n            var frSwap = (action === 'leftArrow' || (action === 'shiftLeft' && this.getGridSeletion())\n                || action === 'shiftTab') && current[1] === 0;\n            var swap = ((action === 'downArrow' || enterFrozen) && current[0] === this.matrix.matrix.length - 1) ||\n                (isPresent && frSwap);\n            var toFrozen = (action === 'downArrow' || enterFrozen) && current[0] === this.matrix.matrix.length - 1;\n            return { swap: swap, toHeader: frSwap, toFrozen: toFrozen };\n        }\n        return {\n            swap: (action === 'downArrow' || enterFrozen) && current[0] === this.matrix.matrix.length - 1 || ((action === 'rightArrow' ||\n                (action === 'shiftRight' && this.getGridSeletion()) || action === 'tab') &&\n                current[1] === this.matrix.columns && isPresent),\n            toHeader: (action === 'rightArrow' || (action === 'shiftRight' && this.getGridSeletion()) || action === 'tab') &&\n                current[1] === this.matrix.columns,\n            toFrozen: (action === 'downArrow' || enterFrozen) && current[0] === this.matrix.matrix.length - 1\n        };\n    };\n    FixedHeaderFocus.prototype.getTable = function () {\n        return (this.parent.getHeaderContent().querySelector('.e-frozenheader .e-table'));\n    };\n    FixedHeaderFocus.prototype.getNextCurrent = function (previous, swap, active, action) {\n        if (previous === void 0) { previous = []; }\n        var current3 = [];\n        if (this.parent.getFrozenMode() === 'Right') {\n            if (action === 'rightArrow' || (action === 'shiftRight' && this.getGridSeletion()) || action === 'tab') {\n                current3[0] = previous[0];\n                current3[1] = -1;\n            }\n        }\n        else {\n            if (action === 'leftArrow' || (action === 'shiftLeft' && this.getGridSeletion()) || action === 'shiftTab') {\n                current3[0] = previous[0];\n                current3[1] = active.matrix.columns + 1;\n            }\n        }\n        if (action === 'upArrow' || action === 'shiftEnter') {\n            current3[0] = this.matrix.matrix.length;\n            current3[1] = previous[1];\n        }\n        return current3;\n    };\n    return FixedHeaderFocus;\n}(HeaderFocus));\nexport { FixedHeaderFocus };\n/** @hidden */\nvar SearchBox = /** @class */ (function () {\n    function SearchBox(searchBox) {\n        this.searchBox = searchBox;\n    }\n    SearchBox.prototype.searchFocus = function (args) {\n        args.target.parentElement.classList.add('e-input-focus');\n    };\n    SearchBox.prototype.searchBlur = function (args) {\n        args.target.parentElement.classList.remove('e-input-focus');\n    };\n    SearchBox.prototype.wireEvent = function () {\n        if (this.searchBox) {\n            EventHandler.add(this.searchBox, 'focus', this.searchFocus, this);\n            EventHandler.add(this.searchBox, 'blur', this.searchBlur, this);\n        }\n    };\n    SearchBox.prototype.unWireEvent = function () {\n        if (this.searchBox) {\n            EventHandler.remove(this.searchBox, 'focus', this.searchFocus);\n            EventHandler.remove(this.searchBox, 'blur', this.searchBlur);\n        }\n    };\n    return SearchBox;\n}());\nexport { SearchBox };\nvar FixedRightContentFocus = /** @class */ (function (_super) {\n    __extends(FixedRightContentFocus, _super);\n    function FixedRightContentFocus() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    FixedRightContentFocus.prototype.getTable = function () {\n        return this.parent.getContent().querySelector('.e-frozen-right-content .e-table');\n    };\n    FixedRightContentFocus.prototype.jump = function (action, current) {\n        var enterFrozen = this.parent.frozenRows !== 0 && action === 'shiftEnter';\n        var toHeader = (action === 'upArrow' || enterFrozen) && current[0] === 0;\n        return {\n            swap: toHeader || ((action === 'shiftTab' || action === 'leftArrow') && current[1] === 0),\n            toHeader: toHeader,\n            toFrozenRight: toHeader\n        };\n    };\n    FixedRightContentFocus.prototype.getNextCurrent = function (previous, swap, active, action) {\n        if (previous === void 0) { previous = []; }\n        var current2 = [];\n        if (action === 'rightArrow' || action === 'tab') {\n            current2[0] = previous[0];\n            current2[1] = -1;\n        }\n        if (action === 'downArrow' || action === 'enter') {\n            current2[0] = -1;\n            current2[1] = previous[1];\n        }\n        return current2;\n    };\n    return FixedRightContentFocus;\n}(ContentFocus));\nexport { FixedRightContentFocus };\nvar FixedRightHeaderFocus = /** @class */ (function (_super) {\n    __extends(FixedRightHeaderFocus, _super);\n    function FixedRightHeaderFocus() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    FixedRightHeaderFocus.prototype.jump = function (action, current) {\n        var headerMat = this.parent.focusModule.header && this.parent.focusModule.header.matrix.matrix;\n        var isPresent = headerMat && !isNullOrUndefined(headerMat[current[0]]);\n        var enterFrozen = this.parent.frozenRows !== 0 && action === 'enter';\n        var frozenSwap = (action === 'leftArrow' || (action === 'shiftLeft' && this.getGridSeletion())\n            || action === 'shiftTab') && current[1] === 0;\n        var swap = ((action === 'downArrow' || enterFrozen) && current[0] === this.matrix.matrix.length - 1) ||\n            (isPresent && frozenSwap);\n        var toFrozen = (action === 'downArrow' || enterFrozen) && current[0] === this.matrix.matrix.length - 1;\n        return { swap: swap, toHeader: frozenSwap, toFrozenRight: toFrozen };\n    };\n    FixedRightHeaderFocus.prototype.getTable = function () {\n        return (this.parent.getHeaderContent().querySelector('.e-frozen-right-header .e-table'));\n    };\n    FixedRightHeaderFocus.prototype.getNextCurrent = function (previous, swap, active, action) {\n        if (previous === void 0) { previous = []; }\n        var current3 = [];\n        if (action === 'rightArrow' || (action === 'shiftRight' && this.getGridSeletion()) || action === 'tab') {\n            current3[0] = previous[0];\n            current3[1] = 0;\n        }\n        if (action === 'upArrow' || action === 'shiftEnter') {\n            current3[0] = this.matrix.matrix.length;\n            current3[1] = previous[1];\n        }\n        return current3;\n    };\n    return FixedRightHeaderFocus;\n}(HeaderFocus));\nexport { FixedRightHeaderFocus };\n","import { isNullOrUndefined, getValue, setValue } from '@syncfusion/ej2-base';\nimport { Row } from '../models/row';\nimport { CellType } from '../base/enum';\nimport { Cell } from '../models/cell';\nimport { getUid } from '../base/util';\nimport { getForeignData } from '../../grid/base/util';\nimport * as events from '../base/constant';\n/**\n * RowModelGenerator is used to generate grid data rows.\n *\n * @hidden\n */\nvar RowModelGenerator = /** @class */ (function () {\n    /**\n     * Constructor for header renderer module\n     *\n     * @param {IGrid} parent - specifies the IGrid\n     */\n    function RowModelGenerator(parent) {\n        this.parent = parent;\n    }\n    RowModelGenerator.prototype.generateRows = function (data, args) {\n        var rows = [];\n        var startIndex = this.parent.enableVirtualization && args ? args.startIndex : 0;\n        startIndex = this.parent.enableInfiniteScrolling && args ? this.getInfiniteIndex(args) : startIndex;\n        for (var i = 0, len = Object.keys(data).length; i < len; i++, startIndex++) {\n            rows[i] = this.generateRow(data[i], startIndex);\n        }\n        return rows;\n    };\n    RowModelGenerator.prototype.ensureColumns = function () {\n        //TODO: generate dummy column for group, detail here;\n        var cols = [];\n        if (this.parent.detailTemplate || this.parent.childGrid) {\n            var args = {};\n            this.parent.notify(events.detailIndentCellInfo, args);\n            cols.push(this.generateCell(args, null, CellType.DetailExpand));\n        }\n        if (this.parent.isRowDragable()) {\n            cols.push(this.generateCell({}, null, CellType.RowDragIcon));\n        }\n        return cols;\n    };\n    RowModelGenerator.prototype.generateRow = function (data, index, cssClass, indent, pid, tIndex, parentUid) {\n        var options = {};\n        options.foreignKeyData = {};\n        options.uid = getUid('grid-row');\n        options.data = data;\n        options.index = index;\n        options.indent = indent;\n        options.tIndex = tIndex;\n        options.isDataRow = true;\n        options.parentGid = pid;\n        options.parentUid = parentUid;\n        if (this.parent.isPrinting) {\n            if (this.parent.hierarchyPrintMode === 'All') {\n                options.isExpand = true;\n            }\n            else if (this.parent.hierarchyPrintMode === 'Expanded' && this.parent.expandedRows && this.parent.expandedRows[index]) {\n                options.isExpand = this.parent.expandedRows[index].isExpand;\n            }\n        }\n        options.cssClass = cssClass;\n        options.isAltRow = this.parent.enableAltRow ? index % 2 !== 0 : false;\n        options.isAltRow = this.parent.enableAltRow ? index % 2 !== 0 : false;\n        options.isSelected = this.parent.getSelectedRowIndexes().indexOf(index) > -1;\n        this.refreshForeignKeyRow(options);\n        var cells = this.ensureColumns();\n        var row = new Row(options, this.parent);\n        row.cells = this.parent.getFrozenMode() === 'Right' ? this.generateCells(options).concat(cells)\n            : cells.concat(this.generateCells(options));\n        return row;\n    };\n    RowModelGenerator.prototype.refreshForeignKeyRow = function (options) {\n        var foreignKeyColumns = this.parent.getForeignKeyColumns();\n        for (var i = 0; i < foreignKeyColumns.length; i++) {\n            setValue(foreignKeyColumns[i].field, getForeignData(foreignKeyColumns[i], options.data), options.foreignKeyData);\n        }\n    };\n    RowModelGenerator.prototype.generateCells = function (options) {\n        var dummies = this.parent.getColumns();\n        var tmp = [];\n        for (var i = 0; i < dummies.length; i++) {\n            tmp.push(this.generateCell(dummies[i], options.uid, isNullOrUndefined(dummies[i].commands) ? undefined : CellType.CommandColumn, null, i, options.foreignKeyData));\n        }\n        return tmp;\n    };\n    /**\n     *\n     * @param {Column} column - Defines column details\n     * @param {string} rowId - Defines row id\n     * @param {CellType} cellType  - Defines cell type\n     * @param {number} colSpan - Defines colSpan\n     * @param {number} oIndex - Defines index\n     * @param {Object} foreignKeyData - Defines foreign key data\n     * @returns {Cell<Column>} returns cell model\n     * @hidden\n     */\n    RowModelGenerator.prototype.generateCell = function (column, rowId, cellType, colSpan, oIndex, foreignKeyData) {\n        var opt = {\n            'visible': column.visible,\n            'isDataCell': !isNullOrUndefined(column.field || column.template),\n            'isTemplate': !isNullOrUndefined(column.template),\n            'rowID': rowId,\n            'column': column,\n            'cellType': !isNullOrUndefined(cellType) ? cellType : CellType.Data,\n            'colSpan': colSpan,\n            'commands': column.commands,\n            'isForeignKey': column.isForeignColumn && column.isForeignColumn(),\n            'foreignKeyData': column.isForeignColumn && column.isForeignColumn() && getValue(column.field, foreignKeyData)\n        };\n        if (opt.isDataCell || opt.column.type === 'checkbox' || opt.commands) {\n            opt.index = oIndex;\n        }\n        return new Cell(opt);\n    };\n    RowModelGenerator.prototype.refreshRows = function (input) {\n        for (var i = 0; i < input.length; i++) {\n            this.refreshForeignKeyRow(input[i]);\n            input[i].cells = this.generateCells(input[i]);\n        }\n        return input;\n    };\n    RowModelGenerator.prototype.getInfiniteIndex = function (args) {\n        return args.requestType === 'infiniteScroll' || args.requestType === 'delete' || args.action === 'add'\n            ? args.startIndex : 0;\n    };\n    return RowModelGenerator;\n}());\nexport { RowModelGenerator };\n","import { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { Internationalization, setCulture } from '@syncfusion/ej2-base';\n/**\n * ValueFormatter class to globalize the value.\n *\n * @hidden\n */\nvar ValueFormatter = /** @class */ (function () {\n    function ValueFormatter(cultureName) {\n        this.intl = new Internationalization();\n        if (!isNullOrUndefined(cultureName)) {\n            this.intl.culture = cultureName;\n        }\n    }\n    ValueFormatter.prototype.getFormatFunction = function (format) {\n        if (format.type) {\n            return this.intl.getDateFormat(format);\n        }\n        else {\n            return this.intl.getNumberFormat(format);\n        }\n    };\n    ValueFormatter.prototype.getParserFunction = function (format) {\n        if (format.type) {\n            return this.intl.getDateParser(format);\n        }\n        else {\n            return this.intl.getNumberParser(format);\n        }\n    };\n    ValueFormatter.prototype.fromView = function (value, format, type) {\n        if ((type === 'date' || type === 'datetime' || type === 'number') && (!isNullOrUndefined(format))) {\n            return format(value);\n        }\n        else {\n            return value;\n        }\n    };\n    ValueFormatter.prototype.toView = function (value, format) {\n        var result = value;\n        if (!isNullOrUndefined(format) && !isNullOrUndefined(value)) {\n            result = format(value);\n        }\n        return result;\n    };\n    ValueFormatter.prototype.setCulture = function (cultureName) {\n        if (!isNullOrUndefined(cultureName)) {\n            setCulture(cultureName);\n        }\n    };\n    return ValueFormatter;\n}());\nexport { ValueFormatter };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { ComplexBase } from '@syncfusion/ej2-react-base';\n/**\n * `ColumnDirective` represent a column of the react Grid.\n * It must be contained in a Grid component(`GridComponent`).\n * ```tsx\n * <GridComponent dataSource={data} allowPaging={true} allowSorting={true}>\n * <ColumnsDirective>\n * <ColumnDirective field='ID' width='100'></ColumnDirective>\n * <ColumnDirective field='name' headerText='Name' width='100'></ColumnDirective>\n * <ColumnsDirective>\n * </GridComponent>\n * ```\n */\nvar ColumnDirective = /** @class */ (function (_super) {\n    __extends(ColumnDirective, _super);\n    function ColumnDirective() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ColumnDirective.moduleName = 'column';\n    ColumnDirective.complexTemplate = { 'filterItemTemplate': 'filter.itemTemplate' };\n    return ColumnDirective;\n}(ComplexBase));\nexport { ColumnDirective };\nvar ColumnsDirective = /** @class */ (function (_super) {\n    __extends(ColumnsDirective, _super);\n    function ColumnsDirective() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ColumnsDirective.propertyName = 'columns';\n    ColumnsDirective.moduleName = 'columns';\n    return ColumnsDirective;\n}(ComplexBase));\nexport { ColumnsDirective };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport * as React from 'react';\nimport { Grid } from '@syncfusion/ej2-grids';\nimport { ComponentBase, applyMixins } from '@syncfusion/ej2-react-base';\n/**\n * `GridComponent` represents the react Grid.\n * ```tsx\n * <GridComponent dataSource={data} allowPaging={true} allowSorting={true}/>\n * ```\n */\nvar GridComponent = /** @class */ (function (_super) {\n    __extends(GridComponent, _super);\n    function GridComponent(props) {\n        var _this = _super.call(this, props) || this;\n        _this.initRenderCalled = false;\n        _this.checkInjectedModules = true;\n        _this.directivekeys = { 'columns': { 'column': { 'stackedColumns': 'stackedColumn' } }, 'aggregates': { 'aggregate': { 'aggregateColumns': 'aggregateColumn' } } };\n        _this.immediateRender = false;\n        _this.portals = [];\n        return _this;\n    }\n    GridComponent.prototype.render = function () {\n        if (((this.element && !this.initRenderCalled) || this.refreshing) && !this.isReactForeceUpdate) {\n            _super.prototype.render.call(this);\n            this.initRenderCalled = true;\n        }\n        else {\n            return React.createElement('div', this.getDefaultAttributes(), [].concat(this.props.children, this.portals));\n        }\n    };\n    return GridComponent;\n}(Grid));\nexport { GridComponent };\napplyMixins(GridComponent, [ComponentBase, React.Component]);\n"],"names":["NumericContainer","pagerModule","this","prototype","render","pagerElement","element","renderNumericContainer","refreshNumericLinks","wireEvents","refresh","updateTotalPages","links","length","updateLinksHtml","updateStyles","link","pagerObj","div","querySelector","frag","document","createDocumentFragment","innerHTML","i","pageCount","createElement","className","attrs","role","tabindex","href","name","currentPage","classList","appendChild","slice","call","childNodes","EventHandler","add","clickHandler","unwireEvents","remove","destroy","renderFirstNPrev","renderPrevPagerSet","renderNextPagerSet","renderNextNLast","pagerContainer","first","title","getLocalizedLabel","prev","append","prevPager","PP","nextPager","NP","next","last","e","target","previousPageNo","contains","isNullOrUndefined","getAttribute","parseInt","dataBind","currentPageSet","pageNo","totalPages","toString","style","display","setAttribute","customText","updateFirstNPrevStyles","updatePrevPagerSetStyles","updateNextPagerSetStyles","updateNextNLastStyles","firstPage","firstPageDisabled","prevPage","prevPageDisabled","replace","lastPage","lastPageDisabled","nextPage","nextPageDisabled","totalRecordsCount","PagerMessage","pageNoMsgElem","styles","pageCountMsgElem","textContent","format","pageSize","parentElement","hideMessage","showMessage","str","args","regx","RegExp","__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","create","__decorate","decorators","key","desc","c","arguments","r","getOwnPropertyDescriptor","Reflect","decorate","defineProperty","Pager","_super","options","_this","hasParent","pageRefresh","requiredModules","modules","enableExternalMessage","push","member","checkpagesizes","preRender","defaultConstants","currentPageInfo","totalItemsInfo","totalItemInfo","firstPageTooltip","lastPageTooltip","nextPageTooltip","previousPageTooltip","nextPagerTooltip","previousPagerTooltip","pagerDropDown","pagerAllDropDown","CurrentPageInfo","TotalItemsInfo","FirstPageTooltip","LastPageTooltip","NextPageTooltip","PreviousPageTooltip","NextPagerTooltip","PreviousPagerTooltip","PagerDropDown","PagerAllDropDown","All","containerModule","pagerMessageModule","template","isReactTemplate","on","pagerTemplate","notify","initLocalization","updateRTL","renderFirstPrevDivForDevice","enablePagerMessage","renderNextLastDivForDevice","pagerdropdownModule","addAriaLabel","externalMessageModule","trigger","getPersistData","addOnPersist","isDestroyed","off","destroyTemplate","propertyNames","index","clearTemplate","getModuleName","onPropertyChanged","newProp","oldProp","_i","_a","keys","checkGoToPage","currentPageChanged","setDropDownValue","templateFn","compile","localeObj","getConstant","goToPage","setPageSize","pageSizes","newPageNo","oldPageNo","enableQueryString","updateQueryString","cancel","result","data","tempId","id","isVue","getPagerTemplate","renderReactTemplates","appendChildren","isAllPage","querySelectorAll","templateCompiler","trim","enableRtl","L10n","locale","value","updatedUrl","getUpdatedURL","window","location","history","pushState","path","uri","match","hash","indexOf","Browser","isDevice","isReact","Property","Event","NotifyPropertyChanges","Component","pagerDropDownDiv","dropDownDiv","defaultTextDiv","input","type","pagerCons","pageSizesModule","pageSizesArray","convertValue","defaultValue","dropDownListObject","DropDownList","dataSource","change","onChange","bind","cssClass","appendTo","addEventListener","getElementsByClassName","beforeValueChange","prop","val","pageSizeValue","item","removeEventListener","ExternalMessage","externalMessage","Page","parent","pageSettings","isInitialRender","isCancel","Inject","gObj","pagerDestroy","pageTemplateChange","gridExtend","extend","getActualProperties","click","dropDownChanged","onSelect","created","addAriaAttr","events","renderReactPagerTemplate","allowServerDataBinding","isInitialLoad","numericContainerNew","numericContainer","getContentTable","numericContainerDiv","replaceChild","j","dataReady","updateModel","count","onActionComplete","requestType","module","properties","isForceCancel","isActionPrevent","prevPageMoving","instance","handler","arg1","previousPage","requestTypeAction","keyPressHandler","action","keyActions","preventDefault","updateExternalMessage","message","appendToElement","setGridPager","enableAfterRender","enable","handlers","load","end","ready","complete","updateLayout","inboundChange","keyPress","literals","evtHandlers","event","addRemoveEventListener","page","renderTemplates","pageUp","pageDown","ctrlAltPageDown","ctrlAltPageUp","altPageUp","altPageDown","Print","scrollModule","isAsyncPrint","defered","Deferred","isContentReady","actionBeginFunction","actionBegin","onEmpty","hierarchyPrint","isPrintGrid","hierarchyPrintMode","childGrid","promise","then","contentReady","removeColGroup","printGridObj","printModule","resolve","print","renderPrintGrid","body","printGrid","Grid","getPrintGridModel","columns","isFrozenGrid","getFrozenColumns","freeze","undefined","isAngular","viewContainerRef","query","getQuery","clone","isPrinting","getInjectedModules","injectedModues","setInjectedModules","printgrid","log","registeredTemplate","selectedRows","detach","height","cssProps","getCssProperties","contentDiv","headerDiv","overflowY","padding","firstElementChild","border","allowGrouping","groupSettings","overflowX","waitingPop","_b","_c","printGridElement","printWind","open","outerHeight","outerWidth","moveTo","resizeTo","screen","availWidth","availHeight","printWindow","depth","groupCaption","selectAll","colSpan","colGroups","contentColGroups","hideColGroup","children","printGridProp","concat","Search","search","searchString","searchSettings","refreshSearch","onSearchComplete","actionCompleteFunc","cancelBeginEvent","setProperties","__assign","assign","t","s","n","apply","Selection","selectionSettings","locator","selectedRowIndexes","selectedRowCellIndexes","selectedRecords","preventFocus","selectedColumnsIndexes","checkBoxState","isMultiShiftRequest","isMultiCtrlRequest","enableSelectMultiTouch","clearRowCheck","selectRowCheck","selectedRowState","chkAllCollec","isCheckedOnAdd","persistSelectedData","deSelectedData","needColumnSelection","isCancelDeSelect","isPreventCellSelect","disableUI","isPersisted","cmdKeyPressed","cellselected","isMultiSelection","isAddRowsToSelection","initialRowSelection","isPrevRowSelection","isKeyAction","isRowDragSelected","autoFillRLselection","bottom","top","right_bottom","bottom_left","top_right","top_left","top_bottom","top_right_bottom","top_bottom_left","top_right_left","right_bottom_left","all_border","factory","getService","focus","initializeSelection","onActionBegin","fDataUpdate","cellIndex","rowIndex","rowObj","getRowObj","currentIndex","foreignKeyData","gridElement","hidePopUp","clearSelection","unWireEvents","getContent","mouseDownHandler","getHeaderContent","isEditing","editSettings","mode","editModule","formObj","validate","isEdit","isPersistSelection","getSelectedMovableRow","getMovableRowByIndex","getSelectedFrozenRightRow","getFrozenMode","getFrozenRightContent","getFrozenRightRowByIndex","getCurrentBatchRecordChanges","currentRecords","iterateExtend","getCurrentViewRecords","newRowPosition","getBatchChanges","deletedRecords","primaryKey","getPrimaryKeyFieldNames","splice","selectRow","isToggle","enableSimpleMultiRowSelection","addRowsToSelection","selectData","selectedRow","getRowByIndex","selectedMovableRow","selectedFrozenRightRow","isRemoved","enableVirtualization","selectedIndex","isAvailable","frozenData","contentModule","getRowObjectByIndex","getRowObjectFromUID","persistSelection","getSelectedRecords","clearRowSelection","isRowType","isRowSelected","hasAttribute","activeTarget","isCheckBoxSelection","can","rowSelectingCallBack","isCtrlPressed","isShiftPressed","row","previousRow","prevRowIndex","previousRowIndex","actualTarget","isInteracted","isHeaderCheckboxClicked","addMovableArgs","toggle","removed","checkboxMode","clearSelectedRow","selectRowCallBack","clearRow","disableInteracted","updateRowSelection","selectMovableRow","selectRowIndex","isHeaderCheckBoxClicked","updateRowProps","targetObj","mRow","frRow","mObj","previousMovRow","getMovableRows","getFrozenRightDataRows","selectRowsByRange","startIndex","endIndex","selectRows","getCollectionFromIndexes","selectedDataUpdate","selectedData","rowIndexes","len","currentRow","getDataRows","isSingleSel","prevRow","getRows","selectRowFn","rightEle","rowIndexes_1","indexes","getSelectedRowIndexes","checkboxOnly","checkboxColumn","getColumns","filter","col","rowIndexes_2","isUnSelected","enableToggle","rowDeselect","removeAttribute","addRemoveClassesForRow","max","reverse","clearRowCallBack","checkAllRows","selectedEle","updatePersistCollection","updateCheckBoxes","chkState","ensureCheckboxFieldSelection","pKey_1","isSelected","some","updatePersistDelete","pKey","chkBox","removeAddCboxClasses","nextElementSibling","setChecked","checkedTarget","setCheckAllState","pop","getPrevIndexes","cells","contextMenuModule","mouseButton","cell","onClick","checkSelectAllClicked","span","clearCellSelection","clearColumnSelection","prevCIdxs","prevECIdxs","rows_1","data_1","row_1","mRow_1","fRightRow_1","rowIndex_1","foreignKeyData_1","target_1","mRows","frRows","getFrozenRightRows","isRowClicked","getCheckAllStatus","updatePersistSelectedData","record","movableRow","rowDeselectCallBack","frozenRightRow","isSingleDeSel","rowDeselectObj","rowInString","rowidxex","dataTxt","foreignKey","closest","getSelectedMovableCell","getColumnByIndex","getFreezeTableName","getMovableCellFromIndex","getColIndex","selectCell","isCellType","selectedCell","getCellFromIndex","isCellSelected","isUndefined","successCallBack","previousRowCell","getCellIndex","cellSelectingArgs","currentCell","clearCell","updateCellSelection","selectedRowCellIndex","updateCellProps","rIdx","cIdx","selectCellsByRange","min","frzCols","cellIndexes","stIndex","edIndex","temp","cellSelectionMode","getLastColIndex","addAttribute","cellSelectedArgs","isDragged","selectCells","rowCellIndexes","cellSelectArgs","cellLen","addRowCellIndex","addCellsToSelection","left","getFrozenLeftCount","movable","getMovableColumnsCount","hideAutoFill","gridActionHandler","tableName","rows","getRowsObject","getMovableRowsObject","getFrozenRightRowsObject","cellIndexes_1","idx","prvRowCellIndex","selectedCellIdx","cellDeselect","getCellsByTableName","m","getFrozenLeftColumnsCount","getMovableDataRows","rowCellIndex","isRowAvail","selectedCells","getSelectedCellsElement","rowCell","currentViewData","cLen","getCellByColAndRowIndex","bdrElement","showHideBorders","addMovableRows","mouseMoveHandler","tmp","gBRect","getBoundingClientRect","x1","x","y1","y","position","getPosition","x2","y2","isCellDrag","elementFromPoint","offsetLeft","clientY","width","ctrlKey","shiftKey","td","parentsUntil","startAFCell","startCell","endAFCell","selectLikeExcel","startDIndex","isAutoFillSel","showAFBorders","selectLikeAutoFill","startDCellIndex","drawBorders","createBorders","positionBorders","isLastCell","isLastRow","isFirstRow","isFirstCell","setBorders","parentEle","bdrStr","ele","isFrozen","start","stOff","endOff","parentOff","offsetParent","rowHeight","topOffSet","frozenRows","leftOffset","rightOffset","right","selectDirection","updateStartEndCells","getMovableContent","mcBdrElement","frcBdrElement","getHeaderTable","fhBdrElement","headerModule","getMovableHeader","mhBdrElement","getFrozenRightHeader","frhBdrElement","applyBorders","applyBothFrozenBorders","rtl","borderWidth","includes","drawAFBorders","bdrAFBottom","createAFBorders","positionAFBorders","bdrAFLeft","firstCellTop","firstCellLeft","parentRect","sTop","scrollTop","sLeft","scrollLeft","offsetTop","totalHeight","clientHeight","totalWidth","clientWidth","Math","floor","scrolloffSet","bdrAFRight","bdrAFTop","leftRemove","parseFloat","topRemove","hideAFBorders","updateValue","createBeforeAutoFill","updateCell","field","colIndex","column","innerText","getAutoFillCells","startCellIdx","cls","isApply","startrowIdx","endrowIdx","endCellIdx","rowLen","colLen","cellIdx","endCell","startCellIndex","trIdx","mouseUpHandler","mUPTarget","updateAutoFillPosition","lastCell","updateStartCellsIndex","autofill","enableAutoFill","rindex","isFrozenCol","isFrozenRow","isFrozenRight","select","clientRect","colWidth","button","isDrag","allowRowDragAndDrop","enableDrag","isUpdate","tr","postion","clearSelAfterRefresh","isInfiniteScroll","enableInfiniteScrolling","onCellFocused","columnPositionChanged","initialEnd","rowsRemoved","refreshHeader","actionCompleteFunction","actionComplete","addEventListener_checkbox","removeEventListener_checkbox","isMacOS","navigator","userAgent","keyDownHandler","keyUpHandler","records","beforeFragAppend","getCheckAllBox","initPerisistSelection","prevColIndex","checkBoxSelectionChanged","isLeftRightFrozen","renderFrozenRightContent","selectedRowIndex","gobj","chkField","getDataModule","Query","where","params","dataManager","getData","proxy_1","showSpinner","dataSuccess","refreshPersistSelection","hideSpinner","res","setRowSelection","state","isRemote","executeLocal","generateQuery","getMovableContentTbody","getFrozenRightContentTbody","allowPaging","checkState","editChkBox","checked","onDataBound","getSelectedRows","totalRecords","checkSelectAllAction","cRenderer","getRenderer","editForm","getVirtualRowIndex","checkSelectAll","checkBox","stateStr","triggerChkChangeEvent","classes","checkSelect","rIndex","isGroupAdaptive","uid","map","rowCellSelectionHandler","moveIntoUncheckCollection","updateSelectedRowIndex","dataLength","selectedVal","isAllSelected","isInteraction","checkToSelectAll","checkedLen","filterSettings","spanEle","removeClass","indeterminate","addClass","setSelection","info","keyCode","allowColumnSelection","popUpClickHandler","chkSelect","checkWrap","isEqualNode","hoverFrozenRows","showPopup","headerSelectionHandler","getColumnIndexByUid","setCssInGridPopUp","container","isHeader","byKey","keyArgs","allowFiltering","isJump","tagName","Number","clear","isContent","isSelectable","headerAction","thLen","childElementCount","selectedIndexes","getSelectedRowCellIndexes","infiniteScrollSettings","enableCache","columnIndex","getKeyColIndex","applyDownUpKey","applyRightLeftKey","shiftDownKey","applyShiftLeftRightKey","applyHomeEndKey","applyCtrlHomeEndKey","ctrlPlusA","applySpaceSelection","allowNextRowEdit","stackedHeader","innerColumn","getstackedColumns","getColumnByUid","lastIndex","firstIndex","applyUpDown","selectColumn","cIndex","contentRenderer","selectColumnsByRange","innerColumnIndexes","isAdd","clearAll","detailIndentCell","dragdropIndentCell","addRemoveActiveClasses","RenderType","Content","selectedCol","getColumnHeaderByUid","isColSelected","isMultiColumns","clearColDependency","headerCell","previousColumnIndex","updateColSelection","selectedArgs","updateColProps","selectColumns","columnIndexes","getselectedCols","selectingArgs","selectColumnWithExisting","newCol","clearIndex","isColumnSelected","deselectedArgs","getFrozenRightColumnHeaderByIndex","getMovableColumnHeaderByIndex","columnDeselect","selectedHeader","getSelectedColumnCells","movableRows","isRowTemplate","rowTemplate","seletedcells","selectionString","getIndentCount","onDataBoundFunction","setCheckAllForEmptyGrid","actionCompleteHandler","resizeEndFn","checkAllBox","isInfinitecroll","enableImmutableMode","isSelectedRowIndexUpdating","rowDataBound","queryCellInfo","headerCellInfo","actionFailure","dataBound","rowSelecting","rowSelected","rowDeselecting","rowDeselected","cellSelecting","cellSelected","cellDeselecting","cellDeselected","columnSelecting","columnSelected","columnDeselecting","columnDeselected","columnDragStart","columnDrag","columnDrop","beforePrint","printComplete","detailDataBound","toolbarClick","batchAdd","batchCancel","batchDelete","beforeBatchAdd","beforeBatchDelete","beforeBatchSave","beginEdit","cellEdit","cellSave","cellSaved","recordDoubleClick","recordClick","beforeDataBound","beforeOpenAdaptiveDialog","resizeStop","checkBoxChange","beforeCopy","beforePaste","beforeAutoFill","filterChoiceRequest","filterAfterOpen","filterBeforeOpen","filterSearchBegin","initialLoad","uiUpdate","inBoundModelChanged","modelChanged","colGroupRefresh","headerRefreshed","pageComplete","sortComplete","filterComplete","searchComplete","groupComplete","groupAggregates","refreshFooterRenderer","rowSelectionComplete","cellSelectionComplete","beforeCellFocused","cellFocused","keyPressed","columnVisibilityChanged","scroll","columnWidthChanged","rowsAdded","columnDragStop","headerDrop","dataSourceModified","refreshComplete","dblclick","toolbarRefresh","bulkSave","autoCol","tooltipDestroy","updateData","saveComplete","deleteComplete","preventBatch","dialogDestroy","crudAction","addDeleteAction","destroyForm","doubleTap","freezeRender","filterOpen","filterDialogCreated","filterMenuClose","initForeignKeyColumn","getForeignKeyData","showEmptyGrid","dataStateChange","dataSourceChanged","rtlUpdated","frozenHeight","textWrapRefresh","recordAdded","cancelBegin","editNextValCell","expandChildGrid","printGridInit","rowPositionChanged","batchForm","beforeStartEdit","beforeBatchCancel","batchEditFormRendered","partialRefresh","beforeCustomFilterOpen","selectVirtualRow","columnsPrepared","cBoxFltrBegin","cBoxFltrComplete","fltrPrevent","beforeFltrcMenuOpen","valCustomPlacement","filterCboxValue","restoreFocus","detailIndentCellInfo","virtaulCellFocus","virtualScrollEditActionBegin","virtualScrollEditSuccess","virtualScrollEditCancel","virtualScrollEdit","refreshVirtualCache","editReset","virtualScrollAddActionBegin","getVirtualData","refreshInfiniteModeBlocks","resetInfiniteBlocks","infiniteScrollHandler","infinitePageQuery","infiniteShowHide","appendInfiniteContent","removeInfiniteRows","setInfiniteCache","infiniteEditHandler","closeFilterDialog","getFilterBarOperator","resetColumns","setGroupCache","lazyLoadScrollHandler","groupCollapse","beforeCheckboxRenderer","refreshHandlers","setFreezeSelection","beforeRefreshOnDataChange","immutableBatchCancel","checkScrollReset","preventFrozenScrollRefresh","nextCellIndex","refreshInfiniteCurrentViewData","filterDialogClose","refreshCustomFilterOkBtn","refreshCustomFilterClearBtn","renderResponsiveCmenu","filterCmenuSelect","customFilterClose","setFullScreenDialog","refreshExpandandCollapse","rowModeChange","enterKeyHandler","setVirtualPageQuery","pagerRefresh","closeInline","closeBatch","closeEdit","resetVirtualFocus","beforeCheckboxRendererQuery","createVirtualValidationForm","validateVirtualForm","destroyChildGrid","stickyScrollComplete","refreshInfinitePersistSelection","refreshInfiniteEditrowindex","afterFilterColumnMenuClose","CellType","ToolbarItem","ResponsiveDialogAction","ResponsiveToolbarAction","Data","serviceLocator","dataState","isPending","resolver","group","foreignKeyDataState","initDataManager","addRows","reorderRows","removeRows","crudActions","refreshFilteredCols","json","toIndex","fromIndex","DataManager","isQueryInvokedFromData","skipPage","columnQueryMode","isPrimaryKey","visible","selectQueryFields","filterQuery","searchQuery","aggregateQuery","sortQuery","virtualGroupPageQuery","pageQuery","groupQuery","aggregates","cols","types","k","aggregate","toLowerCase","queries","infiniteScrollModule","offline","enableLazyLoading","lazyLoad","getColumnByField","moduleName","columnName","isGrpFmt","enableGroupByFormat","formatGroupColumn","allowSorting","sortSettings","sortGrp","setSortDirection","direction","fn","sortComparer","isForeignColumn","sortByForeignKey","sortBy","getSortDirection","fcolumn","isForeignKey","sSettings","fields","getSearchColumnFieldNames","predicateList","needForeignKeySearch","getForeignKeyColumns","adaptor","foreignKeyValue","fGeneratePredicate","Predicate","operator","ignoreCase","ignoreAccent","predList","or","skipFoerign","foreignColEmpty","actualFilter","foreignColumn","colType","foreignCols","defaultFltrCols","columns_1","gridColumn","grabColumnByFieldFromAllCols","excelPredicate","CheckBoxFilterBase","getPredicate","_d","_e","foreignCols_1","column_1","grabColumnByUidFromAllCols","getColumnByForeignKeyValue","columnData","_f","_g","and","fPredicate","predicate","predicates","getKey","eventPromise","crud","fromTable","changes","addedRecords","changedRecords","saveChanges","requiresCount","insert","isArray","executeQuery","deferred_1","catch","reject","date","getDay","getHours","getMinutes","getSeconds","getMilliseconds","getFormatter","setFormatter","ValueFormatter","toView","pr","update","previousData","original","deff","endEdit","setState","url","columnModel","getState","getForeignKeyDataState","setForeignKeyDataState","getStateEventArgument","adaptr","UrlAdaptor","dm","processQuery","JSON","parse","pvtData","dataArgs","def","isDataChanged","editArgs_1","cancelEdit","colFieldNames","columns_2","allowSearching","refreshFilteredColsUid","SummaryModelGenerator","footerTemplate","groupFooterTemplate","groupCaptionTemplate","columnSelector","Column","detailTemplate","isRowDragable","generateRows","buildSummaryData","getGeneratedRow","level","parentUid","summaryRow","raw","indents","getIndentByLevel","isDetailGridAlone","indentLength","values","getGeneratedCell","getCellType","Indent","DetailFooterIntent","Row","attributes","class","getUid","isAggregateRow","isDataCell","cellType","indent","sColumn","scolumn","textAlign","opt","headerText","Cell","dummy","summaryRows","single","setTemplate","helper","formatFn","a","disp","calculateAggregate","Summary","GroupSummaryModelGenerator","v","indx","GroupSummary","CaptionSummaryModelGenerator","reduce","cur","isEmpty","CaptionSummary","GroupModelGenerator","infiniteChildCount","renderInfiniteAgg","summaryModelGen","captionModelGen","getGroupedRecords","isCollapseStateEnabled","ensureRowVisibility","parentid","childId","tIndex","items","GroupGuid","generateDataRows","preCaption","captionRow","generateCaptionRow","getPreCaption","isRenderAggregate","rowCnt","isCaptionRow","aggregatesCount","isDataRow","setInfiniteRowVisibility","preCap","getCaptionRowCells","visibles","getColumnIndexesInView","enableColumnVirtualization","groupedLen","generateIndentCell","generateCell","Expand","getVisibleColumns","captionCells","cIndex_1","wFlag","tmpFlag","GroupCaption","GroupCaptionEmpty","parentID","childID","isExpand","parentGid","childGid","gSummary","fkValue","valueAccessor","getForeignData","setValue","generateRow","unshift","refreshRows","generateCells","cRow","caption","childRow","RowModelGenerator","ContentRender","freezeRows","freezeRowElements","currentInfo","prevCurrentView","isLoaded","viewColIndexes","drop","droppedElement","infiniteCache","isRemove","visibleRows","visibleFrozenRows","rightFreezeRows","isAddRows","isInfiniteFreeze","useGroupCache","rafCallback","arg","mHdr","getMovableVirtualHeader","fHdr","getFrozenVirtualHeader","ariaService","setBusy","getPanel","maxBlock","maxBlocks","rowIdx","rowElements","ceil","isManualRefresh","allowTextWrap","case","enableDeepCompare","generator","getModelGenerator","setVisible","refreshContentRows","droppableDestroy","pressedKey","renderPanel","setOptions","busy","setPanel","innerDiv","renderTable","virtualTable","virtualTrack","createContentTable","setTable","getTable","multiselectable","initializeContentDrop","table","cellspacing","setColGroup","cloneNode","getColGroup","currentMovableRows","initialPageRecords","hdrTbody","trElement","hdrfrag","RowRenderer","tbdy","modelData","fCont","mCont","cont","emptyVcRows","virtualInfo","sentinelInfo","axis","renderMovableContent","checkCache","setTbody","getTbody","isFrozenLeft","templatetoclear","rootNodes","parentNode","templates","clearReactVueTemplates","CellMergeRender","updateVirtualCells","tbody","blockLoad","vcRows","offsets","offsets_1","vGroupOffsets","bSize","isEndBlock","blockIndexes","round","contentPanel","offsetHeight","scrollHeight","rowObject","isVFFrozenOnly","bIndex","mhdrData","vgenerator","virtualFrozenHdrRefresh","setRowsInLazyGroup","setInfiniteVisibleRows","getBlockSize","rowTemplateID","elements","copied","getRowTemplate","lastElementChild","isTR","nodeName","isVFreorder","ensureFrozenHeaderRender","ensureVirtualFrozenHeaderRender","colcount","splitRows","getFrozenHeader","parentTable","setIsFrozen","getUpdateUsingRaf","isVFTable","updateBlazorTemplate","frCont","appendContent","renderNextFrozentPart","vRows","maintainRows","frozenCols","getGroupCache","initialGroupRows","getCurrentBlockInfiniteRecords","isFreeze","getReorderedVFRows","getReorderedFrozenRows","getReorderedRows","fhdrData","getInfiniteRows","getInfiniteMovableRows","infiniteCacheRows","panel","contentTable","infiniteRows","getRowElements","getMovableRowElements","setRowElements","colgroup","colGroup","testRow","fRows","rightRows","rightLen","needFullRefresh","infiniteData","infiniteRowVisibility","contentrows","isDetailRow","clen","getNormalizedColumnIndex","colIdx","displayVal","colG","setStyleAttribute","infiniteFreezeData","mTable","infiniteMovableData","setDisplayNone","isTemplate","invokedFromMedia","hideAtMedia","updateMediaColumns","setDisplayValue","isXaxis","getHeaderColGroup","droppable","Droppable","accept","canSkip","renderEmpty","set","getInfiniteRowIndex","firstRowIndex","setRowObjects","immutableModeRendering","oldKeys","newKeys","newRowObjs","oldIndexes","oldRowObjs","batchChangeKeys","getBatchEditedRecords","newIndexes","hasBatch","oldRowElements","trs","prevLen","currentLen","oldIndex","refreshImmutableContent","isEqual","objectEqualityChecker","setRowValue","old","Date","getTime","isAltRow","enableAltRow","edit","isDirty","updateCellIndex","rowEle","HeaderRender","frzIdx","notfrzIdx","isFirstCol","isReplaceDragEle","draggable","currentStateTarget","allowReordering","visualElement","headercelldiv","getStackedHeaderColumnByHeaderText","lockColumn","headerTemplate","getColumnIndexByField","getHeaderTemplate","offsetWidth","lineHeight","dragStart","drag","getClosest","cloneElement","dragStop","widthService","getFrozenRightColumnsCount","colPosRefresh","renderCustomToolbar","rowRenderingMode","updateCustomResponsiveToolbar","isRendered","toggleStackClass","createHeaderTable","initializeHeaderDrag","initializeHeaderDrop","headerPanel","headerTable","tHead","createTable","createHeader","tableEle","tblName","findHeaderRow","createHeaderContent","thead","bodyCell","rowBody","len_1","updateColGroup","frozenMode","colHeader","rowRenderer","Header","headerRow","colDepth","measureColumnDepth","ensureColumns","getHeaderCells","colFreezeMode","shift","len_2","HeaderIndent","DetailHeader","RowDragHIcon","enablePersistence","lockcolPositionCount","lockColsRendered","appendCells","isFirstObj","isLastCol","isMovable","isStackLastCol","lastCol","isLockColumn","isFrozenLockColumn","scrollbar","getCellCnt","stackedLockColsCount","getStackedLockColsCount","isStackedLockColumn","isFrozenStack","ensureStackedFrozen","StackedHeader","getColSpan","isFirstCol_1","isLaststackedCol","inViewIndexes","frozenColumns","isTrue","lockColsCount","getFrozenColSpan","rowSpan","normalizedfrzCols","mTblColGrp","refreshUI","freezeReorder","getVirtualFreezeHeader","removeChild","firstChild","insertBefore","setWidthToColumns","updateDefaultCursor","gCells","textWrapSettings","wrapMode","wrap","cnt","showDropArea","Draggable","dragTarget","distance","abort","toolbar","toolbarItems","toolbarLeft","toolbarItem","Button","onclick","showResponsiveCustomSort","showResponsiveCustomFilter","enableAdaptiveUI","resToolbar","HeaderCellRenderer","AriaService","hTxtEle","sortEle","gui","chkAllBox","getGui","node","fltrMenuEle","prepareHeader","clean","hValueAccer","ariaAttr","innerDIV","headerValueAccessor","getValue","getDomSetter","editType","checkAllWrap","createCheckBox","label","buildAttributeFromCell","appendHtml","showColumnMenu","matchFlColumns","customAttributes","setStyleAndAttributes","sort","grabbed","extendPrepareHeader","gridObj","headerTempID","headerTextAlign","alignment","clipMode","matchFilteredColumns","allowResizing","innerHtml","CellRenderer","StackedHeaderCellRenderer","toolTip","IndentCellRenderer","GroupCaptionCellRenderer","fKeyValue","captionTemplate","localizer","isReactCompiler","tempID","GroupCaptionEmptyCellRenderer","ExpandCellRenderer","attr","HeaderIndentCellRenderer","DetailHeaderIndentCellRenderer","DetailExpandCellRenderer","RowDragDropRenderer","nodeElement","RowDragDropHeaderRenderer","Render","emptyGrid","counter","l10n","renderer","headerRenderer","isLayoutRendered","emptyRow","setWidth","setHeight","setPadding","refreshDataManager","resetTemplates","gridColumns","detailTemplateID","blazorTemplates","resetBlazorTemplate","toolbarTemplate","filterTemplate","guid","isCaptionCollapse","isFActon","isNeedForeignAction","deffered","getFData","deffered_1","disablePageWiseAggregates","validateGroupRecords","dataManagerSuccess","dataManagerFailure","deferred","isComplex","sendBulkRequest","dmSuccess","dmFailure","renderEmptyRow","isTrigger","spanCount","colspan","dynamicColumnChange","updateColumnType","cFormat","equalTo","fmtr","getObject","validationRules","isColTypeDef","valueFormatter","skeleton","getFormatFunction","setParser","getParserFunction","actionArgs","isInfiniteDelete","isInfiniteEnd","updatesOnInitialRender","agg","alert","setRowCount","invalid","error","dataRowCount","rowcount","buildColumns","prepareColumns","isAutoGen","iterateComplexColumns","obj","split","complexCols","instantiateRenderer","addRenderer","cellrender","addCellRenderer","DetailExpand","RowDragIcon","Promise","group0","groupN","addWhere","groups","curFilter","newQuery","rPredicate","updateGroupInfo","getDatePredicate","current","untouched","uGroup","itemGroup","uGroupItem","l","context","customAggregate","DataUtil","CellRendererFactory","cellRenderMap","getEnumValue","getCellRenderer","ServiceLocator","services","register","registerAdaptiveService","isAdaptiveUI","responsiveDialogRenderer","ResponsiveDialogRenderer","RendererFactory","rendererMap","rName","ColumnWidthService","totalColumnsWidth","setColumnWidth","getTableWidth","setMinwidthBycalculation","tWidth","difference","collection","tmWidth","collection_1","minWidth","isWidthUndefined","setUndefinedColumnWidth","cWidth","getWidth","tgridWidth","setWidthToTable","ispercentageWidth","toFixed","headerCol","header","content","fWidth","formatUnit","isDraggable","contentCol","freezeLeft","freezeRight","movableCount","isColFrozen","frHdr","getColumnLevelFrozenColgroup","editTableCol","refreshFrozenScrollbar","frzMode","scrollWidth","getScrollBarWidth","frozenScrollbar","movableScrollbar","frozencontent","movableContent","frozenWidth","movableWidth","frozenRightScrollbar","frozenRightWidth","placeHolder","getMovableVirtualContent","getSiblingsHeight","getHeightFromDirection","sibling","isWidUndefCount","maxWidth","calcMovableOrFreezeColWidth","tableType","setWidthToFrozenRightTable","freezeWidth","isAutoResize","headerTbl","cntTbl","setWidthToFrozenLeftTable","setWidthToMovableTable","isColUndefined","isWidthAuto","setWidthToFrozenEditTable","setWidthToMovableEditTable","resizeSettings","PageSettings","ChildProperty","ColumnChooserSettings","ShowHide","show","showBy","getToggleFields","hide","hideBy","getKeyBy","iterateArrayOrObject","changedStateColumns","showHideArgs","currentViewCols","allowSelection","col1","col2","Scroll","previousValues","oneTimeReady","uiupdate","toolbarModule","refreshOverflow","mHdrHeight","getRowHeight","ensureOverflow","getThreshold","removePadding","hDiv","footerDiv","getFooterContent","setScrollLeft","onFrozenContentScroll","isPreventScrollEvent","onContentScroll","scrollTarget","isLeft","isDown","scrollDown","isFooter","onCustomScrollbarScroll","onTouchScroll","pointerType","pageXY","getPointXY","setPageXY","touches","pageX","pageY","getScrollbleParent","scrollingElement","defaultView","getComputedStyle","addStickyListener","makeStickyHeader","mScrollBar","test","enableStickyHeader","sHeight","css","contentRect","getClientRects","headerEle","toolbarEle","groupHeaderEle","parentTop","top_1","elemTop","setSticky","ccDlg","AggregateColumn","property","getTemplate","setPropertiesSilent","AggregateRow","Collection","Clipboard","copyContent","isSelect","pasteHandler","grid","isMacLike","platform","metaKey","copy","activeElement","allowEditing","clipBoardTextArea","x_1","scrollX","y_1","scrollY","setTimeout","scrollTo","paste","isAvail","dataRows","fTr","mTr","getParser","selectionModule","setCopyData","withHeader","getSelection","headerTextArray","getCopyData","checkBoxSelection","status","headers","colIndexes","getColumnHeaderByIndex","setSelectionRange","isCell","splitKey","isElement","queryCommandSupported","execCommand","blur","removeAllRanges","rowCellIndxes","stringify","SortDescriptor","SortSettings","InfiniteScrollSettings","FilterSettings","SelectionSettings","SearchSettings","RowDropSettings","TextWrapSettings","ResizeSettings","GroupSettings","EditSettings","keyA","frozenRightCount","frozenLeftCount","tablesCount","visibleFrozenLeft","visibleFrozenRight","visibleMovable","frozenLeftColumns","frozenRightColumns","movableColumns","media","isFreezeRefresh","tableIndex","componentRefresh","isVirtualAdaptive","rowUid","isAutoFitColumns","mediaBindInstance","commandDelIndex","asyncTimeOut","isExportGrid","enableLogger","needsID","Grid_1","mergePersistGridData","keyEntity","ignoreOnPersist","scrollPosition","currentObject","settings","persistData","setFrozenCount","enableInfiniteAggrgate","allowExcelExport","allowPdfExport","sortedColumns","isDetail","isCommandColumn","allowAdding","allowDeleting","extendRequiredModules","contextMenuItems","showColumnChooser","isForeignKeyEnabled","initProperties","initializeServices","isInitial","mediaCol","ignoreCollectionWatch","mergeCells","filterOperators","endsWith","equal","greaterThan","greaterThanOrEqual","lessThan","lessThanOrEqual","notEqual","startsWith","defaultLocale","EmptyRecord","True","False","InvalidFilterMessage","GroupDropArea","UnGroup","UnGroupButton","GroupDisable","FilterbarTitle","EmptyDataSourceError","Add","Edit","Cancel","Update","Delete","Pdfexport","Excelexport","Wordexport","Csvexport","Columnchooser","Save","Item","Items","EditOperationAlert","DeleteOperationAlert","SaveButton","OKButton","CancelButton","EditFormTitle","AddFormTitle","BatchSaveConfirm","BatchSaveLostChanges","ConfirmDelete","CancelEdit","ChooseColumns","SearchColumns","Matchs","FilterButton","ClearButton","StartsWith","EndsWith","Contains","Equal","NotEqual","LessThan","LessThanOrEqual","GreaterThan","GreaterThanOrEqual","ChooseDate","EnterValue","Copy","Group","Ungroup","autoFitAll","autoFit","AutoFitAll","AutoFit","Export","FirstPage","LastPage","PreviousPage","NextPage","SortAscending","SortDescending","EditRecord","DeleteRecord","FilterMenu","SelectAll","Blanks","FilterTrue","FilterFalse","NoResult","ClearFilter","Clear","NumberFilter","TextFilter","DateFilter","DateTimeFilter","MatchCase","Between","CustomFilter","CustomFilterPlaceHolder","CustomFilterDatePlaceHolder","AND","OR","ShowRowsWhere","FilterMenuDialogARIA","ExcelFilterDialogARIA","DialogEditARIA","ColumnChooserDialogARIA","ColumnMenuDialogARIA","CustomFilterDialogARIA","SortAtoZ","SortZtoA","SortByOldest","SortByNewest","SortSmallestToLargest","SortLargestToSmallest","Sort","keyConfigs","downArrow","upArrow","rightArrow","leftArrow","shiftDown","shiftUp","shiftRight","shiftLeft","home","escape","ctrlHome","ctrlEnd","altDownArrow","altUpArrow","ctrlDownArrow","ctrlUpArrow","ctrlPlusP","delete","f2","enter","ctrlEnter","shiftEnter","tab","shiftTab","space","ctrlPlusC","ctrlShiftPlusH","ctrlSpace","ctrlLeftArrow","ctrlRightArrow","createSpinner","renderModule","searchModule","getMediaColumns","setColumnIndex","checkLockColumns","processModel","gridRender","addListener","updateStackedFilter","refreshing","gcol","getShowHideService","pushMediaColumn","matchMedia","mediaQueryUpdate","mediaColumn","matches","showHider","refreshMediaCol","footerContent","enableHover","removeMediaListener","removeListener","eventInitializer","hasGridChild","destroyDependentModules","toolTipObj","keyboardModule","focusModule","clipboardModule","enableBoxSelection","checkCursor","requireRefresh","requireGridRefresh","freezeRefresh","isEllipsisTooltip","close","updateColumnObject","properties_1","rowTemplateFn","detailTemplateFn","oldProperties","extendedPropertyChange","maintainSelection","ej2_instances","getToolbar","getContextMenu","columnMenuModule","getColumnMenu","showFilterBarOperator","updateResizeLines","updateGridLines","columnMenuItems","applyTextWrap","removeTextWrap","isModeChg","pending_1","getPrototypeOf","deepWatch","pKeyField","props","setRowData","gResult","names","scrollRefresh","enableVerticalRendering","fn_1","muteOnChange","filterModule","refreshFilter","setTablesCount","frozenLeft","frozenRight","getTablesCount","headerCells","stdHdrCell","updateColumnModel","updateColumnLevelFrozen","updateFrozenColumns","updateLockableColumns","leftCols","rightCols","movableCols","freezeTable","directFrozenCount","totalFrozenCount","frozenName","frozenCount","isRefresh","inview","vLen","ensureFrozenCols","individualColumn","stackedColumn","getLocaleConstants","setColumnIndexesInView","getCurrentVisibleColumns","setGridHeaderContent","setGridContentTable","setGridContent","setGridHeaderTable","footerElement","getFooterContentTable","getPager","gridPager","getFrozenRowByIndex","getFrozenDataRows","getRowInfo","rowData","isNaN","rowsObject","getFrozenRightRowElements","getAllDataRows","includeAdd","getFrozenLeftContentTbody","mrows","includAdd","dRows","getAllMovableDataRows","getAllFrozenDataRows","getAllFrozenRightDataRows","setCellValue","isRight","pkName","fieldIdx","frIdx","Idx","sRow","refreshTD","refreshReactColumnTemplateByUid","columnUid","rowsObj","cellRenderer","refreshReactHeaderTemplateByUid","headerCellRenderer","rowObjects","refreshForeignData","getFrozenRightCellFromIndex","getFrozenLeftColumnHeaderByIndex","getColumnHeaderByField","getStackedColumns","getUidByColumnField","rowDropSettings","targetID","getColumnFieldNames","columnNames","getDetailTemplate","getEditTemplate","editTemplateFn","getEditHeaderTemplate","editHeaderTemplateFn","getEditFooterTemplate","editFooterTemplateFn","getSelectedColumnsUid","showColumns","hideColumns","getFrozenCount","splitFrozenCount","getVisibleFrozenLeftCount","getVisibleFrozenRightCount","getVisibleMovableCount","getFrozenRightColumns","getFrozenLeftColumns","getMovableColumns","getVisibleFrozenColumns","getVisibleFrozenColumnsCount","getVisibleFrozenCount","getFilterUIInfo","visibleFrozenColumns","sortColumn","isMultiSort","sortModule","clearSorting","removeSortColumn","clearGridActions","filterByColumn","fieldName","filterOperator","filterValue","matchCase","actualFilterValue","actualOperator","clearFiltering","removeFilteredColsByField","isClearFilterBar","deleteRecord","fieldname","startEdit","addRecord","deleteRow","editCell","saveCell","updateRow","enableToolbarItems","isEnable","enableItems","recalcIndentWidth","indentWidth","perPixel","parentOffset","applyWidth","newWidth","resetIndentWidth","reorderColumns","fromFName","toFName","reorderModule","reorderColumnByIndex","reorderColumnByTargetIndex","fromIndexes","rowDragAndDropModule","refreshDataSource","disableRowDD","headerRows","disValue","autoFitColumns","fieldNames","resizeModule","createColumnchooser","columnChooserModule","renderColumnChooser","valueFormatterService","FocusStrategy","flag","gCols","sCols","_loop_1","sLen","this_1","isFromGroup","showGroupedColumn","parentDetails","parentKeyFieldValue","queryString","initForeignColumn","rendererFactory","createGridPopUpElement","createTooltip","popup","tabIndex","gridLines","Tooltip","opensOn","getTooltipStatus","headerDivTag","htable","ctable","prevElement","disableHtmlEncode","enableHtmlParse","scrollHandler","tag","myTableDiv","cssText","mySubDiv","myTable","myTr","mytd","onKeyPressed","mouseClickHandler","focusOutHandler","dblClickHandler","allowKeyboard","KeyboardEvents","keyAction","keyActionHandler","eventName","tapEvent","dataBoundFunction","isChildGrid","checkEdit","dataRow","filterClear","relatedTarget","ariaOwns","editFormValidate","persistedData","getLocalData","dataObj","isProtectedOnChange","keys_1","mergeColumns","storedColumn","storedColumns","_loop_2","localCol","tCol","this_2","commands","commandsTemplate","presskey","stopImmediatePropagation","altKey","collapse","focusHeader","addOutline","focusContent","injectedModules","refreshColumns","fCnt","frCnt","mTbl","frTbl","colGrp","excelExport","excelExportProperties","isMultipleExport","workbook","isBlob","excelExportModule","Map","csvExport","pdfExport","pdfExportProperties","pdfDoc","pdfExportModule","groupColumn","groupModule","groupExpandAll","expandAll","groupCollapseAll","collapseAll","clearGrouping","ungroupColumn","openColumnChooser","detailCollapseAll","detailRowModule","detailExpandAll","isContextMenuOpen","isOpen","ensureModuleInjected","loggerModule","applyBiggerTheme","getPreviousRowData","hideScroll","scrollBar","mvblScrollBar","mvblChild","getRowIndexByPrimaryKey","pKvalue","performComplexDataOperation","getFilteredRecords","getUserAgent","Global","timer","clearTimeout","getRowUid","prefix","getFrozenVirtualContent","getRowElementByUID","frozenRigtRows","cntRows","rows_2","getHiddenColumns","calculatePageSizeByParentHeight","containerHeight","pagesize","getNoncontentHeight","getSummaryValues","summaryCol","summaryData","serverExcelExport","isExcel","exportGrid","serverPdfExport","serverCsvExport","gridModel","sorted","setHeaderText","form","gridInput","method","submit","include","getNumberFormat","getFormat","updateRowValue","setForeignKeyData","colpending","resetFilterDlgPosition","filterDlg","gClient","fClient","batchUpdate","processRowChanges","batchAsyncUpdate","processBulkRowChanges","dataToBeUpdated","loopstring","keyField","compareChanges","setNewData","oldValues","bulkRefresh","deleteRowElement","mtr","out_i_1","_loop_3","this_3","_loop_4","isRowExist","this_4","renderRowElement","resetRowIndex","addRowObject","moveTbody","renderMovable","updateVisibleExpandCollapseRows","getHeight","isInteger","getMovableHeaderTbody","getFrozenHeaderTbody","getFrozenRightHeaderTbody","isCustom","showCustomFilter","showCustomSort","showAdaptiveFilterDialog","showAdaptiveSortDialog","isColVirtualization","gridCols_1","Complex","gridHeader","gridContent","gridFooter","headerContent","movableHeader","frozenContent","frozenHeader","gridChkBox","editedRow","addedRow","leftRight","ariaColIndex","ariaRowIndex","beforeOpen","doesImplementInterface","checkFor","updateFunction","callBack","requestAnimationFrame","pred","array","baseExtend","baseTemplateComplier","copyAttr","second","exclude","moved","ind","autoWidth","foreignKeyField","popUp","popUpSpan","targetPosition","isBottomTail","changedTouches","getPopupLeftPosition","elem","selector","isID","inArray","getActualPropFromColl","coll","clientX","divNode","rect","isComplexField","getComplexFieldID","setComplexFieldID","isEditable","isOldRow","isIdentity","inst","dlg","showConfirmDialog","clName","distinctStringValues","getFilterMenuPostion","dialogObj","elementVisible","dlgWidth","newpos","calculateRelativeBasedPosition","leftPos","getZIndexCalcualtion","zIndex","toogleCheckbox","previousSibling","createCboxWithWrap","lValue","fField","fdata","filterObject","datePredicate","prevDate","nextDate","prevObj","nextObj","setSeconds","setHours","predicateSt","predicateEnd","ejpredicate","mEle","object","splits","getCustomDateFormat","intl","Internationalization","formatter","getDatePattern","printGridModel","printMode","expandedRows","getExpandedState","extendObjWithFn","deep","obj1","getPrototypesOfObj","i_1","source","cpy","cln","isObject","checkDepth","indices","filteredCols","getColumnModelByFieldName","rootElement","alignFrozenEditForm","mTD","fTD","mHeight","fHeight","percentageCol","undefinedWidthCol","rowElms","newArray","o","frozenRightRowElements","splitFrozenRowObjectCells","rightIndex","mvblIndex","mvblEndIdx","force","getGridRowObjects","getGridRowElements","sliceElements","setValidationRuels","rules","mRules","frRules","getMovableTbody","getFrozenRightTbody","numberFormat","getNumberPattern","currency","useGrouping","mtch_1","pattern","addBiggerDialog","dialogs","mapObject","returnObj","duplicateMap","evt","isOn","evt_1","createEditElement","classNames","complexFieldName","registerEventHandlers","evts","eventHandlers","removeEventHandlers","component","existingPredicate","foreignKeyQuery","filterState","cBoxTrue","cBoxFalse","closeDialog","keyupHandler","searchHandler","debounce","searchBoxKeyUp","foreignKeyFilter","fColl","mPredicate","filterCollection","fpred","foreignFilter","initalPredicate","searchBoxClick","sInput","refreshCheckboxes","updateSearchIcon","sIcon","updateDataSource","actualPredicate","filteredColumns","allowCaseSensitive","isFiltered","getAndSetChkElem","sBox","hideSearchbox","searchBox","inputargs","floatLabelType","placeholder","Input","createInput","spinner","cBox","showDialog","columnType","Dialog","animationSettings","effect","buttons","btnClick","buttonModel","isPrimary","dialogCreated","dialogOpen","renderResponsiveFilter","isResponsiveFilter","maxHeight","getAllData","X","Y","openDialog","isBlanks","filterTemplateCol","getFilterItemTemplate","filterItemTemplate","clearFilter","fltrBtnHandler","text","searchInput","check","optr","ddlValue","isMenuNotEqual","fObj","caseSen","defaults","isNotEqual","itemsCnt","generateNullValuePredicates","arg2","arg3","arg4","arg5","arg6","initiateFilter","isClearFilter","firstVal","foreignQuery","parsed","predicte","parseDate","addDistinct","filterModel","filterChoiceCount","filterargs","filterObj","emptyValPredicte","generatePredicate","take","filterEvent","processSearch","getPredicateFromCols","isGrid","processDataOperation","filteredColumn","distinct","defObj","allPromise","runArray","colData","all","fullData","args1","f","filterColumn","filteredData","getDistinct","processDataSource","updateResult","createFilterItems","result_1","updateAllCBoxes","updateIndeterminatenBtn","setFocus","prevElem","cBoxes_1","createCheckbox","dummyData","itemTemplate","btn","disabled","selected","btnObj","cBoxes","nullCounter","selectAllValue","isColFiltered","isRndere","args_1","checkbox","getCheckedState","lookup","foreignDataObj","fnAscending","updateDateFilter","getCaseValue","isSpanned","isRowSpanned","merge","showInColumnChooser","sortDirection","getFilterTemplate","filterTemplateFn","toJSON","skip","headerTemplateFn","fltrTemplateFn","editTemplate","ddEditedData","a_1","xObj","yObj","z","fnDescending","parserFn","getColumnTemplate","CommandColumnModel","StackedColumn","GridColumn","makechanges","cellArgs","spannedCell","cellSpan","targetCell_1","colSpanLen","colSpanRange","rowSpanRange","spanText","containsKey","backupMergeCells","fName","setMergeCells","generteKey","fname","getMergeCells","mCells","getIndexFromAllColumns","vColumnIndices","rowChkBox","evaluate","fData","literals_1","templateID","invokeFormatter","refreshCell","parentRow","newTD","cloneAttributes","elements_1","displayAsCheckBox","localeStr","fromFormatter","rowID","setAttributes","isCheckBoxType","sortedCols","sortPredicate","isCustomDialog","closeCustomDialog","renderResponsiveContextMenu","renderCustomFilterDiv","customExFilterClose","onActionCompleteFn","editComplate","isCustomDlgRender","customResponsiveDlg","closeBtn","saveBtn","backBtn","customExcelFilterParent","isFilter","filterClearBtn","getHeaderTitle","renderResponsiveContent","filterParent","customColumnDiv","sortBtnParent","isSort","cDiv","getSortedFieldsAndDirections","sortButtonClickHandler","divIcon","iconSpan","customFilterColumnClickHandler","allowMultiSorting","isSortApplied","resetSortButtons","txt","setSortedCols","getCurrentSortedFields","isRowResponsive","showResponsiveDialog","colDiv","isDialogClose","clearCustomFilter","removeCustomDlgFilterEle","renderCustomFilterDialog","filteredCol","renderResponsiveDialog","setFilterModel","createOptions","setTopToChildDialog","dialogEle","child","outerDiv","customFilterDlg","getDialogOptions","isCustomFilter","isModal","showCloseIcon","closeOnEscape","adaptiveDlgTarget","beforeDialogClose","renderResponsiveHeader","sortField","closeResponsiveDialog","closeCustomFilter","keyHandler","primaryKeyValue","getDialogName","getButtonText","titleDiv","dialogHdrBtnClickHandler","id_1","clearBtn","applyCustomFilter","mainfilterdiv","destroyCustomFilterDialog","getElementById","customEle","isSpan","refreshRow","isChanged","refreshMergeCells","cells_1","rowArgs","chekBoxEnable","selIndex","buildAttributeFromRow","addAttributes","cellRendererFact","Filter","CommandColumn","prevRowCells","prevRowCell","lazyLoadCssClass","summarycell","lastSummaryCell","firstSummaryCell","setStateAndProperties","config","setExpand","expand","setSort","isBusy","setGrabbed","isGrabbed","setDropTarget","isTarget","dropeffect","attribute","haspopup","oneTime","swap","forget","skipFocus","focusByClick","prevIndexes","refMatrix","refreshMatrix","actions","isVirtualScroll","rowModelGen","focusCheck","onFocus","setActive","enableHeaderFocus","matrix","generate","get","validator","passiveFocus","skipAction","onBlur","removeFocus","beforeArgs","byClick","clickArgs","clearOutline","onKeyPress","skipOn","activeKey","bValue","outline","swapInfo","jump","toHeader","toFrozen","toFrozenRight","getNextCurrent","active","setActiveByKey","lastIdxCell","clearIndicator","th","filterCell","lastIndexOf","focusVirtualElement","virtualData","isKeyFocus","empty","elementToFocus","preventScroll","getFocusedElement","fContent","frContent","fHeader","frHeader","setFocusedElement","addFocus","getFocusInfo","resetFocus","isFocused","getInfo","focusedColumnUid","FixedContentFocus","FixedRightContentFocus","ContentFocus","FixedHeaderFocus","FixedRightHeaderFocus","HeaderFocus","cFocus","index_1","newMovableRows","newFrozenRows","newfrRows","handlerInstance","focusElement","cellPosition","gridPosition","innerWidth","documentElement","innerHeight","passiveHandler","filterfocus","restoreFocusWithAction","internalCellFocus","forgetPrevious","focusEle","getFocusable","Matrix","allow","emptyTable","inValid","vector","indexesByKey","getCurrentFromAction","editNextRow","isLastCellPrimaryKey","visibleIndex","isPresent","shouldFocusChange","rN","cN","oRowIndex","oCellIndex","nextRowFocusValidate","previousRowFocusValidate","frozenSwap","frSwap","enterFrozen","isHeaderFocus","previous","optionals","defaultLen","isData","isCellWidth","getGridSeletion","lastRow","headerSwap","fMatrix","current1","current2","hMatrix","current3","SearchBox","searchFocus","searchBlur","wireEvent","unWireEvent","headerMat","getInfiniteIndex","pid","refreshForeignKeyRow","foreignKeyColumns","dummies","rowId","oIndex","cultureName","culture","getDateFormat","getDateParser","getNumberParser","fromView","setCulture","ColumnDirective","complexTemplate","ComplexBase","ColumnsDirective","propertyName","GridComponent","initRenderCalled","checkInjectedModules","directivekeys","immediateRender","portals","isReactForeceUpdate","React","getDefaultAttributes","applyMixins","ComponentBase"],"sourceRoot":""}