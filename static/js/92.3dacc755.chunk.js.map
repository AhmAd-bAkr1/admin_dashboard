{"version":3,"file":"static/js/92.3dacc755.chunk.js","mappings":"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","sources":["../node_modules/@syncfusion/ej2-react-kanban/src/kanban/columns-directive.js","../node_modules/@syncfusion/ej2-kanban/src/kanban/base/constant.js","../node_modules/@syncfusion/ej2-kanban/src/kanban/base/data.js","../node_modules/@syncfusion/ej2-kanban/src/kanban/models/swimlane-settings.js","../node_modules/@syncfusion/ej2-kanban/src/kanban/models/card-settings.js","../node_modules/@syncfusion/ej2-kanban/src/kanban/models/dialog-settings.js","../node_modules/@syncfusion/ej2-kanban/src/kanban/models/columns.js","../node_modules/@syncfusion/ej2-kanban/src/kanban/models/stacked-headers.js","../node_modules/@syncfusion/ej2-kanban/src/kanban/models/sort-settings.js","../node_modules/@syncfusion/ej2-kanban/src/kanban/base/css-constant.js","../node_modules/@syncfusion/ej2-kanban/src/kanban/actions/action.js","../node_modules/@syncfusion/ej2-kanban/src/kanban/actions/crud.js","../node_modules/@syncfusion/ej2-kanban/src/kanban/actions/drag.js","../node_modules/@syncfusion/ej2-kanban/src/kanban/actions/dialog.js","../node_modules/@syncfusion/ej2-kanban/src/kanban/actions/keyboard.js","../node_modules/@syncfusion/ej2-kanban/src/kanban/actions/tooltip.js","../node_modules/@syncfusion/ej2-kanban/src/kanban/actions/touch.js","../node_modules/@syncfusion/ej2-kanban/src/kanban/base/mobile-layout.js","../node_modules/@syncfusion/ej2-kanban/src/kanban/base/layout-render.js","../node_modules/@syncfusion/ej2-kanban/src/kanban/base/kanban.js","../node_modules/@syncfusion/ej2-react-kanban/src/kanban/kanban.component.js"],"sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { ComplexBase } from '@syncfusion/ej2-react-base';\n/**\n * `ColumnsDirective` represent a columns of the react Kanban board.\n * It must be contained in a Kanban component(`KanbanComponent`).\n * ```tsx\n * <KanbanComponent>\n *  <ColumnsDirective>\n *   <ColumnDirective keyField='Open' textField='To Do'></ColumnDirective>\n *   <ColumnDirective keyField='Close' textField='Completed'></ColumnDirective>\n *  <ColumnsDirective>\n * </KanbanComponent>\n * ```\n */\nvar ColumnDirective = /** @class */ (function (_super) {\n    __extends(ColumnDirective, _super);\n    function ColumnDirective() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ColumnDirective.moduleName = 'column';\n    return ColumnDirective;\n}(ComplexBase));\nexport { ColumnDirective };\nvar ColumnsDirective = /** @class */ (function (_super) {\n    __extends(ColumnsDirective, _super);\n    function ColumnsDirective() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ColumnsDirective.propertyName = 'columns';\n    ColumnsDirective.moduleName = 'columns';\n    return ColumnsDirective;\n}(ComplexBase));\nexport { ColumnsDirective };\n","/**\n * Kanban Constants\n */\n// Constants for public events\n/** @private */\nexport var actionBegin = 'actionBegin';\n/** @private */\nexport var actionComplete = 'actionComplete';\n/** @private */\nexport var actionFailure = 'actionFailure';\n/** @private */\nexport var cardClick = 'cardClick';\n/** @private */\nexport var cardDoubleClick = 'cardDoubleClick';\n/** @private */\nexport var cardRendered = 'cardRendered';\n/** @private */\nexport var queryCellInfo = 'queryCellInfo';\n/** @private */\nexport var dataBinding = 'dataBinding';\n/** @private */\nexport var dataBound = 'dataBound';\n/** @private */\nexport var dragStart = 'dragStart';\n/** @private */\nexport var drag = 'drag';\n/** @private */\nexport var dragStop = 'dragStop';\n/** @private */\nexport var documentClick = 'document-click';\n/** @private */\nexport var dialogOpen = 'dialogOpen';\n/** @private */\nexport var dialogClose = 'dialogClose';\n// Constants for internal events\n/** @private */\nexport var contentReady = 'content-ready';\n/** @private */\nexport var dataReady = 'data-ready';\n/** @private */\nexport var bottomSpace = 25;\n/** @private */\nexport var cardSpace = 16;\n/** @private */\nexport var toggleWidth = 50;\n/** @hidden */\nexport var dataSourceChanged = 'dataSourceChanged';\n/** @hidden */\nexport var dataStateChange = 'dataStateChange';\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { extend } from '@syncfusion/ej2-base';\nimport { DataManager, Query, Deferred, UrlAdaptor } from '@syncfusion/ej2-data';\nimport * as events from './constant';\n/**\n * Kanban data module\n */\nvar Data = /** @class */ (function () {\n    /**\n     * Constructor for data module\n     *\n     * @param {Kanban} parent Accepts the instance of the Kanban\n     */\n    function Data(parent) {\n        this.dataState = { isPending: false, resolver: null, isDataChanged: false };\n        this.parent = parent;\n        this.keyField = this.parent.cardSettings.headerField;\n        this.dataState = { isDataChanged: false };\n        this.isObservable = false;\n        this.initDataManager(parent.dataSource, parent.query);\n        this.refreshDataManager();\n    }\n    /**\n     * The function used to initialize dataManager` and query\n     *\n     * @param {Object[] | DataManager} dataSource Accepts the dataSource as collection of objects or Datamanager instance.\n     * @param {Query} query Accepts the query to process the data from collections.\n     * @returns {void}\n     * @private\n     */\n    Data.prototype.initDataManager = function (dataSource, query) {\n        this.dataManager = dataSource instanceof DataManager ? dataSource : new DataManager(dataSource);\n        this.query = query instanceof Query ? query : new Query();\n        this.kanbanData = new DataManager(this.parent.kanbanData);\n    };\n    /**\n     * The function used to generate updated Query from schedule model\n     *\n     * @returns {void}\n     * @private\n     */\n    Data.prototype.getQuery = function () {\n        return this.query.clone();\n    };\n    /**\n     * The function used to get dataSource by executing given Query\n     *\n     * @param  {Query} query - A Query that specifies to generate dataSource\n     * @returns {void}\n     * @private\n     */\n    Data.prototype.getData = function (query) {\n        if (this.parent.dataSource && 'result' in this.parent.dataSource) {\n            var def = this.eventPromise({ requestType: '' }, query);\n            this.isObservable = true;\n            return def.promise;\n        }\n        return this.dataManager.executeQuery(query);\n    };\n    Data.prototype.setState = function (state) {\n        return this.dataState = state;\n    };\n    Data.prototype.getStateEventArgument = function (query) {\n        var adaptr = new UrlAdaptor();\n        var dm = new DataManager({ url: '', adaptor: new UrlAdaptor });\n        var state = adaptr.processQuery(dm, query);\n        var data = JSON.parse(state.data);\n        return extend(data, state.pvtData);\n    };\n    Data.prototype.eventPromise = function (args, query, index) {\n        var _this = this;\n        var dataArgs = args;\n        var state = this.getStateEventArgument(query);\n        var def = new Deferred();\n        var deff = new Deferred();\n        if (args.requestType !== undefined && this.dataState.isDataChanged !== false) {\n            state.action = args;\n            if (args.requestType === 'cardChanged' || args.requestType === 'cardRemoved' || args.requestType === 'cardCreated') {\n                var editArgs_1 = args;\n                editArgs_1.promise = deff.promise;\n                editArgs_1.state = state;\n                editArgs_1.index = index;\n                this.setState({ isPending: true, resolver: deff.resolve });\n                dataArgs.endEdit = deff.resolve;\n                dataArgs.cancelEdit = deff.reject;\n                this.parent.trigger(events.dataSourceChanged, editArgs_1);\n                deff.promise.then(function () {\n                    _this.setState({ isPending: true, resolver: def.resolve });\n                    _this.parent.trigger(events.dataStateChange, state);\n                    editArgs_1.addedRecords.forEach(function (data) {\n                        _this.parent.kanbanData.push(data);\n                    });\n                    editArgs_1.changedRecords.forEach(function (changedRecord) {\n                        var cardObj = _this.parent.kanbanData.filter(function (data) {\n                            return data[_this.parent.cardSettings.headerField] === changedRecord[_this.parent.cardSettings.headerField];\n                        })[0];\n                        extend(cardObj, changedRecord);\n                    });\n                    editArgs_1.deletedRecords.forEach(function (deletedRecord) {\n                        var index = _this.parent.kanbanData.findIndex(function (data) {\n                            return data[_this.parent.cardSettings.headerField] === deletedRecord[_this.parent.cardSettings.headerField];\n                        });\n                        _this.parent.kanbanData.splice(index, 1);\n                    });\n                }).catch(function () { _this.parent.hideSpinner(); void 0; });\n            }\n            else {\n                this.setState({ isPending: true, resolver: def.resolve });\n                this.parent.trigger(events.dataStateChange, state);\n            }\n        }\n        else {\n            this.setState({});\n            def.resolve(this.parent.dataSource);\n        }\n        return def;\n    };\n    /**\n     * The function used to get the table name from the given Query\n     *\n     * @returns {string} Returns the table name.\n     * @private\n     */\n    Data.prototype.getTable = function () {\n        if (this.parent.query) {\n            var query = this.getQuery();\n            return query.fromTable;\n        }\n        else {\n            return null;\n        }\n    };\n    /**\n     * The function is used to send the request and get response from datamanager\n     *\n     * @returns {void}\n     * @private\n     */\n    Data.prototype.refreshDataManager = function () {\n        var _this = this;\n        var dataManager = this.getData(this.getQuery());\n        dataManager.then(function (e) { return _this.dataManagerSuccess(e); }).catch(function (e) { return _this.dataManagerFailure(e); });\n    };\n    /**\n     * The function is used to handle the success response from dataManager\n     *\n     * @param {ReturnType} e Accepts the dataManager success result\n     * @returns {void}\n     * @private\n     */\n    Data.prototype.dataManagerSuccess = function (e, type, offlineArgs, index) {\n        var _this = this;\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        if (type) {\n            var resultData = extend([], e.result, null, true);\n            this.parent.kanbanData = resultData;\n            if (offlineArgs.requestType === 'cardCreated') {\n                if (!Array.isArray(e)) {\n                    offlineArgs.addedRecords[0] = extend(offlineArgs.addedRecords[0], e);\n                }\n                else {\n                    this.modifyArrayData(offlineArgs.addedRecords, e);\n                }\n            }\n            else if (offlineArgs.requestType === 'cardChanged') {\n                if (!Array.isArray(e)) {\n                    offlineArgs.changedRecords[0] = extend(offlineArgs.changedRecords[0], e);\n                }\n                else {\n                    this.modifyArrayData(offlineArgs.changedRecords, e);\n                }\n            }\n            else if (offlineArgs.requestType === 'cardRemoved') {\n                if (!Array.isArray(e)) {\n                    offlineArgs.deletedRecords[0] = extend(offlineArgs.deletedRecords[0], e);\n                }\n                else {\n                    this.modifyArrayData(offlineArgs.deletedRecords, e);\n                }\n            }\n            this.refreshUI(offlineArgs, index);\n        }\n        else {\n            this.parent.trigger(events.dataBinding, e, function (args) {\n                var resultData = extend([], args.result, null, true);\n                _this.parent.kanbanData = resultData;\n                _this.parent.notify(events.dataReady, { processedData: resultData });\n                _this.parent.trigger(events.dataBound, null, function () { return _this.parent.hideSpinner(); });\n            });\n        }\n    };\n    /**\n     * The function is used to handle the failure response from dataManager\n     *\n     * @param {ReturnType} e Accepts the dataManager failure result\n     * @returns {void}\n     * @private\n     */\n    Data.prototype.dataManagerFailure = function (e) {\n        var _this = this;\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.trigger(events.actionFailure, { error: e }, function () { return _this.parent.hideSpinner(); });\n    };\n    /**\n     * The function is used to perform the insert, update, delete and batch actions in datamanager\n     *\n     * @param {string} updateType Accepts the update type action\n     * @param {SaveChanges} params Accepts the savechanges params\n     * @param {string} type Accepts the requestType as string\n     * @param {Object} data Accepts the data to perform crud action\n     * @param {number} index Accepts the index to refresh the data into UI\n     * @returns {void}\n     * @private\n     */\n    Data.prototype.updateDataManager = function (updateType, params, type, data, index) {\n        var _this = this;\n        this.parent.showSpinner();\n        var promise;\n        var actionArgs = {\n            requestType: type, cancel: false, addedRecords: params.addedRecords,\n            changedRecords: params.changedRecords, deletedRecords: params.deletedRecords\n        };\n        this.eventPromise(actionArgs, this.query, index);\n        this.parent.trigger(events.actionComplete, actionArgs, function (offlineArgs) {\n            if (!offlineArgs.cancel) {\n                switch (updateType) {\n                    case 'insert':\n                        promise = _this.dataManager.insert(data, _this.getTable(), _this.getQuery());\n                        break;\n                    case 'update':\n                        promise = _this.dataManager.update(_this.keyField, data, _this.getTable(), _this.getQuery());\n                        break;\n                    case 'delete':\n                        promise = _this.dataManager.remove(_this.keyField, data, _this.getTable(), _this.getQuery());\n                        break;\n                    case 'batch':\n                        promise = _this.dataManager.saveChanges(params, _this.keyField, _this.getTable(), _this.getQuery());\n                        break;\n                }\n                if (_this.dataManager.dataSource.offline) {\n                    if (!_this.isObservable) {\n                        _this.kanbanData = _this.dataManager;\n                        _this.parent.kanbanData = _this.dataManager.dataSource.json;\n                        _this.refreshUI(offlineArgs, index);\n                    }\n                }\n                else {\n                    promise.then(function () {\n                        if (_this.parent.isDestroyed) {\n                            return;\n                        }\n                        var dataManager = _this.getData(_this.getQuery());\n                        dataManager.then(function (e) { return _this.dataManagerSuccess(e, 'DataSourceChange', offlineArgs, index); }).catch(function (e) { return _this.dataManagerFailure(e); });\n                    }).catch(function (e) {\n                        _this.dataManagerFailure(e);\n                    });\n                }\n            }\n        });\n    };\n    Data.prototype.modifyArrayData = function (onLineData, e) {\n        if (onLineData.length === e.length) {\n            for (var i = 0; i < e.length; i++) {\n                onLineData[i] = extend(onLineData[i], e[i]);\n            }\n        }\n        return onLineData;\n    };\n    /**\n     * The function is used to refresh the UI once the data manager action is completed\n     *\n     * @param {ActionEventArgs} args Accepts the ActionEventArgs to refresh UI.\n     * @param {number} position Accepts the index to refresh UI.\n     * @returns {void}\n     */\n    Data.prototype.refreshUI = function (args, position) {\n        var _this = this;\n        this.parent.layoutModule.columnData = this.parent.layoutModule.getColumnCards();\n        if (this.parent.swimlaneSettings.keyField) {\n            this.parent.layoutModule.kanbanRows = this.parent.layoutModule.getRows();\n            this.parent.layoutModule.swimlaneData = this.parent.layoutModule.getSwimlaneCards();\n        }\n        args.addedRecords.forEach(function (data, index) {\n            if (_this.parent.swimlaneSettings.keyField && !data[_this.parent.swimlaneSettings.keyField]) {\n                data[_this.parent.swimlaneSettings.keyField] = '';\n            }\n            _this.parent.layoutModule.renderCardBasedOnIndex(data, position + index);\n        });\n        args.changedRecords.forEach(function (data) {\n            if (_this.parent.swimlaneSettings.keyField && !data[_this.parent.swimlaneSettings.keyField]) {\n                data[_this.parent.swimlaneSettings.keyField] = '';\n            }\n            _this.parent.layoutModule.removeCard(data);\n            _this.parent.layoutModule.renderCardBasedOnIndex(data, position);\n            if (_this.parent.layoutModule.isSelectedCard) {\n                _this.parent.actionModule.SingleCardSelection(data);\n            }\n            if (_this.parent.sortSettings.field && _this.parent.sortSettings.sortBy === 'Index'\n                && _this.parent.sortSettings.direction === 'Descending' && position > 0) {\n                --position;\n            }\n        });\n        args.deletedRecords.forEach(function (data) {\n            _this.parent.layoutModule.removeCard(data);\n        });\n        this.parent.layoutModule.refresh();\n        this.parent.renderTemplates();\n        this.parent.notify(events.contentReady, {});\n        this.parent.trigger(events.dataBound, args, function () { return _this.parent.hideSpinner(); });\n    };\n    return Data;\n}());\nexport { Data };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Holds the configuration of swimlane settings in kanban board.\n */\nvar SwimlaneSettings = /** @class */ (function (_super) {\n    __extends(SwimlaneSettings, _super);\n    function SwimlaneSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property()\n    ], SwimlaneSettings.prototype, \"keyField\", void 0);\n    __decorate([\n        Property()\n    ], SwimlaneSettings.prototype, \"textField\", void 0);\n    __decorate([\n        Property(false)\n    ], SwimlaneSettings.prototype, \"showEmptyRow\", void 0);\n    __decorate([\n        Property(true)\n    ], SwimlaneSettings.prototype, \"showItemCount\", void 0);\n    __decorate([\n        Property(false)\n    ], SwimlaneSettings.prototype, \"allowDragAndDrop\", void 0);\n    __decorate([\n        Property()\n    ], SwimlaneSettings.prototype, \"template\", void 0);\n    __decorate([\n        Property('Ascending')\n    ], SwimlaneSettings.prototype, \"sortDirection\", void 0);\n    __decorate([\n        Property()\n    ], SwimlaneSettings.prototype, \"sortComparer\", void 0);\n    __decorate([\n        Property(true)\n    ], SwimlaneSettings.prototype, \"showUnassignedRow\", void 0);\n    __decorate([\n        Property(false)\n    ], SwimlaneSettings.prototype, \"enableFrozenRows\", void 0);\n    return SwimlaneSettings;\n}(ChildProperty));\nexport { SwimlaneSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Holds the configuration of card settings in kanban board.\n */\nvar CardSettings = /** @class */ (function (_super) {\n    __extends(CardSettings, _super);\n    function CardSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(true)\n    ], CardSettings.prototype, \"showHeader\", void 0);\n    __decorate([\n        Property()\n    ], CardSettings.prototype, \"headerField\", void 0);\n    __decorate([\n        Property()\n    ], CardSettings.prototype, \"contentField\", void 0);\n    __decorate([\n        Property()\n    ], CardSettings.prototype, \"tagsField\", void 0);\n    __decorate([\n        Property()\n    ], CardSettings.prototype, \"grabberField\", void 0);\n    __decorate([\n        Property()\n    ], CardSettings.prototype, \"footerCssField\", void 0);\n    __decorate([\n        Property()\n    ], CardSettings.prototype, \"template\", void 0);\n    __decorate([\n        Property('Single')\n    ], CardSettings.prototype, \"selectionType\", void 0);\n    return CardSettings;\n}(ChildProperty));\nexport { CardSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Holds the configuration of editor settings.\n */\nvar DialogSettings = /** @class */ (function (_super) {\n    __extends(DialogSettings, _super);\n    function DialogSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property()\n    ], DialogSettings.prototype, \"template\", void 0);\n    __decorate([\n        Property([])\n    ], DialogSettings.prototype, \"fields\", void 0);\n    __decorate([\n        Property(null)\n    ], DialogSettings.prototype, \"model\", void 0);\n    return DialogSettings;\n}(ChildProperty));\nexport { DialogSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Holds the configuration of columns in kanban board.\n */\nvar Columns = /** @class */ (function (_super) {\n    __extends(Columns, _super);\n    function Columns() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property()\n    ], Columns.prototype, \"keyField\", void 0);\n    __decorate([\n        Property()\n    ], Columns.prototype, \"headerText\", void 0);\n    __decorate([\n        Property()\n    ], Columns.prototype, \"template\", void 0);\n    __decorate([\n        Property(false)\n    ], Columns.prototype, \"allowToggle\", void 0);\n    __decorate([\n        Property(true)\n    ], Columns.prototype, \"isExpanded\", void 0);\n    __decorate([\n        Property()\n    ], Columns.prototype, \"minCount\", void 0);\n    __decorate([\n        Property()\n    ], Columns.prototype, \"maxCount\", void 0);\n    __decorate([\n        Property(true)\n    ], Columns.prototype, \"showItemCount\", void 0);\n    __decorate([\n        Property(false)\n    ], Columns.prototype, \"showAddButton\", void 0);\n    __decorate([\n        Property(true)\n    ], Columns.prototype, \"allowDrag\", void 0);\n    __decorate([\n        Property(true)\n    ], Columns.prototype, \"allowDrop\", void 0);\n    __decorate([\n        Property([])\n    ], Columns.prototype, \"transitionColumns\", void 0);\n    return Columns;\n}(ChildProperty));\nexport { Columns };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Holds the configuration of stacked header settings in kanban board.\n */\nvar StackedHeaders = /** @class */ (function (_super) {\n    __extends(StackedHeaders, _super);\n    function StackedHeaders() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property()\n    ], StackedHeaders.prototype, \"text\", void 0);\n    __decorate([\n        Property()\n    ], StackedHeaders.prototype, \"keyFields\", void 0);\n    return StackedHeaders;\n}(ChildProperty));\nexport { StackedHeaders };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Holds the configuration of sort settings in kanban board.\n */\nvar SortSettings = /** @class */ (function (_super) {\n    __extends(SortSettings, _super);\n    function SortSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('Index')\n    ], SortSettings.prototype, \"sortBy\", void 0);\n    __decorate([\n        Property()\n    ], SortSettings.prototype, \"field\", void 0);\n    __decorate([\n        Property('Ascending')\n    ], SortSettings.prototype, \"direction\", void 0);\n    return SortSettings;\n}(ChildProperty));\nexport { SortSettings };\n","/**\n * Kanban CSS Constants\n */\n/** @private */\nexport var ROOT_CLASS = 'e-kanban';\n/** @private */\nexport var RTL_CLASS = 'e-rtl';\n/** @private */\nexport var DEVICE_CLASS = 'e-device';\n/** @private */\nexport var ICON_CLASS = 'e-icons';\n/** @private */\nexport var TEMPLATE_CLASS = 'e-template';\n/** @private */\nexport var SWIMLANE_CLASS = 'e-swimlane';\n/** @private */\nexport var TABLE_CLASS = 'e-kanban-table';\n/** @private */\nexport var HEADER_CLASS = 'e-kanban-header';\n/** @private */\nexport var HEADER_TABLE_CLASS = 'e-header-table';\n/** @private */\nexport var HEADER_CELLS_CLASS = 'e-header-cells';\n/** @private */\nexport var HEADER_WRAP_CLASS = 'e-header-wrap';\n/** @private */\nexport var HEADER_TITLE_CLASS = 'e-header-title';\n/** @private */\nexport var HEADER_TEXT_CLASS = 'e-header-text';\n/** @private */\nexport var HEADER_ICON_CLASS = 'e-header-icon';\n/** @private */\nexport var STACKED_HEADER_ROW_CLASS = 'e-stacked-header-row';\n/** @private */\nexport var STACKED_HEADER_CELL_CLASS = 'e-stacked-header-cell';\n/** @private */\nexport var CONTENT_CELLS_CLASS = 'e-content-cells';\n/** @private */\nexport var CONTENT_CLASS = 'e-kanban-content';\n/** @private */\nexport var CONTENT_TABLE_CLASS = 'e-content-table';\n/** @private */\nexport var HEADER_ROW_TOGGLE_CLASS = 'e-toggle-header';\n/** @private */\nexport var HEADER_ROW_CLASS = 'e-header-row';\n/** @private */\nexport var CONTENT_ROW_CLASS = 'e-content-row';\n/** @private */\nexport var SWIMLANE_ROW_CLASS = 'e-swimlane-row';\n/** @private */\nexport var SWIMLANE_ROW_EXPAND_CLASS = 'e-swimlane-row-expand';\n/** @private */\nexport var SWIMLANE_ROW_COLLAPSE_CLASS = 'e-swimlane-row-collapse';\n/** @private */\nexport var SWIMLANE_ROW_TEXT_CLASS = 'e-swimlane-text';\n/** @private */\nexport var CARD_ITEM_COUNT_CLASS = 'e-item-count';\n/** @private */\nexport var CARD_WRAPPER_CLASS = 'e-card-wrapper';\n/** @private */\nexport var CARD_CLASS = 'e-card';\n/** @private */\nexport var DRAGGABLE_CLASS = 'e-draggable';\n/** @private */\nexport var DROPPABLE_CLASS = 'e-droppable';\n/** @private */\nexport var DRAG_CLASS = 'e-drag';\n/** @private */\nexport var DROP_CLASS = 'e-drop';\n/** @private */\nexport var DISABLED_CLASS = 'e-disabled';\n/** @private */\nexport var CARD_HEADER_CLASS = 'e-card-header';\n/** @private */\nexport var CARD_CONTENT_CLASS = 'e-card-content';\n/** @private */\nexport var CARD_HEADER_TEXT_CLASS = 'e-card-header-caption';\n/** @private */\nexport var CARD_HEADER_TITLE_CLASS = 'e-card-header-title';\n/** @private */\nexport var CARD_TAGS_CLASS = 'e-card-tags';\n/** @private */\nexport var CARD_TAG_CLASS = 'e-card-tag';\n/** @private */\nexport var CARD_COLOR_CLASS = 'e-card-color';\n/** @private */\nexport var CARD_LABEL_CLASS = 'e-card-label';\n/** @private */\nexport var CARD_FOOTER_CLASS = 'e-card-footer';\n/** @private */\nexport var EMPTY_CARD_CLASS = 'e-empty-card';\n/** @private */\nexport var CARD_FOOTER_CSS_CLASS = 'e-card-footer-css';\n/** @private */\nexport var COLUMN_EXPAND_CLASS = 'e-column-expand';\n/** @private */\nexport var COLUMN_COLLAPSE_CLASS = 'e-column-collapse';\n/** @private */\nexport var COLLAPSE_HEADER_TEXT_CLASS = 'e-collapse-header-text';\n/** @private */\nexport var COLLAPSED_CLASS = 'e-collapsed';\n/** @private */\nexport var DIALOG_CLASS = 'e-kanban-dialog';\n/** @private */\nexport var DIALOG_CONTENT_CONTAINER_CLASS = 'e-kanban-dialog-content';\n/** @private */\nexport var FORM_CLASS = 'e-kanban-form';\n/** @private */\nexport var FORM_WRAPPER_CLASS = 'e-kanban-form-wrapper';\n/** @private */\nexport var ERROR_VALIDATION_CLASS = 'e-kanban-error';\n/** @private */\nexport var FIELD_CLASS = 'e-field';\n/** @private */\nexport var DRAGGED_CLONE_CLASS = 'e-target-dragged-clone';\n/** @private */\nexport var CLONED_CARD_CLASS = 'e-cloned-card';\n/** @private */\nexport var DRAGGED_CARD_CLASS = 'e-kanban-dragged-card';\n/** @private */\nexport var DROPPED_CLONE_CLASS = 'e-target-dropped-clone';\n/** @private */\nexport var DROPPING_CLASS = 'e-dropping';\n/** @private */\nexport var TOGGLE_VISIBLE_CLASS = 'e-toggle-visible';\n/** @private */\nexport var MULTI_CLONE_CONTENT_CELL_CLASS = 'e-multi-content-cell';\n/** @private */\nexport var MULTI_CARD_WRAPPER_CLASS = 'e-multi-card-wrapper';\n/** @private */\nexport var MULTI_ACTIVE_CLASS = 'e-multi-active';\n/** @private */\nexport var TARGET_MULTI_CLONE_CLASS = 'e-target-multi-clone';\n/** @private */\nexport var MULTI_COLUMN_KEY_CLASS = 'e-column-key';\n/** @private */\nexport var CARD_SELECTION_CLASS = 'e-selection';\n/** @private */\nexport var TOOLTIP_CLASS = 'e-kanban-tooltip';\n/** @private */\nexport var TOOLTIP_TEXT_CLASS = 'e-tooltip-text';\n/** @private */\nexport var SCROLL_CONTAINER_CLASS = 'e-cell-scroll-container';\n/** @private */\nexport var SWIMLANE_HEADER_CLASS = 'e-swimlane-header';\n/** @private */\nexport var SWIMLANE_HEADER_TOOLBAR_CLASS = 'e-swimlane-header-toolbar';\n/** @private */\nexport var TOOLBAR_MENU_CLASS = 'e-toolbar-menu';\n/** @private */\nexport var TOOLBAR_MENU_ICON_CLASS = 'e-icon-menu';\n/** @private */\nexport var TOOLBAR_LEVEL_TITLE_CLASS = 'e-toolbar-level-title';\n/** @private */\nexport var TOOLBAR_SWIMLANE_NAME_CLASS = 'e-toolbar-swimlane-name';\n/** @private */\nexport var SWIMLANE_OVERLAY_CLASS = 'e-swimlane-overlay';\n/** @private */\nexport var SWIMLANE_CONTENT_CLASS = 'e-swimlane-content';\n/** @private */\nexport var SWIMLANE_RESOURCE_CLASS = 'e-swimlane-resource';\n/** @private */\nexport var SWIMLANE_TREE_CLASS = 'e-swimlane-tree';\n/** @private */\nexport var LIMITS_CLASS = 'e-limits';\n/** @private */\nexport var MAX_COUNT_CLASS = 'e-max-count';\n/** @private */\nexport var MIN_COUNT_CLASS = 'e-min-count';\n/** @private */\nexport var MAX_COLOR_CLASS = 'e-max-color';\n/** @private */\nexport var MIN_COLOR_CLASS = 'e-min-color';\n/** @private */\nexport var POPUP_EVENT_CLASS = 'e-event-popup';\n/** @private */\nexport var POPUP_HEADER_CLASS = 'e-popup-header';\n/** @private */\nexport var CLOSE_CLASS = 'e-close';\n/** @private */\nexport var POPUP_CONTENT_CLASS = 'e-popup-content';\n/** @private */\nexport var POPUP_WRAPPER_CLASS = 'e-mobile-popup-wrapper';\n/** @private */\nexport var CLOSE_ICON_CLASS = 'e-close-icon';\n/** @private */\nexport var POPUP_OPEN_CLASS = 'e-popup-open';\n/** @private */\nexport var DIALOG_CONTENT_CONTAINER = 'e-kanban-dialog-content';\n/** @private */\nexport var SHOW_ADD_BUTTON = 'e-show-add-button';\n/** @private */\nexport var SHOW_ADD_ICON = 'e-show-add-icon';\n/** @private */\nexport var SHOW_ADD_FOCUS = 'e-show-add-focus';\n/** @private */\nexport var FROZEN_SWIMLANE_ROW_CLASS = 'e-frozen-swimlane-row';\n/** @private */\nexport var FROZEN_ROW_CLASS = 'e-frozen-row';\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { closest, classList, createElement, remove, addClass, removeClass, isNullOrUndefined, formatUnit, createInstance, detach } from '@syncfusion/ej2-base';\nimport { Columns } from '../models/columns';\nimport * as events from '../base/constant';\nimport * as cls from '../base/css-constant';\n/**\n * Action module is used to perform card actions.\n */\nvar Action = /** @class */ (function () {\n    /**\n     * Constructor for action module\n     *\n     * @param {Kanban} parent Accepts the kanban instance\n     * @private\n     */\n    function Action(parent) {\n        this.parent = parent;\n        this.columnToggleArray = [];\n        this.selectionArray = [];\n        this.lastCardSelection = null;\n        this.lastSelectionRow = null;\n        this.lastCard = null;\n        this.selectedCardsElement = [];\n        this.selectedCardsData = [];\n        this.hideColumnKeys = [];\n    }\n    Action.prototype.clickHandler = function (e) {\n        var elementSelector = '.' + cls.CARD_CLASS + ',.' + cls.HEADER_ICON_CLASS + ',.' + cls.CONTENT_ROW_CLASS + '.' +\n            cls.SWIMLANE_ROW_CLASS + ',.' + cls.SHOW_ADD_BUTTON + ',.' + cls.FROZEN_SWIMLANE_ROW_CLASS + ',.' + cls.CONTENT_ROW_CLASS +\n            ':not(.' + cls.SWIMLANE_ROW_CLASS + ') .' + cls.CONTENT_CELLS_CLASS;\n        var target = closest(e.target, elementSelector);\n        if (!target) {\n            return;\n        }\n        if (target.classList.contains(cls.CARD_CLASS)) {\n            if (this.parent.allowKeyboard) {\n                this.parent.keyboardModule.cardTabIndexRemove();\n            }\n            this.cardClick(e);\n        }\n        else if (target.classList.contains(cls.HEADER_ICON_CLASS)) {\n            this.columnExpandCollapse(e);\n        }\n        else if (target.classList.contains(cls.CONTENT_ROW_CLASS) && target.classList.contains(cls.SWIMLANE_ROW_CLASS)) {\n            this.rowExpandCollapse(e);\n        }\n        else if (target.classList.contains(cls.SHOW_ADD_BUTTON)) {\n            this.addButtonClick(target);\n        }\n        else if (target.classList.contains(cls.FROZEN_SWIMLANE_ROW_CLASS)) {\n            var swimlaneRows = [].slice.call(this.parent.element.querySelectorAll('.' + cls.SWIMLANE_ROW_CLASS));\n            var targetIcon = this.parent.layoutModule.frozenSwimlaneRow.querySelector('.' + cls.ICON_CLASS);\n            this.rowExpandCollapse(e, swimlaneRows[this.parent.layoutModule.frozenOrder]);\n            var isCollapsed = targetIcon.classList.contains(cls.SWIMLANE_ROW_COLLAPSE_CLASS) ? true : false;\n            if (isCollapsed) {\n                classList(targetIcon, [cls.SWIMLANE_ROW_EXPAND_CLASS], [cls.SWIMLANE_ROW_COLLAPSE_CLASS]);\n            }\n            else {\n                classList(targetIcon, [cls.SWIMLANE_ROW_COLLAPSE_CLASS], [cls.SWIMLANE_ROW_EXPAND_CLASS]);\n            }\n        }\n    };\n    Action.prototype.addButtonClick = function (target) {\n        var _this = this;\n        var newData = {};\n        if (this.parent.kanbanData.length === 0) {\n            newData[this.parent.cardSettings.headerField] = 1;\n        }\n        else if (typeof (this.parent.kanbanData[0])[this.parent.cardSettings.headerField] === 'number') {\n            var id = this.parent.kanbanData.map(function (obj) {\n                return parseInt(obj[_this.parent.cardSettings.headerField], 10);\n            });\n            newData[this.parent.cardSettings.headerField] = Math.max.apply(Math, id) + 1;\n        }\n        newData[this.parent.keyField] = closest(target, '.' + cls.CONTENT_CELLS_CLASS).getAttribute('data-key');\n        if (this.parent.sortSettings.sortBy === 'Index') {\n            newData[this.parent.sortSettings.field] = 1;\n            if (closest(target, '.' + cls.CONTENT_CELLS_CLASS).querySelector('.' + cls.CARD_CLASS)) {\n                var card = this.parent.sortSettings.direction === 'Ascending' ?\n                    target.nextElementSibling.lastElementChild : target.nextElementSibling.firstElementChild;\n                var data = this.parent.getCardDetails(card);\n                newData[this.parent.sortSettings.field] = data[this.parent.sortSettings.field] + 1;\n            }\n        }\n        if (this.parent.kanbanData.length !== 0 && this.parent.swimlaneSettings.keyField &&\n            closest(target, '.' + cls.CONTENT_ROW_CLASS).previousElementSibling) {\n            newData[this.parent.swimlaneSettings.keyField] =\n                closest(target, '.' + cls.CONTENT_ROW_CLASS).previousElementSibling.getAttribute('data-key');\n        }\n        this.parent.openDialog('Add', newData);\n    };\n    Action.prototype.doubleClickHandler = function (e) {\n        var target = closest(e.target, '.' + cls.CARD_CLASS);\n        if (target) {\n            this.cardDoubleClick(e);\n        }\n    };\n    Action.prototype.cardClick = function (e, selectedCard) {\n        var _this = this;\n        var target = closest((selectedCard) ? selectedCard : e.target, '.' + cls.CARD_CLASS);\n        var cardClickObj = this.parent.getCardDetails(target);\n        if (cardClickObj) {\n            this.parent.activeCardData = { data: cardClickObj, element: target };\n            var args = { data: cardClickObj, element: target, cancel: false, event: e };\n            this.parent.trigger(events.cardClick, args, function (clickArgs) {\n                if (!clickArgs.cancel) {\n                    if (target.classList.contains(cls.CARD_SELECTION_CLASS) && e.type === 'click') {\n                        removeClass([target], cls.CARD_SELECTION_CLASS);\n                        _this.parent.layoutModule.disableAttributeSelection(target);\n                    }\n                    else {\n                        var isCtrlKey = e.ctrlKey;\n                        if (_this.parent.isAdaptive && _this.parent.touchModule) {\n                            isCtrlKey = (_this.parent.touchModule.mobilePopup && _this.parent.touchModule.tabHold) || isCtrlKey;\n                        }\n                        _this.cardSelection(target, isCtrlKey, e.shiftKey);\n                    }\n                    if (_this.parent.isAdaptive && _this.parent.touchModule) {\n                        _this.parent.touchModule.updatePopupContent();\n                    }\n                    var cell = closest(target, '.' + cls.CONTENT_CELLS_CLASS);\n                    if (_this.parent.allowKeyboard) {\n                        var element = [].slice.call(cell.querySelectorAll('.' + cls.CARD_CLASS));\n                        element.forEach(function (e) { e.setAttribute('tabindex', '0'); });\n                        _this.parent.keyboardModule.addRemoveTabIndex('Remove');\n                    }\n                }\n            });\n        }\n    };\n    Action.prototype.cardDoubleClick = function (e) {\n        var _this = this;\n        var target = closest(e.target, '.' + cls.CARD_CLASS);\n        var cardDoubleClickObj = this.parent.getCardDetails(target);\n        this.parent.activeCardData = { data: cardDoubleClickObj, element: target };\n        this.cardSelection(target, false, false);\n        var args = { data: cardDoubleClickObj, element: target, cancel: false, event: e };\n        this.parent.trigger(events.cardDoubleClick, args, function (doubleClickArgs) {\n            if (!doubleClickArgs.cancel) {\n                _this.parent.dialogModule.openDialog('Edit', args.data);\n            }\n        });\n    };\n    Action.prototype.rowExpandCollapse = function (e, isFrozenElem) {\n        var _this = this;\n        var headerTarget = (e instanceof HTMLElement) ? e : e.target;\n        var currentSwimlaneHeader = !isNullOrUndefined(isFrozenElem) ? isFrozenElem : headerTarget;\n        var args = { cancel: false, target: headerTarget, requestType: 'rowExpandCollapse' };\n        this.parent.trigger(events.actionBegin, args, function (actionArgs) {\n            if (!actionArgs.cancel) {\n                var target = closest(currentSwimlaneHeader, '.' + cls.SWIMLANE_ROW_CLASS);\n                var key = target.getAttribute('data-key');\n                var tgtRow = _this.parent.element.querySelector('.' + cls.CONTENT_ROW_CLASS + (\":nth-child(\" + (target.rowIndex + 2) + \")\"));\n                var targetIcon = target.querySelector(\".\" + cls.SWIMLANE_ROW_EXPAND_CLASS + \",.\" + cls.SWIMLANE_ROW_COLLAPSE_CLASS);\n                var isCollapsed = target.classList.contains(cls.COLLAPSED_CLASS) ? true : false;\n                var tabIndex_1;\n                if (isCollapsed) {\n                    removeClass([tgtRow, target], cls.COLLAPSED_CLASS);\n                    classList(targetIcon, [cls.SWIMLANE_ROW_EXPAND_CLASS], [cls.SWIMLANE_ROW_COLLAPSE_CLASS]);\n                    _this.parent.swimlaneToggleArray.splice(_this.parent.swimlaneToggleArray.indexOf(key), 1);\n                    tabIndex_1 = '0';\n                }\n                else {\n                    addClass([tgtRow, target], cls.COLLAPSED_CLASS);\n                    classList(targetIcon, [cls.SWIMLANE_ROW_COLLAPSE_CLASS], [cls.SWIMLANE_ROW_EXPAND_CLASS]);\n                    _this.parent.swimlaneToggleArray.push(key);\n                    tabIndex_1 = '-1';\n                }\n                targetIcon.setAttribute('aria-label', isCollapsed ? key + ' Expand' : key + ' Collapse');\n                target.setAttribute('aria-expanded', isCollapsed.toString());\n                tgtRow.setAttribute('aria-expanded', isCollapsed.toString());\n                var rows = [].slice.call(tgtRow.querySelectorAll('.' + cls.CONTENT_CELLS_CLASS));\n                rows.forEach(function (cell) { cell.setAttribute('tabindex', tabIndex_1); });\n                _this.parent.notify(events.contentReady, {});\n                _this.parent.trigger(events.actionComplete, { target: headerTarget, requestType: 'rowExpandCollapse' });\n            }\n        });\n    };\n    Action.prototype.columnExpandCollapse = function (e) {\n        var _this = this;\n        var headerTarget = (e instanceof HTMLElement) ? e : e.target;\n        var args = { cancel: false, target: headerTarget, requestType: 'columnExpandCollapse' };\n        this.parent.trigger(events.actionBegin, args, function (actionArgs) {\n            if (!actionArgs.cancel) {\n                var target = closest(headerTarget, '.' + cls.HEADER_CELLS_CLASS);\n                var colIndex = target.cellIndex;\n                _this.columnToggle(target);\n                var collapsed = _this.parent.element.querySelectorAll(\".\" + cls.HEADER_CELLS_CLASS + \".\" + cls.COLLAPSED_CLASS).length;\n                if (collapsed === (_this.parent.columns.length - _this.hideColumnKeys.length)) {\n                    var index = (colIndex + 1 === collapsed) ? 1 : colIndex + 2;\n                    var headerSelector = \".\" + cls.HEADER_CELLS_CLASS + \":not(.\" + cls.STACKED_HEADER_CELL_CLASS + \"):nth-child(\" + index + \")\";\n                    var nextCol = _this.parent.element.querySelector(headerSelector);\n                    addClass([nextCol], cls.COLLAPSED_CLASS);\n                    _this.columnToggle(nextCol);\n                }\n                _this.parent.notify(events.contentReady, {});\n                _this.parent.trigger(events.actionComplete, { target: headerTarget, requestType: 'columnExpandCollapse' });\n            }\n        });\n    };\n    Action.prototype.columnToggle = function (target) {\n        var _this = this;\n        var colIndex = target.cellIndex;\n        var elementSelector = \".\" + cls.CONTENT_ROW_CLASS + \":not(.\" + cls.SWIMLANE_ROW_CLASS + \")\";\n        var targetRow = [].slice.call(this.parent.element.querySelectorAll(elementSelector));\n        var colSelector = \".\" + cls.TABLE_CLASS + \" col:nth-child(\" + (colIndex + 1) + \")\";\n        var targetIcon = target.querySelector(\".\" + cls.COLUMN_EXPAND_CLASS + \",.\" + cls.COLUMN_COLLAPSE_CLASS);\n        var colGroup = [].slice.call(this.parent.element.querySelectorAll(colSelector));\n        if (target.classList.contains(cls.COLLAPSED_CLASS)) {\n            removeClass(colGroup, cls.COLLAPSED_CLASS);\n            if (this.parent.isAdaptive) {\n                colGroup.forEach(function (col) { return col.style.width = formatUnit(_this.parent.layoutModule.getWidth()); });\n            }\n            classList(targetIcon, [cls.COLUMN_EXPAND_CLASS], [cls.COLUMN_COLLAPSE_CLASS]);\n            var _loop_1 = function (row) {\n                var targetCol = row.querySelector(\".\" + cls.CONTENT_CELLS_CLASS + \":nth-child(\" + (colIndex + 1) + \")\");\n                removeClass([targetCol, target], cls.COLLAPSED_CLASS);\n                remove(targetCol.querySelector('.' + cls.COLLAPSE_HEADER_TEXT_CLASS));\n                target.setAttribute('aria-expanded', 'true');\n                targetCol.setAttribute('aria-expanded', 'true');\n                var collapsedCell = [].slice.call(targetCol.parentElement.querySelectorAll('.' + cls.COLLAPSED_CLASS));\n                collapsedCell.forEach(function (cell) {\n                    var collapasedText = cell.querySelector('.' + cls.COLLAPSE_HEADER_TEXT_CLASS);\n                    collapasedText.style.height = 'auto';\n                    if (collapasedText && targetCol.getBoundingClientRect().height < (collapasedText.getBoundingClientRect().height + 10)) {\n                        collapasedText.style.height = (targetCol.getBoundingClientRect().height - 4) + 'px';\n                    }\n                });\n            };\n            for (var _i = 0, targetRow_1 = targetRow; _i < targetRow_1.length; _i++) {\n                var row = targetRow_1[_i];\n                _loop_1(row);\n            }\n            this.columnToggleArray.splice(this.columnToggleArray.indexOf(target.getAttribute('data-key')), 1);\n            this.parent.columns[colIndex].setProperties({ isExpanded: true }, true);\n            target.querySelector('.e-header-icon').setAttribute('aria-label', target.getAttribute('data-key') + ' Expand');\n        }\n        else {\n            addClass(colGroup, cls.COLLAPSED_CLASS);\n            if (this.parent.isAdaptive) {\n                colGroup.forEach(function (col) { return col.style.width = formatUnit(events.toggleWidth); });\n            }\n            classList(targetIcon, [cls.COLUMN_COLLAPSE_CLASS], [cls.COLUMN_EXPAND_CLASS]);\n            var key = target.getAttribute('data-key');\n            var _loop_2 = function (row) {\n                var targetCol = row.querySelector(\".\" + cls.CONTENT_CELLS_CLASS + \"[data-key=\\\"\" + key + \"\\\"]\");\n                var index = targetCol.cellIndex;\n                var text = (this_1.parent.columns[index].showItemCount ? '[' +\n                    targetCol.querySelectorAll('.' + cls.CARD_CLASS).length + '] ' : '') + this_1.parent.columns[index].headerText;\n                targetCol.appendChild(createElement('div', { className: cls.COLLAPSE_HEADER_TEXT_CLASS, innerHTML: text }));\n                addClass([targetCol, target], cls.COLLAPSED_CLASS);\n                target.setAttribute('aria-expanded', 'false');\n                targetCol.setAttribute('aria-expanded', 'false');\n                var collapsedCell = [].slice.call(targetCol.parentElement.querySelectorAll('.' + cls.COLLAPSED_CLASS));\n                collapsedCell.forEach(function (cell) {\n                    var collapasedText = cell.querySelector('.' + cls.COLLAPSE_HEADER_TEXT_CLASS);\n                    if (collapasedText && targetCol.getBoundingClientRect().height < (collapasedText.getBoundingClientRect().height + 10)) {\n                        collapasedText.style.height = (targetCol.getBoundingClientRect().height - 4) + 'px';\n                    }\n                });\n            };\n            var this_1 = this;\n            for (var _a = 0, targetRow_2 = targetRow; _a < targetRow_2.length; _a++) {\n                var row = targetRow_2[_a];\n                _loop_2(row);\n            }\n            this.columnToggleArray.push(target.getAttribute('data-key'));\n            this.parent.columns[colIndex].setProperties({ isExpanded: false }, true);\n            target.querySelector('.e-header-icon').setAttribute('aria-label', key + ' Collapse');\n        }\n    };\n    Action.prototype.cardSelection = function (target, isCtrl, isShift) {\n        var _this = this;\n        if (!target) {\n            return;\n        }\n        var cards = this.parent.getSelectedCards();\n        if (this.parent.cardSettings.selectionType !== 'None') {\n            var contentRow = closest(target, '.' + cls.CONTENT_ROW_CLASS);\n            var index = !isNullOrUndefined(this.lastSelectionRow) ? this.lastSelectionRow.rowIndex : contentRow.rowIndex;\n            if (index !== contentRow.rowIndex && (isCtrl || isShift) && this.parent.cardSettings.selectionType === 'Multiple') {\n                return;\n            }\n            if (cards.length !== 0 && (!isCtrl || this.parent.cardSettings.selectionType === 'Single')) {\n                removeClass(cards, cls.CARD_SELECTION_CLASS);\n                this.parent.layoutModule.disableAttributeSelection(cards);\n                cards.forEach(function (el) {\n                    _this.selectionArray.splice(_this.selectionArray.indexOf(el.getAttribute('data-id')), 1);\n                    _this.selectedCardsElement.splice(_this.selectedCardsElement.indexOf(el), 1);\n                    _this.selectedCardsData.splice(_this.selectedCardsData.indexOf(_this.parent.getCardDetails(el), 1));\n                });\n            }\n            if (cards.length > 0 && isShift && this.parent.cardSettings.selectionType === 'Multiple') {\n                var curCards_1 = [];\n                var start = void 0;\n                var end = void 0;\n                var i = void 0;\n                var allCards = [].slice.call(contentRow.querySelectorAll('.' + cls.CARD_CLASS));\n                allCards.forEach(function (el) { return curCards_1.push(el.getAttribute('data-id')); });\n                var curId = target.getAttribute('data-id');\n                var lastId = this.lastCard.getAttribute('data-id');\n                var curIndex = end = curCards_1.indexOf(curId);\n                var lastIndex = start = curCards_1.indexOf(lastId);\n                var select = curIndex > lastIndex ? 'next' : 'prev';\n                if (select === 'prev') {\n                    start = curIndex;\n                    end = lastIndex;\n                }\n                for (i = start; i <= end; i++) {\n                    var card = allCards[i];\n                    addClass([card], cls.CARD_SELECTION_CLASS);\n                    card.setAttribute('aria-selected', 'true');\n                    card.setAttribute('tabindex', '0');\n                    this.selectionArray.push(card.getAttribute('data-id'));\n                    this.selectedCardsElement.push(card);\n                    this.selectedCardsData.push(this.parent.getCardDetails(card));\n                    this.lastCardSelection = card;\n                    if (select === 'prev') {\n                        this.lastCardSelection = allCards[start];\n                    }\n                }\n            }\n            else {\n                addClass([target], cls.CARD_SELECTION_CLASS);\n                target.setAttribute('aria-selected', 'true');\n                target.setAttribute('tabindex', '0');\n                this.selectionArray.push(target.getAttribute('data-id'));\n                this.selectedCardsElement.push(target);\n                this.selectedCardsData.push(this.parent.getCardDetails(target));\n                this.lastCard = this.lastCardSelection = target;\n                this.lastSelectionRow = closest(target, '.' + cls.CONTENT_ROW_CLASS);\n                if (this.lastSelectionRow.previousElementSibling) {\n                    var elementSelector = \".\" + cls.SWIMLANE_ROW_EXPAND_CLASS + \",.\" + cls.SWIMLANE_ROW_COLLAPSE_CLASS;\n                    var parentEle = this.lastSelectionRow.previousElementSibling.querySelector(elementSelector);\n                    if (parentEle && parentEle.classList.contains(cls.SWIMLANE_ROW_COLLAPSE_CLASS)) {\n                        this.rowExpandCollapse(parentEle);\n                    }\n                }\n            }\n        }\n    };\n    Action.prototype.addColumn = function (columnOptions, index) {\n        var addColumn = createInstance(Columns, [this.parent, 'columns', columnOptions, true]);\n        this.parent.columns.splice(index, 0, addColumn);\n        this.parent.notify(events.dataReady, { processedData: this.parent.kanbanData });\n    };\n    Action.prototype.deleteColumn = function (index) {\n        var listKey = this.parent.element.querySelectorAll('.' + cls.HEADER_CELLS_CLASS).item(index);\n        if (listKey && listKey.classList.contains(cls.HEADER_ROW_TOGGLE_CLASS)) {\n            this.columnToggleArray.splice(this.columnToggleArray.indexOf(listKey.getAttribute('data-key'), 0));\n        }\n        this.parent.columns.splice(index, 1);\n        if (this.parent.columns.length === 0) {\n            detach(this.parent.element.querySelector('.' + cls.HEADER_CLASS));\n            detach(this.parent.element.querySelector('.' + cls.CONTENT_CLASS));\n        }\n        else {\n            this.parent.notify(events.dataReady, { processedData: this.parent.kanbanData });\n        }\n    };\n    Action.prototype.showColumn = function (key) {\n        var index = this.hideColumnKeys.indexOf(key.toString());\n        if (index !== -1) {\n            this.hideColumnKeys.splice(index, 1);\n            this.parent.notify(events.dataReady, { processedData: this.parent.kanbanData });\n        }\n    };\n    Action.prototype.hideColumn = function (key) {\n        this.hideColumnKeys.push(key.toString());\n        this.parent.notify(events.dataReady, { processedData: this.parent.kanbanData });\n    };\n    /**\n     * Maintain the single card selection\n     *\n     * @param {Record<string, any>} data - Specifies the selected card data.\n     * @returns {void}\n     * @private\n     * @hidden\n     */\n    Action.prototype.SingleCardSelection = function (data) {\n        if (this.parent.cardSettings.selectionType !== 'None' && data[this.parent.cardSettings.headerField]) {\n            var card = this.parent.element.querySelector('.e-card[data-id=\\\"' +\n                data[this.parent.cardSettings.headerField].toString() + '\"\\]');\n            if (card) {\n                addClass([card], cls.CARD_SELECTION_CLASS);\n                card.setAttribute('aria-selected', 'true');\n                card.setAttribute('tabindex', '0');\n            }\n        }\n    };\n    return Action;\n}());\nexport { Action };\n","import { isNullOrUndefined, closest } from '@syncfusion/ej2-base';\nimport * as events from '../base/constant';\nimport * as cls from '../base/css-constant';\n/**\n * Kanban CRUD module\n */\nvar Crud = /** @class */ (function () {\n    /**\n     * Constructor for CRUD module\n     *\n     * @param {Kanban} parent Accepts the kanban instance\n     * @private\n     */\n    function Crud(parent) {\n        this.parent = parent;\n    }\n    Crud.prototype.addCard = function (cardData, index) {\n        var _this = this;\n        var args = {\n            cancel: false, requestType: 'cardCreate', addedRecords: (cardData instanceof Array) ? cardData : [cardData],\n            changedRecords: [], deletedRecords: []\n        };\n        this.parent.trigger(events.actionBegin, args, function (addArgs) {\n            if (!addArgs.cancel) {\n                var modifiedData_1 = [];\n                if (_this.parent.sortSettings.field && _this.parent.sortSettings.sortBy === 'Index') {\n                    if (cardData instanceof Array) {\n                        modifiedData_1 = cardData;\n                    }\n                    else {\n                        modifiedData_1.push(cardData);\n                    }\n                    modifiedData_1.forEach(function (data, index) {\n                        if (!data[_this.parent.sortSettings.field]) {\n                            var columnData = _this.parent.getColumnData(data[_this.parent.keyField]);\n                            if (_this.parent.sortSettings.direction === 'Ascending' && columnData.length > 0) {\n                                data[_this.parent.sortSettings.field] = (columnData[columnData.length - 1][_this.parent.sortSettings.field]) + index + 1;\n                            }\n                            else if (_this.parent.sortSettings.direction === 'Descending' && columnData.length > 0) {\n                                data[_this.parent.sortSettings.field] = columnData[0][_this.parent.sortSettings.field] + index + 1;\n                            }\n                            if (columnData.length === 0) {\n                                data[_this.parent.sortSettings.field] = 1;\n                            }\n                        }\n                    });\n                    if (!(cardData instanceof Array)) {\n                        if (!index && _this.parent.sortSettings.direction === 'Descending') {\n                            _this.parent.getColumnData(modifiedData_1[0][_this.parent.keyField]).filter(function (obj, count) {\n                                if (obj[_this.parent.sortSettings.field] === modifiedData_1[0][_this.parent.sortSettings.field]) {\n                                    index = count + 1;\n                                }\n                            });\n                        }\n                    }\n                    if (index !== 0 && !index && _this.parent.sortSettings.direction === 'Descending') {\n                        index = 0;\n                    }\n                    modifiedData_1 = _this.priorityOrder(modifiedData_1, index);\n                }\n                var addedRecords = (cardData instanceof Array) ? cardData : [cardData];\n                var changedRecords = (_this.parent.sortSettings.field && _this.parent.sortSettings.sortBy === 'Index') ? modifiedData_1 : [];\n                var editParms = { addedRecords: addedRecords, changedRecords: changedRecords, deletedRecords: [] };\n                var type = (cardData instanceof Array || modifiedData_1.length > 0) ? 'batch' : 'insert';\n                _this.parent.dataModule.updateDataManager(type, editParms, 'cardCreated', cardData, index);\n            }\n        });\n    };\n    Crud.prototype.getIndexFromData = function (data) {\n        var cardElement = this.parent.element.querySelector(\".\" + cls.CARD_CLASS + \"[data-id=\\\"\" + data[this.parent.cardSettings.headerField] + \"\\\"]\");\n        var element = closest(cardElement, '.' + cls.CONTENT_CELLS_CLASS);\n        var index = [].slice.call(element.querySelectorAll('.' + cls.CARD_CLASS)).indexOf(cardElement);\n        return index;\n    };\n    Crud.prototype.updateCard = function (cardData, index) {\n        var _this = this;\n        var args = {\n            requestType: 'cardChange', cancel: false, addedRecords: [],\n            changedRecords: (cardData instanceof Array) ? cardData : [cardData], deletedRecords: []\n        };\n        index = isNullOrUndefined(index) ? this.getIndexFromData(args.changedRecords[0]) : index;\n        this.parent.trigger(events.actionBegin, args, function (updateArgs) {\n            if (!updateArgs.cancel) {\n                if (_this.parent.sortSettings.field && _this.parent.sortSettings.sortBy === 'Index') {\n                    var modifiedData = [];\n                    if (cardData instanceof Array) {\n                        modifiedData = cardData;\n                    }\n                    else {\n                        modifiedData.push(cardData);\n                    }\n                    cardData = _this.priorityOrder(modifiedData, index);\n                }\n                var editParms = {\n                    addedRecords: [], changedRecords: (cardData instanceof Array) ? cardData : [cardData], deletedRecords: []\n                };\n                var type = (cardData instanceof Array) ? 'batch' : 'update';\n                _this.parent.dataModule.updateDataManager(type, editParms, 'cardChanged', cardData, index);\n            }\n        });\n    };\n    Crud.prototype.deleteCard = function (cardData) {\n        var _this = this;\n        var editParms = { addedRecords: [], changedRecords: [], deletedRecords: [] };\n        if (typeof cardData === 'string' || typeof cardData === 'number') {\n            editParms.deletedRecords = this.parent.kanbanData.filter(function (data) {\n                return data[_this.parent.cardSettings.headerField] === cardData;\n            });\n        }\n        else {\n            editParms.deletedRecords = (cardData instanceof Array) ? cardData : [cardData];\n        }\n        var args = {\n            requestType: 'cardRemove', cancel: false, addedRecords: [], changedRecords: [], deletedRecords: editParms.deletedRecords\n        };\n        this.parent.trigger(events.actionBegin, args, function (deleteArgs) {\n            if (!deleteArgs.cancel) {\n                var type = (editParms.deletedRecords.length > 1) ? 'batch' : 'delete';\n                var cardData_1 = editParms.deletedRecords;\n                _this.parent.dataModule.updateDataManager(type, editParms, 'cardRemoved', cardData_1[0]);\n            }\n        });\n    };\n    Crud.prototype.priorityOrder = function (cardData, cardIndex) {\n        var _this = this;\n        var cardsId = cardData.map(function (obj) { return obj[_this.parent.cardSettings.headerField]; });\n        var num = cardData[cardData.length - 1][this.parent.sortSettings.field];\n        var allModifiedKeys = cardData.map(function (obj) { return obj[_this.parent.keyField]; });\n        var modifiedKey = allModifiedKeys.filter(function (key, index) { return allModifiedKeys.indexOf(key) === index; }).sort();\n        var columnAllDatas;\n        var finalData = [];\n        var originalIndex = [];\n        var _loop_1 = function (columnKey) {\n            var keyData = cardData.filter(function (cardObj) {\n                return cardObj[_this.parent.keyField] === columnKey;\n            });\n            columnAllDatas = this_1.parent.layoutModule.getColumnData(columnKey);\n            for (var _i = 0, _a = keyData; _i < _a.length; _i++) {\n                var data = _a[_i];\n                if (this_1.parent.swimlaneSettings.keyField) {\n                    var swimlaneDatas = this_1.parent.getSwimlaneData(data[this_1.parent.swimlaneSettings.keyField]);\n                    columnAllDatas = this_1.parent.getColumnData(columnKey, swimlaneDatas);\n                }\n            }\n            keyData.forEach(function (key) { return finalData.push(key); });\n            if (!isNullOrUndefined(cardIndex)) {\n                var _loop_2 = function (j) {\n                    columnAllDatas.filter(function (data, index) {\n                        if (data[_this.parent.cardSettings.headerField] === cardsId[j] && index <= cardIndex) {\n                            originalIndex.push(index);\n                        }\n                    });\n                };\n                for (var j = 0; j < cardsId.length; j++) {\n                    _loop_2(j);\n                }\n                if (originalIndex.length > 0) {\n                    cardIndex = cardIndex + originalIndex.length;\n                }\n                if (this_1.parent.sortSettings.direction === 'Ascending') {\n                    for (var i = cardIndex; i < columnAllDatas.length; i++) {\n                        if (cardsId.indexOf(columnAllDatas[i][this_1.parent.cardSettings.headerField]) === -1) {\n                            columnAllDatas[i][this_1.parent.sortSettings.field] = ++num;\n                            finalData.push(columnAllDatas[i]);\n                        }\n                    }\n                }\n                else {\n                    for (var i = cardIndex - 1; i >= 0; i--) {\n                        if (cardsId.indexOf(columnAllDatas[i][this_1.parent.cardSettings.headerField]) === -1) {\n                            columnAllDatas[i][this_1.parent.sortSettings.field] = ++num;\n                            finalData.push(columnAllDatas[i]);\n                        }\n                    }\n                }\n            }\n        };\n        var this_1 = this;\n        for (var _i = 0, modifiedKey_1 = modifiedKey; _i < modifiedKey_1.length; _i++) {\n            var columnKey = modifiedKey_1[_i];\n            _loop_1(columnKey);\n        }\n        return finalData;\n    };\n    return Crud;\n}());\nexport { Crud };\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { Draggable, formatUnit, createElement, isNullOrUndefined, addClass, closest } from '@syncfusion/ej2-base';\nimport { removeClass, classList, remove, EventHandler, extend } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constant';\nimport * as events from '../base/constant';\n/**\n * Drag and Drop module is used to perform card actions.\n */\nvar DragAndDrop = /** @class */ (function () {\n    /**\n     * Constructor for drag and drop module\n     *\n     * @param {Kanban} parent Accepts the kanban instance\n     * @private\n     */\n    function DragAndDrop(parent) {\n        this.parent = parent;\n        this.dragObj = {\n            element: null, cloneElement: null, instance: null, targetClone: null, draggedClone: null, targetCloneMulti: null,\n            selectedCards: [], pageX: 0, pageY: 0, navigationInterval: null, cardDetails: [], modifiedData: []\n        };\n        this.dragEdges = { left: false, right: false, top: false, bottom: false };\n        this.isDragging = false;\n        this.isExternalDrop = false;\n    }\n    DragAndDrop.prototype.wireDragEvents = function (element) {\n        var dragContainment;\n        if (!this.parent.element != null && this.parent.externalDropId.length === 0) {\n            dragContainment = this.parent.element.querySelector('.' + cls.CONTENT_CLASS);\n        }\n        this.dragObj.instance = new Draggable(element, {\n            clone: true,\n            enableTapHold: this.parent.isAdaptive,\n            enableTailMode: true,\n            cursorAt: { top: -10, left: -10 },\n            dragArea: dragContainment,\n            dragStart: this.dragStart.bind(this),\n            drag: this.drag.bind(this),\n            dragStop: this.dragStop.bind(this),\n            enableAutoScroll: false,\n            helper: this.dragHelper.bind(this)\n        });\n    };\n    DragAndDrop.prototype.dragHelper = function (e) {\n        if (this.parent.isAdaptive && this.parent.touchModule.mobilePopup &&\n            this.parent.touchModule.mobilePopup.element.classList.contains(cls.POPUP_OPEN_CLASS)) {\n            this.parent.touchModule.mobilePopup.hide();\n        }\n        this.dragObj.element = closest(e.sender.target, '.' + cls.CARD_CLASS);\n        if (isNullOrUndefined(this.dragObj.element)) {\n            return null;\n        }\n        this.dragObj.element.style.width = formatUnit(this.dragObj.element.offsetWidth);\n        var cloneWrapper = createElement('div', { innerHTML: this.dragObj.element.outerHTML });\n        this.dragObj.cloneElement = cloneWrapper.children.item(0);\n        addClass([this.dragObj.cloneElement], cls.CLONED_CARD_CLASS);\n        this.dragObj.element.parentElement.appendChild(this.dragObj.cloneElement);\n        this.dragObj.targetCloneMulti = createElement('div', { className: cls.TARGET_MULTI_CLONE_CLASS });\n        this.dragObj.targetClone = createElement('div', {\n            className: cls.DROPPED_CLONE_CLASS,\n            styles: 'width:100%;height:' + formatUnit(this.dragObj.element.offsetHeight)\n        });\n        this.dragObj.modifiedData = [];\n        return this.dragObj.cloneElement;\n    };\n    DragAndDrop.prototype.dragStart = function (e) {\n        var _this = this;\n        this.dragObj.selectedCards = this.dragObj.element;\n        if (this.dragObj.element.classList.contains(cls.CARD_SELECTION_CLASS)) {\n            var className = '.' + cls.CARD_CLASS + '.' + cls.CARD_SELECTION_CLASS + ':not(.' + cls.CLONED_CARD_CLASS + ')';\n            var closestEle = closest(this.dragObj.element, '.' + cls.CONTENT_ROW_CLASS);\n            this.dragObj.selectedCards = [].slice.call(closestEle.querySelectorAll(className));\n            this.dragObj.selectedCards.forEach(function (element) {\n                _this.dragObj.cardDetails.push(_this.parent.getCardDetails(element));\n            });\n        }\n        else {\n            this.dragObj.cardDetails = [this.parent.getCardDetails(this.dragObj.element)];\n        }\n        var dragArgs = { cancel: false, data: this.dragObj.cardDetails, event: e, element: this.dragObj.selectedCards };\n        this.parent.trigger(events.dragStart, dragArgs, function (dragEventArgs) {\n            if (dragEventArgs.cancel) {\n                _this.removeElement(_this.dragObj.cloneElement);\n                _this.dragObj.instance.intDestroy(e);\n                _this.dragObj.element = null;\n                _this.dragObj.targetClone = null;\n                _this.dragObj.draggedClone = null;\n                _this.dragObj.cloneElement = null;\n                _this.dragObj.targetCloneMulti = null;\n                return;\n            }\n            if (_this.dragObj.element.classList.contains(cls.CARD_SELECTION_CLASS)) {\n                _this.dragObj.selectedCards.forEach(function (element) { _this.draggedClone(element); });\n                if (_this.dragObj.selectedCards.length > 1) {\n                    _this.dragObj.cloneElement.innerHTML = '';\n                    var drag = createElement('div', {\n                        className: 'e-multi-card-text',\n                        innerHTML: _this.dragObj.selectedCards.length + ' Cards'\n                    });\n                    _this.dragObj.cloneElement.appendChild(drag);\n                    classList(_this.dragObj.cloneElement, ['e-multi-card-clone'], [cls.CARD_SELECTION_CLASS]);\n                    _this.parent.layoutModule.disableAttributeSelection(_this.dragObj.cloneElement);\n                    _this.dragObj.cloneElement.style.width = '90px';\n                }\n            }\n            else {\n                _this.draggedClone(_this.dragObj.element);\n            }\n            EventHandler.add(document.body, 'keydown', _this.keydownHandler, _this);\n            _this.parent.notify(events.contentReady, {});\n        });\n    };\n    DragAndDrop.prototype.draggedClone = function (element) {\n        this.dragObj.draggedClone = createElement('div', {\n            className: cls.DRAGGED_CLONE_CLASS,\n            styles: 'width:' + formatUnit(element.offsetWidth - 1) + ';height:' + formatUnit(element.offsetHeight)\n        });\n        element.insertAdjacentElement('afterend', this.dragObj.draggedClone);\n        addClass([element], cls.DRAGGED_CARD_CLASS);\n    };\n    DragAndDrop.prototype.drag = function (e) {\n        var _this = this;\n        if (!e.target) {\n            return;\n        }\n        var cardElement = closest(e.target, '.' + cls.ROOT_CLASS + ' .' + cls.CARD_CLASS);\n        var target = cardElement || e.target;\n        var selector = '.' + cls.CONTENT_ROW_CLASS + ':not(.' + cls.SWIMLANE_ROW_CLASS + ') .' + cls.CONTENT_CELLS_CLASS\n            + '.' + cls.DROPPABLE_CLASS;\n        var contentCell = closest(target, selector);\n        this.externalDrop(target);\n        this.kanbanObj = this.parent.isExternalKanbanDrop ? this.parent.externalDropObj : this.parent;\n        this.calculateArgs(e);\n        if (contentCell && document.body.style.cursor !== 'not-allowed') {\n            var targetKey = this.getColumnKey(contentCell);\n            var keys = targetKey.split(',');\n            this.multiCloneRemove();\n            var isDrag = (targetKey === this.getColumnKey(closest(this.dragObj.draggedClone, '.' + cls.CONTENT_CELLS_CLASS)))\n                ? true : false;\n            if (keys.length === 1 || isDrag) {\n                if (target.classList.contains(cls.DRAGGED_CLONE_CLASS)) {\n                    this.removeElement(this.dragObj.targetClone, this.kanbanObj);\n                }\n                if (target.classList.contains(cls.CARD_CLASS)) {\n                    var element = target.classList.contains(cls.DRAGGED_CLONE_CLASS) ?\n                        (target.previousElementSibling.classList.contains(cls.DRAGGED_CARD_CLASS) ? null : target.previousElementSibling)\n                        : target.previousElementSibling;\n                    var insertClone = 'afterend';\n                    if (isNullOrUndefined(element)) {\n                        var pageY = target.classList.contains(cls.DRAGGED_CLONE_CLASS) ? (this.dragObj.pageY / 2) :\n                            this.dragObj.pageY;\n                        var height = target.classList.contains(cls.DRAGGED_CLONE_CLASS) ? target.offsetHeight :\n                            (target.offsetHeight / 2);\n                        if ((pageY - (this.kanbanObj.element.getBoundingClientRect().top + target.offsetTop)) < height) {\n                            insertClone = 'beforebegin';\n                        }\n                    }\n                    target.insertAdjacentElement(insertClone, this.dragObj.targetClone);\n                }\n                else if (target.classList.contains(cls.CONTENT_CELLS_CLASS) && !closest(target, '.' + cls.SWIMLANE_ROW_CLASS)) {\n                    if (target.querySelectorAll('.' + cls.DRAGGED_CARD_CLASS).length !== 0 &&\n                        target.querySelectorAll('.' + cls.CARD_CLASS + ':not(.e-kanban-dragged-card):not(.e-cloned-card)').length === 0) {\n                        return;\n                    }\n                    else {\n                        target.querySelector('.' + cls.CARD_WRAPPER_CLASS).appendChild(this.dragObj.targetClone);\n                    }\n                }\n                else if (target.classList.contains(cls.CARD_WRAPPER_CLASS) && !closest(target, '.' + cls.SWIMLANE_ROW_CLASS)\n                    && contentCell.querySelectorAll('.' + cls.CARD_CLASS).length === 0) {\n                    target.appendChild(this.dragObj.targetClone);\n                }\n            }\n            else if (keys.length > 1 && contentCell.classList.contains(cls.DROPPING_CLASS)) {\n                this.multiCloneCreate(keys, contentCell);\n            }\n            this.kanbanObj.notify(events.contentReady, {});\n        }\n        if (this.kanbanObj.element.querySelectorAll('.' + cls.DROPPING_CLASS).length === 0) {\n            this.cellDropping();\n        }\n        var isCollapsed = false;\n        if (contentCell) {\n            isCollapsed = contentCell.classList.contains(cls.COLLAPSED_CLASS) && contentCell.classList.contains(cls.DROPPING_CLASS);\n        }\n        if (isCollapsed) {\n            this.toggleVisible(target);\n            addClass([contentCell], cls.TOGGLE_VISIBLE_CLASS);\n        }\n        var tColumn = [].slice.call(this.kanbanObj.element.querySelectorAll('.' + cls.TOGGLE_VISIBLE_CLASS));\n        if (tColumn.length > 0 && !target.classList.contains(cls.TOGGLE_VISIBLE_CLASS)\n            && !closest(target, '.' + cls.TOGGLE_VISIBLE_CLASS)) {\n            this.toggleVisible(target, tColumn.slice(-1)[0]);\n            removeClass(tColumn, cls.TOGGLE_VISIBLE_CLASS);\n        }\n        this.kanbanObj.notify(events.contentReady, {});\n        var multiKeyTarget = closest(target, '.' + cls.MULTI_COLUMN_KEY_CLASS);\n        if (multiKeyTarget) {\n            var columnKeys = [].slice.call(this.kanbanObj.element.querySelectorAll('.' + cls.MULTI_COLUMN_KEY_CLASS + ':not(.' +\n                cls.DISABLED_CLASS + ')')).filter(function (element) { return _this.getColumnKey(element) === _this.getColumnKey(multiKeyTarget); });\n            if (columnKeys.length > 0) {\n                addClass(columnKeys, cls.MULTI_ACTIVE_CLASS);\n                if (columnKeys[0].previousElementSibling) {\n                    addClass([columnKeys[0].previousElementSibling], 'e-multi-bottom-border');\n                }\n            }\n        }\n        document.body.style.cursor = (contentCell && contentCell.classList.contains(cls.DROPPING_CLASS)) ? '' : 'not-allowed';\n        if (cardElement && !(closest(cardElement, '.' + cls.CONTENT_CELLS_CLASS)).classList.contains(cls.DROPPING_CLASS)) {\n            cardElement.style.cursor = 'not-allowed';\n            document.body.style.cursor = 'not-allowed';\n        }\n        if (this.isExternalDrop && document.body.style.cursor === 'not-allowed') {\n            document.body.style.cursor = '';\n        }\n        if (document.body.style.cursor === 'not-allowed') {\n            this.removeElement(this.dragObj.targetClone, this.kanbanObj);\n            this.multiCloneRemove();\n        }\n        this.updateScrollPosition();\n        var dragArgs = { data: this.dragObj.cardDetails, event: e, element: this.dragObj.selectedCards };\n        this.kanbanObj.trigger(events.drag, dragArgs);\n        this.parent.isExternalKanbanDrop = false;\n        this.isExternalDrop = false;\n    };\n    DragAndDrop.prototype.removeElement = function (element, kanbanObj) {\n        kanbanObj = kanbanObj ? kanbanObj : this.parent;\n        if (kanbanObj.element.getElementsByClassName(element.className).length > 0) {\n            remove(element);\n        }\n    };\n    DragAndDrop.prototype.externalDrop = function (target) {\n        var _this = this;\n        this.parent.externalDropId.forEach(function (externalDropId) {\n            var targetRootElement = closest(target, externalDropId);\n            if (targetRootElement) {\n                if (targetRootElement.classList.contains('e-kanban')) {\n                    _this.parent.externalDropObj = document.querySelector(externalDropId).ej2_instances[0];\n                    _this.parent.isExternalKanbanDrop = true;\n                    var className = '.' + cls.CONTENT_ROW_CLASS + ':not(.' + cls.SWIMLANE_ROW_CLASS +\n                        '):not(.' + cls.COLLAPSED_CLASS + ') .' + cls.CONTENT_CELLS_CLASS;\n                    var cells = [].slice.call(_this.parent.externalDropObj.element.querySelectorAll(className));\n                    addClass(cells, cls.DROPPING_CLASS);\n                }\n                else {\n                    _this.isExternalDrop = true;\n                }\n            }\n        });\n    };\n    DragAndDrop.prototype.multiCloneCreate = function (keys, contentCell) {\n        var offsetHeight = contentCell.offsetHeight;\n        var limitEle = contentCell.querySelector('.' + cls.LIMITS_CLASS);\n        if (limitEle) {\n            offsetHeight -= limitEle.offsetHeight;\n        }\n        this.dragObj.targetCloneMulti.style.height = formatUnit(offsetHeight);\n        if (contentCell.querySelector('.' + cls.SHOW_ADD_BUTTON)) {\n            addClass([contentCell.querySelector('.' + cls.SHOW_ADD_BUTTON)], cls.MULTI_CARD_WRAPPER_CLASS);\n        }\n        addClass([contentCell.querySelector('.' + cls.CARD_WRAPPER_CLASS)], cls.MULTI_CARD_WRAPPER_CLASS);\n        contentCell.querySelector('.' + cls.CARD_WRAPPER_CLASS).style.height = 'auto';\n        contentCell.style.borderStyle = 'none';\n        this.removeElement(this.dragObj.targetClone);\n        for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n            var key = keys_1[_i];\n            var dragCell = closest(this.dragObj.draggedClone, '.' + cls.CONTENT_CELLS_CLASS);\n            var transition = this.kanbanObj.columns[dragCell.cellIndex].transitionColumns;\n            var allowTransition = this.allowedTransition(this.dragObj.element.getAttribute('data-key'), key, transition);\n            var name_1 = allowTransition ? '' : ' ' + cls.DISABLED_CLASS;\n            var colKey = createElement('div', {\n                className: cls.MULTI_COLUMN_KEY_CLASS + name_1,\n                attrs: { 'data-key': key.trim() }\n            });\n            var text = createElement('div', { className: 'e-text', innerHTML: key.trim() });\n            contentCell.appendChild(this.dragObj.targetCloneMulti).appendChild(colKey).appendChild(text);\n            colKey.style.cursor = allowTransition ? '' : 'not-allowed';\n            colKey.style.lineHeight = colKey.style.height = formatUnit((offsetHeight / keys.length));\n            text.style.top = formatUnit((offsetHeight / 2) - (text.offsetHeight / 2));\n        }\n    };\n    DragAndDrop.prototype.allowedTransition = function (currentCardKey, targetCardKey, allowedKey) {\n        var allowTransition = true;\n        var targetKey = targetCardKey.split(',');\n        for (var i = 0; i < targetKey.length; i++) {\n            if (currentCardKey === targetKey[i].trim()) {\n                return true;\n            }\n            if (allowedKey) {\n                if (allowedKey.length === 1 && allowedKey[0].length === 0) {\n                    return true;\n                }\n                for (var j = 0; j < allowedKey.length; j++) {\n                    if (targetKey[i].trim() === allowedKey[j].trim()) {\n                        return true;\n                    }\n                    else {\n                        allowTransition = false;\n                    }\n                }\n            }\n        }\n        return allowTransition;\n    };\n    DragAndDrop.prototype.cellDropping = function () {\n        var _this = this;\n        var dragCell = closest(this.dragObj.draggedClone, '.' + cls.CONTENT_CELLS_CLASS);\n        var dragRow = closest(this.dragObj.draggedClone, '.' + cls.CONTENT_ROW_CLASS);\n        this.addDropping(dragRow, dragCell);\n        if (dragCell && dragCell.classList.contains(cls.DROP_CLASS)) {\n            addClass([dragCell], cls.DROPPING_CLASS);\n        }\n        if (this.kanbanObj.swimlaneSettings.keyField && this.kanbanObj.swimlaneSettings.allowDragAndDrop) {\n            var className = '.' + cls.CONTENT_ROW_CLASS + ':not(.' + cls.SWIMLANE_ROW_CLASS + '):not(.' + cls.COLLAPSED_CLASS + ')';\n            var rows = [].slice.call(this.kanbanObj.element.querySelectorAll(className));\n            [].slice.call(rows).forEach(function (row) {\n                if (dragRow !== row) {\n                    _this.addDropping(row, dragCell);\n                }\n            });\n        }\n    };\n    DragAndDrop.prototype.addDropping = function (dragRow, dragCell) {\n        var _this = this;\n        if (dragCell && dragRow) {\n            [].slice.call(dragRow.children).forEach(function (cell) {\n                var transition = _this.kanbanObj.columns[dragCell.cellIndex].transitionColumns;\n                if (cell !== dragCell && cell.classList.contains(cls.DROP_CLASS) &&\n                    _this.allowedTransition(dragCell.getAttribute('data-key'), cell.getAttribute('data-key'), transition)) {\n                    addClass([cell], cls.DROPPING_CLASS);\n                }\n            });\n        }\n    };\n    DragAndDrop.prototype.keydownHandler = function (e) {\n        if (e.code === 'Escape' && this.dragObj.cloneElement) {\n            EventHandler.remove(this.dragObj.cloneElement, 'keydown', this.keydownHandler);\n            this.dragObj.element.removeAttribute('aria-grabbed');\n            this.dragStopClear();\n            this.dragStopPostClear();\n        }\n    };\n    DragAndDrop.prototype.dragStop = function (e) {\n        var _this = this;\n        var contentCell = closest(this.dragObj.targetClone, '.' + cls.CONTENT_CELLS_CLASS);\n        var columnKey;\n        var dropIndex;\n        EventHandler.remove(document.body, 'keydown', this.keydownHandler);\n        if (this.dragObj.targetClone.parentElement) {\n            var className = '.' + cls.CARD_CLASS + ':not(.' + cls.DRAGGED_CARD_CLASS + '),.' + cls.DROPPED_CLONE_CLASS;\n            var element = [].slice.call(this.dragObj.targetClone.parentElement.querySelectorAll(className));\n            dropIndex = element.indexOf(this.dragObj.targetClone);\n        }\n        if (!isNullOrUndefined(this.kanbanObj) && this.kanbanObj.element.querySelector('.' + cls.TARGET_MULTI_CLONE_CLASS)) {\n            columnKey = closest(e.target, '.' + cls.MULTI_COLUMN_KEY_CLASS + ':not(.' + cls.DISABLED_CLASS + ')');\n        }\n        if (contentCell || columnKey) {\n            var cardStatus_1;\n            if (contentCell) {\n                cardStatus_1 = this.getColumnKey(contentCell);\n            }\n            else {\n                cardStatus_1 = this.getColumnKey(columnKey);\n                contentCell = closest(columnKey, '.' + cls.CONTENT_CELLS_CLASS);\n            }\n            if (this.dragObj.selectedCards instanceof HTMLElement) {\n                this.updateDroppedData(this.dragObj.selectedCards, cardStatus_1, contentCell);\n            }\n            else {\n                this.dragObj.selectedCards.forEach(function (element) { _this.updateDroppedData(element, cardStatus_1, contentCell); });\n            }\n            if (this.parent.sortSettings.field && this.parent.sortSettings.sortBy === 'Index') {\n                this.changeOrder(this.dragObj.modifiedData);\n            }\n        }\n        if (this.dragObj.modifiedData.length === 0) {\n            this.dragObj.modifiedData = this.dragObj.cardDetails;\n        }\n        var dragArgs = {\n            cancel: false, data: this.dragObj.modifiedData, event: e, element: this.dragObj.selectedCards,\n            dropIndex: dropIndex\n        };\n        this.parent.trigger(events.dragStop, dragArgs, function (dragEventArgs) {\n            _this.dragStopClear();\n            if (!dragEventArgs.cancel) {\n                if (contentCell || columnKey) {\n                    var updateCard = dragEventArgs.data instanceof Array &&\n                        dragEventArgs.data.length > 1 ? dragEventArgs.data :\n                        dragEventArgs.data[0];\n                    _this.parent.crudModule.updateCard(updateCard, dragEventArgs.dropIndex);\n                }\n            }\n            _this.dragStopPostClear();\n        });\n    };\n    DragAndDrop.prototype.dragStopClear = function () {\n        this.removeElement(this.dragObj.draggedClone);\n        this.removeElement(this.dragObj.targetClone, this.kanbanObj);\n        this.removeElement(this.dragObj.cloneElement);\n        var dragMultiClone = [].slice.call(this.parent.element.querySelectorAll('.' + cls.DRAGGED_CLONE_CLASS));\n        dragMultiClone.forEach(function (clone) { remove(clone); });\n        this.dragObj.element.style.removeProperty('width');\n        this.multiCloneRemove();\n        if (this.dragObj.selectedCards instanceof HTMLElement) {\n            removeClass([this.dragObj.selectedCards], cls.DRAGGED_CARD_CLASS);\n        }\n        else {\n            removeClass(this.dragObj.selectedCards, cls.DRAGGED_CARD_CLASS);\n        }\n        clearInterval(this.dragObj.navigationInterval);\n        this.dragObj.navigationInterval = null;\n        if (document.body.style.cursor === 'not-allowed') {\n            document.body.style.cursor = '';\n        }\n        var styleCards = [].slice.call(this.parent.element.querySelectorAll('.' + cls.CARD_CLASS + '[style]'));\n        styleCards.forEach(function (styleCard) { styleCard.style.cursor = ''; });\n        var className = '.' + cls.CONTENT_ROW_CLASS + ':not(.' + cls.SWIMLANE_ROW_CLASS + ')';\n        var cells = [].slice.call(this.parent.element.querySelectorAll(className + ' .' + cls.CONTENT_CELLS_CLASS));\n        cells.forEach(function (cell) { return removeClass([cell], cls.DROPPING_CLASS); });\n        if (this.parent.externalDropObj) {\n            var externalCells = [].slice.call(this.parent.externalDropObj.element.querySelectorAll(className + ' .' +\n                cls.CONTENT_CELLS_CLASS));\n            externalCells.forEach(function (externalCell) { return removeClass([externalCell], cls.DROPPING_CLASS); });\n        }\n    };\n    DragAndDrop.prototype.dragStopPostClear = function () {\n        if (this.parent.isAdaptive) {\n            this.parent.touchModule.tabHold = false;\n        }\n        this.dragObj.cardDetails = this.dragObj.modifiedData = [];\n        this.isDragging = false;\n        this.parent.isExternalKanbanDrop = false;\n        this.parent.externalDropObj = null;\n    };\n    DragAndDrop.prototype.updateDroppedData = function (element, cardStatus, contentCell) {\n        var crudObj = this.parent.getCardDetails(element);\n        var crudData = extend({}, crudObj, null, true);\n        if (cardStatus.split(',').length === 1) {\n            crudData[this.parent.keyField] = cardStatus;\n        }\n        if (this.parent.swimlaneSettings.keyField && this.parent.swimlaneSettings.allowDragAndDrop) {\n            var prev = closest(contentCell, '.' + cls.CONTENT_ROW_CLASS).previousElementSibling;\n            if (this.parent.isAdaptive) {\n                var keyField = this.parent.layoutModule.kanbanRows[this.parent.layoutModule.swimlaneIndex].keyField;\n                crudData[this.parent.swimlaneSettings.keyField] = keyField;\n            }\n            else {\n                crudData[this.parent.swimlaneSettings.keyField] = this.getColumnKey(prev);\n            }\n        }\n        this.dragObj.modifiedData.push(crudData);\n    };\n    DragAndDrop.prototype.changeOrder = function (modifieddata) {\n        var _this = this;\n        var prevele = false;\n        var element = this.kanbanObj.sortSettings.direction === 'Ascending' ?\n            this.dragObj.targetClone.previousElementSibling : this.dragObj.targetClone.nextElementSibling;\n        if (element && !element.classList.contains(cls.DRAGGED_CARD_CLASS) && !element.classList.contains(cls.CLONED_CARD_CLASS)\n            && !element.classList.contains(cls.DRAGGED_CLONE_CLASS)) {\n            prevele = true;\n        }\n        else if (this.dragObj.targetClone.nextElementSibling && this.kanbanObj.sortSettings.direction === 'Ascending') {\n            element = this.dragObj.targetClone.nextElementSibling;\n        }\n        else if (this.dragObj.targetClone.previousElementSibling && this.kanbanObj.sortSettings.direction === 'Descending') {\n            element = this.dragObj.targetClone.previousElementSibling;\n        }\n        else {\n            return;\n        }\n        if (element.classList.contains(cls.CARD_CLASS)) {\n            var obj = this.kanbanObj.getCardDetails(element);\n            var keyIndex_1 = obj[this.kanbanObj.sortSettings.field];\n            if (modifieddata.length > 1 && this.kanbanObj.sortSettings.direction === 'Descending') {\n                modifieddata = modifieddata.reverse();\n            }\n            modifieddata.forEach(function (data, index) {\n                if (prevele) {\n                    data[_this.kanbanObj.sortSettings.field] = ++keyIndex_1;\n                }\n                else if (keyIndex_1 !== 1 && index <= data[_this.kanbanObj.sortSettings.field]) {\n                    data[_this.kanbanObj.sortSettings.field] = --keyIndex_1;\n                }\n                else if (keyIndex_1 === 1) {\n                    data[_this.kanbanObj.sortSettings.field] = index + 1;\n                }\n            });\n        }\n    };\n    DragAndDrop.prototype.toggleVisible = function (target, tColumn) {\n        var _this = this;\n        var headerCells = '.' + cls.HEADER_CELLS_CLASS + ':not(.' + cls.STACKED_HEADER_CELL_CLASS + ')';\n        var lists = [].slice.call(this.kanbanObj.element.querySelectorAll(headerCells));\n        lists.forEach(function (list) {\n            if (_this.getColumnKey(list) === _this.getColumnKey(tColumn || target)) {\n                _this.kanbanObj.actionModule.columnToggle(list);\n            }\n        });\n        var cloneTarget = closest(this.dragObj.draggedClone, '.' + cls.CONTENT_CELLS_CLASS);\n        if (cloneTarget) {\n            var width = formatUnit(cloneTarget.offsetWidth - events.cardSpace);\n            this.dragObj.draggedClone.style.width = width;\n            this.dragObj.cloneElement.style.width = width;\n        }\n    };\n    DragAndDrop.prototype.multiCloneRemove = function () {\n        var cloneMulti = [].slice.call(this.kanbanObj.element.querySelectorAll('.' + cls.TARGET_MULTI_CLONE_CLASS));\n        if (cloneMulti.length > 0) {\n            var columnKey = [].slice.call(this.kanbanObj.element.querySelectorAll('.' + cls.MULTI_COLUMN_KEY_CLASS));\n            columnKey.forEach(function (node) { return remove(node); });\n            cloneMulti.forEach(function (node) {\n                var cell = closest(node, '.' + cls.CONTENT_CELLS_CLASS);\n                if (cell) {\n                    cell.style.borderStyle = '';\n                    if (cell.querySelector('.' + cls.SHOW_ADD_BUTTON)) {\n                        removeClass([cell.querySelector('.' + cls.SHOW_ADD_BUTTON)], cls.MULTI_CARD_WRAPPER_CLASS);\n                    }\n                    removeClass([cell.querySelector('.' + cls.CARD_WRAPPER_CLASS)], cls.MULTI_CARD_WRAPPER_CLASS);\n                }\n            });\n            this.removeElement(this.dragObj.targetCloneMulti, this.kanbanObj);\n        }\n    };\n    DragAndDrop.prototype.calculateArgs = function (e) {\n        var eventArgs = this.getPageCoordinates(e);\n        this.dragObj.pageY = eventArgs.pageY;\n        this.dragObj.pageX = eventArgs.pageX;\n        this.isDragging = true;\n        if (this.kanbanObj.isAdaptive && this.kanbanObj.tooltipModule) {\n            this.kanbanObj.tooltipModule.tooltipObj.close();\n        }\n    };\n    DragAndDrop.prototype.getPageCoordinates = function (e) {\n        var eventArgs = e.event;\n        return eventArgs && eventArgs.changedTouches ? eventArgs.changedTouches[0] : e.changedTouches ? e.changedTouches[0] :\n            eventArgs || e;\n    };\n    DragAndDrop.prototype.getColumnKey = function (target) {\n        if (target && target.getAttribute('data-key')) {\n            return target.getAttribute('data-key').trim();\n        }\n        return '';\n    };\n    DragAndDrop.prototype.updateScrollPosition = function () {\n        var _this = this;\n        if (isNullOrUndefined(this.dragObj.navigationInterval)) {\n            this.dragObj.navigationInterval = window.setInterval(function () { _this.autoScroll(); }, 100);\n        }\n    };\n    DragAndDrop.prototype.autoScrollValidation = function () {\n        var pageY = this.dragObj.pageY;\n        var pageX = this.dragObj.pageX;\n        var autoScrollDistance = 30;\n        var dragEdges = { left: false, right: false, top: false, bottom: false };\n        var viewBoundaries = this.kanbanObj.element.querySelector('.' + cls.CONTENT_CLASS).getBoundingClientRect();\n        if ((pageY < viewBoundaries.top + autoScrollDistance + window.pageYOffset) &&\n            (pageY > viewBoundaries.top + window.pageYOffset)) {\n            dragEdges.top = true;\n        }\n        if ((pageY > (viewBoundaries.bottom - autoScrollDistance) + window.pageYOffset) &&\n            (pageY < viewBoundaries.bottom + window.pageYOffset)) {\n            dragEdges.bottom = true;\n        }\n        if ((pageX < viewBoundaries.left + autoScrollDistance + window.pageXOffset) &&\n            (pageX > viewBoundaries.left + window.pageXOffset)) {\n            dragEdges.left = true;\n        }\n        if ((pageX > (viewBoundaries.right - autoScrollDistance) + window.pageXOffset) &&\n            (pageX < viewBoundaries.right + window.pageXOffset)) {\n            dragEdges.right = true;\n        }\n        this.dragEdges = dragEdges;\n    };\n    DragAndDrop.prototype.autoScroll = function () {\n        this.autoScrollValidation();\n        var scrollSensitivity = 30;\n        if (this.kanbanObj.isAdaptive) {\n            var parent_1;\n            if (this.dragEdges.top || this.dragEdges.bottom) {\n                if (this.dragObj.targetClone) {\n                    parent_1 = closest(this.dragObj.targetClone, '.' + cls.CARD_WRAPPER_CLASS);\n                }\n                else {\n                    parent_1 = closest(this.dragObj.draggedClone, '.' + cls.CARD_WRAPPER_CLASS);\n                }\n            }\n            else if (this.dragEdges.right || this.dragEdges.left) {\n                parent_1 = this.kanbanObj.element.querySelector('.' + cls.CONTENT_CLASS);\n            }\n            if (parent_1) {\n                var yIsScrollable = parent_1.offsetHeight <= parent_1.scrollHeight;\n                var xIsScrollable = parent_1.offsetWidth <= parent_1.scrollWidth;\n                var yInBounds = parent_1.scrollTop >= 0 && parent_1.scrollTop + parent_1.offsetHeight <= parent_1.scrollHeight;\n                var xInBounds = parent_1.scrollLeft >= 0 && parent_1.scrollLeft + parent_1.offsetWidth <= parent_1.scrollWidth;\n                if (yIsScrollable && yInBounds && (this.dragEdges.top || this.dragEdges.bottom)) {\n                    parent_1.scrollTop += this.dragEdges.top ? -(scrollSensitivity + 36) : scrollSensitivity;\n                }\n                if (xIsScrollable && xInBounds && (this.dragEdges.left || this.dragEdges.right)) {\n                    var scroll_1 = (this.kanbanObj.layoutModule.getWidth() * (this.kanbanObj.columns.length - 1)) >\n                        parent_1.scrollLeft;\n                    if (scroll_1 || this.dragEdges.left) {\n                        parent_1.scrollLeft += this.dragEdges.left ? -scrollSensitivity : scrollSensitivity;\n                    }\n                }\n            }\n        }\n        else {\n            var parent_2 = this.kanbanObj.element.querySelector('.' + cls.CONTENT_CLASS);\n            var column = this.dragObj.targetClone.parentElement;\n            var yScrollable = parent_2.offsetHeight <= parent_2.scrollHeight;\n            var xScrollable = parent_2.offsetWidth <= parent_2.scrollWidth;\n            var yBounds = yScrollable && parent_2.scrollTop >= 0 && parent_2.scrollTop + parent_2.offsetHeight <= parent_2.scrollHeight;\n            var xBounds = xScrollable && parent_2.scrollLeft >= 0 && parent_2.scrollLeft + parent_2.offsetWidth <= parent_2.scrollWidth;\n            if (yBounds && (this.dragEdges.top || this.dragEdges.bottom)) {\n                parent_2.scrollTop += this.dragEdges.top ? -scrollSensitivity : scrollSensitivity;\n                if (column) {\n                    column.scrollTop += this.dragEdges.top ? -scrollSensitivity : scrollSensitivity;\n                }\n            }\n            if (xBounds && (this.dragEdges.left || this.dragEdges.right)) {\n                parent_2.scrollLeft += this.dragEdges.left ? -scrollSensitivity : scrollSensitivity;\n                if (column) {\n                    column.scrollLeft += this.dragEdges.left ? -scrollSensitivity : scrollSensitivity;\n                }\n            }\n            if (this.dragObj.pageY - window.scrollY < scrollSensitivity) {\n                window.scrollTo(window.scrollX, window.scrollY - scrollSensitivity);\n            }\n            else if (window.innerHeight - (this.dragObj.pageY - window.scrollY) < scrollSensitivity) {\n                window.scrollTo(window.scrollX, window.scrollY + scrollSensitivity);\n            }\n        }\n    };\n    DragAndDrop.prototype.unWireDragEvents = function (element) {\n        var dragInstance = element.ej2_instances[0];\n        if (dragInstance && !dragInstance.isDestroyed) {\n            dragInstance.destroy();\n        }\n    };\n    return DragAndDrop;\n}());\nexport { DragAndDrop };\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { append, createElement, remove, isNullOrUndefined, closest, extend } from '@syncfusion/ej2-base';\nimport { DropDownList } from '@syncfusion/ej2-dropdowns';\nimport { FormValidator, NumericTextBox, TextBox } from '@syncfusion/ej2-inputs';\nimport { Dialog } from '@syncfusion/ej2-popups';\nimport * as events from '../base/constant';\nimport * as cls from '../base/css-constant';\n/**\n * Dialog module is used to perform card actions.\n */\nvar KanbanDialog = /** @class */ (function () {\n    /**\n     * Constructor for dialog module\n     *\n     * @param {Kanban} parent Accepts the kanban instance\n     */\n    function KanbanDialog(parent) {\n        this.preventUpdate = false;\n        this.parent = parent;\n    }\n    KanbanDialog.prototype.openDialog = function (action, data) {\n        this.action = action;\n        this.parent.activeCardData.data = data;\n        this.renderDialog(data, action);\n        this.dialogObj.show();\n    };\n    KanbanDialog.prototype.closeDialog = function () {\n        this.dialogObj.hide();\n    };\n    KanbanDialog.prototype.renderDialog = function (args, action) {\n        this.element = createElement('div', { id: this.parent.element.id + '_dialog_wrapper' });\n        this.parent.element.appendChild(this.element);\n        var dialogModel = {\n            buttons: this.getDialogButtons(action),\n            content: this.getDialogContent(args, action),\n            cssClass: cls.DIALOG_CLASS,\n            enableRtl: this.parent.enableRtl,\n            header: this.parent.localeObj.getConstant(action === 'Add' ? 'addTitle' : action === 'Edit' ? 'editTitle' : 'deleteTitle'),\n            height: 'auto',\n            isModal: true,\n            showCloseIcon: true,\n            width: (action === 'Delete') ? 400 : 350,\n            visible: false,\n            beforeOpen: this.onBeforeDialogOpen.bind(this),\n            beforeClose: this.onBeforeDialogClose.bind(this)\n        };\n        this.dialogObj = new Dialog(extend(dialogModel, action !== 'Delete' ? (this.parent.dialogSettings.model || {}) : {}), this.element);\n        if (action !== 'Delete') {\n            this.applyFormValidation();\n        }\n        this.dialogObj.element.querySelector('.e-dlg-closeicon-btn').title = this.parent.localeObj.getConstant('close');\n    };\n    KanbanDialog.prototype.getDialogContent = function (args, action) {\n        if (action === 'Delete') {\n            return this.parent.localeObj.getConstant('deleteContent');\n        }\n        else {\n            var container = createElement('div', { className: cls.FORM_WRAPPER_CLASS });\n            var form = createElement('form', {\n                id: this.parent.element.id + 'EditForm',\n                className: cls.FORM_CLASS, attrs: { onsubmit: 'return false;' }\n            });\n            if (this.parent.dialogSettings.template) {\n                if (args) {\n                    this.destroyComponents();\n                    [].slice.call(form.childNodes).forEach(function (node) { return remove(node); });\n                }\n                var templateId = this.parent.element.id + '_dialogTemplate';\n                var dialogTemplate = this.parent.templateParser(this.parent.dialogSettings.template)(args, this.parent, 'dialogTemplate', templateId, false);\n                append(dialogTemplate, form);\n                this.parent.renderTemplates();\n            }\n            else {\n                var dialogWrapper = createElement('div', { className: cls.DIALOG_CONTENT_CONTAINER });\n                form.appendChild(dialogWrapper);\n                var table = createElement('table');\n                dialogWrapper.appendChild(table);\n                var dialogFields = this.getDialogFields();\n                for (var _i = 0, dialogFields_1 = dialogFields; _i < dialogFields_1.length; _i++) {\n                    var field = dialogFields_1[_i];\n                    var tr = createElement('tr');\n                    table.appendChild(tr);\n                    tr.appendChild(createElement('td', { className: 'e-label', innerHTML: field.text ? field.text : field.key }));\n                    var td = createElement('td');\n                    tr.appendChild(td);\n                    td.appendChild(this.renderComponents(field));\n                }\n            }\n            container.appendChild(form);\n            return container;\n        }\n    };\n    KanbanDialog.prototype.getDialogFields = function () {\n        var fields = this.parent.dialogSettings.fields;\n        if (fields.length === 0) {\n            fields = [\n                { text: 'ID', key: this.parent.cardSettings.headerField, type: 'TextBox' },\n                { key: this.parent.keyField, type: 'DropDown' },\n                { key: this.parent.cardSettings.contentField, type: 'TextArea' }\n            ];\n            if (this.parent.sortSettings.field) {\n                fields.splice(fields.length - 1, 0, { key: this.parent.sortSettings.field, type: 'TextBox' });\n            }\n            if (this.parent.swimlaneSettings.keyField) {\n                fields.splice(fields.length - 1, 0, { key: this.parent.swimlaneSettings.keyField, type: 'DropDown' });\n            }\n        }\n        return fields;\n    };\n    KanbanDialog.prototype.getDialogButtons = function (action) {\n        var primaryButtonClass = action === 'Delete' ? 'e-dialog-yes' : action === 'Add' ? 'e-dialog-add' : 'e-dialog-edit';\n        var flatButtonClass = action === 'Delete' ? 'e-dialog-no' : 'e-dialog-cancel';\n        var dialogButtons = [\n            {\n                buttonModel: {\n                    cssClass: 'e-flat ' + primaryButtonClass, isPrimary: true,\n                    content: this.parent.localeObj.getConstant(action === 'Add' || action === 'Edit' ? 'save' : 'yes')\n                },\n                click: this.dialogButtonClick.bind(this)\n            }, {\n                buttonModel: {\n                    cssClass: 'e-flat ' + flatButtonClass, isPrimary: false,\n                    content: this.parent.localeObj.getConstant(action === 'Add' || action === 'Edit' ? 'cancel' : 'no')\n                },\n                click: this.dialogButtonClick.bind(this)\n            }\n        ];\n        if (action === 'Edit') {\n            var deleteButton = {\n                buttonModel: { cssClass: 'e-flat e-dialog-delete', isPrimary: false, content: this.parent.localeObj.getConstant('delete') },\n                click: this.dialogButtonClick.bind(this)\n            };\n            dialogButtons.splice(0, 0, deleteButton);\n        }\n        return dialogButtons;\n    };\n    KanbanDialog.prototype.renderComponents = function (field) {\n        var wrapper = createElement('div', { className: field.key + '_wrapper' });\n        var element = createElement('input', { className: cls.FIELD_CLASS, attrs: { 'name': field.key } });\n        wrapper.appendChild(element);\n        var divElement;\n        var dropDownOptions;\n        var controlObj;\n        var fieldValue = this.parent.activeCardData.data ?\n            this.parent.activeCardData.data[field.key] : null;\n        switch (field.type) {\n            case 'DropDown':\n                if (field.key === this.parent.keyField) {\n                    var currentKeys = this.parent.layoutModule.columnKeys;\n                    if (this.parent.actionModule.hideColumnKeys.length > 0) {\n                        currentKeys = [];\n                        for (var i = 0; i < this.parent.columns.length; i++) {\n                            if (this.parent.layoutModule.isColumnVisible(this.parent.columns[i])) {\n                                var isNumeric = typeof this.parent.columns[i].keyField === 'number';\n                                if (isNumeric) {\n                                    currentKeys = currentKeys.concat(this.parent.columns[i].keyField.toString());\n                                }\n                                else {\n                                    currentKeys = currentKeys.concat(this.parent.columns[i].keyField.split(',').map(function (e) { return e.trim(); }));\n                                }\n                            }\n                        }\n                    }\n                    dropDownOptions = { dataSource: currentKeys, value: fieldValue ? fieldValue.toString() : fieldValue };\n                }\n                else if (field.key === this.parent.swimlaneSettings.keyField) {\n                    dropDownOptions = {\n                        dataSource: [].slice.call(this.parent.layoutModule.kanbanRows),\n                        fields: { text: 'textField', value: 'keyField' }, value: fieldValue\n                    };\n                }\n                controlObj = new DropDownList(dropDownOptions);\n                break;\n            case 'Numeric':\n                controlObj = new NumericTextBox({ value: fieldValue });\n                break;\n            case 'TextBox':\n                controlObj = new TextBox({ value: fieldValue });\n                if (fieldValue && this.parent.cardSettings.headerField === field.key) {\n                    controlObj.enabled = false;\n                }\n                break;\n            case 'TextArea':\n                remove(element);\n                divElement = createElement('div');\n                element = createElement('textarea', {\n                    className: cls.FIELD_CLASS, attrs: { 'name': field.key, 'rows': '3' },\n                    innerHTML: fieldValue\n                });\n                wrapper.appendChild(divElement).appendChild(element);\n                break;\n            default:\n                break;\n        }\n        if (controlObj) {\n            controlObj.appendTo(element);\n        }\n        return wrapper;\n    };\n    KanbanDialog.prototype.onBeforeDialogOpen = function (args) {\n        var _this = this;\n        var eventProp = {\n            data: this.parent.activeCardData.data,\n            cancel: false, element: this.element,\n            target: this.parent.activeCardData.element,\n            requestType: this.action\n        };\n        this.storeElement = document.activeElement;\n        if (parseInt(args.maxHeight, 10) <= 250) {\n            args.maxHeight = '250px';\n        }\n        this.parent.trigger(events.dialogOpen, eventProp, function (openArgs) {\n            args.cancel = openArgs.cancel;\n            if (openArgs.cancel) {\n                _this.destroy();\n            }\n        });\n    };\n    KanbanDialog.prototype.onBeforeDialogClose = function (args) {\n        var _this = this;\n        var formInputs = this.getFormElements();\n        var cardObj = {};\n        if (args.isInteracted) {\n            /* close icon preventing data update */\n            this.preventUpdate = true;\n        }\n        if (!this.preventUpdate) {\n            for (var _i = 0, formInputs_1 = formInputs; _i < formInputs_1.length; _i++) {\n                var input = formInputs_1[_i];\n                var columnName = input.name || this.getColumnName(input);\n                if (!isNullOrUndefined(columnName) && columnName !== '') {\n                    var value = this.getValueFromElement(input);\n                    if (columnName === this.parent.cardSettings.headerField) {\n                        value = this.getIDType() === 'string' ? value : parseInt(value, 10);\n                    }\n                    cardObj[columnName] = value;\n                }\n            }\n        }\n        this.preventUpdate = false;\n        cardObj = extend(this.parent.activeCardData.data, cardObj);\n        var eventProp = { data: cardObj, cancel: false, element: this.element, requestType: this.action };\n        this.parent.trigger(events.dialogClose, eventProp, function (closeArgs) {\n            args.cancel = closeArgs.cancel;\n            if (!closeArgs.cancel) {\n                _this.cardData = eventProp.data;\n                _this.destroy();\n                _this.parent.actionModule.SingleCardSelection(_this.cardData);\n            }\n        });\n    };\n    KanbanDialog.prototype.getIDType = function () {\n        if (this.parent.kanbanData.length !== 0) {\n            return typeof (this.parent.kanbanData[0][this.parent.cardSettings.headerField]);\n        }\n        return 'string';\n    };\n    KanbanDialog.prototype.applyFormValidation = function () {\n        var _this = this;\n        var form = this.element.querySelector('.' + cls.FORM_CLASS);\n        var rules = {};\n        for (var _i = 0, _a = this.parent.dialogSettings.fields; _i < _a.length; _i++) {\n            var field = _a[_i];\n            rules[field.key] = (field.validationRules && Object.keys(field.validationRules).length > 0) ? field.validationRules : null;\n        }\n        this.formObj = new FormValidator(form, {\n            rules: rules,\n            customPlacement: function (inputElement, error) {\n                var id = error.getAttribute('for');\n                var elem = _this.element.querySelector('#' + id + '_Error');\n                if (!elem) {\n                    _this.createTooltip(inputElement, error, id, '');\n                }\n            },\n            validationComplete: function (args) {\n                var elem = _this.element.querySelector('#' + args.inputName + '_Error');\n                if (elem) {\n                    elem.style.display = (args.status === 'failure') ? '' : 'none';\n                }\n            }\n        });\n    };\n    KanbanDialog.prototype.createTooltip = function (element, error, name, display) {\n        var dlgContent;\n        var client;\n        var inputClient = element.parentElement.getBoundingClientRect();\n        if (this.element.classList.contains(cls.DIALOG_CLASS)) {\n            dlgContent = this.element;\n            client = this.element.getBoundingClientRect();\n        }\n        else {\n            dlgContent = this.element.querySelector('.e-kanban-dialog .e-dlg-content');\n            client = dlgContent.getBoundingClientRect();\n        }\n        var div = createElement('div', {\n            className: 'e-tooltip-wrap e-popup ' + cls.ERROR_VALIDATION_CLASS,\n            id: name + '_Error',\n            styles: 'display:' + display + ';top:' +\n                (inputClient.bottom - client.top + dlgContent.scrollTop + 9) + 'px;left:' +\n                (inputClient.left - client.left + dlgContent.scrollLeft + inputClient.width / 2) + 'px;'\n        });\n        var content = createElement('div', { className: 'e-tip-content' });\n        content.appendChild(error);\n        var arrow = createElement('div', { className: 'e-arrow-tip e-tip-top' });\n        arrow.appendChild(createElement('div', { className: 'e-arrow-tip-outer e-tip-top' }));\n        arrow.appendChild(createElement('div', { className: 'e-arrow-tip-inner e-tip-top' }));\n        div.appendChild(content);\n        div.appendChild(arrow);\n        dlgContent.appendChild(div);\n        div.style.left = (parseInt(div.style.left, 10) - div.offsetWidth / 2) + 'px';\n    };\n    KanbanDialog.prototype.destroyToolTip = function () {\n        if (this.element) {\n            this.element.querySelectorAll('.' + cls.ERROR_VALIDATION_CLASS).forEach(function (node) { return remove(node); });\n        }\n        if (this.formObj && this.formObj.element) {\n            this.formObj.reset();\n        }\n    };\n    KanbanDialog.prototype.dialogButtonClick = function (event) {\n        var target = event.target.cloneNode(true);\n        var id = this.formObj.element.id;\n        if (document.getElementById(id) && this.formObj.validate() &&\n            (target.classList.contains('e-dialog-edit') || target.classList.contains('e-dialog-add'))) {\n            this.dialogObj.hide();\n            if (target.classList.contains('e-dialog-edit')) {\n                var activeCard = this.parent.activeCardData;\n                var updateIndex = void 0;\n                if (activeCard.data[this.parent.keyField] === this.cardData[this.parent.keyField]\n                    && activeCard.element) {\n                    updateIndex = [].slice.call(activeCard.element.parentElement.children).indexOf(activeCard.element);\n                }\n                this.parent.crudModule.updateCard(this.cardData, updateIndex);\n            }\n            if (target.classList.contains('e-dialog-add')) {\n                this.parent.crudModule.addCard(this.cardData);\n            }\n            this.parent.actionModule.SingleCardSelection(this.cardData);\n            this.cardData = null;\n        }\n        if (!target.classList.contains('e-dialog-edit') && !target.classList.contains('e-dialog-add')) {\n            if (target.classList.contains('e-dialog-cancel')) {\n                this.preventUpdate = true;\n            }\n            this.dialogObj.hide();\n            if (target.classList.contains('e-dialog-yes')) {\n                this.parent.crudModule.deleteCard(this.parent.activeCardData.data);\n            }\n            else if (target.classList.contains('e-dialog-no')) {\n                this.openDialog('Edit', this.parent.activeCardData.data);\n            }\n            else if (target.classList.contains('e-dialog-delete')) {\n                this.openDialog('Delete', this.parent.activeCardData.data);\n            }\n        }\n    };\n    KanbanDialog.prototype.getFormElements = function () {\n        var elements = [].slice.call(this.element.querySelectorAll('.' + cls.FIELD_CLASS));\n        var validElements = [];\n        for (var _i = 0, elements_1 = elements; _i < elements_1.length; _i++) {\n            var element = elements_1[_i];\n            if (element.classList.contains('e-control')) {\n                validElements.push(element);\n            }\n            else if (element.querySelector('.e-control')) {\n                validElements.push(element.querySelector('.e-control'));\n            }\n            else {\n                validElements.push(element);\n            }\n        }\n        return validElements;\n    };\n    KanbanDialog.prototype.getColumnName = function (element) {\n        var attrName = element.getAttribute('data-name') || '';\n        if (attrName === '') {\n            var isDropDowns = false;\n            var fieldSelector = '';\n            if (element.classList.contains('e-dropdownlist') || element.classList.contains('e-multiselect')) {\n                fieldSelector = element.classList.contains('e-dropdownlist') ? 'e-ddl' : 'e-multiselect';\n                isDropDowns = true;\n            }\n            else if (element.classList.contains('e-numerictextbox')) {\n                fieldSelector = 'e-numeric';\n            }\n            var classSelector = isDropDowns ? \".\" + fieldSelector + \":not(.e-control)\" : \".\" + fieldSelector;\n            var control = closest(element, classSelector) || element.querySelector(\".\" + fieldSelector);\n            if (control) {\n                var attrEle = control.querySelector('[name]');\n                if (attrEle) {\n                    attrName = attrEle.name;\n                }\n            }\n        }\n        return attrName;\n    };\n    KanbanDialog.prototype.getValueFromElement = function (element) {\n        var value;\n        if (element.classList.contains('e-dropdownlist')) {\n            value = element.ej2_instances[0].value;\n        }\n        else if (element.classList.contains('e-multiselect')) {\n            value = element.ej2_instances[0].value;\n        }\n        else if (element.classList.contains('e-checkbox')) {\n            value = element.ej2_instances[0].checked;\n        }\n        else {\n            if (element.type === 'checkbox') {\n                value = element.checked;\n            }\n            else {\n                value = element.value;\n            }\n        }\n        return value;\n    };\n    KanbanDialog.prototype.destroyComponents = function () {\n        var formelement = this.getFormElements();\n        for (var _i = 0, formelement_1 = formelement; _i < formelement_1.length; _i++) {\n            var element = formelement_1[_i];\n            var instance = element.ej2_instances;\n            if (instance && instance.length > 0) {\n                instance.forEach(function (node) { return node.destroy(); });\n            }\n        }\n    };\n    KanbanDialog.prototype.destroy = function () {\n        this.destroyToolTip();\n        this.destroyComponents();\n        if (this.dialogObj) {\n            this.dialogObj.destroy();\n            this.storeElement.focus();\n            this.dialogObj = null;\n            remove(this.element);\n            this.element = null;\n        }\n    };\n    return KanbanDialog;\n}());\nexport { KanbanDialog };\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { KeyboardEvents, addClass, removeClass, closest } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constant';\n/**\n * Kanban keyboard module\n */\nvar Keyboard = /** @class */ (function () {\n    /**\n     * Constructor for keyboard module\n     *\n     * @param {Kanban} parent Accepts the kanban instance\n     */\n    function Keyboard(parent) {\n        this.keyConfigs = {\n            firstCardSelection: '36',\n            lastCardSelection: '35',\n            upArrow: '38',\n            downArrow: '40',\n            rightArrow: '39',\n            leftArrow: '37',\n            multiSelectionEnter: 'ctrl+13',\n            multiSelectionSpace: 'ctrl+32',\n            multiSelectionByUpArrow: 'shift+38',\n            multiSelectionByDownArrow: 'shift+40',\n            shiftTab: 'shift+tab',\n            enter: '13',\n            tab: 'tab',\n            delete: '46',\n            escape: '27',\n            space: '32'\n        };\n        this.parent = parent;\n        this.parent.element.tabIndex = this.parent.element.tabIndex === -1 ? 0 : this.parent.element.tabIndex;\n        this.keyboardModule = new KeyboardEvents(this.parent.element, {\n            keyAction: this.keyActionHandler.bind(this),\n            keyConfigs: this.keyConfigs,\n            eventName: 'keydown'\n        });\n        this.multiSelection = false;\n    }\n    Keyboard.prototype.keyActionHandler = function (e) {\n        var _this = this;\n        var selectedCard = this.parent.element.querySelectorAll(\".\" + cls.CARD_CLASS + \".\" + cls.CARD_SELECTION_CLASS).item(0);\n        if (!selectedCard && !closest(document.activeElement, \".\" + cls.ROOT_CLASS)) {\n            return;\n        }\n        var contentCell;\n        var selectedCards;\n        var selectedCardsData = [];\n        switch (e.action) {\n            case 'upArrow':\n            case 'downArrow':\n            case 'multiSelectionByUpArrow':\n            case 'multiSelectionByDownArrow':\n                e.preventDefault();\n                this.processUpDownArrow(e.action, selectedCard);\n                break;\n            case 'rightArrow':\n            case 'leftArrow':\n                this.processLeftRightArrow(e);\n                break;\n            case 'firstCardSelection':\n            case 'lastCardSelection':\n                this.processCardSelection(e.action, selectedCard);\n                break;\n            case 'multiSelectionEnter':\n            case 'multiSelectionSpace':\n                if (document.activeElement) {\n                    this.parent.actionModule.cardSelection(document.activeElement, true, false);\n                }\n                break;\n            case 'space':\n            case 'enter':\n                this.processEnter(e, selectedCard);\n                break;\n            case 'escape':\n                if (document.activeElement.classList.contains(cls.CARD_CLASS) ||\n                    document.activeElement.classList.contains(cls.SHOW_ADD_BUTTON)) {\n                    if (document.activeElement.classList.contains(cls.CARD_SELECTION_CLASS)) {\n                        removeClass([document.activeElement], cls.CARD_SELECTION_CLASS);\n                        document.activeElement.focus();\n                    }\n                    else {\n                        var ele = closest(document.activeElement, '.' + cls.CONTENT_CELLS_CLASS);\n                        var cards = [].slice.call(ele.querySelectorAll('.' + cls.CARD_CLASS));\n                        removeClass(cards, cls.CARD_SELECTION_CLASS);\n                        ele.focus();\n                        this.cardTabIndexRemove();\n                        this.addRemoveTabIndex('Add');\n                    }\n                }\n                break;\n            case 'tab':\n            case 'shiftTab':\n                contentCell = closest(document.activeElement, '.' + cls.CONTENT_CELLS_CLASS);\n                if (document.activeElement.classList.contains(cls.CARD_CLASS)) {\n                    if (!document.activeElement.nextElementSibling && e.action === 'tab') {\n                        e.preventDefault();\n                    }\n                    if (!document.activeElement.previousElementSibling && contentCell.querySelector('.' + cls.SHOW_ADD_BUTTON)\n                        && e.action === 'tab') {\n                        addClass([contentCell.querySelector('.' + cls.SHOW_ADD_BUTTON)], cls.SHOW_ADD_FOCUS);\n                    }\n                }\n                if (document.activeElement.classList.contains(cls.SHOW_ADD_BUTTON)) {\n                    if ((!contentCell.querySelector('.' + cls.CARD_CLASS) && e.action === 'tab') || e.action === 'shiftTab') {\n                        e.preventDefault();\n                    }\n                }\n                if (document.activeElement.classList.contains(cls.ROOT_CLASS)) {\n                    this.cardTabIndexRemove();\n                    this.parent.keyboardModule.addRemoveTabIndex('Add');\n                }\n                break;\n            case 'delete':\n                selectedCards = [].slice.call(this.parent.element.querySelectorAll(\".\" + cls.CARD_CLASS + \".\" + cls.CARD_SELECTION_CLASS));\n                selectedCards.forEach(function (selected) { selectedCardsData.push(_this.parent.getCardDetails(selected)); });\n                this.parent.crudModule.deleteCard(selectedCardsData);\n                break;\n        }\n    };\n    Keyboard.prototype.processCardSelection = function (action, selectedCard) {\n        if (selectedCard) {\n            removeClass([selectedCard], cls.CARD_SELECTION_CLASS);\n            this.parent.layoutModule.disableAttributeSelection(selectedCard);\n            var selection = this.parent.actionModule.selectionArray;\n            selection.splice(selection.indexOf(selectedCard.getAttribute('data-id')), 1);\n        }\n        this.cardTabIndexRemove();\n        var cards = [].slice.call(this.parent.element.querySelectorAll('.' + cls.CARD_CLASS));\n        var element = action === 'firstCardSelection' ? cards[0] : cards[cards.length - 1];\n        this.parent.actionModule.cardSelection(element, false, false);\n        this.addRemoveTabIndex('Remove');\n        element.focus();\n        var card = [].slice.call(closest(element, '.' + cls.CONTENT_CELLS_CLASS).querySelectorAll('.' + cls.CARD_CLASS));\n        card.forEach(function (element) { element.setAttribute('tabindex', '0'); });\n    };\n    Keyboard.prototype.processLeftRightArrow = function (e) {\n        if (document.activeElement.classList.contains(cls.CONTENT_CELLS_CLASS)) {\n            if (e.action === 'rightArrow' && document.activeElement.nextElementSibling) {\n                document.activeElement.nextElementSibling.focus();\n            }\n            else if (e.action === 'leftArrow' && document.activeElement.previousElementSibling) {\n                document.activeElement.previousElementSibling.focus();\n            }\n        }\n    };\n    Keyboard.prototype.processUpDownArrow = function (action, selectedCard) {\n        if (action === 'upArrow' && document.activeElement) {\n            if (document.activeElement.classList.contains(cls.CARD_CLASS) && document.activeElement.previousElementSibling) {\n                document.activeElement.previousElementSibling.focus();\n            }\n            else if (document.activeElement.classList.contains(cls.SHOW_ADD_BUTTON)) {\n                document.activeElement.setAttribute('tabindex', '-1');\n                removeClass([document.activeElement], cls.SHOW_ADD_FOCUS);\n                var cell = closest(document.activeElement, '.' + cls.CONTENT_CELLS_CLASS);\n                if (cell.querySelectorAll('.' + cls.CARD_CLASS).length > 0) {\n                    [].slice.call(cell.querySelectorAll('.' + cls.CARD_CLASS)).slice(-1)[0].focus();\n                }\n            }\n            this.removeSelection();\n        }\n        else if (action === 'downArrow' && document.activeElement &&\n            document.activeElement.classList.contains(cls.CARD_CLASS)) {\n            if (document.activeElement.nextElementSibling) {\n                document.activeElement.nextElementSibling.focus();\n            }\n            else if (closest(document.activeElement, '.' + cls.CARD_WRAPPER_CLASS).nextElementSibling) {\n                var ele = closest(document.activeElement, '.' + cls.CARD_WRAPPER_CLASS).nextElementSibling;\n                ele.setAttribute('tabindex', '0');\n                addClass([ele], cls.SHOW_ADD_FOCUS);\n                ele.focus();\n            }\n            this.removeSelection();\n        }\n        if ((action === 'multiSelectionByUpArrow' || action === 'multiSelectionByDownArrow')\n            && selectedCard && this.parent.cardSettings.selectionType === 'Multiple') {\n            var card = void 0;\n            if (action === 'multiSelectionByUpArrow') {\n                card = document.activeElement.previousElementSibling;\n            }\n            else {\n                card = document.activeElement.nextElementSibling;\n            }\n            if (card) {\n                this.parent.actionModule.cardSelection(card, false, true);\n                card.focus();\n                this.multiSelection = true;\n            }\n        }\n    };\n    Keyboard.prototype.removeSelection = function () {\n        if (this.multiSelection) {\n            var cards = this.parent.getSelectedCards();\n            if (cards.length > 0) {\n                removeClass(cards, cls.CARD_SELECTION_CLASS);\n                this.parent.layoutModule.disableAttributeSelection(cards);\n            }\n            this.multiSelection = false;\n        }\n    };\n    Keyboard.prototype.cardTabIndexRemove = function () {\n        var cards = [].slice.call(this.parent.element.querySelectorAll('.' + cls.CARD_CLASS));\n        cards.forEach(function (card) { card.setAttribute('tabindex', '-1'); });\n        var addButton = [].slice.call(this.parent.element.querySelectorAll('.' + cls.SHOW_ADD_BUTTON));\n        addButton.forEach(function (add) {\n            add.setAttribute('tabindex', '-1');\n            removeClass([add], cls.SHOW_ADD_FOCUS);\n        });\n    };\n    Keyboard.prototype.processEnter = function (e, selectedCard) {\n        if (e.action === 'space') {\n            e.preventDefault();\n        }\n        var element = (e.target);\n        if (element.classList.contains(cls.HEADER_ICON_CLASS)) {\n            this.parent.actionModule.columnExpandCollapse(e);\n        }\n        if (element.classList.contains(cls.SWIMLANE_ROW_EXPAND_CLASS) || element.classList.contains(cls.SWIMLANE_ROW_COLLAPSE_CLASS)) {\n            this.parent.actionModule.rowExpandCollapse(e);\n        }\n        if (document.activeElement.classList.contains(cls.CARD_CLASS)) {\n            this.parent.actionModule.cardSelection(document.activeElement, false, false);\n        }\n        if (document.activeElement.classList.contains(cls.SHOW_ADD_BUTTON)) {\n            if (!this.parent.dialogModule.dialogObj) {\n                this.parent.actionModule.addButtonClick(document.activeElement);\n            }\n            document.activeElement.focus();\n        }\n        if (element.classList.contains(cls.CONTENT_CELLS_CLASS)) {\n            var cards = [].slice.call(element.querySelectorAll('.' + cls.CARD_CLASS));\n            this.addRemoveTabIndex('Remove');\n            if (cards.length > 0) {\n                element.querySelector('.' + cls.CARD_CLASS).focus();\n                cards.forEach(function (element) { element.setAttribute('tabindex', '0'); });\n            }\n            if (element.querySelector('.' + cls.SHOW_ADD_BUTTON)) {\n                element.querySelector('.' + cls.SHOW_ADD_BUTTON).setAttribute('tabindex', '0');\n                element.querySelector('.' + cls.SHOW_ADD_BUTTON).focus();\n            }\n        }\n        if (selectedCard === document.activeElement && this.parent.element.querySelectorAll('.' + cls.CARD_SELECTION_CLASS).length === 1) {\n            this.parent.activeCardData = {\n                data: this.parent.getCardDetails(selectedCard), element: selectedCard\n            };\n            if (!this.parent.dialogModule.dialogObj) {\n                this.parent.dialogModule.openDialog('Edit', this.parent.getCardDetails(selectedCard));\n            }\n            selectedCard.focus();\n        }\n    };\n    Keyboard.prototype.addRemoveTabIndex = function (action) {\n        var attribute = action === 'Add' ? '0' : '-1';\n        var headerIcon = [].slice.call(this.parent.element.querySelectorAll('.' + cls.HEADER_ICON_CLASS));\n        if (headerIcon.length > 0) {\n            headerIcon.forEach(function (element) { element.setAttribute('tabindex', attribute); });\n        }\n        var swimlaneIcon = [].slice.call(this.parent.element.querySelectorAll('.' + cls.SWIMLANE_ROW_EXPAND_CLASS));\n        if (swimlaneIcon.length > 0) {\n            swimlaneIcon.forEach(function (element) { element.setAttribute('tabindex', attribute); });\n        }\n        var className = '.' + cls.CONTENT_ROW_CLASS + ':not(.' + cls.SWIMLANE_ROW_CLASS + ') .' + cls.CONTENT_CELLS_CLASS;\n        var contentCell = [].slice.call(this.parent.element.querySelectorAll(className));\n        contentCell.forEach(function (element) { element.setAttribute('tabindex', attribute); });\n    };\n    Keyboard.prototype.destroy = function () {\n        this.keyboardModule.destroy();\n    };\n    return Keyboard;\n}());\nexport { Keyboard };\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { createElement, append, closest, addClass } from '@syncfusion/ej2-base';\nimport { Tooltip } from '@syncfusion/ej2-popups';\nimport * as cls from '../base/css-constant';\n/**\n * Tooltip for Kanban board\n */\nvar KanbanTooltip = /** @class */ (function () {\n    /**\n     * Constructor for tooltip module\n     *\n     * @param {Kanban} parent Accepts the kanban instance\n     */\n    function KanbanTooltip(parent) {\n        this.parent = parent;\n        this.renderTooltip();\n    }\n    KanbanTooltip.prototype.renderTooltip = function () {\n        this.tooltipObj = new Tooltip({\n            cssClass: this.parent.cssClass + ' ' + cls.TOOLTIP_CLASS,\n            enableRtl: this.parent.enableRtl,\n            mouseTrail: !this.parent.isAdaptive,\n            offsetY: 5,\n            position: 'BottomCenter',\n            showTipPointer: true,\n            target: '.' + cls.TOOLTIP_TEXT_CLASS,\n            beforeRender: this.onBeforeRender.bind(this),\n            beforeClose: this.onBeforeClose.bind(this)\n        });\n        this.tooltipObj.appendTo(this.parent.element);\n        this.tooltipObj.isStringTemplate = true;\n    };\n    KanbanTooltip.prototype.onBeforeRender = function (args) {\n        if (this.parent.dragAndDropModule.isDragging) {\n            args.cancel = true;\n            return;\n        }\n        var tooltipContent;\n        if (this.parent.tooltipTemplate) {\n            tooltipContent = createElement('div');\n            var target = closest(args.target, '.' + cls.CARD_CLASS);\n            var data = this.parent.getCardDetails(target);\n            var templateId = this.parent.element.id + '_tooltipTemplate';\n            var tooltipTemplate = this.parent.templateParser(this.parent.tooltipTemplate)(data, this.parent, 'tooltipTemplate', templateId, false);\n            append(tooltipTemplate, tooltipContent);\n            this.parent.renderTemplates();\n        }\n        else {\n            tooltipContent = \"<div class=\\\"e-card-header-caption\\\">\" + args.target.innerText + \"</div>\";\n        }\n        this.tooltipObj.setProperties({ content: tooltipContent }, true);\n    };\n    KanbanTooltip.prototype.onBeforeClose = function () {\n        this.parent.resetTemplates(['tooltipTemplate']);\n    };\n    KanbanTooltip.prototype.destroy = function () {\n        this.tooltipObj.destroy();\n        addClass([this.parent.element], 'e-control');\n        this.tooltipObj = null;\n    };\n    return KanbanTooltip;\n}());\nexport { KanbanTooltip };\n","import { Touch, EventHandler, remove, addClass, createElement, closest } from '@syncfusion/ej2-base';\nimport { Popup } from '@syncfusion/ej2-popups';\nimport { Button } from '@syncfusion/ej2-buttons';\nimport * as cls from '../base/css-constant';\n/**\n * Kanban touch module\n */\nvar KanbanTouch = /** @class */ (function () {\n    /**\n     * Constructor for touch module\n     *\n     * @param {Kanban} parent Accepts the kanban instance\n     * @private\n     */\n    function KanbanTouch(parent) {\n        this.parent = parent;\n        this.tabHold = false;\n    }\n    KanbanTouch.prototype.wireTouchEvents = function () {\n        this.element = this.parent.element.querySelector('.' + cls.CONTENT_CLASS);\n        this.touchObj = new Touch(this.element, { tapHold: this.tapHoldHandler.bind(this) });\n    };\n    KanbanTouch.prototype.tapHoldHandler = function (e) {\n        this.tabHold = true;\n        var target = closest(e.originalEvent.target, '.' + cls.CARD_CLASS);\n        if (target && this.parent.cardSettings.selectionType === 'Multiple') {\n            this.parent.actionModule.cardSelection(target, true, false);\n            if (!this.mobilePopup) {\n                this.renderMobilePopup();\n                this.mobilePopup.show();\n            }\n            this.updatePopupContent();\n        }\n    };\n    KanbanTouch.prototype.renderMobilePopup = function () {\n        if (this.parent.cardSettings.selectionType === 'Multiple') {\n            var mobilePopupWrapper = createElement('div', {\n                className: cls.POPUP_WRAPPER_CLASS + ' e-popup-close',\n                innerHTML: \"<div class=\\\"\" + cls.POPUP_HEADER_CLASS + \"\\\"><button class=\\\"\" + cls.CLOSE_CLASS + \"\\\"></button></div>\" +\n                    (\"<div class=\\\"\" + cls.POPUP_CONTENT_CLASS + \"\\\"></div>\")\n            });\n            document.body.appendChild(mobilePopupWrapper);\n            addClass([mobilePopupWrapper], cls.DEVICE_CLASS);\n            this.mobilePopup = new Popup(mobilePopupWrapper, {\n                targetType: 'container',\n                enableRtl: this.parent.enableRtl,\n                hideAnimation: { name: 'ZoomOut' },\n                showAnimation: { name: 'ZoomIn' },\n                collision: { X: 'fit', Y: 'fit' },\n                position: { X: 'left', Y: 'top' },\n                viewPortElement: document.body,\n                zIndex: 1004,\n                close: this.popupClose.bind(this)\n            });\n            var closeIcon = this.mobilePopup.element.querySelector('.' + cls.CLOSE_CLASS);\n            var buttonObj = new Button({\n                cssClass: 'e-flat e-round e-small',\n                enableRtl: this.parent.enableRtl,\n                iconCss: cls.ICON_CLASS + ' ' + cls.CLOSE_ICON_CLASS\n            });\n            buttonObj.appendTo(closeIcon);\n            buttonObj.isStringTemplate = true;\n            EventHandler.add(closeIcon, 'click', this.closeClick, this);\n        }\n    };\n    KanbanTouch.prototype.getPopupContent = function () {\n        var popupContent;\n        var selectedCards = this.parent.getSelectedCards();\n        if (selectedCards.length > 1) {\n            popupContent = '(' + selectedCards.length + ') ' + this.parent.localeObj.getConstant('cardsSelected');\n        }\n        else if (selectedCards.length === 1) {\n            popupContent = ' ' + this.parent.getCardDetails(selectedCards[0])[this.parent.cardSettings.headerField];\n        }\n        return popupContent;\n    };\n    KanbanTouch.prototype.updatePopupContent = function () {\n        if (!this.mobilePopup) {\n            return;\n        }\n        var popupContent = this.getPopupContent();\n        if (popupContent) {\n            this.mobilePopup.element.querySelector('.' + cls.POPUP_CONTENT_CLASS).textContent = popupContent;\n        }\n        else {\n            this.mobilePopup.hide();\n        }\n    };\n    KanbanTouch.prototype.closeClick = function () {\n        this.parent.touchModule.mobilePopup.hide();\n    };\n    KanbanTouch.prototype.popupClose = function () {\n        this.popupDestroy();\n    };\n    KanbanTouch.prototype.popupDestroy = function () {\n        if (this.mobilePopup && this.mobilePopup.element) {\n            var instance = this.mobilePopup.element.querySelector('.e-control.e-btn').ej2_instances[0];\n            if (instance) {\n                instance.destroy();\n            }\n            this.mobilePopup.destroy();\n            remove(this.mobilePopup.element);\n            this.mobilePopup = null;\n        }\n    };\n    KanbanTouch.prototype.unWireTouchEvents = function () {\n        if (this.touchObj) {\n            this.touchObj.destroy();\n        }\n        this.touchObj = null;\n        this.element = null;\n    };\n    KanbanTouch.prototype.destroy = function () {\n        this.popupDestroy();\n        this.unWireTouchEvents();\n        this.tabHold = false;\n    };\n    return KanbanTouch;\n}());\nexport { KanbanTouch };\n","import { append, createElement, EventHandler, addClass, removeClass } from '@syncfusion/ej2-base';\nimport { TreeView } from '@syncfusion/ej2-navigations';\nimport { Popup } from '@syncfusion/ej2-popups';\nimport * as events from './constant';\nimport * as cls from './css-constant';\n/**\n * Kanban mobile layout rendering module\n *\n */\nvar MobileLayout = /** @class */ (function () {\n    function MobileLayout(parent) {\n        this.parent = parent;\n    }\n    MobileLayout.prototype.renderSwimlaneHeader = function () {\n        var toolbarWrapper = createElement('div', {\n            className: cls.SWIMLANE_HEADER_CLASS,\n            innerHTML: '<div class=\"' + cls.SWIMLANE_HEADER_TOOLBAR_CLASS + '\"><div class=\"' + cls.TOOLBAR_MENU_CLASS +\n                '\"><div class=\"e-icons ' + cls.TOOLBAR_MENU_ICON_CLASS + '\"></div></div><div class=\"' + cls.TOOLBAR_LEVEL_TITLE_CLASS +\n                '\"><div class=\"' + cls.TOOLBAR_SWIMLANE_NAME_CLASS + '\"></div></div></div>'\n        });\n        this.parent.element.appendChild(toolbarWrapper);\n        EventHandler.add(toolbarWrapper.querySelector('.' + cls.TOOLBAR_MENU_ICON_CLASS), 'click', this.menuClick, this);\n    };\n    MobileLayout.prototype.renderSwimlaneTree = function () {\n        var height = this.parent.element.querySelector('.' + cls.SWIMLANE_HEADER_CLASS).offsetHeight;\n        var treeHeight = window.innerHeight - height;\n        this.popupOverlay = createElement('div', { className: cls.SWIMLANE_OVERLAY_CLASS, styles: 'height: ' + treeHeight + 'px;' });\n        var wrapper = createElement('div', { className: cls.SWIMLANE_CONTENT_CLASS, styles: 'top:' + height + 'px;' });\n        var treeWrapper = createElement('div', {\n            className: cls.SWIMLANE_RESOURCE_CLASS + ' e-popup-close', styles: 'height: ' + treeHeight + 'px;'\n        });\n        wrapper.appendChild(treeWrapper);\n        wrapper.appendChild(this.popupOverlay);\n        this.parent.element.appendChild(wrapper);\n        var swimlaneTree = createElement('div', { className: cls.SWIMLANE_TREE_CLASS });\n        treeWrapper.appendChild(swimlaneTree);\n        this.treeViewObj = new TreeView({\n            cssClass: this.parent.cssClass,\n            enableRtl: this.parent.enableRtl,\n            fields: {\n                dataSource: this.parent.layoutModule.kanbanRows,\n                id: 'keyField',\n                text: 'textField'\n            },\n            nodeTemplate: this.parent.swimlaneSettings.template,\n            nodeClicked: this.treeSwimlaneClick.bind(this),\n            drawNode: this.drawNode.bind(this),\n        });\n        this.treeViewObj.appendTo(swimlaneTree);\n        var popupObj = {\n            targetType: 'relative',\n            actionOnScroll: 'none',\n            enableRtl: this.parent.enableRtl,\n            zIndex: 10,\n            hideAnimation: { name: 'SlideLeftOut', duration: 500 },\n            showAnimation: { name: 'SlideLeftIn', duration: 500 },\n            viewPortElement: this.parent.element.querySelector('.' + cls.CONTENT_CLASS)\n        };\n        popupObj.content = this.treeViewObj.element;\n        this.treePopup = new Popup(treeWrapper, popupObj);\n    };\n    MobileLayout.prototype.menuClick = function () {\n        if (this.parent.element.querySelector('.' + cls.SWIMLANE_RESOURCE_CLASS).classList.contains('e-popup-open')) {\n            this.treePopup.hide();\n            removeClass([this.popupOverlay], 'e-enable');\n        }\n        else {\n            var treeNodes = [].slice.call(this.treeViewObj.element.querySelectorAll('.e-list-item'));\n            removeClass(treeNodes, 'e-active');\n            addClass([treeNodes[this.parent.layoutModule.swimlaneIndex]], 'e-active');\n            this.treePopup.show();\n            addClass([this.popupOverlay], 'e-enable');\n        }\n    };\n    MobileLayout.prototype.treeSwimlaneClick = function (args) {\n        this.treePopup.hide();\n        var treeNodes = [].slice.call(this.treeViewObj.element.querySelectorAll('.e-list-item'));\n        this.parent.layoutModule.swimlaneIndex = treeNodes.indexOf(args.node);\n        this.parent.layoutModule.scrollLeft = 0;\n        this.parent.notify(events.dataReady, { processedData: this.parent.kanbanData });\n        args.event.preventDefault();\n    };\n    MobileLayout.prototype.hidePopup = function () {\n        this.treePopup.hide();\n        removeClass([this.popupOverlay], 'e-enable');\n    };\n    MobileLayout.prototype.getWidth = function () {\n        return (window.innerWidth * 80) / 100;\n    };\n    MobileLayout.prototype.drawNode = function (args) {\n        if (this.parent.swimlaneSettings.template && this.parent.isReact) {\n            var templateId = this.parent.element.id + '_treeviewTemplate';\n            var treeViewTemplate = this.parent.templateParser(this.parent.swimlaneSettings.template)(args.nodeData, this.parent, 'nodeTemplate', templateId, false);\n            append(treeViewTemplate, args.node.querySelector('.e-list-text'));\n        }\n    };\n    return MobileLayout;\n}());\nexport { MobileLayout };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { append, createElement, formatUnit, EventHandler, addClass, remove, extend, Browser, isNullOrUndefined, removeClass, closest, setStyleAttribute } from '@syncfusion/ej2-base';\nimport { MobileLayout } from './mobile-layout';\nimport * as events from '../base/constant';\nimport * as cls from '../base/css-constant';\n/**\n * Kanban layout rendering module\n *\n */\nvar LayoutRender = /** @class */ (function (_super) {\n    __extends(LayoutRender, _super);\n    function LayoutRender(parent) {\n        var _this = _super.call(this, parent) || this;\n        _this.kanbanRows = [];\n        _this.parent = parent;\n        _this.columnKeys = [];\n        _this.swimlaneIndex = 0;\n        _this.swimlaneData = {};\n        _this.scrollLeft = 0;\n        _this.frozenOrder = 0;\n        _this.parent.on(events.dataReady, _this.initRender, _this);\n        _this.parent.on(events.contentReady, _this.scrollUiUpdate, _this);\n        return _this;\n    }\n    LayoutRender.prototype.initRender = function () {\n        if (this.parent.columns.length === 0) {\n            return;\n        }\n        this.columnData = this.getColumnCards();\n        this.kanbanRows = this.getRows();\n        this.swimlaneData = this.getSwimlaneCards();\n        if (this.parent.isAdaptive) {\n            var parent_1 = this.parent.element.querySelector('.' + cls.CONTENT_CLASS);\n            if (parent_1) {\n                this.scrollLeft = parent_1.scrollLeft;\n            }\n        }\n        this.destroy();\n        this.parent.on(events.dataReady, this.initRender, this);\n        this.parent.on(events.contentReady, this.scrollUiUpdate, this);\n        if (this.parent.isAdaptive && this.parent.swimlaneSettings.keyField && this.parent.kanbanData.length !== 0) {\n            this.renderSwimlaneHeader();\n        }\n        var header = createElement('div', { className: cls.HEADER_CLASS });\n        this.parent.element.appendChild(header);\n        this.renderHeader(header);\n        this.renderContent();\n        this.renderCards();\n        this.renderValidation();\n        this.parent.renderTemplates();\n        this.parent.notify(events.contentReady, {});\n        this.wireEvents();\n        if (this.parent.isInitialRender) {\n            this.parent.isInitialRender = false;\n        }\n    };\n    LayoutRender.prototype.renderHeader = function (header) {\n        var headerWrap = createElement('div', { className: this.parent.swimlaneSettings.keyField ? cls.SWIMLANE_CLASS : '' });\n        header.appendChild(headerWrap);\n        var headerTable = createElement('table', {\n            className: cls.TABLE_CLASS + ' ' + cls.HEADER_TABLE_CLASS,\n            attrs: { 'role': 'presentation' }\n        });\n        headerWrap.appendChild(headerTable);\n        this.renderColGroup(headerTable);\n        var tableHead = createElement('thead');\n        headerTable.appendChild(tableHead);\n        if (this.parent.stackedHeaders.length > 0) {\n            tableHead.appendChild(this.createStackedRow(this.parent.stackedHeaders));\n        }\n        var tr = createElement('tr', { className: cls.HEADER_ROW_CLASS });\n        tableHead.appendChild(tr);\n        var _loop_1 = function (column) {\n            if (this_1.isColumnVisible(column)) {\n                var index = this_1.parent.actionModule.columnToggleArray.indexOf(column.keyField.toString());\n                var th_1 = createElement('th', {\n                    className: index === -1 ? cls.HEADER_CELLS_CLASS : cls.HEADER_CELLS_CLASS + ' ' + cls.COLLAPSED_CLASS,\n                    attrs: { 'data-role': 'kanban-column', 'data-key': column.keyField.toString() }\n                });\n                var classList = [];\n                if (column.allowToggle) {\n                    classList.push(cls.HEADER_ROW_TOGGLE_CLASS);\n                    if (!column.isExpanded) {\n                        classList.push(cls.COLLAPSED_CLASS);\n                    }\n                }\n                addClass([th_1], classList);\n                var headerWrapper = createElement('div', { className: cls.HEADER_WRAP_CLASS });\n                th_1.appendChild(headerWrapper);\n                var noOfCard = this_1.columnData[column.keyField].length;\n                var headerTitle = createElement('div', { className: cls.HEADER_TITLE_CLASS });\n                headerWrapper.appendChild(headerTitle);\n                if (column.template) {\n                    var templateArgs = {\n                        keyField: column.keyField, headerText: column.headerText, minCount: column.minCount, maxCount: column.maxCount,\n                        allowToggle: column.allowToggle, isExpanded: column.isExpanded, showItemCount: column.showItemCount, count: noOfCard\n                    };\n                    addClass([th_1], cls.TEMPLATE_CLASS);\n                    var templateId = this_1.parent.element.id + '_columnTemplate';\n                    var templateHeader = this_1.parent.templateParser(column.template)(templateArgs, this_1.parent, 'columnTemplate', templateId, false);\n                    append(templateHeader, headerTitle);\n                }\n                else {\n                    var header_1 = createElement('div', { className: cls.HEADER_TEXT_CLASS, innerHTML: column.headerText });\n                    headerTitle.appendChild(header_1);\n                    if (column.showItemCount) {\n                        var itemCount = createElement('div', {\n                            className: cls.CARD_ITEM_COUNT_CLASS,\n                            innerHTML: '- ' + noOfCard.toString() + ' ' + this_1.parent.localeObj.getConstant('items')\n                        });\n                        headerTitle.appendChild(itemCount);\n                    }\n                }\n                if (column.allowToggle) {\n                    var isExpand = (column.isExpanded && index === -1) ? true : false;\n                    var name_1 = (isExpand) ? cls.COLUMN_EXPAND_CLASS : cls.COLUMN_COLLAPSE_CLASS;\n                    var icon = createElement('div', {\n                        className: cls.HEADER_ICON_CLASS + ' ' + cls.ICON_CLASS + ' ' + name_1,\n                        attrs: { 'tabindex': '0' }\n                    });\n                    icon.setAttribute('aria-label', isExpand ? column.keyField + ' Expand' : column.keyField + ' Collapse');\n                    th_1.setAttribute('aria-expanded', isExpand.toString());\n                    headerWrapper.appendChild(icon);\n                }\n                var dataObj = [{ keyField: column.keyField, textField: column.headerText, count: noOfCard }];\n                var args = { data: dataObj, element: tr, cancel: false, requestType: 'headerRow' };\n                this_1.parent.trigger(events.queryCellInfo, args, function (columnArgs) {\n                    if (!columnArgs.cancel) {\n                        tr.appendChild(th_1);\n                    }\n                });\n            }\n        };\n        var this_1 = this;\n        for (var _i = 0, _a = this.parent.columns; _i < _a.length; _i++) {\n            var column = _a[_i];\n            _loop_1(column);\n        }\n    };\n    LayoutRender.prototype.renderContent = function () {\n        var content = createElement('div', { className: cls.CONTENT_CLASS });\n        this.parent.element.appendChild(content);\n        var contentWrap = createElement('div', { className: this.parent.swimlaneSettings.keyField ? cls.SWIMLANE_CLASS : '' });\n        content.appendChild(contentWrap);\n        var contentTable = createElement('table', {\n            className: cls.TABLE_CLASS + ' ' + cls.CONTENT_TABLE_CLASS,\n            attrs: { 'role': 'presentation' }\n        });\n        contentWrap.appendChild(contentTable);\n        this.renderColGroup(contentTable);\n        var tBody = createElement('tbody');\n        contentTable.appendChild(tBody);\n        var className;\n        var isCollaspsed = false;\n        this.swimlaneRow = this.kanbanRows;\n        this.initializeSwimlaneTree();\n        for (var _i = 0, _a = this.swimlaneRow; _i < _a.length; _i++) {\n            var row = _a[_i];\n            if (this.parent.swimlaneSettings.keyField && this.parent.swimlaneToggleArray.length !== 0) {\n                var index = this.parent.swimlaneToggleArray.indexOf(row.keyField);\n                isCollaspsed = index !== -1;\n            }\n            if (this.parent.swimlaneSettings.keyField && !this.parent.isAdaptive) {\n                this.renderSwimlaneRow(tBody, row, isCollaspsed);\n            }\n            this.renderSingleContent(tBody, row, isCollaspsed);\n        }\n    };\n    LayoutRender.prototype.renderSingleContent = function (tBody, row, isCollaspsed) {\n        var className = isCollaspsed ? cls.CONTENT_ROW_CLASS + ' ' + cls.COLLAPSED_CLASS : cls.CONTENT_ROW_CLASS;\n        var tr = createElement('tr', { className: className, attrs: { 'aria-expanded': 'true' } });\n        for (var _i = 0, _a = this.parent.columns; _i < _a.length; _i++) {\n            var column = _a[_i];\n            if (this.isColumnVisible(column)) {\n                var index = this.parent.actionModule.columnToggleArray.indexOf(column.keyField.toString());\n                var className_1 = index === -1 ? cls.CONTENT_CELLS_CLASS : cls.CONTENT_CELLS_CLASS + ' ' + cls.COLLAPSED_CLASS;\n                var dragClass = (column.allowDrag ? ' ' + cls.DRAG_CLASS : '') + (column.allowDrop ? ' ' + cls.DROP_CLASS\n                    + ' ' + cls.DROPPABLE_CLASS : '');\n                var td = createElement('td', {\n                    className: className_1 + dragClass,\n                    attrs: { 'data-role': 'kanban-column', 'data-key': column.keyField.toString(), 'aria-expanded': 'true',\n                        'tabindex': '0', 'role': 'navigation' }\n                });\n                if (column.allowToggle && !column.isExpanded || index !== -1) {\n                    addClass([td], cls.COLLAPSED_CLASS);\n                    var text = (column.showItemCount ? '[' +\n                        this.getColumnData(column.keyField, this.swimlaneData[row.keyField]).length + '] ' : '') + column.headerText;\n                    td.appendChild(createElement('div', { className: cls.COLLAPSE_HEADER_TEXT_CLASS, innerHTML: text }));\n                    td.setAttribute('aria-expanded', 'false');\n                }\n                if (column.showAddButton) {\n                    var button = createElement('div', { className: cls.SHOW_ADD_BUTTON, attrs: { 'tabindex': '-1' } });\n                    button.appendChild(createElement('div', { className: cls.SHOW_ADD_ICON + ' ' + cls.ICON_CLASS }));\n                    td.appendChild(button);\n                }\n                tr.appendChild(td);\n            }\n        }\n        var dataObj = [{ keyField: row.keyField, textField: row.textField, count: row.count }];\n        var args = { data: dataObj, element: tr, cancel: false, requestType: 'contentRow' };\n        this.parent.trigger(events.queryCellInfo, args, function (columnArgs) {\n            if (!columnArgs.cancel) {\n                if (tBody.classList.contains('e-swimlane-row')) {\n                    tBody.insertAdjacentElement('beforebegin', tr);\n                }\n                else {\n                    tBody.appendChild(tr);\n                }\n            }\n        });\n    };\n    LayoutRender.prototype.initializeSwimlaneTree = function () {\n        if (this.parent.swimlaneSettings.keyField && this.parent.isAdaptive && this.parent.kanbanData.length !== 0) {\n            this.swimlaneRow = [this.kanbanRows[this.swimlaneIndex]];\n            this.renderSwimlaneTree();\n            this.parent.element.querySelector('.' + cls.TOOLBAR_SWIMLANE_NAME_CLASS).innerHTML = this.swimlaneRow[0].textField;\n        }\n    };\n    LayoutRender.prototype.renderSwimlaneRow = function (tBody, row, isCollapsed) {\n        var name = cls.CONTENT_ROW_CLASS + ' ' + cls.SWIMLANE_ROW_CLASS;\n        var className = isCollapsed ? ' ' + cls.COLLAPSED_CLASS : '';\n        var tr = createElement('tr', {\n            className: name + className, attrs: { 'data-key': row.keyField, 'aria-expanded': (!isCollapsed).toString() }\n        });\n        var col = this.parent.columns.length - this.parent.actionModule.hideColumnKeys.length;\n        var td = createElement('td', {\n            className: cls.CONTENT_CELLS_CLASS, attrs: { 'data-role': 'kanban-column', 'colspan': col.toString() }\n        });\n        var swimlaneHeader = createElement('div', { className: cls.SWIMLANE_HEADER_CLASS });\n        td.appendChild(swimlaneHeader);\n        var iconClass = isCollapsed ? cls.SWIMLANE_ROW_COLLAPSE_CLASS : cls.SWIMLANE_ROW_EXPAND_CLASS;\n        var iconDiv = createElement('div', {\n            className: cls.ICON_CLASS + ' ' + iconClass, attrs: {\n                'tabindex': '0',\n                'aria-label': isCollapsed ? row.keyField + ' Collapse' : row.keyField + ' Expand'\n            }\n        });\n        swimlaneHeader.appendChild(iconDiv);\n        var headerWrap = createElement('div', { className: cls.HEADER_WRAP_CLASS });\n        swimlaneHeader.appendChild(headerWrap);\n        var cardCount = this.swimlaneData[row.keyField].length;\n        if (this.parent.swimlaneSettings.template) {\n            var templateArgs = extend({}, row, { count: cardCount }, true);\n            addClass([td], cls.TEMPLATE_CLASS);\n            var templateId = this.parent.element.id + '_swimlaneTemplate';\n            var swimlaneTemplate = this.parent.templateParser(this.parent.swimlaneSettings.template)(templateArgs, this.parent, 'swimlaneTemplate', templateId, false);\n            append(swimlaneTemplate, headerWrap);\n        }\n        else {\n            headerWrap.appendChild(createElement('div', {\n                className: cls.SWIMLANE_ROW_TEXT_CLASS,\n                innerHTML: row.textField,\n                attrs: { 'data-role': row.textField }\n            }));\n        }\n        if (this.parent.swimlaneSettings.showItemCount) {\n            swimlaneHeader.appendChild(createElement('div', {\n                className: cls.CARD_ITEM_COUNT_CLASS,\n                innerHTML: \"- \" + cardCount.toString() + \" \" + this.parent.localeObj.getConstant('items')\n            }));\n        }\n        tr.appendChild(td);\n        var dataObj = [{ keyField: row.keyField, textField: row.textField, count: row.count }];\n        var args = { data: dataObj, element: tr, cancel: false, requestType: 'swimlaneRow' };\n        this.parent.trigger(events.queryCellInfo, args, function (columnArgs) {\n            if (!columnArgs.cancel) {\n                if (tBody.classList.contains('e-swimlane-row')) {\n                    tBody.insertAdjacentElement('beforebegin', tr);\n                }\n                else {\n                    tBody.appendChild(tr);\n                }\n            }\n        });\n    };\n    LayoutRender.prototype.renderCards = function () {\n        var _this = this;\n        var rows = this.swimlaneRow;\n        var cardRows = [].slice.call(this.parent.element.querySelectorAll('.e-content-row:not(.e-swimlane-row)'));\n        var swimlaneRows = [].slice.call(this.parent.element.querySelectorAll('.e-content-row.e-swimlane-row'));\n        var removeTrs = [];\n        cardRows.forEach(function (tr, index) {\n            var dataCount = 0;\n            var _loop_2 = function (column) {\n                if (_this.isColumnVisible(column)) {\n                    var columnData = _this.parent.swimlaneSettings.keyField ?\n                        _this.getColumnData(column.keyField, _this.swimlaneData[rows[index].keyField]) : _this.columnData[column.keyField];\n                    dataCount += columnData.length;\n                    var columnWrapper = tr.querySelector('[data-key=\"' + column.keyField + '\"]');\n                    var cardWrapper_1 = createElement('div', {\n                        className: cls.CARD_WRAPPER_CLASS, attrs: { 'role': 'listbox' }\n                    });\n                    columnWrapper.appendChild(cardWrapper_1);\n                    if (columnData.length > 0) {\n                        var _loop_3 = function (data) {\n                            var cardText = data[_this.parent.cardSettings.headerField];\n                            var cardIndex = _this.parent.actionModule.selectionArray.indexOf(cardText);\n                            var cardElement = _this.renderCard(data);\n                            if (cardIndex !== -1) {\n                                cardElement.setAttribute('aria-selected', 'true');\n                                addClass([cardElement], cls.CARD_SELECTION_CLASS);\n                            }\n                            var args = { data: data, element: cardElement, cancel: false };\n                            _this.parent.trigger(events.cardRendered, args, function (cardArgs) {\n                                if (!cardArgs.cancel) {\n                                    cardWrapper_1.appendChild(cardElement);\n                                }\n                            });\n                        };\n                        for (var _i = 0, _a = columnData; _i < _a.length; _i++) {\n                            var data = _a[_i];\n                            _loop_3(data);\n                        }\n                    }\n                    else {\n                        cardWrapper_1.appendChild(_this.renderEmptyCard());\n                    }\n                }\n            };\n            for (var _i = 0, _a = _this.parent.columns; _i < _a.length; _i++) {\n                var column = _a[_i];\n                _loop_2(column);\n            }\n            if (dataCount === 0) {\n                removeTrs.push(tr);\n                if (swimlaneRows.length > 0) {\n                    removeTrs.push(swimlaneRows[index]);\n                }\n            }\n        });\n        if (!this.parent.swimlaneSettings.showEmptyRow && (this.parent.kanbanData.length === 0 && !this.parent.showEmptyColumn)) {\n            removeTrs.forEach(function (tr) { return remove(tr); });\n        }\n    };\n    LayoutRender.prototype.renderCard = function (data) {\n        var cardElement = createElement('div', {\n            className: cls.CARD_CLASS,\n            attrs: {\n                'data-id': data[this.parent.cardSettings.headerField], 'data-key': data[this.parent.keyField],\n                'aria-selected': 'false', 'tabindex': '-1', 'role': 'option'\n            }\n        });\n        if (this.parent.cardSettings.template) {\n            addClass([cardElement], cls.TEMPLATE_CLASS);\n            var templateId = this.parent.element.id + '_cardTemplate';\n            var cardTemplate = this.parent.templateParser(this.parent.cardSettings.template)(data, this.parent, 'cardTemplate', templateId, false);\n            append(cardTemplate, cardElement);\n        }\n        else {\n            var tooltipClass = this.parent.enableTooltip ? ' ' + cls.TOOLTIP_TEXT_CLASS : '';\n            if (this.parent.cardSettings.showHeader) {\n                var cardHeader = createElement('div', { className: cls.CARD_HEADER_CLASS });\n                var cardCaption = createElement('div', { className: cls.CARD_HEADER_TEXT_CLASS });\n                var cardText = createElement('div', {\n                    className: cls.CARD_HEADER_TITLE_CLASS + tooltipClass,\n                    innerHTML: data[this.parent.cardSettings.headerField] || ''\n                });\n                cardHeader.appendChild(cardCaption);\n                cardCaption.appendChild(cardText);\n                cardElement.appendChild(cardHeader);\n            }\n            var cardContent = createElement('div', {\n                className: cls.CARD_CONTENT_CLASS + tooltipClass,\n                innerHTML: data[this.parent.cardSettings.contentField] || ''\n            });\n            cardElement.appendChild(cardContent);\n            if (this.parent.cardSettings.tagsField && data[this.parent.cardSettings.tagsField]) {\n                var cardTags = createElement('div', { className: cls.CARD_TAGS_CLASS });\n                var tags = data[this.parent.cardSettings.tagsField].toString().split(',');\n                for (var _i = 0, tags_1 = tags; _i < tags_1.length; _i++) {\n                    var tag = tags_1[_i];\n                    cardTags.appendChild(createElement('div', {\n                        className: cls.CARD_TAG_CLASS + ' ' + cls.CARD_LABEL_CLASS, innerHTML: tag\n                    }));\n                }\n                cardElement.appendChild(cardTags);\n            }\n            if (this.parent.cardSettings.grabberField && data[this.parent.cardSettings.grabberField]) {\n                addClass([cardElement], cls.CARD_COLOR_CLASS);\n                cardElement.style.borderLeftColor = data[this.parent.cardSettings.grabberField];\n            }\n            if (this.parent.cardSettings.footerCssField) {\n                var cardFields = createElement('div', { className: cls.CARD_FOOTER_CLASS });\n                var keys = data[this.parent.cardSettings.footerCssField].split(',');\n                for (var _a = 0, keys_1 = keys; _a < keys_1.length; _a++) {\n                    var key = keys_1[_a];\n                    cardFields.appendChild(createElement('div', {\n                        className: key.trim() + ' ' + cls.CARD_FOOTER_CSS_CLASS\n                    }));\n                }\n                cardElement.appendChild(cardFields);\n            }\n        }\n        return cardElement;\n    };\n    LayoutRender.prototype.renderEmptyCard = function () {\n        var emptyCard = createElement('span', {\n            className: cls.EMPTY_CARD_CLASS,\n            innerHTML: this.parent.localeObj.getConstant('noCard')\n        });\n        return emptyCard;\n    };\n    LayoutRender.prototype.renderColGroup = function (table) {\n        var _this = this;\n        var colGroup = createElement('colgroup');\n        this.parent.columns.forEach(function (column) {\n            if (_this.isColumnVisible(column)) {\n                var index = _this.parent.actionModule.columnToggleArray.indexOf(column.keyField.toString());\n                var isToggle = column.allowToggle && !column.isExpanded;\n                var className = index === -1 ? (isToggle ? cls.COLLAPSED_CLASS : '') : cls.COLLAPSED_CLASS;\n                var col = createElement('col', {\n                    className: className,\n                    attrs: { 'data-key': column.keyField.toString() },\n                    styles: _this.parent.isAdaptive ? 'width: ' +\n                        (isToggle ? formatUnit(events.toggleWidth) : formatUnit(_this.getWidth())) : ''\n                });\n                colGroup.appendChild(col);\n            }\n        });\n        table.appendChild(colGroup);\n    };\n    LayoutRender.prototype.getRows = function () {\n        var _this = this;\n        var kanbanRows = [];\n        if (this.parent.swimlaneSettings.keyField) {\n            this.parent.kanbanData.map(function (obj) {\n                if (!_this.parent.swimlaneSettings.showEmptyRow) {\n                    if ((isNullOrUndefined(obj[_this.parent.keyField])) || (obj[_this.parent.keyField] === '') ||\n                        (obj[_this.parent.keyField] && _this.columnKeys.indexOf(obj[_this.parent.keyField].toString()) === -1)) {\n                        return;\n                    }\n                }\n                var textField = obj[_this.parent.swimlaneSettings.textField] || obj[_this.parent.swimlaneSettings.keyField];\n                var keyField = obj[_this.parent.swimlaneSettings.keyField];\n                if (!obj[_this.parent.swimlaneSettings.keyField]) {\n                    if (_this.parent.swimlaneSettings.showUnassignedRow) {\n                        textField = _this.parent.localeObj.getConstant('unassigned');\n                        keyField = '';\n                    }\n                    else {\n                        return;\n                    }\n                }\n                kanbanRows.push({ keyField: keyField, textField: textField });\n            });\n            kanbanRows = kanbanRows.filter(function (item, index, arr) {\n                return index === arr.map(function (item) { return item.keyField; }).indexOf(item.keyField);\n            });\n            kanbanRows = this.swimlaneSorting(kanbanRows);\n            kanbanRows.forEach(function (row) {\n                row.count = _this.parent.kanbanData.filter(function (obj) {\n                    return _this.columnKeys.indexOf(obj[_this.parent.keyField]) > -1 &&\n                        obj[_this.parent.swimlaneSettings.keyField] === row.keyField;\n                }).length;\n            });\n            if (kanbanRows.length === 0) {\n                kanbanRows.push({ keyField: '', textField: '' });\n            }\n        }\n        else {\n            kanbanRows.push({ keyField: '', textField: '' });\n        }\n        return kanbanRows;\n    };\n    LayoutRender.prototype.swimlaneSorting = function (rows) {\n        if (this.parent.swimlaneSettings.sortComparer) {\n            rows = this.parent.swimlaneSettings.sortComparer.call(this.parent, rows);\n        }\n        else {\n            rows.sort(function (a, b) { return a.textField.localeCompare(b.textField, undefined, { numeric: true }); });\n            if (this.parent.swimlaneSettings.sortDirection === 'Descending') {\n                rows.reverse();\n            }\n        }\n        return rows;\n    };\n    LayoutRender.prototype.createStackedRow = function (rows) {\n        var tr = createElement('tr', { className: cls.HEADER_ROW_CLASS + ' ' + cls.STACKED_HEADER_ROW_CLASS });\n        var stackedHeaders = [];\n        this.parent.columns.forEach(function (column) {\n            var headerText = '';\n            for (var _i = 0, rows_1 = rows; _i < rows_1.length; _i++) {\n                var row = rows_1[_i];\n                if (row.keyFields.indexOf(column.keyField.toString()) !== -1) {\n                    headerText = row.text;\n                }\n            }\n            stackedHeaders.push(headerText);\n        });\n        for (var h = 0; h < stackedHeaders.length; h++) {\n            var colSpan = 1;\n            for (var j = h + 1; j < stackedHeaders.length; j++) {\n                if ((stackedHeaders[h] !== '') && (stackedHeaders[j] !== '') && stackedHeaders[h] === stackedHeaders[j]) {\n                    colSpan++;\n                }\n                else {\n                    break;\n                }\n            }\n            var div = createElement('div', { className: cls.HEADER_TEXT_CLASS, innerHTML: stackedHeaders[h] });\n            var th = createElement('th', {\n                className: cls.HEADER_CELLS_CLASS + ' ' + cls.STACKED_HEADER_CELL_CLASS,\n                attrs: { 'colspan': colSpan.toString() }\n            });\n            tr.appendChild(th).appendChild(div);\n            h += colSpan - 1;\n        }\n        return tr;\n    };\n    LayoutRender.prototype.scrollUiUpdate = function () {\n        var _this = this;\n        var header = this.parent.element.querySelector('.' + cls.HEADER_CLASS);\n        var content = this.parent.element.querySelector('.' + cls.CONTENT_CLASS);\n        var height = this.parent.element.offsetHeight - header.offsetHeight;\n        if (this.parent.isAdaptive) {\n            height = window.innerHeight - (header.offsetHeight + events.bottomSpace);\n            var swimlaneToolbar = this.parent.element.querySelector('.' + cls.SWIMLANE_HEADER_CLASS);\n            if (swimlaneToolbar) {\n                height -= swimlaneToolbar.offsetHeight;\n            }\n            var cardWrappers = [].slice.call(this.parent.element.querySelectorAll('.' + cls.CONTENT_CELLS_CLASS));\n            cardWrappers.forEach(function (cell) {\n                var cardWrapper = cell.querySelector('.' + cls.CARD_WRAPPER_CLASS);\n                if (!cardWrapper.classList.contains(cls.MULTI_CARD_WRAPPER_CLASS)) {\n                    cardWrapper.style.height = formatUnit(height);\n                    EventHandler.add(cell, 'touchmove', _this.onAdaptiveScroll, _this);\n                }\n            });\n        }\n        if (this.parent.height !== 'auto' && this.parent.height !== '100%') {\n            content.style.height = formatUnit(height);\n        }\n        [].slice.call(header.children).forEach(function (node) {\n            var paddingValue = 0;\n            if ((content.offsetWidth - content.clientWidth) > 0) {\n                paddingValue = 17;\n                if ((content.offsetHeight - content.clientHeight) > 0) {\n                    node.style.width = formatUnit(content.clientWidth);\n                }\n            }\n            if (_this.parent.enableRtl) {\n                node.style.paddingLeft = formatUnit(paddingValue);\n            }\n            else {\n                node.style.paddingRight = formatUnit(paddingValue);\n            }\n        });\n        this.updateScrollPosition();\n    };\n    LayoutRender.prototype.onContentScroll = function (e) {\n        var target = e.target;\n        var header = this.parent.element.querySelector('.' + cls.HEADER_CLASS);\n        [].slice.call(header.children).forEach(function (node) { node.scrollLeft = target.scrollLeft; });\n        this.parent.scrollPosition.content = { left: target.scrollLeft, top: target.scrollTop };\n        if (!isNullOrUndefined(this.parent.swimlaneSettings.keyField) && this.parent.swimlaneSettings.enableFrozenRows) {\n            this.frozenRows(e);\n        }\n    };\n    LayoutRender.prototype.addFrozenSwimlaneDataKey = function (currentElem) {\n        var frozenKey = currentElem.getAttribute('data-key');\n        if (!isNullOrUndefined(frozenKey)) {\n            this.frozenSwimlaneRow.setAttribute('data-key', frozenKey);\n        }\n    };\n    LayoutRender.prototype.frozenRows = function (e) {\n        var firstSwimlane = this.parent.element.querySelector('.' + cls.SWIMLANE_ROW_CLASS);\n        var header = this.parent.element.querySelector('.' + cls.HEADER_CLASS);\n        var content = this.parent.element.querySelector('.' + cls.CONTENT_CLASS);\n        if (isNullOrUndefined(this.frozenSwimlaneRow)) {\n            this.frozenSwimlaneRow = createElement('div', { className: cls.FROZEN_SWIMLANE_ROW_CLASS });\n            var frozenRow = createElement('div', { className: cls.FROZEN_ROW_CLASS });\n            this.frozenSwimlaneRow.appendChild(frozenRow);\n            this.parent.element.insertBefore(this.frozenSwimlaneRow, this.parent.element.firstElementChild);\n            frozenRow.appendChild(firstSwimlane.querySelector('.' + cls.SWIMLANE_HEADER_CLASS).cloneNode(true));\n            this.addFrozenSwimlaneDataKey(firstSwimlane);\n            setStyleAttribute(this.frozenSwimlaneRow, { height: formatUnit(firstSwimlane.getBoundingClientRect().height),\n                width: formatUnit(content.querySelector('.e-swimlane').getBoundingClientRect().width),\n                top: formatUnit(header.getBoundingClientRect().height.toString())\n            });\n            setStyleAttribute(header, { position: 'relative', top: formatUnit((-this.frozenSwimlaneRow.getBoundingClientRect().height)) });\n            setStyleAttribute(content, { position: 'relative', top: formatUnit((-this.frozenSwimlaneRow.getBoundingClientRect().height)) });\n        }\n        else {\n            var swimlaneRows = [].slice.call(this.parent.element.querySelectorAll('.' + cls.SWIMLANE_ROW_CLASS));\n            var curSwim = swimlaneRows[this.frozenOrder];\n            var prevSwim = swimlaneRows[this.frozenOrder - 1];\n            var nextSwim = swimlaneRows[this.frozenOrder + 1];\n            var curSwimHeight = void 0;\n            var prevSwimHeight = void 0;\n            var nextSwimHeight = void 0;\n            if (curSwim) {\n                curSwimHeight = curSwim.getBoundingClientRect().top + curSwim.getBoundingClientRect().height;\n            }\n            if (prevSwim) {\n                prevSwimHeight = prevSwim.getBoundingClientRect().top + prevSwim.getBoundingClientRect().height;\n            }\n            if (nextSwim) {\n                nextSwimHeight = nextSwim.getBoundingClientRect().top + nextSwim.getBoundingClientRect().height;\n            }\n            var frozenSwimHeight = content.getBoundingClientRect().top + this.frozenSwimlaneRow.getBoundingClientRect().height;\n            var frozenRowsElement = this.frozenSwimlaneRow.querySelector('.' + cls.FROZEN_ROW_CLASS);\n            if (nextSwimHeight && frozenSwimHeight >= nextSwimHeight && this.frozenOrder < swimlaneRows.length - 1) {\n                if (frozenRowsElement) {\n                    remove(frozenRowsElement.querySelector('.' + cls.SWIMLANE_HEADER_CLASS));\n                    frozenRowsElement.appendChild(nextSwim.querySelector('.' + cls.SWIMLANE_HEADER_CLASS).cloneNode(true));\n                    this.addFrozenSwimlaneDataKey(nextSwim);\n                }\n                ++this.frozenOrder;\n            }\n            else if (prevSwimHeight && frozenSwimHeight < curSwimHeight && frozenSwimHeight > prevSwimHeight && this.frozenOrder > 0) {\n                if (frozenRowsElement) {\n                    remove(frozenRowsElement.querySelector('.' + cls.SWIMLANE_HEADER_CLASS));\n                    frozenRowsElement.appendChild(prevSwim.querySelector('.' + cls.SWIMLANE_HEADER_CLASS).cloneNode(true));\n                    this.addFrozenSwimlaneDataKey(prevSwim);\n                }\n                --this.frozenOrder;\n            }\n        }\n        if (e && e.target.scrollTop == 0) {\n            this.removeFrozenRows();\n        }\n    };\n    LayoutRender.prototype.removeFrozenRows = function () {\n        remove(this.frozenSwimlaneRow);\n        this.frozenSwimlaneRow = null;\n        var header = this.parent.element.querySelector('.' + cls.HEADER_CLASS);\n        var content = this.parent.element.querySelector('.' + cls.CONTENT_CLASS);\n        setStyleAttribute(header, { position: '', top: '' });\n        setStyleAttribute(content, { position: '', top: '' });\n        this.parent.scrollPosition.content = { left: this.parent.scrollPosition.content.left, top: 0 };\n        content.scrollTop = 0;\n        this.frozenOrder = 0;\n    };\n    LayoutRender.prototype.onColumnScroll = function (e) {\n        var target = e.target;\n        if (target.offsetParent) {\n            var columnKey = target.offsetParent.getAttribute('data-key');\n            this.parent.scrollPosition.column[columnKey] = { left: target.scrollLeft, top: target.scrollTop };\n        }\n    };\n    LayoutRender.prototype.onAdaptiveScroll = function (e) {\n        if (this.parent.touchModule.tabHold && !this.parent.touchModule.mobilePopup) {\n            e.preventDefault();\n        }\n    };\n    /**\n     * Check column is visible or not.\n     *\n     * @param {ColumnsModel} column - specifies the column.\n     * @returns {boolean}\n     * @private\n     * @hidden\n     */\n    LayoutRender.prototype.isColumnVisible = function (column) {\n        var _this = this;\n        var isVisible = false;\n        var isNumeric = typeof column.keyField === 'number';\n        if (isNumeric) {\n            isVisible = this.parent.actionModule.hideColumnKeys.indexOf(column.keyField.toString()) === -1;\n        }\n        else {\n            column.keyField.split(',').forEach(function (key) { isVisible = _this.parent.actionModule.hideColumnKeys.indexOf(key) === -1; });\n        }\n        return isVisible;\n    };\n    LayoutRender.prototype.renderLimits = function (column, target) {\n        var limits = createElement('div', { className: cls.LIMITS_CLASS });\n        if (column.minCount) {\n            limits.appendChild(createElement('div', {\n                className: cls.MIN_COUNT_CLASS,\n                innerHTML: this.parent.localeObj.getConstant('min') + ': ' + column.minCount.toString()\n            }));\n        }\n        if (column.maxCount) {\n            limits.appendChild(createElement('div', {\n                className: cls.MAX_COUNT_CLASS,\n                innerHTML: this.parent.localeObj.getConstant('max') + ': ' + column.maxCount.toString()\n            }));\n        }\n        if (limits.childElementCount > 0) {\n            if (target.querySelector('.' + cls.CARD_WRAPPER_CLASS)) {\n                target.insertBefore(limits, target.firstElementChild);\n            }\n            else {\n                target.appendChild(limits);\n            }\n        }\n    };\n    LayoutRender.prototype.renderValidation = function () {\n        var _this = this;\n        this.parent.columns.forEach(function (column) {\n            if (!column.minCount && !column.maxCount) {\n                return;\n            }\n            var cardData = _this.columnData[column.keyField];\n            var keySelector = \"[data-key=\\\"\" + column.keyField + \"\\\"]\";\n            var headerCell = _this.parent.element.querySelector(\".\" + (cls.HEADER_CELLS_CLASS + keySelector));\n            var rowCells = [].slice.call(_this.parent.element.querySelectorAll(\".\" + (cls.CONTENT_CELLS_CLASS + keySelector)));\n            if (_this.parent.constraintType === 'Swimlane' && _this.parent.swimlaneSettings.keyField) {\n                _this.swimlaneRow.forEach(function (row, index) {\n                    _this.renderLimits(column, rowCells[index]);\n                    var rowCards = cardData.filter(function (card) {\n                        return card[_this.parent.swimlaneSettings.keyField] === row.keyField;\n                    });\n                    var colorClass = _this.getValidationClass(column, rowCards.length);\n                    if (colorClass) {\n                        addClass([rowCells[index]], colorClass);\n                    }\n                });\n            }\n            else {\n                _this.renderLimits(column, headerCell);\n                var colorClass = _this.getValidationClass(column, cardData.length);\n                if (colorClass) {\n                    addClass(rowCells.concat(headerCell), colorClass);\n                }\n            }\n        });\n    };\n    LayoutRender.prototype.getValidationClass = function (column, count) {\n        var colorClass;\n        if (column.maxCount && count > column.maxCount) {\n            colorClass = cls.MAX_COLOR_CLASS;\n        }\n        else if (column.minCount && count < column.minCount) {\n            colorClass = cls.MIN_COLOR_CLASS;\n        }\n        return colorClass;\n    };\n    LayoutRender.prototype.refreshValidation = function () {\n        var validations = [].slice.call(this.parent.element.querySelectorAll('.' + cls.LIMITS_CLASS));\n        validations.forEach(function (node) { remove(node); });\n        var minClass = [].slice.call(this.parent.element.querySelectorAll('.' + cls.MIN_COLOR_CLASS));\n        removeClass(minClass, cls.MIN_COLOR_CLASS);\n        var maxClass = [].slice.call(this.parent.element.querySelectorAll('.' + cls.MAX_COLOR_CLASS));\n        removeClass(maxClass, cls.MAX_COLOR_CLASS);\n        this.renderValidation();\n    };\n    LayoutRender.prototype.getColumnData = function (columnValue, dataSource) {\n        var _this = this;\n        if (dataSource === void 0) { dataSource = this.parent.kanbanData; }\n        var cardData = [];\n        var isNumeric = typeof columnValue === 'number';\n        if (isNumeric) {\n            var keyData = dataSource.filter(function (cardObj) {\n                return cardObj[_this.parent.keyField] === columnValue;\n            });\n            cardData = cardData.concat(keyData);\n        }\n        else {\n            var columnKeys = columnValue.split(',');\n            var _loop_4 = function (key) {\n                var keyData = dataSource.filter(function (cardObj) {\n                    return cardObj[_this.parent.keyField] === key.trim();\n                });\n                cardData = cardData.concat(keyData);\n            };\n            for (var _i = 0, columnKeys_1 = columnKeys; _i < columnKeys_1.length; _i++) {\n                var key = columnKeys_1[_i];\n                _loop_4(key);\n            }\n        }\n        this.sortCategory(cardData);\n        return cardData;\n    };\n    LayoutRender.prototype.sortCategory = function (cardData) {\n        var key = this.parent.cardSettings.headerField;\n        var direction = this.parent.sortSettings.direction;\n        switch (this.parent.sortSettings.sortBy) {\n            case 'DataSourceOrder':\n                this.sortOrder(key, direction, cardData);\n                break;\n            case 'Custom':\n            case 'Index':\n                if (this.parent.sortSettings.field) {\n                    key = this.parent.sortSettings.field;\n                }\n                this.sortOrder(key, direction, cardData);\n                break;\n        }\n        return cardData;\n    };\n    LayoutRender.prototype.sortOrder = function (key, direction, cardData) {\n        var isNumeric = true;\n        if (this.parent.kanbanData.length > 0) {\n            isNumeric = typeof (this.parent.kanbanData[0])[key] === 'number';\n        }\n        if (!isNumeric && this.parent.sortSettings.sortBy === 'Index') {\n            return cardData;\n        }\n        var first;\n        var second;\n        cardData = cardData.sort(function (firstData, secondData) {\n            if (!isNumeric) {\n                first = firstData[key].toLowerCase();\n                second = secondData[key].toLowerCase();\n            }\n            else {\n                first = firstData[key];\n                second = secondData[key];\n            }\n            return (first > second) ? 1 : ((second > first) ? -1 : 0);\n        });\n        if (direction === 'Descending') {\n            cardData.reverse();\n        }\n        return cardData;\n    };\n    LayoutRender.prototype.documentClick = function (args) {\n        if (args.target.classList.contains(cls.SWIMLANE_OVERLAY_CLASS) &&\n            this.parent.element.querySelector('.' + cls.SWIMLANE_RESOURCE_CLASS).classList.contains('e-popup-open')) {\n            this.treePopup.hide();\n            removeClass([this.popupOverlay], 'e-enable');\n        }\n        if (closest(args.target, \".\" + cls.ROOT_CLASS)) {\n            return;\n        }\n        var cards = [].slice.call(this.parent.element.querySelectorAll(\".\" + cls.CARD_CLASS + \".\" + cls.CARD_SELECTION_CLASS));\n        removeClass(cards, cls.CARD_SELECTION_CLASS);\n        this.disableAttributeSelection(cards);\n    };\n    LayoutRender.prototype.disableAttributeSelection = function (cards) {\n        if (cards instanceof Element) {\n            cards.setAttribute('aria-selected', 'false');\n        }\n        else {\n            cards.forEach(function (card) { card.setAttribute('aria-selected', 'false'); });\n        }\n    };\n    LayoutRender.prototype.getColumnCards = function (data) {\n        var _this = this;\n        var columnData = {};\n        this.columnKeys = [];\n        this.parent.columns.forEach(function (column) {\n            var isNumeric = typeof column.keyField === 'number';\n            if (isNumeric) {\n                _this.columnKeys = _this.columnKeys.concat(column.keyField.toString());\n            }\n            else {\n                _this.columnKeys = _this.columnKeys.concat(column.keyField.split(',').map(function (e) { return e.trim(); }));\n            }\n            var cardData = _this.getColumnData(column.keyField, data);\n            columnData[column.keyField] = cardData;\n        });\n        return columnData;\n    };\n    LayoutRender.prototype.getSwimlaneCards = function () {\n        var _this = this;\n        var swimlaneData = {};\n        if (this.parent.swimlaneSettings.keyField) {\n            this.kanbanRows.forEach(function (row) {\n                return swimlaneData[row.keyField] = _this.parent.kanbanData.filter(function (obj) {\n                    return !isNullOrUndefined(obj[_this.parent.keyField]) && _this.columnKeys.indexOf(obj[_this.parent.keyField].toString()) > -1 &&\n                        ((!obj[_this.parent.swimlaneSettings.keyField] && _this.parent.swimlaneSettings.showUnassignedRow) ?\n                            '' : obj[_this.parent.swimlaneSettings.keyField]) === row.keyField;\n                });\n            });\n        }\n        return swimlaneData;\n    };\n    LayoutRender.prototype.refreshHeaders = function () {\n        var header = this.parent.element.querySelector('.' + cls.HEADER_CLASS);\n        [].slice.call(header.children).forEach(function (child) { return remove(child); });\n        this.renderHeader(header);\n    };\n    LayoutRender.prototype.refreshCards = function () {\n        this.parent.resetTemplates(['cardTemplate']);\n        var cards = [].slice.call(this.parent.element.querySelectorAll('.' + cls.CARD_WRAPPER_CLASS));\n        cards.forEach(function (card) { return remove(card); });\n        this.renderCards();\n        this.wireDragEvent();\n        this.parent.renderTemplates();\n    };\n    LayoutRender.prototype.refresh = function () {\n        var _this = this;\n        var isColumnTemplateRefreshed = false;\n        this.parent.columns.forEach(function (column) {\n            if (column.showItemCount) {\n                if (column && column.template && !isColumnTemplateRefreshed) {\n                    _this.refreshHeaders();\n                    isColumnTemplateRefreshed = true;\n                }\n                var countSelector = \".\" + cls.HEADER_CELLS_CLASS + \"[data-key=\\\"\" + column.keyField + \"\\\"] .\" + cls.CARD_ITEM_COUNT_CLASS;\n                var itemCount = _this.parent.element.querySelector(countSelector);\n                if (itemCount) {\n                    var isNumeric = typeof column.keyField === 'number';\n                    var cardLength = 0;\n                    if (isNumeric) {\n                        cardLength = ([].slice.call(_this.parent.element.querySelectorAll('.' + cls.CARD_CLASS + '[data-key=\\\"' + column.keyField + '\\\"]'))).length;\n                    }\n                    else {\n                        var keys = column.keyField.split(',');\n                        for (var _i = 0, keys_2 = keys; _i < keys_2.length; _i++) {\n                            var key = keys_2[_i];\n                            var cards = [].slice.call(_this.parent.element.querySelectorAll('.' + cls.CARD_CLASS + '[data-key=\\\"' + key.trim() + '\\\"]'));\n                            cardLength = cards.length + cardLength;\n                        }\n                    }\n                    itemCount.innerHTML = '- ' + cardLength + ' ' + _this.parent.localeObj.getConstant('items');\n                }\n            }\n        });\n        if (this.parent.swimlaneSettings.keyField) {\n            var swimlaneRows = [].slice.call(this.parent.element.querySelectorAll(\".\" + cls.SWIMLANE_ROW_CLASS));\n            swimlaneRows.forEach(function (swimlane) {\n                var swimlaneKey = swimlane.getAttribute('data-key');\n                var itemCount = swimlane.querySelector(\".\" + cls.CARD_ITEM_COUNT_CLASS);\n                if (itemCount && swimlaneKey) {\n                    var cards = [].slice.call(swimlane.nextElementSibling.querySelectorAll('.' + cls.CARD_CLASS));\n                    itemCount.innerHTML = '- ' + cards.length + ' ' + _this.parent.localeObj.getConstant('items');\n                }\n            });\n        }\n        this.refreshValidation();\n    };\n    LayoutRender.prototype.updateScrollPosition = function () {\n        var _this = this;\n        var content = this.parent.element.querySelector('.' + cls.CONTENT_CLASS);\n        if (content) {\n            content.scrollTo(this.parent.scrollPosition.content.left, this.parent.scrollPosition.content.top);\n        }\n        var cardWrapper = [].slice.call(this.parent.element.querySelectorAll('.' + cls.CARD_WRAPPER_CLASS));\n        cardWrapper.forEach(function (wrapper) {\n            if (wrapper.offsetParent) {\n                var scrollData = _this.parent.scrollPosition.column[wrapper.offsetParent.getAttribute('data-key')];\n                if (scrollData) {\n                    wrapper.scrollTo(scrollData.left, scrollData.top);\n                }\n            }\n        });\n    };\n    LayoutRender.prototype.renderCardBasedOnIndex = function (data, index) {\n        var _this = this;\n        var key = data[this.parent.keyField];\n        var cardRow = this.parent.element.querySelector('.e-content-row:not(.e-swimlane-row)');\n        if (this.parent.swimlaneSettings.keyField && !this.parent.isAdaptive) {\n            var rowSelector = \".e-content-row.e-swimlane-row[data-key=\\\"\" + data[this.parent.swimlaneSettings.keyField] + \"\\\"]\";\n            if (this.parent.element.querySelector(rowSelector)) {\n                cardRow = this.parent.element.querySelector(rowSelector).nextElementSibling;\n            }\n            else {\n                var columnIndex = this.columnKeys.indexOf(key);\n                if (columnIndex !== -1 && this.parent.actionModule.hideColumnKeys.indexOf(key) === -1) {\n                    var index_1 = this.kanbanRows.findIndex(function (rowData) { return rowData['keyField'] === data[_this.parent.swimlaneSettings.keyField]; });\n                    var swim = [].slice.call(this.parent.element.querySelectorAll('.e-swimlane-row'));\n                    var swimRow = this.parent.element.querySelector('.' + cls.CONTENT_TABLE_CLASS + ' tbody');\n                    if (swim[index_1]) {\n                        swimRow = swim[index_1];\n                    }\n                    this.renderSwimlaneRow(swimRow, this.kanbanRows[index_1], false);\n                    this.renderSingleContent(swimRow, this.kanbanRows[index_1], false);\n                }\n                cardRow = this.parent.element.querySelector(rowSelector).nextElementSibling;\n                [].slice.call(cardRow.children).forEach(function (cell) {\n                    var cardWrapper = createElement('div', { className: cls.CARD_WRAPPER_CLASS });\n                    cell.appendChild(cardWrapper);\n                    cardWrapper.appendChild(_this.renderEmptyCard());\n                });\n            }\n        }\n        if (this.parent.sortSettings.sortBy !== 'Index') {\n            var field_1 = this.parent.cardSettings.headerField;\n            if (this.parent.sortSettings.sortBy === 'Custom') {\n                field_1 = this.parent.sortSettings.field;\n            }\n            if (isNullOrUndefined(this.parent.swimlaneSettings.keyField)) {\n                index = this.getColumnData(key, this.parent.kanbanData).findIndex(function (colData) {\n                    return colData[field_1] === data[field_1];\n                });\n            }\n            else {\n                var swimlaneDatas = this.parent.getSwimlaneData(data[this.parent.swimlaneSettings.keyField]);\n                index = this.getColumnData(key, swimlaneDatas).findIndex(function (colData) { return colData[field_1] === data[field_1]; });\n            }\n        }\n        else if (this.parent.sortSettings.sortBy === 'Index' &&\n            this.parent.sortSettings.field && this.parent.sortSettings.direction === 'Ascending') {\n            index = data[this.parent.sortSettings.field] - 1;\n        }\n        if (cardRow) {\n            var td = [].slice.call(cardRow.children).filter(function (e) {\n                return e.getAttribute('data-key').replace(/\\s/g, '').split(',').indexOf(key.toString().replace(/\\s/g, '')) !== -1;\n            })[0];\n            var cardWrapper_2 = td.querySelector('.' + cls.CARD_WRAPPER_CLASS);\n            var emptyCard = cardWrapper_2.querySelector('.' + cls.EMPTY_CARD_CLASS);\n            if (emptyCard) {\n                remove(emptyCard);\n            }\n            var cardElement_1 = this.renderCard(data);\n            if (this.parent.allowDragAndDrop && td.classList.contains(cls.DRAG_CLASS)) {\n                this.parent.dragAndDropModule.wireDragEvents(cardElement_1);\n                addClass([cardElement_1], cls.DROPPABLE_CLASS);\n            }\n            var args = { data: data, element: cardElement_1, cancel: false };\n            this.parent.trigger(events.cardRendered, args, function (cardArgs) {\n                if (!cardArgs.cancel) {\n                    if (isNullOrUndefined(index) || cardWrapper_2.children.length === 0) {\n                        cardWrapper_2.appendChild(cardElement_1);\n                    }\n                    else {\n                        cardWrapper_2.insertBefore(cardElement_1, cardWrapper_2.childNodes[index]);\n                    }\n                }\n            });\n        }\n    };\n    LayoutRender.prototype.removeCard = function (data) {\n        var cardKey = data[this.parent.cardSettings.headerField];\n        var cardElement = this.parent.element.querySelector(\".\" + cls.CARD_CLASS + \"[data-id=\\\"\" + cardKey + \"\\\"]\");\n        this.isSelectedCard = cardElement.classList.contains(cls.CARD_SELECTION_CLASS) ? true : false;\n        var cardContainer = cardElement.parentElement;\n        if (cardElement) {\n            remove(cardElement);\n        }\n        if (cardContainer.querySelectorAll('.' + cls.CARD_CLASS + ':not(.' + cls.CLONED_CARD_CLASS + ')').length === 0) {\n            cardContainer.appendChild(this.renderEmptyCard());\n        }\n    };\n    LayoutRender.prototype.wireEvents = function () {\n        var _this = this;\n        EventHandler.add(this.parent.element, 'click', this.parent.actionModule.clickHandler, this.parent.actionModule);\n        EventHandler.add(this.parent.element, 'dblclick', this.parent.actionModule.doubleClickHandler, this.parent.actionModule);\n        EventHandler.add(document, Browser.touchStartEvent, this.documentClick, this);\n        var content = this.parent.element.querySelector('.' + cls.CONTENT_CLASS);\n        EventHandler.add(content, 'scroll', this.onContentScroll, this);\n        var cardWrapper = [].slice.call(this.parent.element.querySelectorAll('.' + cls.CARD_WRAPPER_CLASS));\n        cardWrapper.forEach(function (wrapper) {\n            if (_this.parent.isInitialRender && wrapper.offsetParent) {\n                _this.parent.scrollPosition.column[wrapper.offsetParent.getAttribute('data-key')] = { left: 0, top: 0 };\n            }\n            EventHandler.add(wrapper, 'scroll', _this.onColumnScroll, _this);\n        });\n        if (this.parent.isAdaptive) {\n            this.parent.touchModule.wireTouchEvents();\n            content.scrollLeft = this.scrollLeft;\n        }\n        this.wireDragEvent();\n    };\n    LayoutRender.prototype.unWireEvents = function () {\n        var _this = this;\n        EventHandler.remove(this.parent.element, 'click', this.parent.actionModule.clickHandler);\n        EventHandler.remove(this.parent.element, 'dblclick', this.parent.actionModule.doubleClickHandler);\n        EventHandler.remove(document, Browser.touchStartEvent, this.documentClick);\n        var content = this.parent.element.querySelector('.' + cls.CONTENT_CLASS);\n        if (content) {\n            EventHandler.remove(content, 'scroll', this.onContentScroll);\n            if (this.parent.allowDragAndDrop) {\n                this.unWireDragEvent();\n            }\n        }\n        var cardWrapper = [].slice.call(this.parent.element.querySelectorAll('.' + cls.CARD_WRAPPER_CLASS));\n        cardWrapper.forEach(function (wrapper) { EventHandler.remove(wrapper, 'scroll', _this.onColumnScroll); });\n        if (this.parent.isAdaptive) {\n            this.parent.touchModule.unWireTouchEvents();\n        }\n    };\n    LayoutRender.prototype.wireDragEvent = function () {\n        var _this = this;\n        if (this.parent.allowDragAndDrop) {\n            var cards = [].slice.call(this.parent.element.querySelectorAll('.' + cls.CONTENT_CELLS_CLASS\n                + '.' + cls.DRAG_CLASS + ' .' + cls.CARD_CLASS));\n            addClass(cards, cls.DROPPABLE_CLASS);\n            cards.forEach(function (card) { return _this.parent.dragAndDropModule.wireDragEvents(card); });\n        }\n    };\n    LayoutRender.prototype.unWireDragEvent = function () {\n        var _this = this;\n        var cards = [].slice.call(this.parent.element.querySelectorAll('.' + cls.CONTENT_CELLS_CLASS\n            + '.' + cls.DRAG_CLASS + ' .' + cls.CARD_CLASS));\n        removeClass(cards, cls.DROPPABLE_CLASS);\n        cards.forEach(function (card) { return _this.parent.dragAndDropModule.unWireDragEvents(card); });\n    };\n    LayoutRender.prototype.destroy = function () {\n        this.parent.resetTemplates();\n        this.parent.off(events.dataReady, this.initRender);\n        this.parent.off(events.contentReady, this.scrollUiUpdate);\n        this.unWireEvents();\n        var header = this.parent.element.querySelector('.' + cls.HEADER_CLASS);\n        if (header) {\n            remove(header);\n        }\n        var content = this.parent.element.querySelector('.' + cls.CONTENT_CLASS);\n        if (content) {\n            remove(content);\n        }\n        if (this.treeViewObj) {\n            this.treeViewObj.destroy();\n            this.treeViewObj = null;\n        }\n        if (this.treePopup) {\n            this.treePopup.destroy();\n            this.treePopup = null;\n        }\n        var swimlaneToolBarEle = this.parent.element.querySelector('.' + cls.SWIMLANE_HEADER_CLASS);\n        if (swimlaneToolBarEle) {\n            remove(swimlaneToolBarEle);\n        }\n        var swimlaneContent = this.parent.element.querySelector('.' + cls.SWIMLANE_CONTENT_CLASS);\n        if (swimlaneContent) {\n            remove(swimlaneContent);\n        }\n    };\n    return LayoutRender;\n}(MobileLayout));\nexport { LayoutRender };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { Component, NotifyPropertyChanges, Property, Complex, Collection, detach } from '@syncfusion/ej2-base';\nimport { addClass, classList, removeClass, compile, formatUnit, L10n, Browser, Event } from '@syncfusion/ej2-base';\nimport { createSpinner, hideSpinner, showSpinner } from '@syncfusion/ej2-popups';\nimport { Data } from './data';\nimport { SwimlaneSettings } from '../models/swimlane-settings';\nimport { CardSettings } from '../models/card-settings';\nimport { DialogSettings } from '../models/dialog-settings';\nimport { Columns } from '../models/columns';\nimport { StackedHeaders } from '../models/stacked-headers';\nimport { SortSettings } from '../models/sort-settings';\nimport { Action } from '../actions/action';\nimport { Crud } from '../actions/crud';\nimport { DragAndDrop } from '../actions/drag';\nimport { KanbanDialog } from '../actions/dialog';\nimport { Keyboard } from '../actions/keyboard';\nimport { KanbanTooltip } from '../actions/tooltip';\nimport { KanbanTouch } from '../actions/touch';\nimport { LayoutRender } from './layout-render';\nimport * as events from '../base/constant';\nimport * as cls from './css-constant';\n/**\n * The Kanban component is an efficient way to visually depict various stages of a process using cards with transparent workflows.\n * The component has rich set of APIs, methods, and events used to enable or disable its features and customize them.\n * ```html\n * <div id=\"kanban\"></div>\n * ```\n * ```typescript\n * <script>\n *   var kanbanObj = new Kanban();\n *   kanbanObj.appendTo(\"#kanban\");\n * </script>\n * ```\n */\nvar Kanban = /** @class */ (function (_super) {\n    __extends(Kanban, _super);\n    /**\n     * Constructor for creating the Kanban widget\n     *\n     * @param {KanbanModel} options Accepts the kanban properties to render the component.\n     * @param {string | HTMLElement} element Accepts the DOM element reference as either selector or element to render the component.\n     */\n    function Kanban(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    /**\n     * Initializes the values of private members.\n     *\n     * @returns {void}\n     * @private\n     */\n    Kanban.prototype.preRender = function () {\n        this.isAdaptive = Browser.isDevice;\n        this.kanbanData = [];\n        if (!this.enablePersistence || !this.swimlaneToggleArray) {\n            this.swimlaneToggleArray = [];\n        }\n        this.activeCardData = { data: null, element: null };\n        var defaultLocale = {\n            items: 'items',\n            min: 'Min',\n            max: 'Max',\n            cardsSelected: 'Cards Selected',\n            addTitle: 'Add New Card',\n            editTitle: 'Edit Card Details',\n            deleteTitle: 'Delete Card',\n            deleteContent: 'Are you sure you want to delete this card?',\n            save: 'Save',\n            delete: 'Delete',\n            cancel: 'Cancel',\n            yes: 'Yes',\n            no: 'No',\n            close: 'Close',\n            noCard: 'No cards to display',\n            unassigned: 'Unassigned'\n        };\n        this.localeObj = new L10n(this.getModuleName(), defaultLocale, this.locale);\n        this.scrollPosition = { content: { left: 0, top: 0 }, column: {} };\n        this.isInitialRender = true;\n    };\n    /**\n     * To provide the array of modules needed for control rendering\n     *\n     * @returns {ModuleDeclaration[]} Returns the declared modules.\n     * @private\n     */\n    Kanban.prototype.requiredModules = function () {\n        var modules = [];\n        return modules;\n    };\n    /**\n     * Returns the properties to be maintained in the persisted state.\n     *\n     * @returns {string} Returns the persistance state.\n     * @private\n     */\n    Kanban.prototype.getPersistData = function () {\n        if (this.dataSource.length > 0) {\n            return this.addOnPersist(['columns', 'dataSource', 'swimlaneToggleArray']);\n        }\n        else {\n            return this.addOnPersist(['columns', 'kanbanData', 'swimlaneToggleArray']);\n        }\n    };\n    /**\n     * Core method to return the component name.\n     *\n     * @returns {string} Returns the module name.\n     * @private\n     */\n    Kanban.prototype.getModuleName = function () {\n        return 'kanban';\n    };\n    /**\n     * Core method that initializes the control rendering.\n     *\n     * @returns {void}\n     * @private\n     */\n    Kanban.prototype.render = function () {\n        var addClasses = [cls.ROOT_CLASS];\n        var removeClasses = [];\n        if (this.enableRtl) {\n            addClasses.push(cls.RTL_CLASS);\n        }\n        else {\n            removeClasses.push(cls.RTL_CLASS);\n        }\n        if (this.isAdaptive) {\n            addClasses.push(cls.DEVICE_CLASS);\n        }\n        else {\n            removeClasses.push(cls.DEVICE_CLASS);\n        }\n        if (this.cssClass) {\n            addClasses.push(this.cssClass);\n        }\n        this.element.setAttribute('role', 'main');\n        classList(this.element, addClasses, removeClasses);\n        this.element.style.width = formatUnit(this.width);\n        this.element.style.height = formatUnit(this.height);\n        createSpinner({ target: this.element });\n        this.showSpinner();\n        this.initializeModules();\n    };\n    /**\n     * Called internally, if any of the property value changed.\n     *\n     * @param {KanbanModel} newProp Gets the updated values\n     * @param {KanbanModel} oldProp Gets the previous values\n     * @returns {void}\n     * @private\n     */\n    Kanban.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'cssClass':\n                    if (oldProp.cssClass) {\n                        removeClass([this.element], oldProp.cssClass);\n                    }\n                    if (newProp.cssClass) {\n                        addClass([this.element], newProp.cssClass);\n                    }\n                    break;\n                case 'enableRtl':\n                case 'locale':\n                    this.refresh();\n                    break;\n                case 'width':\n                    this.element.style.width = formatUnit(newProp.width);\n                    this.element.querySelector('.' + cls.HEADER_CLASS).firstElementChild.style.width = 'auto';\n                    this.notify(events.contentReady, {});\n                    break;\n                case 'height':\n                    this.element.style.height = formatUnit(newProp.height);\n                    this.element.querySelector('.' + cls.CONTENT_CLASS).style.height = 'auto';\n                    this.notify(events.contentReady, {});\n                    break;\n                case 'dataSource':\n                case 'query':\n                    if (this.dataModule) {\n                        this.dataModule.setState({ isDataChanged: false });\n                    }\n                    this.dataModule = new Data(this);\n                    break;\n                case 'columns':\n                case 'constraintType':\n                    this.notify(events.dataReady, { processedData: this.kanbanData });\n                    break;\n                case 'swimlaneSettings':\n                    this.onSwimlaneSettingsPropertyChanged(newProp.swimlaneSettings, oldProp.swimlaneSettings);\n                    break;\n                case 'cardSettings':\n                    this.onCardSettingsPropertyChanged(newProp.cardSettings, oldProp.cardSettings);\n                    break;\n                case 'allowDragAndDrop':\n                    if (newProp.allowDragAndDrop) {\n                        this.layoutModule.wireDragEvent();\n                    }\n                    else {\n                        this.layoutModule.unWireDragEvent();\n                    }\n                    break;\n                case 'enableTooltip':\n                    if (this.tooltipModule) {\n                        this.tooltipModule.destroy();\n                        this.tooltipModule = null;\n                    }\n                    if (newProp.enableTooltip) {\n                        this.tooltipModule = new KanbanTooltip(this);\n                        this.layoutModule.refreshCards();\n                    }\n                    break;\n                case 'dialogSettings':\n                    if (newProp.dialogSettings) {\n                        this.dialogModule = new KanbanDialog(this);\n                    }\n                    break;\n                case 'allowKeyboard':\n                    if (this.keyboardModule) {\n                        this.keyboardModule.destroy();\n                        this.keyboardModule = null;\n                    }\n                    if (newProp.allowKeyboard) {\n                        this.keyboardModule = new Keyboard(this);\n                    }\n                    break;\n                case 'stackedHeaders':\n                    this.layoutModule.refreshHeaders();\n                    break;\n                case 'sortSettings':\n                    this.notify(events.dataReady, { processedData: this.kanbanData });\n                    break;\n                default:\n                    break;\n            }\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    Kanban.prototype.onSwimlaneSettingsPropertyChanged = function (newProp, _oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'keyField':\n                case 'textField':\n                case 'showEmptyRow':\n                case 'showItemCount':\n                case 'template':\n                case 'sortDirection':\n                    this.notify(events.dataReady, { processedData: this.kanbanData });\n                    break;\n                case 'enableFrozenRows':\n                    if (this.layoutModule.frozenSwimlaneRow && !this.swimlaneSettings.enableFrozenRows) {\n                        this.layoutModule.removeFrozenRows();\n                    }\n                    break;\n            }\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    Kanban.prototype.onCardSettingsPropertyChanged = function (newProp, _oldProp) {\n        var cards = [];\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'showHeader':\n                case 'headerField':\n                case 'contentField':\n                case 'template':\n                case 'tagsField':\n                case 'grabberField':\n                case 'footerCssField':\n                    this.layoutModule.refreshCards();\n                    break;\n                case 'selectionType':\n                    cards = this.getSelectedCards();\n                    if (cards.length > 0) {\n                        removeClass(cards, cls.CARD_SELECTION_CLASS);\n                        this.layoutModule.disableAttributeSelection(cards);\n                    }\n                    break;\n            }\n        }\n    };\n    Kanban.prototype.initializeModules = function () {\n        this.dataModule = new Data(this);\n        this.layoutModule = new LayoutRender(this);\n        if (this.allowKeyboard) {\n            this.keyboardModule = new Keyboard(this);\n        }\n        this.actionModule = new Action(this);\n        this.crudModule = new Crud(this);\n        this.dragAndDropModule = new DragAndDrop(this);\n        this.dialogModule = new KanbanDialog(this);\n        if (this.enableTooltip) {\n            this.tooltipModule = new KanbanTooltip(this);\n        }\n        if (Browser.isDevice || Browser.isTouch) {\n            this.touchModule = new KanbanTouch(this);\n        }\n    };\n    Kanban.prototype.renderTemplates = function () {\n        if (this.isReact) {\n            this.renderReactTemplates();\n        }\n    };\n    Kanban.prototype.resetTemplates = function (templates) {\n        if (this.isReact) {\n            this.clearTemplate(templates);\n        }\n    };\n    Kanban.prototype.destroyModules = function () {\n        if (this.layoutModule) {\n            this.layoutModule.destroy();\n            this.layoutModule = null;\n        }\n        if (this.keyboardModule) {\n            this.keyboardModule.destroy();\n            this.keyboardModule = null;\n        }\n        if (this.touchModule) {\n            this.touchModule.destroy();\n            this.touchModule = null;\n        }\n        this.dialogModule = null;\n        this.actionModule = null;\n        this.crudModule = null;\n        this.dataModule = null;\n        this.dragAndDropModule = null;\n    };\n    Kanban.prototype.templateParser = function (template) {\n        if (template) {\n            try {\n                if (document.querySelectorAll(template).length) {\n                    return compile(document.querySelector(template).innerHTML.trim());\n                }\n            }\n            catch (error) {\n                return compile(template);\n            }\n        }\n        return undefined;\n    };\n    /**\n     * Returns the card details based on card ID from the board.\n     *\n     * @function getCardDetails\n     * @param {Element} target Accepts the card element to get the details.\n     * @returns {Object} Returns the card details based on given target.\n     */\n    Kanban.prototype.getCardDetails = function (target) {\n        var _this = this;\n        var isNumeric = typeof (this.kanbanData[0])[this.cardSettings.headerField] === 'number';\n        var targetId = isNumeric ? parseInt(target.getAttribute('data-id'), 10) : target.getAttribute('data-id');\n        var cardObj = this.kanbanData.filter(function (data) {\n            return data[_this.cardSettings.headerField] === targetId;\n        })[0];\n        return cardObj;\n    };\n    /**\n     * Returns the column data based on column key input.\n     *\n     * @function getColumnData\n     * @param {string | number} columnKey Accepts the column key to get the objects.\n     * @param {Object[]} dataSource Accepts the collection of objects to get the results based on given columnKey.\n     * @returns {Object[]} Returns the collection of card objects based on given inputs.\n     */\n    Kanban.prototype.getColumnData = function (columnKey, dataSource) {\n        return this.layoutModule.getColumnCards(dataSource)[columnKey] || [];\n    };\n    /**\n     * Returns the swimlane column data based on swimlane keyField input.\n     *\n     * @function getSwimlaneData\n     * @param {string} keyField Accepts the swimlane keyField to get the objects.\n     * @returns {Object[]} Returns the collection of card objects based on given inputs.\n     */\n    Kanban.prototype.getSwimlaneData = function (keyField) {\n        return this.layoutModule.getSwimlaneCards()[keyField] || [];\n    };\n    /**\n     * Gets the list of selected cards from the board.\n     *\n     * @function getSelectedCards\n     * @returns {HTMLElement[]} Returns the card elements based on selection.\n     */\n    Kanban.prototype.getSelectedCards = function () {\n        return [].slice.call(this.element.querySelectorAll('.' + cls.CARD_CLASS + '.' + cls.CARD_SELECTION_CLASS));\n    };\n    /**\n     * Allows you to show the spinner on Kanban at the required scenarios.\n     *\n     * @function showSpinner\n     * @returns {void}\n     */\n    Kanban.prototype.showSpinner = function () {\n        showSpinner(this.element);\n    };\n    /**\n     * When the spinner is shown manually using the showSpinner method, it can be hidden using this `hideSpinner` method.\n     *\n     * @function hideSpinner\n     * @returns {void}\n     */\n    Kanban.prototype.hideSpinner = function () {\n        hideSpinner(this.element);\n    };\n    /**\n     * To manually open the dialog.\n     *\n     * @function openDialog\n     * @param {CurrentAction} action Accepts the action for which the dialog needs to be opened such as either for new card creation or\n     *  editing of existing cards. The applicable action names are `Add` and `Edit`.\n     * @param {Object} data It can be card data.\n     * @returns {void}\n     */\n    Kanban.prototype.openDialog = function (action, data) {\n        this.dialogModule.openDialog(action, data);\n    };\n    /**\n     * To manually close the dialog.\n     *\n     * @function closeDialog\n     * @returns {void}\n     */\n    Kanban.prototype.closeDialog = function () {\n        this.dialogModule.closeDialog();\n    };\n    /**\n     * Adds the new card to the data source of Kanban and layout.\n     *\n     * @function addCard\n     * @param {Object | Object[]} cardData Accepts Single card object or Collection of card objects to be added into Kanban.\n     * @param {number} index Accepts the index to insert the card in column.\n     * @returns {void}\n     */\n    Kanban.prototype.addCard = function (cardData, index) {\n        this.crudModule.addCard(cardData, index);\n    };\n    /**\n     * Updates the changes made in the card object by passing it as a parameter to the data source.\n     *\n     * @function updateCard\n     * @param {Object | Object[]} cardData Accepts Single card object or Collection of card objects to be updated into Kanban.\n     * @param {number} index Accepts the index to update the card in column.\n     * @returns {void}\n     */\n    Kanban.prototype.updateCard = function (cardData, index) {\n        this.crudModule.updateCard(cardData, index);\n    };\n    /**\n     * Deletes the card based on the provided ID or card collection in the argument list.\n     *\n     * @function deleteCard\n     * @param {string | number | Object | Object[]} cardData Accepts the ID of the remove card in string or number type or\n     * Single card object or Collection of card objects to be removed from Kanban\n     * @returns {void}\n     */\n    Kanban.prototype.deleteCard = function (cardData) {\n        this.crudModule.deleteCard(cardData);\n    };\n    /**\n     * Add the column to Kanban board dynamically based on the provided column options and index in the argument list.\n     *\n     * @function addColumn\n     * @param {ColumnsModel} columnOptions Accepts the properties to new column that are going to be added in the board.\n     * @param {number} index Accepts the index of column to add the new column.\n     * @returns {void}\n     */\n    Kanban.prototype.addColumn = function (columnOptions, index) {\n        this.actionModule.addColumn(columnOptions, index);\n    };\n    /**\n     * Deletes the column based on the provided index value.\n     *\n     * @function deleteColumn\n     * @param {number} index Accepts the index of column to delete the existing column from Kanban board.\n     * @returns {void}\n     */\n    Kanban.prototype.deleteColumn = function (index) {\n        this.actionModule.deleteColumn(index);\n    };\n    /**\n     * Shows the column from hidden based on the provided key in the columns.\n     *\n     * @function showColumn\n     * @param {string | number} key Accepts the hidden column key name to be shown from the hidden state in board.\n     * @returns {void}\n     */\n    Kanban.prototype.showColumn = function (key) {\n        this.actionModule.showColumn(key);\n    };\n    /**\n     * Hides the column from Kanban board based on the provided key in the columns.\n     *\n     * @function hideColumn\n     * @param {string | number} key Accepts the visible column key name to be hidden from the board.\n     * @returns {void}\n     */\n    Kanban.prototype.hideColumn = function (key) {\n        this.actionModule.hideColumn(key);\n    };\n    /**\n     * Method to refresh the Kanban UI based on modified records.\n     *\n     * @function refreshUI\n     * @param {ActionEventArgs} args Accepts the added, changed or deleted data.\n     * @param {number} index Accepts the index of the changed items.\n     * @returns {void}\n     */\n    Kanban.prototype.refreshUI = function (args, index) {\n        index = index ? index : 0;\n        this.dataModule.refreshUI(args, index);\n    };\n    /**\n     * Method to refresh the column header.\n     *\n     * @method refreshHeader\n     * @returns {void}\n     */\n    Kanban.prototype.refreshHeader = function () {\n        this.resetTemplates(['columnTemplate']);\n        if (this.layoutModule) {\n            this.layoutModule.refreshHeaders();\n        }\n        this.renderTemplates();\n    };\n    /**\n     * Removes the control from the DOM and detaches all its related event handlers. Also, it removes the attributes and classes.\n     *\n     * @function destroy\n     * @returns {void}\n     */\n    Kanban.prototype.destroy = function () {\n        this.destroyModules();\n        [].slice.call(this.element.childNodes).forEach(function (node) { detach(node); });\n        var removeClasses = [cls.ROOT_CLASS];\n        if (this.cssClass) {\n            removeClasses = removeClasses.concat(this.cssClass.split(' '));\n        }\n        removeClass([this.element], removeClasses);\n        _super.prototype.destroy.call(this);\n    };\n    __decorate([\n        Property()\n    ], Kanban.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property('auto')\n    ], Kanban.prototype, \"width\", void 0);\n    __decorate([\n        Property('auto')\n    ], Kanban.prototype, \"height\", void 0);\n    __decorate([\n        Property([])\n    ], Kanban.prototype, \"dataSource\", void 0);\n    __decorate([\n        Property()\n    ], Kanban.prototype, \"query\", void 0);\n    __decorate([\n        Property()\n    ], Kanban.prototype, \"keyField\", void 0);\n    __decorate([\n        Property('Column')\n    ], Kanban.prototype, \"constraintType\", void 0);\n    __decorate([\n        Property([])\n    ], Kanban.prototype, \"externalDropId\", void 0);\n    __decorate([\n        Collection([], Columns)\n    ], Kanban.prototype, \"columns\", void 0);\n    __decorate([\n        Property(true)\n    ], Kanban.prototype, \"allowKeyboard\", void 0);\n    __decorate([\n        Collection([], StackedHeaders)\n    ], Kanban.prototype, \"stackedHeaders\", void 0);\n    __decorate([\n        Complex({}, SwimlaneSettings)\n    ], Kanban.prototype, \"swimlaneSettings\", void 0);\n    __decorate([\n        Complex({}, CardSettings)\n    ], Kanban.prototype, \"cardSettings\", void 0);\n    __decorate([\n        Complex({}, SortSettings)\n    ], Kanban.prototype, \"sortSettings\", void 0);\n    __decorate([\n        Complex({}, DialogSettings)\n    ], Kanban.prototype, \"dialogSettings\", void 0);\n    __decorate([\n        Property(true)\n    ], Kanban.prototype, \"allowDragAndDrop\", void 0);\n    __decorate([\n        Property(false)\n    ], Kanban.prototype, \"enableTooltip\", void 0);\n    __decorate([\n        Property(false)\n    ], Kanban.prototype, \"showEmptyColumn\", void 0);\n    __decorate([\n        Property(false)\n    ], Kanban.prototype, \"enablePersistence\", void 0);\n    __decorate([\n        Property()\n    ], Kanban.prototype, \"tooltipTemplate\", void 0);\n    __decorate([\n        Event()\n    ], Kanban.prototype, \"actionBegin\", void 0);\n    __decorate([\n        Event()\n    ], Kanban.prototype, \"actionComplete\", void 0);\n    __decorate([\n        Event()\n    ], Kanban.prototype, \"actionFailure\", void 0);\n    __decorate([\n        Event()\n    ], Kanban.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], Kanban.prototype, \"dataBinding\", void 0);\n    __decorate([\n        Event()\n    ], Kanban.prototype, \"dataBound\", void 0);\n    __decorate([\n        Event()\n    ], Kanban.prototype, \"cardClick\", void 0);\n    __decorate([\n        Event()\n    ], Kanban.prototype, \"cardDoubleClick\", void 0);\n    __decorate([\n        Event()\n    ], Kanban.prototype, \"queryCellInfo\", void 0);\n    __decorate([\n        Event()\n    ], Kanban.prototype, \"cardRendered\", void 0);\n    __decorate([\n        Event()\n    ], Kanban.prototype, \"dragStart\", void 0);\n    __decorate([\n        Event()\n    ], Kanban.prototype, \"drag\", void 0);\n    __decorate([\n        Event()\n    ], Kanban.prototype, \"dragStop\", void 0);\n    __decorate([\n        Event()\n    ], Kanban.prototype, \"dialogOpen\", void 0);\n    __decorate([\n        Event()\n    ], Kanban.prototype, \"dialogClose\", void 0);\n    __decorate([\n        Event()\n    ], Kanban.prototype, \"dataStateChange\", void 0);\n    __decorate([\n        Event()\n    ], Kanban.prototype, \"dataSourceChanged\", void 0);\n    Kanban = __decorate([\n        NotifyPropertyChanges\n    ], Kanban);\n    return Kanban;\n}(Component));\nexport { Kanban };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport * as React from 'react';\nimport { Kanban } from '@syncfusion/ej2-kanban';\nimport { ComponentBase, applyMixins } from '@syncfusion/ej2-react-base';\n/**\n * `KanbanComponent` represents the react Kanban.\n * ```tsx\n * <KanbanComponent/>\n * ```\n */\nvar KanbanComponent = /** @class */ (function (_super) {\n    __extends(KanbanComponent, _super);\n    function KanbanComponent(props) {\n        var _this = _super.call(this, props) || this;\n        _this.initRenderCalled = false;\n        _this.checkInjectedModules = true;\n        _this.directivekeys = { 'columns': 'column', 'stackedHeaders': 'stackedHeader' };\n        _this.immediateRender = false;\n        _this.portals = [];\n        return _this;\n    }\n    KanbanComponent.prototype.render = function () {\n        if (((this.element && !this.initRenderCalled) || this.refreshing) && !this.isReactForeceUpdate) {\n            _super.prototype.render.call(this);\n            this.initRenderCalled = true;\n        }\n        else {\n            return React.createElement('div', this.getDefaultAttributes(), [].concat(this.props.children, this.portals));\n        }\n    };\n    return KanbanComponent;\n}(Kanban));\nexport { KanbanComponent };\napplyMixins(KanbanComponent, [ComponentBase, React.Component]);\n"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","this","constructor","prototype","create","ColumnDirective","_super","apply","arguments","moduleName","ComplexBase","ColumnsDirective","propertyName","actionBegin","actionComplete","cardRendered","queryCellInfo","dataBound","contentReady","dataReady","dataStateChange","Data","parent","dataState","isPending","resolver","isDataChanged","keyField","cardSettings","headerField","isObservable","initDataManager","dataSource","query","refreshDataManager","dataManager","DataManager","Query","kanbanData","getQuery","clone","getData","def","eventPromise","requestType","promise","executeQuery","setState","state","getStateEventArgument","adaptr","UrlAdaptor","dm","url","adaptor","processQuery","data","JSON","parse","extend","pvtData","args","index","_this","dataArgs","Deferred","deff","undefined","action","editArgs_1","resolve","endEdit","cancelEdit","reject","trigger","then","events","addedRecords","forEach","push","changedRecords","changedRecord","cardObj","filter","deletedRecords","deletedRecord","findIndex","splice","catch","hideSpinner","getTable","fromTable","e","dataManagerSuccess","dataManagerFailure","type","offlineArgs","isDestroyed","resultData","result","isArray","modifyArrayData","refreshUI","notify","processedData","error","updateDataManager","updateType","params","showSpinner","actionArgs","cancel","insert","update","remove","saveChanges","offline","json","onLineData","length","i","position","layoutModule","columnData","getColumnCards","swimlaneSettings","kanbanRows","getRows","swimlaneData","getSwimlaneCards","renderCardBasedOnIndex","removeCard","isSelectedCard","actionModule","SingleCardSelection","sortSettings","field","sortBy","direction","refresh","renderTemplates","__decorate","decorators","target","key","desc","c","r","getOwnPropertyDescriptor","Reflect","decorate","defineProperty","SwimlaneSettings","Property","ChildProperty","CardSettings","DialogSettings","Columns","StackedHeaders","SortSettings","ROOT_CLASS","RTL_CLASS","DEVICE_CLASS","ICON_CLASS","TEMPLATE_CLASS","SWIMLANE_CLASS","TABLE_CLASS","HEADER_CLASS","HEADER_CELLS_CLASS","HEADER_WRAP_CLASS","HEADER_TEXT_CLASS","HEADER_ICON_CLASS","STACKED_HEADER_CELL_CLASS","CONTENT_CELLS_CLASS","CONTENT_CLASS","CONTENT_TABLE_CLASS","HEADER_ROW_TOGGLE_CLASS","HEADER_ROW_CLASS","CONTENT_ROW_CLASS","SWIMLANE_ROW_CLASS","SWIMLANE_ROW_EXPAND_CLASS","SWIMLANE_ROW_COLLAPSE_CLASS","CARD_ITEM_COUNT_CLASS","CARD_WRAPPER_CLASS","CARD_CLASS","DROPPABLE_CLASS","DRAG_CLASS","DROP_CLASS","DISABLED_CLASS","EMPTY_CARD_CLASS","COLUMN_EXPAND_CLASS","COLUMN_COLLAPSE_CLASS","COLLAPSE_HEADER_TEXT_CLASS","COLLAPSED_CLASS","DIALOG_CLASS","FORM_CLASS","ERROR_VALIDATION_CLASS","FIELD_CLASS","DRAGGED_CLONE_CLASS","CLONED_CARD_CLASS","DRAGGED_CARD_CLASS","DROPPED_CLONE_CLASS","DROPPING_CLASS","TOGGLE_VISIBLE_CLASS","MULTI_CARD_WRAPPER_CLASS","TARGET_MULTI_CLONE_CLASS","MULTI_COLUMN_KEY_CLASS","CARD_SELECTION_CLASS","TOOLTIP_TEXT_CLASS","SWIMLANE_HEADER_CLASS","TOOLBAR_MENU_ICON_CLASS","TOOLBAR_SWIMLANE_NAME_CLASS","SWIMLANE_OVERLAY_CLASS","SWIMLANE_CONTENT_CLASS","SWIMLANE_RESOURCE_CLASS","LIMITS_CLASS","MAX_COLOR_CLASS","MIN_COLOR_CLASS","CLOSE_CLASS","POPUP_CONTENT_CLASS","SHOW_ADD_BUTTON","SHOW_ADD_FOCUS","FROZEN_SWIMLANE_ROW_CLASS","FROZEN_ROW_CLASS","Action","columnToggleArray","selectionArray","lastCardSelection","lastSelectionRow","lastCard","selectedCardsElement","selectedCardsData","hideColumnKeys","clickHandler","elementSelector","cls","closest","classList","contains","allowKeyboard","keyboardModule","cardTabIndexRemove","cardClick","columnExpandCollapse","rowExpandCollapse","addButtonClick","swimlaneRows","slice","call","element","querySelectorAll","targetIcon","frozenSwimlaneRow","querySelector","frozenOrder","newData","id","map","obj","parseInt","Math","max","getAttribute","card","nextElementSibling","lastElementChild","firstElementChild","getCardDetails","previousElementSibling","openDialog","doubleClickHandler","cardDoubleClick","selectedCard","cardClickObj","activeCardData","event","clickArgs","removeClass","disableAttributeSelection","isCtrlKey","ctrlKey","isAdaptive","touchModule","mobilePopup","tabHold","cardSelection","shiftKey","updatePopupContent","cell","setAttribute","addRemoveTabIndex","cardDoubleClickObj","doubleClickArgs","dialogModule","isFrozenElem","headerTarget","HTMLElement","currentSwimlaneHeader","isNullOrUndefined","tabIndex_1","tgtRow","rowIndex","isCollapsed","swimlaneToggleArray","indexOf","addClass","toString","colIndex","cellIndex","columnToggle","collapsed","columns","headerSelector","nextCol","targetRow","colSelector","colGroup","col","style","width","formatUnit","getWidth","_loop_1","row","targetCol","parentElement","collapasedText","height","getBoundingClientRect","_i","targetRow_1","setProperties","isExpanded","_loop_2","text","this_1","showItemCount","headerText","appendChild","createElement","className","innerHTML","_a","targetRow_2","isCtrl","isShift","cards","getSelectedCards","selectionType","contentRow","el","curCards_1","start","end","allCards","curId","lastId","curIndex","lastIndex","select","parentEle","addColumn","columnOptions","createInstance","deleteColumn","listKey","item","detach","showColumn","hideColumn","Crud","addCard","cardData","addArgs","modifiedData_1","getColumnData","count","priorityOrder","editParms","dataModule","getIndexFromData","cardElement","updateCard","updateArgs","modifiedData","deleteCard","deleteArgs","cardData_1","cardIndex","columnAllDatas","cardsId","num","allModifiedKeys","modifiedKey","sort","finalData","originalIndex","columnKey","keyData","swimlaneDatas","getSwimlaneData","j","modifiedKey_1","DragAndDrop","dragObj","cloneElement","instance","targetClone","draggedClone","targetCloneMulti","selectedCards","pageX","pageY","navigationInterval","cardDetails","dragEdges","left","right","top","bottom","isDragging","isExternalDrop","wireDragEvents","dragContainment","externalDropId","Draggable","enableTapHold","enableTailMode","cursorAt","dragArea","dragStart","bind","drag","dragStop","enableAutoScroll","helper","dragHelper","hide","sender","offsetWidth","cloneWrapper","outerHTML","children","styles","offsetHeight","closestEle","dragArgs","dragEventArgs","removeElement","intDestroy","EventHandler","add","document","body","keydownHandler","insertAdjacentElement","selector","contentCell","externalDrop","kanbanObj","isExternalKanbanDrop","externalDropObj","calculateArgs","cursor","targetKey","getColumnKey","keys","split","multiCloneRemove","isDrag","insertClone","offsetTop","multiCloneCreate","cellDropping","toggleVisible","tColumn","multiKeyTarget","columnKeys","updateScrollPosition","getElementsByClassName","targetRootElement","ej2_instances","cells","limitEle","borderStyle","keys_1","dragCell","transition","transitionColumns","allowTransition","allowedTransition","name_1","colKey","attrs","trim","lineHeight","currentCardKey","targetCardKey","allowedKey","dragRow","addDropping","allowDragAndDrop","rows","code","removeAttribute","dragStopClear","dragStopPostClear","dropIndex","cardStatus_1","updateDroppedData","changeOrder","crudModule","removeProperty","clearInterval","styleCard","externalCell","cardStatus","crudObj","crudData","prev","swimlaneIndex","modifieddata","prevele","keyIndex_1","reverse","headerCells","list","cloneTarget","cloneMulti","node","eventArgs","getPageCoordinates","tooltipModule","tooltipObj","close","changedTouches","window","setInterval","autoScroll","autoScrollValidation","viewBoundaries","pageYOffset","pageXOffset","scrollSensitivity","parent_1","yIsScrollable","scrollHeight","xIsScrollable","scrollWidth","yInBounds","scrollTop","xInBounds","scrollLeft","parent_2","column","yScrollable","xScrollable","yBounds","xBounds","scrollY","scrollTo","scrollX","innerHeight","unWireDragEvents","dragInstance","destroy","KanbanDialog","preventUpdate","renderDialog","dialogObj","show","closeDialog","dialogModel","buttons","getDialogButtons","content","getDialogContent","cssClass","enableRtl","header","localeObj","getConstant","isModal","showCloseIcon","visible","beforeOpen","onBeforeDialogOpen","beforeClose","onBeforeDialogClose","Dialog","dialogSettings","model","applyFormValidation","title","container","form","onsubmit","template","destroyComponents","childNodes","templateId","dialogTemplate","templateParser","append","dialogWrapper","table","dialogFields_1","getDialogFields","tr","td","renderComponents","fields","contentField","flatButtonClass","dialogButtons","buttonModel","isPrimary","click","dialogButtonClick","deleteButton","divElement","dropDownOptions","controlObj","wrapper","fieldValue","currentKeys","isColumnVisible","concat","value","DropDownList","NumericTextBox","TextBox","enabled","appendTo","eventProp","storeElement","activeElement","maxHeight","openArgs","formInputs","getFormElements","isInteracted","formInputs_1","input","columnName","name","getColumnName","getValueFromElement","getIDType","closeArgs","rules","validationRules","formObj","FormValidator","customPlacement","inputElement","createTooltip","validationComplete","elem","inputName","display","status","dlgContent","client","inputClient","div","arrow","destroyToolTip","reset","cloneNode","getElementById","validate","activeCard","updateIndex","validElements","elements_1","attrName","isDropDowns","fieldSelector","classSelector","control","attrEle","checked","formelement_1","focus","Keyboard","keyConfigs","firstCardSelection","upArrow","downArrow","rightArrow","leftArrow","multiSelectionEnter","multiSelectionSpace","multiSelectionByUpArrow","multiSelectionByDownArrow","shiftTab","enter","tab","delete","escape","space","tabIndex","KeyboardEvents","keyAction","keyActionHandler","eventName","multiSelection","preventDefault","processUpDownArrow","processLeftRightArrow","processCardSelection","processEnter","ele","selected","selection","removeSelection","attribute","headerIcon","swimlaneIcon","KanbanTooltip","renderTooltip","Tooltip","mouseTrail","offsetY","showTipPointer","beforeRender","onBeforeRender","onBeforeClose","isStringTemplate","dragAndDropModule","tooltipContent","tooltipTemplate","innerText","resetTemplates","KanbanTouch","wireTouchEvents","touchObj","Touch","tapHold","tapHoldHandler","originalEvent","renderMobilePopup","mobilePopupWrapper","Popup","targetType","hideAnimation","showAnimation","collision","X","Y","viewPortElement","zIndex","popupClose","closeIcon","buttonObj","Button","iconCss","closeClick","getPopupContent","popupContent","textContent","popupDestroy","unWireTouchEvents","MobileLayout","renderSwimlaneHeader","toolbarWrapper","menuClick","renderSwimlaneTree","treeHeight","popupOverlay","treeWrapper","swimlaneTree","treeViewObj","TreeView","nodeTemplate","nodeClicked","treeSwimlaneClick","drawNode","popupObj","actionOnScroll","duration","treePopup","treeNodes","hidePopup","innerWidth","isReact","treeViewTemplate","nodeData","LayoutRender","on","initRender","scrollUiUpdate","renderHeader","renderContent","renderCards","renderValidation","wireEvents","isInitialRender","headerWrap","headerTable","renderColGroup","tableHead","stackedHeaders","createStackedRow","th_1","allowToggle","headerWrapper","noOfCard","headerTitle","templateArgs","minCount","maxCount","templateHeader","header_1","itemCount","isExpand","icon","textField","columnArgs","contentWrap","contentTable","tBody","isCollaspsed","swimlaneRow","initializeSwimlaneTree","renderSwimlaneRow","renderSingleContent","className_1","dragClass","allowDrag","allowDrop","showAddButton","button","swimlaneHeader","iconClass","iconDiv","cardCount","swimlaneTemplate","cardRows","removeTrs","dataCount","columnWrapper","cardWrapper_1","_loop_3","cardText","renderCard","cardArgs","renderEmptyCard","showEmptyRow","showEmptyColumn","cardTemplate","tooltipClass","enableTooltip","showHeader","cardHeader","cardCaption","cardContent","tagsField","cardTags","tags_1","tag","grabberField","borderLeftColor","footerCssField","cardFields","isToggle","showUnassignedRow","arr","swimlaneSorting","sortComparer","a","localeCompare","numeric","sortDirection","rows_1","keyFields","h","colSpan","th","swimlaneToolbar","cardWrapper","onAdaptiveScroll","paddingValue","clientWidth","clientHeight","paddingLeft","paddingRight","onContentScroll","scrollPosition","enableFrozenRows","frozenRows","addFrozenSwimlaneDataKey","currentElem","frozenKey","firstSwimlane","frozenRow","insertBefore","setStyleAttribute","curSwim","prevSwim","nextSwim","curSwimHeight","prevSwimHeight","nextSwimHeight","frozenSwimHeight","frozenRowsElement","removeFrozenRows","onColumnScroll","offsetParent","isVisible","renderLimits","limits","childElementCount","keySelector","headerCell","rowCells","constraintType","rowCards","colorClass","getValidationClass","refreshValidation","minClass","maxClass","columnValue","_loop_4","columnKeys_1","sortCategory","sortOrder","first","second","isNumeric","firstData","secondData","toLowerCase","documentClick","Element","refreshHeaders","child","refreshCards","wireDragEvent","isColumnTemplateRefreshed","countSelector","cardLength","keys_2","swimlane","swimlaneKey","scrollData","cardRow","rowSelector","index_1","rowData","swim","swimRow","field_1","colData","replace","cardWrapper_2","emptyCard","cardElement_1","cardKey","cardContainer","Browser","touchStartEvent","unWireEvents","unWireDragEvent","off","swimlaneToolBarEle","swimlaneContent","Kanban","options","preRender","isDevice","enablePersistence","L10n","getModuleName","items","min","cardsSelected","addTitle","editTitle","deleteTitle","deleteContent","save","yes","no","noCard","unassigned","locale","requiredModules","getPersistData","addOnPersist","render","addClasses","removeClasses","createSpinner","initializeModules","onPropertyChanged","newProp","oldProp","onSwimlaneSettingsPropertyChanged","onCardSettingsPropertyChanged","_oldProp","isTouch","renderReactTemplates","templates","clearTemplate","destroyModules","compile","targetId","refreshHeader","Collection","Complex","Event","NotifyPropertyChanges","Component","KanbanComponent","props","initRenderCalled","checkInjectedModules","directivekeys","immediateRender","portals","refreshing","isReactForeceUpdate","React","getDefaultAttributes","applyMixins","ComponentBase"],"sourceRoot":""}