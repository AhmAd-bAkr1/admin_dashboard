"use strict";(self.webpackChunkadmin_dashboard=self.webpackChunkadmin_dashboard||[]).push([[790],{2802:(e,t,i)=>{i.d(t,{I:()=>o});var n=i(5043),r=i(5633),a=i(3527),s=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),o=function(e){function t(t){var i=e.call(this,t)||this;return i.initRenderCalled=!1,i.checkInjectedModules=!0,i.immediateRender=!0,i.portals=[],i}return s(t,e),t.prototype.render=function(){if(!(this.element&&!this.initRenderCalled||this.refreshing)||this.isReactForeceUpdate)return n.createElement(n.Fragment,null,[].concat(n.createElement("input",this.getDefaultAttributes()),this.portals));e.prototype.render.call(this),this.initRenderCalled=!0},t}(r.l);(0,a.XJ)(o,[a.xu,n.Component])},1526:(e,t,i)=>{i.d(t,{b:()=>Di});var n=i(5043),r=i(8452),a=i(2771),s=i(199),o=i(597),l=i(155),h=i(4144),c=i(1856),p=i(9382),u=function(){function e(e){this.parent=e,this.l10n=this.parent.localeObj,this.renderHeader(),this.addEventListener()}return e.prototype.addEventListener=function(){this.parent.on(h.GU,this.closeHeaderPopup,this)},e.prototype.removeEventListener=function(){this.parent.off(h.GU,this.closeHeaderPopup)},e.prototype.closeHeaderPopup=function(e){var t=(0,r.kp)(e.event.target,".e-date-range,.e-header-popup,.e-day,.e-selected"),i=(0,r.kp)(e.event.target,".e-hor-nav,.e-toolbar-pop"),n=this.parent.element.querySelector("."+p._oL);if(this.parent.isAdaptive)if((0,r.hX)(i)||!i.classList.contains("e-toolbar-pop")&&!i.classList.contains("e-hor-nav")||i.classList.contains("e-hor-nav")&&this.element.querySelector(".e-toolbar-pop").classList.contains(p.g6H)){(0,r.vy)([n],p.H59);var a=this.element.querySelector(".e-toolbar-pop");if(!(0,r.hX)(a)){var s=a.ej2_instances[0];!s||!(0,r.hX)(i)&&i.classList.contains("e-hor-nav")&&a.classList.contains(p.g6H)||s.hide()}}else(0,r.iQ)([n],p.H59);(0,r.hX)(t)&&this.hideHeaderPopup()},e.prototype.hideHeaderPopup=function(){this.headerPopup&&this.headerPopup.hide()},e.prototype.renderHeader=function(){this.element=(0,r.n)("div",{className:p.kLb});var e=(0,r.n)("div",{className:p.Elp});this.element.appendChild(e),this.parent.element.insertBefore(this.element,this.parent.element.firstElementChild),this.renderToolbar()},e.prototype.renderToolbar=function(){var e=this,t=this.getItems();this.parent.trigger(h.eY,{requestType:"toolbarItemRendering",items:t},(function(t){e.toolbarObj=new s.M({items:t.items,overflowMode:"Popup",clicked:e.toolbarClickHandler.bind(e),enableRtl:e.parent.enableRtl,locale:e.parent.locale}),e.toolbarObj.appendTo(e.parent.element.querySelector("."+p.Elp));var i=e.toolbarObj.element.querySelector(".e-prev");i&&i.firstElementChild.setAttribute("title",e.l10n.getConstant("previous"));var n=e.toolbarObj.element.querySelector(".e-next");n&&n.firstElementChild.setAttribute("title",e.l10n.getConstant("next")),e.updateAddIcon(),e.updateActiveView(),e.parent.trigger(h.wn,{requestType:"toolBarItemRendered",items:e.toolbarObj.items})}))},e.prototype.updateItems=function(){var e=this;if(this.toolbarObj){var t=this.getItems();this.parent.trigger(h.eY,{requestType:"toolbarItemRendering",items:t},(function(t){e.toolbarObj.items=t.items,e.toolbarObj.dataBind(),e.parent.trigger(h.wn,{requestType:"toolBarItemRendered",items:e.toolbarObj.items})}))}},e.prototype.getPopUpRelativeElement=function(){return this.parent.isAdaptive?this.toolbarObj.element:this.element.querySelector(".e-date-range")},e.prototype.setDayOfWeek=function(e){this.headerCalendar&&(this.headerCalendar.firstDayOfWeek=e,this.headerCalendar.dataBind())},e.prototype.setCalendarDate=function(e){this.headerCalendar&&(this.headerCalendar.value=e,this.headerCalendar.dataBind())},e.prototype.setCalendarMinMaxDate=function(){this.headerCalendar&&(this.headerCalendar.min=this.parent.minDate,this.headerCalendar.max=this.parent.maxDate,this.headerCalendar.dataBind())},e.prototype.getCalendarView=function(){return["Month","MonthAgenda","TimelineMonth"].indexOf(this.parent.currentView)>-1?"Year":["Year","TimelineYear"].indexOf(this.parent.currentView)>-1?"Decade":"Month"},e.prototype.setCalendarView=function(){if(this.headerCalendar){var e=this.getCalendarView();this.headerCalendar.depth=e,this.headerCalendar.start=e,this.headerCalendar.refresh()}},e.prototype.updateActiveView=function(){var e=[].slice.call(this.toolbarObj.element.querySelectorAll(".e-views"));(0,r.vy)(e,["e-active-view"]),e.length>0&&e[this.parent.viewIndex]&&(0,r.iQ)([e[this.parent.viewIndex]],["e-active-view"])},e.prototype.updateDateRange=function(e){var t=this.toolbarObj.element.querySelector(".e-date-range");t&&(t.setAttribute("aria-label",e),t.querySelector(".e-tbar-btn-text").innerHTML=e,this.refresh())},e.prototype.refresh=function(){this.toolbarObj&&this.toolbarObj.refreshOverflow()},e.prototype.updateAddIcon=function(){var e=this.toolbarObj.element.querySelector(".e-add");e&&(this.parent.eventSettings.allowAdding?(0,r.vy)([e],p.Y2Y):(0,r.iQ)([e],p.Y2Y))},e.prototype.getDateRangeText=function(){var e=this.parent.globalize.formatDate(this.parent.selectedDate,{format:"MMMM y",calendar:this.parent.getCalendarMode()});return c.nw(e,"single")},e.prototype.getItems=function(){var e=[];if(e.push({align:"Left",prefixIcon:"e-icon-prev",tooltipText:"Previous",overflow:"Show",cssClass:"e-prev",htmlAttributes:{"aria-label":"previous period",role:"navigation"}}),e.push({align:"Left",prefixIcon:"e-icon-next",tooltipText:"Next",overflow:"Show",cssClass:"e-next",htmlAttributes:{"aria-label":"next period",role:"navigation"}}),e.push({align:"Left",text:this.getDateRangeText(),suffixIcon:"e-icon-down-arrow",cssClass:"e-date-range",overflow:"Show",htmlAttributes:{"aria-atomic":"true","aria-live":"assertive","aria-label":"title",role:"navigation"}}),this.parent.isAdaptive||this.parent.enableAdaptiveUI?(e.push({align:"Right",showAlwaysInPopup:this.parent.isAdaptive||this.parent.enableAdaptiveUI,prefixIcon:"e-icon-add",text:this.l10n.getConstant("newEvent"),cssClass:"e-add",overflow:"Show"}),e.push({align:"Right",showAlwaysInPopup:this.parent.isAdaptive||this.parent.enableAdaptiveUI,prefixIcon:"e-icon-today",text:this.l10n.getConstant("today"),cssClass:"e-today",overflow:"Show"})):(e.push({align:"Right",showAlwaysInPopup:this.parent.isAdaptive||this.parent.enableAdaptiveUI,prefixIcon:"e-icon-day",text:this.l10n.getConstant("today"),cssClass:"e-today",overflow:"Show"}),this.parent.views.length>1&&e.push({align:"Right",type:"Separator",cssClass:"e-schedule-seperator"})),this.parent.views.length>1)for(var t=0,i=this.parent.views;t<i.length;t++){var n=i[t];e.push(this.getItemObject(n))}return e},e.prototype.getItemObject=function(e){var t,i,n;"string"===typeof e?(t=e.toLowerCase(),i=null):(t=e.option.toLowerCase(),i=e.displayName);var r=this.parent.isAdaptive||this.parent.enableAdaptiveUI;switch(t){case"day":n={align:"Right",showAlwaysInPopup:r,prefixIcon:"e-icon-day",text:i||this.l10n.getConstant("day"),cssClass:"e-views e-day"};break;case"week":n={align:"Right",showAlwaysInPopup:r,prefixIcon:"e-icon-week",text:i||this.l10n.getConstant("week"),cssClass:"e-views e-week"};break;case"workweek":n={align:"Right",showAlwaysInPopup:r,prefixIcon:"e-icon-workweek",text:i||this.l10n.getConstant("workWeek"),cssClass:"e-views e-work-week"};break;case"month":n={align:"Right",showAlwaysInPopup:r,prefixIcon:"e-icon-month",text:i||this.l10n.getConstant("month"),cssClass:"e-views e-month"};break;case"year":n={align:"Right",showAlwaysInPopup:r,prefixIcon:"e-icon-year",text:i||this.l10n.getConstant("year"),cssClass:"e-views e-year"};break;case"agenda":n={align:"Right",showAlwaysInPopup:r,prefixIcon:"e-icon-agenda",text:i||this.l10n.getConstant("agenda"),cssClass:"e-views e-agenda"};break;case"monthagenda":n={align:"Right",showAlwaysInPopup:r,prefixIcon:"e-icon-month-agenda",text:i||this.l10n.getConstant("monthAgenda"),cssClass:"e-views e-month-agenda"};break;case"timelineday":n={align:"Right",showAlwaysInPopup:r,prefixIcon:"e-icon-timeline-day",text:i||this.l10n.getConstant("timelineDay"),cssClass:"e-views e-timeline-day"};break;case"timelineweek":n={align:"Right",showAlwaysInPopup:r,prefixIcon:"e-icon-timeline-week",text:i||this.l10n.getConstant("timelineWeek"),cssClass:"e-views e-timeline-week"};break;case"timelineworkweek":n={align:"Right",showAlwaysInPopup:r,prefixIcon:"e-icon-timeline-workweek",text:i||this.l10n.getConstant("timelineWorkWeek"),cssClass:"e-views e-timeline-work-week"};break;case"timelinemonth":n={align:"Right",showAlwaysInPopup:r,prefixIcon:"e-icon-timeline-month",text:i||this.l10n.getConstant("timelineMonth"),cssClass:"e-views e-timeline-month"};break;case"timelineyear":n={align:"Right",showAlwaysInPopup:r,prefixIcon:"e-icon-timeline-year-"+("Vertical"===e.orientation?"vertical":"horizontal"),text:i||this.l10n.getConstant("timelineYear"),cssClass:"e-views e-timeline-year"}}return n},e.prototype.renderHeaderPopup=function(){var e=(0,r.n)("div",{className:p.W$e}),t=(0,r.n)("div",{className:p.oZ8});e.appendChild(t),this.element.appendChild(e),this.headerPopup=new l.zD(e,{actionOnScroll:"hide",targetType:"relative",relateTo:this.getPopUpRelativeElement(),position:{X:"left",Y:"bottom"},enableRtl:this.parent.enableRtl});var i=this.getCalendarView(),n="Month"===this.parent.currentView&&!(0,r.hX)(this.parent.activeViewOptions.displayDate)&&!this.hasSelectedDate();this.headerCalendar=new o.V({value:n?this.parent.activeViewOptions.displayDate:this.parent.selectedDate,min:this.parent.minDate,max:this.parent.maxDate,firstDayOfWeek:this.parent.activeViewOptions.firstDayOfWeek,enableRtl:this.parent.enableRtl,locale:this.parent.locale,depth:i,start:i,calendarMode:this.parent.calendarMode,change:this.calendarChange.bind(this)}),this.setCalendarTimezone(),this.headerCalendar.appendTo(t),this.headerPopup.hide()},e.prototype.calendarChange=function(e){if(e.value.getTime()!==this.parent.selectedDate.getTime()){var t=c.JC(new Date(e.value));this.parent.changeDate(t)}this.headerPopup.hide()},e.prototype.setCalendarTimezone=function(){this.headerCalendar&&(this.headerCalendar.timezone=this.parent.timezone||this.parent.tzModule.getLocalTimezoneName())},e.prototype.calculateViewIndex=function(e){var t=(0,r.kp)(e.originalEvent.target,".e-views");return[].slice.call(this.element.querySelectorAll(".e-views")).indexOf(t)},e.prototype.toolbarClickHandler=function(e){if(e.item){var t,i,n;switch(e.item.cssClass.replace("e-views ","")){case"e-date-range":this.headerPopup||this.renderHeaderPopup(),this.headerPopup.element.classList.contains(p.g6H)?this.headerPopup.hide():this.headerPopup.show();break;case"e-day":this.parent.changeView("Day",e.originalEvent,void 0,this.calculateViewIndex(e));break;case"e-week":this.parent.changeView("Week",e.originalEvent,void 0,this.calculateViewIndex(e));break;case"e-work-week":this.parent.changeView("WorkWeek",e.originalEvent,void 0,this.calculateViewIndex(e));break;case"e-month":this.parent.changeView("Month",e.originalEvent,void 0,this.calculateViewIndex(e));break;case"e-year":this.parent.changeView("Year",e.originalEvent,void 0,this.calculateViewIndex(e));break;case"e-agenda":this.parent.changeView("Agenda",e.originalEvent,void 0,this.calculateViewIndex(e));break;case"e-month-agenda":this.parent.changeView("MonthAgenda",e.originalEvent,void 0,this.calculateViewIndex(e));break;case"e-timeline-day":this.parent.changeView("TimelineDay",e.originalEvent,void 0,this.calculateViewIndex(e));break;case"e-timeline-week":this.parent.changeView("TimelineWeek",e.originalEvent,void 0,this.calculateViewIndex(e));break;case"e-timeline-work-week":this.parent.changeView("TimelineWorkWeek",e.originalEvent,void 0,this.calculateViewIndex(e));break;case"e-timeline-month":this.parent.changeView("TimelineMonth",e.originalEvent,void 0,this.calculateViewIndex(e));break;case"e-timeline-year":this.parent.changeView("TimelineYear",e.originalEvent,void 0,this.calculateViewIndex(e));break;case"e-today":n=c.JC(this.parent.getCurrentTime()),("Agenda"===this.parent.currentView||"MonthAgenda"===this.parent.currentView||!this.parent.isSelectedDate(n)||"Month"===this.parent.currentView&&this.parent.activeViewOptions.displayDate&&!this.hasSelectedDate()&&c.JC(this.parent.activeViewOptions.displayDate)!==n||"Month"===this.parent.currentView&&this.parent.activeViewOptions.numberOfWeeks>0&&!this.hasSelectedDate()&&c.JC(c.mD(this.parent.selectedDate))!==n)&&this.parent.changeDate(n,e.originalEvent);break;case"e-prev":this.parent.changeDate(this.parent.activeView.getNextPreviousDate("previous"),e.originalEvent);break;case"e-next":this.parent.changeDate(this.parent.activeView.getNextPreviousDate("next"),e.originalEvent);break;case"e-add":if(i=this.parent.activeCellsData.startTime.getTime()===this.parent.activeCellsData.endTime.getTime(),this.parent.activeCellsData&&!i)t=this.parent.activeCellsData;else{var a=this.parent.activeViewOptions.timeScale.interval,s=this.parent.activeViewOptions.timeScale.slotCount,o=a*c.EM/s,l=new Date(this.parent.selectedDate.getTime()),h=this.parent.getCurrentTime();l.setHours(h.getHours(),Math.round(l.getMinutes()/o)*o,0);var u=new Date(new Date(l.getTime()).setMilliseconds(l.getMilliseconds()+o));t={startTime:l,endTime:u,isAllDay:!1}}this.parent.eventWindow.openEditor((0,r.X$)(t,{cancel:!1,event:e.originalEvent}),"Add")}if(!(0,r.hX)(this.toolbarObj)){var d=this.toolbarObj.element.querySelector(".e-toolbar-pop");d&&"Input"!==e.item.type&&d.ej2_instances[0].hide({name:"SlideUp",duration:100})}}},e.prototype.hasSelectedDate=function(){var e=c.JC(this.parent.selectedDate).getTime();return e>=this.parent.activeView.getStartDate().getTime()&&e<=this.parent.activeView.getEndDate().getTime()},e.prototype.getHeaderElement=function(){return this.toolbarObj.element},e.prototype.updateHeaderItems=function(e){var t=this.toolbarObj.element.querySelector(".e-prev"),i=this.toolbarObj.element.querySelector(".e-next"),n=this.toolbarObj.element.querySelector(".e-date-range");t&&("add"===e?(0,r.iQ)([t],p.Y2Y):(0,r.vy)([t],p.Y2Y)),i&&("add"===e?(0,r.iQ)([i],p.Y2Y):(0,r.vy)([i],p.Y2Y)),n&&("add"===e?(0,r.iQ)([n],p.wJh):(0,r.vy)([n],p.wJh))},e.prototype.previousNextIconHandler=function(){var e="Agenda"===this.parent.currentView?[this.parent.getCurrentViewDates()[0]]:this.parent.getCurrentViewDates(),t=this.toolbarObj.element.querySelector("."+p.wO9),i=this.toolbarObj.element.querySelector("."+p.ouO),n=new Date(e[0].getTime()),a=new Date(e[e.length-1].getTime());if("WorkWeek"!==this.parent.currentView&&"TimelineWorkWeek"!==this.parent.currentView||(n=c.lZ(c.JC(this.parent.selectedDate),this.parent.firstDayOfWeek),a=c.fi(n,7*this.parent.activeViewOptions.interval)),"Month"===this.parent.currentView){var s=!(0,r.hX)(this.parent.activeViewOptions.displayDate)||this.parent.activeViewOptions.numberOfWeeks>0;n=s?this.parent.activeView.getStartDate():c.mD(this.parent.selectedDate),a=s?this.parent.activeView.getEndDate():c.sG(c.PS(n,this.parent.activeViewOptions.interval-1))}(0,r.hX)(t)||this.toolbarObj.enableItems(t,n>this.parent.minDate),(0,r.hX)(i)||this.toolbarObj.enableItems(i,a<this.parent.maxDate),this.setCalendarMinMaxDate()},e.prototype.getModuleName=function(){return"headerbar"},e.prototype.destroy=function(){this.headerPopup&&!this.headerPopup.isDestroyed&&(this.headerPopup.destroy(),this.headerPopup=null),this.headerCalendar&&!this.headerCalendar.isDestroyed&&(this.headerCalendar.destroy(),this.headerCalendar=null),this.toolbarObj&&!this.toolbarObj.isDestroyed&&(this.toolbarObj.destroy(),this.removeEventListener(),(0,r.TF)(this.element),this.toolbarObj=null),this.element=null,this.parent=null,this.l10n=null},e}(),d=function(){function e(e){this.parent=e,this.addEventListener()}return e.prototype.getModuleName=function(){return"scroll"},e.prototype.setWidth=function(){this.parent.element.style.width=(0,r.IV)(this.parent.width)},e.prototype.setHeight=function(){this.parent.element.style.height=(0,r.IV)(this.parent.height)},e.prototype.addEventListener=function(){this.parent.on(h.PR,this.setDimensions,this),this.parent.on(h.yP,this.onPropertyChanged,this)},e.prototype.removeEventListener=function(){this.parent.off(h.PR,this.setDimensions),this.parent.off(h.yP,this.onPropertyChanged)},e.prototype.setDimensions=function(){this.setWidth(),this.setHeight();var e={cssProperties:this.parent.getCssProperties(),module:this.getModuleName()};this.parent.notify(h.bk,e)},e.prototype.onPropertyChanged=function(){this.setDimensions()},e.prototype.destroy=function(){this.removeEventListener()},e}(),v=function(){function e(e){this.parent=e,this.element=this.parent.element.querySelector("."+p.otH),this.touchObj=new r.Up(this.element,{scroll:this.scrollHandler.bind(this),swipe:this.swipeHandler.bind(this),tapHold:this.tapHoldHandler.bind(this),swipeSettings:{swipeThresholdDistance:1}}),r.Jm.add(this.element,"transitionend",this.onTransitionEnd,this),this.touchLeftDirection=this.parent.enableRtl?"Right":"Left",this.touchRightDirection=this.parent.enableRtl?"Left":"Right"}return e.prototype.scrollHandler=function(e){if(!("Agenda"===this.parent.currentView||this.parent.uiStateValues.action||e.originalEvent&&(e.originalEvent.target.classList.contains(p.Dj)||(0,r.kp)(e.originalEvent.target,"."+p.Dj)))){if(this.timeStampStart||(this.timeStampStart=Date.now()),this.element.classList.contains(p.Cfn)&&this.onTransitionEnd(),"Left"===e.scrollDirection||"Right"===e.scrollDirection){var t={requestType:"dateNavigate",cancel:!1,event:e.originalEvent};if(this.parent.trigger(h.eY,t),t.cancel)return;var i=this.element.querySelector("."+p._oL);if(i&&i.scrollWidth>i.clientWidth)return;this.isScrollTriggered=!0,e.originalEvent.preventDefault(),e.originalEvent.stopPropagation()}if(e.scrollDirection===this.touchLeftDirection){this.nextPanel||(this.renderPanel(p.oQn,"next"),this.nextPanel={element:this.parent.activeView.getPanel(),selectedDate:new Date(this.parent.selectedDate.getTime())},this.setDimensions(this.nextPanel.element));var n=this.parent.enableRtl?e.distanceX:-e.distanceX;this.element.style.transform="translatex("+(this.getTranslateX(this.element)+n)+"px)"}else if(e.scrollDirection===this.touchRightDirection){var a=0;this.previousPanel||(this.renderPanel(p.gwF,"previous"),this.previousPanel={element:this.parent.activeView.getPanel(),selectedDate:new Date(this.parent.selectedDate.getTime())},this.setDimensions(this.previousPanel.element),a=this.previousPanel.element.offsetWidth);n=this.parent.enableRtl?a-e.distanceX:-a+e.distanceX;this.element.style.transform="translatex("+(this.getTranslateX(this.element)+n)+"px)"}}},e.prototype.swipeHandler=function(e){if(this.isScrollTriggered&&!this.parent.uiStateValues.action){this.isScrollTriggered=!1;var t="Left"===e.swipeDirection?this.parent.activeView.renderDates[0]:this.parent.activeView.renderDates.slice(-1)[0];if("Left"===e.swipeDirection&&t<this.parent.maxDate||"Right"===e.swipeDirection&&t>=this.parent.minDate){var i=Date.now()-this.timeStampStart,n=e.distanceX*(r.Pw.isDevice?6:1.66);n>i||e.distanceX>this.parent.element.offsetWidth/2?(this.swapPanels(e.swipeDirection),n>i&&e.distanceX>this.parent.element.offsetWidth/2&&(this.element.style.transitionDuration=n/i/10+"s"),this.confirmSwipe(e.swipeDirection)):this.cancelSwipe();var a={requestType:"dateNavigate",cancel:!1,event:e.originalEvent};this.parent.trigger(h.wn,a)}else this.cancelSwipe();this.timeStampStart=null}},e.prototype.tapHoldHandler=function(e){var t=(0,r.kp)(e.originalEvent.target,"."+p.Dj);(0,r.hX)(t)||!this.parent.isAdaptive||this.parent.quickPopup.tapHoldEventPopup(e.originalEvent)},e.prototype.renderPanel=function(e,t){this.currentPanel?this.parent.setProperties({selectedDate:this.currentPanel.selectedDate},!0):(this.currentPanel={element:this.parent.activeView.getPanel(),selectedDate:new Date(this.parent.selectedDate.getTime())},this.setDimensions(this.currentPanel.element)),this.parent.setProperties({selectedDate:this.parent.activeView.getNextPreviousDate(t)},!0),this.parent.headerModule&&this.parent.headerModule.setCalendarDate(this.parent.selectedDate),this.parent.activeView.getRenderDates(),this.parent.activeView.renderLayout(e)},e.prototype.swapPanels=function(e){if(e===this.touchLeftDirection){var t=this.nextPanel;this.nextPanel=this.currentPanel,this.currentPanel=t}else{t=this.previousPanel;this.previousPanel=this.currentPanel,this.currentPanel=t}},e.prototype.confirmSwipe=function(e){var t=this,i={action:"date",cancel:!1,previousDate:e===this.touchLeftDirection?this.nextPanel.selectedDate:this.previousPanel.selectedDate,currentDate:this.currentPanel.selectedDate};this.parent.trigger(h.B0,i,(function(i){if(i.cancel)t.swapPanels(e),t.cancelSwipe();else{t.parent.activeView.setPanel(t.currentPanel.element),t.parent.setProperties({selectedDate:t.currentPanel.selectedDate},!0);var n=void 0;n=t.parent.enableRtl?e===t.touchLeftDirection?t.previousPanel?t.previousPanel.element.offsetLeft:t.currentPanel.element.offsetWidth:0:e===t.touchLeftDirection?-t.currentPanel.element.offsetLeft:0,(0,r.iQ)([t.element],p.Cfn),t.element.style.transform="translatex("+n+"px)",t.parent.headerModule&&t.parent.headerModule.updateDateRange(t.parent.activeView.getDateRangeText()),t.parent.renderTemplates(),t.parent.crudModule.refreshDataManager()}}))},e.prototype.cancelSwipe=function(){this.parent.activeView.setPanel(this.currentPanel.element),this.parent.setProperties({selectedDate:this.currentPanel.selectedDate},!0),this.parent.activeView.getRenderDates(),this.parent.activeView.generateColumnLevels(),(0,r.iQ)([this.element],p.Cfn);var e=this.previousPanel?this.previousPanel.element.offsetWidth:0;this.element.style.transform="translatex("+(this.parent.enableRtl?e:-this.currentPanel.element.offsetLeft)+"px)"},e.prototype.onTransitionEnd=function(){(0,r.vy)([this.element],p.Cfn),this.element.style.transitionDuration="",this.element.style.transform="",this.previousPanel&&((0,r.TF)(this.previousPanel.element),this.previousPanel=null,(0,r.vy)([this.currentPanel.element],p.gwF),(0,r.iQ)([this.currentPanel.element],p.wxd)),this.nextPanel&&((0,r.TF)(this.nextPanel.element),this.nextPanel=null,(0,r.vy)([this.currentPanel.element],p.oQn),(0,r.iQ)([this.currentPanel.element],p.wxd)),this.currentPanel=null,this.parent.activeView.getPanel().style.width=""},e.prototype.getTranslateX=function(e){var t=window.getComputedStyle(e);return new WebKitCSSMatrix(t.webkitTransform).m41},e.prototype.setDimensions=function(e){e.style.width=this.parent.element.clientWidth+"px"},e.prototype.resetValues=function(){this.currentPanel=null,this.previousPanel=null,this.nextPanel=null,this.timeStampStart=null,this.element.style.transform="",c.gS(this.element),(0,r.vy)([this.element],p.Cfn)},e.prototype.destroy=function(){this.touchObj&&(this.touchObj.destroy(),this.touchObj=null),r.Jm.remove(this.element,"transitionend",this.onTransitionEnd),this.resetValues()},e}(),m=function(){function e(e){this.selectedCells=[],this.keyConfigs={downArrow:"downarrow",upArrow:"uparrow",rightArrow:"rightarrow",leftArrow:"leftarrow",shiftDownArrow:"shift+downarrow",shiftUpArrow:"shift+uparrow",shiftRightArrow:"shift+rightarrow",shiftLeftArrow:"shift+leftarrow",ctrlLeftArrow:"ctrl+leftarrow",ctrlRightArrow:"ctrl+rightarrow",altOne:"alt+1",altTwo:"alt+2",altThree:"alt+3",altFour:"alt+4",altFive:"alt+5",altSix:"alt+6",altSeven:"alt+7",altEight:"alt+8",altNine:"alt+9",enter:"enter",escape:"escape",delete:"delete",home:"home",pageUp:"pageup",pageDown:"pagedown",tab:"tab",shiftTab:"shift+tab",ctrlShiftUpArrow:"ctrl+shift+uparrow",ctrlShiftDownArrow:"ctrl+shift+downarrow",ctrlShiftLeftArrow:"ctrl+shift+leftarrow",ctrlShiftRightArrow:"ctrl+shift+rightarrow"},this.parent=e,this.parent.element.tabIndex=-1===this.parent.element.tabIndex?0:this.parent.element.tabIndex,this.keyboardModule=new r.j9(this.parent.element,{keyAction:this.keyActionHandler.bind(this),keyConfigs:this.keyConfigs,eventName:"keydown"}),this.addEventListener()}return e.prototype.keyActionHandler=function(e){switch(e.action){case"downArrow":case"shiftDownArrow":this.processDown(e,e.shiftKey);break;case"upArrow":case"shiftUpArrow":this.processUp(e,e.shiftKey);break;case"leftArrow":case"shiftLeftArrow":this.processLeft(e,e.shiftKey);break;case"rightArrow":case"shiftRightArrow":this.processRight(e,e.shiftKey);break;case"ctrlLeftArrow":this.parent.changeDate(this.parent.activeView.getNextPreviousDate("previous"),e),this.parent.headerModule&&this.parent.headerModule.element.querySelector(".e-prev button").focus();break;case"ctrlRightArrow":this.parent.changeDate(this.parent.activeView.getNextPreviousDate("next"),e),this.parent.headerModule&&this.parent.headerModule.element.querySelector(".e-next button").focus();break;case"altOne":case"altTwo":case"altThree":case"altFour":case"altFive":case"altSix":case"altSeven":case"altEight":case"altNine":this.processViewNavigation(e);break;case"enter":this.processEnter(e);break;case"home":this.focusFirstCell();break;case"tab":case"shiftTab":this.processTab(e,e.shiftKey);break;case"delete":this.processDelete(e);break;case"ctrlShiftUpArrow":case"ctrlShiftDownArrow":case"ctrlShiftLeftArrow":case"ctrlShiftRightArrow":this.processCtrlShiftNavigationArrows(e);break;case"escape":this.processEscape(e);break;case"fTwelve":this.parent.allowInline&&this.parent.inlineModule&&(e.preventDefault(),this.processFTwelve(e))}},e.prototype.processFTwelve=function(e){var t=e.target;if(t.classList.contains(p.fv4)||t.classList.contains(p.tTW)){this.parent.activeCellsData=this.getSelectedElements(t);var i=(0,r.X$)(this.parent.activeCellsData,{cancel:!1,event:e}),n={element:i.element,groupIndex:i.groupIndex,type:"Cell"};this.parent.notify(h.K4,n)}t.classList.contains(p.Dj)&&t.click()},e.prototype.addEventListener=function(){this.parent.on(h.Sw,this.onCellMouseDown,this)},e.prototype.removeEventListener=function(){this.parent.off(h.Sw,this.onCellMouseDown)},e.prototype.onCellMouseDown=function(e){if(!e.event.shiftKey&&(this.initialTarget=this.getClosestCell(e.event),!this.parent.activeViewOptions.readonly&&"MonthAgenda"!==this.parent.currentView&&this.initialTarget&&(e.event.target.classList.contains(p.fv4)&&3!==e.event.which&&(this.parent.removeSelectedClass(),r.Jm.add(this.parent.getContentTable(),"mousemove",this.onMouseSelection,this),r.Jm.add(this.parent.getContentTable(),"mouseup",this.onMoveUp,this)),e.event.target.classList.contains(p.tTW)&&3!==e.event.which))){this.parent.removeSelectedClass();var t=this.parent.getAllDayRow();r.Jm.add(t,"mousemove",this.onMouseSelection,this),r.Jm.add(t,"mouseup",this.onMoveUp,this)}},e.prototype.onMouseSelection=function(e){var t=[].slice.call(this.parent.element.querySelectorAll("."+p.Dj));(0,r.iQ)(t,"e-allow-select");var i=this.parent.boundaryValidation(e.pageY,e.pageX);if(i.bottom||i.top||i.left||i.right){var n=this.parent.element.querySelector("."+p._oL),a=n.offsetHeight<=n.scrollHeight&&n.scrollTop>=0&&n.scrollTop+n.offsetHeight<=n.scrollHeight,s=n.offsetWidth<=n.scrollWidth&&n.scrollLeft>=0&&n.scrollLeft+n.offsetWidth<=n.scrollWidth;a&&(i.top||i.bottom)&&(n.scrollTop+=i.top?-e.target.offsetHeight:e.target.offsetHeight),s&&(i.left||i.right)&&(n.scrollLeft+=i.left?-e.target.offsetWidth:e.target.offsetWidth)}var o=this.getClosestCell(e);o&&this.selectCells(!0,o)},e.prototype.getClosestCell=function(e){return(0,r.kp)(e.target,"."+p.fv4+",."+p.tTW)},e.prototype.onMoveUp=function(e){var t=this,i=[].slice.call(this.parent.element.querySelectorAll("."+p.Dj));if((0,r.vy)(i,"e-allow-select"),e.target.classList.contains(p.fv4)&&(r.Jm.remove(this.parent.getContentTable(),"mousemove",this.onMouseSelection),r.Jm.remove(this.parent.getContentTable(),"mouseup",this.onMoveUp)),e.target.classList.contains(p.tTW)){var n=this.parent.getAllDayRow();r.Jm.remove(n,"mousemove",this.onMouseSelection),r.Jm.remove(n,"mouseup",this.onMoveUp)}if(!this.isPreventAction(e)){var a="."+p.fv4+",."+p.tTW+",."+p.Zas,s=(0,r.kp)(e.target,a);if("TimelineYear"!==this.parent.currentView||!s.classList.contains(p.ePN)){this.parent.activeCellsData=this.getSelectedElements(s);var o={};this.parent.eventWindow&&this.parent.eventWindow.convertToEventData(this.parent.activeCellsData,o);var l=this.parent.getSelectedElements(),c={data:o,element:this.parent.activeCellsData.element,event:e,requestType:"cellSelect",showQuickPopup:!1};this.parent.trigger(h.Lt,c,(function(i){if((i.showQuickPopup||t.parent.quickInfoOnSelectionEnd)&&l.length>1){var n=(0,r.X$)(t.parent.activeCellsData,{cancel:!1,event:e,name:"cellClick"});t.parent.notify(h.jo,n)}}))}}},e.prototype.processEnter=function(e){if(!(this.parent.activeViewOptions.readonly&&!e.target.classList.contains(p.Dj)||this.isPreventAction(e))&&("TimelineYear"!==this.parent.currentView||!e.target.classList.contains(p.ePN))){var t=e.target;if((0,r.kp)(t,"."+p.Kp7))t.classList.contains(p.W2Y)||t.classList.contains(p.bqp)||t.classList.contains(p.RAS)||t.classList.contains(p.oMZ)||t.classList.contains(p.GwS)?(t.click(),e.preventDefault()):t.classList.contains(p.YrY)&&(this.parent.element.querySelector("."+p.bqp).click(),e.preventDefault());else if(t.classList.contains(p.yWy)&&t.classList.contains(p.tIu)){var i=t.querySelector("."+p.RA5);i&&i.click()}else if(t.classList.contains(p.fv4)||t.classList.contains(p.tTW)){this.parent.activeCellsData=this.getSelectedElements(t);var n=(0,r.X$)(this.parent.activeCellsData,{cancel:!1,event:e});if(this.parent.allowInline){var a={element:n.element,groupIndex:n.groupIndex,type:"Cell"};this.parent.notify(h.K4,a)}else"Year"===this.parent.currentView?t.click():this.parent.notify(h.jo,n)}else if(t.classList.contains(p.Uvf)&&this.parent.inlineModule)this.parent.inlineModule.inlineCrudActions(t);else{if(!(t.classList.contains(p.Dj)||t.classList.contains(p.xl1)||t.classList.contains(p.v_o)||t.classList.contains(p.pSF)))return t.classList.contains(p.Z8R)?(this.parent.setProperties({selectedDate:this.parent.getDateFromElement(t)},!0),this.parent.changeView(this.parent.getNavigateView(),e),void this.processEscape(e)):void 0;t.click()}}},e.prototype.getSelectedElements=function(e){var t;if(this.selectedCells.length>1&&e.classList.contains(p.sEA)){var i=this.parent.getCellDetails(this.selectedCells[0]),n=this.parent.getCellDetails(this.selectedCells.slice(-1)[0]);i.endTime=n.endTime,i.element=e,t=i}else t=this.parent.getCellDetails(e);return t},e.prototype.getCells=function(e,t,i){var n=this.parent.getContentTable(),r="TimelineYear"===this.parent.currentView,a=r&&!e?"."+p.fv4+":not(."+p.ePN+")":"td",s=[].slice.call(n.querySelectorAll(a)),o=n.rows.length,l=n.rows[0].cells.length;if(t&&t.classList.contains(p.tTW)){var h=this.parent.getAllDayRow();s=[].slice.call(h.cells),o=1,l=h.cells.length}var c=s.indexOf(t),u=s.indexOf(i),d=[];if(e){for(var v=0;v<l;v++)for(var m=0;m<o;m++){var g=s[l*m+v];r&&g.classList.contains(p.ePN)||d.push(g)}c=d.indexOf(t),u=d.indexOf(i)}if(c>u){var f=c;c=u,u=f}return(e?d:s).slice(c,u+1)},e.prototype.focusFirstCell=function(){if("Agenda"===this.parent.currentView){var e=this.parent.getContentTable().querySelector("."+p._wr);return e.setAttribute("tabindex","0"),void e.focus()}if(this.parent.eventBase.removeSelectedAppointmentClass(),this.parent.activeView.isTimelineView()&&"TimelineYear"!==this.parent.currentView){var t=this.parent.element.querySelector("."+p.s2p+" tr:not(."+p.Y2Y+") ."+p.fv4+":not(."+p.o1M+")");this.selectCells(!1,t)}else if(this.parent.currentView.indexOf("Year")>-1){var i="."+p.fv4+":not(."+p.ePN+"):not(."+p.o1M+")";i+="TimelineYear"===this.parent.currentView&&"Vertical"===this.parent.activeViewOptions.orientation?'[data-date="'+this.parent.activeView.startDate().getTime()+'"]':"",this.selectCells(!1,this.parent.element.querySelector(i))}else this.selectCells(!1,this.parent.getWorkCellElements()[0])},e.prototype.isInverseTableSelect=function(){return this.parent.activeView.isInverseTableSelect},e.prototype.selectCells=function(e,t){var i=this;this.parent.removeSelectedClass();var n=t instanceof Array?t.slice(-1)[0]:t;if(e){var r,a=["Day","Week","WorkWeek","TimelineDay","TimelineWeek","TimelineWorkWeek","TimelineMonth","TimelineYear"],s={element:t,requestType:"mousemove",allowMultipleRow:!0};this.parent.inlineModule.removeInlineAppointmentElement(),this.parent.trigger(h.Lt,s,(function(e){if(!e.allowMultipleRow||!i.parent.allowMultiRowSelection){var t="TimelineYear"===i.parent.currentView;if(t&&"Horizontal"===i.parent.activeViewOptions.orientation||"Month"===i.parent.currentView){var s=t&&i.parent.activeViewOptions.group.resources.length>0;n=s?i.initialTarget:i.initialTarget.parentElement.children[n.cellIndex]}else a.indexOf(i.parent.currentView)>-1&&(n=n.parentElement.children[i.initialTarget.cellIndex])}var o=i.getCells(i.isInverseTableSelect(),i.initialTarget,n);if(i.parent.activeViewOptions.group.resources.length>0){r=i.initialTarget.getAttribute("data-group-index");for(var l=[],h=0,c=o;h<c.length;h++){(g=c[h]).getAttribute("data-group-index")===r&&l.push(g)}o=l}if(i.parent.allowMultiCellSelection||(o=[i.initialTarget]),i.selectedCells=o,o.length>2&&!n.classList.contains(p.tTW)){var u=i.getAllDayCells(o);if(i.parent.activeViewOptions.group.resources.length>0){for(var d=[],v=0,m=u;v<m.length;v++){var g;(g=m[v]).getAttribute("data-group-index")===r&&d.push(g)}u=d}o=o.concat(u)}n.getAttribute("data-group-index")!==r&&i.parent.activeViewOptions.group.resources.length>0&&(n=i.selectedCells[i.selectedCells.length-1]),i.parent.addSelectedClass(o,n)}))}else this.initialTarget=n,this.selectedCells=[n],this.parent.addSelectedClass([n],n)},e.prototype.selectAppointment=function(e,t){var i=this.getAppointmentElements();if(!(i.length<0)){var n;if(this.parent.eventBase.removeSelectedAppointmentClass(),t.classList.contains(p.Dj)){var a=i.indexOf(t);n=i[e?a-1:a+1]}else n=e?i[i.length-1]:i[0];n&&(this.parent.eventBase.addSelectedAppointments([n]),n.focus(),(0,r.iQ)([n],p.aIT))}},e.prototype.selectAppointmentElementFromWorkCell=function(e,t){var i=this;if(this.parent.eventBase.removeSelectedAppointmentClass(),this.parent.removeSelectedClass(),t.classList.contains(p.fv4)||t.classList.contains(p.tTW)){var n=this.getUniqueAppointmentElements(),r=[],a=this.parent.getDateFromElement(t).getTime();if(this.parent.eventsProcessed.filter((function(t){return e?t[i.parent.eventFields.startTime].getTime()<=a:t[i.parent.eventFields.startTime].getTime()>=a})).filter((function(e){n.filter((function(t){JSON.stringify(e.Guid)===JSON.stringify(t.getAttribute("data-guid"))&&r.push(t)}))})),r.length>0){var s=e?r[r.length-1]:r[0],o=this.getAppointmentElementsByGuid(s.getAttribute("data-guid"));this.parent.eventBase.addSelectedAppointments(o),o[o.length-1].focus()}}},e.prototype.getAllDayCells=function(e){var t=this.parent.getAllDayRow();if(!t)return[];var i=e[0],n=e[e.length-1],r=this.parent.getCellDetails(i);return this.parent.getCellDetails(n).endTime.getTime()-r.startTime.getTime()>=c.ec?[].slice.call(t.cells).slice(i.cellIndex,n.cellIndex+1):[]},e.prototype.getAppointmentElements=function(){return[].slice.call(this.parent.element.querySelectorAll("."+p.Dj))},e.prototype.getAppointmentElementsByGuid=function(e){return[].slice.call(this.parent.element.querySelectorAll('div[data-guid="'+e+'"]'))},e.prototype.getUniqueAppointmentElements=function(){var e=this.getAppointmentElements(),t=[];return e.map((function(e){return e.getAttribute("data-guid")})).filter((function(i,n,r){r.indexOf(i)===n&&t.push(e[n])})),t},e.prototype.getWorkCellFromAppointmentElement=function(e){var t=this.parent.eventBase.getEventByGuid(e.getAttribute("data-guid"));return this.parent.eventBase.selectWorkCellByTime([t])},e.prototype.processViewNavigation=function(e){var t=parseInt(e.key,10)-1;if(t<this.parent.views.length){var i=this.parent.viewCollections[t].option;this.parent.changeView(i,e,void 0,t),this.parent.headerModule&&this.parent.headerModule.element.querySelector(".e-active-view button").focus()}},e.prototype.cancelUpDownAction=function(e){var t=e&&"Vertical"===this.parent.activeViewOptions.orientation,i=this.parent.activeViewOptions.group.resources.length>0;return!!(t&&i||e&&this.initialTarget.classList.contains(p.ePN))||!((!this.parent.activeView.isTimelineView()||e)&&"MonthAgenda"!==this.parent.currentView)},e.prototype.processUp=function(e,t){var i="TimelineYear"===this.parent.currentView;if(!t||!this.cancelUpDownAction(i)){var n=e.target,r=this.parent.getSelectedElements(),a=this.parent.eventBase.getSelectedAppointments(),s=this.parent.element.querySelector("."+p.KRw),o=this.getQuickPopupElement();if(r.length>0&&!e.target.classList.contains(p.fv4)&&(n=r[r.length-1]),a.length>0&&!s.classList.contains(p.g6H)&&!o.classList.contains(p.g6H)&&-1!==["Day","Week","WorkWeek","Month"].indexOf(this.parent.currentView)&&(n=this.getWorkCellFromAppointmentElement(a[a.length-1]),this.parent.eventBase.removeSelectedAppointmentClass()),n)if(n.classList.contains(p.fv4)&&!this.parent.element.querySelector("."+p.g6H)){var l=this.parent.getTableRows(),h=l.indexOf(n.parentElement),c=void 0;if(i&&t&&0===this.parent.activeViewOptions.group.resources.length&&(c=this.isInverseTableSelect()?this.getVerticalUpDownCell(l,n,h,!0):this.getHorizontalUpDownCell(l,n,h,!0)),(h>0||c)&&h<l.length){if(c=c||l[h-1].cells[n.cellIndex],"Year"===this.parent.currentView&&c.classList.contains(p.ePN)){if(!(this.parent.activeView.getStartDate().getTime()<+c.getAttribute("data-date")))return;c=this.getYearUpDownCell(l,h-1,n.cellIndex,!0)}this.selectCells(t,c)}}else"Agenda"!==this.parent.currentView&&"MonthAgenda"!==this.parent.currentView||this.selectAppointment(!0,n)}},e.prototype.processDown=function(e,t){var i="TimelineYear"===this.parent.currentView;if(!t||!this.cancelUpDownAction(i)){var n=e.target,r=this.parent.getSelectedElements(),a=this.parent.eventBase.getSelectedAppointments(),s=this.parent.element.querySelector("."+p.KRw),o=this.getQuickPopupElement();r.length>0&&!e.target.classList.contains(p.fv4)&&(n=r[r.length-1]),a.length>0&&!s.classList.contains(p.g6H)&&!o.classList.contains(p.g6H)&&-1!==["Day","Week","WorkWeek","Month"].indexOf(this.parent.currentView)&&(n=this.getWorkCellFromAppointmentElement(a[a.length-1]),this.parent.eventBase.removeSelectedAppointmentClass());var l=this.parent.getTableRows();if(n)if(n.classList.contains(p.fv4)&&!this.parent.element.querySelector("."+p.g6H)){var h=l.indexOf(n.parentElement),c=void 0;if(i&&t&&0===this.parent.activeViewOptions.group.resources.length&&(c=this.isInverseTableSelect()?this.getVerticalUpDownCell(l,n,h,!1):this.getHorizontalUpDownCell(l,n,h,!1)),h>=0&&(h<l.length-1||c)){if(c=c||l[h+1].cells[n.cellIndex],"Year"===this.parent.currentView&&c.classList.contains(p.ePN)){if(!(this.parent.activeView.getEndDate().getTime()>+c.getAttribute("data-date")))return;c=this.getYearUpDownCell(l,h+1,n.cellIndex,!1)}this.selectCells(t,c)}}else"Agenda"!==this.parent.currentView&&"MonthAgenda"!==this.parent.currentView||this.selectAppointment(!1,n)}},e.prototype.getYearUpDownCell=function(e,t,i,n){for(;e[t]&&e[t].cells[i].classList.contains(p.ePN);)t+=n?-1:1;return e[t].cells[i]},e.prototype.getHorizontalUpDownCell=function(e,t,i,n){var r=e[i+(n?-1:1)],a=r?r.cells[t.cellIndex]:t;if(a.classList.contains(p.ePN)){var s=r.querySelector("."+p.fv4+":not(."+p.ePN+")"),o=new Date(+s.getAttribute("data-date")),l='[data-date="'+new Date(o.getFullYear(),o.getMonth()+1,0).getTime()+'"]';a=a.cellIndex<s.cellIndex?s:r.querySelector(l)}return a},e.prototype.getVerticalUpDownCell=function(e,t,i,n){var r=n&&i>0||!n&&i<e.length-1?e[i+(n?-1:1)].cells[t.cellIndex]:void 0;if(!r||r.classList.contains(p.ePN)){if(e[i].cells[t.cellIndex-(n?1:-1)]){var a=+t.getAttribute("data-date")-(n?c.ec:-c.ec);return this.parent.getContentTable().querySelector("."+p.fv4+'[data-date="'+a+'"]')}r=t}return r},e.prototype.processLeftRight=function(e){var t="Year"===this.parent.currentView?e.closest("tbody"):this.parent.getContentTable(),i=e.parentNode.sectionRowIndex;return{element:t,rowIndex:i,columnIndex:e.cellIndex,maxIndex:t.rows[i].cells.length}},e.prototype.getQuickPopupElement=function(){return(this.parent.isAdaptive?document.body:this.parent.element).querySelector("."+p.Kp7)},e.prototype.isCancelLeftRightAction=function(e,t,i){var n="MonthAgenda"===this.parent.currentView||i&&this.initialTarget.classList.contains(p.ePN);if("Agenda"===this.parent.currentView||t&&n)return!0;if(this.isPreventAction(e)&&t)return!0;var r=this.parent.element.querySelector("."+p.KRw),a=this.getQuickPopupElement();return!(!r.classList.contains(p.g6H)&&!a.classList.contains(p.g6H))},e.prototype.processRight=function(e,t){var i="TimelineYear"===this.parent.currentView;if(!this.isCancelLeftRightAction(e,t,i)){var n,a=this.parent.getSelectedElements(),s=this.parent.eventBase.getSelectedAppointments(),o=e.target;if(a.length>0&&!o.classList.contains(p.fv4)&&!o.classList.contains(p.tTW)&&(o=a[a.length-1]),!(s.length>0)||(o=this.getWorkCellFromAppointmentElement(s[s.length-1]),this.parent.eventBase.removeSelectedAppointmentClass(),o))if(o.classList.contains(p.fv4)&&e.target.classList.contains(p.fv4)){var l=this.processLeftRight(o),h=new Date(+o.getAttribute("data-date")),u="Year"===this.parent.currentView&&h.getTime()===c.sG(h).getTime();if(l.columnIndex>=0&&l.columnIndex<l.maxIndex-1&&!u)n=this.calculateNextPrevDate(o,l.element.rows[l.rowIndex].cells[o.cellIndex+1],"right"),i&&t&&n.classList.contains(p.ePN)&&(n=this.getTimelineYearTargetCell(l,o,!0)),(0,r.hX)(n)||this.selectCells(t,n);else if(l.columnIndex===l.maxIndex-1||u)if(!this.isInverseTableSelect()&&l.rowIndex<l.element.rows.length-1&&!u){n=this.calculateNextPrevDate(o,l.element.rows[l.rowIndex+1].cells[0],"right");var d=i&&t&&n.classList.contains(p.ePN);n=d?this.getHorizontalLeftRightCell(l,o,!0):n,(0,r.hX)(n)||this.selectCells(t,n)}else if(!t){if(u&&h.getTime()!==this.parent.activeView.getEndDate().getTime())return void this.selectCells(t,this.parent.element.querySelector(":not(."+p.ePN+')[data-date="'+(h.getTime()+c.ec)+'"]'));var v=this.isInverseTableSelect()?l.rowIndex:0;this.parent.changeDate(this.parent.activeView.getNextPreviousDate("next"),e);var m=this.parent.getContentTable(),g=u?m.rows[v].querySelector("."+p.fv4+":not(."+p.ePN+")"):m.rows[v].cells[0];this.selectCells(!1,g)}}else if(o.classList.contains(p.tTW)){var f=o.cellIndex,y=this.parent.getAllDayRow(),T=y.cells.length;if(f>=0&&f<T-1)this.selectCells(t,y.cells[f+1]);else if(f===T-1&&!t){this.parent.changeDate(this.parent.activeView.getNextPreviousDate("next"),e);var w=this.parent.getAllDayRow();this.selectCells(!1,w.cells[0])}}}},e.prototype.processLeft=function(e,t){var i="TimelineYear"===this.parent.currentView;if(!this.isCancelLeftRightAction(e,t,i)){var n,a=e.target,s=this.parent.getSelectedElements();s.length>0&&!a.classList.contains(p.fv4)&&!a.classList.contains(p.tTW)&&(a=s[s.length-1]);var o=this.parent.eventBase.getSelectedAppointments();if(!(o.length>0)||(a=this.getWorkCellFromAppointmentElement(o[o.length-1]),this.parent.eventBase.removeSelectedAppointmentClass(),a))if(e.target.classList.contains(p.fv4)&&a.classList.contains(p.fv4)){var l=this.processLeftRight(a),h=new Date(+a.getAttribute("data-date")),u="Year"===this.parent.currentView&&h.getTime()===c.mD(h).getTime();if(l.columnIndex>0&&l.columnIndex<l.maxIndex&&!u)n=this.calculateNextPrevDate(a,l.element.rows[l.rowIndex].cells[a.cellIndex-1],"left"),i&&t&&n.classList.contains(p.ePN)&&(n=this.getTimelineYearTargetCell(l,a,!1)),(0,r.hX)(n)||this.selectCells(t,n);else if(0===l.columnIndex||u)if(!this.isInverseTableSelect()&&l.rowIndex>0){n=this.calculateNextPrevDate(a,l.element.rows[l.rowIndex-1].cells[l.maxIndex-1],"left");var d=i&&t&&n.classList.contains(p.ePN);n=d?this.getHorizontalLeftRightCell(l,a,!1):n,(0,r.hX)(n)||this.selectCells(t,n)}else if(!t){if(u&&h.getTime()!==this.parent.activeView.getStartDate().getTime())return void this.selectCells(t,this.parent.element.querySelector('[data-date="'+(h.getTime()-c.ec)+'"]'));this.parent.changeDate(this.parent.activeView.getNextPreviousDate("previous"),e);var v=this.parent.getContentTable(),m=this.isInverseTableSelect()?l.rowIndex:v.rows.length-1,g=v.rows[m].cells[l.maxIndex-1];if(u){var f=this.parent.element.querySelectorAll("."+p.s2p+" tbody");g=f.item(f.length-1).querySelector(":not(."+p.ePN+')[data-date="'+this.parent.activeView.getEndDate().getTime()+'"]')}this.selectCells(!1,g)}}else if(a.classList.contains(p.tTW)){var y=a.cellIndex,T=this.parent.getAllDayRow(),w=T.cells.length;if(y>0&&y<w)this.selectCells(t,T.cells[y-1]);else if(0===y&&!t){this.parent.changeDate(this.parent.activeView.getNextPreviousDate("previous"),e);var D=this.parent.getAllDayRow();this.selectCells(!1,D.cells[w-1])}}}},e.prototype.getTimelineYearTargetCell=function(e,t,i){return this.isInverseTableSelect()?this.getVerticalLeftRightCell(t,i):this.getHorizontalLeftRightCell(e,t,i)},e.prototype.getHorizontalLeftRightCell=function(e,t,i){var n=e.element.rows[t.parentNode.sectionRowIndex+(i?1:-1)];if(n){var r=i?"."+p.fv4+":not(."+p.ePN+")":'[data-date="'+(+t.getAttribute("data-date")-c.ec)+'"]';return n.querySelector(r)}return t},e.prototype.getVerticalLeftRightCell=function(e,t){var i=new Date(+e.getAttribute("data-date")),n=new Date(i.getFullYear(),i.getMonth()+(t?1:-1),1),r=this.parent.getContentTable(),a=r.querySelector('[data-date="'+n.getTime()+'"]');return a.parentNode.sectionRowIndex>e.parentNode.sectionRowIndex?a:r.querySelector('[data-date="'+new Date(n.getFullYear(),n.getMonth()+1,0).getTime()+'"]')},e.prototype.calculateNextPrevDate=function(e,t,i){var n=this.initialTarget.getAttribute("data-group-index");if(this.parent.activeViewOptions.group.resources.length>0&&"Month"===this.parent.currentView&&e&&t&&t.getAttribute("data-group-index")!==n){var r=this.parent.getDateFromElement(e),a="right"===i?new Date(r.setDate(r.getDate()+1)):new Date(r.setDate(r.getDate()-1));t=[].slice.call(this.parent.element.querySelectorAll('td[data-date="'+a.getTime().toString()+'"][data-group-index="'+n+'"]'))[0]}return t},e.prototype.getFocusableElements=function(e){return[].slice.call(e.querySelectorAll('a[href]:not([tabindex="-1"]),input:not([disabled]):not([tabindex="-1"]),textarea:not([disabled]):not([tabindex="-1"]),button:not([disabled]):not([tabindex="-1"]),select:not([disabled]):not([tabindex="-1"]),[tabindex]:not([tabindex="-1"]),[contentEditable=true]:not([tabindex="-1"])'))},e.prototype.processTabOnPopup=function(e,t){var i=this,n=this.getFocusableElements(t),a=(n=n.filter((function(e){var t=i.parent.element.querySelector("."+p.yzg);return t&&t.offsetParent?!(e.classList.contains(p.Gnx)||e.classList.contains(p.V29)):!(e.classList.contains(p.RAS)||e.classList.contains(p.oMZ))})))[0],s=n[n.length-1];(0,r.hX)(s)||document.activeElement!==s||e.shiftKey||(e.preventDefault(),a.focus()),!(0,r.hX)(a)&&document.activeElement===a&&e.shiftKey&&(e.preventDefault(),s.focus())},e.prototype.processTab=function(e,t){var i=e.target;if(i.classList.contains(p.Uvf)&&this.parent.inlineModule&&(i=i.closest(".e-appointment"),this.parent.inlineModule.inlineCrudActions(e.target)),"TimelineYear"===this.parent.currentView&&i.classList.contains(p.ePN))i.classList.contains(p.sEA)&&this.parent.removeSelectedClass();else{var n=(0,r.kp)(i,"."+p.Kp7+",."+p.KRw);if(n&&n.classList.contains(p.g6H))return n.classList.contains(p.KRw)&&this.parent.eventBase.removeSelectedAppointmentClass(),void this.processTabOnPopup(e,n);if(i.classList.contains(p.Dll))this.parent.eventBase.removeSelectedAppointmentClass();else if(i.classList.contains(p.yWy)&&this.parent.activeView.isTimelineView()&&this.parent.activeViewOptions.group.resources.length>0){var a=parseInt(i.getAttribute("data-group-index"),10),s="."+p.Dj+'[data-group-index="'+(t?a-1:a)+'"]';if((c=[].slice.call(this.parent.element.querySelectorAll(s))).length>0){this.parent.eventBase.removeSelectedAppointmentClass();var o=t?c.slice(-1)[0]:c[0];this.parent.eventBase.addSelectedAppointments([o]),o.focus(),e.preventDefault()}else if(a+1===this.parent.resourceBase.lastResourceLevel.length)this.parent.element.focus(),e.preventDefault();else if(this.parent.virtualScrollModule){var l=this.parent.element.querySelector("."+p.XEi),h=Math.round(l.offsetHeight/this.parent.resourceBase.expandedResources.length);this.parent.element.querySelector(".e-content-wrap").scrollTop=(t?a-1:a+1)*h,this.parent.virtualScrollModule.virtualScrolling()}else this.setScrollPosition(a)}else if(i.classList.contains(p.Dj)){var c=[].slice.call(this.parent.element.querySelectorAll("."+p.Dj)),u="TimelineYear"===this.parent.currentView;if((this.parent.activeView.isTimelineView()&&!u||u&&"Vertical"===this.parent.activeViewOptions.orientation)&&this.parent.activeViewOptions.group.resources.length>0){a=parseInt(i.getAttribute("data-group-index"),10);c=[].slice.call(this.parent.element.querySelectorAll("."+p.Dj+'[data-group-index="'+a+'"]'));var d="."+p.yWy+'[data-group-index="'+(t?a:a+1)+'"]',v=this.parent.element.querySelector(d);if(v&&(t&&i.getAttribute("data-guid")===c[0].getAttribute("data-guid")||!t&&i.getAttribute("data-guid")===c.slice(-1)[0].getAttribute("data-guid")))return this.parent.eventBase.removeSelectedAppointmentClass(),this.parent.virtualScrollModule?v.focus({preventScroll:!0}):v.focus(),this.parent.activeView.isTimelineView()&&this.parent.activeViewOptions.group.resources.length>0&&(0,r.hX)(this.parent.virtualScrollModule)&&this.setScrollPosition(a),void e.preventDefault()}var m=this.parent.eventBase.getSelectedAppointments();if(m.length>0&&(i=m[m.length-1]),this.parent.eventBase.removeSelectedAppointmentClass(),!t&&i.getAttribute("data-guid")===c[c.length-1].getAttribute("data-guid")||t&&i.getAttribute("data-guid")===c[0].getAttribute("data-guid"))return;"Agenda"!==this.parent.currentView&&"MonthAgenda"!==this.parent.currentView||(this.selectAppointment(t,i),e.preventDefault())}else{var g=this.parent.getSelectedElements();if(g.length>0&&!i.classList.contains(p.Dj))return i=g[g.length-1],this.selectAppointmentElementFromWorkCell(t,i),void e.preventDefault();i&&!i.classList.contains(p.yWy)&&this.parent.activeView.isTimelineView()&&this.parent.activeViewOptions.group.resources.length>0&&this.processTabOnResourceCells(i,t)}}},e.prototype.processDelete=function(e){var t=document.activeElement;if("MonthAgenda"===this.parent.currentView){var i=this.parent.eventBase.getSelectedEvents().element;t=i&&(0,r.hX)(i.length)?i:i[0]}if(t&&t.classList.contains(p.Dj)){if((0,r.iQ)([t],p.DvD),this.parent.activeEventData=this.parent.eventBase.getSelectedEvents(),this.parent.activeViewOptions.readonly||t.classList.contains(p.sjS)||!this.parent.eventSettings.allowDeleting)return;this.parent.quickPopup.deleteClick(e)}},e.prototype.processCtrlShiftNavigationArrows=function(e){if(this.parent.activeViewOptions.group.resources.length>0&&document.activeElement.classList.contains(p.Dj)){var t=parseInt(document.activeElement.getAttribute("data-group-index"),10);r=(r="ctrlShiftLeftArrow"===e.action||"ctrlShiftUpArrow"===e.action?t-1:t+1)<0?0:r>this.parent.resourceBase.lastResourceLevel.length?this.parent.resourceBase.lastResourceLevel.length:r;for(var i=[];0===i.length&&r>=0&&r<=this.parent.resourceBase.lastResourceLevel.length;)i=[].slice.call(this.parent.element.querySelectorAll("."+p.Dj+'[data-group-index="'+r+'"]')),r="ctrlShiftLeftArrow"===e.action||"ctrlShiftUpArrow"===e.action?r-1:r+1;var n=i[0];n&&(this.parent.eventBase.removeSelectedAppointmentClass(),this.parent.eventBase.addSelectedAppointments([n]),n.focus())}else if(this.parent.activeViewOptions.group.resources.length>0&&!document.activeElement.classList.contains(p.Dj)){var r=this.parent.resourceBase.renderedResources[0].groupIndex,a="."+p.Dj+'[data-group-index="'+r+'"]',s=[].slice.call(this.parent.element.querySelectorAll(a));if(s.length>0){this.parent.eventBase.removeSelectedAppointmentClass();var o=s[0];this.parent.eventBase.addSelectedAppointments([o]),o.focus(),e.preventDefault()}}},e.prototype.processEscape=function(e){this.parent.quickPopup.onClosePopup(e),this.parent.quickPopup.morePopup.hide(),this.parent.headerModule&&this.parent.headerModule.hideHeaderPopup(),this.parent.inlineModule&&this.parent.inlineModule.removeInlineAppointmentElement()},e.prototype.isPreventAction=function(e){var t=(0,r.kp)(e.target,"."+p.o1M);return!(!this.parent.activeView.isTimelineView()||(0,r.hX)(t))},e.prototype.processTabOnResourceCells=function(e,t){var i=[].slice.call(this.parent.element.querySelectorAll('[tabIndex="0"]')),n=i.indexOf(e),r=t?i[n-1]:i[n+1];if(r&&r.classList.contains(p.yWy)){var a=parseInt(r.getAttribute("data-group-index"),10);if(this.parent.virtualScrollModule){var s=this.parent.element.querySelector("."+p.mpl);[].slice.call(this.parent.element.querySelectorAll("."+p.yWy)).forEach((function(e){e.getBoundingClientRect().top<s.getBoundingClientRect().top&&e.setAttribute("tabindex","-1")}))}else this.setScrollPosition(a)}},e.prototype.setScrollPosition=function(e){var t=this.parent.element.querySelector("."+p.fv4+'[data-group-index="'+e+'"]');t&&(this.parent.element.querySelector("."+p._oL).scrollTop=t.offsetTop)},e.prototype.getModuleName=function(){return"keyboard"},e.prototype.destroy=function(){this.removeEventListener(),this.keyboardModule.destroy()},e}(),g=i(9064),f=i(4455),y=function(){function e(e,t){this.initDataManager(e,t)}return e.prototype.initDataManager=function(e,t){this.dataManager=e instanceof g.M?e:new g.M(e),this.query=t instanceof f.X?t:new f.X},e.prototype.generateQuery=function(e,t){var i=this.query.clone();return e&&i.addParams("StartDate",e.toISOString()),t&&i.addParams("EndDate",t.toISOString()),i},e.prototype.getData=function(e){return this.dataManager.executeQuery(e)},e.prototype.destroy=function(){this.dataManager=null,this.query=null},e}(),T=i(5893),w=i(3463),D=i(4953),b=i(8104),C=function(){function e(e){this.parent=e,this.parent.on(h.K4,this.inlineEdit,this)}return e.prototype.inlineEdit=function(e){if(this.parent.quickPopup&&this.parent.quickPopup.quickPopupHide(),"Cell"===e.type){var t=this.parent.element.querySelector("."+p.KRw);t&&t.classList.contains(p.g6H)&&this.parent.quickPopup.morePopup.hide(),this.removeInlineAppointmentElement(),this.cellEdit(e)}else this.parent.element.querySelector("."+p.Uvf)!==e.element.querySelector("."+p.Uvf)&&this.removeInlineAppointmentElement(),this.eventEdit(e)},e.prototype.cellEdit=function(e){var t=this.generateEventData(),i=e.element.cellIndex,n=this.getEventDaysCount(t);n>1&&(n=Math.round(n),i-=--n);var r=c.JC(new Date(""+t[this.parent.eventFields.startTime])).getTime(),a=c.JC(new Date(""+t[this.parent.eventFields.endTime])).getTime(),s=e.groupIndex||0;if("Day"===this.parent.currentView||"Week"===this.parent.currentView||"WorkWeek"===this.parent.currentView){var o=t[this.parent.eventFields.startTime].getDay();this.createVerticalViewInline(t,o,s,i)}else"Month"===this.parent.currentView?this.createMonthViewInline(t,s,r,a):this.createTimelineViewInline(t,r,a,s);var l=this.parent.element.querySelector("."+p.Uvf);l&&l.focus()},e.prototype.eventEdit=function(e){var t,i=e.element.querySelector("."+p.Uvf);if(i)t=i.value;else{var n=e.element.querySelector("."+p.YrY),a=e.element.querySelector("."+p.AWK);if(t=n.innerText,i=(0,r.n)("input",{className:p.Uvf,attrs:{value:t}}),(0,r.iQ)([n],p.AV8),(0,r.kp)(e.element,"."+p.KRw))e.element.insertBefore(i,n);else if(["Agenda","MonthAgenda"].indexOf(this.parent.currentView)>-1){var s=e.element.querySelector("."+p.MXb);s.insertBefore(i,s.firstChild)}else{var o=["TimelineDay","TimelineWeek","TimelineWorkWeek","TimelineMonth"].indexOf(this.parent.currentView)>-1?".e-inner-wrap":".e-appointment-details";e.element.querySelector(o).insertBefore(i,a)}i.focus()}i.setSelectionRange(t.length,t.length)},e.prototype.createVerticalViewInline=function(e,t,i,n){var r,a=this.getEventDaysCount(e),s=new w.Z(this.parent);s.initializeValues();var o=s.dateRender[i].map((function(e){return e.getDay()})).indexOf(t);if(a>=1){s.allDayElement=[].slice.call(this.parent.element.querySelectorAll("."+p.tTW)),(r=s.slots).push.apply(r,this.parent.activeView.renderDates.map((function(e){return+e})));var l=[].slice.call(this.parent.element.querySelectorAll("."+p.F1H)),h=0;l.length>0&&(h=Math.floor(this.parent.element.querySelector("."+p.IoD).getBoundingClientRect().height/l[0].offsetHeight)-1),s.allDayLevel=h,s.renderAllDayEvents(e,o,i,n,this.parent.allowInline)}else s.renderNormalEvents(e,o,i,n,this.parent.allowInline)},e.prototype.createMonthViewInline=function(e,t,i,n){var r=this.getEventDaysCount(e),a=this.parent.eventBase.cloneEventObject(e,i,n,r,!1,!1),s=new D.l(this.parent);s.dateRender=this.parent.activeView.renderDates,s.inlineValue=this.parent.allowInline;var o=this.parent.activeView.renderDates,l=this.parent.activeViewOptions.workDays,h="."+p.fv4;if(this.parent.activeViewOptions.group.resources.length>0){h+='[data-group-index="'+t+'"]';var u=this.parent.resourceBase.lastResourceLevel[t];o=u.renderDates,l=u.workDays}s.workCells=[].slice.call(this.parent.element.querySelectorAll(h)),s.cellWidth=s.workCells[0].offsetWidth,s.cellHeight=s.workCells[0].offsetHeight,s.eventHeight=c.iX(this.parent.monthModule.element,p.Dj),s.getSlotDates(l);for(var d=s.getRenderedDates(o),v=0,m=s.splitEvent(a,d||o);v<m.length;v++){var g=m[v];s.renderEvents(g,t)}this.parent.element.querySelector("."+p.Uvf).focus()},e.prototype.createTimelineViewInline=function(e,t,i,n){var r=this.getEventDaysCount(e),a=this.parent.eventBase.cloneEventObject(e,t,i,r,!1,!1),s=new b.k(this.parent,this.parent.activeViewOptions.timeScale.enable?"hour":"day");s.dateRender=this.parent.activeView.renderDates,s.eventContainers=[].slice.call(this.parent.element.querySelectorAll("."+p.Px_));var o=this.parent.element.querySelector("."+p.fv4);s.inlineValue=this.parent.allowInline,s.cellWidth=o.offsetWidth,s.cellHeight=o.offsetHeight;var l=0===this.parent.element.querySelectorAll("."+p.s2p+" tbody tr").length?0:this.parent.element.querySelectorAll("."+p.s2p+" tbody tr")[0].children.length;s.slotsPerDay=l/s.dateRender.length,s.eventHeight=c.iX(s.element,p.Dj),s.renderEvents(a,n)},e.prototype.getEventDaysCount=function(e){var t=e[this.parent.eventFields.startTime],i=e[this.parent.eventFields.endTime];return Math.abs(i.getTime()-t.getTime())/c.ec},e.prototype.generateEventData=function(e){var t=this.parent.element.querySelector("."+p.Uvf),i=t?t.value:e?e.innerHTML:"",n={};return n[this.parent.eventFields.id]=this.parent.eventBase.getEventMaxID(),n[this.parent.eventFields.subject]=i,n[this.parent.eventFields.startTime]=this.parent.activeCellsData.startTime,n[this.parent.eventFields.endTime]=this.parent.activeCellsData.endTime,n[this.parent.eventFields.isAllDay]=this.parent.activeCellsData.isAllDay,this.parent.eventWindow.setDefaultValueToObject(n),this.parent.resourceBase&&this.parent.resourceBase.setResourceValues(n,this.parent.activeCellsData.groupIndex),n},e.prototype.documentClick=function(){var e=this.parent.element.querySelector("."+p.Uvf);e&&""!==e.value?this.inlineCrudActions(e):this.removeInlineAppointmentElement()},e.prototype.inlineCrudActions=function(e){if((0,r.kp)(e,"."+p.T$e)){var t=this.generateEventData(e);this.parent.addEvent(t)}else{var i=(0,r.kp)(e,"."+p.Dj),n=this.parent.getEventDetails(i);n[this.parent.eventFields.subject]=e.value;var a=void 0;n[this.parent.eventFields.id]===n[this.parent.eventFields.recurrenceID]&&(a="EditOccurrence",n[this.parent.eventFields.id]=this.parent.eventBase.getEventMaxID()),this.parent.saveEvent(n,a)}this.removeInlineAppointmentElement()},e.prototype.createInlineAppointmentElement=function(e){var t=(0,r.n)("div",{className:p.Dj+" "+p.T$e}),i=(0,r.n)("div",{className:p.VbS});t.appendChild(i);var n=(0,r.n)("input",{className:p.Uvf});return i.appendChild(n),e&&this.parent.eventBase.applyResourceColor(t,e,"backgroundColor"),t},e.prototype.removeInlineAppointmentElement=function(){var e=[].slice.call(this.parent.element.querySelectorAll("."+p.T$e));e.length>0&&e.forEach((function(e){return(0,r.TF)(e)}));var t=this.parent.element.querySelector("."+p.Uvf);if(t){var i=(0,r.kp)(t,"."+p.Dj);(0,r.vy)([i.querySelector("."+p.YrY)],p.AV8),(0,r.TF)(t)}},e.prototype.destroy=function(){this.parent.off(h.K4,this.inlineEdit)},e}(),S=i(6815),A=i(5996),E=i(2819),O=i(3169),x=i(7665),k=function(){function e(){}return e.prototype.renderFormValidator=function(e,t,i,n){var r=this;this.element=i,this.formObj=new x.tL(e,{locale:n,customPlacement:function(e,t){r.errorPlacement(e,t)},rules:t,validationComplete:function(e){r.validationComplete(e)},focusout:function(e){r.focusOut(e)}})},e.prototype.focusOut=function(e){var t=e.relatedTarget;t&&(t.classList.contains("e-dlg-closeicon-btn")||t.classList.contains("e-close")||t.classList.contains(p.tTW)||t.classList.contains(p.Zas)||t.classList.contains(p.W2Y)||t.classList.contains(p.fv4)||t.classList.contains(p.lvH))?this.ignoreError=!0:this.ignoreError=!1},e.prototype.validationComplete=function(e){var t=this.element.querySelector("#"+e.inputName+"_Error");t&&(t.style.display="failure"===e.status?"":"none")},e.prototype.errorPlacement=function(e,t){var i=t.getAttribute("for"),n=this.element.querySelector("#"+i+"_Error");n||this.ignoreError||this.createTooltip(e,t,i,""),(0,r.hX)(n)||(n.querySelector(".e-error").innerHTML=t.innerHTML)},e.prototype.createTooltip=function(e,t,i,n){var a,s,o=e.getBoundingClientRect();this.element.classList.contains(p.Kp7)?(a=this.element,s=this.element.getBoundingClientRect()):s=(a=this.element.querySelector(".e-schedule-dialog .e-dlg-content")).getBoundingClientRect();var l=(0,r.n)("div",{className:"e-tooltip-wrap e-popup "+p.OTD,id:i+"_Error",styles:"display:"+n+";top:"+(o.bottom-s.top+a.scrollTop+9)+"px;left:"+(o.left-s.left+a.scrollLeft+o.width/2)+"px;"}),h=(0,r.n)("div",{className:"e-tip-content"});h.appendChild(t);var c=(0,r.n)("div",{className:"e-arrow-tip e-tip-top"});c.appendChild((0,r.n)("div",{className:"e-arrow-tip-outer e-tip-top"})),c.appendChild((0,r.n)("div",{className:"e-arrow-tip-inner e-tip-top"})),l.appendChild(h),l.appendChild(c),a.appendChild(l),l.style.left=parseInt(l.style.left,10)-l.offsetWidth/2+"px"},e.prototype.destroyToolTip=function(){if(this.element)for(var e=0,t=[].slice.call(this.element.querySelectorAll("."+p.OTD));e<t.length;e++){var i=t[e];(0,r.TF)(i)}this.formObj&&this.formObj.element&&this.formObj.reset()},e.prototype.destroy=function(){this.formObj&&this.formObj.element&&!this.formObj.isDestroyed&&this.formObj.destroy(),this.formObj=null,this.element=null},e}(),V=function(){function e(e){this.isMultipleEventSelect=!1,this.isCrudAction=!1,this.parent=e,this.l10n=this.parent.localeObj,this.fieldValidator=new k,this.render(),this.addEventListener()}return e.prototype.render=function(){this.renderQuickPopup(),this.renderMorePopup(),this.renderQuickDialog()},e.prototype.renderQuickPopup=function(){var e=(0,r.n)("div",{className:p.Kp7+" e-popup-close"});this.parent.isAdaptive?(document.body.appendChild(e),(0,r.iQ)([e],p.Oc1)):this.parent.element.appendChild(e),this.quickPopup=new l.zD(e,{targetType:this.parent.isAdaptive?"container":"relative",enableRtl:this.parent.enableRtl,open:this.quickPopupOpen.bind(this),close:this.quickPopupClose.bind(this),hideAnimation:this.parent.isAdaptive?{name:"ZoomOut"}:{name:"FadeOut",duration:150},showAnimation:this.parent.isAdaptive?{name:"ZoomIn"}:{name:"FadeIn",duration:150},collision:this.parent.isAdaptive?{X:"fit",Y:"fit"}:this.parent.enableRtl?{X:"flip",Y:"fit"}:{X:"none",Y:"fit"},position:this.parent.isAdaptive||this.parent.enableRtl?{X:"left",Y:"top"}:{X:"right",Y:"top"},viewPortElement:this.parent.isAdaptive?document.body:this.parent.element,zIndex:this.parent.isAdaptive?1004:3})},e.prototype.renderMorePopup=function(){var e='<div class="'+p.$vc+'"><div class="'+p.c41+'"><div class="'+p.xl1+'" title="'+this.l10n.getConstant("close")+'" tabindex="0"></div><div class="'+p.Z5b+'"><div class="'+p.lbr+'"></div><div class="'+p.Z8R+" "+p.NG$+'" tabindex="0"></div></div></div></div>',t=(0,r.n)("div",{className:p.KRw+" e-popup-close",innerHTML:e});this.parent.isAdaptive?(document.body.appendChild(t),(0,r.iQ)([t],p.Oc1)):this.parent.element.appendChild(t),this.morePopup=new l.zD(t,{targetType:this.parent.isAdaptive?"container":"relative",enableRtl:this.parent.enableRtl,hideAnimation:{name:"ZoomOut",duration:300},showAnimation:{name:"ZoomIn",duration:300},open:this.morePopupOpen.bind(this),close:this.morePopupClose.bind(this),collision:this.parent.isAdaptive?{X:"fit",Y:"fit"}:this.parent.enableRtl?{X:"flip",Y:"fit"}:{X:"flip",Y:"flip"},viewPortElement:this.parent.isAdaptive?document.body:this.parent.element,zIndex:this.parent.isAdaptive?1002:2});var i=this.morePopup.element.querySelector("."+p.xl1);this.renderButton("e-round",p.kb2+" "+p.mDq,!1,i,this.closeClick),r.Jm.add(this.morePopup.element.querySelector("."+p.Z8R),"click",this.navigationClick,this)},e.prototype.renderQuickDialog=function(){var e=[{buttonModel:{cssClass:"e-quick-alertok e-flat",isPrimary:!0},click:this.dialogButtonClick.bind(this)},{buttonModel:{cssClass:"e-quick-alertcancel e-flat",isPrimary:!1},click:this.dialogButtonClick.bind(this)},{buttonModel:{cssClass:"e-quick-dialog-cancel e-disable e-flat",isPrimary:!1},click:this.dialogButtonClick.bind(this)}];if(this.parent.eventSettings.editFollowingEvents){var t={buttonModel:{cssClass:"e-quick-alertfollowing e-flat",isPrimary:!1},click:this.dialogButtonClick.bind(this)};e.splice(1,0,t)}this.quickDialog=new S.lG({animationSettings:{effect:"Zoom"},buttons:e,cssClass:p.sGi,closeOnEscape:!0,enableRtl:this.parent.enableRtl,beforeClose:this.beforeQuickDialogClose.bind(this),isModal:!0,position:{X:"center",Y:"center"},showCloseIcon:!0,target:document.body,visible:!1,width:"auto"});var i=(0,r.n)("div",{id:this.parent.element.id+"QuickDialog"});this.parent.element.appendChild(i),this.quickDialog.appendTo(i);var n=this.quickDialog.element.querySelector("."+p.Hu7);n&&(n.setAttribute("aria-label",this.l10n.getConstant("occurrence")),n.setAttribute("aria-label",n.innerHTML));var a=this.quickDialog.element.querySelector("."+p.BJF);a&&(a.setAttribute("aria-label",this.l10n.getConstant("series")),a.setAttribute("aria-label",a.innerHTML)),this.quickDialog.element.querySelector(".e-dlg-closeicon-btn")&&this.quickDialog.element.querySelector(".e-dlg-closeicon-btn").setAttribute("title",this.l10n.getConstant("close"))},e.prototype.renderButton=function(e,t,i,n,a){new E.$({cssClass:e,disabled:i,enableRtl:this.parent.enableRtl,iconCss:t}).appendTo(n),r.Jm.add(n,"click",a,this),(0,r.vy)([n],p.kb2)},e.prototype.quickDialogClass=function(e){var t=[p.UZT,p.kDM,p.OHH,p.Jrb,p.AB,p.AV8],i=this.quickDialog.element.querySelector("."+p.Hu7),n=this.quickDialog.element.querySelector("."+p.BJF),a=this.quickDialog.element.querySelector("."+p.CKS);switch((0,r.vy)([i,n],t),(0,r.iQ)([this.quickDialog.element.querySelector("."+p.Jrb)],p.AV8),this.parent.eventSettings.editFollowingEvents&&((0,r.iQ)([a],p.AV8),(0,r.vy)([this.quickDialog.element],p.D7e)),e){case"Recurrence":(0,r.iQ)([i],p.UZT),(0,r.iQ)([n],p.kDM),this.parent.eventSettings.editFollowingEvents&&((0,r.vy)([a],p.AV8),(0,r.iQ)([this.quickDialog.element],p.D7e),(0,r.iQ)([a],p.gzP));break;case"Delete":(0,r.iQ)([i],p.OHH),(0,r.iQ)([n],p.Jrb);break;case"Alert":(0,r.iQ)([i],[p.Hu7,p.AB]),(0,r.iQ)([n],[p.BJF,p.AV8])}},e.prototype.applyFormValidation=function(){var e=this.quickPopup.element.querySelector("."+p.Y9),t={};t[this.parent.eventSettings.fields.subject.name]=this.parent.eventSettings.fields.subject.validation,this.fieldValidator.renderFormValidator(e,t,this.quickPopup.element,this.parent.locale)},e.prototype.openRecurrenceAlert=function(){var e=this.quickDialog.element.querySelector("."+p.Hu7);e&&(e.innerHTML=this.l10n.getConstant("Delete"===this.parent.currentAction?"deleteEvent":"editEvent"),e.setAttribute("aria-label",e.innerHTML));var t=this.quickDialog.element.querySelector("."+p.CKS);t&&(t.innerHTML=this.l10n.getConstant("editFollowingEvent"),t.setAttribute("aria-label",t.innerHTML));var i=this.quickDialog.element.querySelector("."+p.BJF);i&&(i.innerHTML=this.l10n.getConstant("Delete"===this.parent.currentAction?"deleteSeries":"editSeries"),i.setAttribute("aria-label",i.innerHTML)),this.quickDialog.content=this.l10n.getConstant("editContent"),this.quickDialog.header=this.l10n.getConstant("Delete"===this.parent.currentAction?"deleteTitle":"editTitle"),this.quickDialogClass("Recurrence");var n=this.parent.activeEventData.event;if(this.parent.eventSettings.editFollowingEvents&&"EditOccurrence"===this.parent.currentAction&&!(0,r.hX)(n[this.parent.eventFields.recurrenceID])&&n[this.parent.eventFields.recurrenceID]!==n[this.parent.eventFields.id]){var a=this.quickDialog.element.querySelector("."+p.CKS);(0,r.iQ)([a],p.AV8)}this.showQuickDialog("RecurrenceAlert")},e.prototype.openRecurrenceValidationAlert=function(e){this.quickDialogClass("Alert");var t=this.quickDialog.element.querySelector("."+p.Hu7);t.innerHTML=this.l10n.getConstant("ok"),t.setAttribute("aria-label",t.innerHTML);var i,n=this.quickDialog.element.querySelector("."+p.BJF);switch(n.innerHTML=this.l10n.getConstant("cancel"),n.setAttribute("aria-label",n.innerHTML),this.quickDialog.header=this.l10n.getConstant("alert"),e){case"wrongPattern":(0,r.iQ)([n],p.AV8),this.quickDialog.content=this.l10n.getConstant("wrongPattern");break;case"createError":(0,r.iQ)([n],p.AV8),this.quickDialog.content=this.l10n.getConstant("createError");break;case"sameDayAlert":(0,r.iQ)([n],p.AV8),this.quickDialog.content=this.l10n.getConstant("sameDayAlert");break;case"seriesChangeAlert":i=this.quickDialog.element.querySelector("."+p.Jrb),(0,r.vy)([n,i],p.AV8),this.quickDialog.content=this.l10n.getConstant("seriesChangeAlert"),t.innerHTML=this.l10n.getConstant("yes"),n.innerHTML=this.l10n.getConstant("no"),i.innerHTML=this.l10n.getConstant("cancel");break;case"occurrenceAlert":(0,r.iQ)([n],p.AV8),this.quickDialog.content=this.l10n.getConstant("occurenceAlert")}(!this.parent.enableRecurrenceValidation&&"wrongPattern"===e||this.parent.enableRecurrenceValidation)&&this.showQuickDialog("RecurrenceValidationAlert")},e.prototype.openDeleteAlert=function(){if(!this.parent.activeViewOptions.readonly){var e=this.quickDialog.element.querySelector("."+p.Hu7);e&&(e.innerHTML=this.l10n.getConstant("delete"),e.setAttribute("aria-label",e.innerHTML));var t=this.quickDialog.element.querySelector("."+p.BJF);t&&(t.innerHTML=this.l10n.getConstant("cancel"),t.setAttribute("aria-label",t.innerHTML)),this.quickDialog.content=this.parent.activeEventData.event.length>1?this.l10n.getConstant("deleteMultipleContent"):this.l10n.getConstant("deleteContent"),this.quickDialog.header=this.parent.activeEventData.event.length>1?this.l10n.getConstant("deleteMultipleEvent"):this.l10n.getConstant("deleteEvent"),this.quickDialogClass("Delete"),this.showQuickDialog("DeleteAlert")}},e.prototype.openValidationError=function(e,t){this.quickDialog.header=this.l10n.getConstant("alert"),this.quickDialog.content=this.l10n.getConstant(e);var i=this.quickDialog.element.querySelector("."+p.Hu7);i&&(i.innerHTML=this.l10n.getConstant("ok"),i.setAttribute("aria-label",i.innerHTML));var n=this.quickDialog.element.querySelector("."+p.BJF);n&&(n.innerHTML=this.l10n.getConstant("cancel"),i.setAttribute("aria-label",n.innerHTML)),this.quickDialogClass("Alert"),this.showQuickDialog("ValidationAlert",t)},e.prototype.showQuickDialog=function(e,t){var i=this;this.quickDialog.dataBind();var n={type:e,cancel:!1,element:this.quickDialog.element,data:(0,r.X$)({},t||this.parent.activeEventData.event,null,!0)};this.parent.trigger(h.LD,n,(function(e){e.cancel||i.quickDialog.show()}))},e.prototype.createMoreEventList=function(e,t,i){var n=this,a=this.parent.eventFields,s=(0,r.n)("div",{className:p.EUL}),o=(0,r.n)("div",{className:p.sJc});if(0===e.length)o=(0,r.n)("div",{className:p.EUL,innerHTML:this.l10n.getConstant("emptyContainer")});else for(var l=function(e){var s=e[a.subject]||c.parent.eventSettings.fields.subject.default||c.parent.localeObj.getConstant("addTitle"),l=(0,r.n)("div",{className:p.Dj,attrs:{"data-id":""+e[a.id],"data-guid":e.Guid,role:"button",tabindex:"0","aria-readonly":c.parent.eventBase.getReadonlyAttribute(e),"aria-selected":"false","aria-grabbed":"true","aria-label":c.parent.getAnnouncementString(e)}}),u=void 0;if((0,r.hX)(c.parent.activeViewOptions.eventTemplate))l.appendChild((0,r.n)("div",{className:p.YrY,innerHTML:s}));else{var d=c.parent.element.id+"_"+c.parent.activeViewOptions.eventTemplateName+"eventTemplate";u=c.parent.getAppointmentTemplate()(e,c.parent,"eventTemplate",d,!1),(0,r.BC)(u,l)}if((0,r.hX)(i)||l.setAttribute("data-group-index",i),!(0,r.hX)(e[a.recurrenceRule])){var v=e[a.id]===e[a.recurrenceID]?p.zBw:p.YYP;l.appendChild((0,r.n)("div",{className:p.kb2+" "+v}))}var m={data:(0,r.X$)({},e,null,!0),element:l,cancel:!1};c.parent.trigger(h.MG,m,(function(i){if(!i.cancel){o.appendChild(l);var r=n.parent.isAdaptive||"Year"===n.parent.currentView;n.parent.eventBase.wireAppointmentEvents(l,e,r),n.parent.eventBase.applyResourceColor(l,e,"backgroundColor",t)}}))},c=this,u=0,d=e;u<d.length;u++){l(d[u])}return s.appendChild(o),s},e.prototype.tapHoldEventPopup=function(e){var t=(0,r.kp)(e.target,"."+p.Dj);this.isMultipleEventSelect=!1,this.parent.selectedElements=[],this.isMultipleEventSelect=!0,this.parent.eventBase.getSelectedEventElements(t),this.parent.activeEventData=this.parent.eventBase.getSelectedEvents();var i=t.getAttribute("data-guid"),n=this.parent.eventBase.getEventByGuid(i);if(!(0,r.hX)(n)){var a=n[this.parent.eventFields.subject]||this.l10n.getConstant("noTitle"),s='<div class="'+p.G2I+'"><div class="'+p.k5l+'"><button class="'+p.GwS+'" title="'+this.l10n.getConstant("close")+'"></button><div class="'+p.YrY+'">'+a+'</div><button class="'+p.Gnx+'" title="'+this.l10n.getConstant("edit")+'"></button><button class="'+p.V29+'" title="'+this.l10n.getConstant("delete")+'"></button></div></div>';this.quickPopup.element.innerHTML=s;var o=this.quickPopup.element.querySelector("."+p.GwS);this.renderButton("e-flat e-round e-small",p.kb2+" "+p.mDq,!1,o,this.closeClick);var l=this.parent.activeViewOptions.readonly||n[this.parent.eventFields.isReadonly],h=!this.parent.eventSettings.allowEditing||l,c=!this.parent.eventSettings.allowDeleting||l,u=this.quickPopup.element.querySelector("."+p.Gnx);u&&this.renderButton("e-flat e-round e-small",p.kb2+" "+p.oJ2,h,u,this.editClick);var d=this.quickPopup.element.querySelector("."+p.V29);d&&this.renderButton("e-flat e-round e-small",p.kb2+" "+p.Fye,c,d,this.deleteClick),this.beforeQuickPopupOpen(t)}},e.prototype.isCellBlocked=function(e){var t={};if(t[this.parent.eventFields.startTime]=this.parent.activeCellsData.startTime,t[this.parent.eventFields.endTime]=this.parent.activeCellsData.endTime,t[this.parent.eventFields.isAllDay]=this.parent.activeCellsData.isAllDay,this.parent.activeViewOptions.group.resources.length>0){var i=e.element instanceof Array?e.element[0]:e.element,n=parseInt(i.getAttribute("data-group-index"),10);this.parent.resourceBase.setResourceValues(t,isNaN(n)?null:n)}return this.parent.eventBase.isBlockRange(t)},e.prototype.cellClick=function(e){var t=new Date(e.startTime.getTime());if(this.parent.showQuickInfo&&this.parent.eventSettings.allowAdding&&"MonthAgenda"!==this.parent.currentView&&!this.isCellBlocked(e)&&this.parent.isMinMaxDate(new Date(t.setHours(0,0,0,0)))){var i=e.event.target;if(this.parent.isAdaptive){this.quickPopupHide();var n=this.parent.element.querySelector("."+p.tUo);(0,r.hX)(n)&&(n=(0,r.n)("div",{className:p.tUo,innerHTML:'<div class="e-title">+ '+this.l10n.getConstant("newEvent")+"</div>"}));var a=(0,r.kp)(i,"."+p.fv4+",."+p.tTW);a&&a.appendChild(n)}else{var s=(0,r.kp)(i,"."+p.fv4+",."+p.tTW+",."+p.Zas);if(!(0,r.hX)(s)&&!i.classList.contains(p.pSF))if(this.quickPopup.relateTo===s&&this.quickPopup.element.classList.contains(p.g6H)){var o=this.quickPopup.element.querySelector("."+p.YrY);o&&o.focus()}else{var l={};l[this.parent.eventFields.startTime]=this.parent.activeCellsData.startTime,l[this.parent.eventFields.endTime]=this.parent.activeCellsData.endTime,l[this.parent.eventFields.isAllDay]=this.parent.activeCellsData.isAllDay;var h=(0,r.n)("div",{className:p.v8m});h.appendChild(this.getPopupHeader("Cell",l)),h.appendChild(this.getPopupContent("Cell",e,l)),h.appendChild(this.getPopupFooter("Cell",l));var c=h.querySelector("."+p.YrY);c&&O.p.createInput({element:c,properties:{placeholder:this.l10n.getConstant("addTitle")}}),(0,r.hX)(this.parent.eventSettings.fields.subject.default)||(c.value=this.parent.eventSettings.fields.subject.default);var u=h.querySelector("."+p.GwS);u&&this.renderButton("e-flat e-round e-small",p.kb2+" "+p.mDq,!1,u,this.popupClose);var d=h.querySelector("."+p.W2Y);d&&this.renderButton("e-flat","",!1,d,this.detailsClick);var v=h.querySelector("."+p.bqp);v&&this.renderButton("e-flat e-primary","",this.parent.activeViewOptions.readonly,v,this.saveClick),this.morePopup&&this.morePopup.hide(),this.quickPopup.content=h,this.quickPopup.relateTo=s,this.quickPopup.dataBind(),this.beforeQuickPopupOpen(s)}}}else this.quickPopupHide()},e.prototype.isSameEventClick=function(e){if(this.quickPopup.relateTo===(0,r.kp)(e.element,"."+p.Dj)&&this.quickPopup.element.classList.contains(p.g6H)){var t=this.quickPopup.element.querySelector("."+p.Gnx);if(t&&t.focus(),!this.parent.isAdaptive){var i=this.quickPopup.element.querySelector("."+p.RAS);i&&i.focus()}return!0}return!1},e.prototype.isQuickTemplate=function(e){return"Both"===this.parent.quickInfoTemplates.templateType||this.parent.quickInfoTemplates.templateType===e},e.prototype.eventClick=function(e){if(this.parent.eventTooltip&&this.parent.eventTooltip.close(),this.parent.showQuickInfo)if(this.parent.isAdaptive&&this.isMultipleEventSelect)this.updateTapHoldEventPopup((0,r.kp)(e.element,"."+p.Dj));else{if(this.isSameEventClick(e))return;var t=e.event,i=(0,r.n)("div",{className:p.$Hi});i.appendChild(this.getPopupHeader("Event",t)),i.appendChild(this.getPopupContent("Event",e,t)),i.appendChild(this.getPopupFooter("Event",t));var n=this.parent.activeViewOptions.readonly||t[this.parent.eventFields.isReadonly],a=!this.parent.eventSettings.allowEditing||n,s=!this.parent.eventSettings.allowDeleting||n,o=i.querySelector("."+p.Gnx),l="e-flat e-round e-small";o&&this.renderButton(l,p.kb2+" "+p.oJ2,a,o,this.editClick);var h=i.querySelector("."+p.V29);h&&this.renderButton(l,p.kb2+" "+p.Fye,s,h,this.deleteClick);var c=i.querySelector("."+p.GwS);c&&this.renderButton(l,p.kb2+" "+p.mDq,!1,c,this.popupClose);var u=i.querySelector("."+p.RAS);u&&this.renderButton("e-flat e-primary","",a,u,this.editClick);var d=i.querySelector("."+p.oMZ);d&&this.renderButton("e-flat","",s,d,this.deleteClick),this.morePopup&&!(0,r.kp)(e.element,"."+p.sJc)&&this.morePopup.hide(),this.quickPopup.content=i,this.quickPopup.relateTo=this.parent.isAdaptive?document.body:(0,r.kp)(e.element,"."+p.Dj),this.quickPopup.dataBind(),this.beforeQuickPopupOpen(e.element)}},e.prototype.getPopupHeader=function(e,t){var i=(0,r.n)("div",{className:p.k5l});if(this.isQuickTemplate(e)&&this.parent.quickInfoTemplates.header){var n=(0,r.X$)({},t,{elementType:e.toLowerCase()},!0),a=this.parent.element.id,s=[].slice.call(this.parent.getQuickInfoTemplatesHeader()(n,this.parent,"header",a+"_headerTemplate",!1));(0,r.BC)([].slice.call(s),i)}else{var o=void 0,l=void 0;switch(e){case"Cell":o='<div class="'+p.xuc+'"><button class="'+p.GwS+'" title="'+this.l10n.getConstant("close")+'"></button></div>';break;case"Event":l=this.getFormattedString(t),o='<div class="'+p.xuc+'"><button class="'+p.Gnx+" "+p.kb2+'" title="'+this.l10n.getConstant("edit")+'"></button><button class="'+p.V29+" "+p.kb2+'" title="'+this.l10n.getConstant("delete")+'"></button><button class="'+p.GwS+'" title="'+this.l10n.getConstant("close")+'"></button></div><div class="'+p.MXb+'"><div class="'+p.YrY+" "+p.wJh+'" title="'+l.eventSubject+'">'+l.eventSubject+"</div></div >"}var h=(0,r.n)("div",{innerHTML:o});(0,r.BC)([].slice.call(h.childNodes),i)}return i},e.prototype.getPopupContent=function(e,t,i){var n=(0,r.n)("div",{className:p.uAl});if(this.isQuickTemplate(e)&&this.parent.quickInfoTemplates.content){var a=(0,r.X$)({},i,{elementType:e.toLowerCase()},!0),s=this.parent.element.id,o=[].slice.call(this.parent.getQuickInfoTemplatesContent()(a,this.parent,"content",s+"_contentTemplate",!1));(0,r.BC)([].slice.call(o),n)}else{var l=void 0,h=void 0,c=void 0,u=this.getResourceText(t,e.toLowerCase());switch(e){case"Cell":h=this.getFormattedString(i),l='<table class="'+p.pE8+'"><tbody><tr><td><form class="'+p.Y9+'" onsubmit="return false;"><input class="'+p.YrY+' e-field" type="text" name="'+this.parent.eventFields.subject+'" /></form></td></tr><tr><td><div class="'+p.e4R+'"><div class="'+p.IeU+" "+p.kb2+'"></div><div class="'+p.hMo+" "+p.wJh+'">'+h.details+"</div></div>"+(this.parent.activeViewOptions.group.resources.length>0?'<div class="'+p._Hs+'"><div class="'+p.mW6+" "+p.kb2+' "></div><div class="'+p.B5y+" "+p.wJh+'">'+u+"</div></div>":"")+"</td></tr></tbody></table>";break;case"Event":c=this.getFormattedString(i),l='<div class="'+p.e4R+'"><div class="'+p.IeU+" "+p.kb2+'"></div><div class="'+p.aqp+" "+p.wJh+'"><div class="'+p.hMo+" "+p.wJh+'">'+c.details+"</div>",i[this.parent.eventFields.recurrenceRule]&&(l+='<div class="'+p.H6x+" "+p.wJh+'">'+this.getRecurrenceSummary(i)+"</div>"),l+="</div></div>",i[this.parent.eventFields.location]&&(l+='<div class="'+p.$lw+'"><div class="'+p.l8c+" "+p.kb2+'"></div><div class="'+p.OMr+" "+p.wJh+'">'+i[this.parent.eventFields.location]+"</div></div>"),(i[this.parent.eventFields.startTimezone]||i[this.parent.eventFields.endTimezone])&&(l+='<div class="'+p.ETh+'"><div class="'+p.EEF+" "+p.kb2+'"></div><div class="'+p.RKM+" "+p.wJh+'">'+this.getTimezone(i)+"</div></div>"),i[this.parent.eventFields.description]&&(l+='<div class="'+p.a5Q+'"><div class="'+p.yic+" "+p.kb2+'"></div><div class="'+p.ZZU+" "+p.wJh+'">'+i[this.parent.eventFields.description]+"</div></div>"),this.parent.resourceCollection.length>0&&(l+='<div class="'+p._Hs+'"><div class="'+p.mW6+" "+p.kb2+'"></div><div class="'+p.B5y+" "+p.wJh+'">'+u+"</div></div>")}var d=(0,r.n)("div",{innerHTML:l});(0,r.BC)([].slice.call(d.childNodes),n)}return n},e.prototype.getPopupFooter=function(e,t){var i=(0,r.n)("div",{className:p.yzg});if(this.isQuickTemplate(e)&&this.parent.quickInfoTemplates.footer){var n=(0,r.X$)({},t,{elementType:e.toLowerCase()},!0),a=this.parent.element.id,s=[].slice.call(this.parent.getQuickInfoTemplatesFooter()(n,this.parent,"footer",a+"_footerTemplate",!1));(0,r.BC)([].slice.call(s),i)}else{var o=void 0;switch(e){case"Cell":o='<button class="'+p.W2Y+" "+p.wJh+'" title="'+this.l10n.getConstant("moreDetails")+'">'+this.l10n.getConstant("moreDetails")+'</button><button class="'+p.bqp+" "+p.wJh+'" title="'+this.l10n.getConstant("save")+'">'+this.l10n.getConstant("save")+"</button>";break;case"Event":o=this.parent.isAdaptive?"":'<button class="'+p.RAS+" "+p.wJh+'" title="'+this.l10n.getConstant("edit")+'">'+this.l10n.getConstant("edit")+'</button><button class="'+p.oMZ+" "+p.wJh+'" title="'+this.l10n.getConstant("delete")+'">'+this.l10n.getConstant("delete")+"</button>"}var l=(0,r.n)("div",{innerHTML:o});(0,r.BC)([].slice.call(l.childNodes),i)}return i},e.prototype.getResourceText=function(e,t){if(0===this.parent.resourceCollection.length)return null;var i="";if(0===this.parent.activeViewOptions.group.resources.length){var n=this.parent.resourceBase.resourceCollection.slice(-1)[0],a=n.dataSource;if("event"===t)for(var s=e.event,o=function(e){var t=s[n.field];if(t instanceof Array){if(t.indexOf(e[n.idField])>-1){var r=t[t.indexOf(e[n.idField])],o=a.filter((function(e){return e[n.idField]===r}))[0];i+=""===i?o[n.textField]:", "+o[n.textField]}}else e[n.idField]===t&&(i=e[n.textField].toString())},l=0,h=a;l<h.length;l++){o(h[l])}else i=a[0][n.textField].toString()}else if("event"===t){s=e.event,a=void 0;for(var p,u=this.parent.resourceBase.resourceCollection.length-1;u>=0;u--)if(a=s[this.parent.resourceBase.resourceCollection[u].field],!(0,r.hX)(a)){p=this.parent.resourceBase.resourceCollection[u];break}Array.isArray(a)||(a=[a]);var d=[],v=p.dataSource;a.forEach((function(e){var t,i=c.J(v,p.idField,e);i>-1&&(t=v[i][p.textField]),t&&d.push(t)})),i=d.join(", ")}else{var m=e,g=(0,r.hX)(m.groupIndex)?0:m.groupIndex,f=this.parent.resourceBase.lastResourceLevel[g];i=f.resourceData[f.resource.textField]}return i},e.prototype.getFormattedString=function(e){var t=this.parent.eventFields,i=e[t.subject]||this.l10n.getConstant("noTitle"),n=e[t.startTime],r=e[t.endTime],a=this.getDateFormat(n,"long"),s=e[t.isAllDay]&&0===r.getHours()&&0===r.getMinutes()?this.getDateFormat(c.fi(new Date(r.getTime()),-1),"long"):this.getDateFormat(r,"long"),o=this.parent.getTimeString(n),l=this.parent.getTimeString(r),h="",p=r.getDate()!==n.getDate()&&(r.getTime()-n.getTime())/36e5<24?1:0;return e[t.isAllDay]?(h=a+" ("+this.l10n.getConstant("allDay")+")",(r.getTime()-n.getTime())/c.ec>1&&(h+="&nbsp;-&nbsp;"+s+" ("+this.l10n.getConstant("allDay")+")")):h=(r.getTime()-n.getTime())/c.ec>=1||p>0?a+" ("+o+")&nbsp;-&nbsp;"+s+" ("+l+")":a+" ("+o+"&nbsp;-&nbsp;"+l+")",{eventSubject:i,details:h}},e.prototype.moreEventClick=function(e,t,i){var n=this;this.quickPopupHide(!0);var a=this.morePopup.element.querySelector("."+p.EUL);a&&(0,r.TF)(a);var s=e.date.getTime().toString(),o=(0,r.kp)(e.element,"."+p.pSF+",."+p.fv4),l=this.parent.globalize.formatDate(e.date,{format:"E",calendar:this.parent.getCalendarMode()});this.morePopup.element.querySelector("."+p.lbr).innerHTML=c.nw(l,"single");var u,d=this.morePopup.element.querySelector("."+p.Z8R);d.innerHTML=this.getDateFormat(e.date,"d"),d.setAttribute("data-date",s),d.setAttribute("data-end-date",t.getTime().toString()),(0,r.hX)(i)||(d.setAttribute("data-group-index",i),u=this.parent.resourceBase.lastResourceLevel[parseInt(i,10)].groupOrder);var v=this.createMoreEventList(e.event,u,i);if(this.morePopup.element.querySelector("."+p.$vc).appendChild(v),(0,r.vy)(this.morePopup.element.querySelector("."+p.Z5b).childNodes,p.b10),c.JC(e.date).getTime()===c.JC(this.parent.getCurrentTime()).getTime()&&(0,r.iQ)(this.morePopup.element.querySelector("."+p.Z5b).childNodes,p.b10),!this.parent.isAdaptive)if(-1!==this.parent.currentView.indexOf("Timeline")){var m=o.getAttribute("data-group-index"),g=new Date(parseInt(o.getAttribute("data-start-date"),10));g.setHours(g.getHours(),g.getMinutes(),0);var f=g.getTime().toString();if((0,r.hX)(m))this.morePopup.relateTo=this.parent.element.querySelector("."+p._oL+' tbody tr td[data-date="'+f+'"]');else if(this.morePopup.relateTo=this.parent.element.querySelector("."+p._oL+' tbody tr td[data-group-index="'+m+'"][data-date="'+f+'"]'),(0,r.hX)(this.morePopup.relateTo))for(var y=[].slice.call(this.parent.element.querySelectorAll("."+p._oL+' tbody tr td[data-group-index="'+m+'"]')),T=0;T<y.length;T++){y[T].getAttribute("data-date")<f&&(this.morePopup.relateTo=y[T])}}else this.morePopup.relateTo=(0,r.kp)(o,"."+p.fv4);this.parent.renderTemplates();var w={type:"EventContainer",cancel:!1,element:this.morePopup.element,data:e};this.parent.trigger(h.LD,w,(function(e){e.cancel||n.morePopup.show()}))},e.prototype.saveClick=function(e){this.applyFormValidation(),this.dialogEvent=e,this.isCrudAction=!0,this.quickPopupHide()},e.prototype.detailsClick=function(e){var t=this.quickPopup.element.querySelector("."+p.YrY);t&&""!==t.value&&(0,r.X$)(this.parent.activeCellsData,{subject:t.value}),this.dialogEvent=e,this.isCrudAction=!1,this.fieldValidator.destroyToolTip(),this.quickPopupHide(),this.parent.eventWindow.openEditor(this.parent.activeCellsData,"Add")},e.prototype.editClick=function(e){this.dialogEvent=e,this.quickPopupHide(!0);var t=this.parent.activeEventData.event;this.parent.currentAction="EditSeries",(0,r.hX)(t[this.parent.eventFields.recurrenceRule])?this.parent.eventWindow.openEditor(t,this.parent.currentAction):(this.parent.currentAction="EditOccurrence",this.openRecurrenceAlert())},e.prototype.deleteClick=function(e){this.dialogEvent=e,this.quickPopupHide(!0),this.parent.currentAction="Delete",this.parent.activeEventData.event[this.parent.eventFields.recurrenceRule]?this.openRecurrenceAlert():this.openDeleteAlert()},e.prototype.updateMoreEventContent=function(){if(!this.morePopup.element.classList.contains("e-popup-close")){var e=this.morePopup.element.querySelector("."+p.EUL);e&&(0,r.TF)(e);var t,i,n=this.morePopup.element.querySelector("."+p.Z8R),a=new Date(parseInt(n.getAttribute("data-date"),10)),s=new Date(parseInt(n.getAttribute("data-end-date"),10)),o=n.getAttribute("data-group-index");(0,r.hX)(o)||(i=(t=this.parent.resourceBase.lastResourceLevel[parseInt(o,10)]).groupOrder);var l=this.parent.eventBase.filterEvents(a,s,this.parent.eventsProcessed,t),h=this.createMoreEventList(l,i,o);this.morePopup.element.querySelector("."+p.$vc).appendChild(h)}},e.prototype.closeClick=function(e){this.dialogEvent=e,"Year"===this.parent.currentView&&this.parent.activeCellsData&&this.parent.activeCellsData.element&&this.parent.selectCell(this.parent.activeCellsData.element),this.quickPopupHide(),this.morePopup.hide()},e.prototype.dialogButtonClick=function(e){this.dialogEvent=e,this.quickDialog.hide();var t=e.target,i=this.quickDialog.element.querySelector("."+p.BJF),n=this.parent.activeEventData.event;if(t.classList.contains(p.UZT))switch(this.parent.currentAction="Delete"===this.parent.currentAction?"DeleteOccurrence":"EditOccurrence",this.parent.currentAction){case"EditOccurrence":this.parent.eventWindow.openEditor(n,this.parent.currentAction);break;case"DeleteOccurrence":this.parent.crudModule.deleteEvent(n,this.parent.currentAction)}else if(t.classList.contains(p.gzP))switch(this.parent.currentAction="Delete"===this.parent.currentAction?"DeleteFollowingEvents":"EditFollowingEvents",this.parent.currentAction){case"EditFollowingEvents":this.parent.eventWindow.openEditor(n,this.parent.currentAction);break;case"DeleteFollowingEvents":this.parent.crudModule.deleteEvent(n,this.parent.currentAction)}else if(t.classList.contains(p.kDM))switch(this.parent.currentAction="Delete"===this.parent.currentAction?"DeleteSeries":"EditSeries",this.parent.currentAction){case"EditSeries":this.parent.eventWindow.openEditor(this.parent.eventBase.getParentEvent(n,!0),this.parent.currentAction);break;case"DeleteSeries":this.parent.crudModule.deleteEvent(n,this.parent.currentAction)}else t.classList.contains(p.OHH)?this.parent.crudModule.deleteEvent(n,this.parent.currentAction):!i.classList.contains(p.AV8)&&(t.classList.contains(p.Hu7)||t.classList.contains(p.BJF)&&!i.classList.contains(p.Jrb))&&(this.parent.uiStateValues.isIgnoreOccurrence=t.classList.contains(p.BJF),this.parent.eventWindow.eventSave(e,this.l10n.getConstant("ok")))},e.prototype.updateTapHoldEventPopup=function(e){var t=this.parent.eventBase.getSelectedEventElements(e);if(this.parent.activeEventData=this.parent.eventBase.getSelectedEvents(),t.length>0){var i=this.parent.eventBase.getEventByGuid(t[0].getAttribute("data-guid")),n=1===t.length?i[this.parent.eventFields.subject]||this.l10n.getConstant("noTitle"):"("+t.length+")&nbsp;"+this.l10n.getConstant("selectedItems");this.quickPopup.element.querySelector("."+p.YrY).innerHTML=n,t.length>1?(0,r.iQ)([this.quickPopup.element.querySelector("."+p.oJ2)],p.Y2Y):(0,r.vy)([this.quickPopup.element.querySelector("."+p.oJ2)],p.Y2Y)}else this.parent.selectedElements=[],this.quickPopupHide()},e.prototype.getTimezone=function(e){var t="";return t+=e[this.parent.eventFields.startTimezone]||"",t+=""===t?"":" - ",t+=e[this.parent.eventFields.endTimezone]||""},e.prototype.getRecurrenceSummary=function(e){var t=this.parent.eventWindow.getRecurrenceEditorInstance();if(t){var i=t.getRuleSummary(e[this.parent.eventFields.recurrenceRule]);return i.charAt(0).toUpperCase()+i.slice(1)}return""},e.prototype.getDateFormat=function(e,t){return c.nw(this.parent.globalize.formatDate(e,{skeleton:t,calendar:this.parent.getCalendarMode()}),"single")},e.prototype.getDataFromTarget=function(e){if(e.classList.contains(p.Dj))return this.parent.activeEventData.event;var t={startTime:this.parent.activeCellsData.startTime,endTime:this.parent.activeCellsData.endTime,isAllDay:this.parent.activeCellsData.isAllDay,groupIndex:this.parent.activeCellsData.groupIndex},i=this.parent.activeCellsData;return this.parent.eventWindow.convertToEventData(i,t),t},e.prototype.beforeQuickDialogClose=function(e){var t=this,i={event:e.event||this.dialogEvent,type:(0,r.hX)(this.parent.activeEventData.event)?"ValidationAlert":(0,r.hX)(this.parent.activeEventData.event[this.parent.eventFields.recurrenceRule])?"DeleteAlert":"RecurrenceAlert",cancel:!1,data:this.parent.activeEventData.event,element:this.quickDialog.element};this.parent.trigger(h.Rb,i,(function(e){e.cancel||t.parent.eventBase.focusElement(!0)}))},e.prototype.beforeQuickPopupOpen=function(e){var t=this;this.parent.renderTemplates();var i=this.quickPopup.element.querySelector("."+p.$Hi),n=this.parent.isAdaptive?i?"ViewEventInfo":"EditEventInfo":"QuickInfo",a={type:n,cancel:!1,data:(0,r.X$)({},this.getDataFromTarget(e),null,!0),target:e,element:this.quickPopup.element};this.parent.trigger(h.LD,a,(function(a){if(a.cancel)t.quickPopupHide(),t.destroyPopupButtons("quickPopup"),a.element.classList.contains(p.g6H)&&t.quickPopupClose(),c.gS(t.quickPopup.element),t.isMultipleEventSelect=!1;else{var s=t.quickPopup.element.style.display;if(t.quickPopup.element.style.display="block",t.parent.isAdaptive)t.quickPopup.element.removeAttribute("style"),t.quickPopup.element.style.display="block",t.quickPopup.element.style.height=(0,r.IV)("EditEventInfo"===n?65:window.innerHeight);else{t.quickPopup.offsetX=10,t.quickPopup.collision={X:t.parent.enableRtl?"flip":"none",Y:"fit"},t.quickPopup.position={X:t.parent.enableRtl?"left":"right",Y:t.parent.enableRtl?"bottom":"top"},t.quickPopup.dataBind(),t.quickPopup.refreshPosition(null,!0);var o=(0,A.D$)(t.quickPopup.element,t.parent.element);if(o.indexOf(t.parent.enableRtl?"left":"right")>-1)t.quickPopup.offsetX=-e.offsetWidth-10-t.quickPopup.element.offsetWidth,t.quickPopup.dataBind(),(0,A.D$)(t.quickPopup.element,t.parent.element).indexOf("left")>-1&&(t.quickPopup.position={X:"center",Y:"center"},t.quickPopup.collision={X:"fit",Y:"fit"},t.quickPopup.offsetX=-t.quickPopup.element.offsetWidth/2,t.quickPopup.dataBind());if(t.parent.virtualScrollModule&&(o.indexOf("top")>-1||o.indexOf("bottom")>-1)){var l=t.parent.element.querySelector("."+p._oL+" table"),h=c.oq(l);t.quickPopup.offsetY=h,t.quickPopup.dataBind()}}i&&t.applyEventColor(),t.quickPopup.element.style.display=s,t.quickPopup.dataBind(),t.quickPopup.show()}}))},e.prototype.applyEventColor=function(){var e="";e="Agenda"===this.parent.currentView||"MonthAgenda"===this.parent.currentView?this.parent.enableRtl?"border-right-color":"border-left-color":"background-color";var t=this.parent.activeEventData.element.style[e];if(""!==t){var i=this.quickPopup.element.querySelector("."+p.k5l),n=this.quickPopup.element.querySelector("."+p.yzg);n&&n.offsetParent&&(i=this.quickPopup.element.querySelector("."+p.YrY))&&(i.style.borderLeftColor=t,t="rgba("+t.match(/\d+/g).join()+",0.3)"),i&&(i.style.backgroundColor=t)}},e.prototype.quickPopupOpen=function(){if(this.parent.isAdaptive)this.quickPopup.element.style.top="0px";else if(this.quickPopup.element.querySelector("."+p.v8m)){var e=this.quickPopup.element.querySelector("."+p.YrY);e&&e.focus()}else{var t=this.quickPopup.element.querySelector("."+p.RAS);t&&t.focus();var i=this.quickPopup.element.querySelector("."+p.Gnx);i&&i.focus()}},e.prototype.quickPopupClose=function(){this.parent.eventBase.focusElement(),this.quickPopup.relateTo=p.fv4,this.fieldValidator.destroyToolTip(),this.quickPopup.element.querySelectorAll(".e-formvalidator").length&&this.fieldValidator.destroy(),this.destroyPopupButtons("quickPopup"),c.gS(this.quickPopup.element)},e.prototype.morePopupOpen=function(){if(this.parent.isAdaptive)return this.morePopup.element.style.top="0px",this.morePopup.element.style.left="0px",void(this.morePopup.element.style.height=(0,r.IV)(window.innerHeight));this.morePopup.element.querySelector("."+p.Z8R).focus(),this.morePopup.refreshPosition()},e.prototype.morePopupClose=function(){var e=this.parent.element.querySelector("."+p.sJc);e&&(0,r.TF)(e)},e.prototype.popupClose=function(e){this.dialogEvent=e,this.isCrudAction=!1,this.quickPopupHide(!0)},e.prototype.quickPopupHide=function(e){var t=this;if(this.quickPopup.element.classList.contains(p.g6H)){var i,n=this.quickPopup.element.querySelector("."+p.v8m);if(n){var r=this.quickPopup.element.querySelector(".e-formvalidator");if(this.isCrudAction&&r&&!r.ej2_instances[0].validate())return;var a=this.parent.eventFields,s=this.parent.eventWindow.getObjectFromFormData(p.Kp7);this.parent.eventWindow.setDefaultValueToObject(s),s[a.id]=this.parent.eventBase.getEventMaxID(),s[a.startTime]=this.parent.activeCellsData.startTime,s[a.endTime]=this.parent.activeCellsData.endTime,s[a.isAllDay]=this.parent.activeCellsData.isAllDay,this.parent.resourceBase&&this.parent.resourceBase.setResourceValues(s),i=s}else i=this.parent.activeEventData.event;var o=this.quickPopup.element.querySelector("."+p.$Hi),l={event:this.dialogEvent,type:this.parent.isAdaptive?o?"ViewEventInfo":"EditEventInfo":"QuickInfo",cancel:!1,data:i,element:this.quickPopup.element,target:n?this.parent.activeCellsData.element:this.parent.activeEventData.element};this.parent.trigger(h.Rb,l,(function(i){if(!i.cancel&&t.quickPopup.element.classList.contains("e-popup-open")){if(n&&t.isCrudAction&&(t.parent.currentAction="Add",t.parent.crudModule.addEvent(i.data)),e){var r=t.quickPopup.hideAnimation;t.quickPopup.hideAnimation=null,t.quickPopup.hide(),t.quickPopup.hideAnimation=r}else t.quickPopup.hide();t.isMultipleEventSelect=!1,t.isCrudAction=!1}}))}},e.prototype.navigationClick=function(e){var t=(0,r.kp)(e.target,"."+p.NG$);if(!(0,r.hX)(t)){var i=this.parent.getDateFromElement(e.currentTarget);(0,r.hX)(i)||(this.closeClick(e),this.parent.setProperties({selectedDate:i},!0),this.parent.changeView(this.parent.getNavigateView(),e))}},e.prototype.documentClick=function(e){var t=e.event.target,i="."+p.Kp7+",."+p.Zas+",."+p.tTW+",."+p.fv4+",."+p.Dj+",.e-popup",n=this.parent.element.querySelector("."+p.Kp7);(n&&n.childElementCount>0&&!(0,r.kp)(t,i)||!(0,r.kp)(t,i))&&(this.quickPopupHide(),this.parent.removeNewEventElement());var a=this.parent.element.querySelector("."+p.Uvf);a&&a!==t&&this.parent.allowInline&&this.parent.inlineModule.documentClick(),(0,r.kp)(t,"."+p.Dj+",."+p.Zas)&&this.parent.removeNewEventElement(),(0,r.kp)(t,"."+p.KRw)||!t.classList||t.classList.contains(p.pSF)||(0,r.kp)(t,"."+p.g6H)||(0,r.kp)(t,"."+p.fv4)||this.morePopup.hide()},e.prototype.onClosePopup=function(e){(0,r.hX)(e)||(this.dialogEvent=e),this.quickPopupHide(),this.parent.eventBase.focusElement()},e.prototype.addEventListener=function(){this.parent.on(h.jo,this.cellClick,this),this.parent.on(h.JW,this.eventClick,this),this.parent.on(h.GU,this.documentClick,this),this.parent.on(h.yU,this.updateMoreEventContent,this)},e.prototype.removeEventListener=function(){this.parent.off(h.jo,this.cellClick),this.parent.off(h.JW,this.eventClick),this.parent.off(h.GU,this.documentClick),this.parent.off(h.yU,this.updateMoreEventContent)},e.prototype.destroyPopupButtons=function(e){for(var t="quickPopup"===e?this.quickPopup:this.morePopup,i=0,n=[].slice.call(t.element.querySelectorAll(".e-control.e-btn"));i<n.length;i++){var r=n[i].ej2_instances[0];r&&r.destroy()}},e.prototype.refreshQuickDialog=function(){this.destroyQuickDialog(),this.renderQuickDialog()},e.prototype.refreshQuickPopup=function(){this.destroyQuickPopup(),this.renderQuickPopup()},e.prototype.refreshMorePopup=function(){this.destroyMorePopup(),this.renderMorePopup()},e.prototype.destroyQuickDialog=function(){this.quickDialog.element&&(this.quickDialog.destroy(),(0,r.TF)(this.quickDialog.element),this.quickDialog=null)},e.prototype.destroyQuickPopup=function(){this.quickPopup.element&&(this.destroyPopupButtons("quickPopup"),this.quickPopup.destroy(),(0,r.TF)(this.quickPopup.element),this.quickPopup=null)},e.prototype.destroyMorePopup=function(){this.morePopup.element&&(this.destroyPopupButtons("morePopup"),this.morePopup.destroy(),(0,r.TF)(this.morePopup.element),this.morePopup=null)},e.prototype.destroy=function(){this.quickPopup.element.querySelectorAll(".e-formvalidator").length&&this.fieldValidator.destroy(),this.removeEventListener(),this.destroyQuickPopup(),this.destroyMorePopup(),this.destroyQuickDialog(),this.parent=null,this.l10n=null,this.isCrudAction=null,this.fieldValidator=null,this.isMultipleEventSelect=null},e}(),M=i(8147),R=function(){function e(e){this.parent=e,this.tooltipObj=new M.m({animation:{close:{effect:"FadeOut"}},content:"No title",position:"BottomRight",offsetY:10,mouseTrail:!this.parent.isAdaptive,showTipPointer:!1,cssClass:this.parent.cssClass+" "+p.TYB,target:this.getTargets(),beforeRender:this.onBeforeRender.bind(this),beforeClose:this.onBeforeClose.bind(this),enableRtl:this.parent.enableRtl}),this.tooltipObj.appendTo(this.parent.element)}return e.prototype.getTargets=function(){var e=[];return this.parent.activeViewOptions.group.headerTooltipTemplate&&e.push("."+p.yWy),this.parent.eventSettings.enableTooltip&&e.push("."+p.Dj),e.join(",")},e.prototype.onBeforeRender=function(e){if((0,r.hX)(e.target.getAttribute("data-tooltip-id"))){if(e.target.classList.contains(p.yWy)&&this.parent.activeViewOptions.group.resources.length>0){var t=void 0;if(this.parent.activeView.isTimelineView()){var i=parseInt(e.target.getAttribute("data-group-index"),10);t=this.parent.resourceBase.lastResourceLevel[i]}else{var n=e.target.parentNode.sectionRowIndex,a=e.target.cellIndex;t=this.parent.activeView.getColumnLevels()[n][a]}var s={resource:t.resource,resourceData:t.resourceData},o=(0,r.n)("div"),l=this.parent.element.id+"_headerTooltipTemplate",h=[].slice.call(this.parent.getHeaderTooltipTemplate()(s,this.parent,"headerTooltipTemplate",l,!1));return(0,r.BC)(h,o),this.setContent(o),void this.parent.renderTemplates()}var u=this.parent.eventBase.getEventByGuid(e.target.getAttribute("data-guid"));if(!(0,r.hX)(u)){if((0,r.hX)(this.parent.eventSettings.tooltipTemplate)){var d=this.parent.globalize,v=this.parent.eventFields,m=new Date(""+u[v.startTime]),g=new Date(""+u[v.endTime]);g=0===g.getHours()&&0===g.getMinutes()?new Date(g.setMilliseconds(-1e3)):g;var f=c.JC(new Date(""+m)),y=c.JC(new Date(""+g)),T=u[v.subject]||this.parent.eventSettings.fields.subject.default||this.parent.localeObj.getConstant("addTitle"),w=(0,r.hX)(u[v.location])?"":u[v.location],D="",b="",C="";D=d.formatDate(m,{type:"date",skeleton:"MMMd",calendar:this.parent.getCalendarMode()}),b=d.formatDate(m,{type:"date",skeleton:"medium",calendar:this.parent.getCalendarMode()}),C=d.formatDate(g,{type:"date",skeleton:"medium",calendar:this.parent.getCalendarMode()}),D=c.nw(D,"single"),b=c.nw(b,"single"),C=c.nw(C,"single");var S="short",A=d.formatDate(m,{type:"time",skeleton:S,calendar:this.parent.getCalendarMode()}),E=d.formatDate(g,{type:"time",skeleton:S,calendar:this.parent.getCalendarMode()}),O=void 0;f.getTime()===y.getTime()?(O=d.formatDate(m,{type:"date",skeleton:"long",calendar:this.parent.getCalendarMode()}),O=c.nw(O,"single")):O=f.getFullYear()===y.getFullYear()?D+" - "+C:b+" - "+C;var x='<div><div class="e-subject">'+T+'</div><div class="e-location">'+w+'</div><div class="e-details">'+O+'</div><div class="e-all-day">'+(u[v.isAllDay]?this.parent.localeObj.getConstant("allDay"):A+" - "+E)+"</div></div>";this.setContent(x)}else{o=(0,r.n)("div"),l=this.parent.element.id+"_tooltipTemplate",h=[].slice.call(this.parent.getEventTooltipTemplate()(u,this.parent,"tooltipTemplate",l,!1));(0,r.BC)(h,o),this.setContent(o)}this.parent.renderTemplates()}}},e.prototype.onBeforeClose=function(){this.parent.resetTemplates(["tooltipTemplate","headerTooltipTemplate"])},e.prototype.setContent=function(e){this.tooltipObj.setProperties({content:e},!0)},e.prototype.close=function(){this.tooltipObj.close()},e.prototype.destroy=function(){this.tooltipObj.destroy(),(0,r.iQ)([this.parent.element],"e-control"),this.tooltipObj=null,this.parent=null},e}(),I=i(6257),P=i(268),L=i(6144),j="e-float-line",H="e-float-text",F="e-label-top",B="e-label-bottom";function q(e,t,i,n,a,s,o){var l=(0,r.n)("span",{className:j}),h=(0,r.n)("label",{className:H});(0,r.hX)(i.id)||""===i.id||(h.id="label_"+i.id.replace(/ /g,"_"),(0,r.uK)(i,{"aria-labelledby":h.id})),(0,r.hX)(n.placeholder)||""===n.placeholder||(h.innerText=X(n.placeholder),n.removeAttribute("placeholder")),h.innerText=X(o),t.appendChild(l),t.appendChild(h),e.classList.add("e-float-input"),function(e,t){e&&e.length>0?((0,r.iQ)([t],F),(0,r.vy)([t],B)):((0,r.vy)([t],F),(0,r.iQ)([t],B))}(a,h),"Always"===s&&(h.classList.contains(B)&&(0,r.vy)([h],B),(0,r.iQ)([h],F))}function W(e,t,i){e&&e.length?t.placeholder="":t.placeholder=i}function X(e){var t="";if(!(0,r.hX)(e)&&""!==e){var i=document.createElement("span");i.innerHTML='<input  placeholder="'+e+'"/>',t=i.children[0].placeholder}return t}var N=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),U=function(e,t,i,n){var r,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(a<3?r(s):a>3?r(t,i,s):r(t,i))||s);return a>3&&s&&Object.defineProperty(t,i,s),s},z="e-input-focus",Y="e-disabled",_="e-hide-listitem",J="e-chips",Q="e-chips-close",G="e-chip-selected",K="e-delimiter",$="e-zero-size",Z="e-chips-close e-close-hooker",ee="e-delim-values",te="e-rtl",ie="e-close-icon-hide",ne="e-ddl-disable-icon",re="e-ms-spinner-icon",ae="e-input-group-icon e-ddl-icon",se="e-icon-anim",oe="e-delim-total",le="e-search-custom-width",he="e-input-filter",ce=function(e){function t(t,i){var n=e.call(this,t,i)||this;return n.clearIconWidth=0,n.isValidKey=!1,n.selectAllEventData=[],n.selectAllEventEle=[],n.scrollFocusStatus=!1,n.keyDownStatus=!1,n}return N(t,e),t.prototype.enableRTL=function(e){e?this.overAllWrapper.classList.add(te):this.overAllWrapper.classList.remove(te),this.popupObj&&(this.popupObj.enableRtl=e,this.popupObj.dataBind())},t.prototype.requiredModules=function(){var e=[];if("CheckBox"===this.mode){if(this.isGroupChecking=this.enableGroupCheckBox,this.enableGroupCheckBox){var t=this.isProtectedOnChange;this.isProtectedOnChange=!0,this.enableSelectionOrder=!1,this.isProtectedOnChange=t}this.allowCustomValue=!1,this.hideSelectedItem=!1,this.closePopupOnSelect=!1,e.push({member:"CheckBoxSelection",args:[this]})}return e},t.prototype.updateHTMLAttribute=function(){if(Object.keys(this.htmlAttributes).length)for(var e=0,t=Object.keys(this.htmlAttributes);e<t.length;e++){var i=t[e];switch(i){case"class":var n=this.htmlAttributes[i].replace(/\s+/g," ").trim();""!==n&&((0,r.iQ)([this.overAllWrapper],n.split(" ")),(0,r.iQ)([this.popupWrapper],n.split(" ")));break;case"disabled":this.enable(!1);break;case"placeholder":this.placeholder||(this.inputElement.setAttribute(i,this.htmlAttributes[i]),this.setProperties({placeholder:this.inputElement.placeholder},!0),this.refreshPlaceHolder());break;default:["id"].indexOf(i)>-1?this.element.setAttribute(i,this.htmlAttributes[i]):0===i.indexOf("data")||["name","required","aria-required","form"].indexOf(i)>-1?this.hiddenElement.setAttribute(i,this.htmlAttributes[i]):["title","role","style","class"].indexOf(i)>-1?this.overAllWrapper.setAttribute(i,this.htmlAttributes[i]):this.inputElement.setAttribute(i,this.htmlAttributes[i])}}},t.prototype.updateReadonly=function(e){e||"CheckBox"===this.mode?this.inputElement.setAttribute("readonly","true"):this.inputElement.removeAttribute("readonly")},t.prototype.updateClearButton=function(e){e?(this.overAllClear.parentNode?this.overAllClear.style.display="":this.componentWrapper.appendChild(this.overAllClear),this.componentWrapper.classList.remove(ie)):(this.overAllClear.style.display="none",this.componentWrapper.classList.add(ie))},t.prototype.updateCssClass=function(){if(!(0,r.hX)(this.cssClass)&&""!==this.cssClass){var e=this.cssClass;""!==(e=this.cssClass.replace(/\s+/g," ").trim())&&((0,r.iQ)([this.overAllWrapper],e.split(" ")),(0,r.iQ)([this.popupWrapper],e.split(" ")))}},t.prototype.updateOldPropCssClass=function(e){(0,r.hX)(e)||""===e||""!==(e=e.replace(/\s+/g," ").trim())&&((0,r.vy)([this.overAllWrapper],e.split(" ")),(0,r.vy)([this.popupWrapper],e.split(" ")))},t.prototype.onPopupShown=function(){var e=this;if(r.Pw.isDevice&&"CheckBox"===this.mode&&this.allowFiltering){var t=this;window.onpopstate=function(){t.hidePopup(),t.inputElement.focus()},history.pushState({},"")}var i={popup:this.popupObj,cancel:!1,animation:{name:"FadeIn",duration:100}};this.trigger("open",i,(function(t){t.cancel||(e.focusAtFirstListItem(),document.body.appendChild(e.popupObj.element),"CheckBox"===e.mode&&e.enableGroupCheckBox&&!(0,r.hX)(e.fields.groupBy)&&e.updateListItems(e.list.querySelectorAll("li.e-list-item"),e.mainList.querySelectorAll("li.e-list-item")),("CheckBox"===e.mode||e.showDropDownIcon)&&(0,r.iQ)([e.overAllWrapper],[se]),e.refreshPopup(),e.renderReactTemplates(),e.popupObj.show(t.animation,1e3===e.zIndex?e.element:null),(0,r.uK)(e.inputElement,{"aria-expanded":"true"}),e.isFirstClick&&e.loadTemplate())}))},t.prototype.updateListItems=function(e,t){for(var i=0;i<e.length;i++)this.findGroupStart(e[i]),this.findGroupStart(t[i]);this.deselectHeader()},t.prototype.loadTemplate=function(){this.refreshListItems(null),"CheckBox"===this.mode&&this.removeFocus(),this.notify("reOrder",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode,e:this})},t.prototype.setScrollPosition=function(){if((!this.hideSelectedItem&&"CheckBox"!==this.mode||"CheckBox"===this.mode&&!this.enableSelectionOrder)&&!(0,r.hX)(this.value)&&this.value.length>0){var e=this.findListElement(this.hideSelectedItem?this.ulElement:this.list,"li","data-value",this.value[this.value.length-1]);(0,r.hX)(e)||this.scrollBottom(e)}},t.prototype.focusAtFirstListItem=function(){if(this.ulElement&&this.ulElement.querySelector("li."+P.fu.li)){var e=void 0;if("CheckBox"===this.mode)return void this.removeFocus();null!==(e=this.ulElement.querySelector("li."+P.fu.li+":not(."+_+")"))&&(this.removeFocus(),this.addListFocus(e))}},t.prototype.focusAtLastListItem=function(e){var t;e?t=(0,L.vj)(e,this.liCollections,"StartsWith",this.ignoreCase):this.value&&this.value.length?(0,L.vj)(this.value[this.value.length-1],this.liCollections,"StartsWith",this.ignoreCase):t=null,t&&null!==t.item&&(this.addListFocus(t.item),this.scrollBottom(t.item,t.index))},t.prototype.getAriaAttributes=function(){return{"aria-disabled":"false","aria-owns":this.element.id+"_options",role:"listbox","aria-multiselectable":"true","aria-activedescendant":"null","aria-haspopup":"true","aria-expanded":"false"}},t.prototype.updateListARIA=function(){(0,r.hX)(this.ulElement)||(0,r.uK)(this.ulElement,{id:this.element.id+"_options",role:"listbox","aria-hidden":"false"});var e=!!this.inputElement.disabled;(0,r.uK)(this.inputElement,this.getAriaAttributes()),e&&(0,r.uK)(this.inputElement,{"aria-disabled":"true"}),this.ensureAriaDisabled(e?"true":"false")},t.prototype.ensureAriaDisabled=function(e){if(this.htmlAttributes&&this.htmlAttributes["aria-disabled"]){var t=this.htmlAttributes;(0,r.X$)(t,{"aria-disabled":e},t),this.setProperties({htmlAttributes:t},!0)}},t.prototype.removelastSelection=function(e){var t=this.chipCollectionWrapper.querySelectorAll("span."+J),i=t[t.length-1].getAttribute("data-value");(0,r.hX)(this.value)||(this.tempValues=this.value.slice());var n=this.getFormattedValue(i);this.allowCustomValue&&("false"!==i&&!1===n||!(0,r.hX)(n)&&"NaN"===n.toString())&&(n=i),this.removeValue(n,e),this.removeChipSelection(),this.updateDelimeter(this.delimiterChar,e),this.makeTextBoxEmpty(),this.mainList&&this.listData&&this.refreshSelection(),this.checkPlaceholderSize()},t.prototype.onActionFailure=function(t){e.prototype.onActionFailure.call(this,t),this.renderPopup(),this.onPopupShown()},t.prototype.targetElement=function(){return this.targetInputElement=this.inputElement,"CheckBox"===this.mode&&this.allowFiltering&&this.notify("targetElement",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode}),this.targetInputElement.value},t.prototype.getForQuery=function(e){for(var t,i=(0,r.hX)(this.fields.value)?this.fields.text:this.fields.value,n=0;n<e.length;n++)t=0===n?new f.m(i,"equal",e[n]):t.or(i,"equal",e[n]);return this.getQuery(this.query).where(t)},t.prototype.onActionComplete=function(t,i,n,a){e.prototype.onActionComplete.call(this,t,i,n),this.updateSelectElementData(this.allowFiltering);if(!(0,r.hX)(this.value)&&!this.allowCustomValue)for(var s=0;s<this.value.length;s++){this.findListElement(this.allowFiltering&&!(0,r.hX)(this.mainList)?this.mainList:t,"li","data-value",this.value[s])||(this.value.splice(s,1),s-=1)}this.updateActionList(t,i,n),this.dataSource instanceof g.M&&"CheckBox"===this.mode&&this.allowFiltering&&this.removeFocus()},t.prototype.updateActionList=function(e,t,i,n){"CheckBox"===this.mode&&this.showSelectAll&&this.notify("selectAll",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode}),this.mainList||this.mainData?((0,r.hX)(this.mainData)||0===this.mainData.length)&&(this.mainData=t):(this.mainList=e.cloneNode?e.cloneNode(!0):e,this.mainData=t,this.mainListCollection=this.liCollections),(this.remoteCustomValue||t.length<=0)&&this.allowCustomValue&&this.inputFocus&&this.allowFiltering&&this.inputElement.value&&""!==this.inputElement.value?this.checkForCustomValue(this.tempQuery,this.fields):(this.value&&this.value.length&&("CheckBox"!==this.mode&&""!==this.inputElement.value.trim()||"CheckBox"===this.mode||(8===this.keyCode||46===this.keyCode)&&this.allowFiltering&&this.allowCustomValue&&this.dataSource instanceof g.M&&""===this.inputElement.value)&&this.refreshSelection(),this.updateListARIA(),this.unwireListEvents(),this.wireListEvents(),(0,r.hX)(this.setInitialValue)||this.setInitialValue(),(0,r.hX)(this.selectAllAction)||this.selectAllAction(),this.setDynValue&&((0,r.hX)(this.text)||!(0,r.hX)(this.value)&&0!==this.value.length||this.initialTextUpdate(),this.initialValueUpdate(),this.initialUpdate(),this.refreshPlaceHolder(),"CheckBox"!==this.mode&&this.changeOnBlur&&this.updateValueState(null,this.value,null)),this.renderPopup(),this.beforePopupOpen&&(this.beforePopupOpen=!1,this.onPopupShown()))},t.prototype.refreshSelection=function(){var e,t,i=this.hideSelectedItem?_:P.fu.selected;if(!(0,r.hX)(this.value))for(var n=0;!(0,r.hX)(this.value[n]);n++)if(e=this.value[n],t=this.findListElement(this.list,"li","data-value",e)){if((0,r.iQ)([t],i),this.hideSelectedItem&&t.previousSibling&&t.previousElementSibling.classList.contains(P.fu.group)&&(!t.nextElementSibling||t.nextElementSibling.classList.contains(P.fu.group))&&(0,r.iQ)([t.previousElementSibling],i),this.hideSelectedItem&&this.fields.groupBy&&!t.previousElementSibling.classList.contains(_)&&this.hideGroupItem(e),this.hideSelectedItem&&t.classList.contains(P.fu.focus)){(0,r.vy)([t],P.fu.focus);var a=t.parentElement.querySelectorAll("."+P.fu.li+":not(."+_+")");a.length>0?(0,r.iQ)([a[0]],P.fu.focus):this.list&&this.list.querySelectorAll("."+P.fu.li).length>0||(this.l10nUpdate(),(0,r.iQ)([this.list],P.fu.noData))}if(t.setAttribute("aria-selected","true"),"CheckBox"===this.mode&&t.classList.contains("e-active")){var s=t.firstElementChild.getAttribute("aria-checked");if((0,r.hX)(s)||"false"===s){var o={module:"CheckBoxSelection",enable:"CheckBox"===this.mode,li:t,e:null};this.notify("updatelist",o)}}}this.checkSelectAll(),this.checkMaxSelection()},t.prototype.hideGroupItem=function(e){var t,i,n=this.hideSelectedItem?_:P.fu.selected;i=t=this.findListElement(this.ulElement,"li","data-value",e);var a=0,s=0,o=!0,l=!0;do{t&&t.previousElementSibling&&!t.previousElementSibling.classList.contains(_)&&t.previousElementSibling.classList.contains(P.fu.li)&&(o=!1),!o||!t||t.previousElementSibling&&t.previousElementSibling.classList.contains(P.fu.group)?a=10:t=t.previousElementSibling,i&&i.nextElementSibling&&!i.nextElementSibling.classList.contains(_)&&i.nextElementSibling.classList.contains(P.fu.li)&&(l=!1),!l||!i||i.nextElementSibling&&i.nextElementSibling.classList.contains(P.fu.group)?s=10:i=i.nextElementSibling}while(a<10||s<10);o&&l&&!t.previousElementSibling.classList.contains(_)?(0,r.iQ)([t.previousElementSibling],n):o&&l&&t.previousElementSibling.classList.contains(_)&&(0,r.vy)([t.previousElementSibling],n)},t.prototype.getValidLi=function(){var e=this.ulElement.querySelector("li."+P.fu.li+":not(."+_+")");return(0,r.hX)(e)?this.liCollections[0]:e},t.prototype.checkSelectAll=function(){var e=this.list.querySelectorAll("li.e-list-group-item.e-active").length,t=this.list.querySelectorAll("li.e-list-item"),i=this.list.querySelectorAll("li."+P.fu.li).length,n=this.list.querySelectorAll("li."+P.fu.selected).length;if(this.enableGroupCheckBox&&!(0,r.hX)(this.fields.groupBy)&&(n-=e),i!==n&&n!==this.maximumSelectionLength||"CheckBox"!==this.mode||!this.showSelectAll?i!==n&&"CheckBox"===this.mode&&this.showSelectAll&&this.notify("checkSelectAll",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode,value:"uncheck"}):this.notify("checkSelectAll",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode,value:"check"}),this.enableGroupCheckBox&&this.fields.groupBy&&!this.enableSelectionOrder){for(var a=0;a<t.length;a++)this.findGroupStart(t[a]);this.deselectHeader()}},t.prototype.openClick=function(e){this.openOnClick||"CheckBox"===this.mode?this.openOnClick||"CheckBox"!==this.mode||this.isPopupOpen()||this.showPopup():""!==this.targetElement()?this.showPopup():this.hidePopup()},t.prototype.keyUp=function(e){if("CheckBox"===this.mode&&!this.openOnClick){var t=String.fromCharCode(e.keyCode).match(/\w/);(0,r.hX)(t)||(this.isValidKey=!0)}this.isValidKey=this.isPopupOpen()&&8===e.keyCode||this.isValidKey,this.isValidKey=(!e.ctrlKey||86!==e.keyCode)&&this.isValidKey,this.isValidKey&&(this.isValidKey=!1,this.expandTextbox(),this.showOverAllClear(),e.keyCode,this.search(e))},t.prototype.filter=function(e,t,i){this.isFiltered=!0,this.remoteFilterAction=!0,this.dataUpdater(e,t,i)},t.prototype.getQuery=function(e){var t=e?e.clone():this.query?this.query.clone():new f.X;if(this.filterAction){if(null!==this.targetElement()){var i=this.typeOfData(this.dataSource).typeof;if((this.dataSource instanceof g.M||"string"!==i)&&"number"!==i){var n=this.fields;t.where((0,r.hX)(n.text)?"":n.text,this.filterType,this.targetElement(),this.ignoreCase,this.ignoreAccent)}else t.where("",this.filterType,this.targetElement(),this.ignoreCase,this.ignoreAccent)}return t}return e||(this.query?this.query:new f.X)},t.prototype.dataUpdater=function(e,t,i){if(this.isDataFetched=!1,""===this.targetElement().trim()){var n=this.mainList.cloneNode?this.mainList.cloneNode(!0):this.mainList;this.backCommand&&(this.remoteCustomValue=!1,this.allowCustomValue&&0==n.querySelectorAll("li").length&&this.mainData.length>0&&(this.mainData=[]),this.onActionComplete(n,this.mainData),this.value&&this.value.length&&this.refreshSelection(),8!==this.keyCode&&this.focusAtFirstListItem(),this.notify("reOrder",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode,e:this}))}else this.resetList(e,i,t),this.allowCustomValue&&(e instanceof g.M?(this.remoteCustomValue=!0,this.tempQuery=t):this.checkForCustomValue(t,i));this.refreshPopup(),"CheckBox"===this.mode&&this.removeFocus()},t.prototype.checkForCustomValue=function(e,t){var i=!this.getValueByText(this.inputElement.value,this.ignoreCase);if(this.allowCustomValue&&i){var n=this.inputElement.value,a=t||this.fields,s=!(0,r.hX)(this.mainData)&&this.mainData.length>0?this.mainData[0]:this.mainData;if("string"!==typeof s&&"number"!==typeof s&&"boolean"!==typeof s){var o={};(0,r.KY)(a.text,n,o),"number"===typeof(0,r._W)(this.fields.value?this.fields.value:"value",s)?(0,r.KY)(a.value,Math.random(),o):(0,r.KY)(a.value,n,o),(l=JSON.parse(JSON.stringify(this.listData))).splice(0,0,o),this.resetList(l,a,e)}else{var l;(l=[this.inputElement.value])[0]="number"!==typeof s||isNaN(parseFloat(l[0]))?l[0]:parseFloat(l[0]),l[0]="boolean"===typeof s?"true"===l[0]||"false"!==l[0]&&l[0]:l[0],this.resetList(l,a)}}this.value&&this.value.length&&this.refreshSelection()},t.prototype.getNgDirective=function(){return"EJS-MULTISELECT"},t.prototype.wrapperClick=function(e){if(this.setDynValue=!1,this.enabled)if(e.target!==this.overAllClear){if(this.inputFocus||this.inputElement.focus(),!this.readonly){if(e.target&&-1!==e.target.classList.toString().indexOf(Q))return void(this.isPopupOpen()&&this.refreshPopup());!this.isPopupOpen()&&(this.openOnClick||this.showDropDownIcon&&e.target&&e.target.className===ae)?this.showPopup():(this.hidePopup(),"CheckBox"===this.mode&&(this.showOverAllClear(),this.inputFocus=!0,this.overAllWrapper.classList.contains(z)||this.overAllWrapper.classList.add(z)))}this.targetElement()&&""!==this.targetElement()||e.preventDefault()}else e.preventDefault()},t.prototype.enable=function(e){e?(this.overAllWrapper.classList.remove(Y),this.inputElement.removeAttribute("disabled"),(0,r.uK)(this.inputElement,{"aria-disabled":"false"}),this.ensureAriaDisabled("false")):(this.overAllWrapper.classList.add(Y),this.inputElement.setAttribute("disabled","true"),(0,r.uK)(this.inputElement,{"aria-disabled":"true"}),this.ensureAriaDisabled("true")),this.enabled!==e&&(this.enabled=e),this.hidePopup()},t.prototype.onBlurHandler=function(e,t){var i;if((0,r.hX)(e)||(i=e.relatedTarget),this.popupObj&&document.body.contains(this.popupObj.element)&&this.popupObj.element.contains(i))"CheckBox"!==this.mode?this.inputElement.focus():"Auto"===this.floatLabelType&&(this.overAllWrapper.classList.contains("e-outline")||this.overAllWrapper.classList.contains("e-filled"))&&(0,r.iQ)([this.overAllWrapper],"e-valid-input");else{if("Auto"===this.floatLabelType&&this.overAllWrapper.classList.contains("e-outline")&&"CheckBox"===this.mode&&((0,r.hX)(this.value)||0===this.value.length)&&(0,r.vy)([this.overAllWrapper],"e-valid-input"),"CheckBox"===this.mode&&r.Pw.isIE&&!(0,r.hX)(e)&&!t)return this.inputFocus=!1,void this.overAllWrapper.classList.remove(z);if(this.scrollFocusStatus)return(0,r.hX)(e)||e.preventDefault(),this.inputElement.focus(),void(this.scrollFocusStatus=!1);if(this.inputFocus=!1,this.overAllWrapper.classList.remove(z),this.addTagOnBlur){var n=this.getValueByText(this.inputElement.value,this.ignoreCase,this.ignoreAccent),a=this.findListElement(this.list,"li","data-value",n),s=this.hideSelectedItem?_:P.fu.selected;!(!a||a.classList.contains(s))&&(this.updateListSelection(a,e),"Delimiter"===this.mode&&this.updateDelimeter(this.delimiterChar))}this.refreshListItems(null),"Box"!==this.mode&&"CheckBox"!==this.mode&&this.updateDelimView(),this.changeOnBlur&&(this.updateValueState(e,this.value,this.tempValues),this.dispatchEvent(this.hiddenElement,"change")),this.overAllClear.style.display="none",this.isPopupOpen()&&this.hidePopup(),this.makeTextBoxEmpty(),this.trigger("blur"),this.focused=!0,r.Pw.isDevice&&"Delimiter"!==this.mode&&"CheckBox"!==this.mode&&this.removeChipFocus(),this.removeChipSelection(),this.refreshInputHight(),function(e,t,i,n){e.classList.remove("e-input-focus");var a=t.querySelector("."+H);i&&i.length<=0&&"Auto"===n&&!(0,r.hX)(a)&&(a.classList.contains(F)&&(0,r.vy)([a],F),(0,r.iQ)([a],B))}(this.overAllWrapper,this.componentWrapper,this.value,this.floatLabelType,this.placeholder),this.refreshPlaceHolder(),(this.allowFiltering||!0===this.enableSelectionOrder&&"CheckBox"===this.mode)&&!(0,r.hX)(this.mainList)&&(this.ulElement=this.mainList),this.checkPlaceholderSize()}},t.prototype.checkPlaceholderSize=function(){if(this.showDropDownIcon){var e=this.dropIcon.offsetWidth+parseInt(window.getComputedStyle(this.dropIcon).marginRight,10);this.setPlaceholderSize(e)}else(0,r.hX)(this.dropIcon)||this.setPlaceholderSize(this.showDropDownIcon?this.dropIcon.offsetWidth:0)},t.prototype.setPlaceholderSize=function(e){(0,r.hX)(this.value)||0===this.value.length?0!==this.dropIcon.offsetWidth?this.searchWrapper.style.width="calc(100% - "+(e+10)+"px":(0,r.iQ)([this.searchWrapper],le):(0,r.hX)(this.value)||(this.searchWrapper.removeAttribute("style"),(0,r.vy)([this.searchWrapper],le))},t.prototype.refreshInputHight=function(){this.value&&this.value.length||!(0,r.hX)(this.text)&&""!==this.text?this.searchWrapper.classList.add($):this.searchWrapper.classList.remove($)},t.prototype.validateValues=function(e,t){return JSON.stringify(e.slice().sort())!==JSON.stringify(t.slice().sort())},t.prototype.updateValueState=function(e,t,i){var n=t||[],r=i||[];if(this.initStatus&&this.validateValues(n,r)){var a={e:e,oldValue:i,value:t,isInteracted:!!e,element:this.element,event:e};this.isAngular&&this.preventChange?this.preventChange=!1:this.trigger("change",a),this.updateTempValue(),this.changeOnBlur||this.dispatchEvent(this.hiddenElement,"change")}},t.prototype.updateTempValue=function(){this.value?this.tempValues=this.value.slice():this.tempValues=this.value},t.prototype.getPagingCount=function(){var e=this.list.classList.contains(P.fu.noData)?null:getComputedStyle(this.getItems()[0],null).getPropertyValue("height");return Math.round(this.list.offsetHeight/parseInt(e,10))},t.prototype.pageUpSelection=function(e){var t=this.list.querySelectorAll("li."+P.fu.li+":not(."+_+"):not(.e-reorder-hide)"),i=e>=0?t[e+1]:t[0];this.addListFocus(i),this.scrollBottom(i,this.getIndexByValue(i.getAttribute("data-value")))},t.prototype.pageDownSelection=function(e){this.getItems();var t=this.list.querySelectorAll("li."+P.fu.li+":not(."+_+"):not(.e-reorder-hide)"),i=e<=t.length?t[e-1]:t[t.length-1];this.addListFocus(i),this.scrollBottom(i,this.getIndexByValue(i.getAttribute("data-value")))},t.prototype.getItems=function(){return this.list||e.prototype.render.call(this),this.ulElement&&this.ulElement.querySelectorAll("."+P.fu.li).length>0?this.ulElement.querySelectorAll("."+P.fu.li+":not(."+_+")"):[]},t.prototype.focusInHandler=function(e){if(this.enabled){if(this.showOverAllClear(),this.inputFocus=!0,this.value&&this.value.length&&("Delimiter"!==this.mode&&"CheckBox"!==this.mode?this.chipCollectionWrapper.style.display="":this.showDelimWrapper(),"CheckBox"!==this.mode&&(this.viewWrapper.style.display="none")),"CheckBox"!==this.mode&&this.searchWrapper.classList.remove($),this.checkPlaceholderSize(),this.focused){var t={isInteracted:!!e,event:e};this.trigger("focus",t),this.focused=!1}return this.overAllWrapper.classList.contains(z)||this.overAllWrapper.classList.add(z),function(e,t){e.classList.add("e-input-focus");var i=t.querySelector("."+H);(0,r.hX)(i)||((0,r.iQ)([i],F),i.classList.contains(B)&&(0,r.vy)([i],B))}(this.overAllWrapper,this.componentWrapper),this.isPopupOpen()&&this.refreshPopup(),!0}return!1},t.prototype.showDelimWrapper=function(){"CheckBox"===this.mode?this.viewWrapper.style.display="":this.delimiterWrapper.style.display="",this.componentWrapper.classList.add(K)},t.prototype.hideDelimWrapper=function(){this.delimiterWrapper.style.display="none",this.componentWrapper.classList.remove(K)},t.prototype.expandTextbox=function(){var e=5;this.placeholder&&(e=e>this.inputElement.placeholder.length?e:this.inputElement.placeholder.length),this.inputElement.value.length>e?this.inputElement.size=this.inputElement.value.length:this.inputElement.size=e},t.prototype.isPopupOpen=function(){return null!==this.popupWrapper&&null!==this.popupWrapper.parentElement},t.prototype.refreshPopup=function(){this.popupObj&&this.mobFilter&&(this.popupObj.setProperties({width:this.calcPopupWidth()}),this.popupObj.refreshPosition(this.overAllWrapper),this.popupObj.resolveCollision())},t.prototype.checkTextLength=function(){return this.targetElement().length<1},t.prototype.popupKeyActions=function(e){switch(e.keyCode){case 38:this.hidePopup(),"CheckBox"===this.mode&&this.inputElement.focus(),e.preventDefault();break;case 40:this.isPopupOpen()||(this.showPopup(),e.preventDefault())}},t.prototype.updateAriaAttribute=function(){var e=this.list.querySelector("."+P.fu.focus);if(!(0,r.hX)(e))if(this.inputElement.setAttribute("aria-activedescendant",e.id),this.allowFiltering){var t=this.popupWrapper.querySelector("."+he);t&&t.setAttribute("aria-activedescendant",e.id)}else"CheckBox"==this.mode&&this.overAllWrapper.setAttribute("aria-activedescendant",e.id)},t.prototype.homeNavigation=function(e){this.removeFocus();var t=this.ulElement.querySelectorAll("li."+P.fu.li+":not(."+_+"):not(.e-reorder-hide)");if(t.length>0){var i=t[e?0:t.length-1];i.classList.add(P.fu.focus),this.scrollBottom(i)}},t.prototype.onKeyDown=function(e){if(!this.readonly&&(this.enabled||"CheckBox"===this.mode)&&(this.keyCode=e.keyCode,this.keyDownStatus=!0,!(e.keyCode>111&&e.keyCode<124)))if(e.altKey)this.popupKeyActions(e);else{if(this.isPopupOpen()){var t=this.list.querySelector("."+P.fu.focus),i=void 0;switch(e.keyCode){case 36:case 35:this.homeNavigation(36===e.keyCode);break;case 33:return e.preventDefault(),void(t&&(this.getIndexByValue(t.getAttribute("data-value")),this.pageUpSelection(i-this.getPagingCount()),this.updateAriaAttribute()));case 34:return e.preventDefault(),void(t&&(this.getIndexByValue(t.getAttribute("data-value")),this.pageDownSelection(i+this.getPagingCount()),this.updateAriaAttribute()));case 38:this.arrowUp(e);break;case 40:this.arrowDown(e);break;case 27:return e.preventDefault(),this.hidePopup(),void("CheckBox"===this.mode&&this.inputElement.focus());case 13:return e.preventDefault(),"CheckBox"!==this.mode&&this.selectByKey(e),void this.checkPlaceholderSize();case 32:return void this.spaceKeySelection(e);case 9:e.preventDefault(),this.hidePopup(),this.inputElement.focus(),this.overAllWrapper.classList.add(z)}}else switch(e.keyCode){case 13:case 9:case 16:case 17:case 20:return;case 40:this.openOnClick&&this.showPopup();break;case 27:return e.preventDefault(),void this.escapeAction()}this.checkTextLength()&&this.keyNavigation(e),"CheckBox"===this.mode&&this.enableSelectionOrder&&this.checkBackCommand(e),this.expandTextbox(),"CheckBox"===this.mode&&this.showSelectAll||this.refreshPopup()}},t.prototype.arrowDown=function(e){e.preventDefault(),this.moveByList(1),this.keyAction=!0,(document.activeElement.classList.contains(he)||"CheckBox"===this.mode&&!this.allowFiltering&&document.activeElement!==this.list)&&r.Jm.add(this.list,"keydown",this.onKeyDown,this),this.updateAriaAttribute()},t.prototype.arrowUp=function(e){e.preventDefault(),this.keyAction=!0;var t=this.list.querySelectorAll("li."+P.fu.li+":not(."+_+"):not(.e-reorder-hide)");this.enableGroupCheckBox&&"CheckBox"===this.mode&&!(0,r.hX)(this.fields.groupBy)&&(t=this.list.querySelectorAll("li."+P.fu.li+",li."+P.fu.group+":not(."+_+"):not(.e-reorder-hide)"));var i=this.list.querySelector("li."+P.fu.focus);Array.prototype.slice.call(t).indexOf(i)<=0&&"CheckBox"===this.mode&&this.allowFiltering&&(this.keyAction=!1,this.notify("inputFocus",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode,value:"focus"})),this.moveByList(-1),this.updateAriaAttribute()},t.prototype.spaceKeySelection=function(e){"CheckBox"===this.mode&&(document.activeElement.classList.contains(he)||(e.preventDefault(),this.keyAction=!0,this.list.focus()),this.selectByKey(e)),this.checkPlaceholderSize()},t.prototype.checkBackCommand=function(e){8===e.keyCode&&""===this.targetElement()?this.backCommand=!1:this.backCommand=!0},t.prototype.keyNavigation=function(e){if("Delimiter"!==this.mode&&"CheckBox"!==this.mode&&this.value&&this.value.length)switch(e.keyCode){case 37:e.preventDefault(),this.moveBy(-1,e);break;case 39:e.preventDefault(),this.moveBy(1,e);break;case 8:this.removelastSelection(e);break;case 46:this.removeSelectedChip(e)}else if(8===e.keyCode&&"Delimiter"===this.mode&&this.value&&this.value.length){e.preventDefault();var t=this.value[this.value.length-1];this.removeValue(t,e),this.updateDelimeter(this.delimiterChar,e),this.focusAtLastListItem(t)}},t.prototype.selectByKey=function(e){this.removeChipSelection(),this.selectListByKey(e),this.hideSelectedItem&&this.focusAtFirstListItem()},t.prototype.escapeAction=function(){var e=this.tempValues?this.tempValues.slice():[];this.value&&this.validateValues(this.value,e)&&("CheckBox"!==this.mode&&(this.value=e,this.initialValueUpdate()),"Delimiter"!==this.mode&&"CheckBox"!==this.mode?this.chipCollectionWrapper.style.display="":this.showDelimWrapper(),this.refreshPlaceHolder(),this.value.length?this.showOverAllClear():this.hideOverAllClear()),this.makeTextBoxEmpty()},t.prototype.scrollBottom=function(e,t){var i=this.list.offsetHeight,n=e.offsetTop+e.offsetHeight-this.list.scrollTop,a=this.list.scrollTop+n-i,s=e.offsetTop+e.offsetHeight-this.list.scrollTop;s=this.fields.groupBy&&!(0,r.hX)(this.fixedHeaderElement)?s-this.fixedHeaderElement.offsetHeight:s,0===t?this.list.scrollTop=0:n>i?this.list.scrollTop=a:s>0&&this.list.offsetHeight>s||(this.list.scrollTop=a)},t.prototype.scrollTop=function(e,t){var i=e.offsetTop-this.list.scrollTop;i=this.fields.groupBy&&!(0,r.b0)(this.fixedHeaderElement)?i-this.fixedHeaderElement.offsetHeight:i;var n=e.offsetTop+e.offsetHeight-this.list.scrollTop;0===t?this.list.scrollTop=0:i<0?this.list.scrollTop=this.list.scrollTop+i:n>0&&this.list.offsetHeight>n||(this.list.scrollTop=e.offsetTop-(this.fields.groupBy&&!(0,r.b0)(this.fixedHeaderElement)?this.fixedHeaderElement.offsetHeight:0))},t.prototype.selectListByKey=function(e){var t,i=this.list.querySelector("li."+P.fu.focus),n=this.value&&this.value.length?this.value.length:0;null!==i&&(i.classList.contains("e-active")&&(n-=1),this.isValidLI(i)&&n<this.maximumSelectionLength?(this.updateListSelection(i,e),this.addListFocus(i),"CheckBox"===this.mode?(this.updateDelimView(),this.updateDelimeter(this.delimiterChar,e),this.refreshInputHight(),this.checkPlaceholderSize(),this.enableGroupCheckBox&&!(0,r.hX)(this.fields.groupBy)&&(t=i.firstElementChild.lastElementChild,this.findGroupStart(t),this.deselectHeader())):this.updateDelimeter(this.delimiterChar,e),this.makeTextBoxEmpty(),"CheckBox"!==this.mode&&this.refreshListItems(i.textContent),this.changeOnBlur||this.updateValueState(e,this.value,this.tempValues),this.refreshPopup()):!this.isValidLI(i)&&n<this.maximumSelectionLength&&((t=i.firstElementChild.lastElementChild).classList.contains("e-check")?this.selectAllItem(!1,e,i):this.selectAllItem(!0,e,i)),this.refreshSelection(),this.closePopupOnSelect&&this.hidePopup()),this.refreshPlaceHolder()},t.prototype.refreshListItems=function(e){if((this.allowFiltering||"CheckBox"===this.mode&&!0===this.enableSelectionOrder||this.allowCustomValue)&&this.mainList&&this.listData){var t=this.mainList.cloneNode?this.mainList.cloneNode(!0):this.mainList;this.onActionComplete(t,this.mainData),this.focusAtLastListItem(e),this.value&&this.value.length&&this.refreshSelection()}},t.prototype.removeSelectedChip=function(e){var t,i=this.chipCollectionWrapper.querySelector("span."+G);null!==i&&((0,r.hX)(this.value)||(this.tempValues=this.value.slice()),null!==(t=i.nextElementSibling)&&(this.removeChipSelection(),this.addChipSelection(t,e)),this.removeValue(i.getAttribute("data-value"),e),this.makeTextBoxEmpty()),this.closePopupOnSelect&&this.hidePopup(),this.checkPlaceholderSize()},t.prototype.moveByTop=function(e){var t,i=this.list.querySelectorAll("li."+P.fu.li);i.length>1&&(this.removeFocus(),t=e?0:i.length-1,this.addListFocus(i[t]),this.scrollBottom(i[t],t)),this.updateAriaAttribute()},t.prototype.moveByList=function(e){if(this.list){var t=this.list.querySelectorAll("li."+P.fu.li+":not(."+_+"):not(.e-reorder-hide)");"CheckBox"===this.mode&&this.enableGroupCheckBox&&!(0,r.hX)(this.fields.groupBy)&&(t=this.list.querySelectorAll("li."+P.fu.li+",li."+P.fu.group+":not(."+_+"):not(.e-reorder-hide)"));var i=this.list.querySelector("li."+P.fu.focus),n=-1;if(t.length){for(var a=0;a<t.length;a++)if(t[a]===i){n=a;break}e>0?n<t.length-1&&(this.removeFocus(),this.addListFocus(t[++n]),this.updateCheck(t[n]),this.scrollBottom(t[n],n)):n>0&&(this.removeFocus(),this.addListFocus(t[--n]),this.updateCheck(t[n]),this.scrollTop(t[n],n))}}},t.prototype.updateCheck=function(e){"CheckBox"===this.mode&&this.enableGroupCheckBox&&!(0,r.hX)(this.fields.groupBy)&&(e.firstElementChild.lastElementChild.classList.contains("e-check")?e.classList.add("e-active"):e.classList.remove("e-active"))},t.prototype.moveBy=function(e,t){var i,n=this.chipCollectionWrapper.querySelectorAll("span."+J),r=this.chipCollectionWrapper.querySelector("span."+G);null===r?e<0&&this.addChipSelection(n[n.length-1],t):e<0?null!==(i=r.previousElementSibling)&&(this.removeChipSelection(),this.addChipSelection(i,t)):(i=r.nextElementSibling,this.removeChipSelection(),null!==i&&this.addChipSelection(i,t))},t.prototype.chipClick=function(e){if(this.enabled){var t=(0,r.kp)(e.target,"."+J);this.removeChipSelection(),this.addChipSelection(t,e)}},t.prototype.removeChipSelection=function(){this.chipCollectionWrapper&&this.removeChipFocus()},t.prototype.addChipSelection=function(e,t){(0,r.iQ)([e],G),this.trigger("chipSelection",t)},t.prototype.onChipRemove=function(e){if(3!==e.which&&2!==e.button&&this.enabled&&!this.readonly){var t=e.target.parentElement.getAttribute("data-value"),i=this.getFormattedValue(t);if(this.allowCustomValue&&("false"!==t&&!1===i||!(0,r.hX)(i)&&"NaN"===i.toString())&&(i=t),this.isPopupOpen()&&"CheckBox"!==this.mode&&this.hidePopup(),this.inputFocus||this.inputElement.focus(),this.removeValue(i,e),(0,r.hX)(this.findListElement(this.list,"li","data-value",i))&&this.mainList&&this.listData){var n=this.mainList.cloneNode?this.mainList.cloneNode(!0):this.mainList;this.onActionComplete(n,this.mainData)}this.updateDelimeter(this.delimiterChar,e),this.placeholder&&"Never"===this.floatLabelType?(this.makeTextBoxEmpty(),this.checkPlaceholderSize()):this.inputElement.value="",e.preventDefault()}},t.prototype.makeTextBoxEmpty=function(){this.inputElement.value="",this.refreshPlaceHolder()},t.prototype.refreshPlaceHolder=function(){this.placeholder&&"Never"===this.floatLabelType?this.value&&this.value.length||!(0,r.hX)(this.text)&&""!==this.text?this.inputElement.placeholder="":this.inputElement.placeholder=X(this.placeholder):this.setFloatLabelType(),this.expandTextbox()},t.prototype.removeAllItems=function(e,t,i,n,a){var s=this.value.indexOf(e),o=this.value.slice(0);o.splice(s,1),this.setProperties({value:[].concat([],o)},!0),n.setAttribute("aria-selected","false");var l=this.hideSelectedItem?_:P.fu.selected;(0,r.vy)([n],l),this.notify("activeList",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode,li:n,e:this,index:s}),this.invokeCheckboxSelection(n,t,i),this.updateMainList(!0,e,a),this.updateChipStatus()},t.prototype.invokeCheckboxSelection=function(e,t,i){this.notify("updatelist",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode,li:e,e:t}),(0,r.uK)(this.inputElement,{"aria-activedescendant":e.id}),this.value&&this.value.length!==this.mainData.length&&"CheckBox"===this.mode&&this.showSelectAll&&!this.isSelectAll&&!i&&this.notify("checkSelectAll",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode,value:"uncheck"})},t.prototype.removeValue=function(t,i,n,a){var s=this,o=this.value.indexOf(this.getFormattedValue(t));-1===o&&this.allowCustomValue&&!(0,r.hX)(t)&&(o=this.value.indexOf(t.toString()));var l=i&&i.target;a=!!(a||l&&l.classList.contains("e-close-hooker"))||null;var h=this.hideSelectedItem?_:P.fu.selected;if(-1!==o){var c=this.findListElement(this.list,"li","data-value",t),p=this.getDataByValue(t),u={e:i,item:c,itemData:p,isInteracted:!!i,cancel:!1};this.trigger("removing",u,(function(l){if(l.cancel)s.removeIndex++;else{var u=s.value.slice(0);if(u.splice(o,1),s.setProperties({value:[].concat([],u)},!0),null!==c){var d=s.findListElement(s.mainList,"li","data-value",t);c.setAttribute("aria-selected","false"),(0,r.vy)([c],h),d&&(d.setAttribute("aria-selected","false"),(0,r.vy)([c,d],h)),s.notify("activeList",{module:"CheckBoxSelection",enable:"CheckBox"===s.mode,li:c,e:s,index:o}),s.invokeCheckboxSelection(c,i,a)}if(s.hideSelectedItem&&s.fields.groupBy&&s.hideGroupItem(t),s.hideSelectedItem&&s.fixedHeaderElement&&s.fields.groupBy&&"CheckBox"!==s.mode&&s.isPopupOpen()&&e.prototype.scrollStop.call(s),s.updateMainList(!0,t),s.removeChip(t),s.updateChipStatus(),(s.value&&s.value.length?s.value.length:0)<s.maximumSelectionLength){var v=s.list.querySelectorAll("li."+P.fu.li+":not(.e-active)");(0,r.vy)(v,"e-disable")}s.trigger("removed",l);var m=i&&i.currentTarget,g=!(!m||!m.classList.contains("e-selectall-parent"))||null;if(s.changeOnBlur||a||!i||!n||g||s.updateValueState(i,s.value,s.tempValues),n&&(s.selectAllEventData.push(p),s.selectAllEventEle.push(c)),1===n){s.changeOnBlur||s.updateValueState(i,s.value,s.tempValues);var f={event:i,items:s.selectAllEventEle,itemData:s.selectAllEventData,isInteracted:!!i,isChecked:!1};s.trigger("selectedAll",f),s.selectAllEventData=[],s.selectAllEventEle=[]}!a||1!==n&&null!==n||s.clearAllCallback(i,a)}}))}},t.prototype.updateMainList=function(e,t,i){if(this.allowFiltering||"CheckBox"===this.mode){var n=i||this.findListElement(this.mainList,"li","data-value",t);n&&(e?(n.setAttribute("aria-selected","false"),(0,r.vy)([n],this.hideSelectedItem?_:P.fu.selected),"CheckBox"===this.mode&&(n.firstElementChild.setAttribute("aria-checked","false"),(0,r.vy)([n.firstElementChild.lastElementChild],"e-check"))):(n.setAttribute("aria-selected","true"),(0,r.iQ)([n],this.hideSelectedItem?_:P.fu.selected),"CheckBox"===this.mode&&(n.firstElementChild.setAttribute("aria-checked","true"),(0,r.iQ)([n.firstElementChild.lastElementChild],"e-check"))))}},t.prototype.removeChip=function(e){if(this.chipCollectionWrapper){var t=this.findListElement(this.chipCollectionWrapper,"span","data-value",e);t&&(0,r.TF)(t)}},t.prototype.setWidth=function(e){(0,r.hX)(e)||("number"===typeof e?this.overAllWrapper.style.width=(0,r.IV)(e):"string"===typeof e&&(this.overAllWrapper.style.width=e.match(/px|%|em/)?e:(0,r.IV)(e)))},t.prototype.updateChipStatus=function(){this.value&&this.value.length?((0,r.hX)(this.chipCollectionWrapper)||(this.chipCollectionWrapper.style.display=""),"Delimiter"!==this.mode&&"CheckBox"!==this.mode||this.showDelimWrapper(),this.showOverAllClear()):((0,r.hX)(this.chipCollectionWrapper)||(this.chipCollectionWrapper.style.display="none"),(0,r.hX)(this.delimiterWrapper)||(this.delimiterWrapper.style.display="none"),this.hideOverAllClear())},t.prototype.addValue=function(e,t,i){this.value||(this.value=[]),this.value.indexOf(e)<0&&this.setProperties({value:[].concat([],this.value,[e])},!0);var n=this.findListElement(this.list,"li","data-value",e);this.removeFocus(),n&&(this.addListFocus(n),this.addListSelection(n)),"Delimiter"!==this.mode&&"CheckBox"!==this.mode&&this.addChip(t,e,i),this.hideSelectedItem&&this.fields.groupBy&&this.hideGroupItem(e),this.updateChipStatus(),this.checkMaxSelection()},t.prototype.checkMaxSelection=function(){if((this.value&&this.value.length?this.value.length:0)===this.maximumSelectionLength){var e=this.list.querySelectorAll("li."+P.fu.li+":not(.e-active)");(0,r.iQ)(e,"e-disable")}},t.prototype.dispatchSelect=function(t,i,n,r,a){var s=this,o=this.listData;if(this.initStatus&&!r){var l=this.getDataByValue(t),h={e:i,item:n,itemData:l,isInteracted:!!i,cancel:!1};this.trigger("select",h,(function(r){if(!r.cancel){if(a&&(s.selectAllEventData.push(l),s.selectAllEventEle.push(n)),1===a){var h={event:i,items:s.selectAllEventEle,itemData:s.selectAllEventData,isInteracted:!!i,isChecked:!0};s.trigger("selectedAll",h),s.selectAllEventData=[]}s.allowCustomValue&&s.isServerRendered&&s.listData!==o&&(s.listData=o),s.updateListSelectEventCallback(t,n,i),s.hideSelectedItem&&s.fixedHeaderElement&&s.fields.groupBy&&"CheckBox"!==s.mode&&e.prototype.scrollStop.call(s)}}))}},t.prototype.addChip=function(e,t,i){this.chipCollectionWrapper&&this.getChip(e,t,i)},t.prototype.removeChipFocus=function(){var e=this.chipCollectionWrapper.querySelectorAll("span."+J),t=this.chipCollectionWrapper.querySelectorAll("span."+Q.split(" ")[0]);if((0,r.vy)(e,G),r.Pw.isDevice)for(var i=0;i<t.length;i++)t[i].style.display="none"},t.prototype.onMobileChipInteraction=function(e){var t=(0,r.kp)(e.target,"."+J),i=t.querySelector("span."+Q.split(" ")[0]);this.enabled&&!this.readonly&&(t.classList.contains(G)||(this.removeChipFocus(),i.style.display="",t.classList.add(G)),this.refreshPopup(),e.preventDefault())},t.prototype.multiCompiler=function(e){var t=!1;if(e)try{t=!!(0,r.Ub)(e,document).length}catch(i){t=!1}return t},t.prototype.getChip=function(e,t,i){var n=this,a={text:t,value:t},s=this.createElement("span",{className:J,attrs:{"data-value":t,title:e}}),o=this.createElement("span",{className:"e-chipcontent"}),l=this.createElement("span",{className:Q});if(this.mainData&&(a=this.getDataByValue(t)),this.valueTemplate&&!(0,r.hX)(a)){var h=(this.multiCompiler(this.valueTemplate)?(0,r.wE)((0,r.Lt)(this.valueTemplate,document).innerHTML.trim()):(0,r.wE)(this.valueTemplate))(a,this,"valueTemplate",this.valueTemplateId,this.isStringTemplate,null,o);if(h&&h.length>0)for(var c=0;c<h.length;c++)o.appendChild(h[c]);this.renderReactTemplates()}else this.enableHtmlSanitizer?o.innerText=e:o.innerHTML=e;s.appendChild(o);var p={isInteracted:!!i,itemData:a,e:i,setClass:function(e){(0,r.iQ)([s],e)},cancel:!1};this.isPreventChange=this.isAngular&&this.preventChange,this.trigger("tagging",p,(function(e){e.cancel||(r.Pw.isDevice?(s.classList.add("e-mob-chip"),(0,r.BC)([l],s),l.style.display="none",r.Jm.add(s,"click",n.onMobileChipInteraction,n)):(r.Jm.add(s,"mousedown",n.chipClick,n),n.showClearButton&&s.appendChild(l)),r.Jm.add(l,"mousedown",n.onChipRemove,n),n.chipCollectionWrapper.appendChild(s),!n.changeOnBlur&&i&&n.updateValueState(i,n.value,n.tempValues))}))},t.prototype.calcPopupWidth=function(){var e=(0,r.IV)(this.popupWidth);e.indexOf("%")>-1&&(e=(this.componentWrapper.offsetWidth*parseFloat(e)/100).toString()+"px");return e},t.prototype.mouseIn=function(){this.enabled&&!this.readonly&&this.showOverAllClear()},t.prototype.mouseOut=function(){this.inputFocus||(this.overAllClear.style.display="none")},t.prototype.listOption=function(e,t){var i=!(0,r.hX)(t.iconCss),n=(0,r.hX)(t.properties)?t:t.properties;return this.listCurrentOptions=null!==t.text||null!==t.value?{fields:n,showIcon:i,ariaAttributes:{groupItemRole:"presentation"}}:{fields:{value:"text"}},(0,r.X$)(this.listCurrentOptions,this.listCurrentOptions,t,!0),"CheckBox"===this.mode&&this.notify("listoption",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode,dataSource:e,fieldProperty:n}),this.listCurrentOptions},t.prototype.renderPopup=function(){var t=this;if(this.list||e.prototype.render.call(this),!this.popupObj){document.body.appendChild(this.popupWrapper);var i=this.popupWrapper.querySelector(".e-filter-parent");"CheckBox"===this.mode&&!this.allowFiltering&&i&&this.filterParent&&(i.remove(),this.filterParent=null);var n=parseInt(this.popupHeight,10);if(this.popupWrapper.style.visibility="hidden",this.headerTemplate&&(this.setHeaderTemplate(),n-=this.header.offsetHeight),(0,r.BC)([this.list],this.popupWrapper),this.footerTemplate&&(this.setFooterTemplate(),n-=this.footer.offsetHeight),"CheckBox"===this.mode&&this.showSelectAll?(this.notify("selectAll",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode}),n-=this.selectAllHeight):"CheckBox"!==this.mode||this.showSelectAll||this.headerTemplate||this.footerTemplate?"CheckBox"!==this.mode||this.showSelectAll||(this.notify("selectAll",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode}),n=parseInt(this.popupHeight,10),this.headerTemplate&&this.header&&(n-=this.header.offsetHeight),this.footerTemplate&&this.footer&&(n-=this.footer.offsetHeight)):(this.notify("selectAll",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode}),n=parseInt(this.popupHeight,10)),"CheckBox"===this.mode){var a={module:"CheckBoxSelection",enable:"CheckBox"===this.mode,popupElement:this.popupWrapper};this.allowFiltering&&(this.notify("searchBox",a),n-=this.searchBoxHeight),(0,r.iQ)([this.popupWrapper],"e-checkbox")}"auto"!==this.popupHeight?(this.list.style.maxHeight=(0,r.IV)(n),this.popupWrapper.style.maxHeight=(0,r.IV)(this.popupHeight)):this.list.style.maxHeight=(0,r.IV)(this.popupHeight),this.popupObj=new l.zD(this.popupWrapper,{width:this.calcPopupWidth(),targetType:"relative",position:{X:"left",Y:"bottom"},relateTo:this.overAllWrapper,collision:{X:"flip",Y:"flip"},offsetY:1,enableRtl:this.enableRtl,zIndex:this.zIndex,close:function(){if(t.popupObj.element.parentElement){t.popupObj.unwireScrollEvents();var e=t.popupWrapper.querySelector("."+he);"CheckBox"===t.mode&&e&&document.activeElement===e&&e.blur(),(0,r.Yo)(t.popupObj.element)}},open:function(){if(t.popupObj.resolveCollision(),!t.isFirstClick){var e=t.list.querySelector("ul");e&&("CheckBox"!==t.mode&&(t.allowFiltering||t.allowCustomValue)&&""!==t.targetElement().trim()||(t.mainList=e.cloneNode?e.cloneNode(!0):e)),t.isFirstClick=!0}t.popupObj.wireScrollEvents(),"CheckBox"!==t.mode&&(t.allowFiltering||t.allowCustomValue)&&""!==t.targetElement().trim()||t.loadTemplate(),t.setScrollPosition(),t.allowFiltering&&t.notify("inputFocus",{module:"CheckBoxSelection",enable:"CheckBox"===t.mode,value:"focus"})},targetExitViewport:function(){r.Pw.isDevice||t.hidePopup()}}),"CheckBox"===this.mode&&r.Pw.isDevice&&this.allowFiltering&&this.notify("deviceSearchBox",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode}),this.popupObj.close(),this.popupWrapper.style.visibility=""}},t.prototype.setHeaderTemplate=function(){this.header&&this.header.remove(),this.header=this.createElement("div"),(0,r.iQ)([this.header],"e-ddl-header");var e=(this.multiCompiler(this.headerTemplate)?(0,r.wE)((0,r.Lt)(this.headerTemplate,document).innerHTML.trim()):(0,r.wE)(this.headerTemplate))({},this,"headerTemplate",this.headerTemplateId,this.isStringTemplate,null,this.header);if(e&&e.length>0)for(var t=0;t<e.length;t++)this.header.appendChild(e[t]);"CheckBox"===this.mode&&this.showSelectAll?(0,r.Hs)([this.header],this.popupWrapper):(0,r.BC)([this.header],this.popupWrapper),r.Jm.add(this.header,"mousedown",this.onListMouseDown,this)},t.prototype.setFooterTemplate=function(){this.footer&&this.footer.remove(),this.footer=this.createElement("div"),(0,r.iQ)([this.footer],"e-ddl-footer");var e=(this.multiCompiler(this.footerTemplate)?(0,r.wE)((0,r.Lt)(this.footerTemplate,document).innerHTML.trim()):(0,r.wE)(this.footerTemplate))({},this,"footerTemplate",this.footerTemplateId,this.isStringTemplate,null,this.footer);if(e&&e.length>0)for(var t=0;t<e.length;t++)this.footer.appendChild(e[t]);(0,r.BC)([this.footer],this.popupWrapper),r.Jm.add(this.footer,"mousedown",this.onListMouseDown,this)},t.prototype.clearAll=function(e){if(this.enabled&&!this.readonly){var t=void 0;if(this.value&&this.value.length>0){var i=this.list&&this.list.querySelectorAll("li.e-list-item");if(i&&i.length>0)this.selectAllItems(!1,e);else for(this.removeIndex=0,t=this.value[this.removeIndex];this.removeIndex<this.value.length;t=this.value[this.removeIndex])this.removeValue(t,e,null,!0)}else this.clearAllCallback(e)}},t.prototype.clearAllCallback=function(e,t){var i=this.value?this.value.slice():[];if(this.mainList&&this.listData&&(this.allowFiltering&&"CheckBox"!==this.mode||this.allowCustomValue)){var n=this.mainList.cloneNode?this.mainList.cloneNode(!0):this.mainList;this.onActionComplete(n,this.mainData)}this.focusAtFirstListItem(),this.updateDelimeter(this.delimiterChar,e),"Box"===this.mode||this.inputFocus&&"CheckBox"!==this.mode||this.updateDelimView(),""!==this.inputElement.value&&(this.makeTextBoxEmpty(),this.search(null)),this.checkPlaceholderSize(),this.isPopupOpen()&&this.refreshPopup(),this.inputFocus||(this.changeOnBlur&&this.updateValueState(e,this.value,i),"CheckBox"!==this.mode&&this.inputElement.focus()),"CheckBox"===this.mode&&(this.refreshPlaceHolder(),this.refreshInputHight(),this.changeOnBlur&&t&&((0,r.hX)(this.value)||0===this.value.length)&&this.updateValueState(e,this.value,this.tempValues)),this.changeOnBlur||!t||!(0,r.hX)(this.value)&&0!==this.value.length||this.updateValueState(e,this.value,this.tempValues),"CheckBox"===this.mode&&this.enableGroupCheckBox&&!(0,r.hX)(this.fields.groupBy)&&this.updateListItems(this.list.querySelectorAll("li.e-list-item"),this.mainList.querySelectorAll("li.e-list-item")),e.preventDefault()},t.prototype.windowResize=function(){this.refreshPopup(),this.inputFocus&&"CheckBox"!==this.mode||!this.viewWrapper||!this.viewWrapper.parentElement||this.updateDelimView()},t.prototype.resetValueHandler=function(e){var t=(0,r.kp)(this.inputElement,"form");if(t&&e.target===t){var i=this.element.tagName===this.getNgDirective()?null:this.element.getAttribute("data-initial-value");this.text=i}},t.prototype.wireEvent=function(){r.Jm.add(this.componentWrapper,"mousedown",this.wrapperClick,this),r.Jm.add(window,"resize",this.windowResize,this),r.Jm.add(this.inputElement,"focus",this.focusInHandler,this),r.Jm.add(this.inputElement,"keydown",this.onKeyDown,this),r.Jm.add(this.inputElement,"keyup",this.keyUp,this),"CheckBox"!==this.mode&&r.Jm.add(this.inputElement,"input",this.onInput,this),r.Jm.add(this.inputElement,"blur",this.onBlurHandler,this),r.Jm.add(this.componentWrapper,"mouseover",this.mouseIn,this);var e=(0,r.kp)(this.inputElement,"form");e&&r.Jm.add(e,"reset",this.resetValueHandler,this),r.Jm.add(this.componentWrapper,"mouseout",this.mouseOut,this),r.Jm.add(this.overAllClear,"mouseup",this.clearAll,this),r.Jm.add(this.inputElement,"paste",this.pasteHandler,this)},t.prototype.onInput=function(e){this.keyDownStatus?this.isValidKey=!0:this.isValidKey=!1,this.keyDownStatus=!1,r.Pw.isDevice&&"mozilla"===r.Pw.info.name&&this.search(e)},t.prototype.pasteHandler=function(e){var t=this;setTimeout((function(){t.expandTextbox(),t.search(e)}))},t.prototype.search=function(e){var t=this;if((0,r.hX)(e)||(this.keyCode=e.keyCode),!this.isPopupOpen()&&this.openOnClick&&this.showPopup(),this.openClick(e),!this.checkTextLength()||this.allowFiltering||(0,r.hX)(e)||8===e.keyCode){var i=this.targetElement();if(this.allowFiltering){var n={preventDefaultAction:!1,text:this.targetElement(),updateData:function(e,i,r){n.cancel||(t.isFiltered=!0,t.remoteFilterAction=!0,t.dataUpdater(e,i,r))},event:e,cancel:!1};this.trigger("filtering",n,(function(e){e.cancel||t.isFiltered||e.preventDefaultAction||(t.filterAction=!0,t.dataUpdater(t.dataSource,null,t.fields))}))}else if(this.allowCustomValue){var a=new f.X;a=""!==i?a.where(this.fields.text,"startswith",i,this.ignoreCase,this.ignoreAccent):a,this.dataUpdater(this.mainData,a,this.fields)}else{var s=this.list.querySelectorAll("li."+P.fu.li+":not(.e-hide-listitem)"),o=(0,L.vj)(this.targetElement(),s,"StartsWith",this.ignoreCase);o&&null!==o.item?(this.addListFocus(o.item),this.list.scrollTop=o.item.offsetHeight*o.index):""!==this.targetElement()?this.removeFocus():this.focusAtFirstListItem()}}else this.focusAtFirstListItem()},t.prototype.preRender=function(){null===this.allowFiltering&&(this.allowFiltering="CheckBox"===this.mode),this.initializeData(),this.updateDataAttribute(this.htmlAttributes),e.prototype.preRender.call(this)},t.prototype.getLocaleName=function(){return"multi-select"},t.prototype.initializeData=function(){this.mainListCollection=[],this.beforePopupOpen=!1,this.filterAction=!1,this.remoteFilterAction=!1,this.isFirstClick=!1,this.mobFilter=!0,this.isFiltered=!1,this.focused=!0,this.initial=!0,this.backCommand=!0},t.prototype.updateData=function(e,t){var i,n="",a="Delimiter"===this.mode||"CheckBox"===this.mode,s=[],o=this.listData;if(this.listData=this.mainData,this.hiddenElement.innerHTML="",!(0,r.hX)(this.value))for(var l=0;!(0,r.hX)(this.value[l]);l++){var h=this.findListElement((0,r.hX)(this.mainList)?this.ulElement:this.mainList,"li","data-value",this.value[l]);(0,r.hX)(h)&&!this.allowCustomValue?(this.value.splice(l,1),l-=1):(n+=(i=this.listData?this.getTextByValue(this.value[l]):this.value[l])+e+" ",s.push(i)),this.hiddenElement.innerHTML+='<option selected value ="'+this.value[l]+'">'+l+"</option>"}this.setProperties({text:s.toString()},!0),a&&(this.updateWrapperText(this.delimiterWrapper,n),this.delimiterWrapper.setAttribute("id",(0,r.Lz)("delim_val")),this.inputElement.setAttribute("aria-describedby",this.delimiterWrapper.id),this.inputElement.setAttribute("aria-labelledby",this.delimiterWrapper.id));var c=t&&t.target,p=!(!c||!c.classList.contains("e-close-hooker"))||null;(!this.changeOnBlur&&t&&!p||this.isSelectAll)&&(this.isSelectAll=!1,this.updateValueState(t,this.value,this.tempValues)),this.listData=o,this.addValidInputClass()},t.prototype.initialTextUpdate=function(){if((0,r.hX)(this.text))this.setProperties({value:null},!0);else{for(var e=this.text.split(this.delimiterChar),t=[],i=0;e.length>i;i++){var n=this.getValueByText(e[i]);(0,r.hX)(n)?this.allowCustomValue&&t.push(e[i]):t.push(n)}t&&t.length&&this.setProperties({value:t},!0)}},t.prototype.renderList=function(t){!t&&this.allowCustomValue&&this.list&&(this.list.textContent===this.noRecordsTemplate||this.list.querySelector(".e-ul")&&0===this.list.querySelector(".e-ul").childElementCount)&&(t=!0),e.prototype.render.call(this,t),this.unwireListEvents(),this.wireListEvents()},t.prototype.initialValueUpdate=function(){if(this.list){var e=void 0,t=void 0,i=void 0;if(this.chipCollectionWrapper&&(this.chipCollectionWrapper.innerHTML=""),this.removeListSelection(),!(0,r.hX)(this.value))for(var n=0;!(0,r.hX)(this.value[n]);n++)if(i=this.value[n],t=this.findListElement(this.hideSelectedItem?this.ulElement:this.list,"li","data-value",i),e=this.getTextByValue(i),t&&"true"!==t.getAttribute("aria-selected")||t&&"true"===t.getAttribute("aria-selected")&&this.hideSelectedItem&&("Box"===this.mode||"Default"===this.mode))this.addChip(e,i),this.addListSelection(t);else if(i&&this.allowCustomValue){var a=this.listData.length,s={};(0,r.KY)(this.fields.text,i,s),(0,r.KY)(this.fields.value,i,s);var o=this.popupWrapper.querySelector("."+P.fu.noData);this.addItem(s,a),t=t||this.findListElement(this.hideSelectedItem?this.ulElement:this.list,"li","data-value",i),this.popupWrapper.contains(o)&&(this.list.setAttribute("style",o.getAttribute("style")),this.popupWrapper.replaceChild(this.list,o),this.wireListEvents()),this.addChip(e,i),this.addListSelection(t)}"CheckBox"===this.mode?(this.updateDelimView(),this.changeOnBlur&&this.updateValueState(null,this.value,this.tempValues),this.updateDelimeter(this.delimiterChar),this.refreshInputHight()):this.updateDelimeter(this.delimiterChar),"CheckBox"!==this.mode||!this.showSelectAll||!(0,r.hX)(this.value)&&this.value.length||this.notify("checkSelectAll",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode,value:"uncheck"}),"Box"===this.mode||"Default"===this.mode&&this.inputFocus?this.chipCollectionWrapper.style.display="":"Delimiter"!==this.mode&&"CheckBox"!==this.mode||this.showDelimWrapper()}},t.prototype.updateActionCompleteData=function(e,t){this.value&&this.value.indexOf(e.getAttribute("data-value"))>-1&&(this.mainList=this.ulElement,this.hideSelectedItem&&(0,r.iQ)([e],_))},t.prototype.updateAddItemList=function(e,t){this.popupObj&&this.popupObj.element&&this.popupObj.element.querySelector("."+P.fu.noData)&&e?(this.list=e,this.mainList=this.ulElement=e.querySelector("ul"),(0,r.TF)(this.popupWrapper.querySelector(".e-content")),this.popupObj=null,this.renderPopup()):this.allowCustomValue&&(this.list=e,this.mainList=this.ulElement=e.querySelector("ul"))},t.prototype.updateDataList=function(){if(this.mainList&&this.ulElement){var e=this.mainList.childElementCount<this.ulElement.childElementCount,t=this.ulElement.childElementCount>0&&this.ulElement.children[0].childElementCount>0&&this.mainList.children[0].childElementCount<this.ulElement.children[0].childElementCount,i=this.itemTemplate&&this.ulElement.childElementCount>0&&(this.ulElement.children[0].childElementCount>0||this.fields.groupBy&&this.ulElement.children[1]&&this.ulElement.children[1].childElementCount>0);(e||t||i)&&(this.mainList=this.ulElement)}},t.prototype.isValidLI=function(e){return e&&!e.classList.contains(P.fu.disabled)&&!e.classList.contains(P.fu.group)&&e.classList.contains(P.fu.li)},t.prototype.updateListSelection=function(e,t,i){var n=e.getAttribute("data-value"),a=this.getFormattedValue(n);this.allowCustomValue&&("false"!==n&&!1===a||!(0,r.hX)(a)&&"NaN"===a.toString())&&(a=n),this.removeHover(),this.value&&-1!==this.value.indexOf(a)?this.removeValue(a,t,i):this.dispatchSelect(a,t,e,"true"===e.getAttribute("aria-selected"),i)},t.prototype.updateListSelectEventCallback=function(e,t,i){var n=this,a=this.getTextByValue(e);if(!this.allowCustomValue&&!this.allowFiltering||this.findListElement(this.mainList,"li","data-value",e))this.remoteCustomValue=!1,this.addValue(e,a,i);else{var s=t.cloneNode(!0),o=this.fields.value?this.fields.value:"value";this.allowCustomValue&&this.mainData.length&&"number"===typeof(0,r._W)(o,this.mainData[0])&&(e=isNaN(parseFloat(e.toString()))?e:parseFloat(e.toString()));var l=this.getDataByValue(e),h={newData:l,cancel:!1};this.trigger("customValueSelection",h,(function(t){t.cancel||((0,r.BC)([s],n.mainList),n.mainData.push(l),n.remoteCustomValue=!1,n.addValue(e,a,i))}))}},t.prototype.removeListSelection=function(){var e=this.hideSelectedItem?_:P.fu.selected,t=this.list.querySelectorAll("."+e),i=t.length;if(t&&t.length)for((0,r.vy)(t,e);i>0;)t[i-1].setAttribute("aria-selected","false"),i--;if(!(0,r.hX)(this.mainList)){var n=this.mainList.querySelectorAll("."+e),a=n.length;if(n&&n.length)for((0,r.vy)(n,e);a>0;)n[a-1].setAttribute("aria-selected","false"),"CheckBox"===this.mode&&(t&&t.length>a-1&&(t[a-1].firstElementChild.setAttribute("aria-checked","false"),(0,r.vy)([t[a-1].firstElementChild.lastElementChild],"e-check")),n[a-1].firstElementChild.setAttribute("aria-checked","false"),(0,r.vy)([n[a-1].firstElementChild.lastElementChild],"e-check")),a--}},t.prototype.removeHover=function(){var e=this.list.querySelectorAll("."+P.fu.hover);e&&e.length&&(0,r.vy)(e,P.fu.hover)},t.prototype.removeFocus=function(){if(this.list&&this.mainList){var e=this.list.querySelectorAll("."+P.fu.focus),t=this.mainList.querySelectorAll("."+P.fu.focus);e&&e.length&&((0,r.vy)(e,P.fu.focus),(0,r.vy)(t,P.fu.focus))}},t.prototype.addListHover=function(e){(this.enabled&&this.isValidLI(e)||null!==e&&e.classList.contains("e-list-group-item")&&this.enableGroupCheckBox&&"CheckBox"===this.mode&&!(0,r.hX)(this.fields.groupBy))&&(this.removeHover(),(0,r.iQ)([e],P.fu.hover))},t.prototype.addListFocus=function(e){this.enabled&&this.isValidLI(e)?(this.removeFocus(),(0,r.iQ)([e],P.fu.focus)):this.enableGroupCheckBox&&"CheckBox"===this.mode&&!(0,r.hX)(this.fields.groupBy)&&(0,r.iQ)([e],P.fu.focus)},t.prototype.addListSelection=function(e,t){var i=this.hideSelectedItem?_:P.fu.selected;if(this.isValidLI(e)&&!e.classList.contains(P.fu.hover)){if((0,r.iQ)([e],i),this.updateMainList(!1,e.getAttribute("data-value"),t),e.setAttribute("aria-selected","true"),"CheckBox"===this.mode){var n=e.firstElementChild.getAttribute("aria-checked");("false"===n||(0,r.hX)(n))&&this.notify("updatelist",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode,li:e,e:this})}this.notify("activeList",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode,li:e,e:this}),this.chipCollectionWrapper&&this.removeChipSelection(),(0,r.uK)(this.inputElement,{"aria-activedescendant":e.id})}},t.prototype.updateDelimeter=function(e,t){this.updateData(e,t)},t.prototype.onMouseClick=function(e){var t=this;this.keyCode=null,this.scrollFocusStatus=!1;var i=e.target,n=(0,r.kp)(i,"."+P.fu.li);if((0,r.kp)(i,"."+P.fu.group)&&this.enableGroupCheckBox&&"CheckBox"===this.mode&&this.fields.groupBy)(i=i.classList.contains("e-list-group-item")?i.firstElementChild.lastElementChild:e.target).classList.contains("e-check")?(this.selectAllItem(!1,e),i.classList.remove("e-check"),i.classList.remove("e-stop"),(0,r.kp)(i,".e-list-group-item").classList.remove("e-active"),i.setAttribute("aria-selected","false")):(this.selectAllItem(!0,e),i.classList.remove("e-stop"),i.classList.add("e-check"),(0,r.kp)(i,".e-list-group-item").classList.add("e-active"),i.setAttribute("aria-selected","true")),this.refreshSelection(),this.checkSelectAll();else{if(this.isValidLI(n)){var a=this.value&&this.value.length?this.value.length:0;n.classList.contains("e-active")&&(a-=1),a<this.maximumSelectionLength&&(this.updateListSelection(n,e),this.checkPlaceholderSize(),this.addListFocus(n),(this.allowCustomValue||this.allowFiltering)&&this.mainList&&this.listData?"CheckBox"!==this.mode&&(this.focusAtLastListItem(n.getAttribute("data-value")),this.refreshSelection()):this.makeTextBoxEmpty()),"CheckBox"===this.mode?(this.updateDelimView(),this.value&&this.value.length>50?setTimeout((function(){t.updateDelimeter(t.delimiterChar,e)}),0):this.updateDelimeter(this.delimiterChar,e),this.refreshInputHight()):this.updateDelimeter(this.delimiterChar,e),this.checkSelectAll(),this.refreshPopup(),this.hideSelectedItem&&this.focusAtFirstListItem(),this.closePopupOnSelect?this.hidePopup():e.preventDefault(),this.makeTextBoxEmpty(),this.findGroupStart(i),"CheckBox"!==this.mode&&this.refreshListItems((0,r.hX)(n)?null:n.textContent)}else e.preventDefault();this.refreshPlaceHolder(),this.deselectHeader()}},t.prototype.findGroupStart=function(e){if(this.enableGroupCheckBox&&"CheckBox"===this.mode&&!(0,r.hX)(this.fields.groupBy)){var t=void 0;if(this.itemTemplate&&!e.getElementsByClassName("e-frame").length)for(;!e.getElementsByClassName("e-frame").length;)e=e.parentElement;for(e.classList.contains("e-frame")&&(e=e.parentElement.parentElement),t=this.findGroupAttrtibutes(e,0,0,0,0),t=this.findGroupAttrtibutes(e,t[0],t[1],t[2],1);!e.classList.contains("e-list-group-item")&&(e.classList.contains("e-list-icon")&&(e=e.parentElement),null!=(e=e.previousElementSibling)););this.updateCheckBox(e,t[0],t[1],t[2])}},t.prototype.findGroupAttrtibutes=function(e,t,i,n,r){for(;!e.classList.contains("e-list-group-item")&&(e.classList.contains("e-list-icon")&&(e=e.parentElement),e.getElementsByClassName("e-frame")[0].classList.contains("e-check")&&e.classList.contains("e-list-item")?t++:e.classList.contains("e-list-item")&&i++,n++,null!=(e=r?e.nextElementSibling:e.previousElementSibling)););return[t,i,n]},t.prototype.updateCheckBox=function(e,t,i,n){if(null!==e){var a=e.getElementsByClassName("e-frame")[0];n===t?(a.classList.remove("e-stop"),a.classList.add("e-check"),(0,r.kp)(a,".e-list-group-item").classList.add("e-active"),e.setAttribute("aria-selected","true")):n===i?(a.classList.remove("e-check"),a.classList.remove("e-stop"),(0,r.kp)(a,".e-list-group-item").classList.remove("e-active"),e.setAttribute("aria-selected","false")):this.maximumSelectionLength===t-1?(a.classList.remove("e-stop"),e.setAttribute("aria-selected","true"),(0,r.kp)(a,".e-list-group-item").classList.add("e-active"),a.classList.add("e-check")):(a.classList.remove("e-check"),a.classList.add("e-stop"),(0,r.kp)(a,".e-list-group-item").classList.add("e-active"),e.setAttribute("aria-selected","false"))}},t.prototype.deselectHeader=function(){var e=this.value&&this.value.length?this.value.length:0,t=this.list.querySelectorAll("li.e-list-group-item:not(.e-active)");e<this.maximumSelectionLength&&(0,r.vy)(t,"e-disable"),e===this.maximumSelectionLength&&(0,r.iQ)(t,"e-disable")},t.prototype.onMouseOver=function(e){var t=(0,r.kp)(e.target,"."+P.fu.li);null===t&&"CheckBox"===this.mode&&!(0,r.hX)(this.fields.groupBy)&&this.enableGroupCheckBox&&(t=(0,r.kp)(e.target,"."+P.fu.group)),this.addListHover(t)},t.prototype.onMouseLeave=function(){this.removeHover()},t.prototype.onListMouseDown=function(e){e.preventDefault(),this.scrollFocusStatus=!0},t.prototype.onDocumentClick=function(e){if("CheckBox"!==this.mode){var t=e.target;!(0,r.hX)(this.popupObj)&&(0,r.kp)(t,'[id="'+this.popupObj.element.id+'"]')||this.overAllWrapper.contains(e.target)?this.scrollFocusStatus=(r.Pw.isIE||"edge"===r.Pw.info.name)&&document.activeElement===this.inputElement:this.scrollFocusStatus=!1}},t.prototype.wireListEvents=function(){(0,r.hX)(this.list)||(r.Jm.add(document,"mousedown",this.onDocumentClick,this),r.Jm.add(this.list,"mousedown",this.onListMouseDown,this),r.Jm.add(this.list,"mouseup",this.onMouseClick,this),r.Jm.add(this.list,"mouseover",this.onMouseOver,this),r.Jm.add(this.list,"mouseout",this.onMouseLeave,this))},t.prototype.unwireListEvents=function(){r.Jm.remove(document,"mousedown",this.onDocumentClick),this.list&&(r.Jm.remove(this.list,"mousedown",this.onListMouseDown),r.Jm.remove(this.list,"mouseup",this.onMouseClick),r.Jm.remove(this.list,"mouseover",this.onMouseOver),r.Jm.remove(this.list,"mouseout",this.onMouseLeave))},t.prototype.hideOverAllClear=function(){this.value&&this.value.length&&""!==this.inputElement.value||(this.overAllClear.style.display="none")},t.prototype.showOverAllClear=function(){(this.value&&this.value.length||""!==this.inputElement.value)&&this.showClearButton&&!0!==this.readonly?this.overAllClear.style.display="":this.overAllClear.style.display="none"},t.prototype.focusIn=function(){document.activeElement!==this.inputElement&&this.enabled&&this.inputElement.focus()},t.prototype.focusOut=function(){document.activeElement===this.inputElement&&this.enabled&&this.inputElement.blur()},t.prototype.showSpinner=function(){if((0,r.hX)(this.spinnerElement)){var e=this.filterParent&&this.filterParent.querySelector(".e-clear-icon.e-icons");"none"!==this.overAllClear.style.display||e?this.spinnerElement=e||this.overAllClear:(this.spinnerElement=this.createElement("span",{className:Z+" "+re}),this.componentWrapper.appendChild(this.spinnerElement)),(0,a.GF)({target:this.spinnerElement,width:r.Pw.isDevice?"16px":"14px"},this.createElement),(0,r.iQ)([this.spinnerElement],ne),(0,a.xc)(this.spinnerElement)}},t.prototype.hideSpinner=function(){(0,r.hX)(this.spinnerElement)||((0,a.W$)(this.spinnerElement),(0,r.vy)([this.spinnerElement],ne),this.spinnerElement.classList.contains(re)?(0,r.Yo)(this.spinnerElement):this.spinnerElement.innerHTML="",this.spinnerElement=null)},t.prototype.updateWrapperText=function(e,t){this.valueTemplate||!this.enableHtmlSanitizer?e.innerHTML=t:e.innerText=r.r4.sanitize(t)},t.prototype.updateDelimView=function(){if(this.delimiterWrapper&&this.hideDelimWrapper(),this.chipCollectionWrapper&&(this.chipCollectionWrapper.style.display="none"),this.viewWrapper.style.display="",this.viewWrapper.style.width="",this.viewWrapper.classList.remove(oe),this.value&&this.value.length){var e="",t=void 0,i=void 0,n=1,a=void 0,s=void 0,o=0,l=void 0;this.updateWrapperText(this.viewWrapper,e);var h={noRecordsTemplate:"No records found",actionFailureTemplate:"Request failed",overflowCountTemplate:"+${count} more..",totalCountTemplate:"${count} selected"},c=new r.Wo(this.getLocaleName(),h,this.locale);""===c.getConstant("actionFailureTemplate")&&(c=new r.Wo("dropdowns",h,this.locale)),""===c.getConstant("noRecordsTemplate")&&(c=new r.Wo("dropdowns",h,this.locale));var p=c.getConstant("overflowCountTemplate"),u=c.getConstant("totalCountTemplate"),d=this.createElement("span",{className:"e-remain"}),v=p.replace("${count}",this.value.length.toString());d.innerText=v,this.viewWrapper.appendChild(d),this.renderReactTemplates();var m=d.offsetWidth;if((0,r.TF)(d),this.showDropDownIcon&&(o=this.dropIcon.offsetWidth+parseInt(window.getComputedStyle(this.dropIcon).marginRight,10)),this.checkClearIconWidth(),!(0,r.hX)(this.value))for(var g=0;!(0,r.hX)(this.value[g]);g++){if(e+=0===g?"":this.delimiterChar+" ",e+=t=this.getOverflowVal(g),t=this.viewWrapper.innerHTML,this.updateWrapperText(this.viewWrapper,e),a=this.viewWrapper.offsetWidth+parseInt(window.getComputedStyle(this.viewWrapper).paddingRight,10),l=this.componentWrapper.offsetWidth-parseInt(window.getComputedStyle(this.componentWrapper).paddingLeft,10)-parseInt(window.getComputedStyle(this.componentWrapper).paddingRight,10),a+o+this.clearIconWidth>l){for(void 0!==i&&""!==i&&(t=i,g=n+1),this.updateWrapperText(this.viewWrapper,t),s=this.value.length-g,a=this.viewWrapper.offsetWidth+parseInt(window.getComputedStyle(this.viewWrapper).paddingRight,10);a+m+o+this.clearIconWidth>l&&0!==a&&""!==this.viewWrapper.innerHTML;){this.viewWrapper.innerHTML=[].join(this.delimiterChar),s=this.value.length,a=this.viewWrapper.offsetWidth+parseInt(window.getComputedStyle(this.viewWrapper).paddingRight,10)}break}a+m+o+this.clearIconWidth<=l?(i=e,n=g):0===g&&(i="",n=-1)}if(s>0){var f=l-o-this.clearIconWidth;this.viewWrapper.appendChild(this.updateRemainTemplate(d,this.viewWrapper,s,p,u,f)),this.updateRemainWidth(this.viewWrapper,f),this.updateRemainingText(d,o,s,p,u)}}else this.viewWrapper.innerHTML="",this.viewWrapper.style.display="none"},t.prototype.checkClearIconWidth=function(){this.showClearButton&&(this.clearIconWidth=this.overAllClear.offsetWidth)},t.prototype.updateRemainWidth=function(e,t){e.classList.contains(oe)&&t<e.offsetWidth+parseInt(window.getComputedStyle(e).paddingLeft,10)+parseInt(window.getComputedStyle(e).paddingLeft,10)&&(e.style.width=t+"px")},t.prototype.updateRemainTemplate=function(e,t,i,n,r,a){t.firstChild&&3===t.firstChild.nodeType&&""===t.firstChild.nodeValue&&t.removeChild(t.firstChild),e.innerHTML="";var s=n.replace("${count}",i.toString()),o=r.replace("${count}",i.toString());return e.innerText=t.firstChild&&3===t.firstChild.nodeType?s:o,t.firstChild&&3===t.firstChild.nodeType?t.classList.remove(oe):(t.classList.add(oe),this.updateRemainWidth(t,a)),e},t.prototype.updateRemainingText=function(e,t,i,n,r){var a=this.componentWrapper.offsetWidth-parseInt(window.getComputedStyle(this.componentWrapper).paddingLeft,10)-parseInt(window.getComputedStyle(this.componentWrapper).paddingRight,10),s=this.viewWrapper.offsetWidth+parseInt(window.getComputedStyle(this.viewWrapper).paddingRight,10);if(s+t>=a&&0!==s&&this.viewWrapper.firstChild&&3===this.viewWrapper.firstChild.nodeType){for(;s+t>a&&0!==s&&this.viewWrapper.firstChild&&3===this.viewWrapper.firstChild.nodeType;){var o=this.viewWrapper.firstChild.nodeValue.split(this.delimiterChar);o.pop(),this.viewWrapper.firstChild.nodeValue=o.join(this.delimiterChar),""===this.viewWrapper.firstChild.nodeValue&&this.viewWrapper.removeChild(this.viewWrapper.firstChild),i++,s=this.viewWrapper.offsetWidth}var l=a-t;this.updateRemainTemplate(e,this.viewWrapper,i,n,r,l)}},t.prototype.getOverflowVal=function(e){var t;if(this.mainData&&this.mainData.length)if("CheckBox"===this.mode){var i=this.listData;this.listData=this.mainData,t=this.getTextByValue(this.value[e]),this.listData=i}else t=this.getTextByValue(this.value[e]);else t=this.value[e];return t},t.prototype.unWireEvent=function(){r.Jm.remove(this.componentWrapper,"mousedown",this.wrapperClick),r.Jm.remove(window,"resize",this.windowResize),r.Jm.remove(this.inputElement,"focus",this.focusInHandler),r.Jm.remove(this.inputElement,"keydown",this.onKeyDown),"CheckBox"!==this.mode&&r.Jm.remove(this.inputElement,"input",this.onInput),r.Jm.remove(this.inputElement,"keyup",this.keyUp);var e=(0,r.kp)(this.inputElement,"form");e&&r.Jm.remove(e,"reset",this.resetValueHandler),r.Jm.remove(this.inputElement,"blur",this.onBlurHandler),r.Jm.remove(this.componentWrapper,"mouseover",this.mouseIn),r.Jm.remove(this.componentWrapper,"mouseout",this.mouseOut),r.Jm.remove(this.overAllClear,"mousedown",this.clearAll),r.Jm.remove(this.inputElement,"paste",this.pasteHandler)},t.prototype.selectAllItem=function(e,t,i){var n;if(n=this.list.querySelectorAll(e?'li.e-list-item:not([aria-selected="true"]):not(.e-reorder-hide)':'li.e-list-item[aria-selected="true"]:not(.e-reorder-hide)'),this.value&&this.value.length&&t&&t.target&&(0,r.kp)(t.target,".e-close-hooker")&&this.allowFiltering&&(n=this.mainList.querySelectorAll(e?'li.e-list-item:not([aria-selected="true"]):not(.e-reorder-hide)':'li.e-list-item[aria-selected="true"]:not(.e-reorder-hide)')),this.enableGroupCheckBox&&"CheckBox"===this.mode&&!(0,r.hX)(this.fields.groupBy)){var a=t?this.groupTemplate?(0,r.kp)(t.target,".e-list-group-item"):t.target:null;if((a=(a=t&&32===t.keyCode?i:a)&&a.classList.contains("e-frame")?a.parentElement.parentElement:a)&&a.classList.contains("e-list-group-item")){var s=a.nextElementSibling;if((0,r.hX)(s))return;for(;s.classList.contains("e-list-item");){if(e){if(!s.firstElementChild.lastElementChild.classList.contains("e-check")){var o=this.value&&this.value.length?this.value.length:0;s.classList.contains("e-active")&&(o-=1),o<this.maximumSelectionLength&&this.updateListSelection(s,t)}}else s.firstElementChild.lastElementChild.classList.contains("e-check")&&this.updateListSelection(s,t);if(null==(s=s.nextElementSibling))break}if(a.classList.contains("e-list-group-item")){var l=this.list.getElementsByClassName("e-item-focus")[0];l&&l.classList.remove("e-item-focus"),e?a.classList.add("e-active"):a.classList.remove("e-active"),a.classList.add("e-item-focus")}this.textboxValueUpdate(),this.checkPlaceholderSize(),!this.changeOnBlur&&t&&this.updateValueState(t,this.value,this.tempValues)}else this.updateValue(t,n,e)}else this.updateValue(t,n,e)},t.prototype.updateValue=function(e,t,i){var n=this,a=t.length,s={event:e,items:i?t:[],itemData:i?this.listData:[],isInteracted:!!e,isChecked:i,preventSelectEvent:!1};if(this.trigger("beforeSelectAll",s),t&&t.length){var o=0,l=0;if(l=this.enableGroupCheckBox?i?this.maximumSelectionLength-(this.value?this.value.length:0):t.length:i?this.maximumSelectionLength-(this.value?this.value.length:0):this.maximumSelectionLength,s.preventSelectEvent){for(var h=0;h<t.length&&h<l;h++){this.removeHover();var c=t[h].getAttribute("data-value"),p=this.getFormattedValue(c),u=this.mainList?this.mainList.querySelectorAll(i?'li.e-list-item:not([aria-selected="true"]):not(.e-reorder-hide)':'li.e-list-item[aria-selected="true"]:not(.e-reorder-hide)')[h]:null;i?(this.value=this.value?this.value:[],this.value.indexOf(p)<0&&this.setProperties({value:[].concat([],this.value,[p])},!0),this.removeFocus(),this.addListSelection(t[h],u),this.updateChipStatus(),this.checkMaxSelection()):this.removeAllItems(p,e,!1,t[h],u),this.enableGroupCheckBox&&this.findGroupStart(t[h])}if(!i)if((this.value&&this.value.length?this.value.length:0)<this.maximumSelectionLength){var d=this.list.querySelectorAll("li."+P.fu.li+":not(.e-active)");(0,r.vy)(d,"e-disable")}var v={event:e,items:i?t:[],itemData:i?this.listData:[],isInteracted:!!e,isChecked:i};this.trigger("selectedAll",v)}else{for(;o<a&&o<=50&&o<l;)this.updateListSelection(t[o],e,a-o),this.enableGroupCheckBox&&this.findGroupStart(t[o]),o++;a>50&&setTimeout((function(){for(;o<a&&o<l;)n.updateListSelection(t[o],e,a-o),n.enableGroupCheckBox&&n.findGroupStart(t[o]),o++;n.updatedataValueItems(e),n.changeOnBlur||(n.updateValueState(e,n.value,n.tempValues),n.isSelectAll=n.isSelectAll?!n.isSelectAll:n.isSelectAll),n.updateHiddenElement()}),0)}}this.updatedataValueItems(e),this.checkPlaceholderSize(),a<=50&&!s.preventSelectEvent&&(this.changeOnBlur||(this.updateValueState(e,this.value,this.tempValues),this.isSelectAll=this.isSelectAll?!this.isSelectAll:this.isSelectAll),this.updateHiddenElement())},t.prototype.updateHiddenElement=function(){var e=this,t="",i="",n="",a=[];"CheckBox"===this.mode&&(this.value.map((function(r,s){t+='<option selected value ="'+r+'">'+s+"</option>",n=e.listData?e.getTextByValue(r):r,i+=n+e.delimiterChar+" ",a.push(n)})),this.hiddenElement.innerHTML=t,this.updateWrapperText(this.delimiterWrapper,i),this.delimiterWrapper.setAttribute("id",(0,r.Lz)("delim_val")),this.inputElement.setAttribute("aria-describedby",this.delimiterWrapper.id),this.inputElement.setAttribute("aria-labelledby",this.delimiterWrapper.id),this.setProperties({text:a.toString()},!0),this.refreshInputHight(),this.refreshPlaceHolder())},t.prototype.updatedataValueItems=function(e){this.deselectHeader(),this.textboxValueUpdate(e)},t.prototype.textboxValueUpdate=function(e){var t=e&&e.target&&((0,r.kp)(e.target,".e-selectall-parent")||(0,r.kp)(e.target,".e-close-hooker"));"Box"===this.mode||this.isPopupOpen()||"CheckBox"===this.mode&&(this.isSelectAll||t)?this.searchWrapper.classList.remove($):this.updateDelimView(),"CheckBox"===this.mode?(this.updateDelimView(),t||this.isSelectAll||this.updateDelimeter(this.delimiterChar,e),this.refreshInputHight()):this.updateDelimeter(this.delimiterChar,e),this.refreshPlaceHolder()},t.prototype.setZIndex=function(){this.popupObj&&this.popupObj.setProperties({zIndex:this.zIndex})},t.prototype.updateDataSource=function(e){(0,r.hX)(this.list)?this.renderPopup():this.resetList(this.dataSource),this.value&&this.value.length&&(this.setProperties({value:this.value}),this.refreshSelection())},t.prototype.onLoadSelect=function(){this.setDynValue=!0,this.renderPopup()},t.prototype.selectAllItems=function(t,i){var n=this;if((0,r.hX)(this.list))this.selectAllAction=function(){if("CheckBox"===n.mode&&n.showSelectAll){var e={module:"CheckBoxSelection",enable:"CheckBox"===n.mode,value:t?"check":"uncheck"};n.notify("checkSelectAll",e)}n.selectAllItem(t,i),n.selectAllAction=null},e.prototype.render.call(this);else{if(this.selectAllAction=null,"CheckBox"===this.mode&&this.showSelectAll){var a={value:t?"check":"uncheck",enable:"CheckBox"===this.mode,module:"CheckBoxSelection"};this.notify("checkSelectAll",a)}this.selectAllItem(t,i)}},t.prototype.getPersistData=function(){return this.addOnPersist(["value"])},t.prototype.onPropertyChanged=function(t,i){(t.dataSource&&!(0,r.hX)(Object.keys(t.dataSource))||t.query&&!(0,r.hX)(Object.keys(t.query)))&&(this.mainList=null,this.mainData=null,this.isFirstClick=!1,this.isDynamicDataChange=!0),"multiselect"===this.getModuleName()&&(this.filterAction=!1,this.setUpdateInitial(["fields","query","dataSource"],t));for(var n=0,a=Object.keys(t);n<a.length;n++){var s=a[n];switch(s){case"query":case"dataSource":"CheckBox"===this.mode&&this.showSelectAll&&((0,r.hX)(this.popupObj)||(this.popupObj.destroy(),this.popupObj=null),this.renderPopup());break;case"htmlAttributes":this.updateHTMLAttribute();break;case"showClearButton":this.updateClearButton(t.showClearButton);break;case"text":this.updateVal(this.value,this.value,"text");break;case"value":this.updateVal(this.value,i.value,"value"),this.addValidInputClass(),!this.closePopupOnSelect&&this.isPopupOpen()&&this.refreshPopup(),this.preventChange=this.isAngular&&this.preventChange?!this.preventChange:this.preventChange;break;case"width":this.setWidth(t.width),this.popupObj.setProperties({width:this.calcPopupWidth()});break;case"placeholder":this.refreshPlaceHolder();break;case"filterBarPlaceholder":this.allowFiltering&&this.notify("filterBarPlaceholder",{filterBarPlaceholder:t.filterBarPlaceholder});break;case"delimiterChar":"Box"!==this.mode&&this.updateDelimView(),this.updateData(t.delimiterChar);break;case"cssClass":this.updateOldPropCssClass(i.cssClass),this.updateCssClass();break;case"enableRtl":this.enableRTL(t.enableRtl),e.prototype.onPropertyChanged.call(this,t,i);break;case"readonly":this.updateReadonly(t.readonly),this.hidePopup();break;case"enabled":this.hidePopup(),this.enable(t.enabled);break;case"showSelectAll":this.popupObj&&(this.popupObj.destroy(),this.popupObj=null),this.renderPopup();break;case"showDropDownIcon":this.dropDownIcon();break;case"floatLabelType":this.setFloatLabelType(),this.addValidInputClass();break;case"enableSelectionOrder":break;case"selectAllText":this.notify("selectAllText",!1);break;case"popupHeight":if(this.popupObj){var o=parseInt(this.popupHeight,10);"auto"!==this.popupHeight?(this.list.style.maxHeight=(0,r.IV)(o),this.popupWrapper.style.maxHeight=(0,r.IV)(this.popupHeight)):this.list.style.maxHeight=(0,r.IV)(this.popupHeight)}break;case"headerTemplate":case"footerTemplate":this.reInitializePoup();break;case"allowFiltering":"CheckBox"===this.mode&&this.popupObj&&this.reInitializePoup(),this.updateSelectElementData(this.allowFiltering);break;default:var l=this.getPropObject(s,t,i);e.prototype.onPropertyChanged.call(this,l.newProperty,l.oldProperty)}}},t.prototype.reInitializePoup=function(){this.popupObj&&(this.popupObj.destroy(),this.popupObj=null),this.renderPopup()},t.prototype.presentItemValue=function(e){for(var t=[],i=0;i<this.value.length;i++){this.findListElement(this.allowFiltering&&!(0,r.hX)(this.mainList)?this.mainList:e,"li","data-value",this.value[i])||t.push(this.value[i])}return t},t.prototype.addNonPresentItems=function(e,t,i,n){var r=this;this.dataSource.executeQuery(this.getForQuery(e)).then((function(e){r.addItem(e.result,i.length),r.updateActionList(t,i,n)}))},t.prototype.updateVal=function(e,t,i){if(this.list)if(!(this.dataSource instanceof g.M)||this.listData&&this.mainList&&this.mainData){var n=[];if((0,r.hX)(this.value)||this.allowCustomValue||(n=this.presentItemValue(this.ulElement)),"value"==i&&n.length>0&&this.dataSource instanceof g.M&&!(0,r.hX)(this.value)&&null!=this.listData)this.mainData=null,this.setDynValue=!0,this.addNonPresentItems(n,this.ulElement,this.listData);else{if("text"===i&&(this.initialTextUpdate(),e=this.value),((0,r.hX)(this.value)||0===this.value.length)&&(this.tempValues=t),this.allowCustomValue&&("Default"===this.mode||"Box"===this.mode)&&this.isReact&&this.inputFocus&&this.isPopupOpen()&&this.mainData!==this.listData){var a=this.mainList.cloneNode?this.mainList.cloneNode(!0):this.mainList;this.onActionComplete(a,this.mainData)}this.initialValueUpdate(),"Box"===this.mode||this.inputFocus||this.updateDelimView(),this.inputFocus||this.refreshInputHight(),this.refreshPlaceHolder(),"CheckBox"!==this.mode&&this.changeOnBlur&&this.updateValueState(null,e,t),this.checkPlaceholderSize()}}else this.onLoadSelect();else this.onLoadSelect();this.changeOnBlur||this.updateValueState(null,e,t)},t.prototype.addItem=function(t,i){e.prototype.addItem.call(this,t,i)},t.prototype.hidePopup=function(){var e=this;if(this.isPopupOpen()){var t={name:"FadeOut",duration:100,delay:100},i={popup:this.popupObj,cancel:!1,animation:t};this.trigger("close",i,(function(t){t.cancel||(e.fields.groupBy&&"CheckBox"!==e.mode&&e.fixedHeaderElement&&((0,r.TF)(e.fixedHeaderElement),e.fixedHeaderElement=null),e.beforePopupOpen=!1,e.overAllWrapper.classList.remove(se),e.popupObj.hide(new r.X5(t.animation)),(0,r.uK)(e.inputElement,{"aria-expanded":"false"}),e.allowFiltering&&e.notify("inputFocus",{module:"CheckBoxSelection",enable:"CheckBox"===e.mode,value:"clear"}),e.popupObj.hide(),(0,r.vy)([document.body,e.popupObj.element],"e-popup-full-page"),r.Jm.remove(e.list,"keydown",e.onKeyDown))}))}},t.prototype.showPopup=function(){var t=this;if(this.enabled){this.trigger("beforeOpen",{cancel:!1},(function(i){if(!i.cancel){if(!t.ulElement)return t.beforePopupOpen=!0,e.prototype.render.call(t),void("CheckBox"===t.mode&&r.Pw.isDevice&&t.allowFiltering&&t.notify("popupFullScreen",{module:"CheckBoxSelection",enable:"CheckBox"===t.mode}));"CheckBox"===t.mode&&r.Pw.isDevice&&t.allowFiltering&&t.notify("popupFullScreen",{module:"CheckBoxSelection",enable:"CheckBox"===t.mode});var n=t.ulElement.querySelectorAll("li.e-list-item").length,a=t.ulElement.querySelectorAll("li."+P.fu.li+"."+_).length;if(n>0&&n===a&&a===t.mainData.length)return void(t.beforePopupOpen=!1);t.onPopupShown()}}))}},t.prototype.selectAll=function(e){this.isSelectAll=!0,this.selectAllItems(e)},t.prototype.getModuleName=function(){return"multiselect"},t.prototype.clear=function(){var e=this;this.selectAll(!1),this.value&&this.value.length?setTimeout((function(){e.setProperties({value:null},!0)}),0):this.setProperties({value:null},!0)},t.prototype.render=function(){this.setDynValue=this.initStatus=!1,this.isSelectAll=!1,this.searchWrapper=this.createElement("span",{className:"e-searcher "+("Box"===this.mode?"e-multiselect-box":"")}),this.viewWrapper=this.createElement("span",{className:"e-delim-view "+ee,styles:"display:none;"}),this.overAllClear=this.createElement("span",{className:Z,styles:"display:none;"}),this.componentWrapper=this.createElement("div",{className:"e-multi-select-wrapper"}),this.overAllWrapper=this.createElement("div",{className:"e-multiselect e-input-group e-control-wrapper"}),"CheckBox"===this.mode&&(0,r.iQ)([this.overAllWrapper],"e-checkbox"),r.Pw.isDevice&&this.componentWrapper.classList.add("e-mob-wrapper"),this.setWidth(this.width),this.overAllWrapper.appendChild(this.componentWrapper),this.popupWrapper=this.createElement("div",{id:this.element.id+"_popup",className:"e-ddl e-popup e-multi-select-list-wrapper"}),"Delimiter"===this.mode||"CheckBox"===this.mode?(this.delimiterWrapper=this.createElement("span",{className:ee,styles:"display:none"}),this.componentWrapper.appendChild(this.delimiterWrapper)):(this.chipCollectionWrapper=this.createElement("span",{className:"e-chips-collection",styles:"display:none"}),"Default"===this.mode?this.chipCollectionWrapper.setAttribute("id",(0,r.Lz)("chip_default")):"Box"===this.mode&&this.chipCollectionWrapper.setAttribute("id",(0,r.Lz)("chip_box")),this.componentWrapper.appendChild(this.chipCollectionWrapper)),"Box"!==this.mode&&this.componentWrapper.appendChild(this.viewWrapper),this.componentWrapper.appendChild(this.searchWrapper),this.showClearButton&&!r.Pw.isDevice?this.componentWrapper.appendChild(this.overAllClear):this.componentWrapper.classList.add(ie),this.dropDownIcon(),this.inputElement=this.createElement("input",{className:"e-dropdownbase",attrs:{spellcheck:"false",type:"text",autocomplete:"off",tabindex:"0"}}),"Default"!==this.mode&&"Box"!==this.mode||(this.inputElement.setAttribute("aria-describedby",this.chipCollectionWrapper.id),this.inputElement.setAttribute("aria-labelledby",this.chipCollectionWrapper.id)),this.element.tagName!==this.getNgDirective()&&(this.element.style.display="none"),this.element.tagName===this.getNgDirective()?(this.element.appendChild(this.overAllWrapper),this.searchWrapper.appendChild(this.inputElement)):(this.element.parentElement.insertBefore(this.overAllWrapper,this.element),this.searchWrapper.appendChild(this.inputElement),this.searchWrapper.appendChild(this.element),this.element.removeAttribute("tabindex")),"Never"!==this.floatLabelType?q(this.overAllWrapper,this.searchWrapper,this.element,this.inputElement,this.value,this.floatLabelType,this.placeholder):"Never"===this.floatLabelType&&this.refreshPlaceHolder(),this.addValidInputClass(),this.element.style.opacity="";var e=this.element.getAttribute("id")?this.element.getAttribute("id"):(0,r.Lz)("ej2_dropdownlist");this.element.id=e,this.hiddenElement=this.createElement("select",{attrs:{"aria-hidden":"true",class:"e-multi-hidden",tabindex:"-1",multiple:""}}),this.componentWrapper.appendChild(this.hiddenElement),this.validationAttribute(this.element,this.hiddenElement),"CheckBox"!==this.mode&&this.hideOverAllClear(),this.wireEvent(),this.enable(this.enabled),this.enableRTL(this.enableRtl),this.checkInitialValue(),this.element.hasAttribute("data-val")&&this.element.setAttribute("data-val","false"),this.renderComplete()},t.prototype.checkInitialValue=function(){var t=this,i=this.dataSource instanceof Array?this.dataSource.length>0:!(0,r.hX)(this.dataSource);if((!this.value||!this.value.length)&&(0,r.hX)(this.text)&&!i&&"SELECT"===this.element.tagName&&this.element.options.length>0){for(var n=this.element.options,a=[],s="",o=0,l=n.length;o<l;o++){var h=n[o];(0,r.hX)(h.getAttribute("selected"))||(h.getAttribute("value")?a.push(h.getAttribute("value")):s+=h.text+this.delimiterChar)}a.length>0?this.setProperties({value:a},!0):""!==s&&this.setProperties({text:s},!0),(a.length>0||""!==s)&&(this.refreshInputHight(),this.refreshPlaceHolder())}(this.value&&this.value.length||!(0,r.hX)(this.text))&&(this.list||e.prototype.render.call(this)),(0,r.hX)(this.text)||!(0,r.hX)(this.value)&&0!==this.value.length||this.initialTextUpdate(),this.value&&this.value.length?(this.dataSource instanceof g.M?this.setInitialValue=function(){t.initStatus=!1,t.initialValueUpdate(),t.initialUpdate(),t.setInitialValue=null,t.initStatus=!0}:(this.initialValueUpdate(),this.initialUpdate()),this.updateTempValue()):this.initialUpdate(),this.initStatus=!0,this.checkAutoFocus(),(0,r.hX)(this.text)||this.element.setAttribute("data-initial-value",this.text)},t.prototype.checkAutoFocus=function(){this.element.hasAttribute("autofocus")&&this.inputElement.focus()},t.prototype.setFloatLabelType=function(){!function(e,t,i,n,a,s,o){var l,h=t.querySelector("."+H),c=t.querySelector("."+j);(0,r.hX)(h)?W(a,n,l=null!==o?o:""):(l=h.innerText,(0,r.Yo)(i.querySelector("."+H)),W(a,n,l),(0,r.hX)(c)||(0,r.Yo)(i.querySelector("."+j))),e.classList.remove("e-float-input")}(this.overAllWrapper,this.componentWrapper,this.searchWrapper,this.inputElement,this.value,this.floatLabelType,this.placeholder),"Never"!==this.floatLabelType&&q(this.overAllWrapper,this.searchWrapper,this.element,this.inputElement,this.value,this.floatLabelType,this.placeholder)},t.prototype.addValidInputClass=function(){!(0,r.hX)(this.value)&&this.value.length||"Always"===this.floatLabelType?(0,r.iQ)([this.overAllWrapper],"e-valid-input"):(0,r.vy)([this.overAllWrapper],"e-valid-input")},t.prototype.dropDownIcon=function(){this.showDropDownIcon?(this.dropIcon=this.createElement("span",{className:ae}),this.componentWrapper.appendChild(this.dropIcon),(0,r.iQ)([this.componentWrapper],["e-down-icon"])):(0,r.hX)(this.dropIcon)||(this.dropIcon.parentElement.removeChild(this.dropIcon),(0,r.vy)([this.componentWrapper],["e-down-icon"]))},t.prototype.initialUpdate=function(){"Box"===this.mode||this.setDynValue&&"Default"===this.mode&&this.inputFocus||this.updateDelimView(),this.updateCssClass(),this.updateHTMLAttribute(),this.updateReadonly(this.readonly),this.refreshInputHight(),this.checkPlaceholderSize()},t.prototype.destroy=function(){this.isReact&&this.clearTemplate(),this.popupObj&&this.popupObj.hide(),this.notify("destroy",{}),this.unwireListEvents(),this.unWireEvent(),this.list=null,this.popupObj=null,this.mainList=null,this.mainData=null,this.filterParent=null,this.ulElement=null,this.mainListCollection=null,e.prototype.destroy.call(this);for(var t=["readonly","aria-disabled","aria-placeholder","placeholder"],i=t.length;i>0;)this.inputElement.removeAttribute(t[i-1]),i--;this.element.removeAttribute("data-initial-value"),this.element.style.display="block",this.overAllWrapper.parentElement&&(this.overAllWrapper.parentElement.tagName===this.getNgDirective()||this.overAllWrapper.parentElement.insertBefore(this.element,this.overAllWrapper),(0,r.TF)(this.overAllWrapper))},U([(0,r.pr)({text:null,value:null,iconCss:null,groupBy:null},P.wC)],t.prototype,"fields",void 0),U([(0,r.mA)(!1)],t.prototype,"enablePersistence",void 0),U([(0,r.mA)(null)],t.prototype,"groupTemplate",void 0),U([(0,r.mA)("No records found")],t.prototype,"noRecordsTemplate",void 0),U([(0,r.mA)("Request failed")],t.prototype,"actionFailureTemplate",void 0),U([(0,r.mA)("None")],t.prototype,"sortOrder",void 0),U([(0,r.mA)(!0)],t.prototype,"enabled",void 0),U([(0,r.mA)(!1)],t.prototype,"enableHtmlSanitizer",void 0),U([(0,r.mA)([])],t.prototype,"dataSource",void 0),U([(0,r.mA)(null)],t.prototype,"query",void 0),U([(0,r.mA)("StartsWith")],t.prototype,"filterType",void 0),U([(0,r.mA)(1e3)],t.prototype,"zIndex",void 0),U([(0,r.mA)(!1)],t.prototype,"ignoreAccent",void 0),U([(0,r.mA)()],t.prototype,"locale",void 0),U([(0,r.mA)(!1)],t.prototype,"enableGroupCheckBox",void 0),U([(0,r.mA)(null)],t.prototype,"cssClass",void 0),U([(0,r.mA)("100%")],t.prototype,"width",void 0),U([(0,r.mA)("300px")],t.prototype,"popupHeight",void 0),U([(0,r.mA)("100%")],t.prototype,"popupWidth",void 0),U([(0,r.mA)(null)],t.prototype,"placeholder",void 0),U([(0,r.mA)(null)],t.prototype,"filterBarPlaceholder",void 0),U([(0,r.mA)({})],t.prototype,"htmlAttributes",void 0),U([(0,r.mA)(null)],t.prototype,"valueTemplate",void 0),U([(0,r.mA)(null)],t.prototype,"headerTemplate",void 0),U([(0,r.mA)(null)],t.prototype,"footerTemplate",void 0),U([(0,r.mA)(null)],t.prototype,"itemTemplate",void 0),U([(0,r.mA)(null)],t.prototype,"allowFiltering",void 0),U([(0,r.mA)(!0)],t.prototype,"changeOnBlur",void 0),U([(0,r.mA)(!1)],t.prototype,"allowCustomValue",void 0),U([(0,r.mA)(!0)],t.prototype,"showClearButton",void 0),U([(0,r.mA)(1e3)],t.prototype,"maximumSelectionLength",void 0),U([(0,r.mA)(!1)],t.prototype,"readonly",void 0),U([(0,r.mA)(null)],t.prototype,"text",void 0),U([(0,r.mA)(null)],t.prototype,"value",void 0),U([(0,r.mA)(!0)],t.prototype,"hideSelectedItem",void 0),U([(0,r.mA)(!0)],t.prototype,"closePopupOnSelect",void 0),U([(0,r.mA)("Default")],t.prototype,"mode",void 0),U([(0,r.mA)(",")],t.prototype,"delimiterChar",void 0),U([(0,r.mA)(!0)],t.prototype,"ignoreCase",void 0),U([(0,r.mA)(!1)],t.prototype,"showDropDownIcon",void 0),U([(0,r.mA)("Never")],t.prototype,"floatLabelType",void 0),U([(0,r.mA)(!1)],t.prototype,"showSelectAll",void 0),U([(0,r.mA)("Select All")],t.prototype,"selectAllText",void 0),U([(0,r.mA)("Unselect All")],t.prototype,"unSelectAllText",void 0),U([(0,r.mA)(!0)],t.prototype,"enableSelectionOrder",void 0),U([(0,r.mA)(!0)],t.prototype,"openOnClick",void 0),U([(0,r.mA)(!1)],t.prototype,"addTagOnBlur",void 0),U([(0,r.Jh)()],t.prototype,"change",void 0),U([(0,r.Jh)()],t.prototype,"removing",void 0),U([(0,r.Jh)()],t.prototype,"removed",void 0),U([(0,r.Jh)()],t.prototype,"beforeSelectAll",void 0),U([(0,r.Jh)()],t.prototype,"selectedAll",void 0),U([(0,r.Jh)()],t.prototype,"beforeOpen",void 0),U([(0,r.Jh)()],t.prototype,"open",void 0),U([(0,r.Jh)()],t.prototype,"close",void 0),U([(0,r.Jh)()],t.prototype,"blur",void 0),U([(0,r.Jh)()],t.prototype,"focus",void 0),U([(0,r.Jh)()],t.prototype,"chipSelection",void 0),U([(0,r.Jh)()],t.prototype,"filtering",void 0),U([(0,r.Jh)()],t.prototype,"tagging",void 0),U([(0,r.Jh)()],t.prototype,"customValueSelection",void 0),t=U([r.kc],t)}(P.$J),pe=i(3890),ue=i(763),de=i(6505),ve=i(5633),me=i(2319),ge=i(1489),fe=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),ye=function(e,t,i,n){var r,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(a<3?r(s):a>3?r(t,i,s):r(t,i))||s);return a>3&&s&&Object.defineProperty(t,i,s),s},Te="e-input-wrapper",we="e-input-wrapper-side",De="e-repeat-element",be="e-repeat-interval",Ce="e-interval",Se="e-days",Ae="e-non-week",Ee="e-year-expander",Oe="e-year-expander-element",xe="e-month-expander",ke="e-month-expander-element",Ve="e-month-expander-checkbox-wrapper",Me="e-form-left",Re="e-form-right",Ie="e-month-day",Pe="e-month-expander-wrapper",Le="e-month-pos",je="e-month-week",He="e-end-on",Fe="e-end-on-element",Be="e-end-on-date",qe="e-until-date",We="e-end-on-count",Xe="e-recurrence-count",Ne="e-hide-recurrence-element",Ue="e-rtl",ze="e-primary",Ye="e-active",_e="e-recurrence-table",Je="e-repeat-content",Qe="none",Ge="daily",Ke="weekly",$e="monthly",Ze="yearly",et="never",tt="until",it="count",nt="text",rt="value",at="repeat",st="BYDAY",ot="DAILY",lt="WEEKLY",ht="MONTHLY",ct="YEARLY",pt="SU",ut="MO",dt="TU",vt="WE",mt="TH",gt="FR",ft="SA",yt="=",Tt=";",wt={none:"",daily:"days",weekly:"weeks",monthly:"months",yearly:"years"},Dt={sun:pt,mon:ut,tue:dt,wed:vt,thu:mt,fri:gt,sat:ft},bt=[Se,Ae,He,Ce,Ee,xe],Ct=[Ae],St=[Se,Ee],At=[Se],Et=[Se,Ae,Ee,xe],Ot=[Be,We],xt=[Be],kt=[We],Vt=function(e){function t(t,i){var n=e.call(this,t,i)||this;return n.defaultLocale={none:"None",daily:"Daily",weekly:"Weekly",monthly:"Monthly",month:"Month",yearly:"Yearly",never:"Never",until:"Until",count:"Count",first:"First",second:"Second",third:"Third",fourth:"Fourth",last:"Last",repeat:"Repeat",repeatEvery:"Repeat every",on:"Repeat On",end:"End",onDay:"Day",days:"Day(s)",weeks:"Week(s)",months:"Month(s)",years:"Year(s)",every:"every",summaryTimes:"time(s)",summaryOn:"on",summaryUntil:"until",summaryRepeat:"Repeats",summaryDay:"day(s)",summaryWeek:"week(s)",summaryMonth:"month(s)",summaryYear:"year(s)",monthWeek:"Month Week",monthPosition:"Month Position",monthExpander:"Month Expander",yearExpander:"Year Expander",repeatInterval:"Repeat Interval"},n.renderStatus=!1,n.dayButtons=[],n.monthButtons=[],n}return fe(t,e),t.prototype.startState=function(e,t,i){this.showFormElement(),this.updateForm(e),this.freshOnEndForm(),this.updateEndOnForm(t),this.selectMonthDay(i),this.updateUntilDate(i),this.onMonthDay.setProperties({checked:!0})},t.prototype.preRender=function(){this.localeObj=new r.Wo(this.getModuleName(),this.defaultLocale,this.locale),this.calendarUtil=(0,ge.BW)(this.calendarMode)},t.prototype.applyCustomClass=function(e){e&&(0,r.iQ)([this.element],e.split(" "))},t.prototype.initialize=function(){(0,r.iQ)([this.element],"e-"+this.getModuleName()),this.renderComponent(),(0,r.hX)(this.value)||""===this.value?((0,r.hX)(this.repeatType.value)||(this.startState(this.repeatType.value.toString().toUpperCase(),et,this.startDate),this.updateForm(this.repeatType.value.toString())),this.selectedType>0&&this.setProperties({value:this.getRecurrenceRule()},!1)):this.setRecurrenceRule(this.value),this.applyCustomClass(this.cssClass)},t.prototype.triggerChangeEvent=function(){var e=this;if(this.renderStatus){var t=this.getRecurrenceRule();this.trigger("change",{value:t},(function(t){return e.setProperties({value:t.value},!1)}))}},t.prototype.resetDayButton=function(){[].slice.call(this.element.querySelectorAll("."+Se+" button")).forEach((function(e){return(0,r.vy)([e],[Ye,ze])}))},t.prototype.daySelection=function(e){this.resetDayButton();var t=[0,1,2,3,4,5,6];this.rotateArray(t,this.firstDayOfWeek);var i=this.element.querySelector("."+Se+' button[data-index="'+t.indexOf(e)+'"]');i&&(0,r.iQ)([i],[Ye,ze])},t.prototype.rtlClass=function(e){e?(0,r.iQ)([this.element],Ue):(0,r.vy)([this.element],Ue)},t.prototype.updateUntilDate=function(e){var t=new Date(e.getTime());t.setDate(t.getDate()+60),this.untilDateObj.setProperties({value:t})},t.prototype.selectMonthDay=function(e){var t=["sun","mon","tue","wed","thu","fri","sat"];this.monthDate.setProperties({value:this.calendarUtil.getDate(e)}),this.monthWeekDays.setProperties({value:Dt[t[e.getDay()]]}),this.monthValue.setProperties({value:""+this.calendarUtil.getMonth(e)}),this.monthWeekPos.setProperties({value:this.getDayPosition(e)}),this.daySelection(e.getDay())},t.prototype.updateForm=function(e){var t=this;this.repeatType.setProperties({value:e});var i=this.element.querySelector("."+He);switch(e===Ge?(0,r.pP)(i,[Me],[Re]):(0,r.pP)(i,[Re],[Me]),e){case Qe:bt.forEach((function(e){return(0,r.iQ)([t.element.querySelector("."+e)],Ne)}));break;case Ke:Ct.forEach((function(e){return(0,r.iQ)([t.element.querySelector("."+e)],Ne)}));break;case $e:St.forEach((function(e){return(0,r.iQ)([t.element.querySelector("."+e)],Ne)}));break;case Ze:At.forEach((function(e){return(0,r.iQ)([t.element.querySelector("."+e)],Ne)}));break;case Ge:Et.forEach((function(e){return(0,r.iQ)([t.element.querySelector("."+e)],Ne)}))}},t.prototype.updateEndOnForm=function(e){var t=this;switch(this.endType.setProperties({value:e}),e){case et:Ot.forEach((function(e){return(0,r.iQ)([t.element.querySelector("."+e)],Ne)}));break;case tt:kt.forEach((function(e){return(0,r.iQ)([t.element.querySelector("."+e)],Ne)}));break;case it:xt.forEach((function(e){return(0,r.iQ)([t.element.querySelector("."+e)],Ne)}))}},t.prototype.freshOnEndForm=function(){var e=this;Ot.forEach((function(t){var i=e.element.querySelector("."+t);i&&(0,r.vy)([i],Ne)}))},t.prototype.showFormElement=function(){var e=this;bt.forEach((function(t){var i=e.element.querySelector("."+t);i&&(0,r.vy)([i],Ne)}))},t.prototype.renderDropdowns=function(){var e=this,t=this;this.repeatType=new pe.O({dataSource:this.getRepeatData(),floatLabelType:"Always",enableRtl:this.enableRtl,index:this.selectedType,fields:{text:nt,value:rt},placeholder:this.localeObj.getConstant(at),htmlAttributes:{title:this.localeObj.getConstant(at)},change:function(i){t.setProperties({selectedType:e.frequencies.indexOf(i.value)},!1),t.element.querySelector("."+Je).innerHTML=t.localeObj.getConstant(wt[i.value]),t.showFormElement(),t.updateForm(i.value),t.resetFormValues(),t.triggerChangeEvent()}}),this.repeatType.appendTo(this.element.querySelector("."+De)),this.endType=new pe.O({dataSource:this.getEndData(),popupWidth:this.getPopupWidth(),enableRtl:this.enableRtl,index:1,fields:{text:nt,value:rt},change:function(e){t.freshOnEndForm(),t.updateEndOnForm(e.value),t.resetFormValues(),t.triggerChangeEvent()}}),this.endType.appendTo(this.element.querySelector("."+Fe));var i=function(i){return new pe.O({dataSource:i,popupWidth:e.getPopupWidth(),enableRtl:e.enableRtl,fields:{text:nt,value:rt},index:1,change:function(e){t.onWeekDay.setProperties({checked:!0}),t.resetFormValues(),t.triggerChangeEvent()}})};this.monthWeekPos=i(this.getMonthPosData()),this.monthWeekPos.appendTo(this.element.querySelector("."+Le)),this.monthWeekDays=i(this.getDayData("wide")),this.monthWeekDays.appendTo(this.element.querySelector("."+je)),this.monthValue=new pe.O({dataSource:this.getMonthData(),fields:{text:nt,value:rt},enableRtl:this.enableRtl,index:7,change:function(e){t.resetFormValues(),t.triggerChangeEvent()}}),this.monthValue.appendTo(this.element.querySelector("."+Oe))},t.prototype.setDefaultValue=function(){for(var e=0,t=[].slice.call(this.element.querySelectorAll(".e-control .e-numerictextbox"));e<t.length;e++){var i=t[e].ej2_instances[0];i.element.classList.contains(be)?(i.value=1,i.dataBind()):i.element.classList.contains(Xe)&&(i.value=10,i.dataBind())}},t.prototype.resetFormValues=function(){for(var e=0,t=[].slice.call(this.element.querySelectorAll('.e-control [type="text"]'));e<t.length;e++){var i=t[e],n=void 0;if(i.classList.contains("e-datepicker"))(n=i.ej2_instances[0]).value?(n.value=n.value,n.dataBind()):this.updateUntilDate(this.startDate);else if(i.classList.contains("e-dropdownlist"))(n=i.ej2_instances[0]).index=n.index||0,n.dataBind();else if(i.classList.contains("e-numerictextbox")){var r=void 0;r=(n=i.ej2_instances[0]).element.classList.contains(be)?1:n.element.classList.contains(Xe)?10:this.startDate.getDate(),n.value=n.value||r,n.dataBind()}}},t.prototype.getPopupWidth=function(){return r.Pw.isDevice?"100%":"auto"},t.prototype.renderDatePickers=function(){var e=this;this.untilDateObj=new ve.l({firstDayOfWeek:this.firstDayOfWeek,enableRtl:this.enableRtl,locale:this.locale,min:this.minDate,max:this.maxDate,format:(0,r.hX)(this.dateFormat)?this.getFormat("dateFormats"):this.dateFormat,change:function(t){t.value&&e.triggerChangeEvent()}}),this.untilDateObj.appendTo(this.element.querySelector("."+qe))},t.prototype.getFormat=function(e){return"en"===this.locale||"en-US"===this.locale?(0,r._W)(e+".short",(0,r.P)(this.getCalendarMode())):(0,r._W)("main."+this.locale+".dates.calendars."+this.getCalendarMode()+"."+e+".short",r.pE)},t.prototype.dayButtonRender=function(){for(var e=this,t=[].slice.call(this.element.querySelectorAll("."+Se+" button")),i=this,n=0,a=t;n<a.length;n++){var s=a[n],o=new E.$({isToggle:!0,enableRtl:this.enableRtl},s);this.dayButtons.push(o),r.Jm.add(s,"click",(function(t){var n=[].slice.call(e.element.querySelectorAll("."+Se+" button."+ze)),a=t.target;a.classList.contains(ze)?n.length>1&&((0,r.vy)([a],ze),i.triggerChangeEvent()):((0,r.iQ)([a],ze),i.triggerChangeEvent())}))}},t.prototype.radioButtonRender=function(){var e=this;this.onMonthDay=new me.a({label:this.localeObj.getConstant("onDay"),enableRtl:this.enableRtl,name:"monthType",value:"day",change:function(){e.resetFormValues(),e.triggerChangeEvent()}}),this.onMonthDay.appendTo(this.element.querySelector("."+ke)),this.monthButtons.push(this.onMonthDay),this.onWeekDay=new me.a({label:this.localeObj.getConstant("monthExpander"),cssClass:"e-month-type",name:"monthType",enableRtl:this.enableRtl,value:"daypos",change:function(){e.resetFormValues(),e.triggerChangeEvent()}}),this.onWeekDay.appendTo(this.element.querySelector("."+Pe)),this.monthButtons.push(this.onWeekDay)},t.prototype.numericTextboxRender=function(){var e=this;this.recurrenceCount=new de.u({value:10,format:"#",enableRtl:this.enableRtl,min:1,max:999,change:function(){e.triggerChangeEvent()}}),this.recurrenceCount.appendTo(this.element.querySelector("."+Xe)),this.monthDate=new de.u({value:1,format:"#",enableRtl:this.enableRtl,min:1,max:31,change:function(){e.onMonthDay.setProperties({checked:!0}),e.triggerChangeEvent()}}),this.monthDate.appendTo(this.element.querySelector("."+Ie)),this.repeatInterval=new de.u({value:1,format:"#",min:1,max:999,enableRtl:this.enableRtl,floatLabelType:"Always",placeholder:this.localeObj.getConstant("repeatEvery"),change:function(){e.triggerChangeEvent()}}),this.repeatInterval.appendTo(this.element.querySelector("."+be))},t.prototype.renderComponent=function(){this.setTemplate(),this.renderDropdowns(),this.renderDatePickers(),this.dayButtonRender(),this.radioButtonRender(),this.numericTextboxRender()},t.prototype.rotateArray=function(e,t){for(var i,n=0;n<t;n++)i=e.shift(),e.push(i)},t.prototype.getEndData=function(){var e=this,t=[];return[et,tt,it].forEach((function(i){t.push({text:e.localeObj.getConstant(i),value:i})})),t},t.prototype.getDayPosition=function(e){var t=new Date(e.getTime()),i=new Date(e.getTime()),n=e.getDay(),r=[];for(t=this.calendarUtil.getMonthStartDate(t),i=this.calendarUtil.getMonthEndDate(i);t<i;)t.getDay()===n&&r.push(t.getTime()),t.setDate(t.getDate()+1);return r.indexOf(e.getTime())===r.length-1?-1:r.indexOf(e.getTime())+1},t.prototype.getRepeatData=function(){var e=[],t=this;return this.frequencies.forEach((function(i){var n=i===Qe?et:i;e.push({text:t.localeObj.getConstant(n),value:i})})),e},t.prototype.getMonthPosData=function(){var e={first:1,second:2,third:3,fourth:4,last:-1},t=this,i=[];return["first","second","third","fourth","last"].forEach((function(n){i.push({text:t.localeObj.getConstant(n),value:e[n]})})),i},t.prototype.getDayData=function(e){var t,i=["sun","mon","tue","wed","thu","fri","sat"],n=[];if(this.rotateArray(i,this.firstDayOfWeek),"en"===this.locale||"en-US"===this.locale){var a="days.stand-alone.";t=(0,r._W)(a+e,(0,r.P)(this.getCalendarMode()))}else{a="main."+this.locale+".dates.calendars."+this.getCalendarMode()+".days.stand-alone."+e;t=(0,r._W)(a,r.pE)}for(var s=0,o=i;s<o.length;s++){var l=o[s],h=(0,r._W)(l,t);n.push({text:"narrow"===e?h:(0,c.nw)(h,"single"),value:Dt[l]})}return n},t.prototype.getMonthData=function(){var e,t=[];if("en"===this.locale||"en-US"===this.locale){var i="months.stand-alone.wide";e=(0,r._W)(i,(0,r.P)(this.getCalendarMode()))}else{i="main."+this.locale+".dates.calendars."+this.getCalendarMode()+".months.stand-alone.wide";e=(0,r._W)(i,r.pE)}for(var n=0,a=Object.keys(e);n<a.length;n++){var s=a[n];t.push({text:(0,c.nw)((0,r._W)(s,e),"single"),value:s})}return t},t.prototype.setTemplate=function(){var e=this.getDayData("narrow"),t=this.getDayData("wide");this.element.innerHTML='<div class="e-editor"><div class="'+Te+" "+Me+'"><input type="text" tabindex="0" class="'+De+'"label="'+De.substr(2)+'" /></div><div class="'+Te+" "+Ce+" "+Re+'"><table  class="'+_e+' e-repeat-content-wrapper"><tr><td><input type="text" tabindex="0" class="'+be+'"title="'+this.localeObj.getConstant("repeatEvery")+'" /></td><td><span class="'+Je+'"></span></td></tr></table></div><div class="'+we+" "+Se+" "+Me+'"><div class=e-week-expander-label>'+this.localeObj.getConstant("on")+'</div><button type="button" class="e-round" data-index="0" title="'+t[0].text+'">'+e[0].text+'</button><button type="button" class="e-round" data-index="1" title="'+t[1].text+'">'+e[1].text+'</button><button type="button" class="e-round" data-index="2" title="'+t[2].text+'">'+e[2].text+'</button><button type="button" class="e-round" data-index="3" title="'+t[3].text+'">'+e[3].text+'</button><button type="button" class="e-round" data-index="4" title="'+t[4].text+'">'+e[4].text+'</button><button type="button" class="e-round" data-index="5" title="'+t[5].text+'">'+e[5].text+'</button><button type="button" class="e-round" data-index="6" title="'+t[6].text+'">'+e[6].text+'</button></div><div class="'+we+" "+Ae+" "+Me+'"><div class=e-month-expander-label>'+this.localeObj.getConstant("on")+'</div><div class="'+Ee+'"><input class="'+Oe+'" type="text" tabindex="0" title="'+this.localeObj.getConstant("yearExpander")+'"/></div><div class="'+xe+'"><table class="'+_e+' e-month-expand-wrapper"><tr><td><div class="'+Te+" "+Ve+'"><input class="'+ke+'"title="'+this.localeObj.getConstant("monthExpander")+'" type="radio"></div></td><td colspan="2"><div class="'+Te+' e-monthday-element"><input type="text" tabindex="0" class="'+Ie+'"title="'+this.localeObj.getConstant("on")+'" /></div></td></tr><tr><td><div class="'+Te+" "+Ve+'" style="min-width: 30px;margin-bottom:18px;"><input class="'+Pe+'"title="'+this.localeObj.getConstant("monthExpander")+'" type="radio"></div></td><td><div class="'+Te+' e-week-position" ><input type="text" tabindex="0" class="'+Le+'"title="'+this.localeObj.getConstant("monthPosition")+'" /></div></td><td><div class="'+Te+' e-day-position"><input type="text" tabindex="0" class="'+je+'"title="'+this.localeObj.getConstant("monthWeek")+'" /></div></td></tr></table></div></div><div class="'+we+" "+He+" "+Re+'"><div class=e-end-on-label>'+this.localeObj.getConstant("end")+'</div><div class="'+Te+' e-end-on-left"><input type="text" tabindex="0" class="'+Fe+'"title="'+this.localeObj.getConstant("end")+'" /></div><div class="'+Te+" "+Be+'" ><input type="text" tabindex="0" class="'+qe+'"title="'+this.localeObj.getConstant(tt)+'" /></div><div class="'+Te+" "+We+'"><input type="text" tabindex="0" class="'+Xe+'"title="'+this.localeObj.getConstant(it)+'" /></div></div></div></div>'},t.prototype.getSelectedDaysData=function(){var e=st+yt,t=[].slice.call(this.element.querySelectorAll("."+Se+" button."+ze)),i=[pt,ut,dt,vt,mt,gt,ft];this.rotateArray(i,this.firstDayOfWeek);for(var n=0;n<t.length;n++)e+=i[parseInt(t[n].getAttribute("data-index"),10)]+(n===t.length-1?"":",");return e+Tt},t.prototype.getSelectedMonthData=function(){return this.onWeekDay.checked?st+yt+this.monthWeekDays.value+Tt+"BYSETPOS"+yt+this.monthWeekPos.value+Tt:"BYMONTHDAY="+this.monthDate.value+Tt},t.prototype.getIntervalData=function(){return"INTERVAL="+this.repeatInterval.value+Tt},t.prototype.getEndOnCount=function(){return"COUNT="+this.recurrenceCount.value+Tt},t.prototype.getYearMonthRuleData=function(){return"BYMONTH="+this.monthValue.value+Tt},t.prototype.updateWeekButton=function(e){var t=[pt,ut,dt,vt,mt,gt,ft];this.rotateArray(t,this.firstDayOfWeek);for(var i=0,n=this.dayButtons;i<n.length;i++){var r=n[i],a=parseInt(r.element.getAttribute("data-index"),10);-1!==e.indexOf(t[a])?r.setProperties({isPrimary:!0}):r.setProperties({isPrimary:!1})}},t.prototype.updateMonthUI=function(){if(this.ruleObject.monthDay.length)this.monthDate.setProperties({value:this.ruleObject.monthDay[0]}),this.onMonthDay.setProperties({checked:!0});else{this.onWeekDay.setProperties({checked:!0}),this.monthWeekPos.setProperties({value:this.ruleObject.setPosition});for(var e=0,t=Object.keys(Dt);e<t.length;e++){var i=t[e];if(Dt[i]===this.ruleObject.day[0]){this.monthWeekDays.setProperties({value:this.ruleObject.day[0]});break}}}},t.prototype.updateUI=function(e,t){switch(this.repeatInterval.setProperties({value:this.ruleObject.interval}),t){case tt:this.untilDateObj.setProperties({value:this.ruleObject.until});break;case it:this.recurrenceCount.setProperties({value:this.ruleObject.count})}switch(e){case Ke:this.updateWeekButton(this.ruleObject.day);break;case Ze:this.monthValue.setProperties({index:this.ruleObject.month[0]-1}),this.updateMonthUI();break;case $e:this.updateMonthUI()}},t.prototype.getUntilData=function(){return this.untilDateObj.value?"UNTIL="+(0,ge.od)(this.untilDateObj.value)+Tt:""},t.prototype.destroyComponents=function(){this.recurrenceCount.isDestroyed||this.recurrenceCount.destroy(),this.monthDate.isDestroyed||this.monthDate.destroy(),this.repeatInterval.isDestroyed||this.repeatInterval.destroy(),this.untilDateObj.isDestroyed||this.untilDateObj.destroy(),this.repeatType.isDestroyed||this.repeatType.destroy(),this.endType.isDestroyed||this.endType.destroy(),this.monthWeekPos.isDestroyed||this.monthWeekPos.destroy(),this.monthWeekDays.isDestroyed||this.monthWeekDays.destroy(),this.monthValue.isDestroyed||this.monthValue.destroy(),this.dayButtons.forEach((function(e){e.isDestroyed||e.destroy()})),this.dayButtons=[],this.monthButtons.forEach((function(e){e.isDestroyed||e.destroy()})),this.monthButtons=[]},t.prototype.resetFields=function(){this.startState(Qe,et,this.startDate),this.setDefaultValue()},t.prototype.updateRuleUntilDate=function(e){if(this.untilDateObj.value&&e){var t=this.untilDateObj.value,i=new Date(t.getFullYear(),t.getMonth(),t.getDate(),e.getHours(),e.getMinutes(),e.getMilliseconds());this.untilDateObj.setProperties({value:i})}},t.prototype.getCalendarMode=function(){return this.calendarMode.toLowerCase()},t.prototype.getRuleSummary=function(e){return void 0===e&&(e=this.getRecurrenceRule()),(0,ge.ur)(e,this.localeObj,this.locale,this.calendarMode)},t.prototype.getRecurrenceDates=function(e,t,i,n,a){return a=(0,r.hX)(a)?this.startDate:a,(0,ge.cM)(e,t,i,this.firstDayOfWeek,n,a,this.calendarMode)},t.prototype.getRecurrenceRule=function(){var e="FREQ=";switch(this.repeatType.value){case Ge:e+=ot+Tt;break;case Ke:e+=lt+Tt+this.getSelectedDaysData();break;case $e:e+=ht+Tt+this.getSelectedMonthData();break;case Ze:e+=ct+Tt+this.getSelectedMonthData()+this.getYearMonthRuleData();break;case Qe:return""}switch(e+=this.getIntervalData(),this.endType.value){case tt:e+=this.getUntilData();break;case it:e+=this.getEndOnCount()}return e},t.prototype.setRecurrenceRule=function(e,t){if(void 0===t&&(t=this.startDate),e){this.renderStatus=!1,this.ruleObject=(0,ge.lr)(e);var i=this.ruleObject.count?it:this.ruleObject.until?tt:et;switch(this.ruleObject.freq){case ot:this.startState(Ge,i,t),this.updateUI(Ge,i);break;case lt:this.startState(Ke,i,t),this.updateUI(Ke,i);break;case ht:this.startState($e,i,t),this.updateUI($e,i);break;case ct:this.startState(Ze,i,t),this.updateUI(Ze,i)}this.renderStatus=!0,this.triggerChangeEvent()}else this.repeatType.setProperties({value:Qe})},t.prototype.destroy=function(){this.destroyComponents(),e.prototype.destroy.call(this);var t=["e-"+this.getModuleName()];for(this.cssClass&&(t=t.concat(this.cssClass.split(" "))),(0,r.vy)([this.element],t);this.element.firstElementChild;)this.element.removeChild(this.element.firstElementChild)},t.prototype.getModuleName=function(){return"recurrenceeditor"},t.prototype.getPersistData=function(){return this.addOnPersist([])},t.prototype.render=function(){this.initialize(),this.rtlClass(this.enableRtl),this.renderStatus=!0,this.renderComplete()},t.prototype.onPropertyChanged=function(e,t){for(var i=0,n=Object.keys(e);i<n.length;i++){switch(n[i]){case"startDate":this.selectMonthDay(e.startDate),this.updateUntilDate(e.startDate),this.endType.setProperties({index:0});break;case"enableRtl":this.rtlClass(e.enableRtl);break;case"cssClass":t.cssClass&&(0,r.vy)([this.element],t.cssClass.split(" ")),e.cssClass&&(0,r.iQ)([this.element],e.cssClass.split(" "));break;case"selectedType":this.repeatType.setProperties({index:this.selectedType});break;case"minDate":this.untilDateObj.setProperties({minDate:this.minDate});break;case"maxDate":this.untilDateObj.setProperties({maxDate:this.maxDate});break;case"value":this.getRecurrenceRule()!==this.value&&this.setRecurrenceRule(this.value);break;case"calendarMode":this.calendarMode=e.calendarMode,this.calendarUtil=(0,ge.BW)(e.calendarMode);break;case"locale":case"frequencies":case"firstDayOfWeek":this.refresh();break;case"dateFormat":this.untilDateObj.setProperties({format:e.dateFormat})}}},ye([(0,r.mA)(["none","daily","weekly","monthly","yearly"])],t.prototype,"frequencies",void 0),ye([(0,r.mA)(0)],t.prototype,"firstDayOfWeek",void 0),ye([(0,r.mA)(new Date)],t.prototype,"startDate",void 0),ye([(0,r.mA)()],t.prototype,"dateFormat",void 0),ye([(0,r.mA)("Gregorian")],t.prototype,"calendarMode",void 0),ye([(0,r.mA)()],t.prototype,"cssClass",void 0),ye([(0,r.mA)()],t.prototype,"value",void 0),ye([(0,r.mA)(new Date(1900,0,1))],t.prototype,"minDate",void 0),ye([(0,r.mA)(new Date(2099,11,31))],t.prototype,"maxDate",void 0),ye([(0,r.mA)(0)],t.prototype,"selectedType",void 0),ye([(0,r.Jh)()],t.prototype,"change",void 0),t=ye([r.kc],t)}(r.uA),Mt="e-field",Rt="e-recurrence-container",It="e-hide",Pt=function(){function e(e){this.parent=e,this.l10n=this.parent.localeObj,this.fields=this.parent.eventFields,this.eventWindowTime={startTime:new Date,endTime:new Date},this.renderEventWindow()}return e.prototype.renderEventWindow=function(){this.element=(0,r.n)("div",{id:this.parent.element.id+"_dialog_wrapper"}),this.parent.element.appendChild(this.element);var e={animationSettings:{effect:"Zoom"},content:this.getEventWindowContent(),cssClass:p.Kf1,enableRtl:this.parent.enableRtl,height:this.parent.isAdaptive?"100%":"auto",minHeight:"300px",isModal:!0,showCloseIcon:!this.parent.isAdaptive,target:document.body,visible:!1,width:"500px",beforeOpen:this.onBeforeOpen.bind(this),beforeClose:this.onBeforeClose.bind(this)};this.parent.isAdaptive?(e.cssClass=p.Kf1+" "+p.Oc1,e.header='<div class="e-title-header"><div class="e-back-icon e-icons"></div><div class="e-title-text">'+this.l10n.getConstant("newEvent")+'</div><div class="e-save-icon e-icons"></div></div>'):(e.buttons=[{buttonModel:{content:this.l10n.getConstant("deleteButton"),cssClass:p.oMZ,disabled:!this.parent.eventSettings.allowDeleting||this.parent.readonly},click:this.eventDelete.bind(this)},{buttonModel:{content:this.l10n.getConstant("saveButton"),cssClass:"e-primary "+p.s4n,isPrimary:!0,disabled:!this.parent.eventSettings.allowAdding||this.parent.readonly},click:this.eventSave.bind(this)},{buttonModel:{cssClass:p.lvH,content:this.l10n.getConstant("cancelButton")},click:this.dialogClose.bind(this)}],e.header='<div class="e-title-text">'+this.l10n.getConstant("newEvent")+"</div>"),this.dialogObject=new S.lG(e,this.element),this.dialogObject.element.querySelector(".e-dlg-closeicon-btn")&&this.dialogObject.element.querySelector(".e-dlg-closeicon-btn").setAttribute("title",this.l10n.getConstant("close")),(0,r.iQ)([this.element.parentElement],p.Kf1+"-container"),this.parent.isAdaptive&&(r.Jm.add(this.element.querySelector("."+p.zFp),"click",this.dialogClose,this),r.Jm.add(this.element.querySelector("."+p.J9Z),"click",this.eventSave,this)),r.Jm.add(this.dialogObject.element,"keydown",this.preventEventSave,this),this.applyFormValidation()},e.prototype.refresh=function(){this.destroy(!0),this.renderEventWindow()},e.prototype.refreshRecurrenceEditor=function(){if(this.recurrenceEditor){var e=this.recurrenceEditor.element;this.recurrenceEditor.destroy(),this.createRecurrenceEditor(e)}},e.prototype.setRecurrenceEditor=function(e){this.parent.editorTemplate&&(this.recurrenceEditor=e)},e.prototype.openEditor=function(e,t,i,n){if(this.parent.currentAction=t,this.parent.removeNewEventElement(),this.parent.quickPopup&&this.parent.quickPopup.quickPopupHide(!0),this.parent.inlineModule.removeInlineAppointmentElement(),"Add"===t){var a={};this.cellClickAction=!i,this.parent.activeCellsData=e;var s=e;this.cellClickAction?this.convertToEventData(s,a):(this.parent.activeCellsData={startTime:s.startTime||s[this.fields.startTime],endTime:s.endTime||s[this.fields.endTime],isAllDay:s.isAllDay||s[this.fields.isAllDay],element:s.element,groupIndex:s.groupIndex},a=s),e=a}switch((0,r.hX)(this.parent.editorTemplate)||this.renderFormElements(this.element.querySelector(".e-schedule-form"),e),!this.parent.isAdaptive&&(0,r.hX)(this.parent.editorTemplate)&&(0,r.vy)([this.dialogObject.element.querySelector(".e-recurrenceeditor")],p.AV8),this.recurrenceEditor&&(this.recurrenceEditor.firstDayOfWeek=this.parent.activeViewOptions.firstDayOfWeek),t){case"Add":this.onCellDetailsUpdate(e,n);break;case"Save":case"EditOccurrence":case"EditSeries":case"EditFollowingEvents":"EditOccurrence"===t&&!this.parent.isAdaptive&&(0,r.hX)(this.parent.editorTemplate)&&(0,r.iQ)([this.dialogObject.element.querySelector(".e-recurrenceeditor")],p.AV8),this.cellClickAction=!1,this.onEventDetailsUpdate(e)}},e.prototype.setDialogContent=function(){this.dialogObject.content=this.getEventWindowContent(),this.dialogObject.dataBind()},e.prototype.preventEventSave=function(e){this.parent&&!this.parent.allowKeyboardInteraction&&"Enter"===e.code&&(this.isEnterKey=!0)},e.prototype.onBeforeOpen=function(e){var t=this,i={type:"Editor",data:this.eventData,cancel:!1,element:this.element,target:this.cellClickAction?this.parent.activeCellsData.element:this.parent.activeEventData.element};this.cellClickAction&&(i.duration=this.getSlotDuration());var n=this.getInstance(p.s4n);n&&(n.disabled=!(this.cellClickAction?this.parent.eventSettings.allowAdding:this.parent.eventSettings.allowEditing),n.dataBind());var a=this.getInstance(p.oMZ);a&&(a.disabled=!this.parent.eventSettings.allowDeleting,a.dataBind());var s=new g.c;return this.parent.trigger(h.LD,i,(function(i){if(e.cancel=i.cancel,t.duration=t.cellClickAction?i.duration:null,t.refreshDateTimePicker(t.duration),t.cellClickAction&&i.duration!==t.getSlotDuration()&&(0,r.hX)(t.parent.editorTemplate)){var n=t.getInstance(p.A7_),a=t.getInstance(p.jzV);a.value=new Date(n.value.getTime()+c.EM*i.duration),a.dataBind()}t.parent.editorTemplate&&t.element.querySelector(".e-recurrenceeditor")&&!t.recurrenceEditor&&(t.recurrenceEditor=t.getInstance("e-recurrenceeditor")),s.resolve(e)})),s},e.prototype.onBeforeClose=function(e){var t=this;e.isInteracted&&(this.isCrudAction=!1);var i={type:"Editor",event:e.event||this.dialogEvent,data:this.eventCrudData,cancel:!1,element:this.element,target:this.cellClickAction?this.parent.activeCellsData.element:this.parent.activeEventData.element},n=new g.c;return this.parent.trigger(h.Rb,i,(function(i){e.cancel=i.cancel,i.cancel||(t.isCrudAction&&(e.cancel=t.processCrudActions(i.data),t.isCrudAction=e.cancel),t.isCrudAction||(t.resetForm(),t.parent.eventBase.focusElement(!0),t.eventCrudData=null)),n.resolve(e)})),n},e.prototype.getEventWindowContent=function(){var e=(0,r.n)("div",{className:p.CQi}),t=(0,r.n)("form",{id:this.parent.element.id+"EditForm",className:p.Y9,attrs:{onsubmit:"return false;"}});return this.renderFormElements(t),e.appendChild(t),e},e.prototype.renderFormElements=function(e,t){if((0,r.hX)(this.parent.editorTemplate))e.appendChild(this.getDefaultEventWindowContent());else{if(t){this.recurrenceEditor&&(this.recurrenceEditor.destroy(),this.recurrenceEditor=null),this.destroyComponents();for(var i=0,n=[].slice.call(e.children);i<n.length;i++){var a=n[i];(0,r.TF)(a)}}var s=this.parent.element.id+"_editorTemplate",o=[].slice.call(this.parent.getEditorTemplate()(t||{},this.parent,"editorTemplate",s,!1));(0,r.BC)(o,e),this.parent.renderTemplates()}},e.prototype.getDefaultEventWindowContent=function(){var e=this.createDivElement(p.zDC),t=this.createDivElement(p.Shr);e.appendChild(t),t.appendChild(this.renderTextBox(p.YrY)),t.querySelector("."+p.YrY).setAttribute("title",this.parent.editorTitles.subject),t.appendChild(this.renderTextBox(p.$lw)),t.querySelector("."+p.$lw).setAttribute("title",this.parent.editorTitles.location);var i=this.createDivElement(p.Crj);e.appendChild(i),i.appendChild(this.renderDateTimePicker(p.A7_,this.onTimeChange.bind(this))),i.querySelector("."+p.A7_).setAttribute("title",this.parent.editorTitles.startTime),i.appendChild(this.renderDateTimePicker(p.jzV)),i.querySelector("."+p.jzV).setAttribute("title",this.parent.editorTitles.endTime);var n=this.createDivElement(p.kC8);e.appendChild(n),n.appendChild(this.renderCheckBox(p.sSx)),n.appendChild(this.renderCheckBox(p.ETh));var a=this.createDivElement(p.cFD);e.appendChild(a),a.appendChild(this.renderDropDown(p.Hby)),a.appendChild(this.renderDropDown(p.uD));var s=this.createDivElement(p.BMu);e.appendChild(s);var o=this.renderCheckBox(p.jTi),l=(0,r.n)("span",{className:Rt}),h=(0,r.n)("button",{className:"e-recurrence-edit-button",attrs:{type:"button",title:this.l10n.getConstant("editRecurrence")}});if(this.buttonObj=new E.$({iconCss:"e-recurrence-edit e-icons",cssClass:"e-medium "+this.parent.cssClass}),l.appendChild(h),this.buttonObj.appendTo(h),o.appendChild(l),s.appendChild(o),this.parent.isAdaptive?r.Jm.add(h,"click",this.loadRecurrenceEditor,this):this.createRecurrenceEditor(e),this.parent.resourceCollection.length>0){for(var c=this.createDivElement(p.hOG),u=0,d=this.parent.resourceBase.resourceCollection;u<d.length;u++){var v=d[u];c.appendChild(this.renderResourceDetails(v))}e.appendChild(c)}var m=this.createDivElement(p.a5Q+"-row");m.appendChild(this.renderTextBox(p.a5Q)),m.querySelector("."+p.a5Q).setAttribute("title",this.parent.editorTitles.description),e.appendChild(m);var g=(0,r.n)("button",{attrs:{type:"hidden",title:"submit",style:"display:none"}});return e.appendChild(g),e},e.prototype.createRecurrenceEditor=function(e){var t=this.createDivElement();e.appendChild(t),this.recurrenceEditor=this.renderRecurrenceEditor(),this.recurrenceEditor.appendTo(t),this.updateMinMaxDateToEditor()},e.prototype.createDivElement=function(e){return(0,r.n)("div",{className:e})},e.prototype.createInputElement=function(e,t,i){return(0,r.n)(i||"input",{className:e,attrs:{type:"text",name:t,value:"",id:t,title:""===this.l10n.getConstant(t.charAt(0).toLowerCase()+t.slice(1))?t:this.l10n.getConstant(t.charAt(0).toLowerCase()+t.slice(1))}})},e.prototype.getSlotDuration=function(){return this.parent.activeViewOptions.timeScale.interval/this.parent.activeViewOptions.timeScale.slotCount},e.prototype.renderDateTimePicker=function(e,t){var i=this.createDivElement(e+"-container"),n=this.getFieldName(e),a=this.createInputElement(e+" "+Mt,n);return i.appendChild(a),new ue.K({change:t,firstDayOfWeek:this.parent.activeViewOptions.firstDayOfWeek,calendarMode:this.parent.calendarMode,min:this.parent.minDate,max:new Date(new Date(+this.parent.maxDate).setHours(23,59,59)),cssClass:this.parent.cssClass,enableRtl:this.parent.enableRtl,locale:this.parent.locale,floatLabelType:"Always",timeFormat:this.parent.activeViewOptions.timeFormat,format:((0,r.hX)(this.parent.dateFormat)?this.getFormat("dateFormats"):this.parent.dateFormat)+" "+this.parent.activeViewOptions.timeFormat,placeholder:this.getFieldLabel(e),step:this.getSlotDuration(),width:"100%"}).appendTo(a),i},e.prototype.refreshDateTimePicker=function(e){for(var t="."+p.A7_+",."+p.jzV,i=0,n=[].slice.call(this.element.querySelectorAll(t));i<n.length;i++){var r=n[i].ej2_instances[0];r.firstDayOfWeek=this.parent.activeViewOptions.firstDayOfWeek,r.timeFormat=this.parent.activeViewOptions.timeFormat,r.step=e||this.getSlotDuration(),r.dataBind()}},e.prototype.onTimeChange=function(){var e=this.getInstance(p.A7_);if(e.element.parentElement.classList.contains("e-input-focus")){var t=this.getInstance(p.jzV),i=0;this.cellClickAction?(i=c.EM*this.duration,this.eventWindowTime.startTime=e.value):i=this.eventData[this.fields.endTime].getTime()-this.eventData[this.fields.startTime].getTime();var n=(0,r.hX)(e.value)?null:new Date(e.value.getTime()+i);this.cellClickAction&&(this.eventWindowTime.endTime=n),t.value=n,t.dataBind()}this.recurrenceEditor&&this.recurrenceEditor.updateRuleUntilDate(this.eventWindowTime.startTime)},e.prototype.renderResourceDetails=function(e){var t=e.field,i="e-"+t,n=e.title,r=this.createDivElement(i+"-container e-resources"),a=this.createInputElement(i+" "+Mt,t);r.appendChild(a);var s='<div class="e-resource-template"><div class="e-resource-color" style="background-color:${'+e.colorField+'}"></div><div class="e-resource-text">${'+e.textField+"}</div></div>";e.allowMultiple?new ce({cssClass:this.parent.cssClass||"",dataSource:e.dataSource,change:this.onMultiselectResourceChange.bind(this),itemTemplate:s,fields:{text:e.textField,value:e.idField},htmlAttributes:{title:n,name:t},floatLabelType:"Always",placeholder:n,popupHeight:"230px",popupWidth:"447px",mode:"Box"}).appendTo(a):new pe.O({cssClass:this.parent.cssClass||"",change:this.onDropdownResourceChange.bind(this),dataSource:e.dataSource,enableRtl:this.parent.enableRtl,fields:{text:e.textField,value:e.idField},htmlAttributes:{title:n,name:t},floatLabelType:"Always",placeholder:n,popupHeight:"230px",popupWidth:"447px",itemTemplate:s}).appendTo(a);return r},e.prototype.renderDropDown=function(e){var t=this,i=this.getFieldName(e),n=this.createDivElement(e+"-container"),r=this.createInputElement(e+" "+Mt,i);return n.appendChild(r),new pe.O({allowFiltering:!0,change:this.onTimezoneChange.bind(this),cssClass:this.parent.cssClass||"",dataSource:this.parent.timezoneDataSource,enableRtl:this.parent.enableRtl,fields:{text:"Text",value:"Value"},filterBarPlaceholder:this.parent.localeObj.getConstant("searchTimezone"),noRecordsTemplate:this.parent.localeObj.getConstant("noRecords"),filtering:function(e){var i=new f.X;i=""!==e.text?i.where("Text","contains",e.text,!0):i,e.updateData(t.parent.timezoneDataSource,i)},htmlAttributes:{title:this.getFieldLabel(e),name:i},floatLabelType:"Always",placeholder:this.getFieldLabel(e),popupHeight:"230px"}).appendTo(r),n},e.prototype.onMultiselectResourceChange=function(e){if(e.value&&this.parent.activeViewOptions.group.byGroupID&&!(this.parent.resourceCollection.length<=1))for(var t=this.parent.resourceBase.resourceCollection,i=e.element.getAttribute("name")||this.getColumnName(e.element),n=0;n<t.length;n++)if(t[n].field===i&&n<t.length-1){for(var r=this.createInstance(n),a=[],s=function(i){var r=t[n+1],s=r.dataSource.filter((function(t){return t[r.groupIDField]===e.value[i]}))[0][t[n+1].groupIDField],l=o.filterDatasource(n,s);a=a.concat(l)},o=this,l=0;l<e.value.length;l++)s(l);r.dataSource=a,r.dataBind()}},e.prototype.createInstance=function(e){var t=this.parent.resourceBase.resourceCollection[e+1];return this.element.querySelector(".e-"+t.field).ej2_instances[0]},e.prototype.onDropdownResourceChange=function(e){if(e.value&&!(this.parent.resourceCollection.length<=1)&&this.parent.activeViewOptions.group.byGroupID)for(var t=e.element.getAttribute("name")||this.getColumnName(e.element),i=this.parent.resourceBase.resourceCollection,n=0;n<i.length;n++)if(n<i.length-1&&i[n].field===t){var r=this.createInstance(n),a=e.itemData[i[n].idField];r.dataSource=this.filterDatasource(n,a),r.dataBind();var s=r.dataSource[0][i[n+1].idField];r.value=i[n+1].allowMultiple?[s]:s,r.dataBind()}},e.prototype.filterDatasource=function(e,t){var i=this.parent.resourceBase.resourceCollection[e+1];return i.dataSource.filter((function(e){return e[i.groupIDField]===t}))},e.prototype.onTimezoneChange=function(e){if((e.element.getAttribute("name")||this.getColumnName(e.element))===this.parent.eventFields.startTimezone){var t=this.getInstance(p.Hby),i=this.getInstance(p.uD);i.value=t.value,i.dataBind()}},e.prototype.renderCheckBox=function(e){var t=this.createDivElement(e+"-container"),i=this.getFieldName(e),n=this.createInputElement(e+" "+Mt,i);t.appendChild(n);var r=new I.o({change:this.onChange.bind(this),cssClass:e+" "+this.parent.cssClass,enableRtl:this.parent.enableRtl,label:this.getFieldLabel(e)});return r.appendTo(n),n.setAttribute("name",i),"Repeat"===i&&(this.repeatStatus=r),t},e.prototype.renderTextBox=function(e){var t=this.createDivElement(e+"-container"),i=this.getFieldName(e),n=e===p.a5Q?"textarea":"input",r=this.createInputElement(e+" "+Mt,i,n);return t.appendChild(r),O.p.createInput({element:r,floatLabelType:"Always",properties:{enableRtl:this.parent.enableRtl,placeholder:this.getFieldLabel(e)}}),t},e.prototype.getFieldName=function(e){var t="";switch(e){case p.YrY:t=this.fields.subject;break;case p.$lw:t=this.fields.location;break;case p.A7_:t=this.fields.startTime;break;case p.jzV:t=this.fields.endTime;break;case p.a5Q:t=this.fields.description;break;case p.sSx:t=this.fields.isAllDay;break;case p.Hby:t=this.fields.startTimezone;break;case p.uD:t=this.fields.endTimezone;break;case p.ETh:t="Timezone";break;case p.jTi:t="Repeat"}return t},e.prototype.getFieldLabel=function(e){var t="";switch(e){case p.YrY:t=this.parent.editorTitles.subject;break;case p.$lw:t=this.parent.editorTitles.location;break;case p.a5Q:t=this.parent.editorTitles.description;break;case p.A7_:t=this.parent.editorTitles.startTime;break;case p.jzV:t=this.parent.editorTitles.endTime;break;case p.Hby:t=this.parent.editorTitles.startTimezone;break;case p.uD:t=this.parent.editorTitles.endTimezone;break;case p.jTi:t=this.parent.editorTitles.recurrenceRule;break;case p.sSx:t=this.parent.editorTitles.isAllDay;break;case p.ETh:t=this.l10n.getConstant("timezone")}return t},e.prototype.onChange=function(e){var t=e.event.currentTarget.querySelector("input");t.classList.contains(p.sSx)?this.onAllDayChange(e.checked):t.classList.contains(p.ETh)?this.timezoneChangeStyle(e.checked):t.classList.contains(p.jTi)&&this.onRepeatChange(e.checked)},e.prototype.renderRepeatDialog=function(){var e=(0,r.n)("div");this.repeatDialogObject=new S.lG({header:this.l10n.getConstant("recurrence"),visible:!1,content:'<div class="e-rec-editor"></div>',closeOnEscape:!0,width:"90%",buttons:[{click:this.repeatSaveDialog.bind(this),buttonModel:{content:this.l10n.getConstant("save"),cssClass:"e-save",isPrimary:!0}},{click:this.repeatCancelDialog.bind(this),buttonModel:{cssClass:"e-cancel",content:this.l10n.getConstant("cancel")}}],target:this.element,animationSettings:{effect:"Zoom"},enableRtl:this.parent.enableRtl,isModal:!0,cssClass:"e-recurrence-dialog",open:this.repeatOpenDialog.bind(this)}),this.element.appendChild(e),this.repeatDialogObject.appendTo(e),this.createRecurrenceEditor(this.repeatDialogObject.element.querySelector(".e-rec-editor"))},e.prototype.loadRecurrenceEditor=function(){this.repeatDialogObject.show(),this.recurrenceEditor&&this.repeatRule&&this.recurrenceEditor.setRecurrenceRule(this.repeatRule)},e.prototype.onRepeatChange=function(e){if(e)this.repeatDialogObject||this.renderRepeatDialog(),this.recurrenceEditor.setProperties({startDate:this.repeatStartDate,selectedType:0}),this.loadRecurrenceEditor();else{this.repeatDialogObject&&this.repeatDialogObject.hide(),this.repeatRule="",this.recurrenceEditor&&(this.recurrenceEditor.setRecurrenceRule(this.repeatRule),this.updateRepeatLabel(this.repeatRule));var t=this.element.querySelector("."+Rt);(0,r.iQ)([t],It)}},e.prototype.repeatSaveDialog=function(){this.repeatRule=this.recurrenceEditor.getRecurrenceRule();var e=this.element.querySelector("."+Rt);this.recurrenceEditor.getRecurrenceRule()?(0,r.vy)([e],It):((0,r.iQ)([e],It),this.repeatStatus.setProperties({checked:!1})),this.updateRepeatLabel(this.repeatRule),this.closeRepeatDialog()},e.prototype.closeRepeatDialog=function(){this.repeatDialogObject.hide()},e.prototype.repeatCancelDialog=function(){this.closeRepeatDialog(),this.recurrenceEditor&&this.recurrenceEditor.setRecurrenceRule(this.repeatTempRule),this.repeatTempRule||this.repeatStatus.setProperties({checked:!1})},e.prototype.repeatOpenDialog=function(){this.repeatTempRule=this.recurrenceEditor.getRecurrenceRule()},e.prototype.onCellDetailsUpdate=function(e,t){if(this.parent.eventSettings.allowAdding){this.element.querySelector("."+p.Y9).removeAttribute("data-id"),this.element.querySelector("."+p.KTV).innerHTML=this.l10n.getConstant("newEvent"),e.Timezone=!1,this.repeatStartDate=e[this.fields.startTime],this.repeatRule="",(0,r.hX)(this.parent.eventSettings.fields.subject.default)||(e[this.fields.subject]=this.parent.eventSettings.fields.subject.default),(0,r.hX)(this.parent.eventSettings.fields.location.default)||(e[this.fields.location]=this.parent.eventSettings.fields.location.default),(0,r.hX)(this.parent.eventSettings.fields.description.default)||(e[this.fields.description]=this.parent.eventSettings.fields.description.default),this.showDetails(e),e[this.fields.recurrenceRule]&&this.recurrenceEditor&&(this.recurrenceEditor.setRecurrenceRule(e[this.fields.recurrenceRule],e[this.fields.startTime]),this.repeatRule=e[this.fields.recurrenceRule]);var i=this.element.querySelector("."+p.oMZ);if(i&&(0,r.iQ)([i],p.AV8),this.recurrenceEditor&&this.recurrenceEditor.setProperties({startDate:e[this.fields.startTime],selectedType:(0,r.hX)(t)?(0,r.hX)(e[this.fields.recurrenceRule])?0:this.recurrenceEditor.selectedType:t}),this.parent.isAdaptive&&(0,r.hX)(this.parent.editorTemplate)){var n=this.element.querySelector("."+Rt);(0,r.iQ)([n],It),this.updateRepeatLabel(this.repeatRule)}else{var a=this.element.querySelector("."+p.s4n);this.disableButton(a,!1)}this.dialogObject.show()}},e.prototype.convertToEventData=function(e,t){e.subject&&(t[this.fields.subject]=e.subject),t[this.fields.startTime]=e.startTime,t[this.fields.endTime]=e.endTime,t[this.fields.isAllDay]=e.isAllDay,e.RecurrenceRule&&(t[this.fields.recurrenceRule]=e.RecurrenceRule),(this.parent.resourceCollection.length>0||this.parent.activeViewOptions.group.resources.length>0)&&this.parent.resourceBase.setResourceValues(t)},e.prototype.applyFormValidation=function(){var e=function(e){return e&&Object.keys(e).length>0?e:void 0},t=this.element.querySelector("."+p.Y9),i={};i[this.parent.eventSettings.fields.subject.name]=e(this.parent.eventSettings.fields.subject.validation),i[this.parent.eventSettings.fields.location.name]=e(this.parent.eventSettings.fields.location.validation),i[this.parent.eventSettings.fields.startTime.name]=e(this.parent.eventSettings.fields.startTime.validation),i[this.parent.eventSettings.fields.endTime.name]=e(this.parent.eventSettings.fields.endTime.validation),i[this.parent.eventSettings.fields.description.name]=e(this.parent.eventSettings.fields.description.validation),this.fieldValidator=new k,this.fieldValidator.renderFormValidator(t,i,this.element,this.parent.locale)},e.prototype.showDetails=function(e){var t=(0,r.X$)({},e,null,!0);0===t[this.fields.endTime].getHours()&&0===t[this.fields.endTime].getMinutes()&&this.trimAllDay(t),this.eventData=t;for(var i=this.getFormElements(p.Kf1),n=Object.keys(t),a=0,s=i;a<s.length;a++){var o=s[a],l=o.name||this.getColumnName(o);(0,r.hX)(l)||""===l||(-1!==n.indexOf(l)?this.setValueToElement(o,t[l]):this.setDefaultValueToElement(o))}if((0,r.hX)(this.parent.editorTemplate)){this.onAllDayChange(t[this.fields.isAllDay]);var h=this.getInstance(p.ETh+"."+Mt);(0,r.hX)(t[this.fields.startTimezone])&&(0,r.hX)(t[this.fields.endTimezone])||(h.checked=!0,h.dataBind()),this.timezoneChangeStyle(h.checked),delete t.Timezone}},e.prototype.getColumnName=function(e){var t=e.getAttribute("data-name")||"";if(""===t){var i=!1,n="";e.classList.contains("e-dropdownlist")?(n="e-ddl",i=!0):e.classList.contains("e-multiselect")?(n="e-multiselect",i=!0):e.classList.contains("e-datetimepicker")?n="e-datetimepicker":e.classList.contains("e-datepicker")?n="e-datepicker":e.classList.contains("e-checkbox")&&(n="e-checkbox");var a=i?"."+n+":not(.e-control)":"."+n,s=(0,r.kp)(e,a)||e.querySelector("."+n);if(s){var o=s.querySelector("[name]");o&&(t=o.name)}}return t},e.prototype.onAllDayChange=function(e){var t,i=this.getInstance(p.A7_),n=this.getInstance(p.jzV),a=this.element.querySelector(".e-time-zone-container");e?(t=(0,r.hX)(this.parent.dateFormat)?this.getFormat("dateFormats"):this.parent.dateFormat,(0,r.iQ)(this.element.querySelectorAll(".e-time-icon"),p.e2K),(0,r.iQ)([a],p.AV8),this.element.querySelector("."+p.cFD)&&(0,r.vy)([this.element.querySelector("."+p.cFD)],p.T7l),i.format=n.format=t):(t=(0,r.hX)(this.parent.dateFormat)?this.getFormat("dateFormats")+" "+this.parent.activeViewOptions.timeFormat:this.parent.dateFormat+" "+this.parent.activeViewOptions.timeFormat,(0,r.vy)(this.element.querySelectorAll(".e-time-icon"),p.e2K),(0,r.vy)([a],p.AV8),this.element.querySelector(".e-checkbox-wrapper .e-time-zone").checked&&(0,r.iQ)([this.element.querySelector("."+p.cFD)],p.T7l),i.format=n.format=t),this.cellClickAction&&this.updateDateTime(e,i,n),i.dataBind(),n.dataBind(),(0,r.hX)(this.recurrenceEditor)||this.recurrenceEditor.updateRuleUntilDate(i.value)},e.prototype.updateDateTime=function(e,t,i){var n,r;if(e)if(n=c.JC(new Date(this.eventWindowTime.startTime.getTime())),this.parent.activeCellsData.isAllDay){var a=c.fi(new Date(this.eventWindowTime.endTime.getTime()),-1).getTime();r=+this.eventWindowTime.startTime>a?this.eventWindowTime.endTime:new Date(a)}else r=c.JC(new Date(this.eventWindowTime.endTime.getTime()));else{var s=this.parent.activeCellsData.startTime;if((n=new Date(this.eventWindowTime.startTime.getTime())).setHours(s.getHours(),s.getMinutes(),s.getSeconds()),this.parent.activeCellsData.isAllDay){var o=this.parent.getStartEndTime(this.parent.workHours.start);n.setHours(o.getHours(),o.getMinutes(),o.getSeconds()),(r=new Date(n.getTime())).setMilliseconds(c.EM*this.getSlotDuration())}else(r=new Date(n.getTime())).setMilliseconds(this.parent.activeCellsData.endTime.getTime()-this.parent.activeCellsData.startTime.getTime())}this.eventWindowTime={startTime:new Date(n.getTime()),endTime:new Date(r.getTime())},t.value=n,i.value=r,t.dataBind(),i.dataBind()},e.prototype.getFormat=function(e){return"en"===this.parent.locale||"en-US"===this.parent.locale?(0,r._W)(e+".short",(0,r.P)(this.parent.getCalendarMode())):(0,r._W)("main."+this.parent.locale+".dates.calendars."+this.parent.getCalendarMode()+"."+e+".short",r.pE)},e.prototype.onEventDetailsUpdate=function(e){if(this.parent.eventSettings.allowEditing){if(this.parent.isAdaptive||(0,r.vy)([this.element.querySelector("."+p.oMZ)],p.AV8),this.element.querySelector("."+p.KTV).innerHTML=this.l10n.getConstant("editEvent"),this.element.querySelector("."+p.Y9).setAttribute("data-id",e[this.fields.id].toString()),(0,r.hX)(this.parent.editorTemplate)){e=(0,r.X$)({},e,null,!0);var t=this.getInstance(p.ETh+"."+Mt),i=void 0;e[this.fields.startTimezone]||e[this.fields.endTimezone]?(i=!0,this.parent.eventBase.timezoneConvert(e)):i=!1,e.Timezone=i,t.checked=i,t.dataBind()}if(this.showDetails(e),e[this.fields.recurrenceRule]&&this.recurrenceEditor?this.recurrenceEditor.setRecurrenceRule(e[this.fields.recurrenceRule],e[this.fields.startTime]):!this.parent.isAdaptive&&this.recurrenceEditor&&(this.recurrenceEditor.setProperties({startDate:e[this.fields.startTime]}),this.recurrenceEditor.setRecurrenceRule("")),this.repeatStartDate=e[this.fields.startTime],this.repeatRule="",e[this.fields.recurrenceRule]&&(this.recurrenceEditor&&this.recurrenceEditor.setRecurrenceRule(e[this.fields.recurrenceRule],e[this.fields.startTime]),this.repeatRule=e[this.fields.recurrenceRule]),this.parent.isAdaptive&&(0,r.hX)(this.parent.editorTemplate)){var n=this.element.querySelector("."+Rt);e[this.fields.recurrenceRule]?((0,r.vy)([n],It),this.repeatStatus.setProperties({checked:!0})):((0,r.iQ)([n],It),this.repeatStatus.setProperties({checked:!1})),this.updateRepeatLabel(this.repeatRule)}var a=this.parent.readonly||e[this.fields.isReadonly];if(this.parent.isAdaptive){var s=this.element.querySelector("."+p.J9Z);s&&(a?(0,r.iQ)([s],p.CWy):(0,r.vy)([s],p.CWy))}else{var o=this.element.querySelector("."+p.s4n),l=this.element.querySelector("."+p.oMZ);this.disableButton(o,a),this.disableButton(l,a)}this.dialogObject.show()}},e.prototype.disableButton=function(e,t){e&&(e.ej2_instances[0].disabled=t)},e.prototype.renderRecurrenceEditor=function(){return new Vt({calendarMode:this.parent.calendarMode,cssClass:this.parent.cssClass,dateFormat:this.parent.dateFormat,enableRtl:this.parent.enableRtl,firstDayOfWeek:this.parent.activeViewOptions.firstDayOfWeek,locale:this.parent.locale})},e.prototype.updateMinMaxDateToEditor=function(){var e=this.element.querySelector(".e-start"),t=this.element.querySelector(".e-end");if(e&&t){var i=e.ej2_instances[0],n=t.ej2_instances[0];i.min=this.parent.minDate,i.max=this.parent.maxDate,n.min=this.parent.minDate,n.max=this.parent.maxDate,i.dataBind(),n.dataBind()}if(this.recurrenceEditor){var r=this.recurrenceEditor.element.querySelector(".e-until-date");if(r){var a=r.ej2_instances[0];a.min=this.parent.minDate,a.max=this.parent.maxDate,a.dataBind()}}},e.prototype.updateRepeatLabel=function(e){this.parent.isAdaptive&&!this.repeatDialogObject&&this.renderRepeatDialog();var t=e?this.l10n.getConstant("repeats")+" "+this.recurrenceEditor.getRuleSummary(e):this.l10n.getConstant("repeat");this.repeatStatus.setProperties({label:t})},e.prototype.dialogClose=function(e){this.isEnterKey?this.isEnterKey=!1:(this.dialogEvent=e,this.isCrudAction=!1,this.parent.activeEventData={event:void 0,element:void 0},this.parent.currentAction=null,this.dialogObject.hide())},e.prototype.resetForm=function(){this.fieldValidator.destroyToolTip(),this.resetFormFields(),this.parent.isAdaptive||!this.recurrenceEditor||this.recurrenceEditor.isDestroyed||this.recurrenceEditor.resetFields()},e.prototype.timezoneChangeStyle=function(e){var t=this.element.querySelector("."+p.cFD),i=this.parent.tzModule.getLocalTimezoneName();if(e){(0,r.iQ)([t],p.T7l);var n=this.getInstance(p.Hby),a=this.getInstance(p.uD),s=n.dataSource;if(!n.value||!this.parent.timezone)s.some((function(e){return e.Value===i}))||(s.push({Value:i,Text:i}),n.dataSource=s,a.dataSource=s,n.dataBind(),a.dataBind());n.value=n.value||this.parent.timezone||i,a.value=a.value||this.parent.timezone||i,n.dataBind(),a.dataBind()}else(0,r.vy)([t],p.T7l)},e.prototype.resetFormFields=function(){for(var e=0,t=this.getFormElements(p.Kf1);e<t.length;e++){var i=t[e],n=i.name||this.getColumnName(i);(0,r.hX)(n)||""===n||this.setDefaultValueToElement(i)}},e.prototype.eventSave=function(e,t){if(this.isEnterKey)this.isEnterKey=!1;else{var i=this.element.querySelector("."+p.Y9);if(!i||!i.classList.contains("e-formvalidator")||i.ej2_instances[0].validate()){var n=this.getEventDataFromEditor();this.processEventValidation(n.tempData,t)||(this.eventCrudData=n.eventData,this.dialogEvent=e,this.isCrudAction=!0,this.dialogObject.hide())}}},e.prototype.getEventDataFromEditor=function(){var e=(0,r.X$)({},this.getObjectFromFormData(p.Kf1));e.Timezone||(e[this.fields.startTimezone]=null,e[this.fields.endTimezone]=null),delete e.Timezone,delete e.Repeat,this.setDefaultValueToObject(e),e[this.fields.recurrenceRule]=this.recurrenceEditor?this.recurrenceEditor.getRecurrenceRule()||null:void 0;var t=(0,r.X$)({},e,null,!0);return e[this.fields.isAllDay]&&(e[this.fields.startTime]=(0,r.hX)(e[this.fields.startTime])?null:c.JC(new Date(e[this.fields.startTime].getTime())),e[this.fields.endTime]=(0,r.hX)(e[this.fields.endTime])?null:c.fi(c.JC(new Date(e[this.fields.endTime].getTime())),1)),{eventData:e,tempData:t}},e.prototype.processEventValidation=function(e,t){var i;if((0,r.hX)(this.parent.editorTemplate)){if(!e[this.fields.startTime]||!e[this.fields.endTime])return this.parent.quickPopup.openValidationError("invalidDateError"),!0;if(e[this.fields.startTime]>e[this.fields.endTime])return this.parent.quickPopup.openValidationError("startEndError"),!0}if(this.recurrenceEditor&&this.recurrenceEditor.value&&""!==this.recurrenceEditor.value){var n=!0;if("seriesChangeAlert"===(i=this.recurrenceValidation(e[this.fields.startTime],e[this.fields.endTime],t))&&this.parent.uiStateValues.isIgnoreOccurrence&&(n=!1),!(0,r.hX)(i)&&n&&(!this.parent.enableRecurrenceValidation&&"wrongPattern"===i||this.parent.enableRecurrenceValidation))return this.parent.quickPopup.openRecurrenceValidationAlert(i),!0}return!1},e.prototype.processCrudActions=function(e){var t=this;this.parent.uiStateValues.isBlock=!1;var i=this.getResourceData(e),n=(this.parent.activeViewOptions.group.resources.length>0||this.parent.resourceCollection.length>0)&&!this.parent.activeViewOptions.group.allowGroupEdit&&!(0,r.hX)(i),a=this.getEventIdFromForm();if((0,r.hX)(a))this.parent.currentAction="Add",n?this.resourceSaveEvent(e,this.parent.currentAction):(e[this.fields.id]=this.parent.eventBase.getEventMaxID(),this.parent.addEvent(e));else{var s="string"===this.parent.eventBase.getEventIDType()?a:parseInt(a,10),o=this.parent.eventsData.filter((function(e){return e[t.fields.id]===s}))[0];if((0,r.hX)(o)&&(o=this.parent.blockData.filter((function(e){return e[t.fields.id]===s}))[0]),(e=(0,r.X$)({},o,e))[this.fields.isReadonly])return!1;var l=void 0;if(!(0,r.hX)(o[this.fields.recurrenceRule])){if(l=this.parent.currentAction,e.Guid=this.parent.activeEventData.event.Guid,"EditOccurrence"===this.parent.currentAction&&(e[this.fields.recurrenceID]?(s=e[this.fields.recurrenceID],l=null):(e[this.fields.id]=this.parent.eventBase.getEventMaxID(),e.Guid=this.parent.activeEventData.event.Guid),this.parent.enableRecurrenceValidation&&this.editOccurrenceValidation(s,e)))return!0;"EditSeries"===this.parent.currentAction||e[this.fields.id]!==o[this.fields.id]?e[this.fields.recurrenceID]=o[this.fields.id]:"EditFollowingEvents"===this.parent.currentAction&&(e[this.fields.id]=this.parent.eventBase.getEventMaxID(),e[this.fields.followingID]=o[this.fields.id])}n?this.resourceSaveEvent(e,"Save",l):this.parent.saveEvent(e,l)}return this.parent.uiStateValues.isBlock},e.prototype.getResourceData=function(e){var t=null;!(0,r.hX)(this.parent.resourceBase)&&!(0,r.hX)(this.parent.resourceBase.resourceCollection)&&this.parent.resourceBase.resourceCollection.length>0&&(t=e[this.parent.resourceBase.resourceCollection.slice(-1)[0].field]);return t},e.prototype.getObjectFromFormData=function(e){for(var t={},i=0,n=this.getFormElements(e);i<n.length;i++){var a=n[i],s=a.name||this.getColumnName(a);(0,r.hX)(s)||""===s||(t[s]=this.getValueFromElement(a))}return t},e.prototype.setDefaultValueToObject=function(e){(0,r.hX)(e[this.fields.subject])||(e[this.fields.subject]=e[this.fields.subject]||this.parent.eventSettings.fields.subject.default||this.l10n.getConstant("addTitle")),(0,r.hX)(e[this.fields.location])||(e[this.fields.location]=e[this.fields.location]||this.parent.eventSettings.fields.location.default),(0,r.hX)(e[this.fields.description])||(e[this.fields.description]=e[this.fields.description]||this.parent.eventSettings.fields.description.default)},e.prototype.recurrenceValidation=function(e,t,i){var n,a=this.recurrenceEditor,s=this.getInstance("e-repeat-interval.e-numerictextbox").value;if(i!==this.l10n.getConstant("ok")){var o=this.parent.activeEventData.event,l=[];if(("EditSeries"===this.parent.currentAction||"EditFollowingEvents"===this.parent.currentAction)&&!(0,r.hX)(o)){var h=o[this.parent.eventFields.startTime],c=this.parent.eventBase.getSeriesEvents(this.eventData,h);if(c.length>0)l=this.parent.eventBase.getEditedOccurrences(c,h);else{var p=this.parent.eventBase.getEventById(o[this.parent.eventFields.id]);l=this.parent.eventBase.getEditedOccurrences([p],h)}"EditSeries"!==this.parent.currentAction||(0,r.hX)(this.eventData[this.parent.eventFields.recurrenceException])||l.push(this.eventData)}if(l.length>0&&(n="seriesChangeAlert"),"until"===this.getInstance("e-end-on-left .e-ddl .e-dropdownlist").value&&this.getInstance("e-end-on-date .e-datepicker").value<e&&(n="wrongPattern"),(0,r.hX)(n)){var u=a.value.split(";")[1].split("=")[1].split(","),d={SU:0,MO:1,TU:2,WE:3,TH:4,FR:5,SA:6},v=[],m=[],g=void 0;switch(a.value.split(";")[0].split("=")[1]){case"DAILY":(t.getTime()-e.getTime())/36e5>24*s&&(n="createError");break;case"WEEKLY":u=a.value.split(";")[1].split("=")[1].split(",");for(var f=0;f<u.length*(s+1);f++)v[f]=u.length>f?d[u[f]]:v[f-u.length]+7*s;g=v.sort((function(e,t){return e-t}));for(f=1;f<g.length;f++)m.push(g[f]-g[f-1]);((t.getTime()-e.getTime())/36e5>=24*Math.min.apply(Math,m)||(0,r.hX)(s))&&(n="createError");break;case"MONTHLY":t.getTime()>=new Date(+e).setMonth(e.getMonth()+s)&&(n="createError");break;case"YEARLY":t.getTime()>=new Date(+e).setFullYear(e.getFullYear()+s)&&(n="createError")}}}else t.getTime()>=new Date(+e).setMonth(e.getMonth()+s)&&(n="createError"),(0,r.hX)(n)&&this.parent.quickPopup.quickDialog.hide();return(0,r.hX)(s)&&(n="createError"),n},e.prototype.getRecurrenceIndex=function(e,t){for(var i,n=0;n<e.length;n++)if(t[this.fields.startTime].valueOf()===e[n][this.fields.startTime].valueOf()){i=n;break}return i},e.prototype.trimAllDay=function(e){if(e[this.fields.isAllDay]){var t=c.fi(new Date(+e[this.fields.endTime]),-1).getTime();e[this.fields.endTime]=+e[this.fields.startTime]>t?e[this.fields.endTime]:new Date(t)}},e.prototype.editOccurrenceValidation=function(e,t,i){var n=this;void 0===i&&(i=this.eventData);var a=this.parent.getOccurrencesByID(e),s=this.parent.eventsData.filter((function(t){return t[n.fields.recurrenceID]===e}));s.map((function(e){return a.push((0,r.X$)({},e))})),t=(0,r.X$)({},t),this.trimAllDay(t);for(var o=0,l=a;o<l.length;o++){var h=l[o];this.trimAllDay(h)}this.parent.eventBase.sortByTime(a);var p=this.getRecurrenceIndex(a,i);if((0,r.hX)(p))return!1;if(0===p){if(!(0,r.hX)(a[p+1])){if(!(c.JC(new Date(+a[p+1][this.fields.startTime])).getTime()>c.JC(new Date(+t[this.fields.endTime])).getTime())&&c.JC(new Date(+a[a.length-1][this.fields.endTime])).getTime()>=c.JC(new Date(+t[this.fields.startTime])).getTime())return this.parent.quickPopup.openRecurrenceValidationAlert("sameDayAlert"),!0;if(c.JC(new Date(+a[a.length-1][this.fields.endTime])).getTime()<c.JC(new Date(+t[this.fields.startTime])).getTime())return this.parent.quickPopup.openRecurrenceValidationAlert("occurrenceAlert"),!0}return!1}if(p===a.length-1){if(!(c.JC(new Date(+a[p-1][this.fields.endTime])).getTime()<c.JC(new Date(+t[this.fields.startTime])).getTime())&&c.JC(new Date(+a[a.length-1-p][this.fields.startTime])).getTime()<=c.JC(new Date(+t[this.fields.endTime])).getTime())return this.parent.quickPopup.openRecurrenceValidationAlert("sameDayAlert"),!0;if(c.JC(new Date(+a[a.length-1-p][this.fields.endTime])).getTime()>c.JC(new Date(+t[this.fields.startTime])).getTime())return this.parent.quickPopup.openRecurrenceValidationAlert("occurrenceAlert"),!0}else{if(!(c.JC(new Date(+a[p-1][this.fields.endTime])).getTime()<c.JC(new Date(+t[this.fields.startTime])).getTime()||c.JC(new Date(+a[0][this.fields.startTime])).getTime()>c.JC(new Date(+t[this.fields.startTime])).getTime())||!(c.JC(new Date(+a[p+1][this.fields.startTime])).getTime()>c.JC(new Date(+t[this.fields.endTime])).getTime()||c.JC(new Date(+a[a.length-1][this.fields.endTime])).getTime()<c.JC(new Date(+t[this.fields.startTime])).getTime()))return this.parent.quickPopup.openRecurrenceValidationAlert("sameDayAlert"),!0;if(c.JC(new Date(+a[p+1][this.fields.endTime])).getTime()<c.JC(new Date(+t[this.fields.startTime])).getTime()||c.JC(new Date(+a[p-1][this.fields.startTime])).getTime()>c.JC(new Date(+t[this.fields.endTime])).getTime())return this.parent.quickPopup.openRecurrenceValidationAlert("occurrenceAlert"),!0}return!1},e.prototype.resourceSaveEvent=function(e,t,i){var n=this,a=this.parent.resourceBase.resourceCollection.slice(-1)[0],s=e[a.field];s=s instanceof Array?s:[s];for(var o=this.parent.resourceBase.lastResourceLevel,l=[],h=function(h){var u=(0,r.X$)({},e,null,!0);u[p.fields.id]=p.parent.eventBase.getEventMaxID();var d=[],v=function(){if("Save"===t&&h===s.length-1)if(d.length>0){d[0][n.fields.id]=e[n.fields.id];for(var r=1;r<d.length;r++)d[r][n.fields.id]=n.parent.eventBase.getEventMaxID(h),l.push(d[r]),n.parent.saveEvent(d[0],i)}else u[n.fields.id]=e[n.fields.id],n.parent.saveEvent(u,i);else if(d.length>0)for(var a=0;a<d.length;a++)d[a][n.fields.id]=n.parent.eventBase.getEventMaxID(a),l.push(d[a]);else u[n.fields.id]=n.parent.eventBase.getEventMaxID(h),l.push(u)};if(p.parent.activeViewOptions.group.byGroupID&&!(0,r.hX)(o)){var m=a.dataSource,g=p.parent.resourceCollection,f=void 0;if((f=g.length>1?c.J(m,a.idField,s[h],u,g):c.J(m,a.idField,s[h]))<0)return{value:void 0};for(var y=m[f][a.groupIDField],T=o.filter((function(e){return e.resourceData[a.idField]===s[h]})).filter((function(e){return e.resourceData[a.groupIDField]===y}))[0].groupOrder,w=0;w<p.parent.resourceBase.resourceCollection.length;w++){var D=p.parent.resourceBase.resourceCollection[w].field;u[D]=T[w]instanceof Array?T[w][0]:T[w]}v()}else{for(f=0;f<p.parent.resourceBase.resourceCollection.length-1;f++){D=p.parent.resourceBase.resourceCollection[f].field;if(u[D]instanceof Array&&u[D].length>1)for(var b=0;b<u[D].length;b++){var C=(0,r.X$)({},u,null,!0);C[D]=e[D][b],C[a.field]=s[h],d.push(C)}else if(0===d.length)u[D]=e[D]instanceof Array?e[D][0]:e[D],u[a.field]=s[h];else for(var S=0;S<d.length;S++)d[S][D]=e[D]instanceof Array?e[D][0]:e[D]}u[a.field]=s[h],v()}},p=this,u=0;u<s.length;u++){var d=h(u);if("object"===typeof d)return d.value}if(l.length>0){for(var v=0,m=l;v<m.length;v++){var g=m[v];g[this.fields.recurrenceException]=null,g[this.fields.recurrenceID]=null}this.parent.addEvent(l)}},e.prototype.getEventIdFromForm=function(){return this.element.querySelector("."+p.Y9).getAttribute("data-id")},e.prototype.getFormElements=function(e){return e===p.Kf1?[].slice.call(this.element.querySelectorAll("."+Mt)):[].slice.call(this.parent.element.querySelectorAll("."+e+" ."+Mt))},e.prototype.getValueFromElement=function(e){return e.classList.contains("e-datepicker")||e.classList.contains("e-datetimepicker")||e.classList.contains("e-dropdownlist")||e.classList.contains("e-multiselect")?e.ej2_instances[0].value:e.classList.contains("e-checkbox")?e.ej2_instances[0].checked:"checkbox"===e.type?e.checked:r.r4.sanitize(e.value)},e.prototype.setValueToElement=function(e,t){if(e.classList.contains("e-datepicker"))(i=e.ej2_instances[0]).value=t,i.dataBind();else if(e.classList.contains("e-datetimepicker")){(i=e.ej2_instances[0]).element.classList.contains(p.A7_)?this.eventWindowTime.startTime=new Date(""+t):this.eventWindowTime.endTime=new Date(""+t),i.value=t,i.dataBind()}else if(e.classList.contains("e-dropdownlist")){(i=e.ej2_instances[0]).value=t,i.dataBind()}else if(e.classList.contains("e-multiselect")){(i=e.ej2_instances[0]).value=[],i.value=t instanceof Array?t:[t],i.dataBind()}else if(e.classList.contains("e-checkbox")){var i;(i=e.ej2_instances[0]).checked=t,i.dataBind()}else"checkbox"!==e.type?e.value=t||"":e.checked=t},e.prototype.setDefaultValueToElement=function(e){if(e.classList.contains("e-datepicker"))(t=e.ej2_instances[0]).value=this.parent.getCurrentTime(),t.dataBind();else if(e.classList.contains("e-datetimepicker")){var t=e.ej2_instances[0],i=this.parent.getCurrentTime();this.eventWindowTime={startTime:i,endTime:i},t.value=i,t.dataBind()}else if(e.classList.contains("e-dropdownlist")){(t=e.ej2_instances[0]).value=null,t.dataBind()}else if(e.classList.contains("e-multiselect")){(t=e.ej2_instances[0]).value=[],t.dataBind()}else if(e.classList.contains("e-checkbox")){(t=e.ej2_instances[0]).checked=!1,t.dataBind()}else"checkbox"===e.type?e.checked=!1:e.value=""},e.prototype.getInstance=function(e){var t=this.element.querySelector("."+e);return t?t.ej2_instances[0]:null},e.prototype.eventDelete=function(e){if(this.isEnterKey)this.isEnterKey=!1;else{switch(this.parent.currentAction){case"EditOccurrence":(0,r.hX)(this.parent.activeEventData.event[this.parent.eventFields.recurrenceRule])?this.parent.currentAction="Delete":this.parent.currentAction="DeleteOccurrence";break;case"EditSeries":this.parent.currentAction="DeleteSeries";break;case"Save":this.parent.currentAction="Delete";break;case"EditFollowingEvents":(0,r.hX)(this.parent.activeEventData.event[this.parent.eventFields.recurrenceRule])||(this.parent.currentAction="DeleteFollowingEvents")}this.dialogEvent=e,this.isCrudAction=!1,this.dialogObject.hide(),this.parent.quickPopup.openDeleteAlert()}},e.prototype.getRecurrenceEditorInstance=function(){return this.parent.isAdaptive&&!this.repeatDialogObject&&this.renderRepeatDialog(),this.recurrenceEditor},e.prototype.destroyComponents=function(){for(var e=0,t=this.getFormElements(p.Kf1);e<t.length;e++){var i=t[e],n=void 0;(i.classList.contains("e-datetimepicker")||i.classList.contains("e-datepicker")||i.classList.contains("e-checkbox")||i.classList.contains("e-dropdownlist")||i.classList.contains("e-multiselect"))&&(n=i.ej2_instances),n&&n[0]&&n[0].destroy()}this.buttonObj&&this.buttonObj.destroy()},e.prototype.destroy=function(e){this.parent&&!this.parent.isDestroyed&&this.parent.resetTemplates(["editorTemplate"]),this.destroyComponents(),this.recurrenceEditor&&(this.recurrenceEditor.destroy(),this.recurrenceEditor=null),this.fieldValidator&&(this.fieldValidator.destroy(),this.fieldValidator=null),this.repeatDialogObject&&(this.repeatDialogObject.destroy(),this.repeatDialogObject=null),this.dialogObject&&(this.dialogObject.element&&r.Jm.remove(this.dialogObject.element,"keydown",this.preventEventSave),this.dialogObject.destroy(),this.dialogObject=null),this.element&&((0,r.TF)(this.element),this.element=null),e||(this.l10n=null,this.parent=null,this.fields=null,this.buttonObj=null,this.repeatStatus=null,this.eventWindowTime=null)},e}(),Lt=function(){function e(e){this.translateY=0,this.itemSize=60,this.bufferCount=3,this.renderedLength=0,this.averageRowHeight=0,this.isScrollHeightNull=!0,this.parent=e,this.addEventListener()}return e.prototype.addEventListener=function(){!this.parent||this.parent&&this.parent.isDestroyed||this.parent.on(h.HT,this.virtualScrolling,this)},e.prototype.removeEventListener=function(){!this.parent||this.parent&&this.parent.isDestroyed||this.parent.off(h.HT,this.virtualScrolling)},e.prototype.getRenderedCount=function(){return this.setItemSize(),Math.ceil(this.parent.element.clientHeight/this.itemSize)+this.bufferCount},e.prototype.setTranslateValue=function(){var e=this.parent.element.querySelector("."+p.mpl),t=this.parent.element.querySelector("."+p._oL),i=this.parent.element.querySelector("."+p.bau),n=this.parent.element.querySelector("."+p.rOu);this.renderVirtualTrackHeight(t,e),this.setTranslate(e,t,i,n)},e.prototype.renderVirtualTrackHeight=function(e,t){if(this.parent.resourceBase.setExpandedResources(),this.isScrollHeightNull){var i=(0,r.n)("div",{className:p.XEi}),n=[].slice.call(t.querySelectorAll("table td")),a=parseInt(n[0].getAttribute("data-group-index"),10),s=parseInt(n[n.length-1].getAttribute("data-group-index"),10);this.parent.resourceBase.renderedResources=this.parent.resourceBase.expandedResources.filter((function(e){return e.groupIndex>=a&&e.groupIndex<=s})),this.setItemSize(),i.style.height=this.parent.resourceBase.expandedResources.length*this.itemSize+"px",this.isScrollHeightNull=!1;var o=this.parent.element.querySelector("."+p.XEi);(0,r.hX)(o)||(0,r.TF)(o),e.appendChild(i)}},e.prototype.renderVirtualTrack=function(e){var t=(0,r.n)("div",{className:p.XEi});t.style.height=this.parent.resourceBase.expandedResources.length*this.itemSize+"px",e.appendChild(t)},e.prototype.updateVirtualScrollHeight=function(){var e=this.parent.element.querySelector("."+p.XEi),t=this.parent.resourceBase.expandedResources[this.parent.resourceBase.expandedResources.length-1].groupIndex;if(this.parent.resourceBase.renderedResources[this.parent.resourceBase.renderedResources.length-1].groupIndex!==t){var i=this.parent.element.querySelector("."+p.s2p);this.renderedLength=i.querySelector("tbody").children.length,e.style.height=i.offsetHeight+(this.parent.resourceBase.expandedResources.length-this.renderedLength)*i.offsetHeight/this.renderedLength+"px"}else e.style.height="";this.averageRowHeight=e.offsetHeight/this.parent.resourceBase.expandedResources.length},e.prototype.updateVirtualTrackHeight=function(e){var t=this.parent.resourceBase.renderedResources.length;if(t!==this.getRenderedCount()){e.style.height=this.parent.element.querySelector(".e-content-wrap").clientHeight+"px";var i=this.parent.element.querySelector("."+p.mpl),n=this.parent.element.querySelector("."+p._oL),r=this.parent.element.querySelector("."+p.bau);this.translateY=0,this.setTranslate(i,n,r)}else{var a=this.parent.resourceBase.renderedResources[t-1].groupIndex,s=t+(this.parent.resourceBase.expandedResources[this.parent.resourceBase.expandedResources.length-1].groupIndex-a);s=s>this.parent.resourceBase.expandedResources.length?this.parent.resourceBase.expandedResources.length:s,e.style.height=s*this.itemSize+"px"}},e.prototype.setItemSize=function(){this.itemSize=c.iX(this.parent.activeView.element,p.fv4)||this.itemSize},e.prototype.renderEvents=function(){this.setTabIndex(),this.parent.refreshEvents(!1),this.parent.notify(h.PR,{}),this.parent.hideSpinner()},e.prototype.virtualScrolling=function(){var e=this;this.parent.quickPopup&&(this.parent.quickPopup.quickPopupHide(),this.parent.quickPopup.morePopup.hide());var t=this.parent.element.querySelector("."+p.mpl),i=this.parent.element.querySelector("."+p._oL),n=this.parent.element.querySelector("."+p.bau),a=this.parent.element.querySelector("."+p.rOu),s=this.parent.element.querySelector("."+p.s2p);this.renderedLength=t.querySelector("tbody").children.length;var o=parseInt(t.querySelector("tbody td").getAttribute("data-group-index"),10),l=this.parent.rowAutoHeight?s.offsetHeight-i.offsetHeight:this.bufferCount*this.itemSize;(0,r.iQ)([i],"e-transition");var h=[];if(i.scrollTop-this.translateY<0?h=this.upScroll(i,o):i.scrollTop-this.translateY>l&&(h=this.downScroll(i,o)),!(0,r.hX)(h)&&h.length>0){this.parent.showSpinner();var c=this.parent.getSelectedElements();this.focusedEle=c[c.length-1]||this.focusedEle,this.updateContent(t,i,n,h),this.setTranslate(t,i,n,a),this.parent.dragAndDropModule&&"drag"===this.parent.dragAndDropModule.actionObj.action&&this.parent.dragAndDropModule.navigationWrapper(),window.clearTimeout(this.timeValue),this.timeValue=window.setTimeout((function(){e.renderEvents()}),250)}},e.prototype.upScroll=function(e,t){var i=0;i=~~(e.scrollTop/this.itemSize)+Math.ceil(e.clientHeight/this.itemSize)-this.renderedLength,this.parent.rowAutoHeight&&(i=i>t?t-this.bufferCount:i),i=i>0?i:0;var n=this.getBufferCollection(i,i+this.renderedLength);if(this.parent.resourceBase.renderedResources=n,0===t)this.translateY=e.scrollTop;else{var r=this.parent.rowAutoHeight?this.averageRowHeight:this.itemSize;r=r>0?r:this.itemSize,this.translateY=e.scrollTop-this.bufferCount*r>0?e.scrollTop-this.bufferCount*r:0}return n},e.prototype.downScroll=function(e,t){if(this.parent.resourceBase.renderedResources[this.parent.resourceBase.renderedResources.length-1].groupIndex===this.parent.resourceBase.expandedResources[this.parent.resourceBase.expandedResources.length-1].groupIndex)return null;var i=0;i=~~(e.scrollTop/this.itemSize),this.parent.rowAutoHeight&&(i=(i=~~((e.scrollTop-this.translateY)/this.averageRowHeight)+t)>t+this.bufferCount?i:t+this.bufferCount);var n=i+this.renderedLength;n=n>this.parent.resourceBase.expandedResources.length?i+(this.parent.resourceBase.expandedResources.length-i):n;var r=this.getBufferCollection(n-this.renderedLength,n);return this.translateY=e.scrollTop,r},e.prototype.updateContent=function(e,t,i,n){var a=e.querySelector("tbody").children.length;document.activeElement&&document.activeElement.classList.contains(p.yWy)&&(this.isResourceCell=!0,this.parent.element.focus());for(var s=0;s<a;s++)(0,r.TF)(e.querySelector("tbody tr")),(0,r.TF)(t.querySelector("tbody tr")),(0,r.TF)(i.querySelector("div"));this.parent.resourceBase.renderedResources=n;var o=this.parent.resourceBase.getContentRows(n,!0),l=this.parent.activeView.getContentRows(),h=this.parent.activeView.getEventRows(n.length);(0,r.BC)(o,e.querySelector("tbody")),(0,r.BC)(l,t.querySelector("tbody")),(0,r.BC)(h,i)},e.prototype.getBufferCollection=function(e,t){return this.parent.resourceBase.expandedResources.slice(e,t)},e.prototype.setTranslate=function(e,t,i,n){(0,r.sN)(e.querySelector("table"),{transform:"translateY("+this.translateY+"px)"}),(0,r.sN)(t.querySelector("table"),{transform:"translateY("+this.translateY+"px)"}),(0,r.sN)(i,{transform:"translateY("+this.translateY+"px)"}),(0,r.hX)(n)||(0,r.sN)(n,{transform:"translateY("+this.translateY+"px)"})},e.prototype.updateFocusedWorkCell=function(){if(this.focusedEle){var e=parseInt(this.focusedEle.getAttribute("data-date"),10),t=parseInt(this.focusedEle.getAttribute("data-group-index"),10),i=this.parent.element.querySelector("."+p.fv4+'[data-date="'+e+'"][data-group-index="'+t+'"]');i&&this.parent.addSelectedClass([i],i,!0),this.focusedEle=null}},e.prototype.setTabIndex=function(){var e=this.parent.element.querySelector("."+p.mpl),t=[].slice.call(this.parent.element.querySelectorAll("."+p.yWy));t&&e&&t.forEach((function(t){t.getBoundingClientRect().top>=e.getBoundingClientRect().top&&t.setAttribute("tabindex","0")}));var i=this.parent.element.querySelector("."+p.yWy+'[tabindex="0"]');this.isResourceCell&&i&&(i.focus(),this.isResourceCell=!1)},e.prototype.destroy=function(){this.removeEventListener()},e}(),jt=function(){function e(e){this.parent=e}return e.prototype.render=function(e,t){void 0===t&&(t=!0),this.initializeLayout(e),this.parent.activeView&&t&&this.parent.crudModule.refreshDataManager()},e.prototype.initializeLayout=function(e){if(this.parent.activeView){this.parent.resetTemplates(["cellTemplate","eventTemplate","tooltipTemplate","majorSlotTemplate","minorSlotTemplate","headerTooltipTemplate","dateHeaderTemplate","dayHeaderTemplate","mothHeaderTemplate","headerIndentTemplate","resourceHeaderTemplate","cellHeaderTemplate"]),this.parent.activeView.removeEventListener(),this.parent.activeView.destroy()}switch(e){case"Day":this.parent.activeView=this.parent.dayModule;break;case"Week":this.parent.activeView=this.parent.weekModule;break;case"WorkWeek":this.parent.activeView=this.parent.workWeekModule;break;case"Month":this.parent.activeView=this.parent.monthModule;break;case"Year":this.parent.activeView=this.parent.yearModule;break;case"Agenda":this.parent.activeView=this.parent.agendaModule;break;case"MonthAgenda":this.parent.activeView=this.parent.monthAgendaModule;break;case"TimelineDay":this.parent.activeView=this.parent.timelineViewsModule,this.parent.activeView.viewClass="e-timeline-day-view";break;case"TimelineWorkWeek":this.parent.activeView=this.parent.timelineViewsModule,this.parent.activeView.viewClass="e-timeline-work-week-view";break;case"TimelineWeek":this.parent.activeView=this.parent.timelineViewsModule,this.parent.activeView.viewClass="e-timeline-week-view";break;case"TimelineMonth":this.parent.activeView=this.parent.timelineMonthModule;break;case"TimelineYear":this.parent.activeView=this.parent.timelineYearModule}if((0,r.hX)(this.parent.activeView)){var t=this.parent.viewCollections[0].option;if(t)return this.parent.setProperties({currentView:t},!0),this.parent.headerModule&&(this.parent.headerModule.updateActiveView(),this.parent.headerModule.setCalendarView()),this.initializeLayout(t);throw Error("Inject required modules")}this.parent.activeView.viewIndex=this.parent.viewIndex,this.updateLabelText(e),this.parent.activeView.addEventListener(),this.parent.activeView.getRenderDates(),this.parent.uiStateValues.isGroupAdaptive=this.parent.activeViewOptions.group.resources.length>0&&(this.parent.enableAdaptiveUI&&!this.parent.isAdaptive||this.parent.isAdaptive&&this.parent.activeViewOptions.group.enableCompactView),this.parent.virtualScrollModule&&(this.parent.virtualScrollModule.destroy(),this.parent.virtualScrollModule=null),-1!==this.parent.currentView.indexOf("Timeline")&&-1===this.parent.currentView.indexOf("Year")&&this.parent.activeViewOptions.allowVirtualScrolling&&this.parent.activeViewOptions.group.resources.length>0&&!this.parent.uiStateValues.isGroupAdaptive&&(this.parent.virtualScrollModule=new Lt(this.parent),this.parent.uiStateValues.top=0),this.updateHeader(),this.parent.activeView.renderLayout(p.wxd),this.parent.renderTemplates(),this.parent.eventTooltip&&(this.parent.eventTooltip.destroy(),this.parent.eventTooltip=null),(this.parent.eventSettings.enableTooltip||this.parent.activeViewOptions.group.resources.length>0&&this.parent.activeViewOptions.group.headerTooltipTemplate)&&(this.parent.eventTooltip=new R(this.parent))},e.prototype.updateHeader=function(){this.parent.headerModule&&(this.parent.headerModule.setDayOfWeek(this.parent.activeViewOptions.firstDayOfWeek),this.parent.activeViewOptions.readonly?(0,r.iQ)([this.parent.element],p.sjS):this.parent.element.classList.contains(p.sjS)&&(0,r.vy)([this.parent.element],p.sjS),this.parent.headerModule.updateDateRange(this.parent.activeView.getDateRangeText()),this.parent.headerModule.updateHeaderItems("remove"))},e.prototype.updateLabelText=function(e){var t=this.parent.activeView.getLabelText(e);this.parent.element.setAttribute("role","main"),this.parent.element.setAttribute("aria-label",t)},e}(),Ht=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Ft=function(e,t,i,n){var r,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(a<3?r(s):a>3?r(t,i,s):r(t,i))||s);return a>3&&s&&Object.defineProperty(t,i,s),s},Bt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ht(t,e),Ft([(0,r.mA)(!0)],t.prototype,"highlight",void 0),Ft([(0,r.mA)("09:00")],t.prototype,"start",void 0),Ft([(0,r.mA)("18:00")],t.prototype,"end",void 0),t}(r.I1),qt=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Wt=function(e,t,i,n){var r,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(a<3?r(s):a>3?r(t,i,s):r(t,i))||s);return a>3&&s&&Object.defineProperty(t,i,s),s},Xt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return qt(t,e),Wt([(0,r.mA)(!0)],t.prototype,"enable",void 0),Wt([(0,r.mA)(60)],t.prototype,"interval",void 0),Wt([(0,r.mA)(2)],t.prototype,"slotCount",void 0),Wt([(0,r.mA)()],t.prototype,"minorSlotTemplate",void 0),Wt([(0,r.mA)()],t.prototype,"majorSlotTemplate",void 0),t}(r.I1),Nt=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Ut=function(e,t,i,n){var r,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(a<3?r(s):a>3?r(t,i,s):r(t,i))||s);return a>3&&s&&Object.defineProperty(t,i,s),s},zt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Nt(t,e),Ut([(0,r.mA)("Both")],t.prototype,"templateType",void 0),Ut([(0,r.mA)()],t.prototype,"header",void 0),Ut([(0,r.mA)()],t.prototype,"content",void 0),Ut([(0,r.mA)()],t.prototype,"footer",void 0),t}(r.I1),Yt=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),_t=function(e,t,i,n){var r,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(a<3?r(s):a>3?r(t,i,s):r(t,i))||s);return a>3&&s&&Object.defineProperty(t,i,s),s},Jt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Yt(t,e),_t([(0,r.mA)()],t.prototype,"option",void 0),_t([(0,r.mA)()],t.prototype,"template",void 0),t}(r.I1),Qt=function(){function e(e){this.parent=e,this.crudObj={sourceEvent:null,targetEvent:null,isCrudAction:!1}}return e.prototype.getQuery=function(){var e=this.parent.activeView.startDate(),t=this.parent.activeView.endDate();return this.parent.dataModule.generateQuery(e,t)},e.prototype.getTable=function(){return this.parent.eventSettings.query?this.parent.eventSettings.query.clone().fromTable:null},e.prototype.refreshDataManager=function(){var e=this;if(this.parent.activeView){var t=this.parent.activeView.startDate(),i=this.parent.activeView.endDate();this.parent.dataModule.getData(this.parent.dataModule.generateQuery(t,i)).then((function(t){return e.dataManagerSuccess(t)})).catch((function(t){return e.dataManagerFailure(t)}))}},e.prototype.dataManagerSuccess=function(e){var t=this;!this.parent||this.parent&&this.parent.isDestroyed||this.parent.trigger(h.g4,e,(function(e){var i=(0,r.X$)([],e.result,null,!0);t.parent.eventsData=i.filter((function(e){return!e[t.parent.eventFields.isBlock]})),t.parent.blockData=i.filter((function(e){return e[t.parent.eventFields.isBlock]})),t.parent.refreshEvents(!1),t.parent.dragAndDropModule&&"drag"===t.parent.dragAndDropModule.actionObj.action&&t.parent.dragAndDropModule.navigationWrapper(),t.parent.trigger(h.BP,null,(function(){t.parent.hideSpinner(),t.parent.isPrinting&&t.parent.notify(h.yy,{})}))}))},e.prototype.dataManagerFailure=function(e){var t=this;!this.parent||this.parent&&this.parent.isDestroyed||this.parent.trigger(h.zk,{error:e},(function(){return t.parent.hideSpinner()}))},e.prototype.refreshData=function(e){var t=this,i={requestType:e.requestType,cancel:!1,data:e.data,addedRecords:e.editParams.addedRecords,changedRecords:e.editParams.changedRecords,deletedRecords:e.editParams.deletedRecords};if(this.parent.dragAndDropModule&&this.parent.dragAndDropModule.actionObj&&this.parent.dragAndDropModule.actionObj.element&&(this.parent.dragAndDropModule.actionObj.element.style.display="none"),this.parent.resizeModule&&this.parent.resizeModule.actionObj&&this.parent.resizeModule.actionObj.element&&(this.parent.resizeModule.actionObj.element.style.display="none"),this.parent.activeViewOptions.group.resources.length>0&&!this.parent.activeViewOptions.group.allowGroupEdit&&!this.parent.rowAutoHeight&&!this.parent.virtualScrollModule&&this.parent.activeViewOptions.group.byGroupID&&("eventCreated"===e.requestType||"eventRemoved"===e.requestType)){this.crudObj.isCrudAction=!0,this.crudObj.sourceEvent=[];for(var n=e.data instanceof Array?0===e.data.length&&"eventRemoved"===e.requestType?e.editParams.deletedRecords:e.data:"string"!==typeof e.data&&"number"!==typeof e.data||"eventRemoved"!==e.requestType?[e.data]:e.editParams.deletedRecords,a=function(t){s.crudObj.isCrudAction=!("eventRemoved"===e.requestType&&!(0,r.hX)(t.parent));var i=s.parent.eventBase.getGroupIndexFromEvent(t);i>-1&&0===s.parent.crudModule.crudObj.sourceEvent.filter((function(e){return e.groupIndex===i})).length&&s.crudObj.isCrudAction&&s.crudObj.sourceEvent.push(s.parent.resourceBase.lastResourceLevel[i])},s=this,o=0,l=n;o<l.length;o++){a(l[o])}this.crudObj.targetEvent=this.crudObj.sourceEvent}this.parent.dataModule.dataManager.dataSource.offline?this.parent.trigger(h.wn,i,(function(e){e.cancel||t.refreshDataManager()})):e.promise.then((function(){!t.parent||t.parent&&t.parent.isDestroyed||t.parent.trigger(h.wn,i,(function(e){e.cancel||t.refreshDataManager()}))})).catch((function(e){!t.parent||t.parent&&t.parent.isDestroyed||t.parent.trigger(h.zk,{error:e})}))},e.prototype.addEvent=function(e){var t=this;if(this.parent.eventSettings.allowAdding&&!this.parent.activeViewOptions.readonly){if(!this.isBlockEvent(e)&&this.parent.eventBase.isBlockRange(e))return void this.parent.quickPopup.openValidationError("blockAlert",e);var i=e instanceof Array?e:[e],n={requestType:"eventCreate",cancel:!1,data:i,addedRecords:i,changedRecords:[],deletedRecords:[]};this.parent.trigger(h.eY,n,(function(e){if(!e.cancel){var i=t.parent.eventFields,n={addedRecords:[],changedRecords:[],deletedRecords:[]},a=void 0;if(e.addedRecords instanceof Array){for(var s=0,o=e.addedRecords;s<o.length;s++){var l=o[s];l=t.parent.eventBase.updateEventDateTime(l);var h=(0,r.X$)({},t.parent.eventBase.processTimezone(l,!0),null,!0);n.addedRecords.push(h)}a=t.parent.dataModule.dataManager.saveChanges(n,i.id,t.getTable(),t.getQuery())}else{var c=t.parent.eventBase.processTimezone(e.addedRecords,!0);n.addedRecords.push(c),a=t.parent.dataModule.dataManager.insert(c,t.getTable(),t.getQuery())}var p={requestType:"eventCreated",cancel:!1,data:e.addedRecords,promise:a,editParams:n};t.refreshData(p)}}))}},e.prototype.saveEvent=function(e,t){var i=this;if(this.parent.eventSettings.allowEditing&&!this.parent.activeViewOptions.readonly){if("EditFollowingEvents"!==this.parent.currentAction&&!this.isBlockEvent(e)&&this.parent.eventBase.isBlockRange(e))return void this.parent.quickPopup.openValidationError("blockAlert",e);if(this.parent.currentAction=t,t)switch(t){case"Save":this.processSave(e);break;case"EditOccurrence":this.processOccurrences(e,t);break;case"EditFollowingEvents":this.processFollowSeries(e,t);break;case"EditSeries":this.processEntireSeries(e,t)}else{var n={requestType:"eventChange",cancel:!1,data:e,addedRecords:[],changedRecords:e instanceof Array?e:[e],deletedRecords:[]};this.parent.trigger(h.eY,n,(function(e){if(!e.cancel){var t=void 0,n=i.parent.eventFields,a={addedRecords:[],changedRecords:[],deletedRecords:[]};if(e.changedRecords instanceof Array){for(var s=0,o=e.changedRecords;s<o.length;s++){var l=o[s];l=i.parent.eventBase.updateEventDateTime(l);var h=(0,r.X$)({},i.parent.eventBase.processTimezone(l,!0),null,!0);a.changedRecords.push(h)}t=i.parent.dataModule.dataManager.saveChanges(a,n.id,i.getTable(),i.getQuery())}else{var c=i.parent.eventBase.processTimezone(e.changedRecords,!0);a.changedRecords.push(c),t=i.parent.dataModule.dataManager.update(n.id,c,i.getTable(),i.getQuery())}var p={requestType:"eventChanged",cancel:!1,data:e.changedRecords,promise:t,editParams:a};i.refreshData(p)}}))}}},e.prototype.deleteEvent=function(e,t){var i=this;if(this.parent.eventSettings.allowDeleting&&!this.parent.activeViewOptions.readonly){this.parent.currentAction=t;var n=[];if(n="string"===typeof e||"number"===typeof e?this.parent.eventsData.filter((function(t){return t[i.parent.eventFields.id]===e})):e instanceof Array?e:[e],t)switch(t){case"Delete":this.processDelete(n);break;case"DeleteOccurrence":this.processOccurrences(n,t);break;case"DeleteFollowingEvents":this.processFollowSeries(n,t);break;case"DeleteSeries":this.processEntireSeries(n,t)}else{var r={requestType:"eventRemove",cancel:!1,data:e,addedRecords:[],changedRecords:[],deletedRecords:n};this.parent.trigger(h.eY,r,(function(e){if(!e.cancel){var t=void 0,n=i.parent.eventFields,r={addedRecords:[],changedRecords:[],deletedRecords:[]};e.deletedRecords.length>1?(r.deletedRecords=r.deletedRecords.concat(e.deletedRecords),t=i.parent.dataModule.dataManager.saveChanges(r,n.id,i.getTable(),i.getQuery())):(r.deletedRecords.push(e.deletedRecords[0]),t=i.parent.dataModule.dataManager.remove(n.id,e.deletedRecords[0],i.getTable(),i.getQuery())),i.parent.eventBase.selectWorkCellByTime(e.deletedRecords);var a={requestType:"eventRemoved",cancel:!1,data:e.deletedRecords,promise:t,editParams:r};i.refreshData(a)}}))}}},e.prototype.processOccurrences=function(e,t){var i=this,n=[],r=!1;if(e instanceof Array)for(var a=0,s=e;a<s.length;a++){var o=s[a];n.push({occurrence:o,parent:this.getParentEvent(o)})}else n={occurrence:e,parent:this.getParentEvent(e)};var l={requestType:"EditOccurrence"===t?"eventChange":"eventRemove",cancel:!1,addedRecords:[],changedRecords:e instanceof Array?e:[e],deletedRecords:[]};l.data=n,this.parent.trigger(h.eY,l,(function(e){if(!e.cancel){for(var a=i.parent.eventFields,s={addedRecords:[],changedRecords:[],deletedRecords:[]},o=n instanceof Array?n:[n],l=function(n,l){var h=e.changedRecords[n],c=o[n].parent,p=c[a.recurrenceException],u=void 0,d=void 0;switch(t){case"EditOccurrence":u=i.parent.eventsProcessed.filter((function(e){return e.Guid===h.Guid}))[0],(d=i.excludeDateCheck(u[a.startTime],p))!==c[a.recurrenceException]?(c[a.recurrenceException]=d,h[a.recurrenceException]=(0,ge.od)(u[a.startTime]),h[a.recurrenceID]=c[a.id],h[a.followingID]=null,s.changedRecords.push(i.parent.eventBase.processTimezone(c,!0)),s.addedRecords.push(i.parent.eventBase.processTimezone(h,!0))):s.changedRecords.push(i.parent.eventBase.processTimezone(h,!0));break;case"DeleteOccurrence":h[a.recurrenceException]||(c[a.recurrenceException]=i.excludeDateCheck(h[a.startTime],p),s.changedRecords.push(i.parent.eventBase.processTimezone(c,!0))),h[a.id]!==c[a.id]&&(s.deletedRecords.push(h),r=!0)}},h=0,c=e.changedRecords.length;h<c;h++)l(h);var p=i.parent.dataModule.dataManager.saveChanges(s,a.id,i.getTable(),i.getQuery());i.parent.eventBase.selectWorkCellByTime(e.changedRecords);var u={requestType:"EditOccurrence"===t?"eventChanged":"eventRemoved",cancel:!1,data:r?e.deletedRecords:e.changedRecords,promise:p,editParams:s};i.refreshData(u)}}))},e.prototype.processFollowSeries=function(e,t){var i=this,n=[];if(e instanceof Array)for(var r=0,a=e;r<a.length;r++){var s=a[r];n.push({occurrence:s,parent:this.getParentEvent(s)})}else n={occurrence:e,parent:this.getParentEvent(e)};var o={requestType:"EditFollowingEvents"===t?"eventChange":"eventRemove",cancel:!1,addedRecords:[],changedRecords:e instanceof Array?e:[e],deletedRecords:[]};o.data=n,this.parent.trigger(h.eY,o,(function(e){if(!e.cancel){for(var r=i.parent.eventFields,a={addedRecords:[],changedRecords:[],deletedRecords:[]},s=n instanceof Array?n:[n],o=function(n,o){var l=e.changedRecords[n],h=s[n].parent,c=i.parent.eventBase.getEventCollections(h,l),p=void 0;switch(t){case"EditFollowingEvents":if(i.processRecurrenceRule(h,l),p=!i.parent.eventBase.isFollowingEvent(h,l),l[r.followingID]=p?null:h[r.id],l[r.recurrenceID]=null,a.addedRecords.push(i.parent.eventBase.processTimezone(l,!0)),a.changedRecords.push(i.parent.eventBase.processTimezone(h,!0)),!i.parent.uiStateValues.isIgnoreOccurrence){if(l[r.recurrenceException]=null,c.occurrence.length>0){var u=c.occurrence.slice(-1)[0][r.recurrenceRule];-1===u.indexOf("COUNT")&&(l[r.recurrenceRule]=u)}c.follow.length>0&&(l[r.recurrenceRule]=c.follow.slice(-1)[0][r.recurrenceRule],a.deletedRecords=a.deletedRecords.concat(c.follow)),p&&(c.occurrence=c.occurrence.filter((function(e){return e[r.recurrenceID]===l[r.id]}))),a.deletedRecords=a.deletedRecords.concat(c.occurrence)}break;case"DeleteFollowingEvents":i.processRecurrenceRule(h,l[r.startTime]),a.changedRecords.push(i.parent.eventBase.processTimezone(h,!0)),a.deletedRecords=a.deletedRecords.concat(c.occurrence).concat(c.follow)}},l=0,h=e.changedRecords.length;l<h;l++)o(l);var c=i.parent.dataModule.dataManager.saveChanges(a,r.id,i.getTable(),i.getQuery());i.parent.eventBase.selectWorkCellByTime(e.changedRecords);var p={requestType:"EditFollowingEvents"===t?"eventChanged":"eventRemoved",cancel:!1,data:e.changedRecords,promise:c,editParams:a};i.refreshData(p)}}))},e.prototype.processEntireSeries=function(e,t){var i=this,n=[],r=!1;if(e instanceof Array)for(var a=0,s=e;a<s.length;a++){var o=s[a];n.push(this.getParentEvent(o,!0))}else n=this.getParentEvent(e,!0);var l={requestType:"EditSeries"===t?"eventChange":"eventRemove",cancel:!1,addedRecords:[],changedRecords:e instanceof Array?e:[e],deletedRecords:[]};l.data=n,this.parent.trigger(h.eY,l,(function(e){if(!e.cancel){for(var a=i.parent.eventFields,s={addedRecords:[],changedRecords:[],deletedRecords:[]},o=n instanceof Array?n:[n],l=function(n,l){var h=e.changedRecords[n],c=o[n],p=i.parent.eventBase.getEventCollections(c),u=p.follow.concat(p.occurrence);switch(t){case"EditSeries":if(h[a.startTime]>c[a.startTime]&&h[a.recurrenceRule]&&i.processRecurrenceRule(c,h),h[a.id]=c[a.id],h[a.recurrenceID]=null,h[a.followingID]=null,i.parent.uiStateValues.isIgnoreOccurrence&&h[a.recurrenceException]){var d=i.parent.eventsData.filter((function(e){return e[a.id]===h[a.id]}));d.length>0&&(h[a.recurrenceRule]=d[0][a.recurrenceRule])}else h[a.recurrenceException]=null,s.deletedRecords=s.deletedRecords.concat(u);s.changedRecords.push(i.parent.eventBase.processTimezone(h,!0)),i.parent.uiStateValues.isIgnoreOccurrence=!1;break;case"DeleteSeries":s.deletedRecords=s.deletedRecords.concat(u.concat(c)),r=!0}},h=0,c=e.changedRecords.length;h<c;h++)l(h);var p=i.parent.dataModule.dataManager.saveChanges(s,a.id,i.getTable(),i.getQuery());i.parent.eventBase.selectWorkCellByTime(e.changedRecords);var u={requestType:"EditSeries"===t?"eventChanged":"eventRemoved",cancel:!1,data:r?e.deletedRecords:e.changedRecords,promise:p,editParams:s};i.refreshData(u)}}))},e.prototype.processDelete=function(e){for(var t=this,i=[],n=0,a=e;n<a.length;n++){var s=a[n];s[this.parent.eventFields.recurrenceRule]?i.push({occurrence:s,parent:this.getParentEvent(s)}):i.push(s)}var o={requestType:"eventRemove",cancel:!1,addedRecords:[],changedRecords:[],deletedRecords:e};o.data=i,this.parent.trigger(h.eY,o,(function(e){if(!e.cancel){for(var n=t.parent.eventFields,a={addedRecords:[],changedRecords:[],deletedRecords:[]},s=function(s,o){var l=(0,r.hX)(e.deletedRecords[s][t.parent.eventFields.recurrenceRule]);if(!l){var h=i[s].parent,c=a.changedRecords.filter((function(e){return e[n.id]===h[n.id]})),p=e.deletedRecords[s][n.startTime];if(c.length>0){var u=c[0];u[n.recurrenceException]=t.excludeDateCheck(p,u[n.recurrenceException])}else h[n.recurrenceException]=t.excludeDateCheck(p,h[n.recurrenceException]);0===c.length&&a.changedRecords.push(t.parent.eventBase.processTimezone(h,!0)),l=e.deletedRecords[s][n.id]!==h[n.id]}l&&a.deletedRecords.push(e.deletedRecords[s])},o=0,l=e.deletedRecords.length;o<l;o++)s(o);var h=t.parent.dataModule.dataManager.saveChanges(a,n.id,t.getTable(),t.getQuery()),c={requestType:"eventRemoved",cancel:!1,data:e.deletedRecords,promise:h,editParams:a};t.refreshData(c)}}))},e.prototype.processSave=function(e){for(var t=this,i=e instanceof Array?e:[e],n=[],a=0,s=i;a<s.length;a++){var o=s[a];o[this.parent.eventFields.recurrenceRule]?n.push({occurrence:o,parent:this.getParentEvent(o)}):n.push(o)}var l={requestType:"eventChange",cancel:!1,addedRecords:[],changedRecords:i,deletedRecords:[]};l.data=n,this.parent.trigger(h.eY,l,(function(e){if(!e.cancel){for(var i=t.parent.eventFields,n={addedRecords:[],changedRecords:[],deletedRecords:[]},a=0,s=e.changedRecords;a<s.length;a++){var o=s[a];if(!(0,r.hX)(o[i.recurrenceRule])&&(0,r.hX)(o[i.recurrenceException])){var l=(0,ge.od)(o[i.startTime]),h=t.getParentEvent(o);h[i.recurrenceException]=(0,r.hX)(h[i.recurrenceException])?l:h[i.recurrenceException].concat(","+l),o[i.id]=t.parent.getEventMaxID(),o[i.recurrenceException]=l,n.addedRecords.push(t.parent.eventBase.processTimezone(o,!0)),n.changedRecords.push(t.parent.eventBase.processTimezone(h,!0))}else n.changedRecords.push(t.parent.eventBase.processTimezone(o,!0))}var c=t.parent.dataModule.dataManager.saveChanges(n,i.id,t.getTable(),t.getQuery()),p={requestType:"eventChanged",cancel:!1,data:e.changedRecords,promise:c,editParams:n};t.refreshData(p)}}))},e.prototype.getParentEvent=function(e,t){void 0===t&&(t=!1);var i=this.parent.eventBase.getParentEvent(e,t)||e;return(i[this.parent.eventFields.startTimezone]||i[this.parent.eventFields.endTimezone])&&this.parent.eventBase.timezoneConvert(i),i},e.prototype.excludeDateCheck=function(e,t){var i=(0,ge.od)(e);return(0,r.hX)(t)?t=i:-1===t.indexOf(i)&&(t=(0,r.hX)(t)?i:t+","+i),t},e.prototype.processRecurrenceRule=function(e,t){var i,n=this.parent.eventFields,r=e[n.recurrenceRule];if(t instanceof Date)i=new Date(+t);else{i=new Date(+t[n.startTime]);var a=t[n.recurrenceRule],s=e[n.startTime],o="DeleteFollowingEvents"===this.parent.currentAction?t[n.recurrenceException]:null,l=(0,ge.cM)(s,a,o,this.parent.activeViewOptions.firstDayOfWeek),h=new Date(l.slice(-1)[0]);h.setHours(i.getHours(),i.getMinutes(),i.getSeconds()),i.setHours(s.getHours(),s.getMinutes(),s.getSeconds()),t[n.recurrenceRule]=this.getUpdatedRecurrenceRule(a,new Date(+h),!1)}e[n.recurrenceRule]=this.getUpdatedRecurrenceRule(r,c.fi(new Date(i.getTime()),-1),!0)},e.prototype.getUpdatedRecurrenceRule=function(e,t,i){for(var n="",r=0,a=e.split(";");r<a.length;r++){var s=a[r];if(""!==s){var o=s.split("=")[0],l=s.split("=")[1];"COUNT"!==o&&"UNTIL"!==o||(l=(0,ge.od)(t),s=s.replace(s,"UNTIL="+l)),n+=s+";"}}return i&&-1===n.indexOf("UNTIL")&&(n+="UNTIL="+(0,ge.od)(t)),n},e.prototype.isBlockEvent=function(e){for(var t=!1,i=0,n=e instanceof Array?e:[e];i<n.length;i++){t=n[i][this.parent.eventFields.isBlock]||!1}return t},e.prototype.destroy=function(){this.crudObj=null,this.parent=null},e}(),Gt=function(){function e(e){this.parent=e,r.Jm.add(this.parent.element,"mouseover",this.onHover,this)}return e.prototype.cellMouseDown=function(e){this.isPreventAction(e)||this.parent.notify(h.Sw,{event:e})},e.prototype.cellClick=function(e){var t=this;if(!this.isPreventAction(e)){var i="."+p.fv4+",."+p.tTW+",."+p.Zas,n=(0,r.kp)(e.target,i);if(!(0,r.hX)(n))if((0,r.hX)((0,r.kp)(e.target,"."+p.tUo))){var a=(0,r.kp)(e.target,"."+p.NG$),s=this.parent.getNavigateView(),o=this.parent.currentView===s;if((0,r.hX)(a)||o||(0,r.hX)(this.parent.viewOptions[s.charAt(0).toLowerCase()+s.slice(1)])){if(this.parent.activeViewOptions.readonly&&"MonthAgenda"!==this.parent.currentView)return void(this.parent.quickPopup&&this.parent.quickPopup.quickPopupHide());if(this.parent.isAdaptive&&(e.target.classList.contains(p.pSF)||(0,r.kp)(e.target,"."+p.pSF)))return;var l=n.classList.contains(p.fv4)||n.classList.contains(p.tTW);if(l&&e.shiftKey&&1===e.which&&this.parent.keyboardInteractionModule)return void this.parent.keyboardInteractionModule.onMouseSelection(e);this.parent.activeCellsData=this.parent.getCellDetails(n);var c=(0,r.X$)(this.parent.activeCellsData,{cancel:!1,event:e,name:"cellClick"});this.parent.trigger(h.jo,c,(function(e){if(e.cancel)t.parent.quickPopup&&t.parent.quickPopup.quickPopupHide();else if(l&&t.parent.selectCell(n),t.parent.allowInline){var i={element:e.element,groupIndex:e.groupIndex,type:"Cell"};t.parent.notify(h.K4,i)}else t.parent.notify(h.jo,e)}))}else{var u=this.parent.getDateFromElement(n);(0,r.hX)(u)||this.parent.isAdaptive||!this.parent.isMinMaxDate(u)||(this.parent.setProperties({selectedDate:u},!0),this.parent.changeView(this.parent.getNavigateView(),e))}}else this.parent.eventWindow.openEditor(this.parent.activeCellsData,"Add")}},e.prototype.cellDblClick=function(e){var t=this,i="."+p.fv4+",."+p.tTW+",."+p.Zas,n=(0,r.kp)(e.target,i);if(!(this.parent.activeViewOptions.readonly||this.isPreventAction(e)||(0,r.hX)(n))){var a=(0,r.X$)(this.parent.activeCellsData,{cancel:!1,event:e,name:"cellDoubleClick"});this.parent.trigger(h.QH,a,(function(e){var i=new Date(e.startTime.getTime());t.parent.isMinMaxDate(new Date(i.setHours(0,0,0,0)))&&(e.cancel||t.parent.eventWindow.openEditor(t.parent.activeCellsData,"Add"))}))}},e.prototype.onHover=function(e){var t="."+p.fv4+",."+p.WpE+",."+p.tTW+",."+p.Zas+",."+p.yWy+",."+p.Dj+",."+p.cB_+",."+p.qm_,i=(0,r.kp)(e.target,t);if(i){var n={element:i,event:e};this.parent.trigger(h.PT,n)}},e.prototype.isPreventAction=function(e){if((0,r.kp)(e.target,"."+p.NG$))return!1;if((0,r.kp)(e.target,"."+p.RQR)&&!(0,r.kp)(e.target,"."+p.pSF))return!0;var t=(0,r.kp)(e.target,"."+p.Dj+",."+p.o1M);return!(0,r.hX)(t)||(t=(0,r.kp)(e.target,"."+p.Zas),!(!this.parent.activeView.isTimelineView()||(0,r.hX)(t)))},e.prototype.destroy=function(){r.Jm.remove(this.parent.element,"mouseover",this.onHover)},e}(),Kt=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),$t=function(e,t,i,n){var r,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(a<3?r(s):a>3?r(t,i,s):r(t,i))||s);return a>3&&s&&Object.defineProperty(t,i,s),s},Zt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Kt(t,e),$t([(0,r.mA)()],t.prototype,"name",void 0),$t([(0,r.mA)()],t.prototype,"default",void 0),$t([(0,r.mA)()],t.prototype,"title",void 0),$t([(0,r.mA)({})],t.prototype,"validation",void 0),t}(r.I1),ei=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),ti=function(e,t,i,n){var r,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(a<3?r(s):a>3?r(t,i,s):r(t,i))||s);return a>3&&s&&Object.defineProperty(t,i,s),s},ii=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ei(t,e),ti([(0,r.mA)("Id")],t.prototype,"id",void 0),ti([(0,r.mA)("IsBlock")],t.prototype,"isBlock",void 0),ti([(0,r.pr)({name:"Subject"},Zt)],t.prototype,"subject",void 0),ti([(0,r.pr)({name:"StartTime"},Zt)],t.prototype,"startTime",void 0),ti([(0,r.pr)({name:"EndTime"},Zt)],t.prototype,"endTime",void 0),ti([(0,r.pr)({name:"StartTimezone"},Zt)],t.prototype,"startTimezone",void 0),ti([(0,r.pr)({name:"EndTimezone"},Zt)],t.prototype,"endTimezone",void 0),ti([(0,r.pr)({name:"Location"},Zt)],t.prototype,"location",void 0),ti([(0,r.pr)({name:"Description"},Zt)],t.prototype,"description",void 0),ti([(0,r.pr)({name:"IsAllDay"},Zt)],t.prototype,"isAllDay",void 0),ti([(0,r.pr)({name:"RecurrenceID"},Zt)],t.prototype,"recurrenceID",void 0),ti([(0,r.pr)({name:"RecurrenceRule"},Zt)],t.prototype,"recurrenceRule",void 0),ti([(0,r.pr)({name:"RecurrenceException"},Zt)],t.prototype,"recurrenceException",void 0),ti([(0,r.mA)("IsReadonly")],t.prototype,"isReadonly",void 0),ti([(0,r.mA)("FollowingID")],t.prototype,"followingID",void 0),t}(r.I1),ni=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),ri=function(e,t,i,n){var r,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(a<3?r(s):a>3?r(t,i,s):r(t,i))||s);return a>3&&s&&Object.defineProperty(t,i,s),s},ai=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ni(t,e),ri([(0,r.mA)()],t.prototype,"template",void 0),ri([(0,r.mA)([])],t.prototype,"dataSource",void 0),ri([(0,r.mA)()],t.prototype,"query",void 0),ri([(0,r.pr)({},ii)],t.prototype,"fields",void 0),ri([(0,r.mA)(!1)],t.prototype,"enableTooltip",void 0),ri([(0,r.mA)("AllDayRow")],t.prototype,"spannedEventPlacement",void 0),ri([(0,r.mA)(1)],t.prototype,"minimumEventDuration",void 0),ri([(0,r.mA)()],t.prototype,"tooltipTemplate",void 0),ri([(0,r.mA)()],t.prototype,"resourceColorField",void 0),ri([(0,r.mA)(!1)],t.prototype,"editFollowingEvents",void 0),ri([(0,r.mA)(!0)],t.prototype,"allowAdding",void 0),ri([(0,r.mA)(!0)],t.prototype,"allowEditing",void 0),ri([(0,r.mA)(!0)],t.prototype,"allowDeleting",void 0),ri([(0,r.mA)(!1)],t.prototype,"enableMaxHeight",void 0),ri([(0,r.mA)(!1)],t.prototype,"enableIndicator",void 0),ri([(0,r.mA)(!1)],t.prototype,"ignoreWhitespace",void 0),ri([(0,r.mA)()],t.prototype,"sortComparer",void 0),t}(r.I1),si=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),oi=function(e,t,i,n){var r,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(a<3?r(s):a>3?r(t,i,s):r(t,i))||s);return a>3&&s&&Object.defineProperty(t,i,s),s},li=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return si(t,e),oi([(0,r.mA)(!1)],t.prototype,"byDate",void 0),oi([(0,r.mA)(!0)],t.prototype,"byGroupID",void 0),oi([(0,r.mA)(!1)],t.prototype,"allowGroupEdit",void 0),oi([(0,r.mA)([])],t.prototype,"resources",void 0),oi([(0,r.mA)(!0)],t.prototype,"enableCompactView",void 0),oi([(0,r.mA)()],t.prototype,"headerTooltipTemplate",void 0),t}(r.I1),hi=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),ci=function(e,t,i,n){var r,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(a<3?r(s):a>3?r(t,i,s):r(t,i))||s);return a>3&&s&&Object.defineProperty(t,i,s),s},pi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return hi(t,e),ci([(0,r.mA)()],t.prototype,"field",void 0),ci([(0,r.mA)()],t.prototype,"title",void 0),ci([(0,r.mA)()],t.prototype,"name",void 0),ci([(0,r.mA)(!1)],t.prototype,"allowMultiple",void 0),ci([(0,r.mA)([])],t.prototype,"dataSource",void 0),ci([(0,r.mA)()],t.prototype,"query",void 0),ci([(0,r.mA)("Id")],t.prototype,"idField",void 0),ci([(0,r.mA)("Text")],t.prototype,"textField",void 0),ci([(0,r.mA)("Expanded")],t.prototype,"expandedField",void 0),ci([(0,r.mA)("GroupID")],t.prototype,"groupIDField",void 0),ci([(0,r.mA)("Color")],t.prototype,"colorField",void 0),ci([(0,r.mA)("StartHour")],t.prototype,"startHourField",void 0),ci([(0,r.mA)("EndHour")],t.prototype,"endHourField",void 0),ci([(0,r.mA)("WorkDays")],t.prototype,"workDaysField",void 0),ci([(0,r.mA)("CssClass")],t.prototype,"cssClassField",void 0),t}(r.I1),ui=i(2059),di=i(6871),vi=function(){function e(e){this.resourceCollection=[],this.leftPixel=25,this.parent=e}return e.prototype.renderResourceHeaderIndent=function(e){var t=(0,r.n)("td",{className:p.fct}),i=(0,r.n)("div",{className:p.cGA});if(this.parent.activeViewOptions.headerIndentTemplate){var n={className:[t.className],type:"emptyCells"};this.parent.renderHeaderIndentTemplate(n,t)}else t.appendChild(i);var a={elementType:"emptyCells",element:t};this.parent.trigger(h.TF,a),e.appendChild(t)},e.prototype.hideResourceRows=function(e){if(!(this.resourceCollection.length<=1||this.parent.virtualScrollModule))for(var t=this.lastResourceLevel.length,i=0;i<t;i++){var n=this.lastResourceLevel[i].resourceData,a=this.lastResourceLevel[i].resource;if(n.ClassName===p.tIu&&!n[a.expandedField]&&!(0,r.hX)(n[a.expandedField])){var s=[].slice.call(e.children).slice(i+1,i+(parseInt(n.Count,10)+1));(0,r.iQ)(s,p.Y2Y)}}},e.prototype.createResourceColumn=function(){var e=this.resourceCollection,t=(0,r.n)("div",{className:p.mpl}),i=this.parent.activeView.createTableLayout(p.Mbq);!this.parent.uiStateValues.isGroupAdaptive&&this.parent.rowAutoHeight&&this.parent.activeView.isTimelineView()&&this.parent.activeViewOptions.group.resources.length>0&&(0,r.iQ)([i],p.qsW);var n=i.querySelector("tbody"),a=this.generateTreeData(!0);if(this.countCalculation(e.slice(0,-2),e.slice(0,-1)),this.renderedResources=this.lastResourceLevel,this.parent.virtualScrollModule){var s=this.parent.virtualScrollModule.getRenderedCount();this.setExpandedResources(),a=this.expandedResources.slice(0,s),this.renderedResources=a}return(0,r.BC)(this.getContentRows(a),n),this.hideResourceRows(n),i.appendChild(n),t.appendChild(i),t},e.prototype.setRenderedResources=function(){var e=this.resourceCollection;this.generateTreeData(!0);this.countCalculation(e.slice(0,-2),e.slice(0,-1)),this.renderedResources=this.lastResourceLevel},e.prototype.setExpandedResources=function(){for(var e=[],t=0;t<this.lastResourceLevel.length;t++){var i=this.lastResourceLevel[t].resourceData,n=i.Count;e.push(this.lastResourceLevel[t]);var a=i[this.lastResourceLevel[t].resource.expandedField];!(0,r.hX)(a)&&!a&&n>0&&(t+=n)}this.expandedResources=e},e.prototype.getContentRows=function(e,t){for(var i,n,a=[],s=this.resourceCollection,o=(0,r.n)("tr"),l=(0,r.n)("td",{attrs:{tabindex:t?"-1":"0"}}),u=0;u<e.length;u++){var d=l.cloneNode();if((n=c.J(s,"name",e[u].resource.name))===s.length-1?((0,r.X$)(e[u].resourceData,{ClassName:p.bmx}),this.renderedResources[u].className=[p.bmx]):((0,r.X$)(e[u].resourceData,{ClassName:p.tIu}),this.renderedResources[u].className=[p.tIu]),i=n*this.leftPixel+"px",e[u].resourceData.ClassName===p.tIu&&!(0,r.hX)(e[u].resourceData.Count)&&e[u].resourceData.Count>0){var v=void 0;v=e[u].resourceData[s[n].expandedField]||(0,r.hX)(e[u].resourceData[s[n].expandedField])?p.yjv:p.ty8;var m=(0,r.n)("div");(0,r.iQ)([m],[p.RA5,v]),this.setMargin(m,i),d.appendChild(m),this.resourceCollection.length>1&&r.Jm.add(m,"click",this.onTreeIconClick,this)}this.parent.activeView.setResourceHeaderContent(d,e[u],p.cGA),d.setAttribute("data-group-index",e[u].groupIndex.toString()),d.setAttribute("aria-label",e[u].resourceData[e[u].resource.textField]+" resource"),this.parent.activeViewOptions.resourceHeaderTemplate||this.setMargin(d.querySelector("."+p.cGA),i);var g=[p.yWy,e[u].resourceData.ClassName];(0,r.iQ)([d],g);var f={elementType:"resourceHeader",element:d,groupIndex:e[u].groupIndex};this.parent.trigger(h.TF,f);var y=o.cloneNode();y.appendChild(d),a.push(y)}return a},e.prototype.setMargin=function(e,t){this.parent.enableRtl?e.style.marginRight=t:e.style.marginLeft=t},e.prototype.countCalculation=function(e,t){for(var i,n=0;n<e.length;n++){for(var a=e[e.length-(n+1)].dataSource,s=0;s<a.length;s++){var o=0;if(this.parent.activeViewOptions.group.byGroupID){var l=(new f.X).where(t[t.length-1].groupIDField,"equal",a[s][e[e.length-(n+1)].idField]);i=new g.M(t[t.length-1].dataSource).executeLocal(l)}else i=t[t.length-1].dataSource;for(var h=0;h<i.length;h++)o+=parseInt(i[h].Count,10);o+=parseInt(a[s].Count,10),(0,r.X$)(a[s],{Count:o})}t=t.slice(0,-1)}},e.prototype.onTreeIconClick=function(e){var t=this;this.parent.eventTooltip&&this.parent.eventTooltip.close();var i,n=e.target,a=(0,r.kp)(n,"."+p.tIu).parentElement,s=parseInt(a.children[0].getAttribute("data-group-index"),10),o={cancel:!1,event:e,groupIndex:s,requestType:n.classList.contains(p.yjv)?"resourceCollapse":"resourceExpand"};this.parent.trigger(h.eY,o,(function(a){if(!a.cancel){n.classList.contains(p.yjv)?((0,r.pP)(n,[p.ty8],[p.yjv]),i=!0):((0,r.pP)(n,[p.yjv],[p.ty8]),i=!1);for(var l=0,c=[].slice.call(t.parent.element.querySelectorAll("."+p.Dj));l<c.length;l++){var u=c[l];(0,r.TF)(u)}t.parent.virtualScrollModule?t.updateVirtualContent(s,i,e,n):t.updateContent(s,i);var d={cssProperties:t.parent.getCssProperties(),module:"scroll"};t.parent.notify(h.bk,d),o={cancel:!1,event:e,groupIndex:s,requestType:n.classList.contains(p.yjv)?"resourceExpanded":"resourceCollapsed"},t.parent.refreshEvents(!1),t.parent.trigger(h.wn,o)}}))},e.prototype.updateContent=function(e,t){for(var i,n=[],a=[],s=[],o=this.lastResourceLevel[e].resourceData,l=[].slice.call(this.parent.element.querySelectorAll("."+p.mpl+" tr")),h=[].slice.call(this.parent.element.querySelectorAll("."+p._oL+" tbody tr")),c=[].slice.call(this.parent.element.querySelectorAll("."+p._oL+" ."+p.Px_)),u=0;u<o.Count;u++)n.push(l[e+u+1]),a.push(h[e+u+1]),s.push(c[e+u+1]);for(var d=this.lastResourceLevel,v=0;v<n.length;v++){var m=!0;if(i=n[v].children[0].classList.contains(p.tIu),d[e].resourceData[d[e].resource.expandedField]=!t,t){if(i)(g=n[v].querySelector("."+p.RA5))&&(0,r.pP)(g,[p.ty8],[p.yjv]);n[v].classList.contains(p.Y2Y)||(0,r.iQ)([n[v],a[v],s[v]],p.Y2Y)}else{if(i){var g,f=n[v].rowIndex;if(d[f].resourceData[d[f].resource.expandedField]||(0,r.hX)(d[f].resourceData[d[f].resource.expandedField])||(n.splice(v+1,parseInt(d[f].resourceData.Count,10)),a.splice(v+1,parseInt(d[f].resourceData.Count,10)),s.splice(v+1,parseInt(d[f].resourceData.Count,10)),m=!1),m)(g=n[v].querySelector("."+p.RA5))&&(0,r.pP)(g,[p.yjv],[p.ty8])}n[v].classList.contains(p.Y2Y)&&(0,r.vy)([n[v],a[v],s[v]],p.Y2Y)}}},e.prototype.updateVirtualContent=function(e,t,i,n){this.lastResourceLevel[e].resourceData[this.lastResourceLevel[e].resource.expandedField]=!t,this.setExpandedResources();var a=this.parent.virtualScrollModule.getRenderedCount(),s=this.expandedResources.indexOf(this.renderedResources[0]);if(this.renderedResources=this.expandedResources.slice(s,s+a),this.renderedResources.length<a){var o=this.expandedResources.length-a;o=o>0?o:0,this.renderedResources=this.expandedResources.slice(o,this.expandedResources.length)}var l=this.parent.element.querySelector("."+p.XEi);this.parent.virtualScrollModule.updateVirtualTrackHeight(l);var h=this.parent.element.querySelector("."+p.mpl+" table"),c=this.parent.element.querySelector("."+p._oL+" table"),u=this.parent.element.querySelector("."+p.bau);this.parent.virtualScrollModule.updateContent(h,c,u,this.renderedResources);var d=this.parent.element.querySelector("."+p.rOu);(0,r.hX)(d)||(d.style.height=this.parent.element.querySelector("."+p.s2p).offsetHeight+"px")},e.prototype.renderResourceHeader=function(){var e=(0,r.n)("div",{className:p.xKf});if(e.innerHTML='<div class="'+p.nEF+'"><div class="'+p.Lv3+'"><div class="e-icons '+p.tt3+'"></div></div><div class="'+p.LNi+'"></div></div>',"MonthAgenda"===this.parent.currentView){var t=this.parent.activeView.getPanel().querySelector("."+p._oL);t.insertBefore(e,t.querySelector("."+p.Rbl))}else this.parent.element.insertBefore(e,this.parent.element.querySelector("."+p.otH));this.renderResourceHeaderText(),r.Jm.add(e.querySelector("."+p.tt3),"click",this.menuClick,this)},e.prototype.renderResourceTree=function(){this.popupOverlay=(0,r.n)("div",{className:p.wRy});var e=(0,r.n)("div",{className:p.Fzx+" e-popup-close"});if("MonthAgenda"===this.parent.currentView){var t=this.parent.activeView.getPanel().querySelector("."+p.Rbl);t.insertBefore(e,t.children[0]),t.appendChild(this.popupOverlay)}else this.parent.element.querySelector("."+p.otH).appendChild(e),this.parent.element.querySelector("."+p.otH).appendChild(this.popupOverlay);var i=(0,r.n)("div",{className:p.UCY});e.appendChild(i),this.treeViewObj=new di.GS({cssClass:this.parent.cssClass,enableRtl:this.parent.enableRtl,fields:{dataSource:[].slice.call(this.generateTreeData()),id:"resourceId",text:"resourceName",child:"resourceChild"},nodeTemplate:this.parent.resourceHeaderTemplate,nodeClicked:this.resourceClick.bind(this)}),this.treeViewObj.appendTo(i),this.treeViewObj.expandAll(),this.treePopup=new l.zD(e,{targetType:"relative",actionOnScroll:"none",content:this.treeViewObj.element,relateTo:this.parent.element.querySelector("."+p.otH),enableRtl:this.parent.enableRtl,hideAnimation:{name:"SlideLeftOut",duration:500},showAnimation:{name:"SlideLeftIn",duration:500},viewPortElement:this.parent.element.querySelector("."+("MonthAgenda"===this.parent.currentView?p.Rbl:p.otH))}),this.parent.on(h.GU,this.documentClick,this)},e.prototype.generateTreeData=function(e){for(var t=this,i=[],n=[],a=0,s=function(s,l){var h=function(i,s,o){var l,c,p=t.resourceCollection[s];e?(c={type:"resourceHeader",resource:i.resource,resourceData:i.resourceData,groupIndex:a,groupOrder:i.groupOrder},n.push(c),a++):l={resourceId:o,resourceName:i.resourceData[p.textField],resource:i.resource,resourceData:i.resourceData},i.child.length>0&&!e&&(l.resourceChild=[]);for(var u=1,d=0,v=i.child;d<v.length;d++){var m=v[d];e?h(m,s+1,o+"-"+u):l.resourceChild.push(h(m,s+1,o+"-"+u)),u+=1}return e&&(0,r.X$)(c.resourceData,{Count:u-1}),l};e?h(o.resourceTreeLevel[s],0,(s+1).toString()):i.push(h(o.resourceTreeLevel[s],0,(s+1).toString()))},o=this,l=0,h=this.resourceTreeLevel.length;l<h;l++)s(l);return e?(this.lastResourceLevel=n,n):i},e.prototype.renderResourceHeaderText=function(){for(var e=this.lastResourceLevel[this.parent.uiStateValues.groupIndex],t=[],i=function(i,a){var s=n.resourceCollection[i],o=s.dataSource.filter((function(t){return t[s.idField]===e.groupOrder[i]})),l=(0,r.n)("div",{className:p.t2Z,innerHTML:o[0][s.textField]});t.push(l);var h=(0,r.n)("div",{className:"e-icons e-icon-next"});t.push(h)},n=this,a=0,s=e.groupOrder.length;a<s;a++)i(a);t.pop();var o=("MonthAgenda"===this.parent.currentView?this.parent.activeView.getPanel():this.parent.element).querySelector("."+p.LNi);c.gS(o);for(var l=0,h=t;l<h.length;l++){var u=h[l];o.appendChild(u)}1===this.lastResourceLevel.length&&(0,r.iQ)([this.parent.element.querySelector("."+p.Lv3)],p.AV8)},e.prototype.menuClick=function(e){if(this.parent.element.querySelector("."+p.Fzx).classList.contains(p.g6H))this.treePopup.hide(),(0,r.vy)([this.popupOverlay],p.T7l);else{var t=[].slice.call(this.treeViewObj.element.querySelectorAll(".e-list-item:not(.e-has-child)"));(0,r.vy)(t,"e-active"),(0,r.iQ)([t[this.parent.uiStateValues.groupIndex]],"e-active"),this.treePopup.show(),(0,r.iQ)([this.popupOverlay],p.T7l)}},e.prototype.selectResourceByIndex=function(e){this.lastResourceLevel&&e>-1&&e<this.lastResourceLevel.length&&this.triggerEvents(e)},e.prototype.resourceClick=function(e){if(!e.node.classList.contains("e-has-child")){this.treePopup.hide(),(0,r.vy)([this.popupOverlay],p.T7l);var t=[].slice.call(this.treeViewObj.element.querySelectorAll(".e-list-item:not(.e-has-child)")).indexOf(e.node);this.triggerEvents(t,e),e.event.preventDefault()}},e.prototype.triggerEvents=function(e,t){var i=this,n={cancel:!1,event:t?t.event:null,groupIndex:e,requestType:"resourceChange"};this.parent.trigger(h.eY,n,(function(e){e.cancel||(i.parent.uiStateValues.groupIndex=e.groupIndex,i.parent.renderModule.render(i.parent.currentView),n={cancel:!1,event:t?t.event:null,groupIndex:i.parent.uiStateValues.groupIndex,requestType:"resourceChanged"},i.parent.trigger(h.wn,n))}))},e.prototype.documentClick=function(e){if(!(0,r.kp)(e.event.target,"."+p.Fzx)){var t=this.parent.element.querySelector("."+p.Fzx);t&&t.classList.contains(p.g6H)&&(this.treePopup.hide(),(0,r.vy)([this.popupOverlay],p.T7l))}},e.prototype.bindResourcesData=function(e){var t=this;this.parent.showSpinner();for(var i=[],n=0,r=this.parent.resources;n<r.length;n++){var a=r[n],s=new y(a.dataSource,a.query);i.push(s.getData(s.generateQuery()))}Promise.all(i).then((function(i){return t.dataManagerSuccess(i,e)})).catch((function(e){return t.parent.crudModule.dataManagerFailure(e)}))},e.prototype.dataManagerSuccess=function(e,t){if(!(!this.parent||this.parent&&this.parent.isDestroyed)){this.parent.resourceCollection=[];for(var i=0,n=e.length;i<n;i++){var r=this.parent.resources[i],a=this.getResourceModel(r,e[i].result);this.parent.resourceCollection.push(a)}this.refreshLayout(t)}},e.prototype.getResourceModel=function(e,t){return{field:e.field,title:e.title,name:e.name,allowMultiple:e.allowMultiple,dataSource:t||e.dataSource,idField:e.idField,textField:e.textField,groupIDField:e.groupIDField,colorField:e.colorField,startHourField:e.startHourField,endHourField:e.endHourField,workDaysField:e.workDaysField,expandedField:e.expandedField,cssClassField:e.cssClassField}},e.prototype.refreshLayout=function(e){!(0,r.hX)(this.parent.uiStateValues.groupIndex)&&this.parent.enablePersistence||(this.parent.uiStateValues.groupIndex=0),this.parent.renderElements(e)},e.prototype.setResourceCollection=function(){var e=[];if(this.resourceCollection=[],this.colorIndex=null,this.parent.activeViewOptions.group.resources.length>0)for(var t=0,i=this.parent.activeViewOptions.group.resources;t<i.length;t++){var n=i[t],a=c.J(this.parent.resourceCollection,"name",n);a>=0&&e.push(this.parent.resourceCollection[a])}else this.parent.resourceCollection.length>0&&(e=this.parent.resourceCollection);for(var s=0,o=0,l=e;o<l.length;o++){n=l[o];var h=this.getResourceModel(n);n.name===this.parent.eventSettings.resourceColorField&&(this.colorIndex=s),s++,this.resourceCollection.push(h)}(0,r.hX)(this.colorIndex)&&(this.colorIndex=this.resourceCollection.length-1)},e.prototype.generateResourceLevels=function(e,t){var i=this,n=this.resourceCollection,r=[],a=[],s=function(t,n,o,l,h){var c=[],p=t[0];if(p){var u=void 0;if(l&&i.parent.activeViewOptions.group.byGroupID){var d=l[o.idField];u=p.dataSource.filter((function(e){return e[p.groupIDField]===d}))}else u=p.dataSource;for(var v=0;v<u.length;v++){var m=[];h&&h.length>0&&(m=m.concat(h)),m.push(u[v][p.idField]);var g=s(t.slice(1),n+1,p,u[v],m);if(!(0===n&&0===g.length&&i.resourceCollection.length>1)){var f=[],y=i.parent.activeView.renderDates,T=void 0;if(!i.parent.activeViewOptions.group.byDate&&n+1===i.resourceCollection.length){var w=u[v][p.workDaysField],D=u[v][p.startHourField],b=u[v][p.endHourField];w&&w.length>0?(y=i.parent.activeView.getRenderDates(w),T=w,f=i.parent.activeView.getDateSlots(y,w)):(T=i.parent.activeViewOptions.workDays,f=e);var C=i.generateCustomHours(f,D,b,m);a=a.concat(C)}var S=u[v][p.cssClassField],A={type:"resourceHeader",className:["e-resource-cells"],resourceLevelIndex:n,groupOrder:m,resource:p,resourceData:u[v],colSpan:i.parent.activeViewOptions.group.byDate?1:f.length,renderDates:y,workDays:T,cssClass:S,child:g};c.push(A)}}return r[n]||(r[n]=[]),c.length>0&&r[n].push(c),c}return[]};return this.resourceTreeLevel=s(n,0),t?[]:this.generateHeaderLevels(r,a,e)},e.prototype.generateCustomHours=function(e,t,i,n){for(var a=(0,r.X$)([],e,null,!0),s=0,o=a;s<o.length;s++){var l=o[s];t&&(l.startHour=this.parent.getStartEndTime(t)),i&&(l.endHour=this.parent.getStartEndTime(i)),n&&(l.groupOrder=n)}return a},e.prototype.generateHeaderLevels=function(e,t,i){for(var n=[],a=e.length-1;a>=0;a--)for(var s=0,o=0,l=e[a];o<l.length;o++)for(var h=0,c=l[o];h<c.length;h++){var p=c[h];if(e[a+1]&&e[a+1].length>0){var u=e[a+1][s];if(!u)continue;for(var d=0,v=0,m=u;v<m.length;v++){var g=m[v];(!this.parent.activeViewOptions.group.byGroupID||this.parent.activeViewOptions.group.byGroupID&&g.resourceData[g.resource.groupIDField]===p.resourceData[p.resource.idField])&&(d+=g.colSpan)}p.colSpan=d}p.groupIndex=s,s++,n[p.resourceLevelIndex]=n[p.resourceLevelIndex]||[],n[p.resourceLevelIndex].push(p)}if(this.lastResourceLevel=n.slice(-1)[0]||[],!this.parent.activeViewOptions.group.byDate){for(var f=0,y=0,T=this.lastResourceLevel;y<T.length;y++){var w=T[y];for(a=0;a<w.colSpan;a++)t[f].groupIndex=w.groupIndex,f++}return n.push(t),n}for(var D=[],b=(0,r.X$)([],n,null,!0),C=0,S=0,A=b[0];S<A.length;S++){C+=A[S].colSpan}for(var E=[],O=0,x=i;O<x.length;O++){var k=x[O];k.colSpan=C,E.push(k);for(var V=(0,r.X$)([],b,null,!0),M=0,R=V.length;M<R;M++){if(M===V.length-1)for(var I=0,P=V[M];I<P.length;I++){var L=P[I];L.date=k.date,L.workDays=k.workDays,L.startHour=this.parent.getStartEndTime(L.resourceData[L.resource.startHourField])||k.startHour,L.endHour=this.parent.getStartEndTime(L.resourceData[L.resource.endHourField])||k.endHour}D[M]||(D[M]=[]),D[M]=D[M].concat(V[M])}}return D.unshift(E),D},e.prototype.setResourceValues=function(e,t){var i=this,n=function(t,n,r){i.resourceCollection[t].allowMultiple&&i.parent.activeViewOptions.group.allowGroupEdit?e[n]=[r]:e[n]=r};if(void 0===t&&(t=this.parent.uiStateValues.isGroupAdaptive?this.parent.uiStateValues.groupIndex:this.parent.activeCellsData.groupIndex),this.parent.activeViewOptions.group.resources.length>0&&!(0,r.hX)(t))for(var a=this.lastResourceLevel[t].groupOrder,s=0;s<this.resourceCollection.length;s++)n(s,this.resourceCollection[s].field,a[s]);else if(this.parent.resourceCollection.length>0)for(s=0;s<this.resourceCollection.length;s++){var o=this.resourceCollection[s].dataSource[0];o&&n(s,this.resourceCollection[s].field,o[this.resourceCollection[s].idField])}},e.prototype.getResourceColor=function(e,t){var i=!(0,r.hX)(t)&&this.colorIndex>t.length-1?t.length-1:this.colorIndex,n=this.resourceCollection[i];if(!((0,r.hX)(t)&&this.parent.activeViewOptions.group.allowGroupEdit&&n.allowMultiple)){var a=(0,r.hX)(t)?e[n.field]:t[i],s=this.filterData(n.dataSource,n.idField,a);return s.length>0?s[0][n.colorField]:void 0}},e.prototype.getCssClass=function(e){var t=this.resourceCollection.slice(-1)[0];if(!this.parent.activeViewOptions.group.allowGroupEdit||!t.allowMultiple){var i=this.filterData(t.dataSource,t.idField,e[t.field]);return i.length>0?i[0][t.cssClassField]:void 0}},e.prototype.getResourceRenderDates=function(){var e=[].concat.apply([],this.lastResourceLevel.map((function(e){return e.renderDates}))),t=e.filter((function(e,t,i){return i.map((function(e){return e.getTime()})).indexOf(e.getTime())===t}));return t.sort((function(e,t){return e.getTime()-t.getTime()})),t},e.prototype.filterData=function(e,t,i){return e.filter((function(e){return e[t]===i}))},e.prototype.getResourceData=function(e,t,i){if(this.parent.activeViewOptions.group.allowGroupEdit){for(var n={},a=0,s=i;a<s.length;a++)for(var o=s[a],l=this.lastResourceLevel[o].groupOrder,h=0,c=l.length;h<c;h++){var p=this.resourceCollection[h].field;(0,r.hX)(n[p])&&(n[p]=[]),n[p].push(l[h])}e=(0,r.X$)(e,n)}else{h=0;for(var u=this.resourceCollection.length;h<u;h++)this.lastResourceLevel[t]&&(e[this.resourceCollection[h].field]=this.lastResourceLevel[t].groupOrder[h])}},e.prototype.addResource=function(e,t,i){for(var n=e instanceof Array?e:[e],r=function(e){if(e.name===t)return n.forEach((function(t,n){return new g.M({json:e.dataSource}).insert(t,null,null,i+n)})),"break"},a=0,s=this.parent.resourceCollection;a<s.length;a++){if("break"===r(s[a]))break}this.refreshLayout(!0)},e.prototype.removeResource=function(e,t){for(var i=e instanceof Array?e:[e],n=function(e){if(e.name===t)return i.forEach((function(t){return new g.M({json:e.dataSource}).remove(e.idField,t)})),"break"},r=0,a=this.parent.resourceCollection;r<a.length;r++){if("break"===n(a[r]))break}this.refreshLayout(!0)},e.prototype.getIndexFromResourceId=function(e,t,i,n,a){if(t=t||this.parent.resourceCollection.slice(-1)[0].name,(0,r.hX)(i)&&(i=this.resourceCollection.filter((function(e){return e.name===t}))[0],(0,r.hX)(i)))return null;var s=i.dataSource.filter((function(t){return n&&t[i.idField]===e?t[i.groupIDField]===n[a]?t[i.idField]===e:null:t[i.idField]===e}))[0];return this.lastResourceLevel.map((function(e){return e.resourceData})).indexOf(s)},e.prototype.resourceExpand=function(e,t,i){var n=this.parent.resourceCollection.filter((function(e){return e.name===t?e:null}))[0],r=0,a=n.dataSource.filter((function(t){return t[n.idField]===e}))[0];r=this.parent.activeViewOptions.group.byGroupID?this.lastResourceLevel.map((function(e){return e.resourceData})).indexOf(a):this.getIndexFromResourceId(e,t,n);var s=this.parent.element.querySelector("."+p.mpl+' [data-group-index="'+r+'"] .'+p.RA5);s&&(s.classList.contains(p.ty8)&&!i||s.classList.contains(p.yjv)&&i)&&s.click()},e.prototype.resourceScroll=function(e,t){if(!(this.parent.isAdaptive||["Agenda","MonthAgenda"].indexOf(this.parent.currentView)>-1)){var i=t||this.parent.resourceCollection.slice(-1)[0].name,n=this.parent.resourceCollection.length-1,r=this.parent.resourceCollection.filter((function(e,t){return e.name===i?(n=t,e):null}))[0],a=this.parent.element.querySelector("."+p._oL),s=0;if(this.parent.activeView.isTimelineView()){if(this.parent.activeViewOptions.group.byGroupID){var o=r.dataSource.filter((function(t){return t[r.idField]===e}))[0];s=this.lastResourceLevel.map((function(e){return e.resourceData})).indexOf(o)}else s=this.getIndexFromResourceId(e,i,r);if(this.parent.virtualScrollModule){var l=this.parent.element.querySelector("."+p.XEi),h=Math.round(l.offsetHeight/this.expandedResources.length);if(this.parent.rowAutoHeight&&(a.scrollTop=0,this.parent.virtualScrollModule.virtualScrolling()),a.scrollTop=s*h-(this.parent.virtualScrollModule.bufferCount-1)*h,this.parent.virtualScrollModule.virtualScrolling(),this.parent.rowAutoHeight)(c=this.parent.element.querySelector("."+p.fv4+'[data-group-index="'+s+'"]'))&&!c.parentElement.classList.contains(p.Y2Y)&&(a.scrollTop=a.scrollTop<c.offsetTop?c.offsetTop:a.scrollTop+c.offsetTop);else a.scrollTop=s*h}else{var c;(c=this.parent.element.querySelector("."+p.fv4+'[data-group-index="'+s+'"]'))&&!c.parentElement.classList.contains(p.Y2Y)&&(a.scrollTop=c.offsetTop)}}else{s=this.parent.activeViewOptions.group.byGroupID?i===this.parent.resourceCollection.slice(-1)[0].name?this.lastResourceLevel.map((function(e){return e.resourceData[r.idField]})).indexOf(e):r.dataSource.map((function(e){return e[r.idField]})).indexOf(e):this.getIndexFromResourceId(e,i,r);var u=this.parent.element.querySelector("."+p.muR+":nth-child("+(n+1)+")"),d=[].slice.call(u.children).map((function(e){return e.offsetLeft}));a.scrollLeft=d[s]}}},e.prototype.destroy=function(){this.parent.off(h.GU,this.documentClick),this.treeViewObj&&(this.treeViewObj.destroy(),this.treeViewObj=null),this.treePopup&&(this.treePopup.destroy(),this.treePopup=null,(0,r.TF)(this.parent.element.querySelector("."+p.Fzx)),(0,r.TF)(this.parent.element.querySelector("."+p.wRy)));var e=this.parent.element.querySelector("."+p.xKf);e&&(0,r.TF)(e)},e}(),mi=i(8053),gi=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),fi=function(e,t,i,n){var r,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(a<3?r(s):a>3?r(t,i,s):r(t,i))||s);return a>3&&s&&Object.defineProperty(t,i,s),s},yi=function(e){function t(t,i){return e.call(this,t,i)||this}return gi(t,e),t.prototype.render=function(){var e=[],t=[];if(e.push(p.Dll),this.enableRtl?e.push(p.rXR):t.push(p.rXR),this.isAdaptive?e.push(p.Oc1):t.push(p.Oc1),this.allowMultiDrag?e.push(p.RM5):t.push(p.RM5),this.cssClass)for(var i=0,n=this.cssClass.split(" ");i<n.length;i++){var s=n[i];e.push(s)}(0,r.pP)(this.element,e,t),this.validateDate(),(0,a.GF)({target:this.element}),this.scrollModule=new d(this),this.scrollModule.setWidth(),this.scrollModule.setHeight(),this.renderModule=new jt(this),this.eventBase=new T._(this),this.workCellAction=new Gt(this),this.allowKeyboardInteraction&&(this.keyboardInteractionModule=new m(this)),this.inlineModule=new C(this),this.initializeDataModule(),this.renderTableContainer(),this.activeViewOptions=this.getActiveViewOptions(),this.initializeResources(),this.wireEvents()},t.prototype.renderTableContainer=function(){this.element.querySelector("."+p.otH)||this.element.appendChild(this.createElement("div",{className:p.otH}))},t.prototype.renderTemplates=function(){this.isReact&&this.renderReactTemplates()},t.prototype.resetTemplates=function(e){(this.isAngular||this.isReact)&&this.clearTemplate(e)},t.prototype.initializeResources=function(e){void 0===e&&(e=!1),this.resources.length>0?(this.resourceBase=new vi(this),this.resourceBase.bindResourcesData(e)):(this.resourceBase=null,this.resourceCollection=[],this.renderElements(e))},t.prototype.renderElements=function(e){if(e)return this.initializeView(this.currentView),void this.eventWindow.refresh();this.destroyHeaderModule(),this.showHeaderBar&&(this.headerModule=new u(this)),this.renderTableContainer(),(r.Pw.isDevice||r.Pw.isTouch)&&(this.scheduleTouchModule=new v(this)),this.initializeView(this.currentView),this.destroyPopups(),this.isPrinting||this.initializePopups()},t.prototype.validateDate=function(e){void 0===e&&(e=this.selectedDate);var t=e instanceof Date?new Date(e.getTime()):new Date(e),i=this.minDate instanceof Date?new Date(this.minDate.getTime()):new Date(this.minDate),n=this.maxDate instanceof Date?new Date(this.maxDate.getTime()):new Date(this.maxDate);if(!(i<=n))throw Error("minDate should be equal or less than maxDate");t<i&&(t=i),t>n&&(t=n),this.setProperties({selectedDate:new Date(""+t),minDate:new Date(""+i),maxDate:new Date(""+n)},!0),this.eventWindow&&this.eventWindow.updateMinMaxDateToEditor()},t.prototype.getViewIndex=function(e){for(var t=0;t<this.viewCollections.length;t++){if(this.viewCollections[t].option===e)return t}return-1},t.prototype.setViewOptions=function(e){var t,i;void 0===e&&(e=!1),this.viewOptions={},this.viewCollections=[];var n=this.viewIndex,a=0;this.viewIndex=-1;for(var s=0,o=this.views;s<o.length;s++){var l=o[s],h="string"!==typeof l;"string"===typeof l?(t=l,this.currentView===t&&(i=t,this.viewIndex=a)):(t=l.option,l.isSelected&&(i=t,this.viewIndex=a));var c=(0,r.X$)({option:t},h?l:{}),p=t.charAt(0).toLowerCase()+t.slice(1);c.cellHeaderTemplateName=c.cellHeaderTemplate?c.option:"",c.dateHeaderTemplateName=c.dateHeaderTemplate?c.option:"",c.cellTemplateName=c.cellTemplate?c.option:"",c.dayHeaderTemplateName=c.dayHeaderTemplate?c.option:"",c.monthHeaderTemplateName=c.monthHeaderTemplate?c.option:"",c.resourceHeaderTemplateName=c.resourceHeaderTemplate?c.option:"",c.headerIndentTemplateName=c.headerIndentTemplate?c.option:"",c.eventTemplateName=c.eventTemplate?c.option:"",(0,r.hX)(c.firstDayOfWeek)||0!==c.firstDayOfWeek||delete c.firstDayOfWeek,(0,r.hX)(c.interval)||1!==c.interval||delete c.interval,this.viewCollections.push(c),(0,r.hX)(this.viewOptions[p])?this.viewOptions[p]=[c]:this.viewOptions[p].push(c),a++}if(!e&&i&&this.setProperties({currentView:i},!0),-1===this.viewIndex){var u=this.getViewIndex(this.currentView);this.viewIndex="string"===typeof this.views[0]||(0,r.hX)(n)||-1===n?-1===u?0:u:n}},t.prototype.getActiveViewOptions=function(){var e={enable:this.timeScale.enable,interval:this.timeScale.interval,slotCount:this.timeScale.slotCount,majorSlotTemplate:this.timeScale.majorSlotTemplate,minorSlotTemplate:this.timeScale.minorSlotTemplate},t={byDate:!(this.viewCollections[this.viewIndex].option.indexOf("Year")>-1)&&this.group.byDate,byGroupID:this.group.byGroupID,allowGroupEdit:this.group.allowGroupEdit,resources:this.group.resources,headerTooltipTemplate:this.group.headerTooltipTemplate,enableCompactView:this.group.enableCompactView},i=this.viewCollections[this.viewIndex].workDays?[]:this.workDays,n={dateFormat:this.dateFormat,endHour:this.endHour,isSelected:!1,option:null,readonly:this.readonly,startHour:this.startHour,allowVirtualScrolling:!1,cellHeaderTemplate:this.cellHeaderTemplate,dayHeaderTemplate:this.dayHeaderTemplate,monthHeaderTemplate:this.monthHeaderTemplate,cellTemplate:this.cellTemplate,eventTemplate:this.eventSettings.template,dateHeaderTemplate:this.dateHeaderTemplate,resourceHeaderTemplate:this.resourceHeaderTemplate,headerIndentTemplate:this.headerIndentTemplate,firstMonthOfYear:this.firstMonthOfYear,firstDayOfWeek:this.firstDayOfWeek,workDays:i,monthsCount:this.monthsCount,showWeekend:this.showWeekend,showWeekNumber:this.showWeekNumber,displayName:null,interval:1,timeScale:e,timeFormat:this.internalTimeFormat,group:t,headerRows:this.headerRows,orientation:"Horizontal",numberOfWeeks:0,displayDate:null},a=this.viewCollections[this.viewIndex],s=(0,r.X$)(n,a,void 0,!0);return 0!==this.firstDayOfWeek&&a.firstDayOfWeek&&this.firstDayOfWeek!==a.firstDayOfWeek&&(s.firstDayOfWeek=this.firstDayOfWeek),s.displayDate&&(s.displayDate=s.displayDate instanceof Date?new Date(s.displayDate.getTime()):new Date(s.displayDate)),s},t.prototype.initializeDataModule=function(){this.eventFields={id:this.eventSettings.fields.id,isBlock:this.eventSettings.fields.isBlock,subject:this.eventSettings.fields.subject.name,startTime:this.eventSettings.fields.startTime.name,endTime:this.eventSettings.fields.endTime.name,startTimezone:this.eventSettings.fields.startTimezone.name,endTimezone:this.eventSettings.fields.endTimezone.name,location:this.eventSettings.fields.location.name,description:this.eventSettings.fields.description.name,isAllDay:this.eventSettings.fields.isAllDay.name,recurrenceID:this.eventSettings.fields.recurrenceID.name,recurrenceRule:this.eventSettings.fields.recurrenceRule.name,recurrenceException:this.eventSettings.fields.recurrenceException.name,isReadonly:this.eventSettings.fields.isReadonly,followingID:this.eventSettings.fields.followingID},this.setEditorTitles(),this.dataModule=new y(this.eventSettings.dataSource,this.eventSettings.query),this.crudModule=new Qt(this)},t.prototype.setEditorTitles=function(){this.editorTitles={subject:this.eventSettings.fields.subject.title||this.localeObj.getConstant("title"),startTime:this.eventSettings.fields.startTime.title||this.localeObj.getConstant("start"),endTime:this.eventSettings.fields.endTime.title||this.localeObj.getConstant("end"),isAllDay:this.eventSettings.fields.isAllDay.title||this.localeObj.getConstant("allDay"),startTimezone:this.eventSettings.fields.startTimezone.title||this.localeObj.getConstant("startTimezone"),endTimezone:this.eventSettings.fields.endTimezone.title||this.localeObj.getConstant("endTimezone"),location:this.eventSettings.fields.location.title||this.localeObj.getConstant("location"),description:this.eventSettings.fields.description.title||this.localeObj.getConstant("description"),recurrenceRule:this.eventSettings.fields.recurrenceRule.title||this.localeObj.getConstant("repeat")}},t.prototype.initializeView=function(e){this.showSpinner(),this.activeViewOptions=this.getActiveViewOptions(),this.resourceBase&&this.resourceBase.setResourceCollection(),this.initializeTemplates(),this.renderModule.render(e)},t.prototype.initializeTemplates=function(){this.cellHeaderTemplateFn=this.templateParser(this.activeViewOptions.cellHeaderTemplate),this.dayHeaderTemplateFn=this.templateParser(this.activeViewOptions.dayHeaderTemplate),this.monthHeaderTemplateFn=this.templateParser(this.activeViewOptions.monthHeaderTemplate),this.cellTemplateFn=this.templateParser(this.activeViewOptions.cellTemplate),this.dateHeaderTemplateFn=this.templateParser(this.activeViewOptions.dateHeaderTemplate),this.majorSlotTemplateFn=this.templateParser(this.activeViewOptions.timeScale.majorSlotTemplate),this.minorSlotTemplateFn=this.templateParser(this.activeViewOptions.timeScale.minorSlotTemplate),this.appointmentTemplateFn=this.templateParser(this.activeViewOptions.eventTemplate),this.resourceHeaderTemplateFn=this.templateParser(this.activeViewOptions.resourceHeaderTemplate),this.headerIndentTemplateFn=this.templateParser(this.activeViewOptions.headerIndentTemplate),this.headerTooltipTemplateFn=this.templateParser(this.activeViewOptions.group.headerTooltipTemplate),this.eventTooltipTemplateFn=this.templateParser(this.eventSettings.tooltipTemplate),this.editorTemplateFn=this.templateParser(this.editorTemplate),this.quickInfoTemplatesHeaderFn=this.templateParser(this.quickInfoTemplates.header),this.quickInfoTemplatesContentFn=this.templateParser(this.quickInfoTemplates.content),this.quickInfoTemplatesFooterFn=this.templateParser(this.quickInfoTemplates.footer)},t.prototype.initializePopups=function(){this.eventWindow=new Pt(this),this.quickPopup=new V(this)},t.prototype.getDayNames=function(e){var t,i=[],n="";"en"===this.locale||"en-US"===this.locale?(n="days.stand-alone.",t=(0,r._W)(n+e,(0,r.P)(this.getCalendarMode()))):(n="main."+this.locale+".dates.calendars."+this.getCalendarMode()+".days.format."+e,t=(0,r._W)(n,r.pE));for(var a=0,s=Object.keys(t);a<s.length;a++){var o=s[a];i.push((0,r._W)(o,t))}return i},t.prototype.setCldrTimeFormat=function(){(0,r.hX)(this.timeFormat)?"en"===this.locale||"en-US"===this.locale?this.internalTimeFormat=(0,r._W)("timeFormats.short",(0,r.P)(this.getCalendarMode())):this.internalTimeFormat=(0,r._W)("main."+this.locale+".dates.calendars."+this.getCalendarMode()+".timeFormats.short",r.pE):this.internalTimeFormat=this.timeFormat},t.prototype.getCalendarMode=function(){return this.calendarMode.toLowerCase()},t.prototype.getTimeString=function(e){return this.globalize.formatDate(e,{format:this.activeViewOptions.timeFormat,type:"time",calendar:this.getCalendarMode()}).toLocaleUpperCase()},t.prototype.getDateTime=function(e){return e instanceof Date?new Date(e.getTime()):new Date(e)},t.prototype.setCalendarMode=function(){"Islamic"===this.calendarMode?this.calendarUtil=new ui.h:this.calendarUtil=new ui.Z},t.prototype.changeView=function(e,t,i,n){var a=this;if((0,r.hX)(n)&&(n=this.getViewIndex(e)),!(!i&&n===this.viewIndex&&this.currentView===e||n<0)){this.viewIndex=n;var s={requestType:"viewNavigate",cancel:!1,event:t};this.trigger(h.eY,s,(function(i){if(!i.cancel){var n={action:"view",cancel:!1,currentDate:a.selectedDate,previousView:a.currentView,currentView:e,viewIndex:a.viewIndex};a.trigger(h.B0,n,(function(i){i.cancel||(a.viewIndex=i.viewIndex,a.setProperties({currentView:e},!0),a.headerModule&&(a.headerModule.updateActiveView(),a.headerModule.setCalendarDate(a.selectedDate),a.headerModule.setCalendarView()),a.initializeView(a.currentView),a.animateLayout(),s={requestType:"viewNavigate",cancel:!1,event:t},a.trigger(h.wn,s))}))}}))}},t.prototype.changeDate=function(e,t){var i=this,n={requestType:"dateNavigate",cancel:!1,event:t};this.trigger(h.eY,n,(function(r){if(!r.cancel){var a={action:"date",cancel:!1,previousDate:i.selectedDate,currentDate:e};i.trigger(h.B0,a,(function(e){e.cancel||(i.uiStateValues.isInitial=!!i.activeView.isTimelineView()||i.uiStateValues.isInitial,i.validateDate(e.currentDate),i.headerModule&&i.headerModule.setCalendarDate(e.currentDate),i.initializeView(i.currentView),i.animateLayout(),n={requestType:"dateNavigate",cancel:!1,event:t},i.trigger(h.wn,n))}))}}))},t.prototype.isMinMaxDate=function(e){return void 0===e&&(e=this.selectedDate),e.getTime()>=this.minDate.getTime()&&e.getTime()<=this.maxDate.getTime()},t.prototype.isSelectedDate=function(e){return e.setHours(0,0,0,0)===new Date(""+this.selectedDate).setHours(0,0,0,0)},t.prototype.getCurrentTime=function(e){return void 0===e&&(e=new Date),this.timezone?this.tzModule.convert(e,this.tzModule.getLocalTimezoneName(),this.timezone):e},t.prototype.getNavigateView=function(){return this.activeView.isTimelineView()?"TimelineMonth"===this.currentView||"TimelineYear"===this.currentView?"TimelineDay":"Agenda":"Day"},t.prototype.animateLayout=function(){this.activeView.element&&new r.X5({duration:600,name:"FadeIn",timingFunction:"easeIn"}).animate(this.activeView.element)},t.prototype.requiredModules=function(){var e=[];this.setViewOptions(!0);for(var t=0,i=Object.keys(this.viewOptions);t<i.length;t++){var n=i[t];n="timelineDay"===n||"timelineWeek"===n||"timelineWorkWeek"===n?"timelineViews":n,e.push({member:n,args:[this]})}return this.allowDragAndDrop&&e.push({member:"dragAndDrop",args:[this]}),this.allowResizing&&e.push({member:"resize",args:[this]}),e.push({member:"excelExport",args:[this]}),e.push({member:"iCalendarExport",args:[this]}),e.push({member:"iCalendarImport",args:[this]}),e.push({member:"print",args:[this]}),e},t.prototype.preRender=function(){this.isAdaptive=r.Pw.isDevice||c.Pc(),this.globalize=new r.DL(this.locale),this.tzModule=new mi.k,(this&&(0,r.hX)(this.uiStateValues)||!this.enablePersistence)&&(this.uiStateValues={expand:!1,isInitial:!0,left:0,top:0,isGroupAdaptive:!1,isIgnoreOccurrence:!1,groupIndex:0,action:!1,isBlock:!1,isCustomMonth:!0,isResize:!1}),this.activeCellsData={startTime:this.getCurrentTime(),endTime:this.getCurrentTime(),isAllDay:!1},this.activeEventData={event:void 0,element:void 0},this.getDefaultLocale(),this.localeObj=new r.Wo(this.getModuleName(),this.defaultLocale,this.locale),this.setCldrTimeFormat(),this.setCalendarMode(),this.eventsData=[],this.eventsProcessed=[],this.blockData=[],this.blockProcessed=[],this.resourceCollection=[],this.currentAction=null,this.selectedElements=[],this.setViewOptions()},t.prototype.getDefaultLocale=function(){this.defaultLocale={day:"Day",week:"Week",workWeek:"Work Week",month:"Month",year:"Year",agenda:"Agenda",weekAgenda:"Week Agenda",workWeekAgenda:"Work Week Agenda",monthAgenda:"Month Agenda",today:"Today",noEvents:"No events",emptyContainer:"There are no events scheduled on this day.",allDay:"All day",start:"Start",end:"End",more:"more",close:"Close",cancel:"Cancel",noTitle:"(No Title)",delete:"Delete",deleteEvent:"Delete Event",deleteMultipleEvent:"Delete Multiple Events",selectedItems:"Items selected",deleteSeries:"Entire Series",edit:"Edit",editSeries:"Entire Series",editEvent:"Edit Event",createEvent:"Create",subject:"Subject",addTitle:"Add title",moreDetails:"More Details",save:"Save",editContent:"How would you like to change the appointment in the series?",deleteContent:"Are you sure you want to delete this event?",deleteMultipleContent:"Are you sure you want to delete the selected events?",newEvent:"New Event",title:"Title",location:"Location",description:"Description",timezone:"Timezone",startTimezone:"Start Timezone",endTimezone:"End Timezone",repeat:"Repeat",saveButton:"Save",cancelButton:"Cancel",deleteButton:"Delete",recurrence:"Recurrence",wrongPattern:"The recurrence pattern is not valid.",seriesChangeAlert:"Do you want to cancel the changes made to specific instances of this series and match it to the whole series again?",createError:"The duration of the event must be shorter than how frequently it occurs. Shorten the duration, or change the recurrence pattern in the recurrence event editor.",sameDayAlert:"Two occurrences of the same event cannot occur on the same day.",occurenceAlert:"Cannot reschedule an occurrence of the recurring appointment if it skips over a later occurrence of the same appointment.",editRecurrence:"Edit Recurrence",repeats:"Repeats",alert:"Alert",startEndError:"The selected end date occurs before the start date.",invalidDateError:"The entered date value is invalid.",blockAlert:"Events cannot be scheduled within the blocked time range.",ok:"Ok",yes:"Yes",no:"No",occurrence:"Occurrence",series:"Series",previous:"Previous",next:"Next",timelineDay:"Timeline Day",timelineWeek:"Timeline Week",timelineWorkWeek:"Timeline Work Week",timelineMonth:"Timeline Month",timelineYear:"Timeline Year",editFollowingEvent:"Following Events",deleteTitle:"Delete Event",editTitle:"Edit Event",beginFrom:"Begin From",endAt:"Ends At",expandAllDaySection:"Expand-all-day-section",collapseAllDaySection:"Collapse-all-day-section",searchTimezone:"Search Timezone",noRecords:"No records found"}},t.prototype.wireEvents=function(){r.Jm.add(window,"resize",this.onScheduleResize,this),r.Jm.add(window,"orientationchange",this.onScheduleResize,this),r.Jm.add(document,r.Pw.touchStartEvent,this.onDocumentClick,this)},t.prototype.removeSelectedClass=function(){for(var e=this.getSelectedElements(),t=0,i=e;t<i.length;t++){var n=i[t];n.setAttribute("aria-selected","false"),n.removeAttribute("tabindex")}(0,r.vy)(e,p.sEA)},t.prototype.addSelectedClass=function(e,t,i){for(var n=0,a=e;n<a.length;n++){a[n].setAttribute("aria-selected","true")}(0,r.iQ)(e,p.sEA),t&&(t.setAttribute("tabindex","0"),t.focus({preventScroll:i||!1}))},t.prototype.selectCell=function(e){this.removeSelectedClass(),this.addSelectedClass([e],e)},t.prototype.getAllDayRow=function(){return this.element.querySelector("."+p.IoD)},t.prototype.getContentTable=function(){return this.activeView.element.querySelector("."+p.s2p+" tbody")},t.prototype.getTableRows=function(){return[].slice.call(this.element.querySelectorAll("."+p.s2p+" tbody tr:not(."+p.Y2Y+")"))},t.prototype.getWorkCellElements=function(){return[].slice.call(this.element.querySelectorAll("."+p.fv4))},t.prototype.getIndexOfDate=function(e,t){return e.map(Number).indexOf(+t)},t.prototype.isAllDayCell=function(e){return!(!(["Month","TimelineMonth","TimelineYear","MonthAgenda"].indexOf(this.currentView)>-1||e.classList.contains(p.tTW)||e.classList.contains(p.Zas))&&this.activeViewOptions.timeScale.enable)||!!(this.activeView.isTimelineView()&&this.activeViewOptions.headerRows.length>0&&"Hour"!==this.activeViewOptions.headerRows.slice(-1)[0].option)},t.prototype.getDateFromElement=function(e){var t;if((0,r.hX)(e)||(t=e.getAttribute("data-date")),!(0,r.hX)(t)){var i=parseInt(t,10);return new Date(i)}},t.prototype.getTargetElement=function(e,t,i){var n,r=document.elementFromPoint(t,i);return r&&(n=r.closest(e)),n?[n]:null},t.prototype.getCellHeaderTemplate=function(){return this.cellHeaderTemplateFn},t.prototype.getDayHeaderTemplate=function(){return this.dayHeaderTemplateFn},t.prototype.getMonthHeaderTemplate=function(){return this.monthHeaderTemplateFn},t.prototype.getCellTemplate=function(){return this.cellTemplateFn},t.prototype.getDateHeaderTemplate=function(){return this.dateHeaderTemplateFn},t.prototype.getMajorSlotTemplate=function(){return this.majorSlotTemplateFn},t.prototype.getMinorSlotTemplate=function(){return this.minorSlotTemplateFn},t.prototype.getAppointmentTemplate=function(){return this.appointmentTemplateFn},t.prototype.getEventTooltipTemplate=function(){return this.eventTooltipTemplateFn},t.prototype.getHeaderTooltipTemplate=function(){return this.headerTooltipTemplateFn},t.prototype.getEditorTemplate=function(){return this.editorTemplateFn},t.prototype.getQuickInfoTemplatesHeader=function(){return this.quickInfoTemplatesHeaderFn},t.prototype.getQuickInfoTemplatesContent=function(){return this.quickInfoTemplatesContentFn},t.prototype.getQuickInfoTemplatesFooter=function(){return this.quickInfoTemplatesFooterFn},t.prototype.getResourceHeaderTemplate=function(){return this.resourceHeaderTemplateFn},t.prototype.getHeaderIndentTemplate=function(){return this.headerIndentTemplateFn},t.prototype.getCssProperties=function(){return{border:this.enableRtl?"borderLeftWidth":"borderRightWidth",padding:this.enableRtl?"paddingLeft":"paddingRight",rtlBorder:this.enableRtl?"borderRightWidth":"borderLeftWidth",rtlPadding:this.enableRtl?"paddingRight":"paddingLeft"}},t.prototype.removeNewEventElement=function(){var e=this.element.querySelector("."+p.tUo);(0,r.hX)(e)||(0,r.TF)(e)},t.prototype.getStartEndTime=function(e){if(!(0,r.hX)(e)&&""!==e){var t=c.JC(this.getCurrentTime()),i=e.split(":");return 2===i.length&&t.setHours(parseInt(i[0],10),parseInt(i[1],10),0),t}return null},t.prototype.onDocumentClick=function(e){this.notify(h.GU,{event:e})},t.prototype.onScheduleResize=function(){(0,r.hX)(this.activeView)||(this.isAdaptive||c.Fr())&&document.activeElement&&document.activeElement.classList.contains(p.YrY)||(this.activeViewOptions.timeScale.enable&&this.activeView&&this.activeView.highlightCurrentTime(),this.quickPopup&&this.quickPopup.onClosePopup(),"Month"===this.currentView||"Agenda"!==this.currentView&&"MonthAgenda"!==this.currentView&&!this.activeViewOptions.timeScale.enable||this.activeView.isTimelineView()?(this.uiStateValues.isResize=!0,this.activeView.resetColWidth(),this.notify(h.bk,{cssProperties:this.getCssProperties(),isPreventScrollUpdate:!0}),this.refreshEvents(!1),this.uiStateValues.isResize=!1):this.notify(h.PR,{}))},t.prototype.templateParser=function(e){if(e)try{if(document.querySelectorAll(e).length)return(0,r.wE)(document.querySelector(e).innerHTML.trim())}catch(t){return(0,r.wE)(e)}},t.prototype.getAnnouncementString=function(e,t){var i;if(this.quickPopup&&this.activeViewOptions.group.resources.length>0){i=this.quickPopup.getResourceText({event:e},"event")+'"s event - '}var n=t||e[this.eventFields.subject]||this.eventSettings.fields.subject.default,r="full",a=this.globalize.formatDate(e[this.eventFields.startTime],{type:"dateTime",skeleton:r,calendar:this.getCalendarMode()}),s=this.globalize.formatDate(e[this.eventFields.endTime],{type:"dateTime",skeleton:r,calendar:this.getCalendarMode()}),o=n+" "+this.localeObj.getConstant("beginFrom")+" "+a+" "+this.localeObj.getConstant("endAt")+" "+s;return i&&(o=i+" "+o),o},t.prototype.boundaryValidation=function(e,t){var i={left:!1,right:!1,top:!1,bottom:!1},n=this.element.querySelector("."+p._oL).getBoundingClientRect();return e<n.top+30+window.pageYOffset&&e>n.top+window.pageYOffset&&(i.top=!0),e>n.bottom-30+window.pageYOffset&&e<n.bottom+window.pageYOffset&&(i.bottom=!0),t<n.left+30+window.pageXOffset&&t>n.left+window.pageXOffset&&(i.left=!0),t>n.right-30+window.pageXOffset&&t<n.right+window.pageXOffset&&(i.right=!0),i},t.prototype.getWeekNumberContent=function(e){var t;if("FirstDay"===this.weekRule){var i=c.fI(e.slice(-1)[0],this.firstDayOfWeek);t=this.globalize.formatNumber(c.QW(i))}else if("FirstFourDayWeek"===this.weekRule){var n=c.lZ(e.slice(-1)[0],this.firstDayOfWeek),r=c.fI(e.slice(-1)[0],this.firstDayOfWeek),a=c.WZ(n,r);t=this.globalize.formatNumber(c.QW(a))}else if("FirstFullWeek"===this.weekRule){n=c.lZ(e.slice(-1)[0],this.firstDayOfWeek);t=this.globalize.formatNumber(c.QW(n))}return t},t.prototype.renderHeaderIndentTemplate=function(e,t){if(this.activeViewOptions.headerIndentTemplate){var i=this.element.id+"_"+this.activeViewOptions.headerIndentTemplateName+"headerIndentTemplate",n=[].slice.call(this.getHeaderIndentTemplate()(e,this,"headerIndentTemplate",i,!1));(0,r.BC)(n,t)}},t.prototype.unWireEvents=function(){r.Jm.remove(window,"resize",this.onScheduleResize),r.Jm.remove(window,"orientationchange",this.onScheduleResize),r.Jm.remove(document,r.Pw.touchStartEvent,this.onDocumentClick)},t.prototype.getModuleName=function(){return"schedule"},t.prototype.getPersistData=function(){return this.addOnPersist(["currentView","selectedDate","scrollTop","scrollLeft"])},t.prototype.onPropertyChanged=function(e,t){if(!this.isReact||!(0,r.hX)(this.activeView)){for(var i={isRefresh:!1,isResource:!1,isDate:!1,isView:!1,isLayout:!1,isDataManager:!1},n=0,a=Object.keys(e);n<a.length;n++){var s=a[n];switch(s){case"views":this.setViewOptions(),this.headerModule&&this.headerModule.updateItems(),i.isView=!0;break;case"currentView":i.isView=!0;break;case"minDate":case"maxDate":case"selectedDate":i.isDate=!0;break;case"dateFormat":this.activeViewOptions=this.getActiveViewOptions(),this.headerModule&&this.headerModule.updateDateRange(this.activeView.getDateRangeText());break;case"showHeaderBar":this.destroyHeaderModule(),e.showHeaderBar&&(this.headerModule=new u(this),this.headerModule.updateDateRange(this.activeView.getDateRangeText())),this.notify(h.bk,{cssProperties:this.getCssProperties()}),this.activeView.isTimelineView()&&this.refreshEvents(!1);break;case"showWeekend":case"workDays":case"startHour":case"endHour":case"workHours":case"readonly":case"headerRows":case"showWeekNumber":case"rowAutoHeight":i.isLayout=!0;break;case"locale":case"calendarMode":this.globalize=new r.DL(this.locale),this.localeObj=new r.Wo(this.getModuleName(),this.defaultLocale,this.locale),this.setCldrTimeFormat(),this.setCalendarMode(),i.isRefresh=!0;break;case"firstDayOfWeek":this.activeViewOptions.firstDayOfWeek=e.firstDayOfWeek,this.eventWindow&&this.eventWindow.refreshRecurrenceEditor(),i.isLayout=!0;break;case"showTimeIndicator":this.activeViewOptions.timeScale.enable&&this.activeView&&this.activeView.highlightCurrentTime();break;case"cellHeaderTemplate":this.activeViewOptions.cellHeaderTemplate=e.cellHeaderTemplate,this.cellHeaderTemplateFn=this.templateParser(this.activeViewOptions.cellHeaderTemplate),i.isLayout=!0;break;case"cellTemplate":this.activeViewOptions.cellTemplate=e.cellTemplate,this.cellTemplateFn=this.templateParser(this.activeViewOptions.cellTemplate),i.isLayout=!0;break;case"dateHeaderTemplate":this.activeViewOptions.dateHeaderTemplate=e.dateHeaderTemplate,this.dateHeaderTemplateFn=this.templateParser(this.activeViewOptions.dateHeaderTemplate),i.isLayout=!0;break;case"dayHeaderTemplate":this.activeViewOptions.dayHeaderTemplate=e.dayHeaderTemplate,this.dayHeaderTemplateFn=this.templateParser(this.activeViewOptions.dayHeaderTemplate),i.isLayout=!0;break;case"monthHeaderTemplate":this.activeViewOptions.monthHeaderTemplate=e.monthHeaderTemplate,this.monthHeaderTemplateFn=this.templateParser(this.activeViewOptions.monthHeaderTemplate),i.isLayout=!0;break;case"resourceHeaderTemplate":this.activeViewOptions.resourceHeaderTemplate=e.resourceHeaderTemplate,this.resourceHeaderTemplateFn=this.templateParser(this.activeViewOptions.resourceHeaderTemplate),i.isLayout=!0;break;case"timezone":this.eventBase.timezonePropertyChange(t.timezone),this.headerModule.setCalendarTimezone();break;case"enableRtl":this.setRtlClass(),i.isRefresh=!0;break;default:this.extendedPropertyChange(s,e,t,i)}}this.propertyChangeAction(i)}},t.prototype.propertyChangeAction=function(e){e.isRefresh?this.refresh():e.isResource?this.initializeResources(!0):e.isView?this.changeView(this.currentView,null,!0):e.isDate?this.changeDate(this.selectedDate):e.isLayout?this.initializeView(this.currentView):e.isDataManager&&this.crudModule&&(this.dragAndDropModule&&(this.dragAndDropModule.actionObj.action="",(0,r.vy)([this.element],p.TXV)),this.crudModule.refreshDataManager())},t.prototype.allDayRowScrollUpdate=function(){var e=this.element.querySelector("."+p.bI1),t=this.element.querySelector("."+p.IoD);if("auto"!==this.height&&this.enableAllDayScroll)e.classList.contains(p.K9U)&&(0,r.vy)([e],p.K9U),this.eventBase.allDayExpandScroll(e);else if((0,r.iQ)([e],p.K9U),e.classList.contains(p.UXo)&&(0,r.vy)([e],p.UXo),this.uiStateValues.expand){var i=[].slice.call(this.element.querySelectorAll("."+p.tTW));i[0].style.height=t.style.height?t.style.height:i[1].style.height}this.uiStateValues.expand||(t.style.height="")},t.prototype.extendedPropertyChange=function(e,t,i,n){switch(e){case"width":case"height":case"enableAllDayScroll":["Day","Week","WorkWeek"].indexOf(this.currentView)>-1&&this.allDayRowScrollUpdate(),this.notify(h.yP,{module:"scroll",properties:{width:t.width,height:t.height}});break;case"cssClass":i.cssClass&&(0,r.vy)([this.element],i.cssClass.split(" ")),t.cssClass&&(0,r.iQ)([this.element],t.cssClass.split(" "));break;case"hideEmptyAgendaDays":case"agendaDaysCount":this.activeViewOptions=this.getActiveViewOptions(),n.isView=!0;break;case"eventSettings":this.onEventSettingsPropertyChanged(t.eventSettings,i.eventSettings,n);break;case"allowKeyboardInteraction":this.keyboardInteractionModule&&(this.keyboardInteractionModule.destroy(),this.keyboardInteractionModule=null),t.allowKeyboardInteraction&&(this.keyboardInteractionModule=new m(this));break;case"timezoneDataSource":this.eventWindow&&this.eventWindow.refresh();break;case"editorTemplate":(0,r.hX)(this.editorTemplate)||(this.editorTemplateFn=this.templateParser(this.editorTemplate)),this.eventWindow&&this.eventWindow.setDialogContent();break;case"quickInfoTemplates":this.quickInfoTemplates.header&&(this.quickInfoTemplatesHeaderFn=this.templateParser(this.quickInfoTemplates.header)),this.quickInfoTemplates.content&&(this.quickInfoTemplatesContentFn=this.templateParser(this.quickInfoTemplates.content)),this.quickInfoTemplates.footer&&(this.quickInfoTemplatesFooterFn=this.templateParser(this.quickInfoTemplates.footer));break;case"group":this.onGroupSettingsPropertyChanged(t.group,i.group,n);break;case"resources":n.isResource=!0;break;case"timeScale":this.activeViewOptions.timeScale.interval=t.timeScale.interval||this.activeViewOptions.timeScale.interval,this.activeViewOptions.timeScale.slotCount=t.timeScale.slotCount||this.activeViewOptions.timeScale.slotCount,this.eventWindow&&this.eventWindow.refreshDateTimePicker(),n.isLayout=!0;break;case"allowDragAndDrop":case"allowResizing":case"eventDragArea":this.refreshEvents(!1);break;case"weekRule":n.isLayout=!0;break;case"firstMonthOfYear":this.activeViewOptions.firstMonthOfYear=t.firstMonthOfYear,this.viewIndex=this.activeView.viewIndex,n.isLayout=!0;break;case"monthsCount":this.activeViewOptions.monthsCount=t.monthsCount,this.viewIndex=this.activeView.viewIndex,n.isLayout=!0;break;case"timeFormat":this.internalTimeFormat=t.timeFormat||this.activeViewOptions.timeFormat,this.eventWindow&&this.eventWindow.refreshDateTimePicker(),n.isLayout=!0;break;case"enableAdaptiveUI":this.showHeaderBar&&this.headerModule&&(this.destroyHeaderModule(),this.headerModule=new u(this),this.headerModule.updateDateRange(this.activeView.getDateRangeText())),n.isLayout=!0;break;case"headerIndentTemplate":this.activeViewOptions.headerIndentTemplate=t.headerIndentTemplate,this.headerIndentTemplateFn=this.templateParser(this.activeViewOptions.headerIndentTemplate),n.isLayout=!0}},t.prototype.setRtlClass=function(){this.enableRtl?(0,r.iQ)([this.element],"e-rtl"):(0,r.vy)([this.element],"e-rtl")},t.prototype.onGroupSettingsPropertyChanged=function(e,t,i){for(var n=0,r=Object.keys(e);n<r.length;n++){var a=r[n];"headerTooltipTemplate"===a?this.headerTooltipTemplateFn=this.templateParser(e[a]):(i.isLayout=!0,this.eventWindow&&this.eventWindow.refresh())}},t.prototype.onEventSettingsPropertyChanged=function(e,t,i){for(var n=0,r=Object.keys(e);n<r.length;n++){switch(r[n]){case"dataSource":case"query":case"fields":this.initializeDataModule(),i.isDataManager=!0;break;case"template":this.activeViewOptions.eventTemplate=e.template,this.appointmentTemplateFn=this.templateParser(this.activeViewOptions.eventTemplate),i.isDataManager=!0;break;case"enableTooltip":this.eventTooltip&&(this.eventTooltip.destroy(),this.eventTooltip=null),e.enableTooltip&&(this.eventTooltip=new R(this));break;case"tooltipTemplate":this.eventTooltipTemplateFn=this.templateParser(this.eventSettings.tooltipTemplate);break;case"resourceColorField":this.resourceBase&&this.resourceBase.setResourceCollection(),i.isDataManager=!0;break;case"editFollowingEvents":this.quickPopup&&this.quickPopup.refreshQuickDialog();break;case"allowAdding":case"allowEditing":case"allowDeleting":this.showHeaderBar&&this.headerModule&&this.headerModule.updateAddIcon(),this.eventWindow&&this.eventWindow.refresh();break;case"spannedEventPlacement":case"minimumEventDuration":case"enableMaxHeight":case"enableIndicator":this.refreshEvents(!1);break;case"ignoreWhitespace":i.isLayout=!0}}},t.prototype.destroyHeaderModule=function(){this.headerModule&&(this.headerModule.destroy(),this.headerModule=null)},t.prototype.destroyPopups=function(){this.quickPopup&&(this.quickPopup.destroy(),this.quickPopup=null),this.eventWindow&&(this.eventWindow.destroy(),this.eventWindow=null)},t.prototype.showSpinner=function(){(0,a.xc)(this.element)},t.prototype.hideSpinner=function(){(0,a.W$)(this.element)},t.prototype.setWorkHours=function(e,t,i,n){var a;a=this.getWorkHourCells(e,t,i,n),(0,r.iQ)(a,p.Fx$)},t.prototype.resetWorkHours=function(e,t,i,n){if(void 0===e&&(e=this.activeView.renderDates),e&&t&&i){var a=this.getWorkHourCells(e,t,i,n);(0,r.vy)(a,p.Fx$)}else{var s=[].slice.call(this.element.querySelectorAll("."+p.Fx$));(0,r.vy)(s,p.Fx$)}},t.prototype.getWorkHourCells=function(e,t,i,n){if(["Agenda","MonthAgenda","Month","TimelineMonth"].indexOf(this.currentView)>-1)return[];var a=this.getStartEndTime(t),s=this.getStartEndTime(i),o=this.getContentTable();if((0,r.hX)(a)||(0,r.hX)(s)||!o)return[];a.setMilliseconds(0),s.setMilliseconds(0);var l=this.activeView.getStartHour();a<l&&(a=l);var h=this.activeView.getEndHour();s>h&&(s=h);for(var u=this.activeViewOptions.timeScale.interval*c.EM/this.activeViewOptions.timeScale.slotCount,d=Math.round((a.getTime()-l.getTime())/u),v=Math.ceil((s.getTime()-l.getTime())/u),m=d,g=v,f=[],y=0,T=e;y<T.length;y++){var w=T[y];w=this.getDateTime(w),c.JC(w);var D=this.activeView.renderDates;(0,r.hX)(n)||!this.resourceBase||this.activeView.isTimelineView()||(D=this.resourceBase.lastResourceLevel[n].renderDates);var b=this.getIndexOfDate(D,w);if(b>=0){if(this.activeView.isTimelineView()){var C=Math.round((h.getTime()-l.getTime())/u);d=m+b*C,v=g+b*C}for(var S=d;S<v;S++)if(this.activeView.isTimelineView()){var A=(0,r.hX)(n)?0:n;f.push(o.rows[A].cells[S])}else if((0,r.hX)(n))f.push(o.rows[S].cells[b]);else{var E="."+p.fv4+'[data-group-index="'+n+'"]',O=[].slice.call(o.rows[S].querySelectorAll(E));f.push(O[b])}}}return f},t.prototype.getCellDetails=function(e){var t=e instanceof Array?e:[e],i=(0,r.V6)(t[0]),n=(0,r.V6)(t.slice(-1)[0]),a=this.getDateFromElement(i),s=this.getDateFromElement(n);if(!(0,r.hX)(a)&&!(0,r.hX)(s)){var o=this.activeView.isTimelineView()&&!(0,r.hX)(n.getAttribute("colSpan"))&&this.headerRows.length>0,l=o?parseInt(n.getAttribute("colSpan"),10):1,h={startTime:a,endTime:s=!this.activeViewOptions.timeScale.enable||o||n.classList.contains(p.tTW)||n.classList.contains(p.Zas)?c.fi(new Date(s.getTime()),l):this.activeView.getEndDateFromStartDate(s),isAllDay:this.isAllDayCell(i),element:e},u=i.getAttribute("data-group-index");return(0,r.hX)(u)||(h.groupIndex=parseInt(u,10)),h}},t.prototype.getSelectedElements=function(){return[].slice.call(this.element.querySelectorAll("."+p.sEA))},t.prototype.getResourceCollections=function(){return this.resourceCollection},t.prototype.setResourceCollections=function(e){this.setProperties({resources:e},!1)},t.prototype.changeCurrentView=function(e,t){var i=this.getViewIndex(e),n=e.charAt(0).toLowerCase()+e.slice(1),r=this.viewOptions[n];r&&(i=this.viewCollections.indexOf(r[t||0])),-1!==i&&i!==this.viewIndex&&this.changeView(e,null,null,i)},t.prototype.getCurrentViewIndex=function(){return this.viewIndex},t.prototype.getResourcesByIndex=function(e){if(this.resourceBase&&this.resourceBase.lastResourceLevel){if(e<0||e>=this.resourceBase.lastResourceLevel.length)return;var t=this.resourceBase.lastResourceLevel[e],i={};return this.resourceBase.setResourceValues(i,e),{resource:t.resource,resourceData:t.resourceData,groupData:i}}},t.prototype.expandResource=function(e,t){this.activeView.isTimelineView()&&this.resourceBase&&this.resourceCollection.length>1&&this.resourceBase.resourceExpand(e,t,!1)},t.prototype.collapseResource=function(e,t){this.activeView.isTimelineView()&&this.resourceBase&&this.resourceCollection.length>1&&this.resourceBase.resourceExpand(e,t,!0)},t.prototype.scrollTo=function(e,t){this.activeView.scrollToDate&&(0,r.hX)(e)&&t?this.activeView.scrollToDate(t):this.activeView.scrollToHour&&this.activeView.scrollToHour(e,t)},t.prototype.scrollToResource=function(e,t){this.resourceBase&&this.resourceBase.lastResourceLevel&&this.resourceBase.resourceScroll(e,t)},t.prototype.exportToICalendar=function(e,t){if(!this.iCalendarExportModule)throw Error("Inject ICalendarExport module");this.iCalendarExportModule.initializeCalendarExport(e,t)},t.prototype.importICalendar=function(e){if(!this.iCalendarImportModule)throw Error("Inject ICalendarImport module");this.iCalendarImportModule.initializeCalendarImport(e)},t.prototype.addEvent=function(e){this.crudModule.addEvent(e)},t.prototype.exportToExcel=function(e){if(!this.excelExportModule)throw Error("Inject ExcelExport module");this.excelExportModule.initializeExcelExport(e)},t.prototype.print=function(e){if(!this.printModule)throw Error("Inject Print module");this.printModule.print(e)},t.prototype.saveEvent=function(e,t){this.crudModule.saveEvent(e,t)},t.prototype.deleteEvent=function(e,t){this.crudModule.deleteEvent(e,t)},t.prototype.getEvents=function(e,t,i){var n=[];return n=i?this.eventBase.getProcessedEvents():this.eventsData,e&&(e=this.getDateTime(e)),t&&(t=this.getDateTime(t)),n=this.eventBase.filterEventsByRange(n,e,t)},t.prototype.getBlockEvents=function(e,t,i){var n=[];return n=i?this.eventBase.getProcessedEvents(this.blockData):this.blockData,e&&(e=this.getDateTime(e)),t&&(t=this.getDateTime(t)),n=this.eventBase.filterEventsByRange(n,e,t)},t.prototype.getOccurrencesByID=function(e){return this.eventBase.getOccurrencesByID(e)},t.prototype.getOccurrencesByRange=function(e,t){return e=this.getDateTime(e),t=this.getDateTime(t),this.eventBase.getOccurrencesByRange(e,t)},t.prototype.getCurrentViewDates=function(){return this.activeView?this.activeView.renderDates:[]},t.prototype.setRecurrenceEditor=function(e){this.eventWindow.setRecurrenceEditor(e)},t.prototype.getEventMaxID=function(){return this.eventBase.getEventMaxID()},t.prototype.getDeletedOccurrences=function(e){return this.eventBase.getDeletedOccurrences(e)},t.prototype.getCurrentViewEvents=function(){return this.eventsProcessed},t.prototype.refreshEvents=function(e){if(void 0===e&&(e=!0),this.dragAndDropModule&&(this.dragAndDropModule.actionObj.action="",(0,r.vy)([this.element],p.TXV)),e)this.crudModule.refreshDataManager();else{if(this.activeViewOptions&&this.activeViewOptions.eventTemplate){var t=["eventTemplate"];if(this.crudModule&&this.crudModule.crudObj.isCrudAction&&-1===["Agenda","MonthAgenda","Year","TimelineYear"].indexOf(this.currentView)){t=[];for(var i=0,n=this.crudModule.crudObj.sourceEvent.length;i<n;i++)t.push("eventTemplate_"+this.crudModule.crudObj.sourceEvent[i].groupIndex),this.crudModule.crudObj.targetEvent[i]&&this.crudModule.crudObj.sourceEvent[i].groupIndex!==this.crudModule.crudObj.targetEvent[i].groupIndex&&t.push("eventTemplate_"+this.crudModule.crudObj.targetEvent[i].groupIndex)}this.resetTemplates(t)}var a=this.eventsData||[],s=this.blockData||[],o=a.concat(s);this.notify(h.yU,{processedData:this.eventBase?this.eventBase.processData(o):[]})}},t.prototype.refreshTemplates=function(e){switch(e?this.resetTemplates([e]):this.resetTemplates(),e){case"eventTemplate":this.appointmentTemplateFn=this.templateParser(this.activeViewOptions.eventTemplate),this.refreshEvents(!1);break;case"dateHeaderTemplate":this.dateHeaderTemplateFn=this.templateParser(this.activeViewOptions.dateHeaderTemplate),this.activeView.refreshHeader();break;case"resourceHeaderTemplate":this.resourceHeaderTemplateFn=this.templateParser(this.activeViewOptions.resourceHeaderTemplate),this.activeView.isTimelineView()?this.activeView.refreshResourceHeader():this.activeView.refreshHeader();break;case"quickInfoTemplates":this.quickPopup&&(this.quickPopup.destroy(),this.quickPopup=null),this.quickPopup=new V(this),this.quickInfoTemplatesHeaderFn=this.templateParser(this.quickInfoTemplates.header),this.quickInfoTemplatesContentFn=this.templateParser(this.quickInfoTemplates.content),this.quickInfoTemplatesFooterFn=this.templateParser(this.quickInfoTemplates.footer);break;case"editorTemplate":this.eventWindow&&(this.eventWindow.destroy(),this.eventWindow=null),this.eventWindow=new Pt(this),this.editorTemplateFn=this.templateParser(this.editorTemplate);break;case"tooltipTemplate":case"headerTooltipTemplate":this.eventTooltip&&(this.eventTooltip.destroy(),this.eventTooltip=null),this.eventTooltip=new R(this),this.eventTooltipTemplateFn=this.templateParser(this.eventSettings.tooltipTemplate),this.headerTooltipTemplateFn=this.templateParser(this.activeViewOptions.group.headerTooltipTemplate);break;default:this.initializeView(this.currentView)}},t.prototype.refreshLayout=function(){this.onScheduleResize(),this.headerModule&&this.headerModule.refresh(),this.eventWindow&&this.eventWindow.refresh()},t.prototype.getEventDetails=function(e){var t=(e=(0,r.V6)(e)).getAttribute("data-guid");return t?this.eventBase.getEventByGuid(t):{}},t.prototype.isSlotAvailable=function(e,t,i){var n,a,s=this,o=this.activeEventData.event;if(e instanceof Date||"string"===typeof e?(n=e,a=t):(o=e,n=e[this.eventFields.startTime],a=e[this.eventFields.endTime],this.resourceBase&&(i=this.eventBase.getGroupIndexFromEvent(e))),(0,r.hX)(n)||(0,r.hX)(a))return!0;n=this.getDateTime(n),a=this.getDateTime(a);var l=this.eventBase.filterEvents(n,a);return!(0,r.hX)(i)&&this.resourceBase&&this.resourceBase.lastResourceLevel.length>0&&(l=this.eventBase.filterEventsByResource(this.resourceBase.lastResourceLevel[i],l)),o&&(l=o.Guid?l.filter((function(e){return e.Guid!==o.Guid})):l.filter((function(e){return e[s.eventFields.id]!==o[s.eventFields.id]}))),!(l.length>0)},t.prototype.openEditor=function(e,t,i,n){"Add"!==t||i?(e[this.eventFields.startTime]=this.getDateTime(e[this.eventFields.startTime]),e[this.eventFields.endTime]=this.getDateTime(e[this.eventFields.endTime])):(e.startTime=this.getDateTime(e.startTime),e.endTime=this.getDateTime(e.endTime),(0,r.hX)(e.element)||(e.element=(0,r.V6)(e.element))),this.currentAction=t,"Add"!==t&&(this.activeEventData.event=e),this.eventWindow.openEditor(e,t,i,n)},t.prototype.closeEditor=function(){this.eventWindow&&this.eventWindow.dialogClose()},t.prototype.closeQuickInfoPopup=function(){this.quickPopup&&this.quickPopup.quickPopupHide(!0)},t.prototype.selectResourceByIndex=function(e){this.resourceBase&&this.uiStateValues.isGroupAdaptive&&this.resourceBase.selectResourceByIndex(e)},t.prototype.getIndexFromResourceId=function(e,t){return this.resourceBase?this.resourceBase.getIndexFromResourceId(e,t):null},t.prototype.addResource=function(e,t,i){this.resourceBase.addResource(e,t,i)},t.prototype.removeResource=function(e,t){this.resourceBase.removeResource(e,t)},t.prototype.destroy=function(){this.eventTooltip&&(this.eventTooltip.destroy(),this.eventTooltip=null),this.destroyPopups(),this.hideSpinner(),this.unWireEvents(),this.destroyHeaderModule(),this.eventTooltip&&(this.eventTooltip.destroy(),this.eventTooltip=null),this.eventBase&&(this.eventBase.destroy(),this.eventBase=null),this.workCellAction&&(this.workCellAction.destroy(),this.workCellAction=null),this.inlineModule&&(this.inlineModule.destroy(),this.inlineModule=null),this.keyboardInteractionModule&&(this.keyboardInteractionModule.destroy(),this.keyboardInteractionModule=null),this.scrollModule&&(this.scrollModule.destroy(),this.scrollModule=null),this.printModule&&this.printModule.destroy(),this.activeView&&(this.resetTemplates(),this.activeView.removeEventListener(),this.activeView.destroy(),this.activeView=null),this.scheduleTouchModule&&(this.scheduleTouchModule.destroy(),this.scheduleTouchModule=null),this.crudModule&&(this.crudModule.destroy(),this.crudModule=null),this.dataModule&&(this.dataModule.destroy(),this.dataModule=null),e.prototype.destroy.call(this);for(var t=0,i=["dayModule","weekModule","workWeekModule","monthModule","monthAgendaModule","yearModule","agendaModule","timelineViewsModule","timelineMonthModule","timelineYearModule","resizeModule","dragAndDropModule","excelExportModule","printModule","iCalendarExportModule","iCalendarImportModule","tzModule","eventsData","eventsProcessed","blockData","blockProcessed","uiStateValues","viewCollections","viewOptions","defaultLocale","localeObj","selectedElements","resourceCollection","editorTitles","eventFields","activeViewOptions","activeEventData","activeCellsData","renderModule"];t<i.length;t++){this[i[t]]=null}c.gS(this.element);var n=[p.Dll,p.rXR,p.Oc1,p.RM5];this.cssClass&&(n=n.concat(this.cssClass.split(" "))),(0,r.vy)([this.element],n)},fi([(0,r.mA)("auto")],t.prototype,"width",void 0),fi([(0,r.mA)("auto")],t.prototype,"height",void 0),fi([(0,r.mA)(!0)],t.prototype,"showHeaderBar",void 0),fi([(0,r.mA)(!0)],t.prototype,"showTimeIndicator",void 0),fi([(0,r.mA)("Week")],t.prototype,"currentView",void 0),fi([(0,r.mA)(["Day","Week","WorkWeek","Month","Agenda"])],t.prototype,"views",void 0),fi([(0,r.mA)(new Date)],t.prototype,"selectedDate",void 0),fi([(0,r.mA)(new Date(1900,0,1))],t.prototype,"minDate",void 0),fi([(0,r.mA)(new Date(2099,11,31))],t.prototype,"maxDate",void 0),fi([(0,r.mA)()],t.prototype,"dateFormat",void 0),fi([(0,r.mA)("Gregorian")],t.prototype,"calendarMode",void 0),fi([(0,r.mA)(!0)],t.prototype,"showWeekend",void 0),fi([(0,r.mA)(0)],t.prototype,"firstDayOfWeek",void 0),fi([(0,r.mA)("FirstDay")],t.prototype,"weekRule",void 0),fi([(0,r.mA)([1,2,3,4,5])],t.prototype,"workDays",void 0),fi([(0,r.mA)(12)],t.prototype,"monthsCount",void 0),fi([(0,r.mA)("00:00")],t.prototype,"startHour",void 0),fi([(0,r.mA)("24:00")],t.prototype,"endHour",void 0),fi([(0,r.mA)(null)],t.prototype,"timeFormat",void 0),fi([(0,r.mA)(!1)],t.prototype,"enableAllDayScroll",void 0),fi([(0,r.mA)(!1)],t.prototype,"enableAdaptiveUI",void 0),fi([(0,r.mA)(!0)],t.prototype,"allowResizing",void 0),fi([(0,r.pr)({},Bt)],t.prototype,"workHours",void 0),fi([(0,r.pr)({},Xt)],t.prototype,"timeScale",void 0),fi([(0,r.mA)(!0)],t.prototype,"allowKeyboardInteraction",void 0),fi([(0,r.mA)(!0)],t.prototype,"allowDragAndDrop",void 0),fi([(0,r.mA)()],t.prototype,"dateHeaderTemplate",void 0),fi([(0,r.mA)()],t.prototype,"cellHeaderTemplate",void 0),fi([(0,r.mA)()],t.prototype,"dayHeaderTemplate",void 0),fi([(0,r.mA)()],t.prototype,"monthHeaderTemplate",void 0),fi([(0,r.mA)()],t.prototype,"cellTemplate",void 0),fi([(0,r.mA)(!1)],t.prototype,"readonly",void 0),fi([(0,r.mA)(!0)],t.prototype,"showQuickInfo",void 0),fi([(0,r.mA)(!1)],t.prototype,"allowInline",void 0),fi([(0,r.mA)(!0)],t.prototype,"allowMultiCellSelection",void 0),fi([(0,r.mA)(!0)],t.prototype,"allowMultiRowSelection",void 0),fi([(0,r.mA)(!1)],t.prototype,"quickInfoOnSelectionEnd",void 0),fi([(0,r.mA)(!1)],t.prototype,"showWeekNumber",void 0),fi([(0,r.mA)(!1)],t.prototype,"rowAutoHeight",void 0),fi([(0,r.mA)(!1)],t.prototype,"allowMultiDrag",void 0),fi([(0,r.mA)(0)],t.prototype,"firstMonthOfYear",void 0),fi([(0,r.mA)()],t.prototype,"editorTemplate",void 0),fi([(0,r.pr)({},zt)],t.prototype,"quickInfoTemplates",void 0),fi([(0,r.mA)(7)],t.prototype,"agendaDaysCount",void 0),fi([(0,r.mA)(!0)],t.prototype,"hideEmptyAgendaDays",void 0),fi([(0,r.mA)(!0)],t.prototype,"enableRecurrenceValidation",void 0),fi([(0,r.mA)()],t.prototype,"timezone",void 0),fi([(0,r.pr)({},ai)],t.prototype,"eventSettings",void 0),fi([(0,r.mA)(mi.o)],t.prototype,"timezoneDataSource",void 0),fi([(0,r.mA)()],t.prototype,"resourceHeaderTemplate",void 0),fi([(0,r.mA)()],t.prototype,"headerIndentTemplate",void 0),fi([(0,r.pr)({},li)],t.prototype,"group",void 0),fi([(0,r.pM)([],pi)],t.prototype,"resources",void 0),fi([(0,r.pM)([],Jt)],t.prototype,"headerRows",void 0),fi([(0,r.mA)()],t.prototype,"cssClass",void 0),fi([(0,r.mA)()],t.prototype,"eventDragArea",void 0),fi([(0,r.Jh)()],t.prototype,"created",void 0),fi([(0,r.Jh)()],t.prototype,"destroyed",void 0),fi([(0,r.Jh)()],t.prototype,"cellClick",void 0),fi([(0,r.Jh)()],t.prototype,"cellDoubleClick",void 0),fi([(0,r.Jh)()],t.prototype,"moreEventsClick",void 0),fi([(0,r.Jh)()],t.prototype,"hover",void 0),fi([(0,r.Jh)()],t.prototype,"select",void 0),fi([(0,r.Jh)()],t.prototype,"actionBegin",void 0),fi([(0,r.Jh)()],t.prototype,"actionComplete",void 0),fi([(0,r.Jh)()],t.prototype,"actionFailure",void 0),fi([(0,r.Jh)()],t.prototype,"navigating",void 0),fi([(0,r.Jh)()],t.prototype,"renderCell",void 0),fi([(0,r.Jh)()],t.prototype,"eventClick",void 0),fi([(0,r.Jh)()],t.prototype,"eventRendered",void 0),fi([(0,r.Jh)()],t.prototype,"dataBinding",void 0),fi([(0,r.Jh)()],t.prototype,"popupOpen",void 0),fi([(0,r.Jh)()],t.prototype,"popupClose",void 0),fi([(0,r.Jh)()],t.prototype,"dragStart",void 0),fi([(0,r.Jh)()],t.prototype,"drag",void 0),fi([(0,r.Jh)()],t.prototype,"dragStop",void 0),fi([(0,r.Jh)()],t.prototype,"resizeStart",void 0),fi([(0,r.Jh)()],t.prototype,"resizing",void 0),fi([(0,r.Jh)()],t.prototype,"resizeStop",void 0),fi([(0,r.Jh)()],t.prototype,"dataBound",void 0),t=fi([r.kc],t)}(r.uA),Ti=i(3527),wi=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Di=function(e){function t(t){var i=e.call(this,t)||this;return i.initRenderCalled=!1,i.checkInjectedModules=!0,i.directivekeys={views:"view",resources:"resource",headerRows:"headerRow"},i.immediateRender=!1,i.portals=[],i}return wi(t,e),t.prototype.render=function(){if(!(this.element&&!this.initRenderCalled||this.refreshing)||this.isReactForeceUpdate)return n.createElement("div",this.getDefaultAttributes(),[].concat(this.props.children,this.portals));e.prototype.render.call(this),this.initRenderCalled=!0},t}(yi);(0,Ti.XJ)(Di,[Ti.xu,n.Component])},6205:(e,t,i)=>{i.d(t,{C:()=>s,N:()=>a});var n=i(3527),r=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.moduleName="view",t.complexTemplate={timeScaleMinorSlotTemplate:"timeScale.minorSlotTemplate",timeScaleMajorSlotTemplate:"timeScale.majorSlotTemplate",groupHeaderTooltipTemplate:"group.headerTooltipTemplate"},t}(n.qL),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.propertyName="views",t.moduleName="views",t}(n.qL)},2059:(e,t,i)=>{i.d(t,{Z:()=>r,h:()=>a});var n=i(8452),r=function(){function e(){}return e.prototype.firstDateOfMonth=function(e){return new Date(e.getFullYear(),e.getMonth())},e.prototype.lastDateOfMonth=function(e){return new Date(e.getFullYear(),e.getMonth()+1,0)},e.prototype.isMonthStart=function(e){return 1===e.getDate()},e.prototype.getLeapYearDaysCount=function(){return 366},e.prototype.getYearDaysCount=function(e,t){return(e.getFullYear()+t)%4===0?366:365},e.prototype.getDate=function(e){return e.getDate()},e.prototype.getMonth=function(e){return e.getMonth()+1},e.prototype.getFullYear=function(e){return e.getFullYear()},e.prototype.getYearLastDate=function(e,t){return new Date(e.getFullYear()+t,0,0)},e.prototype.getMonthDaysCount=function(e){return this.lastDateOfMonth(e).getDate()},e.prototype.getMonthStartDate=function(e){return new Date(e.getFullYear(),e.getMonth(),1,e.getHours(),e.getMinutes())},e.prototype.getMonthEndDate=function(e){return e.setDate(1),new Date(e.setMonth(e.getMonth()+1))},e.prototype.getExpectedDays=function(e,t){return t},e.prototype.setDate=function(e,t){e.setDate(t)},e.prototype.setValidDate=function(e,t,i,r,a){(0,n.hX)(a)?e.setMonth(e.getMonth()+t,i):e.setMonth((a?r:e.getMonth())+t)},e.prototype.setMonth=function(e,t,i){e.setFullYear(e.getFullYear()),e.setMonth(t-1),e.setDate(i)},e.prototype.addYears=function(e,t){e.setFullYear(e.getFullYear()+t)},e.prototype.isSameMonth=function(e,t){return e.getMonth()===t.getMonth()},e.prototype.checkMonth=function(e,t){return-1===t.indexOf(e.getMonth()+1)},e.prototype.compareMonth=function(e,t){return e.getMonth()>t.getMonth()},e.prototype.isSameYear=function(e,t){return e.getFullYear()===t.getFullYear()},e.prototype.isLastMonth=function(e){return 11===e.getMonth()},e.prototype.isLeapYear=function(e,t){return(e+t)%4===0},e}(),a=function(){function e(){}return e.prototype.firstDateOfMonth=function(e){var t=this.getHijriDate(e);return n.cg.toGregorian(t.year,t.month,1)},e.prototype.lastDateOfMonth=function(e){var t=this.getHijriDate(e),i=this.getDaysInMonth(t.month,t.year),r=n.cg.toGregorian(t.year,t.month,i),a=new Date(r.getTime());a=new Date(a.setDate(a.getDate()+1));var s=this.getHijriDate(a);return t.month===s.month?a:(s=this.getHijriDate(r),t.month===s.month?r:new Date(r.setDate(r.getDate()-1)))},e.prototype.isMonthStart=function(e){return 1===this.getHijriDate(e).date},e.prototype.getLeapYearDaysCount=function(){return 355},e.prototype.getYearDaysCount=function(e,t){var i=this.getHijriDate(e);return this.isLeapYear(i.year,t)?355:354},e.prototype.getDate=function(e){return this.getHijriDate(e).date},e.prototype.getMonth=function(e){return this.getHijriDate(e).month},e.prototype.getFullYear=function(e){return this.getHijriDate(e).year},e.prototype.getYearLastDate=function(e,t){var i=this.getHijriDate(e);return n.cg.toGregorian(i.year+t,1,0)},e.prototype.getMonthDaysCount=function(e){var t=this.lastDateOfMonth(e);return this.getHijriDate(t).date},e.prototype.getMonthStartDate=function(e){var t=this.firstDateOfMonth(e);return new Date(t.getFullYear(),t.getMonth(),t.getDate(),e.getHours(),e.getMinutes())},e.prototype.getMonthEndDate=function(e){var t=this.lastDateOfMonth(e);return t.setDate(t.getDate()+1),new Date(t.setMonth(t.getMonth()))},e.prototype.getExpectedDays=function(e,t){for(var i=this.getHijriDate(e),r=[],a=0;a<t.length;a++){var s=n.cg.toGregorian(i.year,i.month,t[a]);r.push(s.getDate())}return r},e.prototype.setDate=function(e,t){var i=this.getHijriDate(e),r=n.cg.toGregorian(i.year,i.month,t);this.updateDateObj(e,r)},e.prototype.setValidDate=function(e,t,i,r,a){var s=(0,n.hX)(a)?e:this.firstDateOfMonth(a),o=this.getHijriDate(s),l=n.cg.toGregorian(o.year,o.month+t,i);this.updateDateObj(e,l)},e.prototype.setMonth=function(e,t,i){var r=this.getHijriDate(e),a=n.cg.toGregorian(r.year,t,i);this.updateDateObj(e,a)},e.prototype.addYears=function(e,t,i){var r=this.getHijriDate(e),a=n.cg.toGregorian(r.year+t,i,1);this.updateDateObj(e,a)},e.prototype.isSameMonth=function(e,t){var i=this.getHijriDate(e),n=this.getHijriDate(t);return i.month===n.month},e.prototype.checkMonth=function(e,t){var i=this.getHijriDate(e);return-1===t.indexOf(i.month)},e.prototype.compareMonth=function(e,t){var i=this.getHijriDate(e),n=this.getHijriDate(t);return i.month>n.month},e.prototype.isSameYear=function(e,t){var i=this.getHijriDate(e),n=this.getHijriDate(t);return i.year===n.year},e.prototype.isLastMonth=function(e){return 12===this.getHijriDate(e).month},e.prototype.updateDateObj=function(e,t){e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate())},e.prototype.isLeapYear=function(e,t){return(14+11*(e+t))%30<11},e.prototype.getDaysInMonth=function(e,t){var i=0;return i=29+(e+1)%2,11===e&&this.isLeapYear(t,0)&&i++,i},e.prototype.getHijriDate=function(e){return n.cg.getHijriDate(e)},e}()},1489:(e,t,i)=>{i.d(t,{BW:()=>j,cM:()=>h,lr:()=>V,od:()=>re,sj:()=>c,ur:()=>o});var n=i(8452),r=i(1856),a=i(2059),s=i(8053);function o(e,t,i,a){void 0===a&&(a="Gregorian");var s,o,h=V(e),c=t.getConstant(J)+" ",p=a.toLowerCase();if("en"===i||"en-US"===i){var u="months.stand-alone.abbreviated",d="days.stand-alone.abbreviated";o=(0,n._W)(u,(0,n.P)(p)),s=(0,n._W)(d,(0,n.P)(p))}else{u="main."+i+".dates.calendars."+p+".months.stand-alone.abbreviated",d="main."+i+".dates.calendars."+p+".days.stand-alone.abbreviated";o=(0,n._W)(u,n.pE),s=(0,n._W)(d,n.pE)}switch(h.interval>1&&(c+=h.interval+" "),h.freq){case"DAILY":c+=t.getConstant(G);break;case"WEEKLY":c+=t.getConstant(K)+" "+t.getConstant(_)+" ",h.day.forEach((function(e,t){c+=(0,r.nw)((0,n._W)(ee[e],s),"single"),c+=h.day.length-1===t?"":", "}));break;case"MONTHLY":c+=t.getConstant($)+" "+t.getConstant(_)+" ",c+=l(h,s,t);break;case"YEARLY":c+=t.getConstant(Z)+" "+t.getConstant(_)+" ",c+=(0,r.nw)((0,n._W)(h.month[0].toString(),o),"single")+" ",c+=l(h,s,t)}if(h.count)c+=", "+h.count+" "+t.getConstant(Y);else if(h.until){var v=h.until;c+=", "+t.getConstant(Q)+" "+v.getDate()+" "+(0,r.nw)((0,n._W)((v.getMonth()+1).toString(),o),"single")+" "+v.getFullYear()}return c}function l(e,t,i){var a="";if(e.monthDay.length)a+=e.monthDay[0];else if(e.day){var s=e.setPosition-1;a+=i.getConstant(z[s>-1?s:z.length-1])+" "+(0,r.nw)((0,n._W)(ee[e.day[0]],t),"single")}return a}function h(e,t,i,a,o,l,h,v,m){void 0===o&&(o=U),void 0===l&&(l=null),void 0===h&&(h="Gregorian"),void 0===v&&(v=null),void 0===m&&(m=null);var g,f=V(t);q=j(h);var y=[],w=new Date(e.getTime());H=[];var D=(0,n.hX)(i)?[]:i.split(","),b=new s.k;if(D.forEach((function(e){var t=c(e);v&&m&&(t=b.convert(new Date(t.getTime()),v,m)),H.push(new Date(t.getTime()).setHours(0,0,0,0))})),f.recExceptionCount=(0,n.hX)(f.count)?0:H.length,B=l&&l>e&&!f.count?new Date(new Date(l.getTime()).setHours(0,0,0)):null,!f.until&&B&&((g=new Date(B.getTime())).setDate(B.getDate()+o*f.interval),f.until=g),f.until&&e>f.until)return y;switch(F=o,function(e){for(;X[0]!==e;)P(X)}(N[a]),f.freq){case"DAILY":!function(e,t,i,n){var r=new Date(e.getTime()),a=n.interval,s=u(e,n),o=n.day;for(;O(r,t)&&!(L(r,n)&&(o.indexOf(N[r.getDay()])>-1||0===o.length)&&(p(i,r.getTime()),s&&i.length+n.recExceptionCount>=s));)r.setDate(r.getDate()+a)}(w,f.until,y,f);break;case"WEEKLY":!function(e,t,i,a){var s=new Date(e.getTime());a.day.length||a.day.push(N[e.getDay()]);var o,l=a.interval,h=a.day,c=u(e,a),d=!0,v=[];if(h.length>1)for(((0,n.hX)(a.wkst)||""===a.wkst)&&(a.wkst=X[0]),o=N.indexOf(a.wkst);O(s,t);){var m=N.indexOf(N[s.getDay()])-o;m=-1===m?6:m;var g=(0,r.fi)(s,-m),f=(0,r.fi)(g,6),y=new Date(s.getTime());for(f=(0,r.JC)(f),y=(0,r.JC)(y);f>=y&&(h.indexOf(N[s.getDay()])>-1&&v.push([s.getTime()]),!(c&&i.length+a.recExceptionCount>=c));)s.setDate(s.getDate()+1),y=new Date(s.getTime()),y=(0,r.JC)(y);if(s.setDate(s.getDate()-1),c&&i.length+a.recExceptionCount>=c)break;s.setDate(s.getDate()+1+7*(l-1)),T(v,d,e,t,i,a),v=[]}else{for(s=k(e,a.day);O(s,t)&&((d=L(s,a))&&h.indexOf(N[s.getDay()])>-1&&p(i,s.getTime()),!(c&&i.length+a.recExceptionCount>=c));)s.setDate(s.getDate()+7*l);T(v,d,e,t,i,a),v=[]}}(w,f.until,y,f);break;case"MONTHLY":d(w,f.until,y,f);break;case"YEARLY":!function(e,t,i,a){switch(function(e){if(e.yearDay.length)return"YEARDAY";if(e.weekNo.length)return"WEEKNO";return"MONTH"}(a)){case"MONTH":d(e,t,i,a);break;case"WEEKNO":!function(e,t,i,a){var s,o,l,h,c,p,d=q.getYearLastDate(e,0),v=u(e,a),m=a.weekNo,g=[],f=a.day;for(;O(d,t);){l=6-X.indexOf(N[d.getDay()])+1;for(var y=0;y<m.length;y++)for(c=1===(h=(h=m[y])>0?h:53+h+1)?l:l+7*(h-1),p=1===h?l-7:l+7*(h-2);p<c;)s=new Date(d.getTime()+r.ec*p),(0===f.length||f.indexOf(N[s.getDay()])>-1)&&((0,n.hX)(a.setPosition)?C(o,e,t,i,a,s.getTime()):g.push([s.getTime()])),p++;if((0,n.hX)(a.setPosition)||E(g,o,e,t,i,a),v&&i.length+a.recExceptionCount>=v)return;d=q.getYearLastDate(s,a.interval),g=[]}}(e,t,i,a);break;case"YEARDAY":!function(e,t,i,r){var a,s,o,l=q.getYearLastDate(e,0),h=u(e,r),c=[],p=r.day;for(;O(l,t);){for(var d=0;d<r.yearDay.length;d++)o=r.yearDay[d],a=new Date(l.getTime()),o!==q.getLeapYearDaysCount()&&o!==-q.getLeapYearDaysCount()||q.isLeapYear(q.getFullYear(a),1)?(a.setDate(a.getDate()+(o<0?q.getYearDaysCount(a,1)+1+o:o)),(0===p.length||p.indexOf(N[a.getDay()])>-1)&&(null==r.setPosition?C(s,e,t,i,r,a.getTime()):c.push([a.getTime()]))):a.setDate(a.getDate()+1);if((0,n.hX)(r.setPosition)||E(c,s,e,t,i,r),h&&i.length+r.recExceptionCount>=h)return;l=q.getYearLastDate(a,r.interval),c=[]}}(e,t,i,a)}}(w,f.until,y,f)}return y}function c(e){return new Date(e.substr(0,4)+"-"+e.substr(4,2)+"-"+e.substr(6,5)+":"+e.substr(11,2)+":"+e.substr(13))}function p(e,t){var i=new Date(t).setHours(0,0,0,0);-1===H.indexOf(i)&&(!B||i>=B.getTime())&&e.push(t)}function u(e,t){var i=F;return t.count?i=t.count:t.until&&("DAILY"===t.freq||"WEEKLY"===t.freq?i=Math.floor((t.until.getTime()-e.getTime())/r.ec)+1:"MONTHLY"!==t.freq&&"YEARLY"!==t.freq||(i=Math.floor((t.until.getMonth()+12*t.until.getFullYear()-(e.getMonth()+12*e.getFullYear()))/t.interval)+(t.day.length>1?Math.floor((t.until.getTime()-e.getTime())/r.ec)+1:1),"YEARLY"===t.freq&&(i=t.month.length>1?i*t.month.length:i))),i}function d(e,t,i,r){r.month.length||r.day.length||r.monthDay.length?r.month.length>0&&!r.day.length&&!r.monthDay.length&&r.monthDay.push(e.getDate()):(r.monthDay.push(e.getDate()),"YEARLY"===r.freq&&r.month.push(e.getMonth()+1));var a=function(e){if(e.monthDay.length&&!e.day.length)return"date";if(!e.monthDay.length&&e.day.length)return"day";return"both"}(r);switch(a){case"day":switch(r.freq){case"MONTHLY":y(e,t,i,r);break;case"YEARLY":!function(e,t,i,r){var a=r.day,s=a.map((function(e){return te.test(e)}));if(a.length>1&&s.indexOf(!0)>-1)return void function(e,t,i,r){var a,s,o,l,h,c=r.day,p=u(e,r),d=new Date(e.getTime()),v=r.interval,m=[],g=[],y=0;d=q.getMonthStartDate(d);var T=[];r.month.length&&q.setMonth(d,r.month[0],1);d=k(d,r.day);for(;O(d,t);){o=new Date(d.getTime());for(var w=0;w<=r.month.length;w++)for(var D=0;D<=c.length-1;D++){for(d=k(d=q.getMonthStartDate(d),r.day),m=[];q.isSameYear(o,d)&&p&&i.length+r.recExceptionCount<=p;)for(;q.isSameYear(o,d);){if(o=new Date(d.getTime()),0===r.month.length||r.month.length>0&&r.month[w]===q.getMonth(o)){var C=c[D].match(ne),S=parseInt(C[0],10);for(l=new Date(d.getTime());q.isSameYear(l,d)&&q.isSameMonth(l,d);)C[C.length-1]===N[l.getDay()]&&m.push([l.getTime()]),l.setDate(l.getDate()+1);l.setDate(l.getDate()-1),a=C[0].indexOf("-")>-1?m.length- -1*S:S-1,a=isNaN(a)?0:a}y=f(d,r,y,h,1),d=k(d,r.day)}if(d=0===D&&l?new Date(l.getTime()):new Date(o.getTime()),m.length>0&&((0,n.hX)(r.setPosition)?E(m,s,e,t,i,r,a):g=[b(m,a,T)]),p&&i.length+r.recExceptionCount>=p)return}(0,n.hX)(r.setPosition)||(A(g,s,e,t,i,r),T=[]),q.isLastMonth(d)?(q.setValidDate(d,1,1),d.setFullYear(d.getFullYear()+v-1)):d.setFullYear(d.getFullYear()+v),d=k(d,r.day),r.month.length&&q.setMonth(d,r.month[0],d.getDate())}}(e,t,i,r);if(r.month.length&&1===a.length&&s.indexOf(!0)>-1)return void y(e,t,i,r);var o,l=new Date(e.getTime()),h=u(e,r),c=r.interval,p=[];r.month.length&&q.setMonth(l,r.month[0],l.getDate());(0,n.hX)(r.setPosition)&&0===r.month.length&&0===r.weekNo.length&&l.setFullYear(e.getFullYear(),0,1);l=k(l=q.getMonthStartDate(l),r.day);for(;O(l,t);){for(o=new Date(l.getTime());q.isSameYear(o,l)&&h&&i.length+r.recExceptionCount<=h;)for(o=new Date(l.getTime());q.isSameYear(o,l);){if(!(0===r.month.length||r.month.length>0&&!q.checkMonth(l,r.month))){q.setValidDate(l,1,1),l=k(l,r.day);break}if(a.length>1){if(q.compareMonth(o,l)){q.setValidDate(l,1,1),l=k(l,r.day);break}a.indexOf(N[o.getDay()])>-1&&p.push([o.getTime()]),o.setDate(o.getDate()+1)}else{if(o.getFullYear()>l.getFullYear()){q.setValidDate(l,1,1),l=k(l,r.day);break}var d=x(a[0]);N[o.getDay()]===d&&new Date(o.getFullYear(),o.getMonth(),0)>new Date(e.getFullYear())&&p.push([o.getTime()]),o.setDate(o.getDate()+7)}}if(l.setFullYear(o.getFullYear(),o.getMonth(),o.getDate()),D(p,e,t,i,r),q.isLastMonth(l)&&(q.setValidDate(l,1,1),l=k(l,r.day)),l.setFullYear(l.getFullYear()+c-1),h&&i.length+r.recExceptionCount>=h)return;l=k(l,r.day),p=[]}}(e,t,i,r)}break;case"both":case"date":switch(r.freq){case"MONTHLY":m(e,t,i,r);break;case"YEARLY":!function(e,t,i,n){if(n.month.length)return void m(e,t,i,n);var r,a=v(e,n);a.tempDate=a.mainDate=q.getMonthStartDate(a.tempDate);for(;O(a.tempDate,t);){for(r=new Date(a.tempDate.getTime());q.isSameYear(r,a.tempDate)&&a.expectedCount&&i.length+n.recExceptionCount<=a.expectedCount;){if(!(0===n.month.length||n.month.length>0&&!q.checkMonth(a.tempDate,n.month))){q.setValidDate(a.tempDate,1,1),a.tempDate=k(a.tempDate,n.day);break}g(n,a,t,!1),a.beginDate=new Date(a.tempDate.getTime()),a.monthInit=f(a.tempDate,n,a.monthInit,a.beginDate)}if(a.tempDate.setFullYear(r.getFullYear(),r.getMonth(),r.getDate()),T(a.dateCollection,a.state,e,t,i,n),q.isLastMonth(a.tempDate)&&(q.setValidDate(a.tempDate,1,1),a.tempDate=k(a.tempDate,n.day)),a.expectedCount&&i.length+n.recExceptionCount>=a.expectedCount)return;a.tempDate.setFullYear(a.tempDate.getFullYear()+n.interval-1),a.tempDate=k(a.tempDate,n.day),a.monthInit=f(a.tempDate,n,a.monthInit,a.beginDate),a.dateCollection=[]}}(e,t,i,r)}}}function v(e,t){var i={monthCollection:[],index:0,tempDate:new Date(e.getTime()),mainDate:new Date(e.getTime()),expectedCount:u(e,t),monthInit:0,dateCollection:[]};return t.month.length&&q.setMonth(i.tempDate,t.month[0],i.tempDate.getDate()),i}function m(e,t,i,r){var a=v(e,r);if(a.tempDate=a.mainDate=q.getMonthStartDate(a.tempDate),!(("MONTHLY"===r.freq&&12===r.interval||"YEARLY"===r.freq)&&q.getMonthDaysCount(e)<r.monthDay[0]))for(;O(a.tempDate,t);){if(a.beginDate=new Date(a.tempDate.getTime()),g(r,a,t,!0,e,i),(0,n.hX)(r.setPosition)||E(a.dateCollection,a.state,e,t,i,r),a.expectedCount&&i.length+r.recExceptionCount>=a.expectedCount)return;a.monthInit=f(a.tempDate,r,a.monthInit,a.beginDate),a.dateCollection=[]}}function g(e,t,i,r,a,s){for(var o=0;o<e.monthDay.length;o++){t.date=e.monthDay[o],t.tempDate=q.getMonthStartDate(t.tempDate);var l=q.getMonthDaysCount(t.tempDate);if(t.date=t.date>0?t.date:l+t.date+1,M(t.tempDate,t.date,t.mainDate)&&t.date>0){if(q.setDate(t.tempDate,t.date),i&&t.tempDate>i)return;(0===e.day.length||e.day.indexOf(N[t.tempDate.getDay()])>-1)&&(r&&(0,n.hX)(e.setPosition)&&t.expectedCount&&s.length+e.recExceptionCount<t.expectedCount?C(t.state,a,i,s,e,t.tempDate.getTime()):t.dateCollection.push([t.tempDate.getTime()]))}}}function f(e,t,i,r,a){void 0===r&&(r=null);var s=r?r.getMonth():0,o=q.getMonthStartDate(e);return a=(0,n.hX)(a)?t.interval:a,e.setFullYear(o.getFullYear()),e.setMonth(o.getMonth()),e.setDate(o.getDate()),t.month.length?(i++,i%=t.month.length,q.setMonth(e,t.month[i],1),0===i&&q.addYears(e,a,t.month[0])):(r&&r.getFullYear()<e.getFullYear()&&(s=e.getMonth()-1),q.setValidDate(e,a,1,s,r)),i}function y(e,t,i,r){if(r.day.length>1)!function(e,t,i,r){var a=r.day,s=new Date(e.getTime());s=q.getMonthStartDate(s);var o,l,h,c=[],p=[],d=[],v=u(e,r),m=0;for(r.month.length&&q.setMonth(s,r.month[0],1),s=k(s,r.day);O(s,t)&&v&&i.length+r.recExceptionCount<v;){var g=new Date(s.getTime());if(a.map((function(e){return te.test(e)})).indexOf(!0)>-1){for(var y=0;y<=a.length-1;y++){var T=a[y].match(ne),w=parseInt(T[0],10);for(s=new Date(s.getTime()),s=k(s=q.getMonthStartDate(s),a),g.setFullYear(s.getFullYear(),s.getMonth(),s.getDate());q.isSameYear(g,s)&&q.isSameMonth(g,s);)T[T.length-1]===N[g.getDay()]&&c.push([g.getTime()]),g.setDate(g.getDate()+1);if(g.setDate(g.getDate()-1),o=T[0].indexOf("-")>-1?c.length- -1*w:w-1,o=isNaN(o)?0:o,c.length>0&&((0,n.hX)(r.setPosition)?E(c,l,e,t,i,r,o):p=[b(c,o,d)]),v&&i.length+r.recExceptionCount>=v)return;c=[]}(0,n.hX)(r.setPosition)||(A(p,l,e,t,i,r),d=[]),m=f(s,r,m,h),s=k(s,r.day),c=[]}else{var D=[],C=R(a);g.setFullYear(s.getFullYear(),s.getMonth(),s.getDate());var S=new Date(s.getTime());for(h=new Date(s.getTime());q.isSameMonth(S,s);)D.push(s.getTime()),a.indexOf(N[s.getDay()])>-1&&(c.push(D),D=[]),s.setDate(s.getDate()+C[N[s.getDay()]]);if(o=r.setPosition<1?c.length+r.setPosition:r.setPosition-1,(0,n.hX)(r.setPosition)){o=0;for(var x=[],V=0;V<c.length;V++)for(var M=0;M<c[V].length;M++)x.push(c[V][M]);c=[x]}if(c.length>0&&E(c,l,e,t,i,r,o),v&&i.length+r.recExceptionCount>=v)return;m=f(s,r,m,h),s=k(s,r.day),c=[]}}}(e,t,i,r);else{var a,s=new Date(e.getTime()),o=u(e,r),l=[],h=0;for(s=q.getMonthStartDate(s),r.month.length&&q.setMonth(s,r.month[0],1),s=k(s,r.day);O(s,t)&&o&&i.length+r.recExceptionCount<o;){a=new Date(s.getTime());for(var c=new Date(s.getTime());q.isSameMonth(s,c);)l.push([c.getTime()]),c.setDate(c.getDate()+7);D(l,e,t,i,r),h=f(s,r,h,a),s=k(s,r.day),l=[]}}}function T(e,t,i,r,a,s){var o=s.setPosition<1?e.length+s.setPosition:s.setPosition-1;(0,n.hX)(s.setPosition)&&(o=0,e=w(e)),e.length>0&&E(e,t,i,r,a,s,o)}function w(e){for(var t=[],i=0;i<e.length;i++)for(var n=0;n<e[i].length;n++)t.push(new Date(e[i][n]).getTime());return e=t.length>0?[t]:[]}function D(e,t,i,n,r){var a,s=[],o=function(e,t){var i,n={monthCollection:[],index:0};if(1===t.length){var r=t[0].match(ne),a=void 0;r.length>1?i=(a=parseInt(r[0],10))<1?e.length+a:a-1:(i=0,e=w(e))}else i=0,e=w(e);return n.monthCollection=e,n.index=i,n}(e,r.day);e=o.monthCollection;var l=o.index;null!=r.setPosition?A([b(e,l,s)],a,t,i,n,r):e.length>0&&E(e,a,t,i,n,r,l),s=[]}function b(e,t,i){for(var n=0;n<e[t].length;n++)i.push(e[t][n]);return i}function C(e,t,i,n,r,a){var s=u(t,r),o=new Date(a);e=L(o,r),o>=t&&O(o,i)&&e&&s&&n.length+r.recExceptionCount<s&&p(n,a)}function S(e,t,i,n,r){var a=t||0,s=new Date(e,r.month[0]-1,1),o=new Date(e,r.month[0]-1,0).getDate(),l=(s.getDay()-a+7)%7+o,h=Math.ceil(l/7)-1,c=i[n][h];return L(new Date(c),r)?h:h-1}function A(e,t,i,n,r,a){if(e.length>0)for(var s=0;s<e.length;s++){e[s].sort();var o=a.day.map((function(e){return te.test(e)})),l="YEARLY"===a.freq&&a.validRules.indexOf("BYMONTH")>-1&&!(o.indexOf(!0)>-1)?S(new Date(e[0][0]).getFullYear(),0,e,s,a):e[s].length+a.setPosition,h=a.setPosition<1?l:a.setPosition-1;C(t,i,n,r,a,e[s][h])}}function E(e,t,i,r,a,s,o){if(e.length>0){e[o=(0,n.hX)(o)?s.setPosition<1?e.length+s.setPosition:s.setPosition-1:o].sort();for(var l=0;l<e[o].length;l++){C(t,i,r,a,s,e[o][l])}}}function O(e,t){return!t||e<=t}function x(e){return e.replace(ie,"")}function k(e,t){var i,n=new Date(e.getTime());if(t.length>0){for(var r=[],a=0;a<=t.length-1;a++)i=x(t[a]),r.push(i);if(-1===r.indexOf(N[n.getDay()]))do{n.setDate(n.getDate()+1)}while(-1===r.indexOf(N[n.getDay()]))}return n}function V(e){var t,i={freq:null,interval:1,count:null,until:null,day:[],wkst:null,month:[],weekNo:[],monthDay:[],yearDay:[],setPosition:null,validRules:[]},n=e.split(";"),r=[];if(n.forEach((function(e){switch((r=e.split("="))[0]){case"UNTIL":t=r[1],i.until=c(t);break;case"BYDAY":i.day=r[1].split(","),i.validRules.push(r[0]);break;case"BYMONTHDAY":i.monthDay=r[1].split(",").map(Number),i.validRules.push(r[0]);break;case"BYMONTH":i.month=r[1].split(",").map(Number),i.validRules.push(r[0]);break;case"BYYEARDAY":i.yearDay=r[1].split(",").map(Number),i.validRules.push(r[0]);break;case"BYWEEKNO":i.weekNo=r[1].split(",").map(Number),i.validRules.push(r[0]);break;case"INTERVAL":i.interval=parseInt(r[1],10);break;case"COUNT":i.count=parseInt(r[1],10);break;case"BYSETPOS":i.setPosition=parseInt(r[1],10)>4?-1:parseInt(r[1],10);break;case"FREQ":i.freq=r[1];break;case"WKST":i.wkst=r[1]}})),"MONTHLY"===i.freq&&0===i.monthDay.length){var a=i.validRules.indexOf("BYDAY");i.validRules.splice(a,1)}return i}function M(e,t,i){return t<=q.getMonthDaysCount(e)&&e>=i}function R(e){var t={};return e.forEach((function(i,n){if(n===e.length-1){for(var r=X.indexOf(i),a=r;a%7!==X.indexOf(e[0]);)a++;t[i]=a-r}else t[i]=X.indexOf(e[n+1])-X.indexOf(i)})),t}function I(e,t){var i,n=t.slice(0),a=function(e){W[q.getFullYear(e)]||(W[q.getFullYear(e)]=q.getYearLastDate(e,0));var t=W[q.getFullYear(e)],i=e.getTime()-t.getTime();return Math.ceil(i/r.ec)}(e);for(i=n.shift();i;){if(i<0&&(i=i+q.getYearDaysCount(e,0)+1),i===a)return!1;i=n.shift()}return!0}function P(e){var t=e.shift();e.push(t)}function L(e,t){var i=!0,n=t.day,r=t.month,a=q.getExpectedDays(e,t.monthDay),s=t.yearDay;return t.validRules.forEach((function(t){switch(t){case"BYDAY":(function(e,t){var i=[];return t.forEach((function(e){var t=e.match(ne);2===t.length?i.push(t[1]):i.push(t[0])})),-1===i.indexOf(N[e])})(e.getDay(),n)&&(i=!1);break;case"BYMONTH":q.checkMonth(e,r)&&(i=!1);break;case"BYMONTHDAY":(function(e,t){var i,n=t.slice(0),r=q.getMonthDaysCount(e);for(i=n.shift();i;){if(i<0&&(i=i+r+1),i===e.getDate())return!1;i=n.shift()}return!0})(e,a)&&(i=!1);break;case"BYYEARDAY":I(e,s)&&(i=!1)}})),i}function j(e){return"Islamic"===e?new a.h:new a.Z}var H,F,B,q,W={},X=["SU","MO","TU","WE","TH","FR","SA"],N=["SU","MO","TU","WE","TH","FR","SA"],U=43,z=["first","second","third","fourth","last"],Y="summaryTimes",_="summaryOn",J="every",Q="summaryUntil",G="summaryDay",K="summaryWeek",$="summaryMonth",Z="summaryYear",ee={SU:"sun",MO:"mon",TU:"tue",WE:"wed",TH:"thu",FR:"fri",SA:"sat"},te=/\d/,ie=/[^A-Z]+/,ne=/[a-z]+|[^a-z]+/gi;function re(e){return[e.getUTCFullYear(),ae(e.getUTCMonth()+1),ae(e.getUTCDate()),"T",ae(e.getUTCHours()),ae(e.getUTCMinutes()),ae(e.getUTCSeconds()),"Z"].join("")}function ae(e){return("0"+e).slice(-2)}},5550:(e,t,i)=>{i.d(t,{Y:()=>s});var n=i(8452),r=i(9382),a=i(1856),s=function(){function e(e){this.daysVariation=0,this.parent=e,this.actionObj={X:0,Y:0,groupIndex:0,cellWidth:0,cellHeight:0,slotInterval:0,interval:0,actionIndex:0,cloneElement:[],originalElement:[],action:null,isAllDay:null,excludeSelectors:null,index:0,navigationInterval:null,scrollInterval:null},this.scrollArgs={element:null,width:0,height:0},this.resizeEdges={left:!1,right:!1,top:!1,bottom:!1},this.scrollEdges={left:!1,right:!1,top:!1,bottom:!1}}return e.prototype.getChangedData=function(e){var t=this,i=(0,n.X$)({},this.actionObj.event,null,!0);if(i[this.parent.eventFields.startTime]=this.actionObj.start,i[this.parent.eventFields.endTime]=this.actionObj.end,(0,n.hX)(this.actionObj.isAllDay)||(i[this.parent.eventFields.isAllDay]=this.actionObj.isAllDay),this.parent.activeViewOptions.group.resources.length>0){var r=this.getOriginalElement(this.actionObj.element);if(r){var a=r.map((function(e){return parseInt(e.getAttribute("data-group-index"),10)}));if(-1===a.indexOf(this.actionObj.groupIndex)||!(0,n.hX)(e)&&e.length>0){var s=parseInt(this.actionObj.clone.getAttribute("data-group-index"),10);(a=a.filter((function(e){return e!==s}))).push(this.actionObj.groupIndex),e&&e.length>0?e.forEach((function(e){t.parent.resourceBase.getResourceData(e,t.actionObj.groupIndex,a)})):this.parent.resourceBase.getResourceData(i,this.actionObj.groupIndex,a)}}}return i},e.prototype.saveChangedData=function(e,t){var i;void 0===t&&(t=!1),this.parent.activeEventData.event=this.actionObj.event,this.parent.currentAction="Save";var n=[e.data];t&&(n=e.selectedData);for(var r=0,a=n;r<a.length;r++){var s=a[r],o=!(this.parent.activeViewOptions.group.resources.length>0)||parseInt(this.actionObj.element.getAttribute("data-group-index"),10)===this.actionObj.groupIndex;if(+s[this.parent.eventFields.startTime]===+this.actionObj.event[this.parent.eventFields.startTime]&&+s[this.parent.eventFields.endTime]===+this.actionObj.event[this.parent.eventFields.endTime]&&o)return;if(s[this.parent.eventFields.recurrenceRule]){var l=s[this.parent.eventFields.recurrenceID]||s[this.parent.eventFields.id];if(s[this.parent.eventFields.id]===s[this.parent.eventFields.recurrenceID]&&(s[this.parent.eventFields.id]=this.parent.eventBase.getEventMaxID(),i="EditOccurrence"),this.parent.enableRecurrenceValidation&&this.parent.eventWindow.editOccurrenceValidation(l,s,this.actionObj.event))return}else i=null;(s[this.parent.eventFields.startTimezone]||s[this.parent.eventFields.endTimezone])&&this.parent.eventBase.timezoneConvert(s),this.parent.crudModule.saveEvent(s,i)}},e.prototype.calculateIntervalTime=function(e){var t=new Date(+e);return t.setMinutes(Math.floor(t.getMinutes()/this.actionObj.interval)*this.actionObj.interval),t},e.prototype.getContentAreaDimension=function(){var e=this.parent.element.querySelector("."+r._oL),t=[].slice.call(e.querySelector("tr").children);!this.parent.activeView.isTimelineView()&&this.parent.activeViewOptions.group.resources.length>0&&!this.parent.isAdaptive&&!this.parent.enableAdaptiveUI&&(t=this.getResourceElements(t));var i=t[0].getBoundingClientRect(),n=t.slice(-1)[0].getBoundingClientRect();return{bottom:e.scrollHeight-5,left:this.parent.enableRtl?n.left:i.left,right:this.parent.enableRtl?i.right:n.right,top:0,leftOffset:this.parent.enableRtl?n.right:i.right,rightOffset:this.parent.enableRtl?i.left:n.left}},e.prototype.getPageCoordinates=function(e){var t=e.event;return t&&t.changedTouches?t.changedTouches[0]:e.changedTouches?e.changedTouches[0]:t||e},e.prototype.getIndex=function(e){var t=[].slice.call(this.parent.getContentTable().querySelector("tr").children),i={minIndex:0,maxIndex:t.length-1};if("resize"===this.actionObj.action&&this.parent.activeViewOptions.group.resources.length>0&&!this.parent.uiStateValues.isGroupAdaptive&&!this.parent.activeView.isTimelineView()){var n=this.getResourceElements(t);i.minIndex=n[0].cellIndex,i.maxIndex=n.slice(-1)[0].cellIndex}return e<i.minIndex&&(e=i.minIndex),e>i.maxIndex&&(e=i.maxIndex),e},e.prototype.updateTimePosition=function(e,t){for(var i=0,a=0,s=this.actionObj.cloneElement;a<s.length;a++){var o=s[a].querySelector("."+r.AWK);if(o){var l=this.actionObj.start,h=this.actionObj.end;t&&t.length>0&&(l=t[i][this.parent.eventFields.startTime],h=t[i][this.parent.eventFields.endTime]),o.innerHTML=this.parent.getTimeString(l)+" - "+this.parent.getTimeString(h)}i++}if(this.parent.activeViewOptions.timeScale.enable&&this.parent.isAdaptive&&"Month"!==this.parent.currentView&&"TimelineMonth"!==this.parent.currentView){var c=this.parent.element.querySelector("."+r.T0_);if(!c){c=(0,n.n)("div",{className:r.T0_});var p=this.parent.activeView.isTimelineView()?r.bI1:r.KqV;this.parent.element.querySelector("."+p).appendChild(c)}c.innerHTML=this.parent.getTimeString(e);var u=0;if(this.parent.activeView.isTimelineView())if(this.parent.enableRtl){var d=parseInt(this.actionObj.clone.style.right,10);u="drag"===this.actionObj.action||this.resizeEdges.left?d+this.actionObj.clone.offsetWidth:d,c.style.right=(0,n.IV)(u)}else{var v=parseInt(this.actionObj.clone.style.left,10);u="drag"===this.actionObj.action||this.resizeEdges.left?v:v+this.actionObj.clone.offsetWidth,c.style.left=(0,n.IV)(u)}else u="drag"===this.actionObj.action||this.resizeEdges.top?this.actionObj.clone.offsetTop:this.actionObj.clone.offsetTop+this.actionObj.clone.offsetHeight,c.style.top=(0,n.IV)(u)}},e.prototype.getResourceElements=function(e){var t=this;return e.filter((function(e){return parseInt(e.getAttribute("data-group-index"),10)===t.actionObj.groupIndex}))},e.prototype.getOriginalElement=function(e){var t,i=e.getAttribute("data-guid");if(e.offsetParent&&e.offsetParent.classList.contains(r.$vc)||this.parent.activeView.isTimelineView())t=[].slice.call(this.parent.element.querySelectorAll('[data-guid="'+i+'"]'));else{var a=(0,n.kp)(e,"tr");a&&(t=[].slice.call(a.querySelectorAll('[data-guid="'+i+'"]')))}return t},e.prototype.createCloneElement=function(e){var t=(0,n.n)("div",{innerHTML:e.outerHTML}).children[0],i=[r.qXR];i.push("drag"===this.actionObj.action?r.i9j:r.OOo),"Month"!==this.parent.currentView&&"TimelineMonth"!==this.parent.currentView||i.push(r.bWq),(0,n.iQ)([t],i),(0,n.iQ)([e],r.TXV),(0,n.hX)(e.parentElement)||e.parentElement.appendChild(t),t.style.width=(0,n.IV)(t.offsetWidth-2);var a=document.querySelector(this.parent.eventDragArea);return this.parent.eventDragArea&&"drag"===this.actionObj.action&&a&&a.appendChild(t),(0,n.sN)(t,{border:"0px"}),t},e.prototype.removeCloneElementClasses=function(){var e=this.actionObj.originalElement;"Month"!==this.parent.currentView&&"TimelineYear"!==this.parent.currentView&&"Day"!==this.parent.currentView&&"Week"!==this.parent.currentView&&"WorkWeek"!==this.parent.currentView||(e=[].slice.call(this.parent.element.querySelectorAll("."+r.TXV))),(0,n.vy)(e,r.TXV)},e.prototype.removeCloneElement=function(){this.actionObj.originalElement=[];for(var e=0,t=[].slice.call(this.parent.element.querySelectorAll(".e-dynamic-clone"));e<t.length;e++){var i=t[e];(0,n.TF)(i)}for(var a=0,s=this.actionObj.cloneElement;a<s.length;a++){var o=s[a];(0,n.hX)(o.parentNode)||(0,n.TF)(o)}this.actionObj.cloneElement=[];var l=this.parent.element.querySelector("."+r.T0_);l&&(0,n.TF)(l)},e.prototype.getCursorElement=function(e){var t=this.getPageCoordinates(e);return document.elementFromPoint(t.clientX,t.clientY)},e.prototype.autoScroll=function(){var e=this.parent.element.querySelector("."+r._oL),t=e.offsetHeight<=e.scrollHeight,i=e.offsetWidth<=e.scrollWidth,n=t&&e.scrollTop>=0&&e.scrollTop+e.offsetHeight<=e.scrollHeight,a=i&&e.scrollLeft>=0&&e.scrollLeft+e.offsetWidth<=e.scrollWidth;if("resize"===this.actionObj.action&&this.scrollEdges.right&&e.scrollLeft+e.offsetWidth>e.scrollWidth){var s=[].slice.call(this.parent.getContentTable().querySelector("tr").children).length-1;a=Math.ceil((this.actionObj.clone.offsetLeft+this.actionObj.clone.offsetWidth)/this.actionObj.cellWidth)===s}n&&(this.scrollEdges.top||this.scrollEdges.bottom)&&(e.scrollTop+=this.scrollEdges.top?-this.actionObj.scroll.scrollBy:this.actionObj.scroll.scrollBy,"resize"===this.actionObj.action&&e.scrollHeight!==e.offsetHeight+e.scrollTop&&e.scrollTop>0&&(this.actionObj.Y+=this.scrollEdges.top?this.actionObj.scroll.scrollBy:-this.actionObj.scroll.scrollBy)),a&&(this.scrollEdges.left||this.scrollEdges.right)&&(e.scrollLeft+=this.scrollEdges.left?-this.actionObj.scroll.scrollBy:this.actionObj.scroll.scrollBy,"resize"===this.actionObj.action&&e.scrollWidth!==e.offsetWidth+e.scrollLeft&&e.scrollLeft>0&&(this.actionObj.X+=this.scrollEdges.left?this.actionObj.scroll.scrollBy:-this.actionObj.scroll.scrollBy))},e.prototype.autoScrollValidation=function(){if(!this.actionObj.scroll.enable)return!1;var e=this.parent.boundaryValidation(this.actionObj.pageY,this.actionObj.pageX);return this.scrollEdges=e,e.bottom||e.top||e.left||e.right},e.prototype.actionClass=function(e){"addClass"===e?(0,n.iQ)([this.parent.element],r.TXV):(0,n.vy)([this.parent.element],r.TXV)},e.prototype.updateScrollPosition=function(e){var t=this;this.actionObj.scroll.enable&&(0,n.hX)(this.actionObj.scrollInterval)&&(this.actionObj.scrollInterval=window.setInterval((function(){if(t.autoScrollValidation()&&!t.actionObj.clone.classList.contains(r.F1H)){if(t.parent.activeView.isTimelineView()&&t.parent.activeViewOptions.group.resources.length>0&&t.actionObj.groupIndex<0)return;t.autoScroll(),"drag"===t.actionObj.action?t.parent.dragAndDropModule.updateDraggingDateTime(e):t.parent.resizeModule.updateResizingDirection(e)}}),this.actionObj.scroll.timeDelay))},e.prototype.updateOriginalElement=function(e){var t='[data-id="'+e.getAttribute("data-id")+'"]';this.parent.activeViewOptions.group.resources.length>0&&(t=t.concat('[data-group-index = "'+e.getAttribute("data-group-index")+'"]'));var i=[].slice.call(this.parent.element.querySelectorAll(t));(0,n.iQ)(i,r.TXV);var a=[].slice.call(this.parent.element.querySelectorAll("."+r.qXR));(0,n.vy)(a,r.TXV)},e.prototype.getUpdatedEvent=function(e,t,i){var n=JSON.parse(JSON.stringify(i));return n[this.parent.eventFields.startTime]=e,n[this.parent.eventFields.endTime]=t,n},e.prototype.dynamicYearlyEventsRendering=function(e,t){void 0===t&&(t=!1);var i=this.actionObj.cellWidth-7;if(t&&(this.resizeEdges.left||this.resizeEdges.right)&&(i=this.actionObj.cellWidth*e.count),!t&&"Horizontal"===this.parent.activeViewOptions.orientation&&0===this.parent.activeViewOptions.group.resources.length){var s=this.yearEvent.isSpannedEvent(e,e[this.parent.eventFields.startTime]);s[this.parent.eventFields.startTime].getTime()===s[this.parent.eventFields.endTime].getTime()&&(s.isSpanned.count=1),i=s.isSpanned.count*this.actionObj.cellWidth}var o=this.createAppointmentElement(this.actionObj.groupIndex,e[this.parent.eventFields.subject]);o.setAttribute("drag","true"),(0,n.iQ)([o],r.qXR),(0,n.sN)(o,{width:i+"px",border:"0px","pointer-events":"none",position:"absolute",overflow:"hidden",padding:"3px"}),""!==this.actionObj.clone.style.backgroundColor&&(0,n.sN)(o,{backgroundColor:this.actionObj.clone.style.backgroundColor});var l=a.JC(e[this.parent.eventFields.startTime]).getTime(),h="."+r.fv4+'[data-date="'+l+'"]';this.parent.activeViewOptions.group.resources.length>0&&!this.parent.uiStateValues.isGroupAdaptive&&(h="."+r.fv4+'[data-date="'+l+'"][data-group-index="'+this.actionObj.groupIndex+'"]');var c=this.parent.element.querySelector(h);if(!(0,n.hX)(c)){if(t){var p=c.querySelector("."+r.Sy$),u=this.actionObj.cellHeight*e.count-(p?p.offsetHeight:0)-7;(this.resizeEdges.right||this.resizeEdges.left)&&(u=parseInt(this.actionObj.clone.style.height,10)),(0,n.sN)(o,{height:u+"px"})}this.renderDynamicElement(c,o,!0),this.actionObj.cloneElement.push(o)}},e.prototype.renderDynamicElement=function(e,t,i){if(void 0===i&&(i=!1),e.querySelector("."+r.RQR))e.querySelector("."+r.RQR).appendChild(t);else{var a=(0,n.n)("div",{className:r.RQR});a.appendChild(t),e.appendChild(a)}},e.prototype.createAppointmentElement=function(e,t){var i=(0,n.n)("div",{className:r.Dj,innerHTML:t});return this.parent.activeViewOptions.group.resources.length>0&&i.setAttribute("data-group-index",e.toString()),i},e.prototype.dynamicEventsRendering=function(e){var t,i=this,s=this.parent.activeView.renderDates,o=[].slice.call(this.parent.element.querySelectorAll("."+r.fv4)),l=this.parent.activeViewOptions.workDays;if(this.parent.activeViewOptions.group.resources.length>0){var h=this.parent.resourceBase.lastResourceLevel.filter((function(e){return e.groupIndex===i.actionObj.groupIndex}));s=h[0].renderDates;var c="."+r.fv4+'[data-group-index="'+this.actionObj.groupIndex+'"]';o=[].slice.call(this.parent.element.querySelectorAll(c)),l=h[0].workDays,t=h[0].groupOrder}if(this.monthEvent.dateRender=s,this.monthEvent.getSlotDates(l),this.resizeEdges.left||this.resizeEdges.right)for(var p=0,u=[].slice.call(this.parent.element.querySelectorAll("."+r.qXR));p<u.length;p++){var d=u[p];(0,n.TF)(d)}for(var v=0,m=this.monthEvent.splitEvent(e,s);v<m.length;v++){var g=m[v],f=this.parent.getIndexOfDate(s,a.JC(g[this.monthEvent.fields.startTime])),y=g.data.count*this.actionObj.cellWidth-7,T=this.monthEvent.createAppointmentElement(g,this.actionObj.groupIndex,!0);T.setAttribute("drag","true"),(0,n.iQ)([T],r.qXR),this.monthEvent.applyResourceColor(T,g,"backgroundColor",t),(0,n.sN)(T,{width:y+"px",border:"0px","pointer-events":"none"});var w=o[f];w&&(0,n.hX)(this.parent.eventDragArea)&&(this.monthEvent.renderElement(w,T,!0),this.actionObj.cloneElement.push(T))}},e.prototype.destroy=function(){!this.parent||this.parent&&this.parent.isDestroyed||(this.actionObj={},this.scrollArgs={},this.resizeEdges={left:!1,right:!1,top:!1,bottom:!1},this.scrollEdges={left:!1,right:!1,top:!1,bottom:!1})},e}()},5028:(e,t,i)=>{i.d(t,{B:()=>v});var n=i(8452),r=i(5550),a=i(4953),s=i(8104),o=i(1856),l=i(4144),h=i(9382),c=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),p=function(e){function t(t){var i=e.call(this,t,"day")||this;return i.isResource=!1,i}return c(t,e),t.prototype.renderAppointments=function(){this.parent.dragAndDropModule&&this.parent.dragAndDropModule.setDragArea(),this.fields=this.parent.eventFields;for(var e="Year"===this.parent.currentView?"."+h.Dj:"."+h.RQR+",."+h.pSF,t=0,i=[].slice.call(this.parent.element.querySelectorAll(e));t<i.length;t++){var r=i[t];(0,n.TF)(r)}this.renderedEvents=[],"Year"===this.parent.currentView?this.yearViewEvents():(this.removeCellHeight(),this.parent.activeViewOptions.group.resources.length>0&&!this.parent.uiStateValues.isGroupAdaptive?(this.isResource=!0,this.timelineResourceEvents()):this.timelineYearViewEvents()),this.parent.renderTemplates(),this.parent.notify(l.PR,{})},t.prototype.yearViewEvents=function(){for(var e=this.getMonths(),t=0,i=e;t<i.length;t++)for(var r=i[t],a=".e-month-calendar:nth-child("+(e.indexOf(r)+1)+") td.e-work-cells",s=[].slice.call(this.parent.element.querySelectorAll(a)),l=new Date(this.parent.selectedDate.getFullYear(),r,1),c=this.parent.calendarUtil.getMonthStartDate(new Date(l.getTime())),p=this.parent.calendarUtil.getMonthEndDate(new Date(l.getTime())),u=o.lZ(c,this.parent.firstDayOfWeek),d=o.fi(o.fI(p,this.parent.firstDayOfWeek),1),v=0;u.getTime()<d.getTime();v++){var m=o.JC(new Date(u.getTime())),g=o.fi(new Date(m.getTime()),1);if(this.parent.eventBase.filterEvents(m,g).length>0){var f=s[v];f&&f.appendChild((0,n.n)("div",{className:h.Dj}))}u=o.fi(new Date(u.getTime()),1)}},t.prototype.timelineYearViewEvents=function(){var e=this.parent.element.querySelector("."+h.fv4);this.cellWidth=e.offsetWidth,this.cellHeader=o.P$(e.querySelector("."+h.Sy$));var t=this.parent.element.querySelector("."+h.bau);this.eventHeight=o.iX(t,h.Dj);for(var i=[].slice.call(this.parent.element.querySelectorAll("."+h.Px_)),r=this.getMonths(),a=0;a<r.length;a++){var s=i[a],l=a+1,c=(0,n.n)("div",{className:h.RQR});s.appendChild(c);var p=new Date(this.parent.selectedDate.getFullYear(),r[a],1),u=new Date(p.getFullYear(),p.getMonth()+1,0),d=p.getDay(),v=[];for("Horizontal"===this.parent.activeViewOptions.orientation&&(this.renderedEvents=[]);p.getTime()<=u.getTime();){var m=void 0,g=void 0;if("Vertical"===this.parent.activeViewOptions.orientation){var f=i[d];l=d+1;var y=f.querySelector("."+h.RQR);y||(y=(0,n.n)("div",{className:h.RQR}),f.appendChild(y)),this.parent.enableRtl?g=a*this.cellWidth:m=a*this.cellWidth}else this.parent.enableRtl?g=(d+p.getDate()-1)*this.cellWidth:m=(d+p.getDate()-1)*this.cellWidth;var T=this.parent.element.querySelector(".e-content-wrap tr:nth-child("+l+") td");this.cellHeight=T.offsetHeight;var w=o.JC(new Date(p.getTime())),D=o.fi(new Date(w.getTime()),1),b=void 0;this.parent.uiStateValues.isGroupAdaptive&&(b=this.parent.resourceBase.lastResourceLevel[this.parent.uiStateValues.groupIndex]);var C=this.parent.eventBase.filterEvents(w,D,void 0,b);C=this.parent.eventBase.sortByDateTime(C);for(var S=function(e,t){var i=(0,n.X$)({},C[e],null,!0);A.updateSpannedEvents(i,w,D);var r=A.getIndex(w);i.Index=r;var s=A.cellHeader+A.eventHeight*(r+1)+2+A.moreIndicatorHeight,o=A.cellHeight-A.cellHeader-A.moreIndicatorHeight,l=Math.floor(o/(A.eventHeight+2)),h=t-l<=0?1:t-l;if("Horizontal"===A.parent.activeViewOptions.orientation){var u=A.renderedEvents.filter((function(e){return e.Guid===i.Guid})),f=v.filter((function(e){return e.Guid===i.Guid}));if(u.length>0&&u[0].MoreIndicator||f.length>0&&f[0].MoreIndicator){var y="Horizontal"===A.parent.activeViewOptions.orientation?a:d;return A.renderMoreIndicator(c,h,w,y,m,g),"continue"}if(u.length>0||f.length>0)return"continue"}if(A.parent.rowAutoHeight&&"Horizontal"===A.parent.activeViewOptions.orientation||A.cellHeight>s)A.renderEvent(c,i,a,m,g,p,d),A.updateCellHeight(T,s),v.push(i);else{y="Horizontal"===A.parent.activeViewOptions.orientation?a:d;A.renderMoreIndicator(c,h,w,y,m,g),"Horizontal"===A.parent.activeViewOptions.orientation&&(i.MoreIndicator=!0,A.renderedEvents.push(i),v.push(i))}},A=this,E=0,O=C.length;E<O;E++)S(E,O);p=o.fi(new Date(p.getTime()),1),"Vertical"===this.parent.activeViewOptions.orientation&&(d++,this.renderedEvents=[])}}},t.prototype.updateSpannedEvents=function(e,t,i){var n=this.isResource&&"Vertical"===this.parent.activeViewOptions.orientation||!this.isResource&&"Horizontal"===this.parent.activeViewOptions.orientation,r={isLeft:!0,isRight:!0,isBottom:!0,isTop:!0};t.getTime()<=e[this.fields.startTime].getTime()&&(n?r.isLeft=!1:r.isTop=!1),(i.getTime()>=e[this.fields.endTime].getTime()||n&&!this.isResource&&o.fi(i,-1).getMonth()===e[this.fields.endTime].getMonth())&&(n?r.isRight=!1:r.isBottom=!1),e.data=r},t.prototype.timelineResourceEvents=function(){var e=this.parent.element.querySelector("."+h.fv4);this.cellWidth=e.offsetWidth,this.cellHeader=0;var t=this.parent.element.querySelector("."+h.bau);this.eventHeight=o.iX(t,h.Dj);var i=[].slice.call(this.parent.element.querySelectorAll("."+h.Px_)),n=this.parent.uiStateValues.isGroupAdaptive?[this.parent.resourceBase.lastResourceLevel[this.parent.uiStateValues.groupIndex]]:this.parent.resourceBase.lastResourceLevel,r=this.getMonths();if("Horizontal"===this.parent.activeViewOptions.orientation)for(var a=0;a<r.length;a++)for(var s=new Date(this.parent.selectedDate.getFullYear(),r[a],1),l=0,c=n.length;l<c;l++)this.renderedEvents=[],this.renderResourceEvent(i[a],n[l],a,l,s);else for(l=0,c=n.length;l<c;l++){this.renderedEvents=[];for(a=0;a<r.length;a++){s=new Date(this.parent.selectedDate.getFullYear(),r[a],1);this.renderResourceEvent(i[l],n[l],a,l,s)}}},t.prototype.renderResourceEvent=function(e,t,i,r,a){var s=(0,n.n)("div",{className:h.RQR});e.appendChild(s);var l=o.fi(o.sG(new Date(a.getTime())),1),c=this.parent.eventBase.filterEvents(a,l,void 0,t),p="Vertical"===this.parent.activeViewOptions.orientation?r:i,u=this.parent.element.querySelector(".e-content-wrap tr:nth-child("+(p+1)+") td");this.cellHeight=u.offsetHeight,this.groupOrder=t.groupOrder;for(var d=0;d<c.length;d++){var v=c[d],m=void 0,g=(0,n.X$)({},v,null,!0);if(this.parent.activeViewOptions.group.resources.length>0){var f=this.isSpannedEvent(g,a);m=this.getIndex(f[this.fields.startTime]),g.Index=m}else m=this.getIndex(g[this.fields.startTime]),g.Index=m;var y=this.cellHeader+this.eventHeight*(d+1)+2+this.moreIndicatorHeight,T="Vertical"===this.parent.activeViewOptions.orientation?i*this.cellWidth:r*this.cellWidth;if(!(this.parent.rowAutoHeight||this.cellHeight>y)){var w="Horizontal"===this.parent.activeViewOptions.orientation?i:r;if(this.renderMoreIndicator(s,c.length-d,a,w,T,T,r),"Horizontal"===this.parent.activeViewOptions.orientation)for(var D=r;D<c.length;D++)this.renderedEvents.push((0,n.X$)({},c[D],{Index:m+D},!0));break}this.renderEvent(s,g,i,T,T,a,r),this.updateCellHeight(u,y)}},t.prototype.renderEvent=function(e,t,i,r,a,s,h){var c,p,u=this,d=this.isSpannedEvent(t,s),v=this.createEventElement(d);if(1===d.isSpanned.count){var m=o.fi(d[this.fields.endTime],-1);d[this.fields.endTime]=m>d[this.fields.startTime]?m:d[this.fields.endTime]}if(!(d[this.fields.startTime]>d[this.fields.endTime])){"Horizontal"===this.parent.activeViewOptions.orientation?(p=i+1,d[this.fields.startTime].getTime()===d[this.fields.endTime].getTime()&&(d.isSpanned.count=1),c=d.isSpanned.count*this.cellWidth):(p=h+1,c=this.cellWidth);var g=this.parent.element.querySelector(".e-content-wrap tr:nth-child("+p+") td").offsetTop+this.cellHeader+this.eventHeight*d.Index+2;(0,n.sN)(v,{width:c+"px",height:this.eventHeight+"px",left:r+"px",right:a+"px",top:g+"px"});var f={data:d,element:v,cancel:!1,type:"event"};this.parent.trigger(l.MG,f,(function(t){t.cancel||(e.appendChild(v),u.wireAppointmentEvents(v,d),(u.parent.activeViewOptions.group.resources.length>0||"Vertical"===u.parent.activeViewOptions.orientation||(d.isSpanned.isRight||d.isSpanned.isLeft)&&"Horizontal"===u.parent.activeViewOptions.orientation||!d.isSpanned.isRight)&&u.renderedEvents.push((0,n.X$)({},d,null,!0)))}))}},t.prototype.renderMoreIndicator=function(e,t,i,r,a,s,l){if(0!==this.parent.activeViewOptions.group.resources.length||!e.querySelector('[data-start-date="'+i.getTime()+'"]')){var h;h=this.parent.activeViewOptions.group.resources.length>0?o.fi(o.sG(new Date(i.getTime())),1):o.fi(new Date(i.getTime()),1);var c=this.getMoreIndicatorElement(t,i,h),p=this.parent.element.querySelector(".e-content-wrap tr:nth-child("+(r+1)+")").offsetTop+(this.cellHeight-this.moreIndicatorHeight);a=Math.floor(a/this.cellWidth)*this.cellWidth,s=Math.floor(s/this.cellWidth)*this.cellWidth,(0,n.sN)(c,{width:this.cellWidth+"px",left:a+"px",right:s+"px",top:p+"px"}),(0,n.hX)(l)||c.setAttribute("data-group-index",l.toString()),e.appendChild(c),n.Jm.add(c,"click",this.moreIndicatorClick,this)}},t.prototype.createEventElement=function(e){var t=e[this.fields.subject]||this.parent.eventSettings.fields.subject.default||this.parent.localeObj.getConstant("addTitle"),i=(0,n.n)("div",{className:h.Dj,attrs:{"data-id":"Appointment_"+e[this.fields.id],"data-guid":e.Guid,role:"button",tabindex:"0","aria-readonly":this.parent.eventBase.getReadonlyAttribute(e),"aria-selected":"false","aria-grabbed":"true","aria-label":this.parent.getAnnouncementString(e)}});if(this.cssClass&&(0,n.iQ)([i],this.cssClass),e[this.fields.isReadonly]&&(0,n.iQ)([i],h.sjS),this.parent.activeViewOptions.group.resources.length>0){var r=this.getGroupIndexFromEvent(e);i.setAttribute("data-group-index",r.toString())}var a=[],s=(0,n.X$)({},e,null,!0);if(this.parent.activeViewOptions.eventTemplate){var o=this.parent.element.id+"_"+this.parent.activeViewOptions.eventTemplateName+"eventTemplate";a=this.parent.getAppointmentTemplate()(s,this.parent,"eventTemplate",o,!1)}else{var l=e[this.fields.location]||this.parent.eventSettings.fields.location.default||"",c=(0,n.n)("div",{className:h.YrY,innerHTML:t+(l?";&nbsp"+l:"")}),p=(0,n.n)("div",{className:h.AWK+(this.parent.isAdaptive?" "+h.AV8:""),innerHTML:this.parent.getTimeString(s[this.fields.startTime])}),u=(0,n.n)("div",{className:h.AWK+(this.parent.isAdaptive?" "+h.AV8:""),innerHTML:this.parent.getTimeString(s[this.fields.endTime])});(0,n.iQ)([c],"e-text-center"),e[this.fields.isAllDay]?a=[c]:s.isLeft||s.isRight?(s.isLeft||a.push(p),a.push(c),s.isRight||a.push(u)):a=[p,c,u]}var d=(0,n.n)("div",{className:h.VbS});return(0,n.BC)(a,d),i.appendChild(d),this.renderResizeHandler(i,e.data,e[this.fields.isReadonly]),this.applyResourceColor(i,s,"backgroundColor",this.groupOrder),i},t.prototype.isSpannedEvent=function(e,t){var i=new Date(t.getFullYear(),t.getMonth(),1),r=o.fi(new Date(t.getFullYear(),t.getMonth()+1,0),1),a=(0,n.X$)({},e,null,!0),s=a[this.fields.startTime],l=a[this.fields.endTime],h={isLeft:!1,isRight:!1,count:1};if(this.isResource&&this.updateSpannedEvents(e,i,r),s.getTime()<i.getTime()&&(a[this.fields.startTime]=i,h.isLeft=!0),l.getTime()>r.getTime()&&(a[this.fields.endTime]=r,h.isRight=!0),0===this.parent.activeViewOptions.group.resources.length){var c=o.JC(a[this.fields.endTime]).getTime(),p=o.JC(a[this.fields.startTime]).getTime();(e[this.fields.isAllDay]&&c===e[this.fields.endTime].getTime()||h.isRight)&&(c=o.fi(new Date(c),-1).getTime()),h.count=Math.ceil((c-p)/o.ec)+1}return a.isSpanned=h,o.JC(s).getTime()<o.JC(this.parent.minDate).getTime()&&(a[this.fields.startTime]=this.parent.minDate),o.JC(l).getTime()>o.JC(this.parent.maxDate).getTime()&&(a[this.fields.endTime]=this.parent.maxDate),a},t.prototype.getOverlapEvents=function(e,t){var i,n,r=[];if(this.parent.activeViewOptions.group.resources.length>0){var a=this.parent.calendarUtil.getMonthStartDate(new Date(e.getTime())),s=o.fi(this.parent.calendarUtil.getMonthEndDate(new Date(e.getTime())),-1);i=o.JC(new Date(a.getTime())).getTime(),n=o.JC(new Date(s.getTime())).getTime()}else this.parent.rowAutoHeight?(i=o.JC(new Date(e.getTime())).getTime(),n=o.fi(o.JC(new Date(e.getTime())),1).getTime()):i=n=o.JC(new Date(e.getTime())).getTime();for(var l=0,h=t;l<h.length;l++){var c=h[l],p=new Date(c[this.fields.startTime].getTime()),u=new Date(c[this.fields.endTime].getTime());if("Vertical"===this.parent.activeViewOptions.orientation&&this.parent.activeViewOptions.group.resources.length>0)o.JC(p).getTime()>=i&&o.JC(u).getTime()<=n&&r.push(c);else{var d=c[this.fields.isAllDay]?o.JC(u).getTime()>i:o.JC(u).getTime()>=i;(o.JC(p).getTime()<=i&&d||o.JC(p).getTime()>=i&&o.JC(u).getTime()<=n)&&r.push(c)}}return r},t.prototype.getMonths=function(){var e=this;return Array.apply(null,{length:this.parent.monthsCount}).map((function(t,i){return e.parent.firstMonthOfYear+i}))},t.prototype.removeCellHeight=function(){for(var e="."+h.tDg+" tbody tr,."+h.Mbq+" tbody tr,."+h.s2p+" tbody tr",t=0,i=[].slice.call(this.element.querySelectorAll(e));t<i.length;t++){i[t].firstElementChild.style.height=""}},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.parent=null},t}(s.k),u=i(3463),d=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.widthUptoCursorPoint=0,t.heightUptoCursorPoint=0,t.cursorPointIndex=0,t.isHeaderRows=!1,t.isTimelineDayProcess=!1,t.widthPerMinute=0,t.heightPerMinute=0,t.minDiff=0,t.isStepDragging=!1,t.isMorePopupOpened=!1,t.isAllDayDrag=!1,t.isMultiSelect=!1,t.multiData=[],t.updatedData=[],t.swagData=[],t.startTime=0,t.isAllDayTarget=!1,t.targetTd=null,t.isCursorAhead=!1,t}return d(t,e),t.prototype.wireDragEvent=function(e){new n.sx(e,{abort:"."+h.tFF,clone:!0,isDragScroll:!0,enableTapHold:this.parent.isAdaptive,enableTailMode:!!this.parent.eventDragArea,cursorAt:this.parent.eventDragArea?{left:-20,top:-20}:{left:0,top:0},dragArea:this.dragArea,dragStart:this.dragStart.bind(this),drag:this.drag.bind(this),dragStop:this.dragStop.bind(this),enableAutoScroll:!1,helper:this.dragHelper.bind(this),queryPositionInfo:this.dragPosition.bind(this)})},t.prototype.setDragArea=function(){var e=document.querySelector(this.parent.eventDragArea);this.dragArea=this.parent.eventDragArea&&e?e:this.parent.element.querySelector("."+h.s2p)},t.prototype.dragHelper=function(e){var t=this;this.setDragActionDefaultValues(),this.actionObj.element=e.element,this.actionObj.action="drag";var i=[];return!this.parent.allowMultiDrag||(0,n.hX)(this.parent.selectedElements)||0===this.parent.selectedElements.length||this.parent.selectedElements.length>0&&-1===this.parent.selectedElements.indexOf(this.actionObj.element)?i=[e.element]:(i=this.parent.selectedElements,this.isMultiSelect=!0),i.forEach((function(e){var i=t.createCloneElement(e);e.getAttribute("data-guid")===t.actionObj.element.getAttribute("data-guid")&&(t.actionObj.clone=i,t.parent.eventDragArea||"Month"===t.parent.currentView||!t.parent.activeViewOptions.timeScale.enable||t.parent.activeView.isTimelineView()||t.actionObj.element.classList.contains(h.F1H)||(0,n.sN)(t.actionObj.clone,{cursor:"move",left:"0%",right:"0%",width:"100%"}),t.actionObj.clone.style.top=(0,n.IV)(t.actionObj.element.offsetTop)),t.actionObj.cloneElement.push(i),t.actionObj.originalElement.push(e)})),this.actionObj.clone},t.prototype.dragPosition=function(e){if(this.parent.eventDragArea)return{left:e.left,top:e.top};var t,i=this.actionObj.cellHeight/this.actionObj.slotInterval*this.actionObj.interval,r=(0,n.IV)(0);"Month"===this.parent.currentView&&(r=e.left),t=this.isStepDragging?Math.ceil(this.actionObj.clone.getBoundingClientRect().right)+this.actionObj.interval:this.actionObj.clone.getBoundingClientRect().right;var a,s=this.parent.element.querySelector("."+h._oL).getBoundingClientRect().right;if(!(this.parent.activeView.isTimelineView()&&"TimelineYear"!==this.parent.currentView&&!this.parent.enableRtl&&this.actionObj.pageX>t)||this.isMorePopupOpened||this.actionObj.pageX>s||(this.isCursorAhead=!0),this.parent.activeView.isTimelineView()&&(r=(0,n.IV)(this.actionObj.clone.offsetLeft)),this.parent.activeView.isTimelineView()||!this.parent.timeScale.enable||!(0,n.hX)(this.actionObj.clone.offsetParent)&&this.actionObj.clone.offsetParent.classList.contains(h.$vc))a=(0,n.IV)(this.actionObj.clone.offsetTop);else if("Month"===this.parent.currentView)a=(0,n.IV)(0);else if(this.actionObj.clone.classList.contains(h.F1H))a=(0,n.IV)(this.parent.element.querySelector("."+h.IoD).offsetTop),(0,n.sN)(this.actionObj.clone,{width:(0,n.IV)(Math.ceil(this.actionObj.clone.offsetWidth/this.actionObj.cellWidth)*this.actionObj.cellWidth),right:this.parent.enableRtl&&(0,n.IV)(0)});else{this.actionObj.element.classList.contains(h.F1H)&&!this.actionObj.clone.classList.contains(h.F1H)&&(0,n.sN)(this.actionObj.clone,{height:(0,n.IV)(this.actionObj.cellHeight),width:(0,n.IV)(this.actionObj.cellWidth-1),pointerEvents:"none"});var o=parseInt(e.top,10);o=o<0?0:o,a=(0,n.IV)(Math.ceil(o/i)*i);var l=this.parent.element.querySelector(".e-content-wrap").scrollHeight,c=parseInt(a,10)+this.actionObj.clone.offsetHeight;c>l&&(a=parseInt(a,10)-(c-l)+"px")}return{left:r,top:a}},t.prototype.setDragActionDefaultValues=function(){this.actionObj.action="drag",this.actionObj.isAllDay=null,this.actionObj.slotInterval=this.parent.activeViewOptions.timeScale.interval/this.parent.activeViewOptions.timeScale.slotCount,this.actionObj.interval=this.actionObj.slotInterval;var e=this.parent.element.querySelector("."+h.fv4);this.actionObj.cellWidth=e.offsetWidth,this.actionObj.cellHeight=e.offsetHeight},t.prototype.dragStart=function(e){var t=this,i=this.actionObj.element.getAttribute("data-guid");this.actionObj.event=this.parent.eventBase.getEventByGuid(i);var r=(0,n.X$)({},this.actionObj.event,null,!0);(0,n.hX)(r)||(this.startTime=r[this.parent.eventFields.startTime].getTime());var c={cancel:!1,data:r,selectedData:this.getSelectedData(),event:e,excludeSelectors:null,element:this.actionObj.element,interval:this.actionObj.interval,navigation:{enable:!1,timeDelay:2e3},scroll:{enable:!0,scrollBy:30,timeDelay:100}};this.parent.trigger(l.bB,c,(function(i){if(i.cancel||!(0,n.hX)(t.actionObj.element)&&(0,n.hX)(t.actionObj.element.parentElement)){var l=t.actionObj.element.ej2_instances[0];return(0,n.hX)(l)||l.intDestroy(e.event),t.actionObj.action="",t.removeCloneElementClasses(),void t.removeCloneElement()}t.actionClass("addClass"),t.parent.uiStateValues.action=!0,t.actionObj.start=r[t.parent.eventFields.startTime],t.actionObj.end=r[t.parent.eventFields.endTime],t.actionObj.groupIndex=parseInt(t.actionObj.element.getAttribute("data-group-index")||"0",10),t.actionObj.interval=i.interval,t.actionObj.navigation=i.navigation,t.actionObj.scroll=i.scroll,t.actionObj.excludeSelectors=i.excludeSelectors;var c=t.parent.element.querySelector("."+h._oL);if(t.scrollArgs={element:c,width:c.scrollWidth,height:c.scrollHeight},t.widthPerMinute=t.actionObj.cellWidth/t.actionObj.slotInterval*t.actionObj.interval,t.heightPerMinute=t.actionObj.cellHeight/t.actionObj.slotInterval*t.actionObj.interval,t.widthUptoCursorPoint=0,t.heightUptoCursorPoint=0,t.cursorPointIndex=-1,t.isHeaderRows=!1,t.isTimelineDayProcess=!1,t.minDiff=0,t.isMorePopupOpened=!1,t.daysVariation=-1,t.isAllDayTarget=t.actionObj.clone.classList.contains(h.F1H),(t.parent.activeView.isTimelineView()||!t.parent.timeScale.enable)&&"TimelineYear"!==t.parent.currentView){!(0,n.hX)(t.actionObj.clone.offsetParent)&&t.actionObj.clone.offsetParent.classList.contains(h.$vc)&&(t.isMorePopupOpened=!0),t.actionObj.pageX=e.event.pageX;var d=t.parent.activeViewOptions.headerRows;t.isHeaderRows=d.length>0&&"Hour"!==d[d.length-1].option&&"Date"!==d[d.length-1].option,t.isTimelineDayProcess=!t.parent.activeViewOptions.timeScale.enable||t.isHeaderRows||"TimelineMonth"===t.parent.currentView||d.length>0&&"Date"===d[d.length-1].option,t.isStepDragging=!t.isTimelineDayProcess&&t.actionObj.slotInterval!==t.actionObj.interval,t.isTimelineDayProcess?t.timelineEventModule=new s.k(t.parent,"day"):t.timelineEventModule=new s.k(t.parent,"hour")}("TimelineYear"===t.parent.currentView&&(t.yearEvent=new p(t.parent)),"Month"===t.parent.currentView&&(t.startTime=o.JC(new Date(t.startTime)).getTime(),t.updateOriginalElement(t.actionObj.clone),t.monthEvent=new a.l(t.parent)),"Day"===t.parent.currentView||"Week"===t.parent.currentView||"WorkWeek"===t.parent.currentView)&&(t.verticalEvent=new u.Z(t.parent),t.verticalEvent.initializeValues(),t.splitEvent(t.actionObj.event).forEach((function(e){var i='.e-day-wrapper[data-date="'+o.JC(e[t.parent.eventFields.startTime]).getTime()+'"]';t.parent.activeViewOptions.group.resources.length>0&&(i=i.concat('[data-group-index = "'+t.actionObj.groupIndex+'"]'));var r=t.parent.element.querySelector(i);if(r){var a=r.querySelector('[data-id="'+t.actionObj.clone.getAttribute("data-id")+'"]');a&&(0,n.iQ)([a],h.TXV)}})))}))},t.prototype.getSelectedData=function(){if(this.isMultiSelect&&0===this.multiData.length&&this.parent.selectedElements.length>0)for(var e=0,t=this.parent.selectedElements;e<t.length;e++){var i=t[e].getAttribute("data-guid"),r=this.parent.eventBase.getEventByGuid(i);this.multiData.push((0,n.X$)({},r,null,!0))}return this.multiData},t.prototype.drag=function(e){if(this.parent.quickPopup&&this.parent.quickPopup.quickPopupHide(!0),(0,n.hX)(e.target)||!e.target.classList.contains(h.X34)){var t=(0,n.X$)({},this.actionObj.event,null,!0),i=this.getPageCoordinates(e);if(this.actionObj.Y=this.actionObj.pageY=i.pageY,this.actionObj.X=this.actionObj.pageX=i.pageX,this.actionObj.target=e.target,this.widthUptoCursorPoint=0===this.widthUptoCursorPoint?Math.ceil(Math.abs(this.actionObj.clone.getBoundingClientRect().left-this.actionObj.X)/this.widthPerMinute)*this.widthPerMinute:this.widthUptoCursorPoint,this.widthUptoCursorPoint=this.isMorePopupOpened?this.actionObj.cellWidth:this.widthUptoCursorPoint,this.heightUptoCursorPoint=0===this.heightUptoCursorPoint?Math.ceil(Math.abs(this.actionObj.clone.getBoundingClientRect().top-this.actionObj.Y)/this.heightPerMinute)*this.heightPerMinute:this.heightUptoCursorPoint,this.isAllDayDrag=this.parent.activeViewOptions.timeScale.enable?this.actionObj.clone.classList.contains(h.F1H):this.actionObj.event[this.parent.eventFields.isAllDay],this.isStepDragging&&0===this.minDiff&&this.calculateMinutesDiff(t),("Month"===this.parent.currentView||this.isAllDayDrag)&&this.daysVariation<0){var r=this.parent.getDateFromElement(this.actionObj.target);if((0,n.hX)(r))this.daysVariation=0;else{var a=o.JC(r),s=o.JC(new Date(t[this.parent.eventFields.startTime].getTime()));this.daysVariation=(a.getTime()-s.getTime())/o.ec}}else this.daysVariation=0;if(this.parent.eventDragArea){var c=i.target;this.actionObj.clone.style.top=(0,n.IV)(c.offsetTop),this.actionObj.clone.style.left=(0,n.IV)(c.offsetLeft),(0,n.kp)(c,"."+h.Dll)?"Week"!==this.parent.currentView&&"WorkWeek"!==this.parent.currentView&&"Day"!==this.parent.currentView&&(this.actionObj.clone.style.width=(0,n.IV)(this.actionObj.element.offsetWidth)):(this.actionObj.clone.style.height="",this.actionObj.clone.style.width="")}this.updateScrollPosition(e),this.updateNavigatingPosition(e),this.updateDraggingDateTime(e);var p={data:t,event:e,element:this.actionObj.element,startTime:this.actionObj.start,endTime:this.actionObj.end,selectedData:this.updatedData};this.parent.group.resources.length>0&&(p.groupIndex=this.actionObj.groupIndex),this.parent.trigger(l.$E,p)}},t.prototype.calculateMinutesDiff=function(e){this.parent.enableRtl?this.minDiff=(this.actionObj.clone.offsetWidth-this.widthUptoCursorPoint)/this.widthPerMinute*this.actionObj.interval:this.minDiff=this.widthUptoCursorPoint/this.widthPerMinute*this.actionObj.interval;var t=e[this.parent.eventFields.startTime],i=this.parent.activeView.renderDates[0],n=o.hw(i,this.parent.activeView.getStartHour(),this.parent.activeView.getEndHour());n.startHour.getTime()>t.getTime()&&(this.minDiff=this.minDiff+(n.startHour.getTime()-t.getTime())/o.EM)},t.prototype.dragStop=function(e){var t=this;if(this.isCursorAhead=!1,this.removeCloneElementClasses(),this.removeCloneElement(),clearInterval(this.actionObj.navigationInterval),this.actionObj.navigationInterval=null,clearInterval(this.actionObj.scrollInterval),this.actionObj.scrollInterval=null,this.actionClass("removeClass"),this.parent.uiStateValues.action=!1,this.actionObj.action=null,!this.isAllowDrop(e)){var i=!e.target.classList.contains("e-work-cells")&&this.parent.cellTemplate?(0,n.kp)(e.target,".e-work-cells"):e.target,r={cancel:!1,data:this.getChangedData(this.updatedData),selectedData:this.updatedData,event:e,element:this.actionObj.element,target:i};this.parent.trigger(l.nE,r,(function(e){if(!e.cancel){if(t.parent.activeViewOptions.group.resources.length>0&&!t.parent.activeViewOptions.group.allowGroupEdit&&!t.parent.rowAutoHeight&&!t.parent.virtualScrollModule&&t.parent.activeViewOptions.group.byGroupID){t.parent.crudModule.crudObj.isCrudAction=!0,t.parent.crudModule.crudObj.sourceEvent=[t.parent.resourceBase.lastResourceLevel[parseInt(r.element.getAttribute("data-group-index"),10)]];var i=parseInt(r.target.getAttribute("data-group-index"),10)||t.actionObj.groupIndex;t.parent.crudModule.crudObj.targetEvent=[t.parent.resourceBase.lastResourceLevel[i]]}t.saveChangedData(e,t.isMultiSelect)}})),this.updatedData=[],this.multiData=[],this.isMultiSelect=!1,this.parent.selectedElements=[]}},t.prototype.updateNavigatingPosition=function(e){var t=this;if(this.actionObj.navigation.enable){var i=this.parent.getCurrentTime();(0,n.hX)(this.actionObj.navigationInterval)&&(this.actionObj.navigationInterval=window.setInterval((function(){if(i){var n=t.parent.getCurrentTime().getSeconds(),r=i.getSeconds()+t.actionObj.navigation.timeDelay/1e3;(r=r>=60?r-60:r)===n&&(i=t.parent.getCurrentTime(),t.viewNavigation(e),t.updateDraggingDateTime(e))}}),this.actionObj.navigation.timeDelay))}},t.prototype.updateDraggingDateTime=function(e){!(0,n.hX)(this.actionObj.clone.offsetParent)&&this.actionObj.clone.offsetParent.classList.contains(h.$vc)?this.morePopupEventDragging(e):this.parent.activeView.isTimelineView()&&"TimelineYear"!==this.parent.currentView?(this.timelineEventModule.dateRender=this.parent.activeView.renderDates,this.timelineEventModule.cellWidth=this.actionObj.cellWidth,this.timelineEventModule.getSlotDates(),this.actionObj.cellWidth=this.isHeaderRows?this.timelineEventModule.cellWidth:this.actionObj.cellWidth,this.calculateTimelineTime(e)):"Month"===this.parent.currentView||"TimelineYear"===this.parent.currentView?this.calculateVerticalDate(e):this.calculateVerticalTime(e)},t.prototype.navigationWrapper=function(){if(this.parent.activeView.isTimelineView()){var e=void 0;if(e=this.parent.activeViewOptions.group.resources.length>0?this.parent.element.querySelectorAll(".e-appointment-container:not(.e-hidden)").item(this.actionObj.index):this.parent.element.querySelector("."+h.Px_),!(0,n.hX)(e)){var t=e.querySelector("."+h.RQR);t||(t=(0,n.n)("div",{className:h.RQR}),e.appendChild(t)),this.actionObj.cloneElement.forEach((function(e){t.appendChild(e)}))}}else if("Month"!==this.parent.currentView&&this.parent.timeScale.enable){var i=this.actionObj.clone.classList.contains(h.F1H)?"."+h.Jvf:"."+h.RQR;if(this.parent.element.querySelectorAll(i).item(this.actionObj.index).appendChild(this.actionObj.clone),i==="."+h.Jvf){var r=this.getAllDayEventHeight(),a=[].slice.call(this.parent.element.querySelectorAll("."+h.tTW+":first-child"));if(a[0].offsetHeight<r)for(var s=0,o=a;s<o.length;s++){o[s].style.height=(r+2)/12+"em"}this.actionObj.clone.style.height=(0,n.IV)(r)}this.actionObj.height=parseInt(this.actionObj.clone.style.height,10)}else{var l=[].slice.call(this.parent.element.querySelectorAll("."+h.fv4));this.actionObj.index=this.parent.activeView.renderDates.length<this.actionObj.index?this.parent.activeView.renderDates.length-1:this.actionObj.index;var c=l[this.actionObj.index].querySelector("."+h.RQR);c||(c=(0,n.n)("div",{className:h.RQR}),l[this.actionObj.index].appendChild(c)),c.appendChild(this.actionObj.clone)}},t.prototype.viewNavigation=function(e){var t,i=this.parent.element.querySelector("."+h._oL);i&&(!this.scrollEdges.top&&!this.scrollEdges.bottom||(0,n.kp)(this.actionObj.clone,"."+h.Jvf))&&(0===i.scrollLeft&&Math.round(this.actionObj.X)<=Math.round(i.getBoundingClientRect().left+this.actionObj.cellWidth+window.pageXOffset)?t=this.parent.enableRtl?"next":"previous":Math.round(i.scrollLeft)+i.clientWidth===i.scrollWidth&&Math.round(this.actionObj.X)>=Math.round(i.getBoundingClientRect().right-this.actionObj.cellWidth+window.pageXOffset)&&(t=this.parent.enableRtl?"previous":"next"),t&&this.parent.changeDate(this.parent.activeView.getNextPreviousDate(t)))},t.prototype.morePopupEventDragging=function(e){if(!((0,n.hX)(e.target)||e.target&&(0,n.hX)((0,n.kp)(e.target,"td")))){var t=(0,n.X$)({},this.actionObj.event,null,!0),i=t[this.parent.eventFields.endTime].getTime()-t[this.parent.eventFields.startTime].getTime(),r=(0,n.kp)(e.target,"td");if("TimelineYear"!==this.parent.currentView||r.classList.contains("e-work-cells")){var a=this.parent.getDateFromElement(r),s=new Date(a.getTime());s.setMilliseconds(i),this.parent.activeViewOptions.group.resources.length>0&&(this.actionObj.groupIndex=parseInt(r.getAttribute("data-group-index"),10)),this.actionObj.start=new Date(a.getTime()),this.actionObj.end=new Date(s.getTime()),this.actionObj.clone.style.top=(0,n.IV)(r.offsetParent.offsetTop),this.actionObj.clone.style.left=(0,n.IV)(r.offsetLeft),this.actionObj.clone.style.width=(0,n.IV)(r.offsetWidth);var o,l=r;if(this.parent.activeView.isTimelineView()){var c=(0,n.kp)(r,"tr").rowIndex;l=this.parent.element.querySelectorAll(".e-appointment-container").item(c)}(o=l.querySelector("."+h.RQR))||(o=(0,n.n)("div",{className:h.RQR}),l.appendChild(o)),this.appendCloneElement(o)}}},t.prototype.calculateVerticalTime=function(e){var t=this;if(!((0,n.hX)(this.actionObj.target)||this.actionObj.target&&(0,n.hX)((0,n.kp)(this.actionObj.target,"tr"))||!(0,n.kp)(this.actionObj.target,"td").classList.contains(h.fv4)&&!(0,n.kp)(this.actionObj.target,"td").classList.contains(h.tTW))){this.parent.activeViewOptions.timeScale.enable&&this.swapDragging(e);var i=this.parent.element.querySelector("."+h._oL),r=(0,n.X$)({},this.actionObj.event,null,!0),a=r[this.parent.eventFields.startTime],s=r[this.parent.eventFields.endTime].getTime()-a.getTime(),l=Math.floor(parseInt(this.actionObj.clone.style.top,10)/this.actionObj.cellHeight)*this.actionObj.cellHeight;l=l<0?0:l,(this.scrollEdges.top||this.scrollEdges.bottom)&&(l=this.scrollEdges.top?i.scrollTop-this.heightUptoCursorPoint+this.actionObj.cellHeight+window.pageYOffset:i.scrollTop+i.offsetHeight-this.actionObj.clone.offsetHeight+window.pageYOffset+(this.actionObj.clone.offsetHeight-this.heightUptoCursorPoint),l=Math.round(l/this.actionObj.cellHeight)*this.actionObj.cellHeight,this.actionObj.clone.style.top=(0,n.IV)(l));var c,p,u=this.parent.activeViewOptions.timeScale.enable?l/this.actionObj.cellHeight:0,d=this.actionObj.cellHeight/this.actionObj.slotInterval,v=parseInt(this.actionObj.clone.style.top,10)-l;if(this.isAllDayDrag)c=this.parent.element.querySelector("."+h.IoD);else c=[].slice.call(this.parent.getContentTable().querySelectorAll("tr"))[u];((0,n.kp)(this.actionObj.target,"td").classList.contains(h.fv4)||(0,n.kp)(this.actionObj.target,"td").classList.contains(h.tTW))&&(p=(0,n.kp)(this.actionObj.target,"td").cellIndex);var m=(0,n.hX)(p)?(0,n.kp)(this.actionObj.clone,"td").cellIndex:p;if(this.actionObj.index=m,!(0,n.hX)(c)){var g,f,y=c.children[m];this.parent.activeViewOptions.group.resources.length>0&&!this.parent.uiStateValues.isGroupAdaptive&&(this.actionObj.groupIndex=parseInt(y.getAttribute("data-group-index"),10)),this.parent.activeViewOptions.timeScale.enable&&!this.isAllDayDrag?(this.appendCloneElement(this.getEventWrapper(m)),(g=this.parent.getDateFromElement(y)).setMinutes(g.getMinutes()+v/d),f=new Date(g.getTime()),this.actionObj.element.classList.contains(h.F1H)?f.setMinutes(f.getMinutes()+this.actionObj.slotInterval):f.setMilliseconds(s)):((g=this.parent.getDateFromElement(y)).setDate(g.getDate()-this.daysVariation),g.setHours(a.getHours(),a.getMinutes(),a.getSeconds()),(f=new Date(g.getTime())).setMilliseconds(s),!this.actionObj.element.classList.contains(h.F1H)&&this.actionObj.clone.classList.contains(h.F1H)&&(f=o.fi(o.JC(f),1)),this.updateAllDayEvents(g,f,this.parent.activeViewOptions.group.byDate?m:void 0)),this.actionObj.start=new Date(+g),this.actionObj.end=new Date(+f);for(var T=this.getUpdatedEvent(this.actionObj.start,this.actionObj.end,this.actionObj.event),w=0,D=[].slice.call(this.parent.element.querySelectorAll(".e-dynamic-clone"));w<D.length;w++){var b=D[w];(0,n.TF)(b)}if(this.multiData.length>0){if(this.isAllDayTarget&&this.isAllDayDrag&&!(0,n.hX)(this.actionObj.isAllDay)&&!this.actionObj.isAllDay){var C=parseInt((0,n.kp)(this.actionObj.target,"td").getAttribute("data-date"),10);this.multiData.forEach((function(e){if(t.swagData.push((0,n.X$)({},e,null,!0)),e[t.parent.eventFields.isAllDay]){e[t.parent.eventFields.startTime]=new Date(e[t.parent.eventFields.startTime].getTime()+(C-t.startTime));var i=new Date(e[t.parent.eventFields.startTime]),r=new Date(i.setMinutes(i.getMinutes()+t.actionObj.slotInterval));e[t.parent.eventFields.endTime]=r,e[t.parent.eventFields.isAllDay]=!1}})),this.startTime=C}if(this.isAllDayTarget&&this.isAllDayDrag&&!(0,n.hX)(this.actionObj.isAllDay)&&this.actionObj.isAllDay&&this.swagData.length>0){this.multiData=this.swagData,this.swagData=[];var S=(0,n.X$)({},this.actionObj.event,null,!0);this.startTime=S[this.parent.eventFields.startTime].getTime()}for(var A=T[this.parent.eventFields.startTime].getTime()-this.startTime,E=0;E<this.multiData.length;E++){this.updatedData[E]=this.updateMultipleData(this.multiData[E],A);var O=this.getDayIndex(this.updatedData[E]);if(O>=0){b=this.getEventWrapper(O,this.updatedData[E][this.parent.eventFields.isAllDay]);this.appendCloneElement(b,this.actionObj.cloneElement[E]),this.updateEventHeight(this.updatedData[E],E,O)}else(0,n.hX)(this.actionObj.cloneElement[E].parentNode)||(0,n.TF)(this.actionObj.cloneElement[E])}}else this.updateEventHeight(T);this.updateTimePosition(this.actionObj.start,this.updatedData)}}},t.prototype.splitEvent=function(e){var t=this.parent.eventFields,i=[],r=e[t.startTime],a=e[t.endTime];if(o.JC(new Date(r.getTime()))<o.JC(new Date(a.getTime()))){for(var s=o.JC(new Date(r.getTime())),l=new Date(s.getTime()),h=0;s<new Date(a.getTime());h++){l=new Date(l.setDate(s.getDate()+1));var c=(0,n.X$)({},e,null,!0);c[t.startTime]=new Date(s),c[t.endTime]=new Date(l),s=new Date(s.setDate(s.getDate()+1)),i.push(c)}var p=i.length-1;i[0][t.startTime]=r,i[p][t.endTime]=a}else i.push(e);return i},t.prototype.updateMultipleData=function(e,t){var i=(0,n.X$)({},e,null,!0);!(0,n.hX)(this.actionObj.isAllDay)&&this.parent.activeViewOptions.timeScale.enable&&(this.isAllDayTarget&&i[this.parent.eventFields.isAllDay]||!this.isAllDayTarget&&!i[this.parent.eventFields.isAllDay])&&(i[this.parent.eventFields.isAllDay]=this.actionObj.isAllDay);var r=i[this.parent.eventFields.endTime].getTime()-i[this.parent.eventFields.startTime].getTime();if(i[this.parent.eventFields.isAllDay]){var a=Math.ceil(t/864e5),s=Math.ceil(r/864e5),l=new Date(i[this.parent.eventFields.startTime]);i[this.parent.eventFields.startTime]=o.JC(new Date(l.setDate(l.getDate()+a))),i[this.parent.eventFields.endTime]=o.fi(i[this.parent.eventFields.startTime],s)}else i[this.parent.eventFields.startTime]=new Date(i[this.parent.eventFields.startTime].getTime()+t),i[this.parent.eventFields.endTime]=new Date(i[this.parent.eventFields.startTime].getTime()+r);return i},t.prototype.getDayIndex=function(e){var t=(0,n.X$)({},e,null,!0),i=o.JC(t[this.parent.eventFields.startTime]).getTime(),r="";h.wKq;return r="."+(this.parent.activeViewOptions.timeScale.enable&&t[this.parent.eventFields.isAllDay]?h.Jvf:h.fv4)+'[data-date="'+i+'"]',this.parent.activeViewOptions.group.resources.length>0&&(r=r+'[data-group-index="'+this.actionObj.groupIndex+'"]'),this.targetTd=this.parent.element.querySelector(r),(0,n.hX)(this.targetTd)?-1:this.targetTd.cellIndex},t.prototype.updateEventHeight=function(e,t,i){this.verticalEvent.initializeValues();var r=0;if(!this.parent.uiStateValues.isGroupAdaptive)for(var a=0;a<this.actionObj.groupIndex;a++)r+=this.verticalEvent.dateRender[a].length;var s=this.parent.uiStateValues.isGroupAdaptive?r:this.actionObj.groupIndex;if(!(!this.parent.activeViewOptions.group.byDate||(0,n.hX)(this.parent.getDateFromElement(this.actionObj.target)))||!this.parent.activeViewOptions.group.byDate){var l=-1,c=this.parent.activeViewOptions.group.byDate?this.parent.getIndexOfDate(this.verticalEvent.dateRender[s],o.JC(this.parent.getDateFromElement((0,n.hX)(t)?this.actionObj.target:this.targetTd))):(0,n.hX)(t)?this.actionObj.index-r:i-r,p=this.splitEvent(e),u=this.parent.eventBase.isAllDayAppointment(e)||p.length>2||"TimeSlot"!==this.parent.eventSettings.spannedEventPlacement?[e]:p;for(a=0;a<u.length;a++){if(a>0){var d='.e-day-wrapper[data-date="'+o.JC(u[a][this.parent.eventFields.startTime]).getTime()+'"]';this.parent.activeViewOptions.group.resources.length>0&&(d=d.concat('[data-group-index = "'+this.actionObj.groupIndex+'"]'));var v=this.parent.element.querySelector(d);v?(c+=1,l=v.cellIndex):c=-1}if(c>=0){var m=this.verticalEvent.isSpannedEvent(u[a],c,s),g=m[this.verticalEvent.fields.startTime],f=m[this.verticalEvent.fields.endTime],y=this.parent.activeViewOptions.timeScale.enable?this.verticalEvent.getHeight(g,f):this.actionObj.element.offsetHeight,T=this.parent.activeViewOptions.timeScale.enable?this.verticalEvent.getTopValue(g,c,s):this.actionObj.element.offsetTop;if((0,n.hX)(t))0===a?(this.actionObj.clone.style.top=(0,n.IV)(T),this.actionObj.clone.style.height=(0,n.IV)(y)):this.renderSpannedEvents(m,l,T,y);else{var w=this.actionObj.cellWidth;if(e[this.parent.eventFields.isAllDay]){T=this.parent.element.querySelector("."+h.IoD).offsetTop,y=this.getAllDayEventHeight();var D=e[this.parent.eventFields.endTime].getTime()-e[this.parent.eventFields.startTime].getTime(),b=Math.ceil(D/864e5);b>=0&&(w=b*this.actionObj.cellWidth)}this.actionObj.cloneElement[t]&&(0===a?(this.actionObj.cloneElement[t].style.top=(0,n.IV)(T),this.actionObj.cloneElement[t].style.height=(0,n.IV)(y),this.actionObj.cloneElement[t].style.width=(0,n.IV)(w),this.actionObj.cloneElement[t].style.left=(0,n.IV)(0)):this.renderSpannedEvents(m,l,T,y))}}}}},t.prototype.renderSpannedEvents=function(e,t,i,r){if(e[this.parent.eventFields.startTime].getTime()!==e[this.parent.eventFields.endTime].getTime()){var a=this.verticalEvent.createAppointmentElement(e,!1,e.isSpanned,this.actionObj.groupIndex);(0,n.iQ)([a],[h.qXR,"e-dynamic-clone"]),(0,n.sN)(a,{width:"100%",height:r+"px",top:i+"px",border:"0px"}),[].slice.call(this.parent.element.querySelectorAll("."+h.RQR))[t].appendChild(a)}},t.prototype.getRenderedDates=function(){var e,t,i=this,n=this.parent.activeView.renderDates;((e=this.parent.eventBase.slots).push.apply(e,this.parent.activeView.renderDates.map((function(e){return+e}))),this.parent.activeViewOptions.group.resources.length>0)&&(this.parent.eventBase.slots=[],n=this.parent.resourceBase.lastResourceLevel.filter((function(e){return e.groupIndex===i.actionObj.groupIndex}))[0].renderDates,(t=this.parent.eventBase.slots).push.apply(t,n.map((function(e){return+e}))));return n},t.prototype.updateAllDayEvents=function(e,t,i){this.parent.eventBase.slots=[];var r=this.getUpdatedEvent(e,t,this.actionObj.event),a=this.getRenderedDates(),s=this.parent.eventBase.splitEvent(r,a),o='.e-all-day-cells[data-date="'+s[0][this.parent.eventFields.startTime].getTime()+'"]';this.parent.activeViewOptions.group.resources.length>0&&!this.parent.uiStateValues.isGroupAdaptive&&(o=o.concat('[data-group-index = "'+this.actionObj.groupIndex+'"]'));var l=[].slice.call(this.parent.element.querySelectorAll(o));if(l.length>0||!(0,n.hX)(i)){var h=(0,n.hX)(i)?l[0].cellIndex:i;this.appendCloneElement(this.getEventWrapper(h)),this.actionObj.clone.style.width=(0,n.IV)(s[0].data.count*this.actionObj.cellWidth)}},t.prototype.swapDragging=function(e){var t=(0,n.kp)(this.actionObj.target,"td").cellIndex;if((0,n.kp)(this.actionObj.target,"."+h.bI1)&&!(0,n.kp)(this.actionObj.clone,"."+h.Jvf)){(0,n.iQ)([this.actionObj.clone],h.F1H),this.appendCloneElement(this.getEventWrapper(t)),this.actionObj.isAllDay=!0;var i=this.getAllDayEventHeight(),r=[].slice.call(this.parent.element.querySelectorAll("."+h.tTW+":first-child"));if(r[0].offsetHeight<i)for(var a=0,s=r;a<s.length;a++){s[a].style.height=(i+2)/12+"em"}(0,n.sN)(this.actionObj.clone,{width:(0,n.IV)(this.actionObj.cellWidth),height:(0,n.IV)(i),top:(0,n.IV)(this.parent.element.querySelector("."+h.IoD).offsetTop)})}if((0,n.kp)(this.actionObj.target,"."+h.fv4)&&!(0,n.kp)(this.actionObj.clone,"."+h.wKq)){(0,n.vy)([this.actionObj.clone],h.F1H),this.appendCloneElement(this.getEventWrapper(t)),this.actionObj.isAllDay=!1;var o=0===this.actionObj.element.offsetHeight?this.actionObj.height:this.actionObj.element.offsetHeight;(0,n.sN)(this.actionObj.clone,{left:(0,n.IV)(0),height:(0,n.IV)(o),width:(0,n.IV)(this.actionObj.cellWidth)})}},t.prototype.calculateVerticalDate=function(e){if(!((0,n.hX)(e.target)||e.target&&(0,n.hX)((0,n.kp)(e.target,"tr"))||e.target&&"DIV"===e.target.tagName)){var t=(0,n.X$)({},this.actionObj.event,null,!0);(0,n.hX)(this.parent.eventDragArea)&&this.removeCloneElement();var i=t[this.parent.eventFields.endTime].getTime()-t[this.parent.eventFields.startTime].getTime(),r=(0,n.kp)(this.actionObj.target,"td");if(!(0,n.hX)(r)){var a=r.parentElement;this.actionObj.index=a.rowIndex*a.children.length+r.cellIndex,r=[].slice.call(this.parent.element.querySelectorAll("."+h.fv4))[this.actionObj.index];var s=this.parent.getDateFromElement(r);if(!(0,n.hX)(s)){this.parent.activeViewOptions.group.resources.length>0&&(this.actionObj.groupIndex=parseInt(r.getAttribute("data-group-index"),10));var l=new Date(s.setDate(s.getDate()-this.daysVariation)),c=new Date(l.getTime()),p=new Date(c.getTime()),u=t[this.parent.eventFields.startTime].getTime()-o.JC(new Date(+t[this.parent.eventFields.startTime])).getTime();c=new Date(c.getTime()+u),p=new Date(c.getTime()+i),this.actionObj.start=new Date(c.getTime()),this.actionObj.end=new Date(p.getTime())}}for(var d=this.getUpdatedEvent(this.actionObj.start,this.actionObj.end,this.actionObj.event),v=0,m=[].slice.call(this.parent.element.querySelectorAll("."+h.qXR));v<m.length;v++){var g=m[v];(0,n.TF)(g)}if(this.multiData&&this.multiData.length>0){var f=o.JC(new Date(d[this.parent.eventFields.startTime]));u=f.getTime()-this.startTime;"TimelineYear"===this.parent.currentView&&this.parent.group.resources.length>0&&(u=12*(f.getFullYear()-new Date(this.startTime).getFullYear()),u-=new Date(this.startTime).getMonth(),u+=f.getMonth());for(var y=0;y<this.multiData.length;y++)this.updatedData[y]=this.updateMultipleVerticalDate(this.multiData[y],u),"TimelineYear"===this.parent.currentView?this.dynamicYearlyEventsRendering(this.updatedData[y]):this.dynamicEventsRendering(this.updatedData[y])}else"TimelineYear"===this.parent.currentView?this.dynamicYearlyEventsRendering(d):this.dynamicEventsRendering(d)}},t.prototype.updateMultipleVerticalDate=function(e,t){var i=(0,n.X$)({},e,null,!0),r=i[this.parent.eventFields.endTime].getTime()-i[this.parent.eventFields.startTime].getTime(),a=new Date(i[this.parent.eventFields.startTime]);if("TimelineYear"===this.parent.currentView&&this.parent.group.resources.length>0)i[this.parent.eventFields.startTime]=new Date(a.setMonth(a.getMonth()+t));else{var s=Math.ceil(t/o.ec);i[this.parent.eventFields.startTime]=new Date(a.setDate(a.getDate()+s))}return i[this.parent.eventFields.endTime]=new Date(i[this.parent.eventFields.startTime].getTime()+r),i},t.prototype.calculateTimelineTime=function(e){var t,i=(0,n.X$)({},this.actionObj.event,null,!0),r=i[this.parent.eventFields.endTime].getTime()-i[this.parent.eventFields.startTime].getTime(),a=this.parent.enableRtl?Math.abs(this.actionObj.clone.offsetLeft)-this.actionObj.clone.offsetWidth:parseInt(this.actionObj.clone.style.left,10);a=Math.floor(a/this.actionObj.cellWidth)*this.actionObj.cellWidth,this.parent.enableRtl&&(t=Math.abs(parseInt(this.actionObj.clone.style.right,10)),this.actionObj.clone.style.right=(0,n.IV)(t)),a=this.getOffsetValue(a,t);var s=this.getColumnIndex(a),l=this.parent.element.querySelector("."+h._oL),c=l.getBoundingClientRect().right,p=this.parent.activeView.isTimelineView()&&!this.parent.enableRtl&&this.actionObj.pageX>this.actionObj.clone.getBoundingClientRect().right&&!this.isMorePopupOpened&&!(this.actionObj.pageX>c),u=this.parent.eventDragArea?l.scrollLeft-l.offsetLeft:0;!this.isCursorAhead&&!p||this.isStepDragging||(this.isCursorAhead=!0);var d=Math.floor((this.actionObj.pageX-this.actionObj.clone.getBoundingClientRect().left+u)/this.actionObj.cellWidth);this.parent.enableRtl&&(d=Math.abs(Math.floor((this.actionObj.pageX-this.actionObj.clone.getBoundingClientRect().right)/this.actionObj.cellWidth))-1),this.cursorPointIndex<0&&this.cursorIndex(e,i,a,d);var v=this.parent.getContentTable().querySelector("tr"),m=this.getCursorCurrentIndex(s,d,v);m=m<0?0:m;var g=this.isHeaderRows?new Date(this.timelineEventModule.dateRender[m].getTime()):this.parent.getDateFromElement(v.children[m]);if(this.isStepDragging){var f=this.getWidthDiff(v,m);if(0!==f){var y=Math.round(f/this.widthPerMinute);g.setMinutes(g.getMinutes()+y*this.actionObj.interval),this.isCursorAhead||p?g.setMilliseconds(-r):g.setMinutes(g.getMinutes()-this.minDiff)}else g=this.actionObj.start}else this.isCursorAhead||p?(g.setMinutes(g.getMinutes()+(this.isTimelineDayProcess?1440:this.actionObj.slotInterval)),g.setMilliseconds(-r)):g.setMinutes(g.getMinutes()-this.cursorPointIndex*(this.isTimelineDayProcess?1440:this.actionObj.slotInterval));if(g=this.calculateIntervalTime(g),this.isTimelineDayProcess){var T=i[this.parent.eventFields.startTime];g.setHours(T.getHours(),T.getMinutes(),T.getSeconds())}if(this.parent.eventDragArea){var w=this.parent.getDateFromElement(e.target);if(!(0,n.hX)(w))if(this.parent.activeViewOptions.timeScale.enable&&"TimelineMonth"!==this.parent.currentView)g=w;else{T=i[this.parent.eventFields.startTime];g=new Date(w.setHours(T.getHours(),T.getMinutes(),T.getSeconds()))}}var D=new Date(g.getTime());D.setMilliseconds(r);var b=[this.getUpdatedEvent(g,D,this.actionObj.event)];if(this.multiData.length>0){for(var C=b[0][this.parent.eventFields.startTime].getTime()-this.startTime,S=0;S<this.multiData.length;S++)this.updatedData[S]=this.updateMultipleData(this.multiData[S],C);b=this.updatedData}for(var A=0;A<b.length;A++){var E=this.timelineEventModule.splitEvent(b[A],this.timelineEventModule.dateRender),O=E[0].data,x=this.timelineEventModule.getStartTime(E[0],O),k=this.timelineEventModule.getEndTime(E[0],O),V=this.timelineEventModule.getEventWidth(x,k,i[this.parent.eventFields.isAllDay],O.count),M=this.parent.getIndexOfDate(this.timelineEventModule.dateRender,o.JC(new Date(x.getTime())));M=M<0?0:M;var R=this.timelineEventModule.getPosition(x,k,i[this.parent.eventFields.isAllDay],M),I=this.multiData.length>0?this.actionObj.cloneElement[A]:this.actionObj.clone;this.parent.enableRtl?I.style.right=(0,n.IV)(R):I.style.left=(0,n.IV)(R),this.isMorePopupOpened||(I.style.width=(0,n.IV)(V)),this.parent.activeViewOptions.group.resources.length>0&&this.calculateResourceGroupingPosition(e,I),this.actionObj.start=new Date(g.getTime()),this.actionObj.end=new Date(D.getTime()),this.updateTimePosition(this.actionObj.start,this.updatedData)}},t.prototype.getOffsetValue=function(e,t){if(this.scrollEdges.left||this.scrollEdges.right){var i=this.parent.element.querySelector("."+h._oL);this.parent.enableRtl?(t=i.offsetWidth-i.scrollLeft,this.scrollEdges.right?t=t-i.offsetWidth+this.actionObj.clone.offsetWidth-(this.actionObj.clone.offsetWidth-this.widthUptoCursorPoint):(t+=this.widthUptoCursorPoint)-this.widthUptoCursorPoint>=i.scrollWidth&&(this.actionObj.clone.style.width=(0,n.IV)(this.actionObj.clone.offsetWidth-this.widthUptoCursorPoint+this.actionObj.cellWidth),t=i.scrollLeft-i.scrollWidth),this.actionObj.clone.style.left=(0,n.IV)(t)):(this.scrollEdges.left?(e=i.scrollLeft-this.widthUptoCursorPoint+this.actionObj.cellWidth,i.scrollLeft+i.offsetWidth>=i.offsetWidth?i.scrollLeft=i.scrollLeft-1:0===this.actionObj.clone.offsetLeft&&(e=i.scrollLeft)):e=i.scrollLeft+i.offsetWidth-this.actionObj.clone.offsetWidth+(this.actionObj.clone.offsetWidth-this.widthUptoCursorPoint),e=e<0?0:e,this.actionObj.clone.style.left=(0,n.IV)(e))}return e},t.prototype.getWidthDiff=function(e,t){var i=this.scrollArgs.element.getBoundingClientRect();if(i.left<=this.actionObj.pageX&&i.right>=this.actionObj.pageX){var n=e.children[t].offsetLeft,r=this.actionObj.pageX-i.left;return this.parent.enableRtl?n+this.actionObj.cellWidth-(this.scrollArgs.element.scrollLeft+r):this.scrollArgs.element.scrollLeft+r-n}return 0},t.prototype.getColumnIndex=function(e){var t=Math.floor(e/this.actionObj.cellWidth);return this.isHeaderRows?t:this.getIndex(t)},t.prototype.getCursorCurrentIndex=function(e,t,i){var n=e+t;if(this.isHeaderRows){var r=Math.floor(i.offsetWidth/this.actionObj.cellWidth);return n>r-1?r-1:n}return n>i.children.length-1?i.children.length-1:n},t.prototype.cursorIndex=function(e,t,i,r){var a=(0,n.kp)(e.target,".e-work-cells");if((0,n.hX)(a)||this.isMorePopupOpened)this.cursorPointIndex=0;else{var s=this.parent.getDateFromElement(a);if(this.isHeaderRows){var l=Math.floor(i/this.actionObj.cellWidth);s=new Date(this.timelineEventModule.dateRender[l+r].getTime())}var h=s.getTime()-t[this.parent.eventFields.startTime].getTime();if(this.isTimelineDayProcess)this.cursorPointIndex=Math.abs(Math.ceil(h/o.ec));else{var c=Math.floor(h/o.EM/(this.actionObj.slotInterval/this.actionObj.cellWidth));this.cursorPointIndex=Math.floor(c/this.actionObj.cellWidth),this.cursorPointIndex=this.cursorPointIndex<0?0:this.cursorPointIndex}}},t.prototype.calculateResourceGroupingPosition=function(e,t){var i=this.parent.element.querySelector("."+h._oL),r=[].slice.call(this.parent.element.querySelectorAll(".e-content-wrap .e-content-table tr:not(.e-hidden)")),a=o.oq(i.querySelector("table"));a=(0,n.hX)(a)?0:a;var s=this.parent.rowAutoHeight?~~(i.querySelector("table").offsetHeight/r.length):this.actionObj.cellHeight,l=Math.floor(Math.floor(this.actionObj.Y+(i.scrollTop-a-(window.scrollY||window.pageYOffset))-i.getBoundingClientRect().top)/s);l=l<0?0:l>r.length-1?r.length-1:l,this.actionObj.index=l;var c=this.parent.element.querySelectorAll(".e-appointment-container:not(.e-hidden)").item(l),p=c.querySelector("."+h.RQR);p||(p=(0,n.n)("div",{className:h.RQR}),c.appendChild(p)),this.appendCloneElement(p,t);var u=(0,n.kp)(this.actionObj.target,"td");this.actionObj.groupIndex=u&&!isNaN(parseInt(u.getAttribute("data-group-index"),10))?parseInt(u.getAttribute("data-group-index"),10):this.actionObj.groupIndex;var d=r[l].getBoundingClientRect().height*l;if(this.parent.rowAutoHeight){var v=this.getCursorElement(e);v&&(d=v.classList.contains(h.fv4)?v.offsetTop:v.offsetParent.classList.contains(h.Dj)?v.offsetParent.offsetTop:d)}t.style.top=(0,n.IV)(d)},t.prototype.appendCloneElement=function(e,t){void 0===t&&(t=null),t=(0,n.hX)(t)?this.actionObj.clone:t;var i=document.querySelector(this.parent.eventDragArea);this.parent.eventDragArea&&i?i.appendChild(t):e.appendChild(t)},t.prototype.getEventWrapper=function(e,t){var i;if((0,n.hX)(t)&&(t=this.actionObj.clone.classList.contains(h.F1H)),this.parent.activeViewOptions.timeScale.enable){var r=t?"."+h.Jvf:"."+h.RQR;i=this.parent.element.querySelectorAll(r).item(e)}else{var a=this.parent.element.querySelectorAll("."+h.fv4).item(e);(i=a.querySelector("."+h.RQR))||(i=(0,n.n)("div",{className:h.RQR}),a.appendChild(i))}return i},t.prototype.getAllDayEventHeight=function(){var e=(0,n.n)("div",{className:h.Dj});this.parent.element.querySelector("."+h.Jvf).appendChild(e);var t=e.offsetHeight;return(0,n.TF)(e),t},t.prototype.isAllowDrop=function(e){if(!this.actionObj.excludeSelectors)return!1;for(var t=!1,i=0,n=this.actionObj.excludeSelectors.split(",");i<n.length;i++){var r=n[i];if(e.target.classList.contains(r)){t=!0;break}}return t},t.prototype.getModuleName=function(){return"dragAndDrop"},t}(r.Y)},9556:(e,t,i)=>{i.d(t,{r:()=>c});var n=i(8452),r=i(5550),a=i(4953),s=i(1856),o=i(4144),l=i(9382),h=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h(t,e),t.prototype.wireResizeEvent=function(e){for(var t=0,i=[].slice.call(e.querySelectorAll("."+l.tFF));t<i.length;t++){var r=i[t];n.Jm.add(r,n.Pw.touchStartEvent,this.resizeStart,this)}},t.prototype.resizeHelper=function(){if(this.parent.activeViewOptions.group.resources.length>0&&this.parent.activeViewOptions.group.allowGroupEdit)for(var e=0,t=this.actionObj.originalElement.length;e<t;e++){var i=this.createCloneElement(this.actionObj.originalElement[e]);this.actionObj.cloneElement[e]=i,this.actionObj.element===this.actionObj.originalElement[e]&&(this.actionObj.clone=i)}else this.actionObj.element&&(this.actionObj.clone=this.createCloneElement(this.actionObj.element)),this.actionObj.cloneElement=[this.actionObj.clone],this.actionObj.originalElement=[this.actionObj.element]},t.prototype.resizeStart=function(e){var t=this;this.actionObj.action="resize",this.actionObj.slotInterval=this.parent.activeViewOptions.timeScale.interval/this.parent.activeViewOptions.timeScale.slotCount,this.actionObj.interval=this.actionObj.slotInterval;var i=(0,n.kp)(e.target,"."+l.tFF);this.actionObj.element=(0,n.kp)(i,"."+l.Dj),this.actionObj.event=this.parent.eventBase.getEventByGuid(this.actionObj.element.getAttribute("data-guid"));var r=(0,n.X$)({},this.actionObj.event,null,!0),s={cancel:!1,data:r,element:this.actionObj.element,event:e,interval:this.actionObj.interval,scroll:{enable:!0,scrollBy:30,timeDelay:100}};this.parent.trigger(o.tP,s,(function(s){if(!s.cancel){t.actionClass("addClass"),t.parent.uiStateValues.action=!0,t.resizeEdges={left:i.classList.contains(l.y5o),right:i.classList.contains(l.XRk),top:i.classList.contains(l.E6c),bottom:i.classList.contains(l.k7R)},t.actionObj.groupIndex=t.parent.uiStateValues.isGroupAdaptive?t.parent.uiStateValues.groupIndex:0;var o=t.parent.element.querySelector("."+l.fv4).getBoundingClientRect();t.actionObj.cellWidth=o.width,t.actionObj.cellHeight=o.height;var h=t.parent.activeViewOptions.headerRows.map((function(e){return e.option}));if(t.parent.activeView.isTimelineView()&&h.length>0&&["Date","Hour"].indexOf(h.slice(-1)[0])<0){for(var c=t.parent.getContentTable().querySelector("tr"),p=0,u=0,d=[].slice.call(c.children);u<d.length;u++){var v=d[u];p+=parseInt(v.getAttribute("colspan"),10)}var m=c.getBoundingClientRect();t.actionObj.cellWidth=m.width/p,t.actionObj.cellHeight=m.height}var g=t.getPageCoordinates(e);t.actionObj.X=g.pageX,t.actionObj.Y=g.pageY,t.actionObj.groupIndex=parseInt(t.actionObj.element.getAttribute("data-group-index")||"0",10),t.actionObj.interval=s.interval,t.actionObj.scroll=s.scroll,t.actionObj.start=new Date(r[t.parent.eventFields.startTime].getTime()),t.actionObj.end=new Date(r[t.parent.eventFields.endTime].getTime()),t.actionObj.originalElement=t.getOriginalElement(t.actionObj.element),"Month"===t.parent.currentView&&(t.daysVariation=-1,t.monthEvent=new a.l(t.parent));var f=t.parent.element.querySelector("."+l._oL);t.scrollArgs={element:f,width:f.scrollWidth,height:f.scrollHeight},n.Jm.add(document,n.Pw.touchMoveEvent,t.resizing,t),n.Jm.add(document,n.Pw.touchEndEvent,t.resizeStop,t)}}))},t.prototype.resizing=function(e){if(this.parent.quickPopup&&this.parent.quickPopup.quickPopupHide(),0===this.parent.element.querySelectorAll("."+l.OOo).length&&this.resizeHelper(),(0,n.hX)(e.target)||!e.target.classList.contains(l.X34)){var t=this.getPageCoordinates(e);this.actionObj.pageX=t.pageX,this.actionObj.pageY=t.pageY,this.updateScrollPosition(e),this.updateResizingDirection(e);var i={cancel:!1,data:(0,n.X$)({},this.actionObj.event,null,!0),element:this.actionObj.element,event:e,startTime:this.actionObj.start,endTime:this.actionObj.end};this.parent.group.resources.length>0&&(i.groupIndex=this.actionObj.groupIndex),this.parent.trigger(o.w4,i)}},t.prototype.updateResizingDirection=function(e){if("Month"!==this.parent.currentView&&"TimelineYear"!==this.parent.currentView){var t=this.resizeValidation(e);if(this.resizeEdges.left){if(t){var i=this.getLeftRightStyles(e,!0);if(parseInt(i.width,10)<1)return;for(var r=0,a=this.actionObj.cloneElement;r<a.length;r++){var s=a[r];(0,n.sN)(s,i),(0,n.iQ)([s],l.y5o)}}this.horizontalResizing(!this.parent.enableRtl)}if(this.resizeEdges.right){if(t){var o=this.getLeftRightStyles(e,!1);if(parseInt(o.width,10)<1)return;for(var h=0,c=this.actionObj.cloneElement;h<c.length;h++){s=c[h];(0,n.sN)(s,o),(0,n.iQ)([s],l.XRk)}}this.horizontalResizing(this.parent.enableRtl)}if(this.resizeEdges.top){if(t){var p=this.getTopBottomStyles(e,!0);if(parseInt(p.height,10)<1)return;for(var u=0,d=this.actionObj.cloneElement;u<d.length;u++){s=d[u];(0,n.sN)(s,p),(0,n.iQ)([s],l.E6c)}}this.verticalResizing(!0)}if(this.resizeEdges.bottom){if(t){var v=this.getTopBottomStyles(e,!1);if(parseInt(v.height,10)<1)return;for(var m=0,g=this.actionObj.cloneElement;m<g.length;m++){s=g[m];(0,n.sN)(s,v),(0,n.iQ)([s],l.k7R)}}this.verticalResizing(!1)}}else this.monthResizing()},t.prototype.monthResizing=function(){if(this.removeCloneElement(),!(0,n.hX)(this.actionObj.pageX)&&!(0,n.hX)(this.actionObj.pageY)){var e=document.elementFromPoint(this.actionObj.pageX,this.actionObj.pageY);if(!(0,n.hX)(e)){var t=this.parent.getDateFromElement(e),i=!(this.parent.activeViewOptions.group.resources.length>0)||parseInt(e.getAttribute("data-group-index"),10)===this.actionObj.groupIndex,r=new Date(this.actionObj.event[this.parent.eventFields.startTime].getTime()),a=new Date(this.actionObj.event[this.parent.eventFields.endTime].getTime());if(!this.parent.enableRtl&&this.resizeEdges.left||this.parent.enableRtl&&this.resizeEdges.right||this.resizeEdges.top?r=t:(!this.parent.enableRtl&&this.resizeEdges.right||this.parent.enableRtl&&this.resizeEdges.left||this.resizeEdges.bottom)&&(a=s.fi(t,1)),i&&r<a){this.actionObj.start=r,this.actionObj.end=a;var o=this.getUpdatedEvent(this.actionObj.start,this.actionObj.end,this.actionObj.event);"TimelineYear"===this.parent.currentView?this.yearEventsRendering(o):this.dynamicEventsRendering(o),this.updateOriginalElement(this.actionObj.clone)}}}},t.prototype.yearEventsRendering=function(e){for(var t=0,i=[].slice.call(this.parent.element.querySelectorAll("."+l.qXR));t<i.length;t++){var r=i[t];(0,n.TF)(r)}var a=new Date(e[this.parent.eventFields.endTime]),o=0;0===this.parent.activeViewOptions.group.resources.length&&(o=this.getMonthDiff(e[this.parent.eventFields.startTime],s.fi(a,-1)));for(var h=0;h<=o;h++){var c=void 0;0===this.parent.activeViewOptions.group.resources.length?c=this.getEventCount(e,this.actionObj.start.getMonth()+h):(c=(0,n.X$)({},e,null,!0),a=this.resizeEdges.left||this.resizeEdges.right?s.fi(a,-1):a,c.count=this.getMonthDiff(e[this.parent.eventFields.startTime],a)+1),this.dynamicYearlyEventsRendering(c,!0)}},t.prototype.getMonthDiff=function(e,t){var i;return i=12*(t.getFullYear()-e.getFullYear()),i-=e.getMonth(),(i+=t.getMonth())<=0?0:i},t.prototype.getEventCount=function(e,t){var i=(0,n.X$)({},e,null,!0),r=i[this.parent.eventFields.startTime],a=i[this.parent.eventFields.endTime],o=new Date(this.parent.selectedDate.getFullYear(),t,1),l=s.fi(new Date(this.parent.selectedDate.getFullYear(),t+1,0),1),h=1;return r.getTime()<o.getTime()&&(i[this.parent.eventFields.startTime]=o),a.getTime()>l.getTime()&&(i[this.parent.eventFields.endTime]=l),0===this.parent.activeViewOptions.group.resources.length&&(h=Math.ceil((i[this.parent.eventFields.endTime].getTime()-i[this.parent.eventFields.startTime].getTime())/s.ec)),i.count=h,i},t.prototype.resizeStop=function(e){var t=this;n.Jm.remove(document,n.Pw.touchMoveEvent,this.resizing),n.Jm.remove(document,n.Pw.touchEndEvent,this.resizeStop),clearInterval(this.actionObj.scrollInterval),this.actionObj.scrollInterval=null,this.removeCloneElementClasses(),this.removeCloneElement(),this.actionClass("removeClass"),this.parent.uiStateValues.action=!1;var i={cancel:!1,data:this.getChangedData(),element:this.actionObj.element,event:e};this.parent.trigger(o.D5,i,(function(e){e.cancel||(t.parent.activeViewOptions.group.resources.length>0&&!t.parent.rowAutoHeight&&!t.parent.activeViewOptions.group.allowGroupEdit&&!t.parent.virtualScrollModule&&t.parent.activeViewOptions.group.byGroupID&&(t.parent.crudModule.crudObj.sourceEvent=[t.parent.resourceBase.lastResourceLevel[parseInt(e.element.getAttribute("data-group-index"),10)]],t.parent.crudModule.crudObj.targetEvent=t.parent.crudModule.crudObj.sourceEvent,t.parent.crudModule.crudObj.isCrudAction=!0),t.saveChangedData(e))}))},t.prototype.verticalResizing=function(e){var t=this.actionObj.clone.offsetTop;e||(t+=this.actionObj.clone.offsetHeight);var i=t/this.actionObj.cellHeight*this.actionObj.slotInterval,r=this.actionObj.clone.offsetParent;if(!(0,n.hX)(r)){var a=s.JC(this.parent.getDateFromElement(r));a.setHours(this.parent.activeView.getStartHour().getHours()),a.setMinutes(i+this.parent.activeView.getStartHour().getMinutes()),e?this.actionObj.start=this.calculateIntervalTime(a):this.actionObj.end=this.calculateIntervalTime(a),this.updateTimePosition(a)}},t.prototype.horizontalResizing=function(e){var t,i=new Date(this.actionObj.event[this.parent.eventFields.startTime].getTime()),r=new Date(this.actionObj.event[this.parent.eventFields.endTime].getTime()),a=!1,o=this.parent.currentView,l=["TimelineDay","TimelineWeek","TimelineWorkWeek"].indexOf(this.parent.currentView)>-1,h="TimelineMonth"===this.parent.currentView,c=h||l&&!this.parent.activeViewOptions.timeScale.enable;if(this.parent.activeView.isTimelineView()){var p=this.parent.getContentTable().querySelector("tr");if(this.parent.activeViewOptions.headerRows.length>0){var u=this.parent.activeViewOptions.headerRows.map((function(e){return e.option}));o=u.slice(-1)[0],h&&"Hour"===o&&(o=u.slice(-2)[0]||"Month")}t=e?i:r;var d=0,v=[].slice.call(p.children),m=!1,g=this.actionObj.cellWidth/(this.parent.activeViewOptions.timeScale.interval/this.parent.activeViewOptions.timeScale.slotCount),f=parseFloat(this.parent.enableRtl?this.actionObj.clone.style.right:this.actionObj.clone.style.left);if(f=Math.round(f/g)*g,-1!==["Year","Month","Week","Date"].indexOf(o)){for(var y=0,T=0,w=v;T<w.length;T++){var D=w[T];y+=parseInt(D.getAttribute("colspan"),10)}var b=this.parent.enableRtl?parseInt(this.actionObj.clone.style.right,10):parseInt(this.actionObj.clone.style.left,10);b=Math.round(b/this.actionObj.cellWidth)*this.actionObj.cellWidth,e||(b+=this.actionObj.clone.getBoundingClientRect().width-this.actionObj.cellWidth),d=Math.floor(b/Math.floor(p.getBoundingClientRect().width/y)),a=l&&"Date"===o,m=(d=e?d:h?d+1:d)===v.length,d=d<0?0:d>=y?y-1:d}else{var C=this.actionObj.cellWidth;if(d=e?Math.floor(f/this.actionObj.cellWidth):Math.ceil((f+(this.actionObj.clone.getBoundingClientRect().width-C))/this.actionObj.cellWidth),this.parent.enableRtl){var S=0;"TimelineMonth"!==o&&(this.parent.activeViewOptions.timeScale.enable||h)||(S=this.actionObj.cellWidth);var A=Math.floor(f/this.actionObj.cellWidth)*this.actionObj.cellWidth+(e?0:this.actionObj.clone.getBoundingClientRect().width-S);d=Math.floor(A/this.actionObj.cellWidth)}m=d===v.length,d=this.getIndex(d)}var E=void 0;if(E=-1!==["Year","Month","Week","Date"].indexOf(o)?new Date(this.parent.activeView.renderDates[d].getTime()):this.parent.getDateFromElement(p.children[d]),-1===["TimelineMonth","Year","Month","Week","Date"].indexOf(o)&&this.parent.activeViewOptions.timeScale.enable){e||(f+=this.actionObj.clone.getBoundingClientRect().width);var O=Math.ceil(this.actionObj.slotInterval/this.actionObj.cellWidth*(f-Math.floor(f/this.actionObj.cellWidth)*this.actionObj.cellWidth));O=m||!e&&0===O?this.actionObj.slotInterval:O,(t=new Date(E.getTime())).setMinutes(t.getMinutes()+O),this.updateTimePosition(t)}else t=new Date(E.setHours(t.getHours(),t.getMinutes(),t.getSeconds()))}else{var x=(0,n.kp)(this.actionObj.clone,"td").cellIndex,k=Math.ceil((e?this.actionObj.element.getBoundingClientRect().width:0)/this.actionObj.cellWidth)*this.actionObj.cellWidth,V=(y=Math.ceil((this.actionObj.clone.getBoundingClientRect().width-k)/this.actionObj.cellWidth),p=(0,n.kp)(this.actionObj.clone,"tr"),e?x-y:x+y-1);V=this.getIndex(V),t=this.parent.getDateFromElement(p.children[V]),e?t.setHours(i.getHours(),i.getMinutes(),i.getSeconds()):t.setHours(r.getHours(),r.getMinutes(),r.getSeconds())}if(e)r.getTime()-t.getTime()<=0&&(t=c?s.JC(r):i),this.actionObj.start=this.parent.activeViewOptions.timeScale.enable?this.calculateIntervalTime(t):t;else{var M=(!(l&&this.parent.activeViewOptions.timeScale.enable)||a||l&&["Week","Month","Year"].indexOf(o)>-1)&&0===t.getHours()&&0===t.getMinutes()?s.fi(t,1):t;c&&M.getTime()-i.getTime()<=0&&(M=s.fi(s.JC(i),1)),this.actionObj.end=this.parent.activeViewOptions.timeScale.enable&&"Month"!==this.parent.currentView?this.calculateIntervalTime(M):M}},t.prototype.getTopBottomStyles=function(e,t){var i=this.parent.element.querySelector("."+l._oL),r=this.actionObj.cellHeight/this.actionObj.slotInterval*this.actionObj.interval,a=t?this.actionObj.element.offsetHeight+(this.actionObj.Y-this.actionObj.pageY):this.actionObj.element.offsetHeight+(this.actionObj.pageY-this.actionObj.Y),s=t?this.actionObj.element.offsetTop-(this.actionObj.Y-this.actionObj.pageY):this.actionObj.clone.offsetTop;return a=s<0||this.actionObj.clone.offsetTop+this.actionObj.clone.offsetHeight>this.scrollArgs.height?this.actionObj.clone.offsetHeight:a,s=s<0?0:s,a=(s=t?Math.floor(s/r)*r:s)+a>=i.scrollHeight?i.scrollHeight-s:Math.ceil(a/r)*r,{height:(0,n.IV)(a<this.actionObj.cellHeight?Math.floor(a/r)*r:a),top:(0,n.IV)(a<this.actionObj.cellHeight&&t?Math.ceil(s/r)*r:s),left:"0px",right:"0px",width:"100%"}},t.prototype.getLeftRightStyles=function(e,t){var i={},r=this.parent.activeView.isTimelineView(),a=["TimelineDay","TimelineWeek","TimelineWorkWeek"].indexOf(this.parent.currentView)>-1&&this.parent.activeViewOptions.timeScale.enable,s=this.actionObj.cellWidth/this.actionObj.slotInterval*this.actionObj.interval,o=t?this.actionObj.X-this.actionObj.pageX:this.actionObj.pageX-this.actionObj.X,l=r?this.actionObj.element.getBoundingClientRect().width/this.actionObj.cellWidth*this.actionObj.cellWidth:"Month"===this.parent.currentView?this.actionObj.element.getBoundingClientRect().width:Math.ceil(this.actionObj.element.getBoundingClientRect().width/this.actionObj.cellWidth)*this.actionObj.cellWidth,h=l+Math.ceil(o/this.actionObj.cellWidth)*this.actionObj.cellWidth,c=this.parent.enableRtl?parseInt(this.actionObj.element.style.right,10):this.actionObj.clone.offsetLeft;a&&(h=l+Math.ceil(o/s)*s,h=Math.round((c+h)/s)*s-c,this.actionObj.event[this.parent.eventFields.isAllDay]=!1);var p=!t&&h+this.actionObj.clone.offsetLeft>this.scrollArgs.width?this.actionObj.clone.getBoundingClientRect().width:(this.actionObj.cellWidth,h);if(this.parent.enableRtl){var u=r?parseInt(this.actionObj.element.style.right,10):-(h-this.actionObj.cellWidth);u=r?u:t||u>0?0:u,r&&!t&&(u=(u=Math.ceil((this.actionObj.element.offsetLeft+(this.actionObj.element.getBoundingClientRect().width+(this.actionObj.pageX-this.actionObj.X)))/s)*s)<0?Math.abs(u):-u),u=u>=this.scrollArgs.width?this.scrollArgs.width-this.actionObj.cellWidth:u,i.right=(0,n.IV)(u),p=p+u>this.scrollArgs.width?this.actionObj.clone.getBoundingClientRect().width:p}else{var d=t?this.actionObj.element.offsetLeft-(this.actionObj.X-this.actionObj.pageX):this.parent.enableRtl?this.actionObj.element.offsetLeft:0;r&&(d=t?d:parseInt(this.actionObj.clone.style.left,10),d=this.parent.enableRtl?t?d:this.actionObj.pageX<this.actionObj.X-this.actionObj.clone.getBoundingClientRect().width?parseInt(this.actionObj.clone.style.right,10):d:t&&this.actionObj.pageX>this.actionObj.X+this.actionObj.clone.getBoundingClientRect().width&&this.actionObj.clone.getBoundingClientRect().width===this.actionObj.cellWidth?parseInt(this.actionObj.clone.style.left,10):d);var v=d;(d=r?a?t?Math.floor(d/s)*s:d:Math.floor(d/this.actionObj.cellWidth)*this.actionObj.cellWidth:Math.ceil(Math.abs(d)/this.actionObj.cellWidth)*this.actionObj.cellWidth)<0&&(d=0,p=this.actionObj.clone.getBoundingClientRect().width);var m=Math.ceil(this.actionObj.clone.getBoundingClientRect().width/this.actionObj.cellWidth)*this.actionObj.cellWidth;t&&(i.left=(0,n.IV)(r?d:t?v<0?-d:Math.ceil((l-m)/this.actionObj.cellWidth)*this.actionObj.cellWidth:d))}return i.width=(0,n.IV)(p),i},t.prototype.resizeValidation=function(e){var t=this.getPageCoordinates(e),i=this.getContentAreaDimension(),n=this.parent.activeView.isTimelineView()&&this.parent.activeViewOptions.timeScale.enable,r=this.actionObj.cellWidth,a=!1;return this.resizeEdges.left&&(t.pageX<i.leftOffset&&t.pageX>=i.left&&n&&(r=0),a=t.pageX-r>=i.left),this.resizeEdges.right&&(t.pageX>i.rightOffset&&t.pageX<=i.right&&n&&(r=0),a=t.pageX+r<=i.right),this.resizeEdges.top&&(a=this.actionObj.clone.offsetTop>=i.top),this.resizeEdges.bottom&&(a=this.actionObj.clone.offsetTop+this.actionObj.clone.offsetHeight<=this.scrollArgs.height),a},t.prototype.getModuleName=function(){return"resize"},t}(r.Y)},4144:(e,t,i)=>{i.d(t,{$E:()=>w,$I:()=>a,B0:()=>p,BP:()=>g,D5:()=>S,GU:()=>P,HT:()=>M,JW:()=>d,K4:()=>A,LD:()=>f,Lt:()=>s,MG:()=>v,PR:()=>k,PT:()=>o,QH:()=>r,Rb:()=>y,Sw:()=>L,TF:()=>u,W2:()=>V,bB:()=>T,bk:()=>R,eY:()=>l,g4:()=>m,jo:()=>n,ly:()=>x,nE:()=>D,tP:()=>b,w4:()=>C,wn:()=>h,yP:()=>I,yU:()=>O,yy:()=>E,zk:()=>c});var n="cellClick",r="cellDoubleClick",a="moreEventsClick",s="select",o="hover",l="actionBegin",h="actionComplete",c="actionFailure",p="navigating",u="renderCell",d="eventClick",v="eventRendered",m="dataBinding",g="dataBound",f="popupOpen",y="popupClose",T="dragStart",w="drag",D="dragStop",b="resizeStart",C="resizing",S="resizeStop",A="inlineClick",E="print",O="data-ready",x="events-loaded",k="content-ready",V="scroll",M="virtual-scroll",R="scroll-ui-update",I="ui-update",P="document-click",L="cell-mouse-down"},9382:(e,t,i)=>{i.d(t,{$Hi:()=>wt,$T2:()=>Le,$lw:()=>pi,$vc:()=>Pt,A7_:()=>mi,AB:()=>$t,ALx:()=>dt,AV8:()=>h,AWK:()=>Se,B5y:()=>en,BJF:()=>Gt,BMu:()=>oi,CKS:()=>Kt,CQi:()=>ei,CWy:()=>rn,Cfn:()=>L,Crj:()=>vi,D2m:()=>Te,D7e:()=>Yt,Dj:()=>fe,Dll:()=>n,DvD:()=>we,E6c:()=>st,EEF:()=>ai,ETh:()=>ri,EUL:()=>qt,Elp:()=>ce,F1H:()=>ut,Fx$:()=>y,Fx_:()=>ye,Fye:()=>Pi,Fzx:()=>Ki,G2I:()=>Dt,Gnx:()=>Mi,GwS:()=>Li,H59:()=>un,H6x:()=>Ot,Hby:()=>bi,Hu7:()=>Qt,I95:()=>vt,IeU:()=>tn,In:()=>Je,IoD:()=>m,J9Z:()=>Ai,JiM:()=>E,Jrb:()=>Jt,Jvf:()=>pt,K9U:()=>vn,KF3:()=>on,KRw:()=>It,KSz:()=>x,KTV:()=>ki,Kf1:()=>Zt,Kp7:()=>Ui,KqV:()=>G,LNi:()=>Ji,LrQ:()=>Ve,Lv3:()=>Yi,MXb:()=>be,Mbq:()=>N,NG$:()=>je,OHH:()=>_t,OMr:()=>di,OOo:()=>nt,OTD:()=>Hi,Oc1:()=>a,PES:()=>nn,Px_:()=>ge,RA5:()=>J,RAS:()=>Vt,RKM:()=>si,RM5:()=>s,RQR:()=>se,RWS:()=>gt,Rbl:()=>me,RtA:()=>Be,Shr:()=>hi,Sid:()=>Ee,Sy$:()=>He,T$e:()=>pn,T0_:()=>et,T7l:()=>l,TXV:()=>Ge,TYB:()=>Fi,Tv1:()=>Ue,UCY:()=>Qi,UXo:()=>dn,UZT:()=>Nt,Uvf:()=>cn,V29:()=>Ii,Vah:()=>K,VbS:()=>De,W$e:()=>d,W2Y:()=>xt,WVt:()=>ne,WpE:()=>$,Wyf:()=>de,X34:()=>Ni,XEi:()=>xe,XRk:()=>at,Xeq:()=>Ne,Y2Y:()=>Xi,Y9:()=>ti,YYP:()=>ht,YkJ:()=>Bi,YrY:()=>ci,Z5b:()=>jt,Z8R:()=>Ft,ZXJ:()=>re,ZZU:()=>wi,Zas:()=>b,_GU:()=>D,_Hs:()=>$i,_NR:()=>ze,_c2:()=>Ye,_oL:()=>Oe,_si:()=>Wi,_wr:()=>ke,a5Q:()=>yi,aIT:()=>Me,aqp:()=>Xe,b10:()=>k,bI1:()=>w,bWq:()=>Ze,bau:()=>F,bjF:()=>ie,bmx:()=>U,bqp:()=>kt,c41:()=>Lt,cB_:()=>ve,cFD:()=>Di,cGA:()=>W,cJV:()=>j,e2K:()=>Vi,e4R:()=>We,ePN:()=>O,fDb:()=>sn,fct:()=>B,fv4:()=>f,g6H:()=>T,gwF:()=>M,gzP:()=>zt,hGE:()=>Pe,hMo:()=>Et,hOG:()=>fi,huf:()=>qi,i6J:()=>Fe,i9j:()=>tt,jTi:()=>li,jrd:()=>ee,jzV:()=>gi,k5l:()=>bt,k7R:()=>ot,kC8:()=>ii,kDM:()=>Ut,kH9:()=>Z,kLb:()=>le,kb2:()=>o,l8c:()=>ui,lbr:()=>Ht,lme:()=>ae,lvH:()=>Ei,mDq:()=>ji,mW6:()=>Zi,mpl:()=>X,muR:()=>ct,nEF:()=>pe,o1M:()=>q,oJ2:()=>Ri,oMZ:()=>Mt,oQn:()=>R,oZ8:()=>v,otH:()=>c,ouO:()=>P,pE8:()=>zi,pPf:()=>H,pSF:()=>yt,pyv:()=>A,qPA:()=>ft,qXR:()=>$e,qm_:()=>Re,qsW:()=>an,qun:()=>Ie,rOu:()=>te,rXR:()=>r,s2p:()=>g,s4n:()=>Oi,s5M:()=>C,sEA:()=>ue,sGi:()=>Xt,sJc:()=>Wt,sSx:()=>ni,sjS:()=>ln,sv_:()=>S,t2Z:()=>Ce,tDg:()=>hn,tFF:()=>it,tIu:()=>z,tS6:()=>qe,tTW:()=>u,tUo:()=>Ke,tes:()=>_e,tt3:()=>_i,ty8:()=>Y,uAl:()=>St,uD:()=>Ci,v8m:()=>Tt,v_o:()=>mt,wJh:()=>Rt,wKq:()=>oe,wO9:()=>I,wRy:()=>Gi,wvw:()=>p,wxd:()=>V,xKf:()=>he,xNK:()=>Ae,xbd:()=>Qe,xl1:()=>Bt,xuc:()=>Ct,y5o:()=>rt,yWy:()=>Q,yic:()=>Ti,yjv:()=>_,yzg:()=>At,zBw:()=>lt,zDC:()=>xi,zFp:()=>Si});var n="e-schedule",r="e-rtl",a="e-device",s="e-multi-drag",o="e-icons",l="e-enable",h="e-disable",c="e-table-container",p="e-schedule-table",u="e-all-day-cells",d="e-header-popup",v="e-header-calendar",m="e-all-day-row",g="e-content-table",f="e-work-cells",y="e-work-hours",T="e-popup-open",w="e-date-header-wrap",D="e-date-header-container",b="e-header-cells",C="e-header-week-cell",S="e-header-month-cell",A="e-header-year-cell",E="e-work-days",O="e-other-month",x="e-current-day",k="e-current-date",V="e-current-panel",M="e-previous-panel",R="e-next-panel",I="e-prev",P="e-next",L="e-translate",j="e-left-indent",H="e-left-indent-wrap",F="e-event-table",B="e-resource-left-td",q="e-resource-group-cells",W="e-resource-text",X="e-resource-column-wrap",N="e-resource-column-table",U="e-child-node",z="e-parent-node",Y="e-resource-expand",_="e-resource-collapse",J="e-resource-tree-icon",Q="e-resource-cells",G="e-time-cells-wrap",K="e-time-cells",$="e-time-slots",Z="e-alternate-cells",ee="e-current-time",te="e-current-timeline",ie="e-previous-timeline",ne="e-hide-childs",re="e-scroll-container",ae="e-timeline-wrapper",se="e-appointment-wrapper",oe="e-day-wrapper",le="e-schedule-toolbar-container",he="e-schedule-resource-toolbar-container",ce="e-schedule-toolbar",pe="e-schedule-resource-toolbar",ue="e-selected-cell",de="e-week-number-wrapper",ve="e-week-number",me="e-wrapper-container",ge="e-appointment-container",fe="e-appointment",ye="e-block-appointment",Te="e-block-indicator",we="e-appointment-border",De="e-appointment-details",be="e-subject-wrap",Ce="e-resource-name",Se="e-time",Ae="e-table-wrap",Ee="e-outer-table",Oe="e-content-wrap",xe="e-virtual-track",ke="e-agenda-cells",Ve="e-current-day",Me="e-active-appointment-agenda",Re="e-month-header",Ie="e-day-date-header",Pe="e-resource-column",Le="e-date-column",je="e-navigate",He="e-date-header",Fe="e-day-border",Be="e-date-border",qe="e-day-padding",We="e-date-time",Xe="e-date-time-wrapper",Ne="e-empty-event",Ue="e-no-event",ze="e-indicator",Ye="e-up-icon",_e="e-down-icon",Je="e-left-icon",Qe="e-right-icon",Ge="e-event-action",Ke="e-new-event",$e="e-schedule-event-clone",Ze="e-month-event",et="e-clone-time-indicator",tt="e-drag-clone",it="e-event-resize",nt="e-resize-clone",rt="e-left-handler",at="e-right-handler",st="e-top-handler",ot="e-bottom-handler",lt="e-recurrence-icon",ht="e-recurrence-edit-icon",ct="e-header-row",pt="e-all-day-appointment-wrapper",ut="e-all-day-appointment",dt="e-appointment-hide",vt="e-row-count-wrapper",mt="e-all-day-appointment-section",gt="e-appointment-expand",ft="e-appointment-collapse",yt="e-more-indicator",Tt="e-cell-popup",wt="e-event-popup",Dt="e-multiple-event-popup",bt="e-popup-header",Ct="e-header-icon-wrapper",St="e-popup-content",At="e-popup-footer",Et="e-date-time-details",Ot="e-recurrence-summary",xt="e-event-details",kt="e-event-create",Vt="e-event-edit",Mt="e-event-delete",Rt="e-text-ellipsis",It="e-more-popup-wrapper",Pt="e-more-event-popup",Lt="e-more-event-header",jt="e-more-event-date-header",Ht="e-header-day",Ft="e-header-date",Bt="e-more-event-close",qt="e-more-event-content",Wt="e-more-appointment-wrapper",Xt="e-quick-dialog",Nt="e-quick-dialog-occurrence-event",Ut="e-quick-dialog-series-event",zt="e-quick-dialog-following-events",Yt="e-following-events-dialog",_t="e-quick-dialog-delete",Jt="e-quick-dialog-cancel",Qt="e-quick-alertok",Gt="e-quick-alertcancel",Kt="e-quick-alertfollowing",$t="e-quick-dialog-alert-btn",Zt="e-schedule-dialog",ei="e-form-container",ti="e-schedule-form",ii="e-all-day-time-zone-row",ni="e-all-day",ri="e-time-zone",ai="e-time-zone-icon",si="e-time-zone-details",oi="e-repeat-parent-row",li="e-repeat",hi="e-title-location-row",ci="e-subject",pi="e-location",ui="e-location-icon",di="e-location-details",vi="e-start-end-row",mi="e-start",gi="e-end",fi="e-resources-row",yi="e-description",Ti="e-description-icon",wi="e-description-details",Di="e-time-zone-row",bi="e-start-time-zone",Ci="e-end-time-zone",Si="e-back-icon",Ai="e-save-icon",Ei="e-event-cancel",Oi="e-event-save",xi="e-dialog-parent",ki="e-title-text",Vi="e-icon-disable",Mi="e-edit",Ri="e-edit-icon",Ii="e-delete",Pi="e-delete-icon",Li="e-close",ji="e-close-icon",Hi="e-schedule-error",Fi="e-schedule-event-tooltip",Bi="e-animate",qi="e-timescale-disable",Wi="e-disable-date",Xi="e-hidden",Ni="e-disable-dates",Ui="e-quick-popup-wrapper",zi="e-popup-table",Yi="e-resource-menu",_i="e-icon-menu",Ji="e-resource-level-title",Qi="e-resource-tree",Gi="e-resource-tree-popup-overlay",Ki="e-resource-tree-popup",$i="e-resource",Zi="e-resource-icon",en="e-resource-details",tn="e-date-time-icon",nn="e-virtual-scroll",rn="e-icon-disable",an="e-auto-height",sn="e-ignore-whitespace",on="e-template",ln="e-read-only",hn="e-month-header-wrapper",cn="e-inline-subject",pn="e-inline-appointment",un="e-scroll-hidden",dn="e-all-day-scroll",vn="e-all-day-auto"},1856:(e,t,i)=>{i.d(t,{EM:()=>o,F_:()=>O,Fr:()=>I,GO:()=>a,GQ:()=>M,J:()=>x,JC:()=>f,OI:()=>y,P$:()=>k,PS:()=>D,Pc:()=>P,QW:()=>v,S7:()=>A,WZ:()=>m,ec:()=>s,ed:()=>r,fI:()=>p,fi:()=>w,gS:()=>V,hw:()=>b,iX:()=>l,ib:()=>g,lZ:()=>c,mD:()=>u,n:()=>S,nw:()=>L,oq:()=>h,pc:()=>R,sG:()=>d,so:()=>T});var n=i(8452),r=7,a=6,s=864e5,o=6e4;function l(e,t){var i,r=(0,n.n)("div",{className:t}).cloneNode();return r.style.visibility="hidden",r.style.position="absolute",e.appendChild(r),i=r.getBoundingClientRect().height,(0,n.TF)(r),i}function h(e){var t=getComputedStyle(e);return window.WebKitCSSMatrix?new WebKitCSSMatrix(t.webkitTransform).m42:0}function c(e,t){var i=new Date(e.getTime());return t=(t-i.getDay()-7)%7,new Date(i.setDate(i.getDate()+t))}function p(e,t){var i=c(e,t),n=new Date(i.getFullYear(),i.getMonth(),i.getDate()+6);return new Date(n.getTime())}function u(e){return new Date(e.getFullYear(),e.getMonth(),1)}function d(e){return new Date(e.getFullYear(),e.getMonth()+1,0)}function v(e){var t=new Date(e.getFullYear(),0,1).valueOf(),i=(new Date(e.getFullYear(),e.getMonth(),e.getDate()).valueOf()-t+s)/s;return Math.ceil(i/7)}function m(e,t){return new Date(t.valueOf()-(t.valueOf()-e.valueOf())/2)}function g(e,t){var i=e.getTimezoneOffset(),n=new Date(e.getTime()+t),r=n.getTimezoneOffset()-i;return e.setTime(n.getTime()+r*o),e}function f(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate())}function y(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0).getTimezoneOffset(),i=e.getTimezoneOffset()-t;return e.getTime()-new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0).getTime()-60*i*1e3}function T(e,t){return Math.ceil((t.getTime()-e.getTime())/s)}function w(e,t){return e=new Date(""+e),new Date(e.setDate(e.getDate()+t))}function D(e,t){var i=(e=new Date(""+e)).getDate();return e.setDate(1),e.setMonth(e.getMonth()+t),e.setDate(Math.min(i,C(e))),e}function b(e,t,i){var n=new Date(e.getTime());n.setHours(t.getHours()),n.setMinutes(t.getMinutes()),n.setSeconds(t.getSeconds());var r=new Date(e.getTime());return 0===i.getHours()?r=w(r,1):(r.setHours(i.getHours()),r.setMinutes(i.getMinutes()),r.setSeconds(i.getSeconds())),{startHour:n,endHour:r}}function C(e){return d(e).getDate()}function S(e,t){var i=f(new Date(e)),n=f(new Date(t));return Math.round((n.getTime()-i.getTime())/s)}function A(e){return-1!==e.indexOf("Date")?new Date(parseInt(e.match(/\d+/g).toString(),10)):-1!==e.indexOf("T")?new Date(e):new Date(e.replace(/-/g,"/"))}var E=null;function O(){if(null!==E)return E;var e,t=(0,n.n)("div");t.style.cssText="width:100px;height: 100px;overflow: scroll;position: absolute;top: -9999px;",document.body.appendChild(t);var i=devicePixelRatio?"1.10"===devicePixelRatio.toFixed(2)||devicePixelRatio<=1?Math.ceil(devicePixelRatio%1):Math.floor(devicePixelRatio%1):0;return e=t.offsetWidth-t.clientWidth-i|0,document.body.removeChild(t),E=e}function x(e,t,i,n,r){for(var a=0,s=e.length;a<s;a++)if(e[a][t]===i){if(!n)return a;var o=r.slice(-2)[0].field;if((n[o]instanceof Array?n[o]:[n[o]]).join(",").includes(e[a][r.slice(-1)[0].groupIDField]))return a}return-1}function k(e){var t=getComputedStyle(e);return e.offsetHeight+(parseInt(t.marginTop,10)||0)+(parseInt(t.marginBottom,10)||0)}function V(e){for(var t=0,i=[].slice.call(e.children);t<i.length;t++){var n=i[t];n.classList.contains("blazor-template")||e.removeChild(n)}}function M(e){var t=new Date(e.getFullYear(),0,1),i=new Date(e.getFullYear(),6,1);return e.getTimezoneOffset()<Math.max(t.getTimezoneOffset(),i.getTimezoneOffset())}function R(e){var t=e.getFullYear(),i=e.getMonth(),n=e.getDate(),r=e.getHours(),a=e.getMinutes(),s=e.getSeconds(),o=e.getMilliseconds();return Date.UTC(t,i,n,r,a,s,o)}function I(){return window.navigator.userAgent.toLowerCase().indexOf("mobi")>-1}function P(){return window.navigator.userAgent.toLowerCase().indexOf("ipad")>-1}function L(e,t){if("multiple"===t)e=e.split(" ").map((function(e){return e.charAt(0).toLocaleUpperCase()+e.substring(1)})).join(" ");else if("single"===t){if(e[0]>="0"&&e[0]<="9"){var i=e.match(/[a-zA-Z]/);e=(0,n.hX)(i)?e:e.slice(0,i.index)+e[i.index].toLocaleUpperCase()+e.slice(i.index+1)}e=e[0].toLocaleUpperCase()+e.slice(1)}return e}},5893:(e,t,i)=>{i.d(t,{_:()=>c});var n=i(8452),r=i(4455),a=i(9064),s=i(1489),o=i(1856),l=i(9382),h=i(4144),c=function(){function e(e){this.slots=[],this.isDoubleTapped=!1,this.parent=e}return e.prototype.processData=function(e,t,i){var r=this,a=this.parent.activeView.startDate(),s=this.parent.activeView.endDate(),l=this.parent.eventFields,h=[],c=1,p=!1,u=this.parent.resourceBase?this.parent.resourceBase.resourceCollection:[];e.length>0&&(0,n.hX)(e[0][l.id])&&(p=!0);for(var d=function(e){p&&(e[l.id]=c++),e=v.updateEventDateTime(e),t?v.processTimezoneChange(e,i):v.parent.isPrinting||v.parent.uiStateValues.isResize||(e=v.processTimezone(e));for(var a=0;a<u.length;a++)null!==e[u[a].field]&&0!==e[u[a].field]||(e[u[a].field]=void 0);if((0,n.hX)(e[l.recurrenceRule])||""!==e[l.recurrenceRule]||(e[l.recurrenceRule]=null),(0,n.hX)(e[l.recurrenceRule])||!(0,n.hX)(e[l.recurrenceID])||v.parent.crudModule&&v.parent.crudModule.crudObj.isCrudAction)if(v.parent.crudModule&&v.parent.crudModule.crudObj.isCrudAction)if(!(0,n.hX)(e[l.recurrenceRule])&&(0,n.hX)(e[l.recurrenceID]))for(var s=function(e){var t=v.parent.eventsProcessed.filter((function(t){return t[l.startTime].getTime()-e[l.startTime].getTime()===0&&t[l.id]===e[l.id]}));e.Guid=t.length>0?t[0].Guid:v.generateGuid(),h.push(e)},o=0,d=v.generateOccurrence(e,null,i,!0);o<d.length;o++){s(d[o])}else{var m=v.parent.eventsProcessed.filter((function(t){return t[r.parent.eventFields.id]===e[r.parent.eventFields.id]}));e.Guid=m.length>0?m[0].Guid:v.generateGuid(),h.push(e)}else e.Guid=v.generateGuid(),h.push(e);else h=h.concat(v.generateOccurrence(e,null,i,!0))},v=this,m=0,g=e;m<g.length;m++){d(g[m])}this.parent.eventsProcessed=[];var f=h.filter((function(e){return!e[r.parent.eventFields.isBlock]}));this.parent.eventsProcessed=this.filterEvents(a,s,f);for(var y=h.filter((function(e){return e[r.parent.eventFields.isBlock]})),T=0,w=y;T<w.length;T++){var D=w[T];if(D[l.isAllDay])o.JC(new Date(D[l.startTime].getTime()))<o.JC(new Date(D[l.endTime].getTime()))||(D[l.startTime]=o.JC(D[l.startTime]),D[l.endTime]=o.fi(o.JC(D[l.endTime]),1))}return this.parent.blockProcessed=y,f},e.prototype.updateEventDateTime=function(e){return"string"===typeof e[this.parent.eventFields.startTime]&&(e[this.parent.eventFields.startTime]=o.S7(e[this.parent.eventFields.startTime])),"string"===typeof e[this.parent.eventFields.endTime]&&(e[this.parent.eventFields.endTime]=o.S7(e[this.parent.eventFields.endTime])),e},e.prototype.getProcessedEvents=function(e){void 0===e&&(e=this.parent.eventsData);for(var t=[],i=0,r=e;i<r.length;i++){var a=r[i];!(0,n.hX)(a[this.parent.eventFields.recurrenceRule])&&(0,n.hX)(a[this.parent.eventFields.recurrenceID])?t=t.concat(this.generateOccurrence(a)):t.push(a)}return t},e.prototype.timezonePropertyChange=function(e){var t=this.parent.eventsData.concat(this.parent.blockData),i=this.processData(t,!0,e);this.parent.notify(h.yU,{processedData:i})},e.prototype.timezoneConvert=function(e){var t=this.parent.eventFields;if(e[t.startTimezone]=e[t.startTimezone]||e[t.endTimezone],e[t.endTimezone]=e[t.endTimezone]||e[t.startTimezone],this.parent.timezone){var i=e[t.startTimezone],n=e[t.endTimezone];e[t.startTime]=this.parent.tzModule.convert(e[t.startTime],this.parent.timezone,i),e[t.endTime]=this.parent.tzModule.convert(e[t.endTime],this.parent.timezone,n)}},e.prototype.processTimezoneChange=function(e,t){var i=this.parent.eventFields;e[i.isAllDay]||(t&&this.parent.timezone?(e[i.startTime]=this.parent.tzModule.convert(e[i.startTime],t,this.parent.timezone),e[i.endTime]=this.parent.tzModule.convert(e[i.endTime],t,this.parent.timezone)):!t&&this.parent.timezone?(e[i.startTime]=this.parent.tzModule.add(e[i.startTime],this.parent.timezone),e[i.endTime]=this.parent.tzModule.add(e[i.endTime],this.parent.timezone)):t&&!this.parent.timezone&&(e[i.startTime]=this.parent.tzModule.remove(e[i.startTime],t),e[i.endTime]=this.parent.tzModule.remove(e[i.endTime],t)))},e.prototype.processTimezone=function(e,t){void 0===t&&(t=!1);var i=this.parent.eventFields;if(e[i.startTimezone]||e[i.endTimezone]){var n=e[i.startTimezone]||e[i.endTimezone],r=e[i.endTimezone]||e[i.startTimezone];t?this.parent.timezone?(e[i.startTime]=this.parent.tzModule.convert(e[i.startTime],n,this.parent.timezone),e[i.endTime]=this.parent.tzModule.convert(e[i.endTime],r,this.parent.timezone),e[i.startTime]=this.parent.tzModule.remove(e[i.startTime],this.parent.timezone),e[i.endTime]=this.parent.tzModule.remove(e[i.endTime],this.parent.timezone)):(e[i.startTime]=this.parent.tzModule.remove(e[i.startTime],n),e[i.endTime]=this.parent.tzModule.remove(e[i.endTime],r)):(e[i.startTime]=this.parent.tzModule.add(e[i.startTime],n),e[i.endTime]=this.parent.tzModule.add(e[i.endTime],r),this.parent.timezone&&(e[i.startTime]=this.parent.tzModule.convert(e[i.startTime],n,this.parent.timezone),e[i.endTime]=this.parent.tzModule.convert(e[i.endTime],r,this.parent.timezone)))}else this.parent.timezone&&(t?(e[i.startTime]=this.parent.tzModule.remove(e[i.startTime],this.parent.timezone),e[i.endTime]=this.parent.tzModule.remove(e[i.endTime],this.parent.timezone)):(e[i.startTime]=this.parent.tzModule.add(e[i.startTime],this.parent.timezone),e[i.endTime]=this.parent.tzModule.add(e[i.endTime],this.parent.timezone)));return e},e.prototype.filterBlockEvents=function(e){var t,i=this.parent.eventFields,r=e[i.startTime],a=e[i.endTime];if(this.parent.activeViewOptions.group.resources.length>0){var s=this.getGroupIndexFromEvent(e);t=this.parent.resourceBase.lastResourceLevel[s]}for(var l=(0,n.X$)([],this.parent.blockProcessed,null,!0),h=0,c=l;h<c.length;h++){var p=c[h];if(p[i.isAllDay])p[i.endTime].getTime()>o.JC(new Date(p[i.endTime].getTime())).getTime()&&(p[i.startTime]=o.JC(p[i.startTime]),p[i.endTime]=o.fi(o.JC(p[i.endTime]),1))}return this.filterEvents(r,a,l,t)},e.prototype.filterEvents=function(e,t,i,n){void 0===i&&(i=this.parent.eventsProcessed);var s=this.parent.eventFields,o=new r.m(s.startTime,"greaterthanorequal",e).and(new r.m(s.endTime,"greaterthanorequal",e)).and(new r.m(s.startTime,"lessthan",t)).or(new r.m(s.startTime,"lessthanorequal",e).and(new r.m(s.endTime,"greaterthan",e))),l=new a.M({json:i}).executeLocal((new r.X).where(o));return n&&(l=this.filterEventsByResource(n,l)),this.sortByTime(l)},e.prototype.filterEventsByRange=function(e,t,i){var n=this,r=[];return r=t&&i?this.filterEvents(t,i,e):t&&!i?e.filter((function(e){return e[n.parent.eventFields.startTime]>=t})):!t&&i?e.filter((function(e){return e[n.parent.eventFields.endTime]<=i})):e,this.sortByTime(r)},e.prototype.filterEventsByResource=function(e,t){void 0===t&&(t=this.parent.eventsProcessed);for(var i={},n=this.parent.resourceBase.resourceCollection,r=0;r<n.length;r++)i[n[r].field]=e.groupOrder[r];var a=Object.keys(i);return t.filter((function(e){return a.every((function(t){return e[t]instanceof Array?e[t].indexOf(i[t])>-1:e[t]===i[t]}))}))},e.prototype.sortByTime=function(e){if(this.parent.eventSettings.sortComparer)e=this.parent.eventSettings.sortComparer.call(this.parent,e);else{var t=this.parent.eventFields;e.sort((function(e,i){var n=e[t.startTime],r=i[t.startTime];return n.getTime()-r.getTime()}))}return e},e.prototype.sortByDateTime=function(e){if(this.parent.eventSettings.sortComparer)e=this.parent.eventSettings.sortComparer.call(this.parent,e);else{var t=this.parent.eventFields;e.sort((function(e,i){var n=e[t.startTime],r=i[t.startTime],a=e[t.endTime],s=i[t.endTime],o=a.getTime()-n.getTime(),l=s.getTime()-r.getTime();return n.getTime()-r.getTime()||l-o}))}return e},e.prototype.getSmallestMissingNumber=function(e){for(var t=Math.max.apply(Math,e),i=0;i<t;i++)if(-1===e.indexOf(i))return i;return t+1},e.prototype.splitEventByDay=function(e){var t=this.parent.eventFields,i=[],r=e[t.startTime],a=e[t.endTime];if(o.JC(new Date(r.getTime()))<o.JC(new Date(a.getTime())))for(var s=new Date(r.getTime()),l=o.fi(o.JC(new Date(r.getTime())),1),h=0===a.getHours()&&0===a.getMinutes()?a:o.fi(a,1),c=1,p=o.n(r.getTime(),h.getTime());l<=a&&s.getTime()!==l.getTime();){var u=(0,n.X$)({},e);u[t.startTime]=s,u[t.endTime]=l,u.data={index:c,count:p},u.Guid=this.generateGuid(),u.isSpanned=!0,i.push(u),s=l,o.JC(new Date(s.getTime())).getTime()===o.JC(new Date(a.getTime())).getTime()&&l.getTime()!==a.getTime()?(l=new Date(s.getTime()),l=new Date(l.setHours(a.getHours(),a.getMinutes(),a.getSeconds()))):l=o.fi(o.JC(new Date(s.getTime())),1),c++}else i.push(e);return i},e.prototype.splitEvent=function(e,t){var i=this.parent.eventFields,r=o.JC(e[i.startTime]).getTime(),a=o.JC(e[i.endTime]).getTime();o.OI(e[i.endTime])<=0&&(a=r>(D=o.fi(o.JC(e[i.endTime]),-1).getTime())?r:D);var s=r,l=a,h=[];if(r!==a){r<t[0].getTime()&&(r=t[0].getTime()),a>t[t.length-1].getTime()&&(a=t[t.length-1].getTime());for(var c=r,p=0;p<this.slots.length;p++){var u=this.slots[p];if("WorkWeek"===this.parent.currentView||"TimelineWorkWeek"===this.parent.currentView||this.parent.activeViewOptions.group.byDate||this.parent.activeViewOptions.showWeekend){for(var d=[],v=0,m=u;v<m.length;v++){var g=m[v];d.push(new Date(g))}var f=this.getRenderedDates(d);if(!(0,n.hX)(f)&&f.length>0){u=[];for(var y=0,T=f;y<T.length;y++){var w=T[y];u.push(w.getTime())}}}if("number"===typeof u){var D=u;(u=[]).push(D)}var b=u[0];if((c=c<=b&&a>=b?b:c)>a||b>a)break;if(!this.parent.activeViewOptions.group.byDate&&this.parent.activeViewOptions.showWeekend&&"WorkWeek"!==this.parent.currentView&&"TimelineWorkWeek"!==this.parent.currentView){var C=u.indexOf(c);if(-1!==C){var S=u.indexOf(a),A=-1!==S,E=(S=A?S:u.length-1)-C+1,O=u[C]!==s,x=u[S]!==l;if(h.push(this.cloneEventObject(e,u[C],u[S],E,O,x)),A)break}}else if(this.dateInRange(c,u[0],u[u.length-1])){for(var k=[],V=0;V<u.length;V++)this.dateInRange(u[V],s,l)&&k.push(u[V]);if(k.length>0)if(this.parent.activeViewOptions.group.byDate)for(var M=0,R=k;M<R.length;M++){var I=R[M];h.push(this.cloneEventObject(e,I,I,1,I!==s,I!==l))}else{O=k[0]!==s,x=k[k.length-1]!==l;h.push(this.cloneEventObject(e,k[0],k[k.length-1],k.length,O,x))}}}}else h.push(this.cloneEventObject(e,r,a,1,!1,!1));return h},e.prototype.cloneEventObject=function(e,t,i,r,a,s){var o=this.parent.eventFields,l=(0,n.X$)({},e,null,!0),h={count:r,isLeft:a,isRight:s};return h[o.startTime]=e[o.startTime],h[o.endTime]=e[o.endTime],l.data=h,l[o.startTime]=new Date(t),l[o.endTime]=new Date(i),l},e.prototype.dateInRange=function(e,t,i){return t<=e&&e<=i},e.prototype.getSelectedEventElements=function(e){if(this.removeSelectedAppointmentClass(),this.parent.selectedElements.length<=0)this.parent.selectedElements.push(e);else{var t=this.parent.selectedElements.filter((function(t){return t.getAttribute("data-guid")===e.getAttribute("data-guid")}));if(t.length<=0)for(var i='div[data-guid="'+e.getAttribute("data-guid")+'"]',n=0,r=[].slice.call(this.parent.element.querySelectorAll(i));n<r.length;n++){var a=r[n];this.parent.selectedElements.push(a)}else{var s=this.parent.selectedElements.filter((function(t){return t.getAttribute("data-guid")!==e.getAttribute("data-guid")}));this.parent.selectedElements=s}}return e&&this.parent.selectedElements.length>0&&this.addSelectedAppointments(this.parent.selectedElements),this.parent.selectedElements},e.prototype.getSelectedEvents=function(){var e=this,t=[],i=[];return[].slice.call(this.parent.element.querySelectorAll("."+l.DvD)).filter((function(n){0===t.filter((function(e){return e.Guid===n.getAttribute("data-guid")})).length&&t.push(e.getEventByGuid(n.getAttribute("data-guid"))),i.push(n)})),{event:t.length>1?t:t[0],element:i.length>1?i:i[0]}},e.prototype.removeSelectedAppointmentClass=function(){for(var e=this.getSelectedAppointments(),t=0,i=e;t<i.length;t++){i[t].setAttribute("aria-selected","false")}(0,n.vy)(e,l.DvD),"Agenda"!==this.parent.currentView&&"MonthAgenda"!==this.parent.currentView||(0,n.vy)(e,l.aIT)},e.prototype.addSelectedAppointments=function(e){for(var t=0,i=e;t<i.length;t++){i[t].setAttribute("aria-selected","true")}"MonthAgenda"!==this.parent.currentView&&this.parent.removeSelectedClass(),(0,n.iQ)(e,l.DvD)},e.prototype.getSelectedAppointments=function(){return[].slice.call(this.parent.element.querySelectorAll("."+l.DvD+",."+l.Dj+":focus"))},e.prototype.focusElement=function(e){if(!this.parent.eventWindow.dialogObject||!this.parent.eventWindow.dialogObject.visible){var t=document.activeElement,i=this.parent.getSelectedElements();if(i.length>0&&(t&&(this.parent.element.contains(t)||-1!==i.indexOf(t))||e)){if(this.parent.keyboardInteractionModule){var r=!(0,n.hX)(this.parent.activeCellsData)&&this.parent.activeCellsData.element||i[i.length-1];this.parent.keyboardInteractionModule.selectCells(r instanceof Array,r)}}else{var a=this.getSelectedAppointments();a.length>0&&a[a.length-1].focus()}}},e.prototype.selectWorkCellByTime=function(e){var t;if("Agenda"===this.parent.currentView||"MonthAgenda"===this.parent.currentView)return t;if(e.length>0){var i=e[e.length-1],n=i[this.parent.eventFields.startTime],r=new Date(+n).setMinutes(0,0,0),a=this.isAllDayAppointment(i);("Month"===this.parent.currentView||a)&&(r=new Date(+n).setHours(0,0,0,0));var s=void 0;s=a&&-1!==["Day","Week","WorkWeek"].indexOf(this.parent.currentView)?this.parent.getAllDayRow():this.parent.getContentTable();var o='[data-date="'+new Date(r).getTime()+'"]';if(this.parent.activeViewOptions.group.resources.length>0&&(o+='[data-group-index="'+this.getGroupIndexFromEvent(i)+'"]'),t=s.querySelector(o))return this.parent.activeCellsData=this.parent.getCellDetails(t),this.parent.keyboardInteractionModule&&this.parent.keyboardInteractionModule.selectCells(!1,t),t}return t},e.prototype.getGroupIndexFromEvent=function(e){for(var t,i,r,a,s=this.parent.resourceBase.resourceCollection.length-1;s>=0;s--){var o=e[this.parent.resourceBase.resourceCollection[s].field];if(!(0,n.hX)(o)){i=this.parent.resourceBase.resourceCollection[s],t=s,r=i.name,a=i.field;break}}(0,n.hX)(r)&&(0,n.hX)(t)&&(r=this.parent.resourceCollection.slice(-1)[0].name,t=this.parent.resourceCollection.length-1,a=this.parent.resourceCollection.slice(-1)[0].field,i=this.parent.resourceCollection.filter((function(e,i){return e.name===r?(t=i,e):null}))[0]);var l=e[a]instanceof Array?e[a][0]:e[a];if(t>0){var h=this.parent.resourceCollection[t-1].field;return this.parent.resourceBase.getIndexFromResourceId(l,r,i,e,h)}return this.parent.resourceBase.getIndexFromResourceId(l,r,i)},e.prototype.isAllDayAppointment=function(e){var t=this.parent.eventFields,i=e[t.isAllDay],n=(e[t.endTime].getTime()-e[t.startTime].getTime())/o.ec>=1;return!!(i||"TimeSlot"!==this.parent.eventSettings.spannedEventPlacement&&n)},e.prototype.addEventListener=function(){this.parent.on(h.GU,this.appointmentBorderRemove,this)},e.prototype.removeEventListener=function(){this.parent.off(h.GU,this.appointmentBorderRemove)},e.prototype.appointmentBorderRemove=function(e){var t=e.event.target;(0,n.kp)(t,"."+l.Dj)?"MonthAgenda"!==this.parent.currentView&&this.parent.removeSelectedClass():(0,n.kp)(t,"."+l.g6H)||this.removeSelectedAppointmentClass()},e.prototype.wireAppointmentEvents=function(e,t,i){void 0===i&&(i=!1);var r=!(0,n.hX)(t)&&t[this.parent.eventFields.isReadonly];n.Jm.add(e,"click",this.eventClick,this),this.parent.isAdaptive||this.parent.activeViewOptions.readonly||r||(n.Jm.add(e,"touchstart",this.eventTouchClick,this),n.Jm.add(e,"dblclick",this.eventDoubleClick,this)),this.parent.activeViewOptions.readonly||r||i||(this.parent.resizeModule&&this.parent.resizeModule.wireResizeEvent(e),this.parent.dragAndDropModule&&this.parent.dragAndDropModule.wireDragEvent(e))},e.prototype.eventTouchClick=function(e){var t=this;setTimeout((function(){return t.isDoubleTapped=!1}),250),e.preventDefault(),this.isDoubleTapped?this.eventDoubleClick(e):this.isDoubleTapped||(this.isDoubleTapped=!0,this.eventClick(e))},e.prototype.renderResizeHandler=function(e,t,i){if(this.parent.resizeModule&&this.parent.allowResizing&&!this.parent.activeViewOptions.readonly&&!i)for(var r=0,a=Object.keys(t);r<a.length;r++){var s=a[r],o=(0,n.n)("div",{className:l.tFF});switch(s){case"isLeft":t.isLeft||(o.appendChild((0,n.n)("div",{className:"e-left-right-resize"})),(0,n.iQ)([o],this.parent.enableRtl?l.XRk:l.y5o),(0,n.Hs)([o],e));break;case"isRight":t.isRight||(o.appendChild((0,n.n)("div",{className:"e-left-right-resize"})),(0,n.iQ)([o],this.parent.enableRtl?l.y5o:l.XRk),(0,n.BC)([o],e));break;case"isTop":t.isTop||(o.appendChild((0,n.n)("div",{className:"e-top-bottom-resize"})),(0,n.iQ)([o],l.E6c),(0,n.Hs)([o],e));break;case"isBottom":t.isBottom||(o.appendChild((0,n.n)("div",{className:"e-top-bottom-resize"})),(0,n.iQ)([o],l.k7R),(0,n.BC)([o],e))}}},e.prototype.eventClick=function(e){var t=this,i=e.target;if(!(i.classList.contains(l.i9j)||i.classList.contains(l.OOo)||i.classList.contains(l.Uvf)))if((e.ctrlKey||e.metaKey)&&1===e.which&&this.parent.keyboardInteractionModule){this.parent.quickPopup.quickPopup.hide(),this.parent.selectedElements=[].slice.call(this.parent.element.querySelectorAll("."+l.DvD));var r=(0,n.kp)(e.target,"."+l.Dj);this.getSelectedEventElements(r),this.activeEventData(e,!1);var a={data:this.parent.activeEventData.event,element:this.parent.activeEventData.element,event:e,requestType:"eventSelect"};this.parent.trigger(h.Lt,a);var s=(0,n.X$)(this.parent.activeEventData,{cancel:!1,originalEvent:e});this.parent.trigger(h.JW,s)}else{this.removeSelectedAppointmentClass(),this.activeEventData(e,!0);var o={data:this.parent.activeEventData.event,element:this.parent.activeEventData.element,event:e,requestType:"eventSelect"};this.parent.trigger(h.Lt,o);s=(0,n.X$)(this.parent.activeEventData,{cancel:!1,originalEvent:e});this.parent.trigger(h.JW,s,(function(e){if(e.cancel)t.removeSelectedAppointmentClass(),t.parent.quickPopup&&t.parent.quickPopup.quickPopupHide();else if("Agenda"!==t.parent.currentView&&"MonthAgenda"!==t.parent.currentView||(0,n.iQ)([t.parent.activeEventData.element],l.aIT),t.parent.allowInline){var i={data:e.event,element:e.element,type:"Event"};t.parent.notify(h.K4,i)}else t.parent.notify(h.JW,e)}))}},e.prototype.eventDoubleClick=function(e){this.parent.quickPopup&&this.parent.quickPopup.quickPopupHide(!0),"touchstart"===e.type&&this.activeEventData(e,!0),this.removeSelectedAppointmentClass(),this.parent.activeEventData.element.classList.contains(l.T$e)||this.parent.activeEventData.element.querySelector("."+l.Uvf)||(!(0,n.hX)(this.parent.activeEventData.event)&&(0,n.hX)(this.parent.activeEventData.event[this.parent.eventFields.recurrenceID])?this.parent.eventWindow.openEditor(this.parent.activeEventData.event,"Save"):(this.parent.currentAction="EditOccurrence",this.parent.quickPopup.openRecurrenceAlert()))},e.prototype.getEventByGuid=function(e){return this.parent.eventsProcessed.filter((function(t){return t.Guid===e}))[0]},e.prototype.getEventById=function(e){var t=this;return this.parent.eventsData.filter((function(i){return i[t.parent.eventFields.id]===e}))[0]},e.prototype.generateGuid=function(){return"xyxxxxyx-xxxy-yxxx-xyxx-xxyxxxxyyxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},e.prototype.getEventIDType=function(){return 0!==this.parent.eventsData.length?typeof this.parent.eventsData[0][this.parent.eventFields.id]:0!==this.parent.blockData.length?typeof this.parent.blockData[0][this.parent.eventFields.id]:"string"},e.prototype.getEventMaxID=function(e){var t,i=this;if(this.parent.eventsData.length<1&&this.parent.blockData.length<1)return 1;var r=this.getEventIDType();if("string"===r&&(t=this.generateGuid()),"number"===r){var a=this.parent.eventsData.concat(this.parent.blockData),s=Math.max.apply(Math,a.map((function(e){return e[i.parent.eventFields.id]})));t=(s=(0,n.hX)(e)?s:s+e)+1}return t},e.prototype.activeEventData=function(e,t){var i=this,r=(0,n.kp)(e.target,"."+l.Dj),a=r.getAttribute("data-guid");t&&(this.addSelectedAppointments([].slice.call(this.parent.element.querySelectorAll('div[data-guid="'+a+'"]'))),r.focus());var s=this.getEventByGuid(a);s&&s.isSpanned&&(s=this.parent.eventsData.filter((function(e){return e[i.parent.eventFields.id]===s[i.parent.eventFields.id]}))[0]),this.parent.activeEventData={event:s,element:r}},e.prototype.generateOccurrence=function(e,t,i,r){var a=e[this.parent.eventFields.startTime],l=e[this.parent.eventFields.endTime],h=e[this.parent.eventFields.recurrenceRule],c=l.getTime()-a.getTime();t=new Date((t||this.parent.activeView.startDate()).getTime()-c);var p,u=e[this.parent.eventFields.recurrenceException];"Agenda"!==this.parent.currentView&&r&&(p=o.so(this.parent.activeView.startDate(),this.parent.activeView.endDate())+1);var d=this.parent.timezone||this.parent.tzModule.getLocalTimezoneName(),v=this.parent.activeViewOptions.firstDayOfWeek,m=this.parent.calendarMode,g=(0,s.cM)(a,h,u,v,p,t,m,i,d);"Agenda"===this.parent.currentView&&-1===h.indexOf("COUNT")&&-1===h.indexOf("UNTIL")&&((0,n.hX)(e.generatedDates)?e.generatedDates={start:new Date(g[0]),end:new Date(g[g.length-1])}:(g[0]<e.generatedDates.start.getTime()&&(e.generatedDates.start=new Date(g[0])),g[g.length-1]>e.generatedDates.end.getTime()&&(e.generatedDates.end=new Date(g[g.length-1]))));for(var f=[],y=0,T=g;y<T.length;y++){var w=T[y],D=(0,n.X$)({},e,null,!0);D[this.parent.eventFields.startTime]=new Date(w),D[this.parent.eventFields.endTime]=new Date(new Date(w).setMilliseconds(c)),D[this.parent.eventFields.recurrenceID]=D[this.parent.eventFields.id],delete D[this.parent.eventFields.recurrenceException],delete D[this.parent.eventFields.followingID],D.Guid=this.generateGuid(),f.push(D)}return f},e.prototype.getParentEvent=function(e,t){var i;void 0===t&&(t=!1);do{(e=this.getFollowingEvent(e))&&(i=(0,n.X$)({},e,null,!0))}while(e&&t);if(t&&i){var r=this.getEventCollections(i),a=r.follow.slice(-1)[0];r.occurrence.length>0&&!i[this.parent.eventFields.recurrenceException]&&(a=r.occurrence.slice(-1)[0]),a&&(i[this.parent.eventFields.recurrenceRule]=a[this.parent.eventFields.recurrenceRule])}return i},e.prototype.getEventCollections=function(e,t){var i=[],n=[],r=e;do{(r=this.getFollowingEvent(r,!0))&&i.push(r),n=n.concat(this.getOccurrenceEvent(r||e))}while(r);var a={};if(t){var s=this.parent.eventFields;a={follow:i.filter((function(e){return e[s.startTime]>=t[s.startTime]})),occurrence:n.filter((function(e){return e[s.startTime]>=t[s.startTime]}))}}else a={follow:i,occurrence:n};return a},e.prototype.getFollowingEvent=function(e,t){var i,n=this.parent.eventFields;return i=t?e[n.id]:e[n.recurrenceID]||e[n.followingID],this.parent.eventsData.filter((function(e){return e[t?n.followingID:n.id]===i})).shift()},e.prototype.isFollowingEvent=function(e,t){var i=e[this.parent.eventFields.startTime],n=t[this.parent.eventFields.startTime];return i.getHours()===n.getHours()&&i.getMinutes()===n.getMinutes()&&i.getSeconds()===n.getSeconds()},e.prototype.getOccurrenceEvent=function(e,t,i){void 0===t&&(t=!1),void 0===i&&(i=!1);var n=t?"Guid":i?this.parent.eventFields.followingID:this.parent.eventFields.recurrenceID,r=t?"Guid":this.parent.eventFields.id;return(t?this.parent.eventsProcessed:this.parent.eventsData).filter((function(t){return t[n]===e[r]}))},e.prototype.getOccurrencesByID=function(e){for(var t=this.parent.eventFields,i=[],r=0,a=this.parent.eventsData.filter((function(i){return i[t.id]===e}));r<a.length;r++){var s=a[r];(0,n.hX)(s[t.recurrenceRule])||(i=i.concat(this.generateOccurrence(s)))}return i},e.prototype.getOccurrencesByRange=function(e,t){for(var i=this.parent.eventFields,r=[],a=0,s=this.parent.eventsData;a<s.length;a++){var o=s[a];(0,n.hX)(o[i.recurrenceRule])||(r=r.concat(this.generateOccurrence(o)))}return r.filter((function(r){return r[i.startTime]>=e&&r[i.endTime]<=t&&!(0,n.hX)(r[i.recurrenceID])}))},e.prototype.getDeletedOccurrences=function(e){var t,i=this.parent.eventFields,r=[];if((t="string"===typeof e||"number"===typeof e?this.parent.eventsData.filter((function(t){return t[i.id]===e}))[0]:(0,n.X$)({},e,null,!0))[i.recurrenceException])for(var a=t[i.recurrenceException].split(","),o=function(o,h){if(0===l.parent.eventsData.filter((function(e){return e[i.recurrenceID]===t[i.id]&&e[i.recurrenceException]===a[o]})).length){var c=(0,s.sj)(a[o]),p=(0,n.X$)({},e,null,!0);p[i.recurrenceID]=t[i.id],delete p[i.followingID],p[i.recurrenceException]=a[o];var u=new Date(c.getTime()),d=t[i.endTime].getTime()-t[i.startTime].getTime(),v=new Date(u.getTime());v.setMilliseconds(d),p[i.startTime]=new Date(u.getTime()),p[i.endTime]=new Date(v.getTime()),r.push(p)}},l=this,h=0,c=a.length;h<c;h++)o(h);return r},e.prototype.applyResourceColor=function(e,t,i,r,a){if(this.parent.resourceBase){var s=this.parent.resourceBase.getResourceColor(t,r);s&&(e.style[i]=(0,n.hX)(a)?s:function(e,t){return e=e.replace("#",""),"rgba("+parseInt(e.substring(0,e.length/3),16)+", "+parseInt(e.substring(e.length/3,2*e.length/3),16)+", "+parseInt(e.substring(2*e.length/3,3*e.length/3),16)+", "+t+")"}(s,a))}},e.prototype.createBlockAppointmentElement=function(e,t){var i,r=e[this.parent.eventFields.subject]||this.parent.eventSettings.fields.subject.default,a=(0,n.n)("div",{className:l.Fx_,attrs:{"data-id":"Appointment_"+e[this.parent.eventFields.id],"aria-readonly":"true","aria-selected":"false"}});if((0,n.hX)(this.parent.activeViewOptions.eventTemplate)){i=[(0,n.n)("div",{className:l.YrY,innerHTML:r})]}else{var s=this.parent.element.id+"_"+this.parent.activeViewOptions.eventTemplateName+"eventTemplate",o="eventTemplate"+(this.parent.activeViewOptions.group.resources.length>0&&-1===this.parent.currentView.indexOf("Year")?"_"+t:"");i=this.parent.getAppointmentTemplate()(e,this.parent,o,s,!1)}return(0,n.BC)(i,a),this.setWrapperAttributes(a,t),a},e.prototype.setWrapperAttributes=function(e,t){(0,n.hX)(this.cssClass)||(0,n.iQ)([e],this.cssClass),this.parent.activeViewOptions.group.resources.length>0&&e.setAttribute("data-group-index",t.toString())},e.prototype.getReadonlyAttribute=function(e){return(e[this.parent.eventFields.isReadonly]||this.parent.readonly).toString()},e.prototype.isBlockRange=function(e){for(var t=e instanceof Array?e:[e],i=!1,r=this.parent.eventFields,a=0,s=t;a<s.length;a++){var o=s[a],l=[];(0,n.hX)(o[r.recurrenceRule])||!(0,n.hX)(o[r.recurrenceID])&&o[r.id]!==o[r.recurrenceID]?l.push(o):l=this.generateOccurrence(o);for(var h=0,c=l;h<c.length;h++){var p=c[h];if(this.filterBlockEvents(p).length>0){i=!0;break}}}return this.parent.uiStateValues.isBlock=i,i},e.prototype.getFilterEventsList=function(e,t){return new a.M(e).executeLocal((new r.X).where(t))},e.prototype.getSeriesEvents=function(e,t){var i,a,s=this.parent.eventFields;t=(0,n.hX)(t)?e[s.startTime]:t;var o,l=[],h=e[s.id],c=e[s.followingID],p="EditSeries"===this.parent.currentAction?"greaterthan":"greaterthanorequal";do{o=new r.m(s.followingID,"equal",h).and(new r.m(s.startTime,p,t)),i=(a=this.getFilterEventsList(this.parent.eventsData,o)).slice(-1)[0],(0,n.hX)(i)||i[s.id]===c?c=null:(l.push(i),h=i[s.id],c=i[s.followingID])}while(1===a.length&&!(0,n.hX)(i[s.followingID]));return l},e.prototype.getEditedOccurrences=function(e,t){for(var i,n=this.parent.eventFields,a=[],s=0,o=e;s<o.length;s++){var l=o[s],h=new r.m(n.recurrenceID,"equal",l[n.id]).or(new r.m(n.recurrenceID,"equal",l[n.followingID]).and(new r.m(n.recurrenceID,"notequal",void 0)).and(new r.m(n.recurrenceID,"notequal",null)));"EditFollowingEvents"!==this.parent.currentAction&&"DeleteFollowingEvents"!==this.parent.currentAction||(h=h.and(new r.m(n.startTime,"greaterthanorequal",t))),i=this.getFilterEventsList(this.parent.eventsData,h),a=a.concat(i)}return a},e.prototype.getRenderedDates=function(e){var t,i=0,n=e.length;if(e[0]<this.parent.minDate&&e[e.length-1]>this.parent.maxDate){for(var r=0;r<e.length;r++)o.JC(e[r]).getTime()===o.JC(new Date(this.parent.minDate)).getTime()&&(i=r),o.JC(e[r]).getTime()===o.JC(new Date(this.parent.maxDate)).getTime()&&(n=r);t=e.filter((function(t){return t>=e[i]&&t<=e[n]}))}return t},e.prototype.isValidEvent=function(e,t,i,n){var r=i.getTime()>n.startHour.getTime()&&t.getTime()<n.endHour.getTime(),a=n.startHour.getTime()<=t.getTime()&&e[this.parent.eventFields.startTime].getTime()>=n.startHour.getTime()&&e[this.parent.eventFields.endTime].getTime()<n.endHour.getTime()&&t.getTime()===i.getTime();return r||a},e.prototype.allDayExpandScroll=function(e){var t=0;[].slice.call(this.parent.element.querySelectorAll("."+l.muR)).forEach((function(e){[].slice.call(e.children).forEach((function(e){e.style.top=t+"px"})),t+=e.offsetHeight})),t=e.offsetHeight-t,this.parent.element.querySelector("."+l.tTW).style.height=t/12+"em",this.parent.uiStateValues.expand?(0,n.iQ)([e],l.UXo):(0,n.vy)([e],l.UXo)},e.prototype.updateEventMinimumDuration=function(e,t,i){if((o.pc(i)-o.pc(t))/o.EM<this.parent.eventSettings.minimumEventDuration){var n=new Date(t);if(n.setMinutes(n.getMinutes()+this.parent.eventSettings.minimumEventDuration),(i=n).getTime()>e.endHour.getTime()){var r=new Date(e.endHour.getTime());r.setMinutes(r.getMinutes()-this.parent.eventSettings.minimumEventDuration),t=r,i=e.endHour}}return{startDate:t,endDate:i}},e.prototype.unWireEvents=function(){for(var e=0,t=[].slice.call(this.parent.element.querySelectorAll("."+l.Dj));e<t.length;e++){var i=t[e];n.Jm.clearEvents(i)}},e.prototype.destroy=function(){this.unWireEvents(),this.parent=null},e}()},4953:(e,t,i)=>{i.d(t,{l:()=>h});var n=i(8452),r=i(5893),a=i(9382),s=i(4144),o=i(1856),l=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),h=function(e){function t(t){var i=e.call(this,t)||this;return i.renderedEvents=[],i.monthHeaderHeight=0,i.moreIndicatorHeight=19,i.renderType="day",i.element=i.parent.activeView.getPanel(),i.fields=i.parent.eventFields,i.maxHeight=i.parent.eventSettings.enableMaxHeight&&!i.parent.eventSettings.enableIndicator&&!i.parent.rowAutoHeight,i.withIndicator=i.parent.eventSettings.enableMaxHeight&&i.parent.eventSettings.enableIndicator&&!i.parent.rowAutoHeight,i.maxOrIndicator=i.maxHeight||i.withIndicator,i.moreIndicatorHeight=i.parent.rowAutoHeight&&i.parent.eventSettings.ignoreWhitespace?0:i.moreIndicatorHeight,i.addEventListener(),i}return l(t,e),t.prototype.removeEventWrapper=function(e){if(e.length>0)for(var t=0,i=e="Month"===this.parent.currentView?e:[e[0]];t<i.length;t++){var r=i[t];!r.classList.contains("e-more-indicator")&&r.parentElement&&r.parentElement.parentNode&&(0,n.TF)(r.parentElement)}},t.prototype.renderAppointments=function(){this.parent.dragAndDropModule&&this.parent.dragAndDropModule.setDragArea();var e=this.parent.element.querySelector("."+a._oL);this.parent.rowAutoHeight&&(this.parent.uiStateValues.top=e.scrollTop,this.parent.uiStateValues.left=e.scrollLeft);var t=[].slice.call(this.element.querySelectorAll("."+a.RQR));if(this.parent.crudModule&&this.parent.crudModule.crudObj.isCrudAction)for(var i=0,r=this.parent.crudModule.crudObj.sourceEvent.length;i<r;i++){var l=[].slice.call(this.element.querySelectorAll('.e-appointment-wrapper [data-group-index="'+this.parent.crudModule.crudObj.sourceEvent[i].groupIndex+'"]'));if(this.removeEventWrapper(l),this.parent.crudModule.crudObj.targetEvent[i]&&this.parent.crudModule.crudObj.sourceEvent[i].groupIndex!==this.parent.crudModule.crudObj.targetEvent[i].groupIndex){var h=[].slice.call(this.element.querySelectorAll('.e-appointment-wrapper [data-group-index="'+this.parent.crudModule.crudObj.targetEvent[i].groupIndex+'"]'));this.removeEventWrapper(h)}}else for(var c=0,p=t;c<p.length;c++){var u=p[c];(0,n.TF)(u)}if(this.removeHeightProperty(a.s2p),this.element.querySelector("."+a.fv4)){if("Month"===this.parent.currentView){var d=(0,n.n)("div",{className:a.RQR}),v=this.parent.element.querySelector("."+a.fv4);v.appendChild(d),this.monthHeaderHeight=d.offsetTop-v.offsetTop,v.removeChild(d)}this.eventHeight=o.iX(this.element,a.Dj);var m=e.scrollTop;if(this.parent.rowAutoHeight&&this.parent.virtualScrollModule&&!(0,n.hX)(this.parent.currentAction)&&(e.scrollTop=e.scrollTop-1),this.parent.activeViewOptions.group.resources.length>0?(this.renderResourceEvents(),this.parent.virtualScrollModule&&this.parent.virtualScrollModule.updateFocusedWorkCell()):this.renderEventsHandler(this.parent.activeView.renderDates,this.parent.activeViewOptions.workDays),this.parent.rowAutoHeight){this.updateBlockElements();var g={cssProperties:this.parent.getCssProperties(),module:this.parent.getModuleName(),isPreventScrollUpdate:!0,scrollPosition:{left:this.parent.uiStateValues.left,top:this.parent.uiStateValues.top}};if(this.parent.virtualScrollModule&&(this.parent.currentAction?(e.scrollTop=m,this.parent.currentAction=null):this.parent.virtualScrollModule.updateVirtualScrollHeight()),this.parent.enablePersistence||this.parent.notify(s.PR,{}),this.parent.notify(s.bk,g),"Month"===this.parent.currentView&&this.parent.showWeekNumber){var f=[].slice.call(this.parent.element.querySelectorAll(".e-content-wrap table tr td:first-child"));[].slice.call(this.parent.element.querySelectorAll("."+a.cB_)).forEach((function(e,t){var i=f[t].offsetHeight;(0,n.sN)(e,{height:i+"px"})})),this.parent.element.querySelector("."+a.Wyf).scrollTop=this.parent.element.querySelector("."+a._oL).scrollTop}}this.parent.renderTemplates()}},t.prototype.renderEventsHandler=function(e,t,i){var r,s;this.renderedEvents=[];var o=0;if(i?(o=i.groupIndex,this.cssClass=i.cssClass,this.groupOrder=i.groupOrder,r=this.parent.eventBase.filterEventsByResource(i,this.parent.eventsProcessed),s=this.parent.eventBase.filterEventsByResource(i,this.parent.blockProcessed),this.workCells=[].slice.call(this.element.querySelectorAll("."+a.fv4+'[data-group-index="'+o+'"]'))):(r=this.parent.eventsProcessed,s=this.parent.blockProcessed,this.workCells=[].slice.call(this.element.querySelectorAll("."+a.fv4))),this.sortByDateTime(r),this.sortByDateTime(s),"Month"===this.parent.currentView&&this.parent.rowAutoHeight&&0===this.parent.activeViewOptions.group.resources.length){var l=[].slice.call(this.parent.element.querySelectorAll(".e-content-wrap table tr td:first-child")),h="auto"===this.parent.height?(this.parent.element.querySelector(".e-content-wrap").clientHeight+this.parent.element.querySelector(".e-date-header-wrap").clientHeight)/l.length:this.parent.element.querySelector(".e-schedule-table").clientHeight/l.length;l.forEach((function(e){(0,n.sN)(e,{height:h+"px"})}))}var c=this.workCells[this.parent.activeView.isTimelineView()?0:this.workCells.length-1].getBoundingClientRect();this.cellWidth=c.width,this.cellHeight=c.height,this.dateRender=e;var p=this.getRenderedDates(e);this.getSlotDates(t||this.parent.activeViewOptions.workDays),this.processBlockEvents(s,o,i);for(var u=0,d=r;u<d.length;u++){var v=d[u];this.parent.resourceBase&&!i&&(this.cssClass=this.parent.resourceBase.getCssClass(v));for(var m=0,g=this.splitEvent(v,p||this.dateRender);m<g.length;m++){var f=g[m];if(this.maxHeight){var y="Month"===this.parent.currentView?f[this.fields.startTime]:this.getStartTime(f,f.data);if(this.getIndex(y)>0)continue}this.updateIndicatorIcon(f),this.renderEvents(f,o,r)}}this.cssClass=null,this.groupOrder=null},t.prototype.processBlockEvents=function(e,t,i){for(var r=0,a=e;r<a.length;r++){var s=a[r];this.parent.resourceBase&&!i&&(this.cssClass=this.parent.resourceBase.getCssClass(s));var l=[];if("day"!==this.renderType||s[this.fields.isAllDay])l.push(s);else{var h,c=(0,n.X$)({},s,null,!0),p=this.isSameDate(c[this.fields.startTime],c[this.fields.endTime]);if(c.isBlockIcon=p,!p&&o.OI(c[this.fields.startTime])>0)(h=(0,n.X$)({},s,null,!0))[this.fields.endTime]=o.fi(o.JC(new Date(s[this.fields.startTime]+"")),1),h.isBlockIcon=!0,c[this.fields.startTime]=h[this.fields.endTime],l.push(h);if(!(p=this.isSameDate(c[this.fields.startTime],c[this.fields.endTime]))&&o.OI(c[this.fields.endTime])>0)(h=(0,n.X$)({},s,null,!0))[this.fields.startTime]=o.JC(new Date(s[this.fields.endTime]+"")),h.isBlockIcon=!0,l.push(h),c[this.fields.endTime]=h[this.fields.startTime];l.push(c)}for(var u=0,d=l;u<d.length;u++)for(var v=d[u],m=0,g=this.splitEvent(v,this.dateRender);m<g.length;m++){var f=g[m];this.renderBlockEvents(f,t,!!v.isBlockIcon)}}},t.prototype.isSameDate=function(e,t){return new Date(+e).setHours(0,0,0,0)===new Date(+t).setHours(0,0,0,0)},t.prototype.renderBlockEvents=function(e,t,i){var r=e.data,a=this.getStartTime(e,r),s=this.getEndTime(e,r),l=this.parent.getIndexOfDate(this.dateRender,o.JC(new Date(a.getTime())));if(!(l<0||a>s)){var h=this.getCellTd(l),c=this.getPosition(a,s,e[this.fields.isAllDay],l);if(i)this.renderBlockIndicator(h,c,t);else{var p=r.count,u=this.getEventWidth(a,s,e[this.fields.isAllDay],p);u=u<=0?this.cellWidth:u;var d=this.parent.enableRtl?0:c,v=this.parent.enableRtl?c:0,m=this.cellHeight-this.monthHeaderHeight,g=this.getRowTop(t),f=this.createBlockAppointmentElement(e,t);(0,n.sN)(f,{width:u+"px",height:m+"px",left:d+"px",right:v+"px",top:g+"px"}),this.renderEventElement(e,f,h)}}},t.prototype.renderBlockIndicator=function(e,t,i){var r=(0,n.n)("div",{className:"e-icons "+a.D2m});(0,n.hX)(e.querySelector("."+a.D2m))&&e.appendChild(r)},t.prototype.getStartTime=function(e,t){return e[this.fields.startTime]},t.prototype.getEndTime=function(e,t){return e[this.fields.endTime]},t.prototype.getCellTd=function(e){return this.workCells[e]},t.prototype.getEventWidth=function(e,t,i,n){return n*this.cellWidth-1},t.prototype.getPosition=function(e,t,i,n){return 0},t.prototype.getRowTop=function(e){return 0},t.prototype.updateIndicatorIcon=function(e){if(-1!==this.parent.currentView.indexOf("Timeline")&&"TimelineMonth"!==this.parent.currentView&&!e[this.fields.isAllDay]){var t=e.data,i=this.parent.activeView.getStartHour(),n=this.parent.activeView.getEndHour(),r=o.hw(e[this.fields.startTime],i,n),a=o.hw(e[this.fields.endTime],i,n),s=t[this.fields.startTime],l=t[this.fields.endTime];if(t.isLeft=t.isLeft||s.getTime()<r.startHour.getTime(),t.isRight=t.isRight||l.getTime()>a.endHour.getTime(),o.JC(s).getTime()!==o.JC(l).getTime()){var h=r.startHour,c=a.endHour,p=new Date(o.JC(s));if(p.setHours(c.getHours(),c.getMinutes(),c.getSeconds()),t.isLeft=t.isLeft||s.getTime()>=(h.getDate()===r.endHour.getDate()?p.getTime():o.fi(p,1).getTime()),l.getTime()!==o.JC(l).getTime()){var u=new Date(o.JC(l));t.isRight=t.isRight||l.getTime()<=u.setHours(h.getHours(),h.getMinutes(),h.getSeconds())}}}},t.prototype.renderResourceEvents=function(){var e=this.parent.uiStateValues.isGroupAdaptive?[this.parent.resourceBase.lastResourceLevel[this.parent.uiStateValues.groupIndex]]:this.parent.resourceBase.lastResourceLevel;if(this.parent.crudModule&&this.parent.crudModule.crudObj.isCrudAction){for(var t=0,i=this.parent.crudModule.crudObj.sourceEvent.length;t<i;t++){var n=this.parent.crudModule.crudObj.sourceEvent[t];if(this.renderEventsHandler(n.renderDates,n.workDays,n),this.parent.crudModule.crudObj.sourceEvent[t].groupIndex!==this.parent.crudModule.crudObj.targetEvent[t].groupIndex){var r=this.parent.crudModule.crudObj.targetEvent[t];this.renderEventsHandler(r.renderDates,r.workDays,r)}}this.parent.crudModule.crudObj.isCrudAction=!1}else for(var a=0,s=e;a<s.length;a++){var o=s[a];this.renderEventsHandler(o.renderDates,o.workDays,o)}},t.prototype.getSlotDates=function(e){this.slots=[];for(var t=this.dateRender.map((function(e){return+e})),i=this.parent.activeViewOptions.showWeekend?o.ed:e.length;t.length>0;)this.slots.push(t.splice(0,i))},t.prototype.createAppointmentElement=function(e,t,i){void 0===i&&(i=!1);var r=e[this.fields.subject]||this.parent.eventSettings.fields.subject.default||this.parent.localeObj.getConstant("addTitle"),s=(0,n.X$)({},e,e.data,!0),o={"data-id":"Appointment_"+e[this.fields.id],role:"button",tabindex:"0","aria-readonly":this.parent.eventBase.getReadonlyAttribute(e),"aria-selected":"false","aria-grabbed":"true","aria-label":this.parent.getAnnouncementString(s,r)};i||(o["data-guid"]=e.Guid),this.parent.activeViewOptions.group.resources.length>0&&(o["data-group-index"]=t.toString());var l=(0,n.n)("div",{className:a.Dj,attrs:o});(0,n.hX)(this.cssClass)||(0,n.iQ)([l],this.cssClass),e[this.fields.isReadonly]&&(0,n.iQ)([l],"e-read-only");var h,c=(0,n.n)("div",{className:a.VbS});l.appendChild(c);var p=e.data,u=this.getEventData(e);if((0,n.hX)(this.parent.activeViewOptions.eventTemplate)){var d=e[this.fields.location]||this.parent.eventSettings.fields.location.default||"",v=(0,n.n)("div",{className:a.YrY,innerHTML:r+(d?";&nbsp"+d:"")}),m=(0,n.n)("div",{className:a.AWK+(this.parent.isAdaptive?" "+a.AV8:""),innerHTML:this.parent.getTimeString(p[this.fields.startTime])}),g=(0,n.n)("div",{className:a.AWK+(this.parent.isAdaptive?" "+a.AV8:""),innerHTML:this.parent.getTimeString(p[this.fields.endTime])});if("Month"===this.parent.currentView)e[this.fields.isAllDay]?(h=[v],(0,n.iQ)([v],"e-text-center")):p.count<=1&&!p.isLeft&&!p.isRight?h=[m,v]:(h=[],(0,n.iQ)([v],"e-text-center"),p.isLeft||h.push(m),h.push(v),p.isRight||h.push(g));else{var f=void 0;if(e[this.fields.isAllDay]){f=[v,(0,n.n)("div",{className:a.AWK,innerHTML:this.parent.localeObj.getConstant("allDay")})]}else{var y=this.parent.getTimeString(p[this.fields.startTime])+" - "+this.parent.getTimeString(p[this.fields.endTime]);f=[v,(0,n.n)("div",{className:a.AWK+(this.parent.isAdaptive?" "+a.AV8:""),innerHTML:y}),(0,n.n)("div",{className:a.$lw,innerHTML:d})]}var T=(0,n.n)("div",{className:"e-inner-wrap"});(0,n.BC)(f,T),h=[T]}}else{var w=this.parent.element.id+"_"+this.parent.activeViewOptions.eventTemplateName+"eventTemplate",D="eventTemplate"+(this.parent.activeViewOptions.group.resources.length>0?"_"+t:"");h=this.parent.getAppointmentTemplate()(u,this.parent,D,w,!1)}return(0,n.BC)(h,c),this.appendEventIcons(e,c),this.renderResizeHandler(l,e.data,e[this.fields.isReadonly]),l},t.prototype.appendEventIcons=function(e,t){var i=e.data;if(!(0,n.hX)(e[this.fields.recurrenceRule])||!(0,n.hX)(e[this.fields.recurrenceID])){var r=e[this.fields.id]===e[this.fields.recurrenceID]?a.zBw:a.YYP;t.appendChild((0,n.n)("div",{className:a.kb2+" "+r+(this.parent.isAdaptive?" "+a.AV8:"")}))}if(i.isLeft){var s=(0,n.n)("div",{className:a._NR+" "+a.kb2+" "+a.In});(0,n.Hs)([s],t)}if(i.isRight){var o=(0,n.n)("div",{className:a._NR+" "+a.kb2+" "+a.xbd});(0,n.BC)([o],t)}},t.prototype.renderEvents=function(e,t,i){var r=e[this.fields.startTime],s=e[this.fields.endTime],l=this.parent.getIndexOfDate(this.dateRender,o.JC(r));if(!(l<0)&&!(r.getTime()<this.parent.minDate.getTime()||s.getTime()>this.parent.maxDate.getTime())){var h=this.getIndex(r);e.Index=h;var c=this.eventHeight;this.renderedEvents.push((0,n.X$)({},e,null,!0));var p=e.data.count;if(r.getTime()<=s.getTime()){var u=p*this.cellWidth-5,d=this.workCells[l],v=h*(c+0),m=this.monthHeaderHeight+(h+1)*(c+0)+this.moreIndicatorHeight,g=this.maxOrIndicator?h<1:this.cellHeight>m;if(this.parent.rowAutoHeight||g){var f=void 0;if(f=this.inlineValue?this.parent.inlineModule.createInlineAppointmentElement():this.createAppointmentElement(e,t),this.applyResourceColor(f,e,"backgroundColor",this.groupOrder),this.wireAppointmentEvents(f,e),(0,n.sN)(f,{width:u+"px",top:v+"px"}),this.renderEventElement(e,f,d),this.parent.rowAutoHeight){var y=d.parentElement.firstElementChild;this.updateCellHeight(y,m)}}else for(var T=0;T<p;T++){var w=this.workCells[l+T];if(w&&(0,n.hX)(w.querySelector("."+a.pSF))){var D=new Date(this.dateRender[l+T].getTime()),b=o.fi(this.dateRender[l+T],1),C=w.getAttribute("data-group-index"),S=this.getFilteredEvents(D,b,C),A=this.cellHeight-this.monthHeaderHeight-this.moreIndicatorHeight;c=this.withIndicator?A:c;var E=Math.floor(A/(c+0)),O=S.length-E<=0?1:S.length-E,x=this.getMoreIndicatorElement(O,D,b);(0,n.hX)(C)||x.setAttribute("data-group-index",C),x.style.top=A+"px",x.style.width=this.cellWidth-2+"px",this.renderElement(w,x),n.Jm.add(x,"click",this.moreIndicatorClick,this)}}}}},t.prototype.updateCellHeight=function(e,t){t>e.offsetHeight&&(0,n.sN)(e,{height:t+"px"})},t.prototype.updateBlockElements=function(){for(var e=0,t=[].slice.call(this.element.querySelectorAll("."+a.Fx_));e<t.length;e++){var i=t[e],r=(0,n.kp)(i,"tr");this.monthHeaderHeight=i.offsetParent.offsetTop-r.offsetTop,i.style.height=r.offsetHeight-1-this.monthHeaderHeight+"px";var s=r.firstElementChild,o=Math.round(i.offsetWidth/s.offsetWidth);i.style.width=s.offsetWidth*o+"px"}},t.prototype.getFilteredEvents=function(e,t,i,r){var a;if((0,n.hX)(i))a=this.filterEvents(e,t);else{var s=this.parent.resourceBase.lastResourceLevel[parseInt(i,10)];a=this.filterEvents(e,t,(0,n.hX)(r)?void 0:r,s)}return a},t.prototype.getOverlapEvents=function(e,t){for(var i=[],n=0,r=t;n<r.length;n++){var a=r[n],s=o.JC(e).getTime();o.JC(a[this.fields.startTime]).getTime()<=s&&o.JC(a[this.fields.endTime]).getTime()>=s&&i.push(a)}return i},t.prototype.getIndex=function(e){var t=-1,i=this.renderedEvents;if(i.length>0){var n=this.getOverlapEvents(e,i).map((function(e){return e.Index}));t=n.length>0?this.getSmallestMissingNumber(n):0}return-1===t?0:t},t.prototype.moreIndicatorClick=function(e){var t=this,i=(0,n.kp)(e.target,"."+a.pSF),r=new Date(parseInt(i.getAttribute("data-start-date"),10)),o=new Date(parseInt(i.getAttribute("data-end-date"),10)),l=i.getAttribute("data-group-index"),h={cancel:!1,event:e,element:i,isPopupOpen:!0,startTime:r,endTime:o,viewName:this.parent.getNavigateView()};l&&(h.groupIndex=parseInt(l,10)),this.parent.trigger(s.$I,h,(function(i){if(!i.cancel)if(i.isPopupOpen){var n=t.getFilteredEvents(r,o,l),a={date:r,event:n,element:e.target};t.parent.quickPopup.moreEventClick(a,o,l)}else t.parent.setProperties({selectedDate:r},!0),t.parent.changeView(i.viewName,e)}))},t.prototype.renderEventElement=function(e,t,i){var n=this,r=t.classList.contains(a.Fx_)?"blockEvent":"event",o=t.classList.contains(a.Dj),l={data:this.getEventData(e),element:t,cancel:!1,type:r};this.parent.trigger(s.MG,l,(function(e){e.cancel?n.renderedEvents.pop():n.renderElement(i,t,o)}))},t.prototype.getEventData=function(e){var t=(0,n.X$)({},e,null,!0);return t[this.fields.startTime]=e.data[this.fields.startTime],t[this.fields.endTime]=e.data[this.fields.endTime],t},t.prototype.renderElement=function(e,t,i){void 0===i&&(i=!1),this.maxOrIndicator&&i&&this.setMaxEventHeight(t,e);var r=e.querySelector("."+a.RQR);if(r)r.appendChild(t);else{var s=(0,n.n)("div",{className:a.RQR});s.appendChild(t),e.appendChild(s)}},t.prototype.getMoreIndicatorElement=function(e,t,i){return(0,n.n)("div",{className:a.pSF,innerHTML:"+"+this.parent.globalize.formatNumber(e)+"&nbsp;"+(this.parent.isAdaptive?"":this.parent.localeObj.getConstant("more")),attrs:{tabindex:"0","data-start-date":t.getTime().toString(),"data-end-date":i.getTime().toString(),role:"list"}})},t.prototype.removeHeightProperty=function(e){for(var t=0,i=[].slice.call(this.element.querySelectorAll("."+e+" tbody tr"));t<i.length;t++){i[t].firstElementChild.style.height=""}},t.prototype.setMaxEventHeight=function(e,t){var i=o.P$(t.querySelector("."+a.Sy$)),r=t.offsetHeight-i-(this.maxHeight?0:this.moreIndicatorHeight);(0,n.sN)(e,{height:r+"px","align-items":"center"})},t.prototype.destroy=function(){this.element=null,this.fields=null,this.maxHeight=null,this.withIndicator=null,this.maxOrIndicator=null,this.moreIndicatorHeight=null,this.removeEventListener(),e.prototype.destroy.call(this)},t}(r._)},8104:(e,t,i)=>{i.d(t,{k:()=>l});var n=i(8452),r=i(9382),a=i(1856),s=i(4953),o=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),l=function(e){function t(t,i){var n=e.call(this,t)||this;n.startHour=n.parent.activeView.getStartHour(),n.endHour=n.parent.activeView.getEndHour(),n.slotCount=n.parent.activeViewOptions.timeScale.slotCount,n.interval=n.parent.activeViewOptions.timeScale.interval,n.day=0,n.rowIndex=0,n.cellTops=[],n.renderType=i,n.eventContainers=[].slice.call(n.element.querySelectorAll("."+r.Px_));var a=[].slice.call(n.element.querySelectorAll("."+r.s2p+" tbody tr"));return n.dayLength=0===a.length?0:a[0].children.length,n.content=n.parent.element.querySelector("."+r.s2p),n}return o(t,e),t.prototype.getSlotDates=function(){this.slots=[],this.slots.push(this.parent.activeView.renderDates.map((function(e){return+e}))),this.parent.activeViewOptions.headerRows.length>0&&"Hour"!==this.parent.activeViewOptions.headerRows.slice(-1)[0].option?(this.renderType="day",this.cellWidth=this.content.offsetWidth/this.dateRender.length,this.slotsPerDay=1):this.slotsPerDay=this.dayLength/this.dateRender.length},t.prototype.getOverlapEvents=function(e,t){var i=[];if("day"===this.renderType)for(var n=0,r=t;n<r.length;n++){var s=r[n];a.JC(s[this.fields.startTime]).getTime()<=a.JC(new Date(e.getTime())).getTime()&&a.JC(s[this.fields.endTime]).getTime()>=a.JC(new Date(e.getTime())).getTime()&&i.push(s)}else for(var o=0,l=t;o<l.length;o++){var h=(s=l[o]).data;h.trimStartTime.getTime()<=e.getTime()&&h.trimEndTime.getTime()>e.getTime()&&i.push(s)}return i},t.prototype.getSortComparerIndex=function(e,t){var i=-1,n=this.renderedEvents;if(n.length>0){var r=this.getOverlapSortComparerEvents(e,t,n).map((function(e){return e.Index}));i=r.length>0?this.getSmallestMissingNumber(r):0}return-1===i?0:i},t.prototype.getOverlapSortComparerEvents=function(e,t,i){for(var n=[],r=0,s=i;r<s.length;r++){var o=s[r];if("day"===this.renderType)a.JC(o[this.fields.startTime]).getTime()<=a.JC(new Date(e.getTime())).getTime()&&a.JC(o[this.fields.endTime]).getTime()>=a.JC(new Date(e.getTime())).getTime()&&n.push(o);else{var l=o.data;(l.trimStartTime.getTime()<=e.getTime()&&e.getTime()<l.trimEndTime.getTime()||e.getTime()<=l.trimStartTime.getTime()&&l.trimStartTime.getTime()<t.getTime())&&n.push(o)}}return n},t.prototype.renderResourceEvents=function(){this.removeHeightProperty(r.Mbq);var e=this.parent.uiStateValues.isGroupAdaptive?[this.parent.resourceBase.lastResourceLevel[this.parent.uiStateValues.groupIndex]]:this.parent.resourceBase.renderedResources;if(this.parent.crudModule&&this.parent.crudModule.crudObj.isCrudAction){for(var t=0,i=this.parent.crudModule.crudObj.sourceEvent.length;t<i;t++){var n=this.parent.crudModule.crudObj.sourceEvent[t];if(this.rowIndex=n.groupIndex,this.renderEventsHandler(this.parent.activeView.renderDates,this.parent.activeViewOptions.workDays,n),this.parent.crudModule.crudObj.targetEvent[t]&&this.parent.crudModule.crudObj.sourceEvent[t].groupIndex!==this.parent.crudModule.crudObj.targetEvent[t].groupIndex){var a=this.parent.crudModule.crudObj.targetEvent[t];this.rowIndex=a.groupIndex,this.renderEventsHandler(this.parent.activeView.renderDates,this.parent.activeViewOptions.workDays,a)}}this.parent.crudModule.crudObj.isCrudAction=!1}else for(t=0;t<e.length;t++)this.rowIndex=t,this.renderEventsHandler(this.parent.activeView.renderDates,this.parent.activeViewOptions.workDays,e[t])},t.prototype.renderEvents=function(e,t,i){var s=e[this.fields.startTime],o=e[this.fields.endTime];if(!(s.getTime()<this.parent.minDate.getTime()||o.getTime()>this.parent.maxDate.getTime())){var l=e.data;s=this.getStartTime(e,l),o=this.getEndTime(e,l);var h=a.hw(e[this.fields.startTime],this.startHour,this.endHour),c=this.updateEventMinimumDuration(h,s,o);if(s=c.startDate,o=c.endDate,this.day=this.parent.getIndexOfDate(this.dateRender,a.JC(new Date(s.getTime()))),!(this.day<0)){var p=this.getCellTd(),u=(0,n.hX)(this.parent.eventSettings.sortComparer)?this.getIndex(s):this.getSortComparerIndex(s,o);e.Index=u;var d=this.eventHeight,v=l.count,m=(0,n.X$)({},e,null,!0);m[this.fields.startTime]=l[this.fields.startTime],m[this.fields.endTime]=l[this.fields.endTime];var g=a.JC(new Date(this.dateRender[this.day].getTime())),f=a.hw(g,this.startHour,this.endHour),y=this.isValidEvent(m,s,o,f);if(s<=o&&y){var T=this.getEventWidth(s,o,e[this.fields.isAllDay],v);T="day"===this.renderType?T-2:T;var w,D,b=this.getPosition(s,o,e[this.fields.isAllDay],this.day);T=T<=0?this.cellWidth:T,this.renderedEvents.push((0,n.X$)({},e,null,!0)),(0,n.hX)(this.cellTops[t])&&(this.cellTops[t]=this.getRowTop(t));var C=this.cellTops[t],S=C+(this.maxHeight?0:2)+u*(d+2);w=this.parent.enableRtl?0:b,D=this.parent.enableRtl?b:0;var A=(u+1)*(d+2)+this.moreIndicatorHeight,E=this.maxOrIndicator?u<1:this.cellHeight>A;if(this.parent.rowAutoHeight||E){var O=void 0;if(O=(0,n.hX)(this.inlineValue)?this.createAppointmentElement(e,t):this.parent.inlineModule.createInlineAppointmentElement(),this.applyResourceColor(O,e,"backgroundColor",this.groupOrder),(0,n.sN)(O,{width:T+"px",left:w+"px",right:D+"px",top:S+"px"}),this.wireAppointmentEvents(O,e),this.renderEventElement(e,O,p),this.parent.rowAutoHeight){var x=this.getFirstChild(t);this.updateCellHeight(x,A)}if("TimelineMonth"!==this.parent.activeViewOptions.option&&this.parent.activeViewOptions.timeScale.enable&&T<this.cellWidth)[].slice.call(O.querySelectorAll("."+r.tFF)).forEach((function(e){e.style.width=Math.ceil(T/e.getBoundingClientRect().width)+"px"}))}else for(var k=0;k<v;k++){var V=p.querySelector("."+r.pSF),M=this.parent.enableRtl?D:w;M=Math.floor(M/this.cellWidth)*this.cellWidth;var R=this.interval/this.slotCount,I="TimelineMonth"===this.parent.activeViewOptions.option||"day"===this.renderType||0!==k?new Date(this.dateRender[this.day+k].getTime()):new Date(s),P=a.fi(this.dateRender[this.day+k],1);if("TimelineMonth"===this.parent.activeViewOptions.option||"day"===this.renderType){var L=this.getPosition(I,P,e[this.fields.isAllDay],this.day+k);this.renderTimelineMoreIndicator(s,I,P,d,R,t,i,C,w,D,p,V,M,L)}else for(var j=(a.pc(o)-a.pc(s))/a.EM*this.slotCount/this.interval,H=0;H<j&&(I=0===H?new Date(I.getTime()):new Date(I.getTime()+6e4*R),!((P=new Date(I.getTime()+6e4*R)).getTime()>o.getTime()));H++){var F=this.getPosition(I,P,!1,this.day+k);if(M>F)break;M=F,this.renderTimelineMoreIndicator(s,I,P,d,R,t,i,C,w,D,p,V,M,F)}}}this.parent.renderTemplates()}}},t.prototype.renderTimelineMoreIndicator=function(e,t,i,r,a,s,o,l,h,c,p,u,d,v){if(h=this.parent.enableRtl?c=v:v,d=this.parent.enableRtl?c:h,d=Math.floor(d/this.cellWidth)*this.cellWidth,p&&(0,n.hX)(u)||!this.isAlreadyAvail(d,p)){var m="TimelineMonth"===this.parent.activeViewOptions.option||"day"===this.renderType?new Date(+e):t,g=new Date(m.setMinutes(Math.floor(m.getMinutes()/a)*a)),f=new Date(g.getTime()+6e4*a),y=void 0;this.parent.activeViewOptions.group.resources.length>0&&!(0,n.hX)(s)&&(y=s.toString());var T=this.getFilterEvents(t,i,g,f,y,o),w=this.cellHeight-this.moreIndicatorHeight;r=this.withIndicator?w-2:r;var D=Math.floor(w/(r+2)),b=T.length-D<=0?1:T.length-D,C=void 0;C="day"===this.renderType?this.getMoreIndicatorElement(b,t,i):this.getMoreIndicatorElement(b,g,f),(0,n.hX)(y)||C.setAttribute("data-group-index",y),C.style.top=l+w+"px",C.style.width=this.cellWidth+"px",C.style.left=Math.floor(h/this.cellWidth)*this.cellWidth+"px",C.style.right=Math.floor(c/this.cellWidth)*this.cellWidth+"px",this.renderElement(p,C),n.Jm.add(C,"click",this.moreIndicatorClick,this)}},t.prototype.updateCellHeight=function(e,t){if(t>this.cellHeight){if((0,n.sN)(e,{height:t+"px"}),this.parent.activeViewOptions.group.resources.length>0){var i=this.parent.element.querySelector("."+r.Mbq+' tbody td[data-group-index="'+e.getAttribute("data-group-index")+'"]');i&&(0,n.sN)(i,{height:t+"px"})}var a=this.parent.element.querySelector(".e-month-header-wrapper table tr:nth-child("+(e.parentElement.rowIndex+1)+") td");a&&(0,n.sN)(a,{height:t+"px"})}},t.prototype.getFirstChild=function(e){var t="."+r.s2p+" tbody td",i="";return this.parent.activeViewOptions.group.resources.length>0&&(i='[data-group-index="'+e.toString()+'"]'),this.parent.element.querySelector(t+i)},t.prototype.updateBlockElements=function(){for(var e=0,t=[].slice.call(this.element.querySelectorAll("."+r.Fx_));e<t.length;e++){var i=t[e],n=parseInt(i.getAttribute("data-group-index"),10),a=this.getFirstChild(n);i.style.height=a.offsetHeight+"px";var s=Math.round(i.offsetWidth/a.offsetWidth);i.style.width=a.offsetWidth*s+"px"}for(var o=0,l=[].slice.call(this.element.querySelectorAll("."+r.D2m));o<l.length;o++){i=l[o],n=parseInt(i.getAttribute("data-group-index"),10);i.style.top=this.getRowTop(n)+this.getFirstChild(n).offsetHeight-18+"px"}},t.prototype.getStartTime=function(e,t){var i=e[this.fields.startTime],n=a.hw(i,this.startHour,this.endHour);return i=n.startHour.getTime()>=t[this.fields.startTime]?n.startHour:n.endHour.getTime()<=t[this.fields.startTime]?this.getNextDay(n.startHour,t):t[this.fields.startTime],t.trimStartTime=e[this.fields.isAllDay]?n.startHour:t[this.fields.startTime],i},t.prototype.getNextDay=function(e,t){for(var i,n=1;n<=this.dateRender.length;n++)if(i=a.fi(e,n),-1!==this.parent.getIndexOfDate(this.dateRender,a.JC(new Date(e.getTime()))))return t.count=t.count-1,i;return i},t.prototype.getEndTime=function(e,t){var i=e[this.fields.endTime],n=a.hw(i,this.startHour,this.endHour);return"TimelineMonth"===this.parent.currentView||!this.parent.activeViewOptions.timeScale.enable||this.parent.activeViewOptions.headerRows.length>0&&"Hour"!==this.parent.activeViewOptions.headerRows.slice(-1)[0].option?i=t[this.fields.endTime]:(i=t[this.fields.endTime],n.endHour.getTime()<=t[this.fields.endTime]&&(i=n.endHour),n.startHour.getTime()>=t[this.fields.endTime].getTime()&&!e.isAllDay&&(i=this.getPreviousDay(n.startHour,n.endHour,t))),t.trimEndTime=e[this.fields.isAllDay]?n.endHour:t[this.fields.endTime],i},t.prototype.getPreviousDay=function(e,t,i){for(var n=1;n<=this.dateRender.length;n++){var r=a.fi(t,-n);if(-1!==this.parent.getIndexOfDate(this.dateRender,a.JC(new Date(e.getTime())))){(r=a.JC(new Date(r.getTime()))).setHours(t.getHours(),t.getMinutes(),t.getSeconds());var s=i.count,o=i[this.fields.endTime];return i.count=0!==o.getHours()||0!==o.getMinutes()?s-1:s,r}}return i[this.fields.endTime]},t.prototype.getEventWidth=function(e,t,i,n){return"day"===this.renderType||i?n*this.slotsPerDay*this.cellWidth:this.isSameDay(e,t)?this.getSameDayEventsWidth(e,t):this.getSpannedEventsWidth(e,t,n)},t.prototype.getSameDayEventsWidth=function(e,t){return(a.pc(t)-a.pc(e))/a.EM*(this.cellWidth*this.slotCount)/this.interval},t.prototype.getSpannedEventsWidth=function(e,t,i){var n,r=i*this.slotsPerDay*this.cellWidth,s=a.hw(a.JC(new Date(e.getTime())),this.startHour,this.endHour),o=this.getSameDayEventsWidth(s.startHour,e);if(-1===this.parent.getIndexOfDate(this.dateRender,a.JC(new Date(t.getTime()))))n=0;else{var l=a.hw(a.JC(new Date(t.getTime())),this.startHour,this.endHour);n=this.getSameDayEventsWidth(t,l.endHour),n=this.slotsPerDay*this.cellWidth===n?0:n}var h=o+n;return r>h?r-h:r-o},t.prototype.isSameDay=function(e,t){return this.parent.getIndexOfDate(this.dateRender,a.JC(new Date(e.getTime())))===this.parent.getIndexOfDate(this.dateRender,a.JC(new Date(t.getTime())))},t.prototype.getAppointmentLeft=function(e,t,i){var n=this.isSameDay(t,e.startHour)?(a.pc(t)-a.pc(e.startHour))/(a.EM*this.interval)*this.slotCount:0;return 0===i?n:Math.round((a.pc(e.endHour)-a.pc(e.startHour))/a.EM/this.interval*this.slotCount)*i+n},t.prototype.getPosition=function(e,t,i,n){if("day"===this.renderType||i)return n*this.slotsPerDay*this.cellWidth;var r=a.JC(new Date(this.dateRender[n].getTime())),s=a.hw(r,this.startHour,this.endHour);return(s.endHour.getTime()<=t.getTime()&&s.startHour.getTime()>=e.getTime()?this.getAppointmentLeft(s,s.startHour,n):s.endHour.getTime()<=t.getTime()?this.getAppointmentLeft(s,e,n):s.startHour.getTime()>=e.getTime()?this.getAppointmentLeft(s,s.startHour,n):this.getAppointmentLeft(s,e,n))*this.cellWidth},t.prototype.getFilterEvents=function(e,t,i,n,r,a){return"day"===this.renderType?this.getFilteredEvents(e,t,r,a):this.getFilteredEvents(i,n,r,a)},t.prototype.isAlreadyAvail=function(e,t){for(var i=[].slice.call(t.querySelectorAll("."+r.pSF)),n=0;n<i.length;n++){var a=void 0;if(i&&(a=this.parent.enableRtl?i[n].style.right:i[n].style.left),parseInt(a,10)===Math.floor(e))return!0}return!1},t.prototype.getRowTop=function(e){return this.parent.activeViewOptions.group.resources.length>0&&!this.parent.uiStateValues.isGroupAdaptive?this.parent.element.querySelector("."+r._oL+' tbody td[data-group-index="'+e.toString()+'"]').offsetTop:0},t.prototype.getCellTd=function(){var e=this.parent.uiStateValues.isGroupAdaptive?0:this.rowIndex;return this.eventContainers[e]},t.prototype.renderBlockIndicator=function(e,t,i){if((!(this.parent.headerRows.length>0)||"Hour"===this.parent.headerRows[this.parent.headerRows.length-1].option&&"Date"===this.parent.headerRows[this.parent.headerRows.length-1].option)&&(t=Math.floor(t/this.cellWidth)*this.cellWidth+this.cellWidth-22,!this.isAlreadyAvail(t,e))){var a=(0,n.n)("div",{className:"e-icons "+r.D2m});this.parent.activeViewOptions.group.resources.length>0&&a.setAttribute("data-group-index",i.toString()),this.parent.enableRtl?a.style.right=t+"px":a.style.left=t+"px",a.style.top=this.getRowTop(i)+this.cellHeight-18+"px",this.renderElement(e,a)}},t.prototype.setMaxEventHeight=function(e,t){(0,n.sN)(e,{height:this.cellHeight-(this.maxHeight?0:2)-(this.maxHeight?0:this.moreIndicatorHeight)+"px"})},t.prototype.destroy=function(){this.renderType=null,this.eventContainers=null,this.dayLength=null,this.content=null,e.prototype.destroy.call(this),this.parent=null},t}(s.l)},3463:(e,t,i)=>{i.d(t,{Z:()=>h});var n=i(8452),r=i(5893),a=i(1856),s=i(4144),o=i(9382),l=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),h=function(e){function t(t){var i=e.call(this,t)||this;return i.dateRender=[],i.renderedEvents=[],i.renderedAllDayEvents=[],i.overlapEvents=[],i.moreEvents=[],i.overlapList=[],i.allDayEvents=[],i.slotCount=i.parent.activeViewOptions.timeScale.slotCount,i.interval=i.parent.activeViewOptions.timeScale.interval,i.allDayLevel=0,i.startHour=i.parent.activeView.getStartHour(),i.endHour=i.parent.activeView.getEndHour(),i.element=i.parent.activeView.getPanel(),i.fields=i.parent.eventFields,i.animation=new n.X5({progress:i.animationUiUpdate.bind(i)}),i.addEventListener(),i}return l(t,e),t.prototype.renderAppointments=function(){if(!(0,n.hX)(this.parent)){this.parent.dragAndDropModule&&this.parent.dragAndDropModule.setDragArea();for(var e=[].slice.call(this.parent.element.querySelectorAll("."+o.Fx_+",."+o.Dj+",."+o.I95)),t=!(!this.parent.crudModule||!this.parent.crudModule.crudObj.isCrudAction),i=0,r=e;i<r.length;i++){var a=r[i];if(!t||a.classList.contains(o.F1H)||a.classList.contains(o.I95))(0,n.TF)(a);else for(var l=parseInt(a.getAttribute("data-group-index"),10),h=0,c=this.parent.crudModule.crudObj.sourceEvent.length;h<c;h++)l!==this.parent.crudModule.crudObj.sourceEvent[h].groupIndex&&l!==this.parent.crudModule.crudObj.targetEvent[h].groupIndex||(0,n.TF)(a)}if(this.element.querySelector("."+o.fv4)&&(this.allDayElement=[].slice.call(this.element.querySelectorAll("."+o.tTW)),this.setAllDayRowHeight(0),0!==this.parent.eventsProcessed.length||0!==this.parent.blockProcessed.length)){var p=this.element.querySelector("."+o.v_o);n.Jm.remove(p,"click",this.rowExpandCollapse),n.Jm.add(p,"click",this.rowExpandCollapse,this),this.renderedEvents=[],this.renderedAllDayEvents=[],this.initializeValues(),this.processBlockEvents(),this.renderEvents("normalEvents"),this.allDayEvents.length>0&&(this.allDayEvents=this.allDayEvents.filter((function(e,t,i){return t===i.map((function(e){return e.Guid})).indexOf(e.Guid)})),(0,n.vy)(this.allDayElement,o.YkJ),this.slots.push(this.parent.activeView.renderDates.map((function(e){return+e}))),this.renderEvents("allDayEvents")),this.parent.notify(s.PR,{}),(0,n.iQ)(this.allDayElement,o.YkJ),t&&(this.parent.crudModule.crudObj.isCrudAction=!1),this.parent.renderTemplates()}}},t.prototype.initializeValues=function(){if(this.resources=this.parent.activeViewOptions.group.resources.length>0?this.parent.uiStateValues.isGroupAdaptive?[this.parent.resourceBase.lastResourceLevel[this.parent.uiStateValues.groupIndex]]:this.parent.resourceBase.lastResourceLevel:[],this.cellHeight=parseFloat(this.parent.element.querySelector(".e-content-wrap tbody tr").getBoundingClientRect().height.toFixed(2)),this.dateRender[0]=this.parent.activeView.renderDates,this.parent.activeViewOptions.group.resources.length>0)for(var e=0,t=this.resources.length;e<t;e++)this.dateRender[e]=this.resources[e].renderDates},t.prototype.getHeight=function(e,t){var i=(a.pc(t)-a.pc(e))/a.EM*(this.cellHeight*this.slotCount)/this.interval;return i=i<=0?this.cellHeight:i},t.prototype.appendEvent=function(e,t,i,r){var a=[].slice.call(this.element.querySelectorAll("."+o.RQR));this.parent.enableRtl?(0,n.sN)(t,{right:r}):(0,n.sN)(t,{left:r});var l=t.classList.contains(o.Fx_)?"blockEvent":"event",h={data:(0,n.X$)({},e,null,!0),element:t,cancel:!1,type:l};this.parent.trigger(s.MG,h,(function(e){e.cancel||a[i].appendChild(t)}))},t.prototype.processBlockEvents=function(){for(var e=0,t=0,i=this.getResourceList();t<i.length;t++)for(var n=i[t],r=this.dateRender[n],s=0,o=r.length;s<o;s++){for(var l=new Date(r[s].getTime()),h=a.fi(r[s],1),c=0,p=this.filterEvents(l,h,this.parent.blockProcessed,this.resources[n]);c<p.length;c++){var u=p[c];this.parent.resourceBase&&this.setValues(u,n),this.renderBlockEvents(u,s,n,e),this.cssClass=null,this.groupOrder=null}e+=1}},t.prototype.renderBlockEvents=function(e,t,i,r){var s=this.isSpannedEvent(e,t,i),l=s[this.fields.startTime],h=s[this.fields.endTime],c=a.JC(new Date(this.dateRender[i][t].getTime())),p=a.hw(c,this.startHour,this.endHour);if(l<=h&&this.isValidEvent(e,l,h,p)){var u=void 0,d=void 0;if(s[this.fields.isAllDay]){var v=this.parent.element.querySelector("."+o._oL+" table");d=(0,n.IV)(v.offsetHeight),u=(0,n.IV)(0)}else d=(0,n.IV)(this.getHeight(l,h)),u=(0,n.IV)(this.getTopValue(l,t,i));var m=this.createBlockAppointmentElement(e,i);(0,n.sN)(m,{width:"100%",height:d,top:u});var g=this.parent.activeViewOptions.group.byDate?this.resources.length*t+i:r;this.appendEvent(e,m,g,"0px")}},t.prototype.renderEvents=function(e){(0,n.vy)(this.allDayElement,o.YkJ);for(var t,i="allDayEvents"===e?this.sortByDateTime(this.allDayEvents):void 0,r=this.getResourceList(),s=0,l=function(r){t=!0,h.parent.crudModule&&h.parent.crudModule.crudObj.isCrudAction&&"allDayEvents"!==e&&!h.parent.uiStateValues.isGroupAdaptive&&0===h.parent.crudModule.crudObj.sourceEvent.filter((function(e){return e.groupIndex===r})).length&&0===h.parent.crudModule.crudObj.targetEvent.filter((function(e){return e.groupIndex===r})).length&&(t=!1),h.slots=[];var o=h.dateRender[r],l=h.getRenderedDates(o)||o;h.slots.push(o.map((function(e){return+e})));for(var c=0,p=o.length;c<p&&o[c]<=l[l.length-1];c++){h.renderedEvents=[];var u=new Date(o[c].getTime()),d=a.fi(o[c],1),v=h.filterEvents(u,d,i,h.resources[r]);if(t)for(var m=0,g=v;m<g.length;m++){var f=g[m];if(h.parent.resourceBase&&h.setValues(f,r),"allDayEvents"===e)h.renderAllDayEvents(f,c,r,s);else if(h.isAllDayAppointment(f))h.allDayEvents.push((0,n.X$)({},f,null,!0));else{if(h.parent.eventSettings.enableMaxHeight&&h.getOverlapIndex(f,c,!1,r)>0)continue;h.renderNormalEvents(f,c,r,s)}h.cssClass=null,h.groupOrder=null}else for(var y=0,T=v;y<T.length;y++){var w=T[y];h.isAllDayAppointment(w)&&h.allDayEvents.push((0,n.X$)({},w,null,!0))}s+=1}},h=this,c=0,p=r;c<p.length;c++){l(p[c])}},t.prototype.setValues=function(e,t){this.parent.activeViewOptions.group.resources.length>0?(this.cssClass=this.resources[t].cssClass,this.groupOrder=this.resources[t].groupOrder):this.cssClass=this.parent.resourceBase.getCssClass(e)},t.prototype.getResourceList=function(){return Array.apply(null,{length:this.parent.activeViewOptions.group.resources.length>0&&!this.parent.uiStateValues.isGroupAdaptive?this.resources.length:1}).map((function(e,t){return t}))},t.prototype.createAppointmentElement=function(e,t,i,r){var a=this.parent.eventFields,s=e[a.subject]||this.parent.eventSettings.fields.subject.default||this.parent.localeObj.getConstant("addTitle"),l=(0,n.n)("div",{className:o.Dj,attrs:{"data-id":"Appointment_"+e[a.id],"data-guid":e.Guid,role:"button",tabindex:"0","aria-readonly":this.parent.eventBase.getReadonlyAttribute(e),"aria-selected":"false","aria-grabbed":"true","aria-label":this.parent.getAnnouncementString(e)}});e[this.fields.isReadonly]&&(0,n.iQ)([l],"e-read-only");var h,c=(0,n.n)("div",{className:o.VbS});if(l.appendChild(c),this.parent.activeViewOptions.group.resources.length>0){var p=this.parent.uiStateValues.isGroupAdaptive?this.parent.uiStateValues.groupIndex:r;l.setAttribute("data-group-index",p.toString())}var u=i;if((0,n.hX)(this.parent.activeViewOptions.eventTemplate)){var d=(0,n.n)("div",{className:o.YrY,innerHTML:s});if(t)if(e[a.isAllDay])h=[d];else{h=[];var v=(0,n.n)("div",{className:o.AWK+(this.parent.isAdaptive?" "+o.AV8:""),innerHTML:this.parent.getTimeString(e[a.startTime])}),m=(0,n.n)("div",{className:o.AWK+(this.parent.isAdaptive?" "+o.AV8:""),innerHTML:this.parent.getTimeString(e[a.endTime])});(0,n.iQ)([d],"e-text-center"),u.isLeft||h.push(v),h.push(d),u.isRight||h.push(m)}else{var g=this.parent.getTimeString(e[a.startTime])+" - "+this.parent.getTimeString(e[a.endTime]);h=[d,(0,n.n)("div",{className:o.AWK+(this.parent.isAdaptive?" "+o.AV8:""),innerHTML:g}),(0,n.n)("div",{className:o.$lw,innerHTML:e[a.location]||this.parent.eventSettings.fields.location.default||""})]}}else{var f=this.parent.element.id+"_"+this.parent.activeViewOptions.eventTemplateName+"eventTemplate",y=this.parent.uiStateValues.isGroupAdaptive?this.parent.uiStateValues.groupIndex:r,T="eventTemplate"+(this.parent.activeViewOptions.group.resources.length>0?"_"+y:"");h=this.parent.getAppointmentTemplate()(e,this.parent,T,f,!1)}if((0,n.BC)(h,c),!this.parent.isAdaptive&&(!(0,n.hX)(e[a.recurrenceRule])||!(0,n.hX)(e[a.recurrenceID]))){var w=e[a.id]===e[a.recurrenceID]?o.zBw:o.YYP,D=(0,n.n)("div",{className:o.kb2+" "+w});t?c.appendChild(D):l.appendChild(D)}return this.renderSpannedIcon(t?c:l,u),(0,n.hX)(this.cssClass)||(0,n.iQ)([l],this.cssClass),this.applyResourceColor(l,e,"backgroundColor",this.groupOrder),this.renderResizeHandler(l,u,e[this.fields.isReadonly]),l},t.prototype.createMoreIndicator=function(e,t,i){var r=i+t,a=e[r];if(a.childElementCount<=0){var s=(0,n.n)("div",{className:o.I95,id:o.I95+"-"+r.toString()}),l=(0,n.n)("div",{className:o.pSF,attrs:{tabindex:"0",role:"list","data-index":r.toString(),"data-count":"1"},innerHTML:"+1&nbsp;"+(this.parent.isAdaptive?"":this.parent.localeObj.getConstant("more"))});s.appendChild(l),a.appendChild(s),n.Jm.add(l,"click",this.rowExpandCollapse,this)}else{var h=a.querySelector("."+o.pSF),c=parseInt(h.getAttribute("data-count"),10)+1;h.setAttribute("data-count",c.toString()),h.innerHTML="+"+this.parent.globalize.formatNumber(c)+"&nbsp;"+(this.parent.isAdaptive?"":this.parent.localeObj.getConstant("more"))}},t.prototype.renderSpannedIcon=function(e,t){var i=(0,n.n)("div",{className:o._NR+" "+o.kb2});if(t.isLeft){var r=i.cloneNode();(0,n.iQ)([r],o.In),(0,n.Hs)([r],e)}if(t.isRight){var a=i.cloneNode();(0,n.iQ)([a],o.xbd),(0,n.BC)([a],e)}if(t.isTop){var s=i.cloneNode();(0,n.iQ)([s],o._c2),(0,n.Hs)([s],e)}if(t.isBottom){var l=i.cloneNode();(0,n.iQ)([l],o.tes),(0,n.BC)([l],e)}},t.prototype.isSpannedEvent=function(e,t,i){var r=a.JC(this.dateRender[i][t]),s=this.getRenderedDates(this.dateRender[i])||[r];0===s.filter((function(e){return e.getDay()===t})).length&&(r=a.JC(s[0]));var o=this.parent.eventFields,l=a.hw(r,this.startHour,this.endHour),h=(0,n.X$)({},e,null,!0);h.isSpanned={isBottom:!1,isTop:!1},e[o.startTime].getTime()<l.startHour.getTime()&&(h[o.startTime]=l.startHour,h.isSpanned.isTop=!0),e[o.endTime].getTime()>l.endHour.getTime()&&(h[o.endTime]=l.endHour,h.isSpanned.isBottom=!0);var c=this.updateEventMinimumDuration(l,h[o.startTime],h[o.endTime]);return h[o.startTime]=c.startDate,h[o.endTime]=c.endDate,h},t.prototype.renderAllDayEvents=function(e,t,i,r,l){var h=this,c=this.getRenderedDates(this.dateRender[i])||this.dateRender[i];this.parent.activeViewOptions.group.byDate&&(this.slots[0]=[this.dateRender[i][t].getTime()],c=[this.dateRender[i][t]]);var p=this.splitEvent(e,c)[0],u=this.element.querySelector("."+o.tTW+":first-child"),d=u.offsetTop,v=new Date(p[this.parent.eventFields.startTime].getTime()),m=new Date(p[this.parent.eventFields.endTime].getTime()),g=0,f=1,y=c[0].getTime()<=v.getTime()&&a.fi(c.slice(-1)[0],1).getTime()>=v.getTime();if(v<=m&&y){var T=[];if(this.renderedAllDayEvents[i]&&(T=this.renderedAllDayEvents[i].filter((function(t){return t.Guid===e.Guid})),this.parent.activeViewOptions.group.byDate&&(T=T.filter((function(e){return e[h.parent.eventFields.startTime]>=c[t]&&e[h.parent.eventFields.endTime]<=a.fi(new Date(+c[t]),1)})))),0===T.length){var w=p.data.count,D=this.getOverlapIndex(p,t,!0,i);p.Index=D,this.allDayLevel=this.allDayLevel<D?D:this.allDayLevel;var b=p.data.isRight?0:"Day"===this.parent.currentView?4:7;w>=0&&(g=100*w-b),(0,n.hX)(this.renderedAllDayEvents[i])&&(this.renderedAllDayEvents[i]=[]),this.renderedAllDayEvents[i].push((0,n.X$)({},p,null,!0));var C,S=[].slice.call(this.element.querySelector("."+o.IoD).children),A=this.parent.activeViewOptions.group.byDate?this.resources.length*t+i:r,E=this.element.querySelector("."+o.Jvf+":nth-child("+(A+1)+")");C=l?this.parent.inlineModule.createInlineAppointmentElement(e):this.createAppointmentElement(e,!0,p.data,i),(0,n.iQ)([C],o.F1H);var O=(0,n.X$)({},p.data,null,!0);e.data=O;var x={data:e,element:C,cancel:!1};this.parent.trigger(s.MG,x,(function(t){if(!t.cancel){E.appendChild(C);var i=C.offsetHeight;if(f+=(0===D?d:d+D*i)+1,(0,n.sN)(C,{width:g+"%",top:(0,n.IV)(f)}),D>1){h.moreEvents.push(C);for(var r=0,a=w;r<a;r++)h.createMoreIndicator(S,r,A)}u.setAttribute("data-count",h.allDayLevel.toString());var s=4+(!h.parent.uiStateValues.expand&&h.allDayLevel>2?3*i:(h.allDayLevel+1)*i);h.setAllDayRowHeight(s),h.addOrRemoveClass(),h.wireAppointmentEvents(C,e)}}))}}},t.prototype.renderNormalEvents=function(e,t,i,r,s){var l=this.isSpannedEvent(e,t,i),h=l[this.fields.startTime],c=l[this.fields.endTime],p=0,u=a.JC(new Date(this.dateRender[i][t].getTime())),d=a.hw(u,this.startHour,this.endHour),v=this.isValidEvent(e,h,c,d);if(h<=c&&v){var m=this.getHeight(h,c);h.getTime()>d.startHour.getTime()&&(p=this.getTopValue(h,t,i));var g=this.getOverlapIndex(l,t,!1,i);l.Index=g,this.overlapList.push(l),this.overlapList.length>1?((0,n.hX)(this.overlapEvents[g])&&(this.overlapEvents[g]=[]),this.overlapEvents[g].push(l)):(this.overlapEvents=[],this.overlapEvents.push([l]));var f={index:g,left:"0%",width:this.getEventWidth(),day:t,dayIndex:r,record:l,resource:i},y=this.adjustOverlapElements(f);y.appWidth,(0,n.hX)(this.renderedEvents[i])&&(this.renderedEvents[i]=[]),this.renderedEvents[i].push((0,n.X$)({},l,null,!0));var T=void 0;T=s?this.parent.inlineModule.createInlineAppointmentElement(e):this.createAppointmentElement(e,!1,l.isSpanned,i),(0,n.sN)(T,{width:this.parent.eventSettings.enableMaxHeight?"100%":y.appWidth,height:m+"px",top:p+"px"});var w=15*T.querySelectorAll("."+o._NR).length,D=m-40-w,b=T.querySelector("."+o.YrY);!this.parent.isAdaptive&&b&&(b.style.maxHeight=(0,n.IV)(D));var C=this.parent.activeViewOptions.group.byDate?this.resources.length*t+i:r,S={};if(S[this.fields.startTime]=e[this.fields.startTime],S[this.fields.endTime]=e[this.fields.endTime],l.data=S,this.appendEvent(l,T,C,y.appLeft),this.wireAppointmentEvents(T,e),m<this.cellHeight)[].slice.call(T.querySelectorAll("."+o.tFF)).forEach((function(e){e.style.height=Math.ceil(m/e.offsetHeight)+"px"}))}},t.prototype.getEventWidth=function(){var e=(("Day"===this.parent.currentView?97:94)-this.overlapEvents.length)/this.overlapEvents.length;return(e<0?0:e)+"%"},t.prototype.getEventLeft=function(e,t){var i=(parseFloat(e)+1)*t;return(i>99?99:i)+"%"},t.prototype.getTopValue=function(e,t,i){var n=a.hw(a.JC(this.dateRender[i][t]),this.startHour,this.endHour).startHour,r=60*(e.getHours()-n.getHours())+(e.getMinutes()-n.getMinutes());return this.parent.activeViewOptions.timeScale.enable?r*this.cellHeight*this.slotCount/this.interval:0},t.prototype.getOverlapIndex=function(e,t,i,r){var s=this,o=this.parent.eventFields,l=[],h=-1;if(this.overlapEvents=[],i){if(!(0,n.hX)(this.renderedAllDayEvents[r])){var c=a.JC(new Date(this.dateRender[r][t].getTime()));l=this.renderedAllDayEvents[r].filter((function(e){return a.JC(e[o.startTime]).getTime()<=c.getTime()&&a.JC(e[o.endTime]).getTime()>=c.getTime()})),this.parent.activeViewOptions.group.resources.length>0&&(l=this.filterEventsByResource(this.resources[r],l))}}else{var p=(0,n.hX)(this.renderedEvents[r])?[]:this.renderedEvents[r],u=[],d=e[o.startTime],v=e[o.endTime];this.overlapList=p.filter((function(e){return e[o.endTime]>d&&e[o.startTime]<=v||e[o.startTime]>=v&&e[o.endTime]<=d||e[o.endTime].getTime()===e[o.startTime].getTime()&&e[o.startTime].getTime()===d.getTime()&&e[o.endTime]<v})),this.parent.activeViewOptions.group.resources.length>0&&(this.overlapList=this.filterEventsByResource(this.resources[r],this.overlapList)),this.overlapList.forEach((function(e){var t=p.filter((function(t){return t[o.endTime]>e[o.startTime]&&t[o.startTime]<=e[o.endTime]}));s.parent.activeViewOptions.group.resources.length>0&&(t=s.filterEventsByResource(s.resources[r],t));var i=t.filter((function(e){return-1===s.overlapList.indexOf(e)}));i.length>0&&(u=u.concat(i))}));for(var m=0;m<u.length-1;m++)for(var g=m+1;g<u.length;g++)u[m][o.id]===u[g][o.id]&&(u.splice(g,1),g--);this.overlapList=this.overlapList.concat(u);for(var f=0,y=l=this.overlapList;f<y.length;f++){var T=y[f],w=T.Index;(0,n.hX)(this.overlapEvents[w])?this.overlapEvents[w]=[T]:this.overlapEvents[w].push(T)}}if(i||(l=l.filter((function(t){return t[o.startTime]===e[o.startTime]&&t[o.endTime]>e[o.endTime]||t[o.endTime]>e[o.startTime]&&t[o.startTime]<e[o.endTime]||t[o.endTime]===e[o.startTime]&&t[o.startTime]===e[o.endTime]||t[o.startTime].getTime()===e[o.startTime].getTime()&&t[o.endTime].getTime()===e[o.endTime].getTime()||t[o.startTime].getTime()===e[o.startTime].getTime()&&t[o.endTime].getTime()<e[o.endTime].getTime()||t[o.endTime].getTime()>e[o.endTime].getTime()}))),l.length>0){var D=l.map((function(e){return e.Index}));h=D.length>0?this.getSmallestMissingNumber(D):0}return-1===h?0:h},t.prototype.adjustOverlapElements=function(e){for(var t={appWidth:e.width,appLeft:e.left},i=0,r=this.overlapEvents.length;i<r;i++)if(!(0,n.hX)(this.overlapEvents[i]))for(var a=0,s=this.overlapEvents[i].length;a<s;a++){var o=this.parent.activeViewOptions.group.byDate?this.resources.length*e.day+e.resource:e.dayIndex,l=this.element.querySelector("#e-appointment-wrapper-"+o);if(l.childElementCount>0){var h=this.overlapEvents[i][a].Guid;if(l.querySelectorAll('div[data-guid="'+h+'"]').length>0&&h!==e.record.Guid){var c=l.querySelector('div[data-guid="'+h+'"]');parseFloat(e.width)<=parseFloat(c.style.width)?(this.parent.enableRtl?c.style.right=this.getEventLeft(e.width,i):c.style.left=this.getEventLeft(e.width,i),c.style.width=parseFloat(e.width)+"%",t.appWidth=c.style.width):t.appWidth=c.style.width}else{var p=e.width;(0,n.hX)(this.overlapEvents[i-1])&&(p=this.getEventWidth()),t.appWidth=p,t.appLeft=this.getEventLeft(p,e.index)}}}return t},t.prototype.setAllDayRowHeight=function(e){var t=this.parent.element.querySelector("."+o.bI1);"auto"!==this.parent.height&&this.parent.enableAllDayScroll||(0,n.iQ)([t],o.K9U);var i=this.parent.element.querySelector("."+o.IoD);if(i.style.height="",this.parent.uiStateValues.expand&&"auto"!==this.parent.height&&this.parent.enableAllDayScroll)i.style.height=e/12+"em",this.parent.eventBase.allDayExpandScroll(t);else{t.scrollTop=0;for(var r=0,a=this.allDayElement;r<a.length;r++){a[r].style.height=e/12+"em"}(0,n.vy)([t],o.UXo)}this.animation.animate(this.allDayElement[0])},t.prototype.addOrRemoveClass=function(){var e=this;this.moreEvents.filter((function(t){!e.parent.uiStateValues.expand&&e.allDayLevel>2?((0,n.iQ)([t],o.ALx),t.setAttribute("tabindex","-1")):((0,n.vy)([t],o.ALx),t.setAttribute("tabindex","0"))}));var t=this.element.querySelector("."+o.v_o);this.parent.uiStateValues.expand?((0,n.vy)([t],o.RWS),(0,n.iQ)([t],o.qPA)):((0,n.vy)([t],o.qPA),(0,n.iQ)([t],o.RWS)),this.allDayLevel>2?(0,n.vy)([t],o.AV8):(0,n.iQ)([t],o.AV8),[].slice.call(this.element.querySelectorAll("."+o.I95)).forEach((function(t){!e.parent.uiStateValues.expand&&e.allDayLevel>2?(0,n.vy)([t],o.AV8):(0,n.iQ)([t],o.AV8)}))},t.prototype.getEventHeight=function(){var e=(0,n.n)("div",{className:o.Dj,styles:"visibility:hidden"});this.element.querySelector("."+o.Jvf+":first-child").appendChild(e);var t=e.offsetHeight;return(0,n.TF)(e),t},t.prototype.rowExpandCollapse=function(){var e,t=this.element.querySelector("."+o.v_o);this.parent.uiStateValues.expand=t.classList.contains(o.RWS),this.parent.uiStateValues.expand?(t.setAttribute("title",this.parent.localeObj.getConstant("collapseAllDaySection")),t.setAttribute("aria-label","Collapse section"),e=(this.allDayLevel+1)*this.getEventHeight()+4):(t.setAttribute("title",this.parent.localeObj.getConstant("expandAllDaySection")),t.setAttribute("aria-label","Expand section"),e=3*this.getEventHeight()+4),this.setAllDayRowHeight(e),this.addOrRemoveClass(),this.animation.animate(t)},t.prototype.animationUiUpdate=function(){this.parent.notify(s.PR,{})},t.prototype.destroy=function(){!this.parent||this.parent&&this.parent.isDestroyed||(this.removeEventListener(),this.allDayElement=null,this.renderedAllDayEvents=null,this.renderedEvents=null,this.slotCount=null,this.interval=null,this.startHour=null,this.endHour=null,this.element=null,this.fields=null,this.animation=null,e.prototype.destroy.call(this))},t}(r._)},8127:(e,t,i)=>{i.d(t,{B:()=>u});var n=i(8452),r=i(9184),a=i(9037),s=i(1856),o=i(9382),l=i(4144),h=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),c=function(e){function t(t){return e.call(this,t)||this}return h(t,e),t.prototype.createAgendaContentElement=function(e,t,i,a,h){var c,p=this,u=this.parent.eventFields;if("noEvents"===e){var d=[{subject:this.parent.localeObj.getConstant("noEvents")}];c=r.iY.createList(this.parent.createElement,d,{moduleName:"agenda",listClass:this.parent.activeView.viewClass,itemClass:this.parent.activeView.viewClass,template:"<div class="+o.Tv1+">${subject}</div>"})}else{c=r.iY.createList(this.parent.createElement,t,{moduleName:"agenda",listClass:this.parent.activeView.viewClass,itemClass:this.parent.activeView.viewClass}),[].slice.call(c.children).forEach((function(e,i){var r,c=(0,n.n)("div",{className:o.Dj,attrs:{"data-id":"Appointment_"+t[i][p.parent.eventFields.id],"data-guid":t[i].Guid,role:"button",tabindex:"0","aria-readonly":p.parent.eventBase.getReadonlyAttribute(t[i]),"aria-selected":"false","aria-grabbed":"true","aria-label":p.parent.getAnnouncementString(t[i])}});if((0,n.hX)(h)||c.setAttribute("data-group-index",h.toString()),p.parent.eventBase.applyResourceColor(c,t[i],"borderColor",a),(0,n.hX)(p.parent.activeViewOptions.eventTemplate))r=p.createAppointment(t[i]);else{(0,n.iQ)([c],o.KF3);var d=p.parent.element.id+"_"+p.parent.activeViewOptions.eventTemplateName+"eventTemplate";if(r=p.parent.getAppointmentTemplate()(t[i],p.parent,"eventTemplate",d,!1),!(0,n.hX)(t[i][u.recurrenceRule])){var v=t[i][u.id]===t[i][u.recurrenceID]?o.zBw:o.YYP;c.appendChild((0,n.n)("div",{className:o.kb2+" "+v}))}}(0,n.BC)([].slice.call(r),c),s.gS(e),e.appendChild(c);var m={data:(0,n.X$)({},t[i],null,!0),element:e,cancel:!1};p.parent.trigger(l.MG,m,(function(t){t.cancel&&(0,n.TF)(e)}))}))}return i.appendChild(c),("MonthAgenda"===this.parent.currentView&&this.parent.activeViewOptions.group.resources.length>0||"Agenda"===this.parent.currentView)&&(0,n.iQ)([i],o.i6J),this.parent.renderTemplates(),i},t.prototype.createAppointment=function(e){var t=this.parent.eventFields,i=e[t.subject]||this.parent.eventSettings.fields.subject.default||this.parent.localeObj.getConstant("addTitle"),r=e[t.location]||this.parent.eventSettings.fields.location.default,a=(0,n.n)("div",{className:o.MXb});if((0,n.hX)(r)||""===r||(i+=","),a.appendChild((0,n.n)("div",{className:o.YrY,innerHTML:i})),(0,n.hX)(r)||""===r||a.appendChild((0,n.n)("div",{className:o.$lw,innerHTML:r})),!(0,n.hX)(e[t.recurrenceRule])){var l=e[t.id]===e[t.recurrenceID]?o.zBw:o.YYP;a.appendChild((0,n.n)("div",{className:o.kb2+" "+l}))}var h=e[t.startTime],c=e[t.endTime],p=e[t.isAllDay],u=this.parent.localeObj.getConstant("allDay"),d=this.parent.getTimeString(h)+" - "+this.parent.getTimeString(c);(0,n.hX)(e.data)||(u=((c.getTimezoneOffset()!==h.getTimezoneOffset()?c.getTime()-h.getTime()+36e5:c.getTime()-h.getTime())/s.ec>=1?u:d)+" ("+this.parent.localeObj.getConstant("day")+" "+e.data.index+"/"+e.data.count+")");var v=!(0,n.hX)(e.data)||p?u:d;return[a,(0,n.n)("div",{className:o.e4R,innerHTML:v})]},t.prototype.processAgendaEvents=function(e){var t=[];if((0,n.hX)(e))return t;for(var i=0,r=e;i<r.length;i++){var a=r[i],s=this.parent.eventBase.splitEventByDay(a);t=t.concat(s.length>1?s:a)}return t},t.prototype.wireEventActions=function(){for(var e=0,t=[].slice.call(this.parent.element.querySelectorAll("."+o.Dj));e<t.length;e++){var i=t[e];this.parent.eventBase.wireAppointmentEvents(i,this.parent.getEventDetails(i),!0)}for(var r=0,a=[].slice.call(this.parent.element.querySelectorAll(".e-m-date"));r<a.length;r++){i=a[r];n.Jm.add(i,"click",this.parent.agendaModule.dayNavigationClick,this)}},t.prototype.calculateResourceTableElement=function(e,t,i){if((0,n.hX)(this.parent.resourceBase.lastResourceLevel)){var r=this.getDateSlots(this.renderDates,this.parent.activeViewOptions.workDays);this.parent.resourceBase.generateResourceLevels(r)}for(var a=s.fi(new Date(i.getTime()),t),l=this.parent.activeViewOptions.group.byDate||"MonthAgenda"===this.parent.currentView?t:1,h=this.parent.resourceBase.resourceCollection,c=this.parent.resourceBase.lastResourceLevel,p=i,u=0;u<l;u++){var d=[],v=[],m=0,g=void 0,f=void 0,y=s.fi(p,u),T=this.parent.activeViewOptions.group.byDate||"MonthAgenda"===this.parent.currentView?s.fi(y,1):a,w=this.parent.eventBase.filterEvents(y,T);if(w.length>0||!this.parent.hideEmptyAgendaDays||"MonthAgenda"===this.parent.currentView){for(var D=0;D<c.length;D++){t=this.parent.activeViewOptions.group.byDate&&"MonthAgenda"!==this.parent.currentView?1:t;var b=[];i=y;var C=this.parent.eventBase.filterEvents(i,a,w,c[D]);if(C.length>0||!this.parent.hideEmptyAgendaDays||"MonthAgenda"===this.parent.currentView)for(var S=0;S<t;S++){var A=this.parent.eventBase.filterEvents(i,s.fi(i,1),C,void 0);if((A.length>0||!this.parent.hideEmptyAgendaDays||"MonthAgenda"===this.parent.currentView)&&(b.push(A[0]),g={rowSpan:1,type:"eventColumn",resource:h[h.length-1],groupIndex:c[D].groupIndex,groupOrder:c[D].groupOrder,resourceData:c[D].resourceData,eventData:A,date:i},f={rowSpan:1,type:"dateColumn",resource:h[h.length-1],groupOrder:c[D].groupOrder,resourceData:c[D].resourceData,date:i},d[m]||(d[m]=[]),d[m].push(g),d[m].push(f),m++),(i=s.fi(i,1)).getTime()>=a.getTime()||this.parent.activeViewOptions.group.byDate||"MonthAgenda"===this.parent.currentView){d[d.length-1][1].cssClass=o.i6J;var E={rowSpan:b.length,type:"resourceColumn",resource:h[h.length-1],groupOrder:c[D].groupOrder.slice(0,-1),resourceData:c[D].resourceData,groupIndex:d.length-b.length,className:[o.t2Z],date:i};d[d.length-b.length].push(E),v.push((0,n.X$)({},E,null,!0));break}}}for(var O=h.slice(0,-1),x=[],k=0,V=0;V<O.length;V++){b=O[O.length-(V+1)].dataSource;for(var M=0;M<b.length;M++)for(var R=0,I=0;I<v.length;I++)v[I].groupOrder[O.length-(V+1)]===b[M][O[O.length-(V+1)].idField]&&(k+=v[I].rowSpan,x.push((0,n.X$)({},v[I],null,!0))),++R===v.length&&x.length>0&&(x[0].rowSpan=k,x[0].type="parentColumnLevel_"+(V+1),x[0].resource=O[O.length-(V+1)],x[0].resourceData=b[M],x[0].date=i,d[x[0].groupIndex].push(x[0]),x=[],k=0)}this.createResourceTableRow(d,e)}}0===this.parent.eventBase.filterEvents(p,a).length&&!this.parent.activeViewOptions.allowVirtualScrolling&&this.parent.hideEmptyAgendaDays&&this.renderEmptyContent(e,p)},t.prototype.createResourceTableRow=function(e,t){var i,r,a,l=(0,n.n)("tr",{attrs:{role:"row"}}),h=(0,n.n)("td",{attrs:{role:"gridcell","aria-selected":"false"}}),c=0;if(this.parent.activeViewOptions.group.byDate||"MonthAgenda"===this.parent.currentView){for(var p=[],u=this.parent.resourceBase.resourceCollection.slice(0,-1),d=0;d<e.length;d++)p=p.concat(e[d]);a=u.length>0?"parentColumnLevel_"+u.length:"resourceColumn";for(var v=p.filter((function(e){return e.type===a})),m=0;m<v.length;m++)c+=v[m].rowSpan}for(var g=0;g<e.length;g++){i=l.cloneNode();for(var f=e[g].length-1;f>=0;f--){var y=e[g][f],T=h.cloneNode();if("dateColumn"===y.type){if(this.parent.activeViewOptions.group.byDate||"MonthAgenda"===this.parent.currentView){r=e[g][f];continue}T.setAttribute("data-date",y.date.getTime().toString()),T.appendChild(this.createDateHeaderElement(y.date));var w=[o._wr,o.$T2];y.cssClass&&w.push(y.cssClass),(0,n.iQ)([T],w),i.appendChild(T)}else if("eventColumn"===y.type){var D=0===y.eventData.length?"noEvents":"data";(T=this.createAgendaContentElement(D,y.eventData,T,y.groupOrder,y.groupIndex)).setAttribute("data-date",y.date.getTime().toString()),(this.parent.activeViewOptions.group.byDate||"MonthAgenda"===this.parent.currentView)&&(0,n.iQ)([T],[o._wr,o.tS6]),i.appendChild(T)}else T.setAttribute("rowspan",y.rowSpan.toString()),(0,n.iQ)([T],o.hGE),this.setResourceHeaderContent(T,y,y.className[0]),i.appendChild(T)}if(this.parent.activeViewOptions.group.byDate&&0===g&&"MonthAgenda"!==this.parent.currentView){(T=h.cloneNode()).setAttribute("data-date",r.date.getTime().toString()),T.setAttribute("rowspan",c.toString()),T.appendChild(this.createDateHeaderElement(r.date)),(0,n.iQ)([T],[o._wr,o.$T2,o.RtA]);var b=s.n(this.parent.selectedDate.getTime(),r.date.getTime());if(i.setAttribute("aria-rowindex",b.toString()),this.parent.element.querySelector('.e-agenda-view tr[aria-rowindex="'+b+'"]'))break;i.insertBefore(T,i.childNodes[0])}t.appendChild(i)}},t.prototype.createDateHeaderElement=function(e){var t;if(this.parent.activeViewOptions.dateHeaderTemplate){t=(0,n.n)("div",{className:o.qun});var i={date:e,type:"dateHeader"},r=this.parent.element.id+"_"+this.parent.activeViewOptions.dateHeaderTemplateName+"dateHeaderTemplate",a=[].slice.call(this.parent.getDateHeaderTemplate()(i,this.parent,"dateHeaderTemplate",r,!1));(0,n.BC)(a,t)}else t=this.getMobileDateElement(e,o.qun);return t},t.prototype.renderEmptyContent=function(e,t){var i=this.createTableRowElement(t,"noEvents"),r=i.children[0],a=(0,n.n)("div",{className:o.Xeq,innerHTML:this.parent.localeObj.getConstant("noEvents")});r.appendChild(a),e.appendChild(i)},t.prototype.createTableRowElement=function(e,t){var i=s.n(this.parent.selectedDate.getTime(),e.getTime()),r=(0,n.n)("tr",{attrs:{role:"row","aria-rowindex":i.toString()}}),a=(0,n.n)("td",{attrs:{class:"monthHeader"===t?o.qm_:o._wr,role:"gridcell","aria-selected":"false","aria-colindex":i.toString(),"data-date":e.getTime().toString()}}),l=a.cloneNode(),h=a.cloneNode();return r.appendChild(l),"noEvents"!==t&&r.appendChild(h),r},t.prototype.destroy=function(){e.prototype.destroy.call(this)},t}(a.D),p=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),u=function(e){function t(t){var i=e.call(this,t)||this;return i.viewClass="e-agenda-view",i.isInverseTableSelect=!1,i.agendaDates={},i.virtualScrollTop=1,i}return p(t,e),t.prototype.getModuleName=function(){return"agenda"},t.prototype.renderLayout=function(){this.agendaDates={},this.element=(0,n.n)("div",{className:o.xNK}),(0,n.iQ)([this.element],this.viewClass),this.element.appendChild(this.createTableLayout(o.Sid)),this.element.querySelector("table").setAttribute("role","presentation"),this.parent.element.querySelector("."+o.otH).appendChild(this.element);var e=(0,n.n)("tr");this.element.querySelector("tbody").appendChild(e);var t=(0,n.n)("td");e.appendChild(t);var i=(0,n.n)("div",{className:o._oL});t.appendChild(i);var r=this.createTableLayout(o.s2p);i.appendChild(r);var a=r.querySelector("tbody"),h=s.JC(this.parent.selectedDate);this.renderEmptyContent(a,h),this.wireEvents(),this.parent.resourceBase&&this.parent.resourceBase.generateResourceLevels([{renderDates:this.parent.activeView.renderDates}]),this.parent.uiStateValues.isGroupAdaptive&&!this.parent.element.querySelector("."+o.xKf)&&this.renderResourceMobileLayout(),this.parent.notify(l.PR,{})},t.prototype.eventLoad=function(e){this.dataSource=(0,n.X$)([],this.parent.eventsData,null,!0);for(var t=0,i=this.parent.eventsData;t<i.length;t++){delete i[t].generatedDates}var r=this.parent.activeViewOptions.allowVirtualScrolling?e.processedData:this.parent.eventsProcessed;if(this.parent.uiStateValues.isGroupAdaptive){var a=this.parent.resourceBase.lastResourceLevel[this.parent.uiStateValues.groupIndex];this.dataSource=this.parent.eventBase.filterEventsByResource(a,this.dataSource),r=this.parent.eventBase.filterEventsByResource(a,r)}this.parent.eventsProcessed=this.processAgendaEvents(r);var h=s.JC(this.parent.selectedDate),c=this.element.querySelector("."+o.s2p+" tbody");s.gS(c),this.renderInitialContent(c,h),this.wireEventActions(),(0,n.kp)(c,"."+o._oL).scrollTop=1,this.parent.notify(l.ly,{}),this.parent.activeViewOptions.allowVirtualScrolling||this.retainScrollPosition()},t.prototype.refreshEvent=function(e){for(var t=[],i=this.parent.eventFields,r=0,a=this.dataSource;r<a.length;r++){var s=a[r];(0,n.hX)(s[i.recurrenceID])&&!(0,n.hX)(s[i.recurrenceRule])&&!(0,n.hX)(s.generatedDates)&&e>=s.generatedDates.end&&(t=t.concat(this.parent.eventBase.generateOccurrence(s,e)))}this.parent.eventsProcessed=this.parent.eventsProcessed.concat(this.processAgendaEvents(t))},t.prototype.refreshHeader=function(){var e=this.element.querySelector("."+o.s2p+" tbody");this.parent.activeViewOptions.group.byDate?s.gS(e):(0,n.TF)(e.firstElementChild);var t=s.JC(this.parent.selectedDate),i=(0,n.n)("tbody"),r=new Date(t.getTime()),a=this.parent.activeViewOptions.allowVirtualScrolling&&this.parent.hideEmptyAgendaDays?this.getEndDateFromStartDate(r):s.fi(r,this.parent.agendaDaysCount);this.renderContent(i,r,a),(0,n.BC)([].slice.call(i.childNodes),e)},t.prototype.renderInitialContent=function(e,t){var i=(0,n.n)("tbody"),r=new Date(t.getTime()),a=this.parent.activeViewOptions.allowVirtualScrolling&&this.parent.hideEmptyAgendaDays?this.getEndDateFromStartDate(r):s.fi(r,this.parent.agendaDaysCount);if(this.renderContent(i,r,a),(0,n.BC)([].slice.call(i.childNodes),e),this.parent.activeViewOptions.allowVirtualScrolling&&this.parent.hideEmptyAgendaDays&&this.parent.eventsData.length>0)for(var o=this.getContentAreaElement(),l=o.querySelector(".e-content-table");o.offsetWidth<=o.clientWidth&&!(this.parent.isAdaptive&&l.offsetHeight>=o.clientHeight);){var h=(0,n.n)("tbody");if(a=r,r=s.fi(a,-this.parent.agendaDaysCount),this.renderContent(h,r,a),(0,n.Hs)([].slice.call(h.childNodes),e),r<=this.parent.minDate)break}e.childNodes.length<=0&&this.renderEmptyContent(e,t)},t.prototype.renderContent=function(e,t,i){var r,a=this.parent.eventFields,l=new Date(t.getTime()),h=this.appointmentFiltering(l,i);if(h.length>0&&this.parent.activeViewOptions.allowVirtualScrolling&&this.parent.hideEmptyAgendaDays&&(t=h[0][a.startTime],t=new Date(new Date(t.getTime()).setHours(0,0,0,0)),this.updateHeaderText(h[0][a.startTime])),!this.parent.hideEmptyAgendaDays||this.parent.agendaDaysCount>0&&h.length>0){if(this.parent.activeViewOptions.group.resources.length>0&&!this.parent.uiStateValues.isGroupAdaptive){var c=t;this.parent.activeViewOptions.group.byDate||(this.parent.activeViewOptions.allowVirtualScrolling=!1,c=l,this.parent.headerModule&&(this.parent.headerModule.updateDateRange(this.parent.activeView.getDateRangeText()),this.parent.headerModule.updateHeaderItems("remove"))),this.calculateResourceTableElement(e,this.parent.agendaDaysCount,c)}else for(var p=0;p<this.parent.agendaDaysCount;p++){var u=this.appointmentFiltering(t),d=this.createTableRowElement(t,"data");if(this.element.querySelector('tr[aria-rowindex="'+parseInt(d.getAttribute("aria-rowindex"),10)+'"]'))t=s.fi(t,1);else{var v=d.children[0],m=d.children[1];if(u.length>0||!this.parent.hideEmptyAgendaDays&&0===u.length){var g=this.parent.hideEmptyAgendaDays||0!==u.length?"data":"noEvents";v.appendChild(this.createDateHeaderElement(t)),d.appendChild(v);var f=this.createAgendaContentElement(g,u,m);d.appendChild(f),f.querySelectorAll("li").length>0&&e.appendChild(d)}else this.parent.activeViewOptions.allowVirtualScrolling&&p--;if(this.isCurrentDate(new Date(t.getTime()))&&(0,n.iQ)(v.childNodes,o.LrQ),(t=s.fi(t,1)).getTime()>i.getTime())break}}r=new Date(t.getTime()-s.ec)}this.agendaDates={start:l,end:r}},t.prototype.agendaScrolling=function(e){this.parent.quickPopup&&this.parent.quickPopup.quickPopupHide(),this.parent.activeViewOptions.allowVirtualScrolling&&this.virtualScrolling(e),this.parent.activeViewOptions.allowVirtualScrolling||this.setPersistence()},t.prototype.virtualScrolling=function(e){var t,i=e.target,r=i.scrollTop,a=i.scrollHeight,o=r+i.clientHeight,l=this.virtualScrollTop<r?"next":"previous",h=i.querySelector("tbody"),c=(0,n.n)("tbody"),p=this.getElementFromScrollerPosition(e),u=this.parent.getDateFromElement(p);if(0===r){if(t=this.getPreviousNextDate(s.fi(u,-1),l),this.appointmentFiltering(t.start,t.end).length>0||!this.parent.hideEmptyAgendaDays){this.renderContent(c,t.start,t.end),(0,n.Hs)([].slice.call(c.childNodes),h),this.wireEventActions();for(var d=0,v=h.children;d<v.length;d++)if(v[d].getAttribute("aria-rowindex")===p.getAttribute("aria-colindex")){var m=v[d].offsetTop-this.element.querySelector(".e-agenda-item").offsetHeight;i.scrollTop=m;break}this.updateHeaderText(u)}}else o>=a-5?(t=this.getPreviousNextDate(s.fi(u,1),l),(this.appointmentFiltering(t.start,t.end).length>0||!this.parent.hideEmptyAgendaDays)&&(this.renderContent(c,t.start,t.end),(0,n.BC)([].slice.call(c.childNodes),h),this.wireEventActions(),this.updateHeaderText(u))):this.updateHeaderText(u);this.virtualScrollTop=r;var g=this.parent.eventBase.getSelectedAppointments();g.length>0&&g[g.length-1].focus()},t.prototype.getElementFromScrollerPosition=function(e){var t,i,r=e.target,a=r.scrollTop,s=r.scrollHeight,l=a+r.clientHeight,h=[].slice.call(r.querySelectorAll(".e-agenda-item"));if(h.length>0)if(0===a)i=h[0],t=(0,n.kp)(i,"."+o._wr);else if(l===s)i=h[h.length-1],t=(0,n.kp)(i,"."+o._wr);else for(var c=0,p=h.length;c<p;c++)if((i=h[c]).getBoundingClientRect().top>=0){t=(0,n.kp)(i,"."+o._wr);break}return t},t.prototype.updateHeaderText=function(e){this.parent.showHeaderBar&&this.parent.headerModule.updateDateRange(this.getDateRangeText(e))},t.prototype.getPreviousNextDate=function(e,t){var i=new Date(e.getTime()),n=this.getStartDateFromEndDate(e),r=this.getEndDateFromStartDate(e),a=0;do{if((this.appointmentFiltering(i).length>0||!this.parent.hideEmptyAgendaDays)&&a++,(i=s.fi(i,"next"===t?1:-1))<n||i>r)break}while(a!==this.parent.agendaDaysCount);var o=s.fi(i,"next"===t?-1:1);return"next"===t?{start:e,end:s.fi(o,1)}:{start:o,end:s.fi(e,1)}},t.prototype.appointmentFiltering=function(e,t){var i,r;!(0,n.hX)(e)&&(0,n.hX)(t)?(i=s.JC(new Date(e.getTime())),r=s.ib(new Date(i.getTime()),s.ec)):(i=new Date(e.getTime()),r=new Date(t.getTime()));var a=this.parent.eventBase.filterEvents(i,r);return 0===a.length&&(this.refreshEvent(e),a=this.parent.eventBase.filterEvents(i,r)),a},t.prototype.getStartDateFromEndDate=function(e){var t,i=this.parent.eventFields;if(this.parent.eventsProcessed.length>0){var n=Math.min.apply(Math,this.parent.eventsProcessed.map((function(e){return e[i.startTime].getTime()})));t=this.parent.hideEmptyAgendaDays?new Date(n):this.parent.minDate}else t=this.parent.hideEmptyAgendaDays?s.PS(e,-1):this.parent.minDate;return s.JC(t)},t.prototype.getEndDateFromStartDate=function(e){var t,i=this.parent.eventFields;if(this.parent.eventsProcessed.length>0){var n=Math.max.apply(Math,this.parent.eventsProcessed.map((function(e){return e[i.endTime].getTime()})));t=this.parent.hideEmptyAgendaDays?new Date(n):this.parent.maxDate}else t=this.parent.hideEmptyAgendaDays?s.PS(e,1):this.parent.maxDate;return s.JC(s.fi(t,1))},t.prototype.getNextPreviousDate=function(e){var t="next"===e?1:-1;return s.fi(this.parent.selectedDate,t)},t.prototype.startDate=function(){return s.JC(this.parent.selectedDate)},t.prototype.endDate=function(){return this.parent.activeViewOptions.allowVirtualScrolling?this.getEndDateFromStartDate(this.startDate()):s.fi(this.startDate(),this.parent.agendaDaysCount)},t.prototype.getDateRangeText=function(e){var t=this.parent.activeViewOptions.dateFormat?this.parent.activeViewOptions.dateFormat:"MMMM y";if(this.parent.activeViewOptions.allowVirtualScrolling||this.parent.isAdaptive){var i=(0,n.hX)(e)?this.parent.selectedDate:e;return s.nw(this.parent.globalize.formatDate(i,{format:t,calendar:this.parent.getCalendarMode()}),"multiple")}var r=this.parent.selectedDate,a=s.fi(r,this.parent.agendaDaysCount-1);return this.formatDateRange(r,a)},t.prototype.dayNavigationClick=function(e){var t=(0,n.kp)(e.currentTarget,"."+o._wr),i=this.parent.getDateFromElement(t);(0,n.hX)(i)||this.parent.isAdaptive||!this.parent.isMinMaxDate(i)||(this.parent.setProperties({selectedDate:i},!0),this.parent.changeView("Day",e))},t.prototype.wireEvents=function(){n.Jm.add(this.element.querySelector("."+o._oL),l.W2,this.agendaScrolling,this)},t.prototype.unWireEvents=function(){n.Jm.remove(this.element.querySelector("."+o._oL),l.W2,this.agendaScrolling);for(var e=0,t=[].slice.call(this.element.querySelectorAll(".e-m-date"));e<t.length;e++){var i=t[e];n.Jm.remove(i,"click",this.dayNavigationClick)}},t.prototype.addEventListener=function(){this.parent.on(l.bk,this.onAgendaScrollUiUpdate,this),this.parent.on(l.yU,this.eventLoad,this)},t.prototype.removeEventListener=function(){this.parent&&(this.parent.off(l.bk,this.onAgendaScrollUiUpdate),this.parent.off(l.yU,this.eventLoad))},t.prototype.onAgendaScrollUiUpdate=function(){var e=this.getHeaderBarHeight();this.parent.headerModule&&(this.parent.activeViewOptions.allowVirtualScrolling?this.parent.headerModule.updateHeaderItems("add"):this.parent.headerModule.updateHeaderItems("remove"));var t=this.element.querySelector("."+o._oL);"auto"!==this.parent.height&&(t.style.height=(0,n.IV)(this.parent.element.offsetHeight-e))},t.prototype.destroy=function(){!this.parent||this.parent&&this.parent.isDestroyed||this.element&&(this.unWireEvents(),this.parent.resourceBase&&this.parent.resourceBase.destroy(),this.parent.headerModule&&this.parent.activeViewOptions.allowVirtualScrolling&&this.parent.headerModule.updateHeaderItems("remove"),e.prototype.destroy.call(this))},t}(c)},4966:(e,t,i)=>{i.d(t,{L:()=>a});var n=i(5600),r=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),a=function(e){function t(t){var i=e.call(this,t)||this;return i.viewClass="e-day-view",i}return r(t,e),t.prototype.getModuleName=function(){return"day"},t}(n.W)},966:(e,t,i)=>{i.d(t,{f:()=>c});var n=i(8452),r=i(9037),a=i(4953),s=i(1856),o=i(4144),l=i(9382),h=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),c=function(e){function t(t){var i=e.call(this,t)||this;return i.dayNameFormat="wide",i.viewClass="e-month-view",i.isInverseTableSelect=!1,i.monthEvent=null,i.monthDates={},i}return h(t,e),t.prototype.addEventListener=function(){this.parent.on(o.bk,this.onScrollUIUpdate,this),this.parent.on(o.yU,this.onDataReady,this),this.parent.on(o.jo,this.onCellClick,this)},t.prototype.removeEventListener=function(){this.parent&&(this.parent.off(o.bk,this.onScrollUIUpdate),this.parent.off(o.yU,this.onDataReady),this.parent.off(o.jo,this.onCellClick))},t.prototype.onDataReady=function(e){this.monthEvent=new a.l(this.parent),this.monthEvent.renderAppointments(),this.parent.notify(o.ly,{})},t.prototype.onCellClick=function(e){},t.prototype.onContentScroll=function(e){this.parent.removeNewEventElement(),this.parent.notify(o.HT,e),this.scrollTopPanel(e.target),this.scrollLeftPanel(e.target),this.setPersistence()},t.prototype.scrollLeftPanel=function(e){var t=this.getLeftPanelElement();t&&(t.scrollTop=e.scrollTop)},t.prototype.getLeftPanelElement=function(){return this.element.querySelector("."+l.Wyf)},t.prototype.onScrollUIUpdate=function(e){var t=this.getHeaderBarHeight(),i=this.getDatesHeaderElement(),r=this.getContentAreaElement(),a=this.parent.element.offsetHeight-t-i.offsetHeight,o=this.getLeftPanelElement();"auto"!==this.parent.height&&this.setContentHeight(r,o,a);var h=s.F_();if(i.firstElementChild.style[e.cssProperties.rtlBorder]="",i.style[e.cssProperties.rtlPadding]="",r.offsetWidth-r.clientWidth>0?(i.firstElementChild.style[e.cssProperties.border]=h>0?"1px":"0px",i.style[e.cssProperties.padding]=h>0?h-1+"px":"0px"):(i.firstElementChild.style[e.cssProperties.border]="",i.style[e.cssProperties.padding]=""),this.setColWidth(r),e.scrollPosition)o&&(o.scrollTop=e.scrollPosition.top),r.scrollTop=e.scrollPosition.top,r.scrollLeft=e.scrollPosition.left;else{var c=this.element.querySelector("."+l.Zas+'[data-date="'+this.parent.selectedDate.getTime().toString()+'"]');(0,n.hX)(c)?r.scrollLeft=0:r.scrollLeft=this.parent.enableRtl?-(this.parent.getContentTable().offsetWidth-c.offsetLeft-c.offsetWidth):c.offsetLeft}this.retainScrollPosition()},t.prototype.setContentHeight=function(e,t,i){e.style.height="auto","Month"===this.parent.currentView&&(e.style.height=(0,n.IV)(i)),t&&("MonthAgenda"===this.parent.currentView&&(i=this.element.querySelector("."+l.s2p).offsetHeight),t.style.height="auto",t.style.height=(0,n.IV)(i-this.getScrollXIndent(e)))},t.prototype.generateColumnLevels=function(){var e=[],t=this.getDateSlots(this.renderDates,this.parent.activeViewOptions.workDays);if(this.parent.activeViewOptions.group.resources.length>0){if(e=this.parent.resourceBase.generateResourceLevels(t),"MonthAgenda"===this.parent.currentView&&(e=[t]),this.parent.uiStateValues.isGroupAdaptive&&this.parent.resourceBase.lastResourceLevel.length>0){var i=this.parent.resourceBase.lastResourceLevel[this.parent.uiStateValues.groupIndex];e=[this.getDateSlots(i.renderDates,i.workDays)]}}else e.push(t);return this.colLevels=e,e},t.prototype.getDateSlots=function(e,t){for(var i=this.parent.activeViewOptions.showWeekend?s.ed:t.length,n=[],r=this.isCurrentMonth(this.parent.selectedDate),a=0;a<i;a++){var o=[l.Zas],h=e.slice(0,i).map((function(e){return e.getDay()}));r&&h.indexOf(this.parent.getCurrentTime().getDay())===a&&o.push(l.KSz),n.push({date:e[a],type:"monthDay",className:o,colSpan:1,workDays:t})}return n},t.prototype.getDayNameFormat=function(){return this.parent.isAdaptive||this.parent.activeViewOptions.group.resources.length>0?"abbreviated":"wide"},t.prototype.renderLayout=function(e){this.dayNameFormat=this.getDayNameFormat(),this.setPanel((0,n.n)("div",{className:l.xNK}));var t=[this.viewClass];t.push(e),this.parent.activeViewOptions.group.byDate&&t.push("e-by-date"),this.parent.activeViewOptions.allowVirtualScrolling&&t.push(l.PES),this.parent.rowAutoHeight&&this.parent.eventSettings.ignoreWhitespace&&t.push(l.fDb),(0,n.iQ)([this.element],t),this.renderPanel(e),this.element.appendChild(this.createTableLayout(l.Sid)),this.element.querySelector("table").setAttribute("role","presentation"),this.colLevels=this.generateColumnLevels(),this.renderHeader(),this.renderContent();var i="MonthAgenda"===this.parent.currentView?this.parent.activeView.getPanel():this.parent.element;this.parent.uiStateValues.isGroupAdaptive&&!i.querySelector("."+l.xKf)&&this.renderResourceMobileLayout(),this.parent.notify(o.PR,{}),this.parent.uiStateValues.isCustomMonth&&(this.parent.uiStateValues.isCustomMonth=!1)},t.prototype.refreshHeader=function(){(0,n.TF)(this.element.querySelector("tbody tr")),this.renderHeader(),this.parent.notify(o.PR,{})},t.prototype.wireCellEvents=function(e){n.Jm.add(e,"mousedown",this.parent.workCellAction.cellMouseDown,this.parent.workCellAction),n.Jm.add(e,"click",this.parent.workCellAction.cellClick,this.parent.workCellAction),this.parent.isAdaptive||n.Jm.add(e,"dblclick",this.parent.workCellAction.cellDblClick,this.parent.workCellAction)},t.prototype.renderHeader=function(){var e=(0,n.n)("tr");this.renderLeftIndent(e);var t=(0,n.n)("td");t.appendChild(this.renderDatesHeader()),e.appendChild(t),(0,n.Hs)([e],this.element.querySelector("tbody"))},t.prototype.renderLeftIndent=function(e){this.parent.activeViewOptions.showWeekNumber&&e.appendChild((0,n.n)("td",{className:"e-left-indent"}))},t.prototype.renderContent=function(){var e=(0,n.n)("tr");this.parent.activeViewOptions.showWeekNumber&&e.appendChild(this.renderWeekNumberContent());var t=(0,n.n)("td"),i=(0,n.n)("div",{className:l._oL}),r=this.renderContentArea();if("Month"===this.parent.currentView)i.appendChild(r);else{var a=(0,n.n)("div",{className:l.otH});a.appendChild(r),i.appendChild(a)}n.Jm.add(i,"scroll",this.onContentScroll,this),t.appendChild(i),e.appendChild(t),this.element.querySelector("tbody").appendChild(e),this.renderAppointmentContainer()},t.prototype.renderWeekNumberContent=function(){var e=this.renderDates.map((function(e){return new Date(+e)})),t=(0,n.n)("td"),i=(0,n.n)("div",{className:l.Wyf});t.appendChild(i);var r=this.createTableLayout();i.appendChild(r);for(var a=this.parent.activeViewOptions.showWeekend?s.ed:this.parent.activeViewOptions.workDays.length,o=0,h=this.renderDates.length/a;o<h;o++){var c=e.splice(0,a),p=this.parent.getWeekNumberContent(c);r.querySelector("tbody").appendChild(this.createWeekNumberElement(p))}return t},t.prototype.renderAppointmentContainer=function(){},t.prototype.renderDatesHeader=function(){var e=(0,n.n)("div",{className:l._GU}),t=(0,n.n)("div",{className:l.bI1});e.appendChild(t);var i=this.createTableLayout();this.createColGroup(i,this.colLevels[this.colLevels.length-1]);for(var r=(0,n.n)("tr"),a=0;a<this.colLevels.length;a++){for(var s=this.colLevels[a],o=r.cloneNode(),h=0;h<s.length;h++){var c=s[h];o.appendChild(this.createHeaderCell(c))}i.querySelector("tbody").appendChild(o)}return t.appendChild(i),e},t.prototype.createHeaderCell=function(e){var t=(0,n.n)("td");if(this.addAttributes(e,t),"monthDay"===e.type){var i=(0,n.n)("span",{innerHTML:s.nw(this.parent.getDayNames(this.dayNameFormat)[e.date.getDay()],"single")});t.appendChild(i)}if("resourceHeader"===e.type&&this.setResourceHeaderContent(t,e),"dateHeader"===e.type){if((0,n.iQ)([t],l.Sy$),t.setAttribute("data-date",e.date.getTime().toString()),this.parent.activeViewOptions.dateHeaderTemplate){var r={date:e.date,type:e.type},a=this.parent.element.id+"_"+this.parent.activeViewOptions.dateHeaderTemplateName+"dateHeaderTemplate",h=[].slice.call(this.parent.getDateHeaderTemplate()(r,this.parent,"dateHeaderTemplate",a,!1));h&&h.length&&(0,n.BC)(h,t)}else{i=(0,n.n)("span",{className:l.NG$});var c=this.parent.globalize.formatDate(e.date,{skeleton:"full",calendar:this.parent.getCalendarMode()});i.setAttribute("title",s.nw(c,"multiple"));var p=!this.parent.calendarUtil.isMonthStart(e.date)||this.isCurrentDate(e.date)||this.parent.isAdaptive?this.parent.globalize.formatDate(e.date,{skeleton:"d",calendar:this.parent.getCalendarMode()}):this.parent.globalize.formatDate(e.date,{format:"MMM d",calendar:this.parent.getCalendarMode()});i.innerHTML=s.nw(p,"single"),t.appendChild(i)}this.wireCellEvents(t)}var u={elementType:e.type,element:t,date:e.date,groupIndex:e.groupIndex};return this.parent.trigger(o.TF,u),t},t.prototype.getContentSlots=function(){if(!this.colLevels[this.colLevels.length-1]||!this.colLevels[this.colLevels.length-1][0])return[];var e=[],t=function(t,i,n,r){var a={date:new Date(+i),groupIndex:n.groupIndex,workDays:n.workDays,type:"monthCells",className:r||[l.fv4]};e[t]||(e[t]=[]),e[t].push(a)},i="MonthAgenda"!==this.parent.currentView&&this.parent.activeViewOptions.group.resources.length>0;if(!i||this.parent.uiStateValues.isGroupAdaptive||this.parent.activeViewOptions.group.byDate)for(v=this.renderDates.map((function(e){return new Date(+e)})),m=this.parent.activeViewOptions.showWeekend?s.ed:this.parent.activeViewOptions.workDays.length,g=0;g<this.renderDates.length/m;g++)for(var n=0,r=v.splice(0,m);n<r.length;n++){T=r[n];if(i)for(var a=this.colLevels[this.colLevels.length-1],o=a.slice(0,a.length/m),h=0;h<o.length;h++){var c=void 0;0!==h&&(c=[l.fv4,l._si]),t(g,T,o[h],c)}else t(g,T,this.colLevels[this.colLevels.length-1][0])}else for(var p=0,u=this.colLevels[this.colLevels.length-2];p<u.length;p++)for(var d=u[p],v=d.renderDates.map((function(e){return new Date(+e)})),m=this.parent.activeViewOptions.showWeekend?s.ed:d.workDays.length,g=0;g<d.renderDates.length/m;g++)for(var f=0,y=v.splice(0,m);f<y.length;f++){var T;t(g,T=y[f],d)}return e},t.prototype.updateClassList=function(e){!this.isCustomMonth()&&this.isOtherMonth(e.date)&&e.className.push(l.ePN),this.parent.isMinMaxDate(e.date)||e.className.push(l.X34),"MonthAgenda"===this.parent.currentView&&this.parent.isSelectedDate(e.date)&&e.className.push(l.sEA)},t.prototype.isOtherMonth=function(e){return e.getTime()<this.monthDates.start.getTime()||e.getTime()>this.monthDates.end.getTime()},t.prototype.renderContentArea=function(){var e=this.createTableLayout(l.s2p);this.addAutoHeightClass(e),"TimelineMonth"===this.parent.currentView&&this.createColGroup(e,this.colLevels[this.colLevels.length-1]);var t=new Date(this.parent.selectedDate.getTime());this.monthDates={start:this.parent.calendarUtil.firstDateOfMonth(t),end:this.parent.calendarUtil.lastDateOfMonth(s.PS(t,this.parent.activeViewOptions.interval-1))};var i=e.querySelector("tbody");return(0,n.BC)(this.getContentRows(),i),this.wireCellEvents(i),e},t.prototype.getContentRows=function(){for(var e=[],t=(0,n.n)("tr",{attrs:{role:"row"}}),i=(0,n.n)("td",{attrs:{role:"gridcell","aria-selected":"false"}}),r=this.getContentSlots(),a=0;a<r.length;a++){for(var s=t.cloneNode(),o=0;o<r[a].length;o++){var l=this.createContentTd(r[a][o],i);s.appendChild(l)}e.push(s)}return e},t.prototype.createContentTd=function(e,t){var i=t.cloneNode();e.colSpan&&i.setAttribute("colspan",e.colSpan.toString()),this.updateClassList(e);var r=e.type;if(-1!==e.className.indexOf(l.tIu)&&(e.className.push(l.o1M),r="resourceGroupCells"),this.parent.workHours.highlight&&this.isWorkDay(e.date,e.workDays)&&e.className.push(l.JiM),this.isCurrentDate(e.date)&&e.className.push(l.b10),(0,n.iQ)([i],e.className),i.setAttribute("data-date",e.date.getTime().toString()),!(0,n.hX)(e.groupIndex)||this.parent.uiStateValues.isGroupAdaptive){var a=this.parent.uiStateValues.isGroupAdaptive?this.parent.uiStateValues.groupIndex:e.groupIndex;i.setAttribute("data-group-index",""+a)}if(this.renderDateHeaderElement(e,i),this.parent.activeViewOptions.cellTemplate){var s={date:e.date,type:r,groupIndex:e.groupIndex},h=this.parent.element.id+"_"+this.parent.activeViewOptions.cellTemplateName+"cellTemplate",c=[].slice.call(this.parent.getCellTemplate()(s,this.parent,"cellTemplate",h,!1));(0,n.BC)(c,i)}var p={elementType:r,element:i,date:e.date,groupIndex:e.groupIndex};return this.parent.trigger(o.TF,p),i},t.prototype.renderDateHeaderElement=function(e,t){if("TimelineMonth"!==this.parent.currentView){var i=(0,n.n)("div",{className:l.Sy$});if(this.parent.activeViewOptions.cellHeaderTemplate){var r={date:e.date,type:e.type,groupIndex:e.groupIndex},a=this.parent.element.id+"_"+this.parent.activeViewOptions.cellHeaderTemplateName+"cellHeaderTemplate",o=[].slice.call(this.parent.getCellHeaderTemplate()(r,this.parent,"cellHeaderTemplate",a,!1));(0,n.BC)(o,i)}else{var h=!this.parent.calendarUtil.isMonthStart(e.date)||this.isCurrentDate(e.date)||this.parent.isAdaptive?this.parent.globalize.formatDate(e.date,{skeleton:"d",calendar:this.parent.getCalendarMode()}):this.parent.globalize.formatDate(e.date,{format:"MMM d",calendar:this.parent.getCalendarMode()});i.innerHTML=s.nw(h,"single")}if(t.appendChild(i),"month"===this.getModuleName()){(0,n.iQ)([i],l.NG$);var c=this.parent.globalize.formatDate(e.date,{skeleton:"full",calendar:this.parent.getCalendarMode()});i.setAttribute("aria-label",c)}}},t.prototype.getMonthStart=function(e){var t="Month"===this.parent.currentView&&!(0,n.hX)(this.parent.activeViewOptions.displayDate)&&(this.parent.uiStateValues.isCustomMonth||this.isCustomRange())?this.parent.activeViewOptions.displayDate:this.parent.uiStateValues.isCustomMonth||this.isCustomRange()||!this.isCustomMonth()?this.parent.calendarUtil.firstDateOfMonth(e):e,i=s.lZ(t,this.parent.activeViewOptions.firstDayOfWeek);return new Date(i.getFullYear(),i.getMonth(),i.getDate())},t.prototype.getMonthEnd=function(e){if(this.isCustomMonth()){var t=this.getMonthStart(e),i=s.ed*(this.parent.activeViewOptions.numberOfWeeks>0?this.parent.activeViewOptions.numberOfWeeks:s.GO);return s.fi(t,i-1)}var n=s.PS(e,this.parent.activeViewOptions.interval-1),r=s.lZ(this.parent.calendarUtil.lastDateOfMonth(n),this.parent.activeViewOptions.firstDayOfWeek);return s.fi(r,s.ed-1)},t.prototype.isCustomRange=function(){var e=this.parent.getCurrentViewDates();if(e&&e.length>0){var t=s.JC(this.parent.selectedDate).getTime(),i=s.lZ(e[e.length-1],this.parent.activeViewOptions.firstDayOfWeek);return!(t>=s.lZ(e[0],this.parent.activeViewOptions.firstDayOfWeek).getTime()&&t<=s.fi(i,6).getTime())}return!1},t.prototype.getRenderDates=function(e){var t=[],i=s.JC(this.parent.selectedDate),n=this.getMonthStart(i),r=this.getMonthEnd(i);do{(this.parent.activeViewOptions.showWeekend||this.isWorkDay(n,e))&&t.push(n),(n=s.fi(n,1)).getHours()>0&&(n=s.JC(n))}while(n.getTime()<=r.getTime());return e||(this.renderDates=t),this.parent.headerModule&&this.parent.headerModule.previousNextIconHandler(),t},t.prototype.getNextPreviousDate=function(e){if(this.isCustomMonth()){var t=this.parent.getCurrentViewDates(),i=s.lZ("next"===e?t[t.length-1]:t[0],this.parent.activeViewOptions.firstDayOfWeek);return s.fi(i,"next"===e?s.ed:-(this.parent.activeViewOptions.numberOfWeeks>0?this.parent.activeViewOptions.numberOfWeeks:s.GO)*s.ed)}return s.PS(this.parent.selectedDate,("next"===e?1:-1)*this.parent.activeViewOptions.interval)},t.prototype.getStartDate=function(){return this.getMonthStart(this.parent.selectedDate)},t.prototype.getEndDate=function(){return this.getMonthEnd(this.parent.selectedDate)},t.prototype.getEndDateFromStartDate=function(e){return s.fi(new Date(e.getTime()),1)},t.prototype.getDateRangeText=function(){if(this.parent.isAdaptive||(0,n.hX)(this.parent.activeViewOptions.dateFormat)){var e=this.parent.selectedDate,t=void 0,i=!1;if(this.isCustomMonth()){var r=this.parent.getCurrentViewDates();(i=r[0].getMonth()!==r[r.length-1].getMonth()||r[0].getFullYear()!==r[r.length-1].getFullYear())&&(e=r[0],t=r[r.length-1])}var a="Month"!==this.parent.currentView||!this.isCustomMonth();if(this.parent.activeViewOptions.interval>1&&a||i){if(t=t||s.PS(s.sG(e),this.parent.activeViewOptions.interval-1),e.getFullYear()===t.getFullYear()){var o=this.parent.globalize.formatDate(e,{format:"MMMM",calendar:this.parent.getCalendarMode()})+" - "+this.parent.globalize.formatDate(t,{format:"MMMM ",calendar:this.parent.getCalendarMode()})+this.parent.globalize.formatDate(t,{skeleton:"y",calendar:this.parent.getCalendarMode()});return s.nw(o,"single")}var l=this.parent.globalize.formatDate(e,{format:"MMMM",calendar:this.parent.getCalendarMode()})+" "+e.getFullYear()+" - "+this.parent.globalize.formatDate(t,{format:"MMMM ",calendar:this.parent.getCalendarMode()})+this.parent.globalize.formatDate(t,{skeleton:"y",calendar:this.parent.getCalendarMode()});return s.nw(l,"single")}var h=this.parent.activeViewOptions.dateFormat?this.parent.activeViewOptions.dateFormat:"MMMM y";return s.nw(this.parent.globalize.formatDate(e,{format:h,calendar:this.parent.getCalendarMode()}),"single")}return this.formatDateRange(this.parent.selectedDate)},t.prototype.getLabelText=function(e){return this.parent.localeObj.getConstant(e)+" of "+s.nw(this.parent.globalize.formatDate(this.parent.selectedDate,{format:"MMMM y",calendar:this.parent.getCalendarMode()}),"single")},t.prototype.createWeekNumberElement=function(e){var t=(0,n.n)("tr"),i=(0,n.n)("td",{className:l.cB_,attrs:{title:e?this.parent.localeObj.getConstant("week")+" "+e:""},innerHTML:e||""});t.appendChild(i);var r={elementType:"weekNumberCell",element:i};return this.parent.trigger(o.TF,r),t},t.prototype.unWireEvents=function(){var e=this.element.querySelector("."+l._oL);e&&n.Jm.remove(e,"scroll",this.onContentScroll)},t.prototype.isCustomMonth=function(){return"Month"===this.parent.currentView&&(!(0,n.hX)(this.parent.activeViewOptions.displayDate)||this.parent.activeViewOptions.numberOfWeeks>0)},t.prototype.getModuleName=function(){return"month"},t.prototype.destroy=function(){!this.parent||this.parent&&this.parent.isDestroyed||this.element&&(this.monthEvent&&(this.monthEvent.destroy(),this.monthEvent=null),this.unWireEvents(),this.parent.resourceBase&&this.parent.resourceBase.destroy(),this.parent.scheduleTouchModule&&this.parent.scheduleTouchModule.resetValues(),e.prototype.destroy.call(this))},t}(r.D)},5600:(e,t,i)=>{i.d(t,{W:()=>p});var n=i(8452),r=i(9037),a=i(3463),s=i(4953),o=i(1856),l=i(4144),h=i(9382),c=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),p=function(e){function t(t){var i=e.call(this,t)||this;return i.viewClass="e-day-view",i.isInverseTableSelect=!0,i.baseCssClass="e-vertical-view",i.appointment=null,i}return c(t,e),t.prototype.getModuleName=function(){return"verticalView"},t.prototype.addEventListener=function(){this.parent.on(l.bk,this.scrollUiUpdate,this),this.parent.on(l.yU,this.renderEvents,this)},t.prototype.removeEventListener=function(){this.parent&&(this.parent.off(l.bk,this.scrollUiUpdate),this.parent.off(l.yU,this.renderEvents))},t.prototype.renderEvents=function(){this.appointment=this.parent.activeViewOptions.timeScale.enable?new a.Z(this.parent):new s.l(this.parent),this.appointment.renderAppointments(),this.parent.notify(l.ly,{})},t.prototype.onContentScroll=function(e){this.parent.removeNewEventElement();var t=e.target;this.parent.notify(l.HT,e),this.scrollLeftPanel(t),this.scrollTopPanel(t),this.parent.isAdaptive||(this.parent.uiStateValues.top=t.scrollTop),this.parent.uiStateValues.left=t.scrollLeft,(0,n.hX)(this.parent.quickPopup)||this.parent.quickPopup.quickPopupHide(),this.setPersistence()},t.prototype.onAdaptiveMove=function(e){this.parent.uiStateValues.action&&e.preventDefault()},t.prototype.onAdaptiveScroll=function(e){this.parent&&!this.parent.isDestroyed&&(this.parent.removeNewEventElement(),this.parent.uiStateValues.top=e.target.scrollTop)},t.prototype.scrollLeftPanel=function(e){var t=this.getLeftPanelElement();(0,n.hX)(t)||(t.scrollTop=e.scrollTop)},t.prototype.scrollUiUpdate=function(e){if(this.parent){var t=this.parent.element.querySelector("."+h.bI1),i=this.getHeaderBarHeight(),n=this.getLeftPanelElement(),r=this.getScrollableElement(),a=this.getDatesHeaderElement(),s=this.parent.element.offsetHeight-i-a.offsetHeight;this.setColWidth(r),this.setContentHeight(r,n,s);var l=o.F_();a.firstElementChild.style[e.cssProperties.rtlBorder]="",a.style[e.cssProperties.rtlPadding]="";var c=!this.parent.enableAllDayScroll||!(r.offsetWidth-r.clientWidth<=t.offsetWidth-t.clientWidth&&t.classList.contains("e-all-day-scroll"));r.offsetWidth-r.clientWidth>0&&c?(a.firstElementChild.style[e.cssProperties.border]=l>0?"1px":"0px",a.style[e.cssProperties.padding]=l>0?l-1+"px":"0px"):(a.firstElementChild.style[e.cssProperties.border]="",a.style[e.cssProperties.padding]=""),e.isPreventScrollUpdate||(this.parent.uiStateValues.isInitial?(this.scrollToWorkHour(),this.parent.uiStateValues.isInitial=!1):(n&&(n.scrollTop=this.parent.uiStateValues.top),r.scrollTop=this.parent.uiStateValues.top,r.scrollLeft=this.parent.uiStateValues.left)),this.parent.activeViewOptions.timeScale.enable&&this.highlightCurrentTime(),this.retainScrollPosition()}},t.prototype.setContentHeight=function(e,t,i){this.parent.isAdaptive&&!this.isTimelineView()||(0,n.hX)(t)||(t.style.height="auto"===this.parent.height?"auto":(0,n.IV)(i-this.getScrollXIndent(e))),e.style.height="auto"===this.parent.height?"auto":(0,n.IV)(i)},t.prototype.scrollToWorkHour=function(){if(this.parent.workHours.highlight){var e=this.element.querySelector("."+h.Fx$);e&&(this.getScrollableElement().scrollTop=e.offsetTop,this.parent.uiStateValues.top=e.offsetTop,this.parent.uiStateValues.left=0)}},t.prototype.scrollToHour=function(e,t){var i=this.parent.getStartEndTime(e);!(0,n.hX)(i)&&(0,n.hX)(t)&&(this.getScrollableElement().scrollTop=this.getTopFromDateTime(i))},t.prototype.generateColumnLevels=function(){var e=this.getDateSlots(this.renderDates,this.parent.activeViewOptions.workDays),t=[];if(this.parent.activeViewOptions.group.resources.length>0){if(t=this.parent.resourceBase.generateResourceLevels(e),this.parent.uiStateValues.isGroupAdaptive&&this.parent.resourceBase.lastResourceLevel.length>0){var i=this.parent.resourceBase.lastResourceLevel[this.parent.uiStateValues.groupIndex],n=i.resourceData[i.resource.startHourField],r=i.resourceData[i.resource.endHourField];t=[this.getDateSlots(i.renderDates,i.workDays,n,r)]}}else t.push(e);return this.colLevels=t,t},t.prototype.getDateSlots=function(e,t,i,n){void 0===i&&(i=this.parent.workHours.start),void 0===n&&(n=this.parent.workHours.end);for(var r=[],a=this.parent.getStartEndTime(i),s=this.parent.getStartEndTime(n),o=0,l=e;o<l.length;o++){var c=l[o],p=[h.Zas];this.isCurrentDate(c)&&p.push(h.KSz),r.push({date:c,type:"dateHeader",className:p,colSpan:1,workDays:t,startHour:new Date(+a),endHour:new Date(+s)})}return r},t.prototype.isWorkHourRange=function(e){return this.getStartHour().getTime()<=e.getTime()&&this.getEndHour().getTime()>=e.getTime()},t.prototype.highlightCurrentTime=function(){var e=this;if(!(this.parent.activeViewOptions.headerRows.length>0&&"Hour"!==this.parent.activeViewOptions.headerRows.slice(-1)[0].option))if(this.parent.showTimeIndicator&&this.isWorkHourRange(this.parent.getCurrentTime()))if(this.getCurrentTimeIndicatorIndex().length>0){if([].slice.call(this.element.querySelectorAll("."+h.fv4)).length>0&&this.changeCurrentTimePosition(),(0,n.hX)(this.currentTimeIndicatorTimer)){var t=this.parent.getCurrentTime(),i=o.EM-(1e3*t.getSeconds()+t.getMilliseconds());i<=o.EM-1e3&&window.setTimeout((function(){(0,n.hX)(e.currentTimeIndicatorTimer)||(e.clearCurrentTimeIndicatorTimer(),e.changeCurrentTimePosition(),e.updateCurrentTimeIndicatorTimer())}),i),this.updateCurrentTimeIndicatorTimer()}}else this.clearCurrentTimeIndicatorTimer();else this.clearCurrentTimeIndicatorTimer()},t.prototype.getCurrentTimeIndicatorIndex=function(){var e=[];if(!(0,n.hX)(this.parent.resourceBase)&&this.parent.activeViewOptions.group.resources.length>0&&!this.parent.uiStateValues.isGroupAdaptive)for(var t=0,i=0,r=this.parent.resourceBase.lastResourceLevel;i<r.length;i++){var a=r[i];if((l=this.parent.getIndexOfDate(a.renderDates,o.JC(this.parent.getCurrentTime())))>=0){var s=this.parent.activeViewOptions.group.byDate?this.parent.resourceBase.lastResourceLevel.length*l+t:t+l;e.push(s)}t+=this.parent.activeViewOptions.group.byDate?1:a.renderDates.length}else{var l,h=this.parent.uiStateValues.isGroupAdaptive&&this.parent.resourceBase.lastResourceLevel.length>0?this.parent.resourceBase.lastResourceLevel[this.parent.uiStateValues.groupIndex].renderDates:this.renderDates;(l=this.parent.getIndexOfDate(h,o.JC(this.parent.getCurrentTime())))>=0&&e.push(l)}return e},t.prototype.clearCurrentTimeIndicatorTimer=function(){(0,n.hX)(this.currentTimeIndicatorTimer)||(window.clearInterval(this.currentTimeIndicatorTimer),this.currentTimeIndicatorTimer=null,this.removeCurrentTimeIndicatorElements())},t.prototype.updateCurrentTimeIndicatorTimer=function(){var e=this;this.currentTimeIndicatorTimer=window.setInterval((function(){e.changeCurrentTimePosition()}),o.EM)},t.prototype.removeCurrentTimeIndicatorElements=function(){for(var e="."+h.bjF+",."+h.rOu+",."+h.jrd,t=0,i=[].slice.call(this.element.querySelectorAll(e));t<i.length;t++){var r=i[t];(0,n.TF)(r)}},t.prototype.changeCurrentTimePosition=function(){if(!(!this.parent||this.parent&&this.parent.isDestroyed)){this.removeCurrentTimeIndicatorElements();var e=this.getCurrentTimeIndicatorIndex(),t=this.parent.getContentTable().rows[0],i=this.getTopFromDateTime(this.parent.getCurrentTime()),r=(0,n.IV)(i),a=Math.floor(i/t.cells[0].offsetHeight),s=this.getLeftPanelElement(),o=[].slice.call(s.querySelectorAll("tr"));if(!(0,n.hX)(a)&&!isNaN(a)&&a!==o.length){for(var l=[].slice.call(this.element.querySelectorAll("."+h.lme)),c=0,p=e[0];c<p;c++)l[c].appendChild((0,n.n)("div",{className:h.bjF,styles:"top:"+r}));for(var u=0,d=e;u<d.length;u++){l[d[u]].appendChild((0,n.n)("div",{className:h.rOu,styles:"top:"+r}))}var v=(0,n.n)("div",{innerHTML:this.parent.getTimeString(this.parent.getCurrentTime()),className:h.jrd,styles:"top:"+r});a<=o.length&&((0,n.vy)(s.querySelectorAll("."+h.WVt),h.WVt),o[a]&&(0,n.iQ)([o[a].lastElementChild],h.WVt),(0,n.Hs)([v],s),v.style.top=(0,n.IV)(v.offsetTop-v.offsetHeight/2))}}},t.prototype.getTopFromDateTime=function(e){var t=this.getStartHour();return(60*(e.getHours()-t.getHours())+(e.getMinutes()-t.getMinutes()))*this.getWorkCellHeight()*this.parent.activeViewOptions.timeScale.slotCount/this.parent.activeViewOptions.timeScale.interval},t.prototype.getWorkCellHeight=function(){return parseFloat(this.element.querySelector("."+h.fv4).getBoundingClientRect().height.toFixed(2))},t.prototype.getTdContent=function(e,t,i){var r,a=(0,n.n)("div"),s="",l=this.parent.element.id+"_";switch(t){case"dateHeader":if(this.parent.activeViewOptions.dateHeaderTemplate){s="dateHeaderTemplate";var h={date:e,type:t},c=this.parent.activeViewOptions.dateHeaderTemplateName;r=[].slice.call(this.parent.getDateHeaderTemplate()(h,this.parent,s,l+c+s,!1))}else a.innerHTML=this.parent.activeView.isTimelineView()?'<span class="e-header-date e-navigate">'+this.getTimelineDate(e)+"</span>":'<div class="e-header-day">'+o.nw(this.getDayName(e),"single")+'</div><div class="e-header-date e-navigate" role="link">'+this.getDate(e)+"</div>",r=[].slice.call(a.childNodes);break;case"majorSlot":if(this.parent.activeViewOptions.timeScale.majorSlotTemplate){s="majorSlotTemplate";h={date:e,type:t};r=[].slice.call(this.parent.getMajorSlotTemplate()(h,this.parent,s,l+s,!1))}else a.innerHTML="<span>"+this.getTime(e)+"</span>",r=[].slice.call(a.childNodes);break;case"minorSlot":if(this.parent.activeViewOptions.timeScale.minorSlotTemplate){s="minorSlotTemplate";h={date:e,type:t};r=[].slice.call(this.parent.getMinorSlotTemplate()(h,this.parent,s,l+s,!1))}else r=[].slice.call(a.childNodes);break;case"alldayCells":if(this.parent.activeViewOptions.cellTemplate){c=this.parent.activeViewOptions.cellTemplateName;s="cellTemplate";h={date:e,type:t,groupIndex:i};r=[].slice.call(this.parent.getCellTemplate()(h,this.parent,s,l+c+s,!1))}}return r},t.prototype.refreshHeader=function(){(0,n.TF)(this.element.querySelector("tbody tr")),this.renderHeader(),this.parent.notify(l.PR,{})},t.prototype.renderLayout=function(e){this.setPanel((0,n.n)("div",{className:h.xNK}));var t=[this.baseCssClass,this.viewClass];t.push(e),this.parent.activeViewOptions.group.byDate&&t.push("e-by-date"),this.parent.activeViewOptions.timeScale.enable||(0,n.iQ)([this.element],[h.huf,this.viewClass]),this.parent.activeViewOptions.allowVirtualScrolling&&t.push(h.PES),this.parent.rowAutoHeight&&this.parent.eventSettings.ignoreWhitespace&&t.push(h.fDb),this.renderPanel(e),(0,n.iQ)([this.element],t),this.element.appendChild(this.createTableLayout(h.Sid)),this.element.querySelector("table").setAttribute("role","presentation"),this.colLevels=this.generateColumnLevels(),this.renderHeader(),this.renderContent(),this.parent.uiStateValues.isGroupAdaptive&&!this.parent.element.querySelector("."+h.xKf)&&this.renderResourceMobileLayout(),this.parent.notify(l.PR,{})},t.prototype.renderHeader=function(){var e=(0,n.n)("tr"),t=(0,n.n)("td");if(t.appendChild(this.renderDatesHeader()),this.parent.activeViewOptions.timeScale.enable){var i=(0,n.n)("td",{className:h.cJV});i.appendChild(this.renderLeftIndent()),e.appendChild(i)}e.appendChild(t),(0,n.Hs)([e],this.element.querySelector("tbody"))},t.prototype.renderContent=function(){var e=(0,n.n)("tr"),t=(0,n.n)("td");if(this.parent.isAdaptive){t.setAttribute("colspan",this.parent.activeViewOptions.timeScale.enable?"2":"1");var i=(0,n.n)("div",{className:h.ZXJ});this.parent.activeViewOptions.timeScale.enable&&i.appendChild(this.renderTimeCells()),i.appendChild(this.renderContentArea()),t.appendChild(i),n.Jm.add(i,"scroll",this.onAdaptiveScroll,this),n.Jm.add(i,n.Pw.touchMoveEvent,this.onAdaptiveMove,this),e.appendChild(t)}else{if(t.appendChild(this.renderContentArea()),this.parent.activeViewOptions.timeScale.enable){var r=(0,n.n)("td");r.appendChild(this.renderTimeCells()),e.appendChild(r)}e.appendChild(t)}this.element.querySelector("tbody").appendChild(e)},t.prototype.renderLeftIndent=function(){for(var e,t=(0,n.n)("div",{className:h.pPf}),i=this.createTableLayout(),r=(0,n.n)("tr"),a=this.colLevels.length,s=0;s<a;s++){var o=r.cloneNode(),l={className:[this.colLevels[s][0]&&this.colLevels[s][0].className[0]],type:"emptyCells"};if(this.parent.activeViewOptions.showWeekNumber&&-1!==l.className.indexOf(h.Zas)){l.className.push(h.cB_);var c=this.parent.getWeekNumberContent(this.renderDates);l.template=[(0,n.n)("span",{innerHTML:""+c,attrs:{title:this.parent.localeObj.getConstant("week")+" "+c}})]}e=this.createTd(l),this.parent.renderHeaderIndentTemplate(l,e),o.appendChild(e),i.querySelector("tbody").appendChild(o)}var p=r.cloneNode(),u=(0,n.n)("div",{attrs:{tabindex:"0",role:"list",title:this.parent.localeObj.getConstant("expandAllDaySection"),"aria-disabled":"false","aria-label":"Expand section"},className:h.v_o+" "+h.RWS+" "+h.kb2+" "+h.AV8}),d={className:[h.tTW],type:"emptyCells"};return(e=this.createTd(d)).appendChild(u),this.parent.renderHeaderIndentTemplate(d,e),p.appendChild(e),i.querySelector("tbody").appendChild(p),t.appendChild(i),t},t.prototype.renderDatesHeader=function(){var e=(0,n.n)("div",{className:h._GU}),t=(0,n.n)("div",{className:h.bI1});e.appendChild(t);for(var i=this.createTableLayout(),r=(0,n.n)("tr"),a=this.colLevels.length,s=this.colLevels[a-1],o=0;o<a;o++){var l=r.cloneNode();(0,n.iQ)([l],h.muR);for(var c=this.colLevels[o],p=0;p<c.length;p++)l.appendChild(this.createTd(c[p]));i.querySelector("tbody").appendChild(l)}return this.createAllDayRow(i,s),this.createColGroup(i,s),t.appendChild(i),e},t.prototype.createAllDayRow=function(e,t){var i=(0,n.n)("tr");(0,n.iQ)([i],h.IoD);for(var r=0;r<t.length;r++){var a=(0,n.X$)({},t[r]);a.className=[h.tTW],a.type="alldayCells";var s=this.createTd(a);s.setAttribute("data-date",a.date.getTime().toString()),(0,n.hX)(a.groupIndex)?this.parent.uiStateValues.isGroupAdaptive&&s.setAttribute("data-group-index",""+this.parent.uiStateValues.groupIndex):s.setAttribute("data-group-index",""+a.groupIndex),this.wireCellEvents(s),i.appendChild(s)}e.querySelector("tbody").appendChild(i);var o=(0,n.n)("thead");o.appendChild(this.createEventWrapper("allDay")),(0,n.Hs)([o],e)},t.prototype.createTd=function(e){var t=(0,n.n)("td");if(this.addAttributes(e,t),e.date&&e.type){var i=this.getTdContent(e.date,e.type,e.groupIndex);i&&i.length&&(0,n.BC)(i,t)}this.parent.isMinMaxDate(o.JC(new Date(""+e.date)))||(0,n.iQ)([t],h.X34),"resourceHeader"===e.type&&this.setResourceHeaderContent(t,e),"dateHeader"===e.type&&e.className.indexOf(h.Zas)>=0&&(t.setAttribute("data-date",e.date.getTime().toString()),(0,n.hX)(e.groupIndex)||t.setAttribute("data-group-index",""+e.groupIndex),this.wireMouseEvents(t));var r={elementType:e.type,element:t,date:e.date,groupIndex:e.groupIndex};return this.parent.trigger(l.TF,r),t},t.prototype.wireCellEvents=function(e){n.Jm.add(e,"mousedown",this.parent.workCellAction.cellMouseDown,this.parent.workCellAction),this.wireMouseEvents(e)},t.prototype.wireMouseEvents=function(e){n.Jm.add(e,"click",this.parent.workCellAction.cellClick,this.parent.workCellAction),this.parent.isAdaptive||n.Jm.add(e,"dblclick",this.parent.workCellAction.cellDblClick,this.parent.workCellAction)},t.prototype.renderTimeCells=function(){var e=this,t=(0,n.n)("div",{className:h.KqV}),i=this.createTableLayout(),r=(0,n.n)("tr");return this.getTimeSlotRows((function(t){t.type=t.first?"majorSlot":"minorSlot",t.className=t.last?[h.Vah,h.WpE]:[h.WpE];var n=r.cloneNode(),a={date:t.date,type:t.type,className:t.className};return n.appendChild(e.createTd(a)),i.querySelector("tbody").appendChild(n),t})),t.appendChild(i),t},t.prototype.renderContentArea=function(){var e=(0,n.n)("div",{className:h._oL}),t=this.createTableLayout(h.s2p);return this.addAutoHeightClass(t),this.renderContentTable(t),this.createColGroup(t,this.colLevels.slice(-1)[0]),e.appendChild(t),this.wireCellEvents(t.querySelector("tbody")),n.Jm.add(e,"scroll",this.onContentScroll,this),n.Jm.add(e,n.Pw.touchMoveEvent,this.onAdaptiveMove,this),e},t.prototype.renderContentTable=function(e){var t=this,i=(0,n.n)("tr",{attrs:{role:"row"}}),r=(0,n.n)("td",{attrs:{role:"gridcell","aria-selected":"false"}}),a=e.querySelector("tbody");this.getTimeSlotRows((function(e){for(var n=i.cloneNode(),s=0,o=t.colLevels[t.colLevels.length-1];s<o.length;s++){var l=o[s],h=t.createContentTd(l,e,r);n.appendChild(h)}return a.appendChild(n),e})),this.renderContentTableHeader(e)},t.prototype.createContentTd=function(e,t,i){var r=i.cloneNode();e.colSpan&&r.setAttribute("colspan",e.colSpan.toString());var a=this.getContentTdClass(t),s=o.JC(e.date);this.parent.isMinMaxDate(s)||a.push(h.X34),o.ib(s,o.OI(t.date));var c="workCells";if(-1!==e.className.indexOf(h.tIu)&&(a.push(h.o1M),c="resourceGroupCells"),this.parent.workHours.highlight&&(this.parent.activeViewOptions.timeScale.enable&&this.isWorkHour(s,e.startHour,e.endHour,e.workDays)||!this.parent.activeViewOptions.timeScale.enable&&this.isWorkDay(s,e.workDays))&&a.push(h.Fx$),(0,n.iQ)([r],a),this.parent.activeViewOptions.cellTemplate){var p={date:s,type:c,groupIndex:e.groupIndex},u=this.parent.element.id+"_"+this.parent.activeViewOptions.cellTemplateName+"cellTemplate",d=[].slice.call(this.parent.getCellTemplate()(p,this.parent,"cellTemplate",u,!1));(0,n.BC)(d,r)}if(r.setAttribute("data-date",s.getTime().toString()),!(0,n.hX)(e.groupIndex)||this.parent.uiStateValues.isGroupAdaptive){var v=this.parent.uiStateValues.isGroupAdaptive?this.parent.uiStateValues.groupIndex:e.groupIndex;r.setAttribute("data-group-index",""+v)}var m={elementType:c,element:r,date:s,groupIndex:e.groupIndex};return this.parent.trigger(l.TF,m),r},t.prototype.getContentTdClass=function(e){return e.last?[h.fv4]:[h.fv4,h.kH9]},t.prototype.renderContentTableHeader=function(e){var t=(0,n.n)("thead");t.appendChild(this.createEventWrapper()),this.parent.activeViewOptions.timeScale.enable&&t.appendChild(this.createEventWrapper("timeIndicator")),(0,n.Hs)([t],e)},t.prototype.createEventWrapper=function(e){void 0===e&&(e="");for(var t=(0,n.n)("tr"),i=this.colLevels.slice(-1)[0],r=0,a=i.length;r<a;r++){var s=i[r],o=(0,n.n)("td",{className:"allDay"===e?h.Jvf:"timeIndicator"===e?h.lme:h.wKq,attrs:{"data-date":s.date.getTime().toString()}});if((0,n.hX)(s.groupIndex)||o.setAttribute("data-group-index",s.groupIndex.toString()),""===e){var l=(0,n.n)("div",{id:h.RQR+"-"+r.toString(),className:h.RQR});o.appendChild(l)}t.appendChild(o)}return t},t.prototype.getScrollableElement=function(){return this.parent.isAdaptive&&!this.isTimelineView()?this.element.querySelector("."+h.ZXJ):this.getContentAreaElement()},t.prototype.getLeftPanelElement=function(){return this.element.querySelector("."+h.KqV)},t.prototype.getEndDateFromStartDate=function(e){var t=this.parent.activeViewOptions.timeScale.interval*o.EM/this.parent.activeViewOptions.timeScale.slotCount,i=new Date(e.getTime());return i.setMilliseconds(i.getMilliseconds()+t),i},t.prototype.getTimeSlotRows=function(e){var t=[],i=this.getStartHour(),n=this.getEndHour(),r=this.parent.activeViewOptions.timeScale.interval*o.EM,a=r/this.parent.activeViewOptions.timeScale.slotCount,s=Math.round(o.ec/a),l=i.getTime(),h=n.getTime();l!==h&&(s=Math.abs(h-l)/a-(new Date(h).getTimezoneOffset()-new Date(l).getTimezoneOffset())/(60/this.parent.activeViewOptions.timeScale.slotCount)),this.parent.activeViewOptions.timeScale.enable||(s=1);for(var c=this.parent.getStartEndTime(this.parent.workHours.start),p=this.parent.getStartEndTime(this.parent.workHours.end),u=0;u<s;u++){var d=new Date(l+a*u);if(o.GQ(d)||new Date(l).getTimezoneOffset()!==d.getTimezoneOffset()){var v=new Date(l).getTimezoneOffset()-d.getTimezoneOffset();d=new Date(d.getTime()-6e4*v)}var m=u%(r/a),g={date:new Date(""+d),startHour:c,endHour:p,first:0===m,middle:m<this.parent.activeViewOptions.timeScale.slotCount-1,last:m===this.parent.activeViewOptions.timeScale.slotCount-1,type:""};e&&e(g),t.push(g)}return t},t.prototype.destroy=function(){if(!(!this.parent||this.parent&&this.parent.isDestroyed)&&(this.clearCurrentTimeIndicatorTimer(),this.element)){this.appointment&&(this.appointment.destroy(),this.appointment=null);var t=this.getContentAreaElement();t&&(n.Jm.remove(t,"scroll",this.onContentScroll),n.Jm.remove(t,n.Pw.touchMoveEvent,this.onAdaptiveMove)),this.parent.resourceBase&&this.parent.resourceBase.destroy(),this.parent.scheduleTouchModule&&this.parent.scheduleTouchModule.resetValues(),e.prototype.destroy.call(this)}},t}(r.D)},9037:(e,t,i)=>{i.d(t,{D:()=>o});var n=i(8452),r=i(9382),a=i(4144),s=i(1856),o=function(){function e(e){this.parent=e}return e.prototype.isTimelineView=function(){return-1!==this.parent.currentView.indexOf("Timeline")},e.prototype.getContentRows=function(){return[]},e.prototype.refreshHeader=function(){},e.prototype.refreshResourceHeader=function(){(0,n.TF)(this.element.querySelector("tbody").lastElementChild.firstElementChild);var e=(0,n.n)("td");e.appendChild(this.parent.resourceBase.createResourceColumn()),(0,n.Hs)([e],this.element.querySelector("tbody").lastElementChild),this.parent.notify(a.PR,{})},e.prototype.getDayName=function(e){return this.parent.getDayNames("abbreviated")[e.getDay()]},e.prototype.getDate=function(e){return this.parent.globalize.formatDate(e,{format:"d",calendar:this.parent.getCalendarMode()})},e.prototype.getTime=function(e){return this.parent.isAdaptive?"HH:mm"===this.parent.activeViewOptions.timeFormat||"HH.mm"===this.parent.activeViewOptions.timeFormat?this.parent.globalize.formatDate(e,{format:"H",calendar:this.parent.getCalendarMode()}):this.parent.globalize.formatDate(e,{skeleton:"h",calendar:this.parent.getCalendarMode()}):this.parent.getTimeString(e)},e.prototype.getTimelineDate=function(e){var t=this.parent.globalize.formatDate(e,{skeleton:"MMMd",calendar:this.parent.getCalendarMode()})+", "+this.parent.getDayNames("wide")[e.getDay()];return s.nw(t,"multiple")},e.prototype.createEventTable=function(e){var t=(0,n.n)("div",{className:r.bau});return(0,n.BC)(this.getEventRows(e),t),t},e.prototype.getEventRows=function(e){for(var t,i=[],a=0;a<e;a++)t=(0,n.n)("div",{className:r.Px_}),this.parent.resourceBase&&!this.parent.uiStateValues.isGroupAdaptive&&this.parent.resourceBase.renderedResources&&t.setAttribute("data-group-index",this.parent.resourceBase.renderedResources[a].groupIndex.toString()),i.push(t);return i},e.prototype.collapseRows=function(e){this.parent.activeViewOptions.group.resources.length>0&&!this.parent.uiStateValues.isGroupAdaptive&&(this.parent.resourceBase.hideResourceRows(e.querySelector("tbody")),this.parent.resourceBase.hideResourceRows(e.querySelector("."+r.bau)))},e.prototype.createTableLayout=function(e){var t=e||"",i=(0,n.n)("table",{className:r.wvw+" "+t,attrs:{role:"table"}}),a=(0,n.n)("tbody");return i.appendChild(a),i},e.prototype.createColGroup=function(e,t){var i=t.length;t[0]&&t[0].colSpan&&(i=t.map((function(e){return e.colSpan})).reduce((function(e,t){return e+t})));for(var r=(0,n.n)("colgroup"),a=0;a<i;a++)r.appendChild((0,n.n)("col"));(0,n.Hs)([r],e)},e.prototype.getScrollXIndent=function(e){return e.offsetHeight-e.clientHeight>0?s.F_():0},e.prototype.scrollTopPanel=function(e){this.getDatesHeaderElement().firstElementChild.scrollLeft=e.scrollLeft},e.prototype.scrollHeaderLabels=function(e){for(var t=this.element.querySelector(".e-date-header-wrap table"),i=t.offsetWidth/t.querySelectorAll("colgroup col").length,r=function(t,r){for(var a,s=0,o=0,l=r?-e.scrollLeft:e.scrollLeft,h=0,c=t;h<c.length;h++){var p=c[h];if((o+=parseInt(p.getAttribute("colSpan"),10))>Math.floor(l/i)){a=p;break}s+=p.offsetWidth}(0,n.hX)(a)||(a.children[0].style[r?"right":"left"]=l-s+"px")},a=0,s=[".e-header-year-cell",".e-header-month-cell",".e-header-week-cell",".e-header-cells"];a<s.length;a++){var o=s[a],l=[].slice.call(this.element.querySelectorAll(o));if(l.length>0){for(var h=0,c=l;h<c.length;h++){c[h].children[0].style[this.parent.enableRtl?"right":"left"]=""}r(l,this.parent.enableRtl)}}},e.prototype.addAttributes=function(e,t){e.template&&(0,n.BC)(e.template,t),e.colSpan&&t.setAttribute("colspan",e.colSpan.toString()),e.className&&(0,n.iQ)([t],e.className)},e.prototype.getHeaderBarHeight=function(){var e=2;if(this.parent.headerModule&&(e+=s.P$(this.parent.headerModule.getHeaderElement())),this.parent.uiStateValues.isGroupAdaptive){var t=this.parent.element.querySelector("."+r.nEF);t&&(e+=t.offsetHeight)}return e},e.prototype.renderPanel=function(e){e===r.gwF?(0,n.Hs)([this.element],this.parent.element.querySelector("."+r.otH)):this.parent.element.querySelector("."+r.otH).appendChild(this.element)},e.prototype.setPanel=function(e){this.element=e},e.prototype.getPanel=function(){return this.element},e.prototype.getDatesHeaderElement=function(){return this.element.querySelector("."+r._GU)},e.prototype.getDateSlots=function(e,t){return[]},e.prototype.generateColumnLevels=function(){return[]},e.prototype.getColumnLevels=function(){return this.colLevels},e.prototype.highlightCurrentTime=function(){},e.prototype.startDate=function(){return this.renderDates[0]},e.prototype.endDate=function(){return s.fi(this.renderDates[this.renderDates.length-1],1)},e.prototype.getStartHour=function(){var e=this.parent.getStartEndTime(this.parent.activeViewOptions.startHour);return(0,n.hX)(e)&&(e=new Date(2e3,0,0,0)),e},e.prototype.getEndHour=function(){var e=this.parent.getStartEndTime(this.parent.activeViewOptions.endHour);return(0,n.hX)(e)&&(e=new Date(2e3,0,0,0)),e},e.prototype.isCurrentDate=function(e){return e.setHours(0,0,0,0)===this.parent.getCurrentTime().setHours(0,0,0,0)},e.prototype.isCurrentMonth=function(e){return this.parent.activeViewOptions.displayDate||this.parent.activeViewOptions.numberOfWeeks>0?this.parent.activeView.getStartDate().getTime()<=this.parent.getCurrentTime().getTime()&&this.parent.activeView.getEndDate().getTime()>=this.parent.getCurrentTime().getTime():e.getFullYear()===this.parent.getCurrentTime().getFullYear()&&e.getMonth()===this.parent.getCurrentTime().getMonth()},e.prototype.isWorkDay=function(e,t){return void 0===t&&(t=this.parent.activeViewOptions.workDays),t.indexOf(e.getDay())>=0},e.prototype.isWorkHour=function(e,t,i,r){return!(0,n.hX)(t)&&!(0,n.hX)(i)&&(t.setMilliseconds(0),i.setMilliseconds(0),!(s.OI(e)<s.OI(t)||s.OI(e)>=s.OI(i)||!this.isWorkDay(e,r)))},e.prototype.getRenderDates=function(e){var t=[];if("Week"===this.parent.currentView||"TimelineWeek"===this.parent.currentView)for(var i=s.JC(this.parent.selectedDate),n=s.lZ(i,this.parent.activeViewOptions.firstDayOfWeek),r=0,a=s.ed*this.parent.activeViewOptions.interval;r<a;r++)(this.parent.activeViewOptions.showWeekend||this.isWorkDay(n,e))&&t.push(n),n=s.fi(n,1);else if("WorkWeek"===this.parent.currentView||"TimelineWorkWeek"===this.parent.currentView){n=s.lZ(s.JC(this.parent.selectedDate),this.parent.activeViewOptions.firstDayOfWeek),r=0;for(var o=s.ed*this.parent.activeViewOptions.interval;r<o;r++)this.isWorkDay(n,e)&&t.push(n),n=s.fi(n,1)}else{var l="Agenda"===this.parent.currentView?this.parent.agendaDaysCount:this.parent.activeViewOptions.interval;n=s.JC(this.parent.selectedDate);do{(this.parent.activeViewOptions.showWeekend||this.isWorkDay(n,e))&&t.push(n),n=s.fi(n,1)}while(l!==t.length)}return e||(this.renderDates=t),this.parent.headerModule&&this.parent.headerModule.previousNextIconHandler(),t},e.prototype.getNextPreviousDate=function(e){if("Day"===this.parent.currentView||"TimelineDay"===this.parent.currentView){if(this.parent.activeViewOptions.showWeekend){var t=this.parent.activeViewOptions.interval;return s.fi(this.parent.selectedDate,"next"===e?t:-t)}var i=void 0;if("next"===e)for(i=s.fi(this.renderDates.slice(-1)[0],1);!this.isWorkDay(i);)i=s.fi(i,1);else{i=s.fi(this.renderDates[0],-1);var n=0;do{this.isWorkDay(i)&&(n+=1),this.parent.activeViewOptions.interval!==n&&(i=s.fi(i,-1))}while(this.parent.activeViewOptions.interval!==n)}return i}var r="next"===e?s.ed:-s.ed;return s.fi(this.parent.selectedDate,r*this.parent.activeViewOptions.interval)},e.prototype.getLabelText=function(e){var t=e.charAt(0).toLowerCase()+e.substring(1);return this.parent.localeObj.getConstant(t)+" of "+s.nw(this.parent.globalize.formatDate(this.parent.selectedDate,{skeleton:"long",calendar:this.parent.getCalendarMode()}),"single")},e.prototype.getDateRangeText=function(){if(this.parent.isAdaptive){var e=this.parent.activeViewOptions.dateFormat?this.parent.activeViewOptions.dateFormat:"MMMM y";return s.nw(this.parent.globalize.formatDate(this.parent.selectedDate,{format:e,calendar:this.parent.getCalendarMode()}),"single")}return this.formatDateRange(this.renderDates[0],this.renderDates[this.renderDates.length-1])},e.prototype.formatDateRange=function(e,t){var i,r,a=this.parent.globalize,o=this.parent.getCalendarMode();if(e===t&&(t=null),!(0,n.hX)(this.parent.activeViewOptions.dateFormat)){var l="";return t?(l=a.formatDate(e,{format:this.parent.activeViewOptions.dateFormat,calendar:o})+" - "+a.formatDate(t,{format:this.parent.activeViewOptions.dateFormat,calendar:o}),s.nw(l,"multiple")):(l=a.formatDate(e,{format:this.parent.activeViewOptions.dateFormat,calendar:o}),s.nw(l,"multiple"))}if(r="en"===this.parent.locale||"en-US"===this.parent.locale?(0,n._W)("dateFormats.long",(0,n.P)(o)):(0,n._W)("main."+this.parent.locale+".dates.calendars."+o+".dateFormats.long",n.pE),!t)return s.nw(a.formatDate(e,{format:r,calendar:o}),"single");var h=r.trim().toLocaleLowerCase();return i="d"===h.substr(0,1)?e.getFullYear()===t.getFullYear()?e.getMonth()===t.getMonth()?a.formatDate(e,{format:"dd",calendar:o})+" - "+a.formatDate(t,{format:"dd MMMM yyyy",calendar:o}):a.formatDate(e,{format:"dd MMM",calendar:o})+" - "+a.formatDate(t,{format:"dd MMM yyyy",calendar:o}):a.formatDate(e,{format:"dd MMM yyyy",calendar:o})+" - "+a.formatDate(t,{format:"dd MMM yyyy",calendar:o}):"m"===h.substr(0,1)?e.getFullYear()===t.getFullYear()?e.getMonth()===t.getMonth()?a.formatDate(e,{format:"MMMM dd",calendar:o})+" - "+a.formatDate(t,{format:"dd, yyyy",calendar:o}):a.formatDate(e,{format:"MMM dd",calendar:o})+" - "+a.formatDate(t,{format:"MMM dd, yyyy",calendar:o}):a.formatDate(e,{format:"MMM dd, yyyy",calendar:o})+" - "+a.formatDate(t,{format:"MMM dd, yyyy",calendar:o}):a.formatDate(e,{format:r,calendar:o})+" - "+a.formatDate(t,{format:r,calendar:o}),s.nw(i,"multiple")},e.prototype.getMobileDateElement=function(e,t){return(0,n.n)("div",{className:t,innerHTML:'<div class="e-m-date">'+this.parent.globalize.formatDate(e,{format:"d",calendar:this.parent.getCalendarMode()})+'</div><div class="e-m-day">'+s.nw(this.parent.globalize.formatDate(e,{format:"E",calendar:this.parent.getCalendarMode()}),"single")+"</div>"})},e.prototype.setResourceHeaderContent=function(e,t,i){if(void 0===i&&(i=r.wJh),this.parent.activeViewOptions.resourceHeaderTemplate){var a={resource:t.resource,resourceData:t.resourceData},s=this.parent.element.id+"_"+this.parent.activeViewOptions.resourceHeaderTemplateName+"resourceHeaderTemplate",o=[].slice.call(this.parent.getResourceHeaderTemplate()(a,this.parent,"resourceHeaderTemplate",s,!1));(0,n.BC)(o,e)}else e.appendChild((0,n.n)("div",{className:i,innerHTML:t.resourceData[t.resource.textField]}))},e.prototype.renderResourceMobileLayout=function(){this.parent.resourceBase.lastResourceLevel&&this.parent.resourceBase.lastResourceLevel.length<=0||(this.parent.resourceBase.renderResourceHeader(),this.parent.resourceBase.renderResourceTree())},e.prototype.addAutoHeightClass=function(e){!this.parent.uiStateValues.isGroupAdaptive&&this.parent.rowAutoHeight&&this.isTimelineView()&&this.parent.activeViewOptions.group.resources.length>0&&(0,n.iQ)([e],r.qsW)},e.prototype.getColElements=function(){return[].slice.call(this.element.querySelectorAll("."+r._oL+" col, ."+r.bI1+" col"))},e.prototype.setColWidth=function(e){if(this.isTimelineView()){var t=this.getColElements(),i=this.element.querySelector("."+r.s2p+" tbody").getBoundingClientRect().width/(t.length/2);if(t.forEach((function(e){return(0,n.sN)(e,{width:(0,n.IV)(i)})})),e.offsetHeight!==e.clientHeight){var a=this.parent.element.querySelector("."+r.mpl);(0,n.hX)(a)||(0,n.sN)(a,{height:(0,n.IV)(e.clientHeight)})}var s="."+r.Zas+",."+r.WpE+",."+r.s5M+",."+r.sv_+",."+r.pyv;[].slice.call(this.element.querySelectorAll(s)).forEach((function(e){var t=(0,n.hX)(e.getAttribute("colspan"))?"1":e.getAttribute("colspan"),r=parseInt(t,10);(0,n.sN)(e,{width:(0,n.IV)(i*r)})}))}},e.prototype.resetColWidth=function(){for(var e=0,t=this.getColElements();e<t.length;e++){t[e].style.width=""}},e.prototype.getContentAreaElement=function(){return this.element.querySelector("."+r._oL)},e.prototype.wireExpandCollapseIconEvents=function(){if(this.parent.resourceBase&&this.parent.resourceBase.resourceCollection.length>1)for(var e=0,t=[].slice.call(this.element.querySelectorAll("."+r.RA5));e<t.length;e++){var i=t[e];n.Jm.clearEvents(i),n.Jm.add(i,"click",this.parent.resourceBase.onTreeIconClick,this.parent.resourceBase)}},e.prototype.scrollToDate=function(e){if(-1!==["Month","TimelineMonth"].indexOf(this.parent.currentView)&&!(0,n.hX)(e)){var t=this.getContentAreaElement(),i=new Date(s.JC(new Date(+e)).getTime()).getTime(),a=t.querySelector("."+r.fv4+'[data-date="'+i+'"]');"Month"===this.parent.currentView&&a&&(t.scrollTop=a.offsetTop),"TimelineMonth"===this.parent.currentView&&a&&(this.parent.enableRtl?t.scrollLeft=-(this.parent.getContentTable().offsetWidth-a.offsetLeft-a.offsetWidth):t.scrollLeft=a.offsetLeft)}},e.prototype.setPersistence=function(){if(this.parent.enablePersistence){var e=this.element.querySelector(".e-content-wrap");(0,n.hX)(e)||(this.parent.scrollLeft=e.scrollLeft,this.parent.scrollTop=e.scrollTop)}},e.prototype.retainScrollPosition=function(){if(this.parent.enablePersistence){var e=this.parent.element.querySelector(".e-content-wrap");(0,n.hX)(e)||(0,n.hX)(this.parent.scrollLeft)||(0,n.hX)(this.parent.scrollTop)||(e.scrollTop=this.parent.scrollTop,e.scrollLeft=this.parent.scrollLeft)}},e.prototype.getViewStartDate=function(){var e=this.renderDates[0];return this.parent.activeViewOptions.group.resources.length>0&&this.parent.resourceBase.lastResourceLevel.length>0&&(e=this.parent.resourceBase.getResourceRenderDates()[0]),e},e.prototype.getViewEndDate=function(){var e=s.fi(this.renderDates[this.renderDates.length-1],1);return this.parent.activeViewOptions.group.resources.length>0&&this.parent.resourceBase.lastResourceLevel.length>0&&(e=s.fi(this.parent.resourceBase.getResourceRenderDates().slice(-1)[0],1)),e},e.prototype.destroy=function(){this.element&&this.element.parentNode&&(0,n.TF)(this.element),this.element=null,this.renderDates=null,this.colLevels=null},e}()},8862:(e,t,i)=>{i.d(t,{j:()=>a});var n=i(5600),r=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),a=function(e){function t(t){var i=e.call(this,t)||this;return i.viewClass="e-week-view",i}return r(t,e),t.prototype.startDate=function(){return this.getViewStartDate()},t.prototype.endDate=function(){return this.getViewEndDate()},t.prototype.getModuleName=function(){return"week"},t}(n.W)},1996:(e,t,i)=>{i.d(t,{K:()=>a});var n=i(5600),r=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),a=function(e){function t(t){var i=e.call(this,t)||this;return i.viewClass="e-work-week-view",i}return r(t,e),t.prototype.startDate=function(){return this.getViewStartDate()},t.prototype.endDate=function(){return this.getViewEndDate()},t.prototype.getModuleName=function(){return"workWeek"},t}(n.W)},8053:(e,t,i)=>{i.d(t,{k:()=>n,o:()=>r});var n=function(){function e(){this.timezoneData=[],this.timezoneData=this.getTimezoneData()}return e.prototype.offset=function(e,t){var i=e.getTimezoneOffset();try{var n=new Date(e.toLocaleString("en-US",{timeZone:t}));return isNaN(n.getTime())?0:(e.getTime()-n.getTime())/6e4+i}catch(r){return 0}},e.prototype.convert=function(e,t,i){"string"===typeof t&&(t=this.offset(e,t)),"string"===typeof i&&(i=this.offset(e,i));var n=e.getTimezoneOffset(),r=(e=new Date(e.getTime()+6e4*(t-i))).getTimezoneOffset();return new Date(e.getTime()+6e4*(r-n))},e.prototype.add=function(e,t){return this.convert(e,e.getTimezoneOffset(),t)},e.prototype.remove=function(e,t){return this.convert(e,t,e.getTimezoneOffset())},e.prototype.removeLocalOffset=function(e){return new Date(e.getTime()-6e4*e.getTimezoneOffset())},e.prototype.getLocalTimezoneName=function(){return window.Intl&&Intl.DateTimeFormat().resolvedOptions().timeZone||"UTC"},e.prototype.getTimezoneData=function(){return r},e}(),r=[{Value:"Pacific/Niue",Text:"(UTC-11:00) Niue"},{Value:"Pacific/Pago_Pago",Text:"(UTC-11:00) Pago Pago"},{Value:"Pacific/Honolulu",Text:"(UTC-10:00) Hawaii Time"},{Value:"Pacific/Rarotonga",Text:"(UTC-10:00) Rarotonga"},{Value:"Pacific/Tahiti",Text:"(UTC-10:00) Tahiti"},{Value:"Pacific/Marquesas",Text:"(UTC-09:30) Marquesas"},{Value:"America/Anchorage",Text:"(UTC-09:00) Alaska Time"},{Value:"Pacific/Gambier",Text:"(UTC-09:00) Gambier"},{Value:"America/Los_Angeles",Text:"(UTC-08:00) Pacific Time"},{Value:"America/Tijuana",Text:"(UTC-08:00) Pacific Time - Tijuana"},{Value:"America/Vancouver",Text:"(UTC-08:00) Pacific Time - Vancouver"},{Value:"America/Whitehorse",Text:"(UTC-08:00) Pacific Time - Whitehorse"},{Value:"Pacific/Pitcairn",Text:"(UTC-08:00) Pitcairn"},{Value:"America/Denver",Text:"(UTC-07:00) Mountain Time"},{Value:"America/Phoenix",Text:"(UTC-07:00) Mountain Time - Arizona"},{Value:"America/Mazatlan",Text:"(UTC-07:00) Mountain Time - Chihuahua, Mazatlan"},{Value:"America/Dawson_Creek",Text:"(UTC-07:00) Mountain Time - Dawson Creek"},{Value:"America/Edmonton",Text:"(UTC-07:00) Mountain Time - Edmonton"},{Value:"America/Hermosillo",Text:"(UTC-07:00) Mountain Time - Hermosillo"},{Value:"America/Yellowknife",Text:"(UTC-07:00) Mountain Time - Yellowknife"},{Value:"America/Belize",Text:"(UTC-06:00) Belize"},{Value:"America/Chicago",Text:"(UTC-06:00) Central Time"},{Value:"America/Mexico_City",Text:"(UTC-06:00) Central Time - Mexico City"},{Value:"America/Regina",Text:"(UTC-06:00) Central Time - Regina"},{Value:"America/Tegucigalpa",Text:"(UTC-06:00) Central Time - Tegucigalpa"},{Value:"America/Winnipeg",Text:"(UTC-06:00) Central Time - Winnipeg"},{Value:"America/Costa_Rica",Text:"(UTC-06:00) Costa Rica"},{Value:"America/El_Salvador",Text:"(UTC-06:00) El Salvador"},{Value:"Pacific/Galapagos",Text:"(UTC-06:00) Galapagos"},{Value:"America/Guatemala",Text:"(UTC-06:00) Guatemala"},{Value:"America/Managua",Text:"(UTC-06:00) Managua"},{Value:"America/Cancun",Text:"(UTC-05:00) America Cancun"},{Value:"America/Bogota",Text:"(UTC-05:00) Bogota"},{Value:"Pacific/Easter",Text:"(UTC-05:00) Easter Island"},{Value:"America/New_York",Text:"(UTC-05:00) Eastern Time"},{Value:"America/Iqaluit",Text:"(UTC-05:00) Eastern Time - Iqaluit"},{Value:"America/Toronto",Text:"(UTC-05:00) Eastern Time - Toronto"},{Value:"America/Guayaquil",Text:"(UTC-05:00) Guayaquil"},{Value:"America/Havana",Text:"(UTC-05:00) Havana"},{Value:"America/Jamaica",Text:"(UTC-05:00) Jamaica"},{Value:"America/Lima",Text:"(UTC-05:00) Lima"},{Value:"America/Nassau",Text:"(UTC-05:00) Nassau"},{Value:"America/Panama",Text:"(UTC-05:00) Panama"},{Value:"America/Port-au-Prince",Text:"(UTC-05:00) Port-au-Prince"},{Value:"America/Rio_Branco",Text:"(UTC-05:00) Rio Branco"},{Value:"America/Halifax",Text:"(UTC-04:00) Atlantic Time - Halifax"},{Value:"America/Barbados",Text:"(UTC-04:00) Barbados"},{Value:"Atlantic/Bermuda",Text:"(UTC-04:00) Bermuda"},{Value:"America/Boa_Vista",Text:"(UTC-04:00) Boa Vista"},{Value:"America/Caracas",Text:"(UTC-04:00) Caracas"},{Value:"America/Curacao",Text:"(UTC-04:00) Curacao"},{Value:"America/Grand_Turk",Text:"(UTC-04:00) Grand Turk"},{Value:"America/Guyana",Text:"(UTC-04:00) Guyana"},{Value:"America/La_Paz",Text:"(UTC-04:00) La Paz"},{Value:"America/Manaus",Text:"(UTC-04:00) Manaus"},{Value:"America/Martinique",Text:"(UTC-04:00) Martinique"},{Value:"America/Port_of_Spain",Text:"(UTC-04:00) Port of Spain"},{Value:"America/Porto_Velho",Text:"(UTC-04:00) Porto Velho"},{Value:"America/Puerto_Rico",Text:"(UTC-04:00) Puerto Rico"},{Value:"America/Santo_Domingo",Text:"(UTC-04:00) Santo Domingo"},{Value:"America/Thule",Text:"(UTC-04:00) Thule"},{Value:"America/St_Johns",Text:"(UTC-03:30) Newfoundland Time - St. Johns"},{Value:"America/Araguaina",Text:"(UTC-03:00) Araguaina"},{Value:"America/Asuncion",Text:"(UTC-03:00) Asuncion"},{Value:"America/Belem",Text:"(UTC-03:00) Belem"},{Value:"America/Argentina/Buenos_Aires",Text:"(UTC-03:00) Buenos Aires"},{Value:"America/Campo_Grande",Text:"(UTC-03:00) Campo Grande"},{Value:"America/Cayenne",Text:"(UTC-03:00) Cayenne"},{Value:"America/Cuiaba",Text:"(UTC-03:00) Cuiaba"},{Value:"America/Fortaleza",Text:"(UTC-03:00) Fortaleza"},{Value:"America/Godthab",Text:"(UTC-03:00) Godthab"},{Value:"America/Maceio",Text:"(UTC-03:00) Maceio"},{Value:"America/Miquelon",Text:"(UTC-03:00) Miquelon"},{Value:"America/Montevideo",Text:"(UTC-03:00) Montevideo"},{Value:"Antarctica/Palmer",Text:"(UTC-03:00) Palmer"},{Value:"America/Paramaribo",Text:"(UTC-03:00) Paramaribo"},{Value:"America/Punta_Arenas",Text:"(UTC-03:00) Punta Arenas"},{Value:"America/Recife",Text:"(UTC-03:00) Recife"},{Value:"Antarctica/Rothera",Text:"(UTC-03:00) Rothera"},{Value:"America/Bahia",Text:"(UTC-03:00) Salvador"},{Value:"America/Santiago",Text:"(UTC-03:00) Santiago"},{Value:"Atlantic/Stanley",Text:"(UTC-03:00) Stanley"},{Value:"America/Noronha",Text:"(UTC-02:00) Noronha"},{Value:"America/Sao_Paulo",Text:"(UTC-02:00) Sao Paulo"},{Value:"Atlantic/South_Georgia",Text:"(UTC-02:00) South Georgia"},{Value:"Atlantic/Azores",Text:"(UTC-01:00) Azores"},{Value:"Atlantic/Cape_Verde",Text:"(UTC-01:00) Cape Verde"},{Value:"America/Scoresbysund",Text:"(UTC-01:00) Scoresbysund"},{Value:"Africa/Abidjan",Text:"(UTC+00:00) Abidjan"},{Value:"Africa/Accra",Text:"(UTC+00:00) Accra"},{Value:"Africa/Bissau",Text:"(UTC+00:00) Bissau"},{Value:"Atlantic/Canary",Text:"(UTC+00:00) Canary Islands"},{Value:"Africa/Casablanca",Text:"(UTC+00:00) Casablanca"},{Value:"America/Danmarkshavn",Text:"(UTC+00:00) Danmarkshavn"},{Value:"Europe/Dublin",Text:"(UTC+00:00) Dublin"},{Value:"Africa/El_Aaiun",Text:"(UTC+00:00) El Aaiun"},{Value:"Atlantic/Faroe",Text:"(UTC+00:00) Faeroe"},{Value:"Etc/UTC",Text:"(UTC+00:00) UTC (no daylight saving)"},{Value:"Europe/Lisbon",Text:"(UTC+00:00) Lisbon"},{Value:"Europe/London",Text:"(UTC+00:00) London"},{Value:"Africa/Monrovia",Text:"(UTC+00:00) Monrovia"},{Value:"Atlantic/Reykjavik",Text:"(UTC+00:00) Reykjavik"},{Value:"UTC",Text:"UTC"},{Value:"Africa/Algiers",Text:"(UTC+01:00) Algiers"},{Value:"Europe/Amsterdam",Text:"(UTC+01:00) Amsterdam"},{Value:"Europe/Andorra",Text:"(UTC+01:00) Andorra"},{Value:"Europe/Berlin",Text:"(UTC+01:00) Berlin"},{Value:"Europe/Brussels",Text:"(UTC+01:00) Brussels"},{Value:"Europe/Budapest",Text:"(UTC+01:00) Budapest"},{Value:"Europe/Belgrade",Text:"(UTC+01:00) Central European Time - Belgrade"},{Value:"Europe/Prague",Text:"(UTC+01:00) Central European Time - Prague"},{Value:"Africa/Ceuta",Text:"(UTC+01:00) Ceuta"},{Value:"Europe/Copenhagen",Text:"(UTC+01:00) Copenhagen"},{Value:"Europe/Gibraltar",Text:"(UTC+01:00) Gibraltar"},{Value:"Africa/Lagos",Text:"(UTC+01:00) Lagos"},{Value:"Europe/Luxembourg",Text:"(UTC+01:00) Luxembourg"},{Value:"Europe/Madrid",Text:"(UTC+01:00) Madrid"},{Value:"Europe/Malta",Text:"(UTC+01:00) Malta"},{Value:"Europe/Monaco",Text:"(UTC+01:00) Monaco"},{Value:"Africa/Ndjamena",Text:"(UTC+01:00) Ndjamena"},{Value:"Europe/Oslo",Text:"(UTC+01:00) Oslo"},{Value:"Europe/Paris",Text:"(UTC+01:00) Paris"},{Value:"Europe/Rome",Text:"(UTC+01:00) Rome"},{Value:"Europe/Stockholm",Text:"(UTC+01:00) Stockholm"},{Value:"Europe/Tirane",Text:"(UTC+01:00) Tirane"},{Value:"Africa/Tunis",Text:"(UTC+01:00) Tunis"},{Value:"Europe/Vienna",Text:"(UTC+01:00) Vienna"},{Value:"Europe/Warsaw",Text:"(UTC+01:00) Warsaw"},{Value:"Europe/Zurich",Text:"(UTC+01:00) Zurich"},{Value:"Asia/Amman",Text:"(UTC+02:00) Amman"},{Value:"Europe/Athens",Text:"(UTC+02:00) Athens"},{Value:"Asia/Beirut",Text:"(UTC+02:00) Beirut"},{Value:"Europe/Bucharest",Text:"(UTC+02:00) Bucharest"},{Value:"Africa/Cairo",Text:"(UTC+02:00) Cairo"},{Value:"Europe/Chisinau",Text:"(UTC+02:00) Chisinau"},{Value:"Asia/Damascus",Text:"(UTC+02:00) Damascus"},{Value:"Asia/Gaza",Text:"(UTC+02:00) Gaza"},{Value:"Europe/Helsinki",Text:"(UTC+02:00) Helsinki"},{Value:"Asia/Jerusalem",Text:"(UTC+02:00) Jerusalem"},{Value:"Africa/Johannesburg",Text:"(UTC+02:00) Johannesburg"},{Value:"Africa/Khartoum",Text:"(UTC+02:00) Khartoum"},{Value:"Europe/Kiev",Text:"(UTC+02:00) Kiev"},{Value:"Africa/Maputo",Text:"(UTC+02:00) Maputo"},{Value:"Europe/Kaliningrad",Text:"(UTC+02:00) Moscow-01 - Kaliningrad"},{Value:"Asia/Nicosia",Text:"(UTC+02:00) Nicosia"},{Value:"Europe/Riga",Text:"(UTC+02:00) Riga"},{Value:"Europe/Sofia",Text:"(UTC+02:00) Sofia"},{Value:"Europe/Tallinn",Text:"(UTC+02:00) Tallinn"},{Value:"Africa/Tripoli",Text:"(UTC+02:00) Tripoli"},{Value:"Europe/Vilnius",Text:"(UTC+02:00) Vilnius"},{Value:"Africa/Windhoek",Text:"(UTC+02:00) Windhoek"},{Value:"Asia/Baghdad",Text:"(UTC+03:00) Baghdad"},{Value:"Europe/Istanbul",Text:"(UTC+03:00) Istanbul"},{Value:"Europe/Minsk",Text:"(UTC+03:00) Minsk"},{Value:"Europe/Moscow",Text:"(UTC+03:00) Moscow+00 - Moscow"},{Value:"Africa/Nairobi",Text:"(UTC+03:00) Nairobi"},{Value:"Asia/Qatar",Text:"(UTC+03:00) Qatar"},{Value:"Asia/Riyadh",Text:"(UTC+03:00) Riyadh"},{Value:"Antarctica/Syowa",Text:"(UTC+03:00) Syowa"},{Value:"Asia/Tehran",Text:"(UTC+03:30) Tehran"},{Value:"Asia/Baku",Text:"(UTC+04:00) Baku"},{Value:"Asia/Dubai",Text:"(UTC+04:00) Dubai"},{Value:"Indian/Mahe",Text:"(UTC+04:00) Mahe"},{Value:"Indian/Mauritius",Text:"(UTC+04:00) Mauritius"},{Value:"Europe/Samara",Text:"(UTC+04:00) Moscow+01 - Samara"},{Value:"Indian/Reunion",Text:"(UTC+04:00) Reunion"},{Value:"Asia/Tbilisi",Text:"(UTC+04:00) Tbilisi"},{Value:"Asia/Yerevan",Text:"(UTC+04:00) Yerevan"},{Value:"Asia/Kabul",Text:"(UTC+04:30) Kabul"},{Value:"Asia/Aqtau",Text:"(UTC+05:00) Aqtau"},{Value:"Asia/Aqtobe",Text:"(UTC+05:00) Aqtobe"},{Value:"Asia/Ashgabat",Text:"(UTC+05:00) Ashgabat"},{Value:"Asia/Dushanbe",Text:"(UTC+05:00) Dushanbe"},{Value:"Asia/Karachi",Text:"(UTC+05:00) Karachi"},{Value:"Indian/Kerguelen",Text:"(UTC+05:00) Kerguelen"},{Value:"Indian/Maldives",Text:"(UTC+05:00) Maldives"},{Value:"Antarctica/Mawson",Text:"(UTC+05:00) Mawson"},{Value:"Asia/Yekaterinburg",Text:"(UTC+05:00) Moscow+02 - Yekaterinburg"},{Value:"Asia/Tashkent",Text:"(UTC+05:00) Tashkent"},{Value:"Asia/Colombo",Text:"(UTC+05:30) Colombo"},{Value:"Asia/Kolkata",Text:"(UTC+05:30) India Standard Time"},{Value:"Asia/Katmandu",Text:"(UTC+05:45) Katmandu"},{Value:"Asia/Almaty",Text:"(UTC+06:00) Almaty"},{Value:"Asia/Bishkek",Text:"(UTC+06:00) Bishkek"},{Value:"Indian/Chagos",Text:"(UTC+06:00) Chagos"},{Value:"Asia/Dhaka",Text:"(UTC+06:00) Dhaka"},{Value:"Asia/Omsk",Text:"(UTC+06:00) Moscow+03 - Omsk"},{Value:"Asia/Thimphu",Text:"(UTC+06:00) Thimphu"},{Value:"Antarctica/Vostok",Text:"(UTC+06:00) Vostok"},{Value:"Indian/Cocos",Text:"(UTC+06:30) Cocos"},{Value:"Asia/Yangon",Text:"(UTC+06:30) Rangoon"},{Value:"Asia/Bangkok",Text:"(UTC+07:00) Bangkok"},{Value:"Indian/Christmas",Text:"(UTC+07:00) Christmas"},{Value:"Antarctica/Davis",Text:"(UTC+07:00) Davis"},{Value:"Asia/Saigon",Text:"(UTC+07:00) Hanoi"},{Value:"Asia/Hovd",Text:"(UTC+07:00) Hovd"},{Value:"Asia/Jakarta",Text:"(UTC+07:00) Jakarta"},{Value:"Asia/Krasnoyarsk",Text:"(UTC+07:00) Moscow+04 - Krasnoyarsk"},{Value:"Asia/Brunei",Text:"(UTC+08:00) Brunei"},{Value:"Asia/Shanghai",Text:"(UTC+08:00) China Time - Beijing"},{Value:"Asia/Choibalsan",Text:"(UTC+08:00) Choibalsan"},{Value:"Asia/Hong_Kong",Text:"(UTC+08:00) Hong Kong"},{Value:"Asia/Kuala_Lumpur",Text:"(UTC+08:00) Kuala Lumpur"},{Value:"Asia/Macau",Text:"(UTC+08:00) Macau"},{Value:"Asia/Makassar",Text:"(UTC+08:00) Makassar"},{Value:"Asia/Manila",Text:"(UTC+08:00) Manila"},{Value:"Asia/Irkutsk",Text:"(UTC+08:00) Moscow+05 - Irkutsk"},{Value:"Asia/Singapore",Text:"(UTC+08:00) Singapore"},{Value:"Asia/Taipei",Text:"(UTC+08:00) Taipei"},{Value:"Asia/Ulaanbaatar",Text:"(UTC+08:00) Ulaanbaatar"},{Value:"Australia/Perth",Text:"(UTC+08:00) Western Time - Perth"},{Value:"Asia/Pyongyang",Text:"(UTC+08:30) Pyongyang"},{Value:"Asia/Dili",Text:"(UTC+09:00) Dili"},{Value:"Asia/Jayapura",Text:"(UTC+09:00) Jayapura"},{Value:"Asia/Yakutsk",Text:"(UTC+09:00) Moscow+06 - Yakutsk"},{Value:"Pacific/Palau",Text:"(UTC+09:00) Palau"},{Value:"Asia/Seoul",Text:"(UTC+09:00) Seoul"},{Value:"Asia/Tokyo",Text:"(UTC+09:00) Tokyo"},{Value:"Australia/Darwin",Text:"(UTC+09:30) Central Time - Darwin"},{Value:"Antarctica/DumontDUrville",Text:'(UTC+10:00) Dumont D"Urville'},{Value:"Australia/Brisbane",Text:"(UTC+10:00) Eastern Time - Brisbane"},{Value:"Pacific/Guam",Text:"(UTC+10:00) Guam"},{Value:"Asia/Vladivostok",Text:"(UTC+10:00) Moscow+07 - Vladivostok"},{Value:"Pacific/Port_Moresby",Text:"(UTC+10:00) Port Moresby"},{Value:"Pacific / Chuuk",Text:"(UTC+10:00) Truk"},{Value:"Australia/Adelaide",Text:"(UTC+10:30) Central Time - Adelaide"},{Value:"Antarctica/Casey",Text:"(UTC+11:00) Casey"},{Value:"Australia/Hobart",Text:"(UTC+11:00) Eastern Time - Hobart"},{Value:"Australia/Sydney",Text:"(UTC+11:00) Eastern Time - Melbourne, Sydney"},{Value:"Pacific/Efate",Text:"(UTC+11:00) Efate"},{Value:"Pacific/Guadalcanal",Text:"(UTC+11:00) Guadalcanal"},{Value:"Pacific/Kosrae",Text:"(UTC+11:00) Kosrae"},{Value:"Asia/Magadan",Text:"(UTC+11:00) Moscow+08 - Magadan"},{Value:"Pacific / Norfolk",Text:"(UTC+11:00) Norfolk"},{Value:"Pacific/Noumea",Text:"(UTC+11:00) Noumea"},{Value:"Pacific/Pohnpei",Text:"(UTC+11:00) Ponape"},{Value:"Pacific/Funafuti",Text:"(UTC+12:00) Funafuti"},{Value:"Pacific/Kwajalein",Text:"(UTC+12:00) Kwajalein"},{Value:"Pacific/Majuro",Text:"(UTC+12:00) Majuro"},{Value:"Asia/Kamchatka",Text:"(UTC+12:00) Moscow+09 - Petropavlovsk - Kamchatskiy"},{Value:"Pacific / Nauru",Text:"(UTC+12:00) Nauru"},{Value:"Pacific/Tarawa",Text:"(UTC+12:00) Tarawa"},{Value:"Pacific/Wake",Text:"(UTC+12:00) Wake"},{Value:"Pacific/Wallis",Text:"(UTC+12:00) Wallis"},{Value:"Pacific/Auckland",Text:"(UTC+13:00) Auckland"},{Value:"Pacific/Enderbury",Text:"(UTC+13:00) Enderbury"},{Value:"Pacific/Fakaofo",Text:"(UTC+13:00) Fakaofo"},{Value:"Pacific/Fiji",Text:"(UTC+13:00) Fiji"},{Value:"Pacific/Tongatapu",Text:"(UTC+13:00) Tongatapu"},{Value:"Pacific/Apia",Text:"(UTC+14:00) Apia"},{Value:"Pacific/Kiritimati",Text:"(UTC+14:00) Kiritimati"}]}}]);
//# sourceMappingURL=790.9d8d78a8.chunk.js.map