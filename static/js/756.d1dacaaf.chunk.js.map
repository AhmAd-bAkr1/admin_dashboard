{"version":3,"file":"static/js/756.d1dacaaf.chunk.js","mappings":"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","sources":["../node_modules/@syncfusion/ej2-grids/src/grid/renderer/inline-edit-renderer.js","../node_modules/@syncfusion/ej2-grids/src/grid/renderer/batch-edit-renderer.js","../node_modules/@syncfusion/ej2-grids/src/grid/renderer/dialog-edit-renderer.js","../node_modules/@syncfusion/ej2-grids/src/grid/renderer/edit-renderer.js","../node_modules/@syncfusion/ej2-grids/src/grid/renderer/edit-cell-base.js","../node_modules/@syncfusion/ej2-grids/src/grid/renderer/boolean-edit-cell.js","../node_modules/@syncfusion/ej2-grids/src/grid/renderer/dropdown-edit-cell.js","../node_modules/@syncfusion/ej2-grids/src/grid/renderer/numeric-edit-cell.js","../node_modules/@syncfusion/ej2-grids/src/grid/renderer/default-edit-cell.js","../node_modules/@syncfusion/ej2-grids/src/grid/actions/normal-edit.js","../node_modules/@syncfusion/ej2-grids/src/grid/actions/inline-edit.js","../node_modules/@syncfusion/ej2-grids/src/grid/actions/batch-edit.js","../node_modules/@syncfusion/ej2-grids/src/grid/actions/dialog-edit.js","../node_modules/@syncfusion/ej2-grids/src/grid/renderer/datepicker-edit-cell.js","../node_modules/@syncfusion/ej2-grids/src/grid/renderer/template-edit-cell.js","../node_modules/@syncfusion/ej2-grids/src/grid/actions/edit.js","../node_modules/@syncfusion/ej2-grids/src/grid/renderer/filter-cell-renderer.js","../node_modules/@syncfusion/ej2-grids/src/grid/renderer/filter-menu-operator.js","../node_modules/@syncfusion/ej2-dropdowns/src/combo-box/combo-box.js","../node_modules/@syncfusion/ej2-dropdowns/src/common/highlight-search.js","../node_modules/@syncfusion/ej2-dropdowns/src/auto-complete/auto-complete.js","../node_modules/@syncfusion/ej2-grids/src/grid/renderer/string-filter-ui.js","../node_modules/@syncfusion/ej2-grids/src/grid/renderer/number-filter-ui.js","../node_modules/@syncfusion/ej2-grids/src/grid/renderer/boolean-filter-ui.js","../node_modules/@syncfusion/ej2-grids/src/grid/renderer/date-filter-ui.js","../node_modules/@syncfusion/ej2-grids/src/grid/renderer/filter-menu-renderer.js","../node_modules/@syncfusion/ej2-grids/src/grid/actions/checkbox-filter.js","../node_modules/@syncfusion/ej2-navigations/src/common/menu-scroll.js","../node_modules/@syncfusion/ej2-navigations/src/common/menu-base.js","../node_modules/@syncfusion/ej2-navigations/src/context-menu/context-menu.js","../node_modules/@syncfusion/ej2-grids/src/grid/common/excel-filter-base.js","../node_modules/@syncfusion/ej2-grids/src/grid/actions/excel-filter.js","../node_modules/@syncfusion/ej2-grids/src/grid/actions/filter.js","../node_modules/@syncfusion/ej2-grids/src/grid/actions/sort.js","../node_modules/@syncfusion/ej2-grids/src/grid/actions/toolbar.js"],"sourcesContent":["import { isNullOrUndefined, addClass, extend, closest } from '@syncfusion/ej2-base';\nimport * as events from '../base/constant';\nimport { appendChildren, alignFrozenEditForm, getMovableTbody, getFrozenRightTbody, setStyleAndAttributes } from '../base/util';\nimport * as literals from '../base/string-literals';\n/**\n * Edit render module is used to render grid edit row.\n *\n * @hidden\n */\nvar InlineEditRender = /** @class */ (function () {\n    /**\n     * Constructor for render module\n     *\n     * @param {IGrid} parent - returns the IGrid\n     */\n    function InlineEditRender(parent) {\n        this.parent = parent;\n    }\n    InlineEditRender.prototype.addNew = function (elements, args) {\n        this.isEdit = false;\n        var tbody;\n        var mTbody = getMovableTbody(this.parent);\n        var frTbody = getFrozenRightTbody(this.parent);\n        var isFrozenGrid = this.parent.isFrozenGrid();\n        var isVirtualFrozen = isFrozenGrid && this.parent.enableColumnVirtualization && args.isScroll;\n        if (this.parent.frozenRows && this.parent.editSettings.newRowPosition === 'Top') {\n            tbody = isVirtualFrozen ? this.parent.getMovableHeaderTbody() : this.parent.getHeaderTable().querySelector(literals.tbody);\n        }\n        else {\n            tbody = isVirtualFrozen ? this.parent.getMovableContentTbody() : this.parent.getContentTable().querySelector(literals.tbody);\n        }\n        args.row = this.parent.createElement('tr', { className: 'e-row e-addedrow' });\n        if (tbody.querySelector('.e-emptyrow')) {\n            var emptyRow = tbody.querySelector('.e-emptyrow');\n            emptyRow.parentNode.removeChild(emptyRow);\n            if (isFrozenGrid && !isVirtualFrozen) {\n                var moveTbody = this.parent.getContent().querySelector('.' + literals.movableContent).querySelector(literals.tbody);\n                (moveTbody.firstElementChild).parentNode.removeChild(moveTbody.firstElementChild);\n                if (this.parent.getFrozenMode() === literals.leftRight) {\n                    var frTbody_1 = this.parent.getContent().querySelector('.e-frozen-right-content').querySelector(literals.tbody);\n                    (frTbody_1.firstElementChild).parentNode.removeChild(frTbody_1.firstElementChild);\n                }\n            }\n        }\n        if (this.parent.editSettings.newRowPosition === 'Top') {\n            tbody.insertBefore(args.row, tbody.firstChild);\n        }\n        else {\n            tbody.appendChild(args.row);\n        }\n        args.row.appendChild(this.getEditElement(elements, false, undefined, args, true));\n        this.parent.editModule.checkLastRow(args.row, args);\n        if (isFrozenGrid && !isVirtualFrozen) {\n            var mEle = this.renderMovableform(args.row, args);\n            if (this.parent.editSettings.newRowPosition === 'Top') {\n                mTbody.insertBefore(mEle, mTbody.firstChild);\n            }\n            else {\n                mTbody.appendChild(mEle);\n            }\n            args.row.querySelector('.e-normaledit').setAttribute('colspan', this.parent.getVisibleFrozenColumns() + '');\n            mEle.setAttribute('colspan', '' + (this.parent.getVisibleColumns().length - this.parent.getVisibleFrozenColumns()));\n            if (frTbody) {\n                var frEle = this.renderFrozenRightForm(args.row, args);\n                if (this.parent.editSettings.newRowPosition === 'Top') {\n                    frTbody.insertBefore(frEle, frTbody.firstChild);\n                }\n                else {\n                    frTbody.appendChild(frEle);\n                }\n                var colSpan = this.parent.getVisibleFrozenColumns() - this.parent.getFrozenRightColumnsCount();\n                args.row.querySelector('.e-normaledit').setAttribute('colspan', colSpan + '');\n                frEle.querySelector('.e-normaledit').setAttribute('colspan', '' + this.parent.getFrozenRightColumnsCount());\n            }\n            if (this.parent.height === 'auto') {\n                this.parent.notify(events.frozenHeight, {});\n            }\n        }\n    };\n    InlineEditRender.prototype.renderFrozenRightForm = function (ele, args) {\n        var frEle = ele.cloneNode(true);\n        var form = args.frozenRightForm = frEle.querySelector('form');\n        if (this.parent.editSettings.template) {\n            form.innerHTML = '';\n            this.appendChildren(form, args.rowData, false);\n            return frEle;\n        }\n        this.renderRightFrozen(ele, frEle);\n        frEle.querySelector(literals.colGroup).innerHTML = this.parent.getHeaderContent()\n            .querySelector('.e-frozen-right-header').querySelector(literals.colGroup).innerHTML;\n        return frEle;\n    };\n    InlineEditRender.prototype.renderMovableform = function (ele, args) {\n        var mEle = ele.cloneNode(true);\n        var form = args.movableForm = mEle.querySelector('form');\n        if (this.parent.editSettings.template) {\n            form.innerHTML = '';\n            this.appendChildren(form, args.rowData, false);\n            return mEle;\n        }\n        this.renderMovable(ele, mEle);\n        mEle.querySelector(literals.colGroup).innerHTML = this.parent.getHeaderContent()\n            .querySelector('.' + literals.movableHeader).querySelector(literals.colGroup).innerHTML;\n        return mEle;\n    };\n    InlineEditRender.prototype.updateFreezeEdit = function (row, td) {\n        td = td.concat([].slice.call(this.getFreezeRow(row).querySelectorAll('td.e-rowcell')));\n        if (this.parent.getFrozenMode() === literals.leftRight) {\n            td = td.concat([].slice.call(this.getFreezeRightRow(row).querySelectorAll('td.e-rowcell')));\n        }\n        return td;\n    };\n    InlineEditRender.prototype.getFreezeRightRow = function (row) {\n        var idx = parseInt(row.getAttribute(literals.ariaRowIndex), 10);\n        var fCont = this.parent.getFrozenLeftContentTbody();\n        var fHdr = this.parent.getFrozenHeaderTbody();\n        var frHdr = this.parent.getFrozenRightHeaderTbody();\n        var frCont = this.parent.getFrozenRightContentTbody();\n        if (fCont.contains(row) || fHdr.contains(row)) {\n            return this.parent.getFrozenRightRowByIndex(idx);\n        }\n        else if (frCont.contains(row) || frHdr.contains(row)) {\n            return this.parent.getRowByIndex(idx);\n        }\n        return row;\n    };\n    InlineEditRender.prototype.getFreezeRow = function (row) {\n        if (this.parent.isFrozenGrid()) {\n            var idx = parseInt(row.getAttribute(literals.ariaRowIndex), 10);\n            var fCont = this.parent.getFrozenLeftContentTbody();\n            var mCont = this.parent.getMovableContentTbody();\n            var fHdr = this.parent.getFrozenHeaderTbody();\n            var mHdr = this.parent.getMovableHeaderTbody();\n            if (fCont.contains(row) || fHdr.contains(row)) {\n                return this.parent.getMovableRowByIndex(idx);\n            }\n            else if (mCont.contains(row) || mHdr.contains(row)) {\n                return this.parent.getRowByIndex(idx);\n            }\n        }\n        return row;\n    };\n    InlineEditRender.prototype.update = function (elements, args) {\n        this.isEdit = true;\n        var isCustomFormValidation = args.isCustomFormValidation;\n        var isScroll = args.isScroll;\n        if (!isScroll && (closest(args.row, '.' + literals.movableContent) || closest(args.row, '.' + literals.movableHeader))) {\n            args.row = this.getFreezeRow(args.row);\n        }\n        if (closest(args.row, '.e-frozen-right-content') || closest(args.row, '.e-frozen-right-header')) {\n            args.row = this.getFreezeRightRow(args.row);\n        }\n        var isVirtualFrozen = this.parent.isFrozenGrid() && this.parent.enableColumnVirtualization && isScroll;\n        var tdElement = [].slice.call(args.row.querySelectorAll('td.e-rowcell'));\n        args.row.innerHTML = '';\n        if (!isVirtualFrozen && !isCustomFormValidation) {\n            tdElement = this.updateFreezeEdit(args.row, tdElement);\n        }\n        args.row.appendChild(this.getEditElement(elements, true, tdElement, args, true));\n        args.row.classList.add(literals.editedRow);\n        this.parent.editModule.checkLastRow(args.row, args);\n        if (!isVirtualFrozen && !isCustomFormValidation) {\n            this.refreshFreezeEdit(args.row, args);\n        }\n    };\n    InlineEditRender.prototype.refreshFreezeEdit = function (row, args) {\n        var td = row.firstChild;\n        if (this.parent.getVisibleFrozenColumns() && this.parent.editSettings.template) {\n            td.querySelector(literals.colGroup).innerHTML = this.parent.getHeaderContent().querySelector('.' + literals.frozenHeader).\n                querySelector(literals.colGroup).innerHTML;\n        }\n        var fCls;\n        var cont;\n        var idx = parseInt(row.getAttribute(literals.ariaRowIndex), 10);\n        if (this.parent.isFrozenGrid()) {\n            if (idx < this.parent.frozenRows) {\n                cont = this.parent.getHeaderContent();\n                fCls = '.' + literals.frozenHeader;\n            }\n            else {\n                cont = this.parent.getContent();\n                fCls = '.' + literals.frozenContent;\n            }\n            var mTd = td.cloneNode(true);\n            var frTd = td.cloneNode(true);\n            var form = args.movableForm = mTd.querySelector('form');\n            if (this.parent.editSettings.template) {\n                this.refreshEditForm(form, args.rowData);\n            }\n            var fRows = void 0;\n            var frRows = void 0;\n            if (cont.querySelector(fCls).contains(row)) {\n                fRows = this.parent.getMovableRowByIndex(idx);\n                this.updateFrozenCont(fRows, td, mTd);\n                if (this.parent.getFrozenMode() === literals.leftRight) {\n                    args.frozenRightForm = frTd.querySelector('form');\n                    this.refreshEditForm(args.frozenRightForm, args.rowData);\n                    frRows = this.parent.getFrozenRightRowByIndex(idx);\n                    this.updateFrozenRightCont(frRows, td, frTd);\n                }\n            }\n            else {\n                fRows = this.parent.getRowByIndex(idx);\n                this.updateFrozenCont(fRows, mTd, td);\n                if (this.parent.getFrozenMode() === literals.leftRight) {\n                    args.frozenRightForm = frTd.querySelector('form');\n                    this.refreshEditForm(args.frozenRightForm, args.rowData);\n                    frRows = this.parent.getFrozenRightRowByIndex(idx);\n                    this.updateFrozenRightCont(frRows, frTd, td);\n                }\n            }\n            fRows.appendChild(mTd);\n            fRows.classList.add(literals.editedRow);\n            if (this.parent.getFrozenMode() === literals.leftRight) {\n                frRows.appendChild(frTd);\n                frRows.classList.add(literals.editedRow);\n                alignFrozenEditForm(args.frozenRightForm.querySelector('td:not(.e-hide)'), args.form.querySelector('td:not(.e-hide)'));\n            }\n            alignFrozenEditForm(args.movableForm.querySelector('td:not(.e-hide)'), args.form.querySelector('td:not(.e-hide)'));\n        }\n    };\n    InlineEditRender.prototype.refreshEditForm = function (form, data) {\n        if (this.parent.editSettings.template) {\n            form.innerHTML = '';\n            this.appendChildren(form, data, false);\n        }\n    };\n    InlineEditRender.prototype.updateFrozenRightCont = function (row, ele, frEle) {\n        row.innerHTML = '';\n        this.renderRightFrozen(ele, frEle);\n        frEle.querySelector(literals.colGroup).innerHTML = this.parent.getHeaderContent()\n            .querySelector('.e-frozen-right-header').querySelector(literals.colGroup).innerHTML;\n        ele.setAttribute('colspan', this.parent.getVisibleFrozenColumns() - this.parent.getFrozenRightColumnsCount() + '');\n        frEle.setAttribute('colspan', this.parent.getFrozenRightColumnsCount() + '');\n    };\n    InlineEditRender.prototype.updateFrozenCont = function (row, ele, mEle) {\n        row.innerHTML = '';\n        this.renderMovable(ele, mEle);\n        mEle.querySelector(literals.colGroup).innerHTML = this.parent.getHeaderContent()\n            .querySelector('.' + literals.movableHeader).querySelector(literals.colGroup).innerHTML;\n        ele.setAttribute('colspan', this.parent.getVisibleFrozenColumns() + '');\n        mEle.setAttribute('colspan', this.parent.getCurrentVisibleColumns(this.parent.enableColumnVirtualization).length - this.parent.getVisibleFrozenColumns() + '');\n    };\n    InlineEditRender.prototype.renderRightFrozen = function (ele, frEle) {\n        frEle.querySelector('tr').innerHTML = '';\n        var cols = this.parent.getColumns();\n        var k = 0;\n        for (var i = 0; i < cols.length; i++, k++) {\n            if (cols[i].getFreezeTableName() === literals.frozenRight) {\n                var index = k - this.parent.getMovableColumnsCount();\n                frEle.querySelector('tr').appendChild(ele.querySelector('tr').removeChild(ele.querySelector('tr').children[index]));\n                k--;\n            }\n        }\n    };\n    InlineEditRender.prototype.renderMovable = function (ele, mEle) {\n        mEle.querySelector('tr').innerHTML = '';\n        var cols = this.parent.getColumns();\n        var k = this.parent.isRowDragable() ? 1 : 0;\n        for (var i = 0; i < cols.length; i++, k++) {\n            if (cols[i].getFreezeTableName() === 'movable') {\n                mEle.querySelector('tr').appendChild(ele.querySelector('tr').removeChild(ele.querySelector('tr').children[k]));\n                k--;\n            }\n        }\n    };\n    // eslint-disable-next-line max-len\n    InlineEditRender.prototype.getEditElement = function (elements, isEdit, tdElement, args, isFrozen) {\n        var gObj = this.parent;\n        var gLen = 0;\n        var isDetail = !isNullOrUndefined(gObj.detailTemplate) || !isNullOrUndefined(gObj.childGrid) ? 1 : 0;\n        if (gObj.allowGrouping) {\n            gLen = gObj.groupSettings.columns.length;\n        }\n        var td = this.parent.createElement('td', {\n            className: 'e-editcell e-normaledit',\n            attrs: {\n                colspan: (gObj.getCurrentVisibleColumns(this.parent.enableColumnVirtualization).length - gObj.getVisibleFrozenColumns()\n                    + this.parent.getIndentCount()).toString()\n            }\n        });\n        var form = args.form =\n            this.parent.createElement('form', { id: gObj.element.id + 'EditForm', className: 'e-gridform' });\n        if (this.parent.editSettings.template) {\n            this.appendChildren(form, args.rowData, isFrozen);\n            td.appendChild(form);\n            return td;\n        }\n        var table = this.parent.createElement('table', { className: 'e-table e-inline-edit', attrs: { cellspacing: '0.25' } });\n        table.appendChild(gObj.getContentTable().querySelector(literals.colGroup).cloneNode(true));\n        var tbody = this.parent.createElement(literals.tbody);\n        var tr = this.parent.createElement('tr');\n        var i = 0;\n        if (isDetail) {\n            tr.insertBefore(this.parent.createElement('td', { className: 'e-detailrowcollapse' }), tr.firstChild);\n        }\n        if (gObj.isRowDragable()) {\n            tr.appendChild(this.parent.createElement('td', { className: 'e-dragindentcell' }));\n        }\n        while (i < gLen) {\n            tr.appendChild(this.parent.createElement('td', { className: 'e-indentcell' }));\n            i++;\n        }\n        var m = 0;\n        i = 0;\n        var isVirtualFrozen = gObj.isFrozenGrid() && gObj.enableColumnVirtualization && args.isScroll;\n        var cols = args.isCustomFormValidation ? this.parent.columnModel : gObj.getColumns();\n        while ((isEdit && m < tdElement.length && i < cols.length) || i < cols.length) {\n            var span = isEdit ? tdElement[m].getAttribute('colspan') : null;\n            var col = cols[i];\n            if ((isVirtualFrozen && col.getFreezeTableName() !== 'movable')\n                || (args.isCustomFormValidation && (col.commands || col.commandsTemplate || !col.field))) {\n                i++;\n                continue;\n            }\n            var td_1 = this.parent.createElement('td', {\n                className: literals.rowCell, attrs: { style: 'text-align:' + (col.textAlign ? col.textAlign : ''), 'colspan': span ? span : '' }\n            });\n            if (col.visible) {\n                td_1.appendChild(elements[col.uid]);\n                if (this.parent.rowRenderingMode === 'Vertical') {\n                    setStyleAndAttributes(td_1, { 'data-cell': col.headerText });\n                    if (i === 0) {\n                        td_1.classList.add('e-responsive-editcell');\n                    }\n                }\n                if (col.editType === 'booleanedit') {\n                    td_1.classList.add('e-boolcell');\n                }\n                else if (col.commands || col.commandsTemplate) {\n                    addClass([td_1], 'e-unboundcell');\n                }\n            }\n            else {\n                td_1.classList.add('e-hide');\n            }\n            tr.appendChild(td_1);\n            i = span ? i + parseInt(span, 10) : i + 1;\n            m++;\n        }\n        tbody.appendChild(tr);\n        table.appendChild(tbody);\n        form.appendChild(table);\n        td.appendChild(form);\n        return td;\n    };\n    InlineEditRender.prototype.removeEventListener = function () {\n        //To destroy the renderer\n    };\n    InlineEditRender.prototype.appendChildren = function (form, data, isFrozen) {\n        var _this = this;\n        var dummyData = extend({}, data, { isAdd: !this.isEdit, isFrozen: isFrozen }, true);\n        var editTemplateID = this.parent.element.id + 'editSettingsTemplate';\n        if (this.parent.isReact && typeof (this.parent.editSettings.template) !== 'string') {\n            this.parent.getEditTemplate()(dummyData, this.parent, 'editSettingsTemplate', editTemplateID, null, null, form);\n            this.parent.renderTemplates();\n        }\n        else {\n            appendChildren(form, this.parent.getEditTemplate()(dummyData, this.parent, 'editSettingsTemplate', editTemplateID));\n        }\n        // eslint-disable-next-line\n        var setRules = function () {\n            var cols = _this.parent.getColumns();\n            for (var i = 0; i < cols.length; i++) {\n                if (cols[i].validationRules) {\n                    _this.parent.editModule.formObj.rules[cols[i].field] =\n                        cols[i].validationRules;\n                }\n            }\n        };\n    };\n    return InlineEditRender;\n}());\nexport { InlineEditRender };\n","import { classList } from '@syncfusion/ej2-base';\nimport * as literals from '../base/string-literals';\n/**\n * Edit render module is used to render grid edit row.\n *\n * @hidden\n */\nvar BatchEditRender = /** @class */ (function () {\n    /**\n     * Constructor for render module\n     *\n     * @param {IGrid} parent - specifies the IGrid\n     */\n    function BatchEditRender(parent) {\n        this.parent = parent;\n    }\n    BatchEditRender.prototype.update = function (elements, args) {\n        if (this.parent.isReact && args.columnObject && args.columnObject.template) {\n            var parentRow = args.cell.parentElement;\n            var newTd = args.cell.cloneNode(true);\n            parentRow.insertBefore(newTd, args.cell);\n            newTd.focus();\n            args.cell.remove();\n            args.cell = newTd;\n        }\n        args.cell.innerHTML = '';\n        args.cell.appendChild(this.getEditElement(elements, args));\n        args.cell.classList.remove('e-ellipsistooltip');\n        args.cell.classList.add('e-editedbatchcell');\n        classList(args.row, [literals.editedRow, 'e-batchrow'], []);\n    };\n    BatchEditRender.prototype.getEditElement = function (elements, args) {\n        var gObj = this.parent;\n        var form = this.parent\n            .createElement('form', { id: gObj.element.id + 'EditForm', className: 'e-gridform' });\n        form.appendChild(elements[args.columnObject.uid]);\n        if (args.columnObject.editType === 'booleanedit') {\n            args.cell.classList.add('e-boolcell');\n        }\n        if (!args.columnObject.editType) {\n            args.cell.classList.add('e-inputbox');\n        }\n        return form;\n    };\n    BatchEditRender.prototype.removeEventListener = function () {\n        //To destroy the renderer\n    };\n    return BatchEditRender;\n}());\nexport { BatchEditRender };\n","import { Dialog } from '@syncfusion/ej2-popups';\nimport { remove, extend, updateBlazorTemplate } from '@syncfusion/ej2-base';\nimport * as events from '../base/constant';\nimport { appendChildren, applyBiggerTheme, addBiggerDialog } from '../base/util';\nimport { ResponsiveDialogRenderer } from './responsive-dialog-renderer';\nimport { ResponsiveDialogAction } from '../base/enum';\nimport * as literals from '../base/string-literals';\n/**\n * Edit render module is used to render grid edit row.\n *\n * @hidden\n */\nvar DialogEditRender = /** @class */ (function () {\n    /**\n     * Constructor for render module\n     *\n     * @param {IGrid} parent - specifies the IGrid\n     * @param {ServiceLocator} serviceLocator - specifies the serviceLocator\n     */\n    function DialogEditRender(parent, serviceLocator) {\n        this.parent = parent;\n        this.serviceLocator = serviceLocator;\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.on(events.dialogDestroy, this.destroy, this);\n        this.parent.on(events.destroy, this.destroy, this);\n    }\n    DialogEditRender.prototype.setLocaleObj = function () {\n        this.l10n = this.serviceLocator.getService('localization');\n    };\n    DialogEditRender.prototype.addNew = function (elements, args) {\n        this.isEdit = false;\n        this.createDialog(elements, args);\n    };\n    DialogEditRender.prototype.update = function (elements, args) {\n        this.isEdit = true;\n        this.createDialog(elements, args);\n    };\n    DialogEditRender.prototype.createDialogHeader = function (args) {\n        var gObj = this.parent;\n        var header;\n        if (this.parent.enableAdaptiveUI) {\n            var responsiveDlgRenderer = new ResponsiveDialogRenderer(this.parent, this.serviceLocator);\n            responsiveDlgRenderer.action = this.isEdit ? ResponsiveDialogAction.isEdit : ResponsiveDialogAction.isAdd;\n            return responsiveDlgRenderer.renderResponsiveHeader(undefined, args);\n        }\n        else {\n            if (gObj.editSettings.headerTemplate) {\n                header = this.getDialogEditTemplateElement('HeaderTemplate', args);\n            }\n            else if (this.isEdit) {\n                header = this.l10n.getConstant('EditFormTitle') + args.primaryKeyValue[0];\n            }\n            else {\n                header = this.l10n.getConstant('AddFormTitle');\n            }\n        }\n        return header;\n    };\n    DialogEditRender.prototype.createDialog = function (elements, args) {\n        var gObj = this.parent;\n        this.dialog = this.parent.createElement('div', { id: gObj.element.id + '_dialogEdit_wrapper', styles: 'width: auto' });\n        if (gObj.enableAdaptiveUI) {\n            this.dialog.classList.add('e-responsive-dialog');\n        }\n        this.dialog.setAttribute('aria-label', 'Dialog edit');\n        gObj.element.appendChild(this.dialog);\n        this.setLocaleObj();\n        // let position: PositionDataModel = this.parent.element.getBoundingClientRect().height < 400 ?\n        //     { X: 'center', Y: 'top' } : { X: 'center', Y: 'center' };\n        this.dialogObj = new Dialog(extend({\n            header: this.createDialogHeader(args), isModal: true, visible: true, cssClass: 'e-edit-dialog',\n            content: this.getEditElement(elements, args),\n            showCloseIcon: true,\n            allowDragging: true,\n            // position: position,\n            close: this.dialogClose.bind(this),\n            created: this.dialogCreated.bind(this),\n            closeOnEscape: true, width: gObj.editSettings.template ? 'auto' : '330px',\n            target: args.target ? args.target : document.body, animationSettings: { effect: 'None' },\n            footerTemplate: gObj.editSettings.footerTemplate ? this.getDialogEditTemplateElement('FooterTemplate', args) : null,\n            buttons: [{\n                    click: this.btnClick.bind(this),\n                    buttonModel: { content: this.l10n.getConstant('SaveButton'), cssClass: 'e-primary', isPrimary: true }\n                },\n                { click: this.btnClick.bind(this), buttonModel: { cssClass: 'e-flat', content: this.l10n.getConstant('CancelButton') } }]\n        }, gObj.editSettings.dialog ? (gObj.editSettings.dialog.params || {}) : {}));\n        args.dialog = this.dialogObj;\n        var isStringTemplate = 'isStringTemplate';\n        this.dialogObj[isStringTemplate] = true;\n        this.renderResponsiveDialog();\n        this.dialogObj.appendTo(this.dialog);\n        applyBiggerTheme(this.parent.element, this.dialogObj.element.parentElement);\n        if (gObj.enableAdaptiveUI) {\n            this.dialogObj.show(true);\n        }\n    };\n    DialogEditRender.prototype.dialogCreated = function () {\n        addBiggerDialog(this.parent);\n    };\n    DialogEditRender.prototype.renderResponsiveDialog = function () {\n        var _this = this;\n        if (this.parent.enableAdaptiveUI) {\n            if (this.parent.adaptiveDlgTarget) {\n                this.dialogObj.target = this.parent.adaptiveDlgTarget;\n            }\n            this.dialogObj.buttons = [{}];\n            this.dialogObj.showCloseIcon = true;\n            this.dialogObj.visible = false;\n            this.dialogObj.width = '100%';\n            this.dialogObj.open = function () {\n                _this.dialogObj.element.style.maxHeight = '100%';\n            };\n        }\n    };\n    DialogEditRender.prototype.btnClick = function (e) {\n        if (this.l10n.getConstant('CancelButton').toLowerCase() === e.target.innerText.trim().toLowerCase()) {\n            this.dialogClose();\n        }\n        else {\n            this.parent.endEdit();\n        }\n    };\n    DialogEditRender.prototype.dialogClose = function () {\n        this.parent.closeEdit();\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    DialogEditRender.prototype.destroy = function (args) {\n        var dialogEditTemplates = ['template', 'headerTemplate', 'footerTemplate'];\n        for (var i = 0; i < dialogEditTemplates.length; i++) {\n            if (this.parent.editSettings[dialogEditTemplates[i]]) {\n                var templateName = dialogEditTemplates[i].charAt(0).toUpperCase() + dialogEditTemplates[i].slice(1);\n                var editTemplateID = this.parent.element.id + 'editSettings' + templateName;\n                updateBlazorTemplate(editTemplateID, templateName, this.parent.editSettings);\n            }\n        }\n        this.parent.notify(events.destroyForm, {});\n        this.parent.isEdit = false;\n        this.parent.notify(events.toolbarRefresh, {});\n        if (this.dialog && !this.dialogObj.isDestroyed) {\n            this.dialogObj.destroy();\n            remove(this.dialog);\n        }\n    };\n    DialogEditRender.prototype.getDialogEditTemplateElement = function (dialogTemp, args) {\n        var tempDiv = this.parent.createElement('div', { className: 'e-dialog' + dialogTemp });\n        var dummyData = extend({}, args.rowData, { isAdd: !this.isEdit }, true);\n        var templateID = this.parent.element.id + 'editSettings' + dialogTemp;\n        appendChildren(tempDiv, (dialogTemp === 'HeaderTemplate' ? this.parent.getEditHeaderTemplate() :\n            this.parent.getEditFooterTemplate())(dummyData, this.parent, 'editSettings' + dialogTemp, templateID));\n        updateBlazorTemplate(templateID, dialogTemp, this.parent.editSettings);\n        return tempDiv;\n    };\n    DialogEditRender.prototype.getEditElement = function (elements, args) {\n        var _this = this;\n        var gObj = this.parent;\n        var div = this.parent.createElement('div', { className: this.isEdit ? literals.editedRow : 'e-insertedrow' });\n        var form = args.form =\n            this.parent.createElement('form', { id: gObj.element.id + 'EditForm', className: 'e-gridform' });\n        if (this.parent.editSettings.template) {\n            var editTemplateID = this.parent.element.id + 'editSettingsTemplate';\n            var dummyData = extend({}, args.rowData, { isAdd: !this.isEdit }, true);\n            var isReactCompiler = this.parent.isReact && typeof (this.parent.editSettings.template) !== 'string';\n            if (isReactCompiler) {\n                this.parent.getEditTemplate()(dummyData, this.parent, 'editSettingsTemplate', editTemplateID, null, null, form);\n                this.parent.renderTemplates();\n            }\n            else {\n                appendChildren(form, this.parent.getEditTemplate()(dummyData, this.parent, 'editSettingsTemplate', editTemplateID));\n            }\n            var setRules = function () {\n                var columns = _this.parent.getColumns();\n                for (var i = 0; i < columns.length; i++) {\n                    if (columns[i].validationRules) {\n                        _this.parent.editModule.formObj.rules[columns[i].field] =\n                            columns[i].validationRules;\n                    }\n                }\n            };\n            updateBlazorTemplate(editTemplateID, 'Template', this.parent.editSettings, true, setRules);\n            div.appendChild(form);\n            return div;\n        }\n        var table = this.parent.createElement('table', { className: literals.table, attrs: { cellspacing: '6px' } });\n        var tbody = this.parent.createElement(literals.tbody);\n        var cols = gObj.getColumns();\n        for (var i = 0; i < cols.length; i++) {\n            if (this.parent.editModule.checkColumnIsGrouped(cols[i]) || cols[i].commands || cols[i].commandsTemplate ||\n                cols[i].type === 'checkbox') {\n                continue;\n            }\n            var tr = this.parent.createElement('tr');\n            var dataCell = this.parent.createElement('td', {\n                className: literals.rowCell, attrs: {\n                    style: 'text-align:' + (this.parent.enableRtl ? 'right' : 'left') + ';width:190px'\n                }\n            });\n            elements[cols[i].uid].classList.remove('e-input');\n            dataCell.appendChild(elements[cols[i].uid]);\n            tr.appendChild(dataCell);\n            tbody.appendChild(tr);\n        }\n        table.appendChild(tbody);\n        form.appendChild(table);\n        div.appendChild(form);\n        return div;\n    };\n    DialogEditRender.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off(events.dialogDestroy, this.destroy);\n        this.parent.off(events.destroy, this.destroy);\n    };\n    return DialogEditRender;\n}());\nexport { DialogEditRender };\n","import { isNullOrUndefined, closest, extend } from '@syncfusion/ej2-base';\nimport { InlineEditRender } from './inline-edit-renderer';\nimport { BatchEditRender } from './batch-edit-renderer';\nimport { DialogEditRender } from './dialog-edit-renderer';\nimport { attributes, classList, select } from '@syncfusion/ej2-base';\nimport { CellType } from '../base/enum';\nimport { RowModelGenerator } from '../services/row-model-generator';\nimport { getComplexFieldID, getObject, appendChildren, parentsUntil, extendObjWithFn } from '../base/util';\nimport * as events from '../base/constant';\nimport * as literals from '../base/string-literals';\n/**\n * Edit render module is used to render grid edit row.\n *\n * @hidden\n */\nvar EditRender = /** @class */ (function () {\n    /**\n     * Constructor for render module\n     *\n     * @param {IGrid} parent -specifies the IGrid\n     * @param {ServiceLocator} serviceLocator - specifies the serviceLocator\n     */\n    function EditRender(parent, serviceLocator) {\n        //Internal variables\n        this.editType = {\n            'Inline': InlineEditRender,\n            'Normal': InlineEditRender, 'Batch': BatchEditRender, 'Dialog': DialogEditRender\n        };\n        this.parent = parent;\n        this.serviceLocator = serviceLocator;\n        this.renderer = new this.editType[this.parent.editSettings.mode](parent, serviceLocator);\n        this.focus = serviceLocator.getService('focus');\n    }\n    EditRender.prototype.addNew = function (args) {\n        this.renderer.addNew(this.getEditElements(args), args);\n        this.convertWidget(args);\n    };\n    EditRender.prototype.update = function (args) {\n        this.renderer.update(this.getEditElements(args), args);\n        var isCustomFormValidation = args.isCustomFormValidation;\n        if (!isCustomFormValidation) {\n            this.parent.notify(events.beforeStartEdit, args);\n            this.convertWidget(args);\n        }\n    };\n    EditRender.prototype.convertWidget = function (args) {\n        var gObj = this.parent;\n        var isFocused;\n        var cell;\n        var value;\n        var fForm;\n        var frForm;\n        var frzCols = gObj.isFrozenGrid();\n        var index = gObj.getFrozenMode() === 'Right' && gObj.editSettings.mode === 'Normal' ? 1 : 0;\n        var form = gObj.editSettings.mode === 'Dialog' ?\n            select('#' + gObj.element.id + '_dialogEdit_wrapper .e-gridform', document) :\n            gObj.element.getElementsByClassName('e-gridform')[index];\n        var isVirtualFrozen = frzCols && this.parent.enableColumnVirtualization && args.isScroll;\n        if (frzCols && gObj.editSettings.mode === 'Normal') {\n            var rowIndex = parseInt(args.row.getAttribute(literals.ariaRowIndex), 10);\n            if (gObj.frozenRows && ((args.requestType === 'add' && gObj.editSettings.newRowPosition === 'Top')\n                || rowIndex < gObj.frozenRows)) {\n                fForm = gObj.element.querySelector('.' + literals.movableHeader).querySelector('.e-gridform');\n                if (this.parent.getFrozenMode() === literals.leftRight) {\n                    frForm = args.frozenRightForm;\n                }\n            }\n            else {\n                fForm = gObj.element.querySelector('.' + literals.movableContent).querySelector('.e-gridform');\n                if (this.parent.getFrozenMode() === literals.leftRight) {\n                    frForm = args.frozenRightForm;\n                }\n            }\n        }\n        var cols = gObj.editSettings.mode !== 'Batch' ? gObj.getColumns() : [gObj.getColumnByField(args.columnName)];\n        for (var _i = 0, cols_1 = cols; _i < cols_1.length; _i++) {\n            var col = cols_1[_i];\n            if (isVirtualFrozen && col.getFreezeTableName() !== 'movable') {\n                continue;\n            }\n            if (this.parent.editSettings.template && !isNullOrUndefined(col.field)) {\n                var cellArgs = extend({}, args);\n                cellArgs.element = form.querySelector('[name=' + getComplexFieldID(col.field) + ']');\n                if (isNullOrUndefined(cellArgs.element) && frzCols) {\n                    cellArgs.element = fForm.querySelector('[name=' + getComplexFieldID(col.field) + ']');\n                }\n                if (typeof col.edit.write === 'string') {\n                    getObject(col.edit.write, window)(cellArgs);\n                }\n                else {\n                    col.edit.write(cellArgs);\n                }\n                continue;\n            }\n            if (this.parent.editModule.checkColumnIsGrouped(col) || col.commands) {\n                continue;\n            }\n            // eslint-disable-next-line\n            value = (col.valueAccessor(col.field, args.rowData, col));\n            if (col.getFreezeTableName() === 'movable' && gObj.editSettings.mode === 'Normal') {\n                cell = fForm.querySelector('[e-mappinguid=' + col.uid + ']');\n            }\n            else if (frForm && col.getFreezeTableName() === literals.frozenRight && gObj.editSettings.mode === 'Normal') {\n                cell = frForm.querySelector('[e-mappinguid=' + col.uid + ']');\n            }\n            else {\n                cell = form.querySelector('[e-mappinguid=' + col.uid + ']');\n            }\n            var temp = col.edit.write;\n            if (!isNullOrUndefined(cell)) {\n                if (typeof temp === 'string') {\n                    temp = getObject(temp, window);\n                    temp({\n                        rowData: args.rowData, element: cell, column: col, requestType: args.requestType, row: args.row,\n                        foreignKeyData: col.isForeignColumn() && getObject(col.field, args.foreignKeyData)\n                    });\n                }\n                else {\n                    col.edit.write({\n                        rowData: args.rowData, element: cell, column: col, requestType: args.requestType, row: args.row,\n                        foreignKeyData: col.isForeignColumn() && getObject(col.field, args.foreignKeyData)\n                    });\n                }\n                if (!isFocused && !cell.getAttribute('disabled') && !parentsUntil(cell, 'e-checkbox-disabled')) {\n                    this.focusElement(cell, args.type);\n                    isFocused = true;\n                }\n            }\n        }\n        if (frzCols && !this.parent.allowTextWrap && ((args.requestType === 'add') || args.requestType === 'beginEdit')\n            && this.parent.editSettings.mode !== 'Dialog' && !isNullOrUndefined(form) && !isNullOrUndefined(fForm)) {\n            var mTdElement = (fForm.querySelector('tr').children[0]);\n            var fTdElement = (form.querySelector('tr').children[0]);\n            if (fTdElement.offsetHeight > mTdElement.offsetHeight) {\n                mTdElement.style.height = fTdElement.offsetHeight + 'px';\n                if (frForm) {\n                    var frTdElement = fForm.querySelector('tr').children[0];\n                    frTdElement.style.height = fTdElement.offsetHeight + 'px';\n                }\n            }\n            else {\n                fTdElement.style.height = mTdElement.offsetHeight + 'px';\n                if (frForm) {\n                    var frTdElement = fForm.querySelector('tr').children[0];\n                    frTdElement.style.height = mTdElement.offsetHeight + 'px';\n                }\n            }\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    EditRender.prototype.focusElement = function (elem, type) {\n        var chkBox = this.parent.element.querySelector('.e-edit-checkselect');\n        if (!isNullOrUndefined(chkBox)) {\n            chkBox.nextElementSibling.classList.add('e-focus');\n        }\n        if (this.parent.editSettings.mode === 'Batch') {\n            this.focus.onClick({ target: closest(elem, 'td') }, true);\n        }\n        else {\n            var isFocus = this.parent.enableVirtualization && this.parent.editSettings.mode === 'Normal' ? false : true;\n            if (isFocus || (this.parent.enableVirtualization && this.parent.editSettings.newRowPosition === 'Bottom'\n                && parentsUntil(elem, literals.addedRow))) {\n                elem.focus();\n            }\n            else {\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                elem.focus({ preventScroll: true });\n            }\n        }\n        if (elem.classList.contains('e-defaultcell')) {\n            elem.setSelectionRange(elem.value.length, elem.value.length);\n        }\n    };\n    EditRender.prototype.getEditElements = function (args) {\n        var gObj = this.parent;\n        var elements = {};\n        var cols = gObj.editSettings.mode !== 'Batch' ? gObj.getColumns() : [gObj.getColumnByField(args.columnName)];\n        if (args.isCustomFormValidation) {\n            cols = this.parent.columnModel;\n        }\n        if (this.parent.editSettings.template) {\n            return {};\n        }\n        var isVirtualFrozen = gObj.isFrozenGrid() && gObj.enableColumnVirtualization && args.isScroll;\n        for (var i = 0, len = cols.length; i < len; i++) {\n            var col = cols[i];\n            if (this.parent.editModule.checkColumnIsGrouped(col) || (isVirtualFrozen && cols[i].getFreezeTableName() !== 'movable')\n                || (args.isCustomFormValidation && (col.commands || col.commandsTemplate || !col.field))) {\n                continue;\n            }\n            if (col.commands || col.commandsTemplate) {\n                var cellRendererFact = this.serviceLocator.getService('cellRendererFactory');\n                var model = new RowModelGenerator(this.parent);\n                var cellRenderer = cellRendererFact.getCellRenderer(CellType.CommandColumn);\n                var cells = model.generateRows(args.rowData)[0].cells;\n                var cell = cells.filter(function (cell) { return cell.rowID; });\n                var td = cellRenderer.render(cell[i], args.rowData, { 'index': args.row ? args.row.getAttribute(literals.ariaRowIndex) : 0 }, this.parent.enableVirtualization);\n                var div = td.firstElementChild;\n                div.setAttribute('textAlign', td.getAttribute('textAlign'));\n                elements[col.uid] = div;\n                continue;\n            }\n            var value = (col.valueAccessor(col.field, args.rowData, col));\n            var tArgs = { column: col, value: value, type: args.requestType, data: args.rowData };\n            var temp = col.edit.create;\n            var input = void 0;\n            if (col.editTemplate) {\n                input = this.parent.createElement('span', { attrs: { 'e-mappinguid': col.uid } });\n                var tempID = this.parent.element.id + col.uid + 'editTemplate';\n                var tempData = extendObjWithFn({}, args.rowData, { column: col });\n                var isReactCompiler = this.parent.isReact && typeof (col.editTemplate) !== 'string';\n                if (isReactCompiler) {\n                    col.getEditTemplate()(extend({ 'index': args.rowIndex }, tempData), this.parent, 'editTemplate', tempID, null, null, input);\n                    this.parent.renderTemplates();\n                }\n                else {\n                    var template = col.getEditTemplate()(extend({ 'index': args.rowIndex }, tempData), this.parent, 'editTemplate', tempID);\n                    appendChildren(input, template);\n                }\n            }\n            else {\n                if (typeof temp === 'string') {\n                    temp = getObject(temp, window);\n                    input = temp(tArgs);\n                }\n                else {\n                    input = col.edit.create(tArgs);\n                }\n                if (typeof input === 'string') {\n                    var div = this.parent.createElement('div');\n                    div.innerHTML = input;\n                    input = div.firstChild;\n                }\n                var isInput = input.tagName !== 'input' && input.querySelectorAll('input').length;\n                var complexFieldName = getComplexFieldID(col.field);\n                attributes(isInput ? input.querySelector('input') : input, {\n                    name: complexFieldName, 'e-mappinguid': col.uid,\n                    id: gObj.element.id + complexFieldName\n                });\n                classList(input, ['e-input', 'e-field'], []);\n                if (col.textAlign === 'Right') {\n                    input.classList.add('e-ralign');\n                }\n                if ((col.isPrimaryKey || col.isIdentity) && args.requestType === 'beginEdit' ||\n                    (col.isIdentity && args.requestType === 'add')) { // already disabled in cell plugins\n                    input.setAttribute('disabled', '');\n                }\n            }\n            elements[col.uid] = input;\n        }\n        return elements;\n    };\n    EditRender.prototype.destroy = function () {\n        this.renderer.removeEventListener();\n    };\n    return EditRender;\n}());\nexport { EditRender };\n","import { createEditElement } from '../base/util';\n/**\n * `DropDownEditCell` is used to handle dropdown cell type editing.\n *\n * @hidden\n */\nvar EditCellBase = /** @class */ (function () {\n    function EditCellBase(parent) {\n        this.parent = parent;\n    }\n    EditCellBase.prototype.create = function (args) {\n        return createEditElement(this.parent, args.column, 'e-field', { type: 'text' });\n    };\n    EditCellBase.prototype.read = function (element) {\n        return element.ej2_instances[0].value;\n    };\n    EditCellBase.prototype.destroy = function () {\n        if (this.obj && !this.obj.isDestroyed) {\n            if (this.removeEventHandler) {\n                this.removeEventHandler();\n            }\n            this.obj.destroy();\n        }\n    };\n    return EditCellBase;\n}());\nexport { EditCellBase };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { CheckBox } from '@syncfusion/ej2-buttons';\nimport { extend } from '@syncfusion/ej2-base';\nimport { isEditable, addRemoveActiveClasses, createEditElement, getObject } from '../base/util';\nimport * as literals from '../base/string-literals';\nimport { EditCellBase } from './edit-cell-base';\n/**\n * `BooleanEditCell` is used to handle boolean cell type editing.\n *\n * @hidden\n */\nvar BooleanEditCell = /** @class */ (function (_super) {\n    __extends(BooleanEditCell, _super);\n    function BooleanEditCell() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.activeClasses = ['e-selectionbackground', 'e-active'];\n        return _this;\n    }\n    BooleanEditCell.prototype.create = function (args) {\n        var col = args.column;\n        var classNames = 'e-field e-boolcell';\n        if (col.type === 'checkbox') {\n            classNames = 'e-field e-boolcell e-edit-checkselect';\n        }\n        this.removeEventHandler = this.removeEventListener;\n        return createEditElement(this.parent, args.column, classNames, { type: 'checkbox', value: args.value });\n    };\n    BooleanEditCell.prototype.read = function (element) {\n        return element.checked;\n    };\n    BooleanEditCell.prototype.write = function (args) {\n        var selectChkBox;\n        var chkState;\n        if (!isNullOrUndefined(args.row)) {\n            selectChkBox = args.row.querySelector('.e-edit-checkselect');\n        }\n        if (getObject(args.column.field, args.rowData)) {\n            chkState = JSON.parse(getObject(args.column.field, args.rowData).toString().toLowerCase());\n        }\n        if (!isNullOrUndefined(selectChkBox) && args.column.type === 'checkbox') {\n            this.editType = this.parent.editSettings.mode;\n            this.editRow = args.row;\n            if (args.requestType !== 'add') {\n                var row = this.parent.getRowObjectFromUID(args.row.getAttribute('data-uid'));\n                chkState = row ? row.isSelected : false;\n            }\n            addRemoveActiveClasses.apply(void 0, [[].slice.call(args.row.getElementsByClassName(literals.rowCell)), chkState].concat(this.activeClasses));\n        }\n        this.obj = new CheckBox(extend({\n            label: this.parent.editSettings.mode !== 'Dialog' ? ' ' : args.column.headerText,\n            checked: chkState,\n            disabled: !isEditable(args.column, args.requestType, args.element), enableRtl: this.parent.enableRtl\n        }, args.column.edit.params));\n        this.addEventListener();\n        this.obj.appendTo(args.element);\n    };\n    BooleanEditCell.prototype.addEventListener = function () {\n        this.cbChange = this.checkBoxChange.bind(this);\n        this.obj.addEventListener(literals.change, this.cbChange);\n    };\n    BooleanEditCell.prototype.removeEventListener = function () {\n        if (this.obj.isDestroyed) {\n            return;\n        }\n        this.obj.removeEventListener(literals.change, this.cbChange);\n    };\n    BooleanEditCell.prototype.checkBoxChange = function (args) {\n        if (this.editRow && this.editType !== 'Dialog') {\n            var add = false;\n            if (!args.checked) {\n                this.editRow.removeAttribute('aria-selected');\n            }\n            else {\n                add = true;\n                this.editRow.setAttribute('aria-selected', add.toString());\n            }\n            addRemoveActiveClasses.apply(void 0, [[].slice.call(this.editRow.getElementsByClassName(literals.rowCell)), add].concat(this.activeClasses));\n        }\n    };\n    return BooleanEditCell;\n}(EditCellBase));\nexport { BooleanEditCell };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { extend, isNullOrUndefined, select } from '@syncfusion/ej2-base';\nimport { DropDownList } from '@syncfusion/ej2-dropdowns';\nimport { Query, DataManager, DataUtil, Predicate } from '@syncfusion/ej2-data';\nimport { isEditable, getComplexFieldID, getObject } from '../base/util';\nimport { parentsUntil } from '../base/util';\nimport { EditCellBase } from './edit-cell-base';\nimport * as literals from '../base/string-literals';\nimport * as events from '../base/constant';\n/**\n * `DropDownEditCell` is used to handle dropdown cell type editing.\n *\n * @hidden\n */\nvar DropDownEditCell = /** @class */ (function (_super) {\n    __extends(DropDownEditCell, _super);\n    function DropDownEditCell(parent) {\n        var _this = \n        //constructor\n        _super.call(this) || this;\n        _this.parent = parent;\n        _this.flag = false;\n        _this.removeEventHandler = _this.removeEventListener;\n        return _this;\n    }\n    DropDownEditCell.prototype.write = function (args) {\n        var isInline = this.parent.editSettings.mode !== 'Dialog';\n        this.column = args.column;\n        var pred = new Predicate(args.column.field, 'notequal', null, true, false);\n        var params = {};\n        if (args.column.edit.params) {\n            var keys = Object.keys(args.column.edit.params);\n            for (var i = 0; i < keys.length; i++) {\n                params[keys[i]] = keys[i] === 'query' ? args.column.edit.params[keys[i]].clone() : args.column.edit.params[keys[i]];\n            }\n        }\n        this.obj = new DropDownList(extend({\n            dataSource: this.parent.dataSource instanceof DataManager ?\n                this.parent.dataSource : new DataManager(this.parent.dataSource),\n            query: new Query().where(pred).select(args.column.field), enabled: isEditable(args.column, args.requestType, args.element),\n            fields: { value: args.column.field },\n            value: getObject(args.column.field, args.rowData),\n            enableRtl: this.parent.enableRtl,\n            placeholder: isInline ? '' : args.column.headerText, popupHeight: '200px',\n            floatLabelType: isInline ? 'Never' : 'Always',\n            sortOrder: 'Ascending'\n        }, params));\n        if (this.parent.enableVirtualization) {\n            this.obj.dataSource = args.column.isForeignColumn() ? [args.foreignKeyData[0]] : [args.rowData];\n        }\n        this.addEventListener();\n        this.obj.query.params = this.parent.query.params;\n        this.obj.appendTo(args.element);\n        /* tslint:disable-next-line:no-any */\n        args.element.setAttribute('name', getComplexFieldID(args.column.field));\n    };\n    DropDownEditCell.prototype.addEventListener = function () {\n        this.ddCreated = this.dropdownCreated.bind(this);\n        this.ddOpen = this.dropDownOpen.bind(this);\n        this.ddBeforeOpen = this.dropdownBeforeOpen.bind(this);\n        this.ddComplete = this.ddActionComplete.bind(this);\n        this.obj.addEventListener(literals.create, this.ddCreated);\n        this.obj.addEventListener(literals.open, this.ddOpen);\n        this.obj.addEventListener(literals.beforeOpen, this.ddBeforeOpen);\n        this.obj.addEventListener(events.actionComplete, this.ddComplete);\n    };\n    DropDownEditCell.prototype.removeEventListener = function () {\n        if (this.obj.isDestroyed) {\n            return;\n        }\n        this.obj.removeEventListener(literals.create, this.ddCreated);\n        this.obj.removeEventListener(literals.open, this.ddOpen);\n        this.obj.removeEventListener(literals.beforeOpen, this.ddBeforeOpen);\n        this.obj.removeEventListener(events.actionComplete, this.ddComplete);\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    DropDownEditCell.prototype.dropdownCreated = function (e) {\n        this.flag = true;\n    };\n    DropDownEditCell.prototype.dropdownBeforeOpen = function () {\n        if (this.parent.enableVirtualization) {\n            this.obj.dataSource = !this.column.isForeignColumn() ? (this.parent.dataSource instanceof DataManager ?\n                this.parent.dataSource : new DataManager(this.parent.dataSource))\n                : this.column.dataSource instanceof DataManager ?\n                    this.column.dataSource : new DataManager(this.column.dataSource);\n        }\n    };\n    DropDownEditCell.prototype.ddActionComplete = function (e) {\n        e.result = DataUtil.distinct(e.result, this.obj.fields.value, true);\n        if (this.flag && this.column.dataSource && !this.column.edit.params.ddEditedData) {\n            if ('result' in this.column.dataSource) {\n                this.column.dataSource.result = e.result;\n            }\n            else if (this.column.dataSource instanceof DataManager) {\n                this.column.dataSource.dataSource.json = e.result;\n            }\n        }\n        this.flag = false;\n    };\n    DropDownEditCell.prototype.dropDownOpen = function (args) {\n        var dlgElement = parentsUntil(this.obj.element, 'e-dialog');\n        if (this.parent.editSettings.mode === 'Dialog' && !isNullOrUndefined(dlgElement)) {\n            var dlgObj = select('#' + dlgElement.id, document).ej2_instances[0];\n            args.popup.element.style.zIndex = (dlgObj.zIndex + 1).toString();\n        }\n    };\n    return DropDownEditCell;\n}(EditCellBase));\nexport { DropDownEditCell };\n","import { extend, Internationalization } from '@syncfusion/ej2-base';\nimport { NumericTextBox } from '@syncfusion/ej2-inputs';\nimport { isEditable, getComplexFieldID, getObject, createEditElement } from '../base/util';\n/**\n * `NumericEditCell` is used to handle numeric cell type editing.\n *\n * @hidden\n */\nvar NumericEditCell = /** @class */ (function () {\n    function NumericEditCell(parent) {\n        this.parent = parent;\n    }\n    NumericEditCell.prototype.keyEventHandler = function (args) {\n        if (args.keyCode === 13 || args.keyCode === 9) {\n            var evt = document.createEvent('HTMLEvents');\n            evt.initEvent('change', false, true);\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            this.dispatchEvent(evt);\n        }\n    };\n    NumericEditCell.prototype.create = function (args) {\n        this.instances = new Internationalization(this.parent.locale);\n        return createEditElement(this.parent, args.column, 'e-field', {});\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    NumericEditCell.prototype.read = function (element) {\n        return this.obj.value;\n    };\n    NumericEditCell.prototype.write = function (args) {\n        var col = args.column;\n        var isInline = this.parent.editSettings.mode !== 'Dialog';\n        this.obj = new NumericTextBox(extend({\n            value: parseFloat(getObject(args.column.field, args.rowData)),\n            enableRtl: this.parent.enableRtl,\n            placeholder: isInline ? '' : args.column.headerText,\n            enabled: isEditable(args.column, args.requestType, args.element),\n            floatLabelType: this.parent.editSettings.mode !== 'Dialog' ? 'Never' : 'Always',\n            locale: this.parent.locale\n        }, col.edit.params));\n        args.element.setAttribute('name', getComplexFieldID(args.column.field));\n        this.obj.appendTo(args.element);\n        this.obj.element.addEventListener('keydown', this.keyEventHandler);\n    };\n    NumericEditCell.prototype.destroy = function () {\n        if (this.obj && !this.obj.isDestroyed) {\n            this.obj.element.removeEventListener('keydown', this.keyEventHandler);\n            this.obj.destroy();\n        }\n    };\n    return NumericEditCell;\n}());\nexport { NumericEditCell };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { isNullOrUndefined, extend } from '@syncfusion/ej2-base';\nimport { isEditable, createEditElement } from '../base/util';\nimport { TextBox } from '@syncfusion/ej2-inputs';\nimport { EditCellBase } from './edit-cell-base';\n/**\n * `DefaultEditCell` is used to handle default cell type editing.\n *\n * @hidden\n */\nvar DefaultEditCell = /** @class */ (function (_super) {\n    __extends(DefaultEditCell, _super);\n    function DefaultEditCell() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    DefaultEditCell.prototype.create = function (args) {\n        var attr = {\n            type: 'text', value: !isNullOrUndefined(args.value) ? args.value : '', style: 'text-align:' + args.column.textAlign\n        };\n        return createEditElement(this.parent, args.column, 'e-field e-input e-defaultcell', attr);\n    };\n    DefaultEditCell.prototype.read = function (element) {\n        return element.value;\n    };\n    DefaultEditCell.prototype.write = function (args) {\n        var col = args.column;\n        var isInline = this.parent.editSettings.mode !== 'Dialog';\n        this.obj = new TextBox(extend({\n            element: args.element, floatLabelType: this.parent.editSettings.mode !== 'Dialog' ? 'Never' : 'Always',\n            enableRtl: this.parent.enableRtl, enabled: isEditable(args.column, args.requestType, args.element),\n            placeholder: isInline ? '' : args.column.headerText\n        }, col.edit.params));\n        this.obj.appendTo(args.element);\n    };\n    return DefaultEditCell;\n}(EditCellBase));\nexport { DefaultEditCell };\n","import { extend, select } from '@syncfusion/ej2-base';\nimport { remove, isNullOrUndefined, updateBlazorTemplate } from '@syncfusion/ej2-base';\nimport { parentsUntil, isGroupAdaptive, refreshForeignData, getObject, gridActionHandler } from '../base/util';\nimport * as events from '../base/constant';\nimport { RowRenderer } from '../renderer/row-renderer';\nimport { DataUtil } from '@syncfusion/ej2-data';\nimport { addRemoveEventListener } from '../base/util';\nimport * as literals from '../base/string-literals';\n/**\n * `NormalEdit` module is used to handle normal('inline, dialog, external') editing actions.\n *\n * @hidden\n */\nvar NormalEdit = /** @class */ (function () {\n    function NormalEdit(parent, serviceLocator, renderer) {\n        this.args = {};\n        this.currentVirtualData = {};\n        this.parent = parent;\n        this.renderer = renderer;\n        this.serviceLocator = serviceLocator;\n        this.addEventListener();\n    }\n    NormalEdit.prototype.clickHandler = function (e) {\n        var target = e.target;\n        var gObj = this.parent;\n        if ((((parentsUntil(target, literals.gridContent) &&\n            parentsUntil(parentsUntil(target, literals.gridContent), 'e-grid').id === gObj.element.id)) || (gObj.frozenRows\n            && parentsUntil(target, literals.headerContent))) && !parentsUntil(target, 'e-unboundcelldiv')) {\n            this.rowIndex = parentsUntil(target, literals.rowCell)\n                ? parseInt(target.parentElement.getAttribute(literals.ariaRowIndex), 10) : -1;\n            if (gObj.isEdit) {\n                gObj.editModule.endEdit();\n            }\n        }\n    };\n    NormalEdit.prototype.dblClickHandler = function (e) {\n        if (parentsUntil(e.target, literals.rowCell) && this.parent.editSettings.allowEditOnDblClick) {\n            this.parent.editModule.startEdit(parentsUntil(e.target, literals.row));\n        }\n    };\n    /**\n     * The function used to trigger editComplete\n     *\n     * @param {NotifyArgs} e - specifies the NotifyArgs\n     * @returns {void}\n     * @hidden\n     */\n    NormalEdit.prototype.editComplete = function (e) {\n        this.parent.isEdit = false;\n        var action = 'action';\n        switch (e.requestType) {\n            case 'save':\n                if (!(this.parent.isCheckBoxSelection || this.parent.selectionSettings.type === 'Multiple')\n                    || (!this.parent.isPersistSelection)) {\n                    if (e[action] !== 'edit') {\n                        this.parent.selectRow(0);\n                    }\n                }\n                this.parent.trigger(events.actionComplete, extend(e, {\n                    requestType: 'save',\n                    type: events.actionComplete\n                }));\n                break;\n            case 'delete':\n                this.parent.trigger(events.actionComplete, extend(e, {\n                    requestType: 'delete',\n                    type: events.actionComplete\n                }));\n                if (!this.parent.isCheckBoxSelection) {\n                    this.parent.selectRow(this.editRowIndex);\n                }\n                break;\n        }\n    };\n    NormalEdit.prototype.getEditArgs = function (editedData, rowObj, isScroll) {\n        var primaryKeys = this.parent.getPrimaryKeyFieldNames();\n        var primaryKeyValues = [];\n        for (var i = 0; i < primaryKeys.length; i++) {\n            primaryKeyValues.push(getObject(primaryKeys[i], editedData));\n        }\n        var args = {\n            primaryKey: primaryKeys, primaryKeyValue: primaryKeyValues, requestType: 'beginEdit',\n            rowData: editedData, rowIndex: this.rowIndex, type: 'edit', cancel: false,\n            foreignKeyData: rowObj && rowObj.foreignKeyData, target: undefined, isScroll: isScroll\n        };\n        return args;\n    };\n    NormalEdit.prototype.startEdit = function (tr) {\n        var _this = this;\n        var gObj = this.parent;\n        this.rowIndex = this.editRowIndex = parseInt(tr.getAttribute(literals.ariaRowIndex), 10);\n        if (gObj.enableVirtualization || gObj.enableInfiniteScrolling) {\n            var selector = '.e-row[aria-rowindex=\"' + this.rowIndex + '\"]';\n            var virtualRow = this.parent.element.querySelector(selector);\n            if (!virtualRow) {\n                return;\n            }\n        }\n        var e = { data: undefined, index: this.rowIndex, isScroll: false };\n        this.parent.notify(events.virtualScrollEditActionBegin, e);\n        if (isGroupAdaptive(gObj)) {\n            var rObj = gObj.getRowObjectFromUID(tr.getAttribute('data-uid'));\n            this.previousData = rObj.data;\n        }\n        else if (!this.previousData && (this.parent.enableVirtualization || this.parent.enableInfiniteScrolling)) {\n            this.previousData = e.data;\n        }\n        else if (!this.parent.enableVirtualization) {\n            this.previousData = extend({}, {}, gObj.getCurrentViewRecords()[this.rowIndex], true);\n        }\n        var editedData = extend({}, {}, e.data || this.previousData, true);\n        this.uid = tr.getAttribute('data-uid');\n        var rowObj = gObj.getRowObjectFromUID(this.uid);\n        var args = this.getEditArgs(editedData, rowObj, e.isScroll);\n        args.row = tr;\n        if (!args.isScroll) {\n            this.parent.notify(events.createVirtualValidationForm, { uid: this.uid, prevData: this.previousData, argsCreator: this.getEditArgs.bind(this), renderer: this.renderer });\n            gObj.trigger(events.beginEdit, args, function (begineditargs) {\n                begineditargs.type = 'actionBegin';\n                gObj.trigger(events.actionBegin, begineditargs, function (editargs) {\n                    if (!editargs.cancel) {\n                        _this.inlineEditHandler(editargs, tr);\n                    }\n                });\n            });\n        }\n        else {\n            this.inlineEditHandler(args, tr);\n        }\n    };\n    NormalEdit.prototype.inlineEditHandler = function (editargs, tr) {\n        var gObj = this.parent;\n        gObj.isEdit = true;\n        editargs.row = editargs.row ? editargs.row : tr;\n        if (gObj.editSettings.mode !== 'Dialog') {\n            gObj.clearSelection();\n        }\n        if (gObj.editSettings.mode === 'Dialog' && gObj.selectionModule) {\n            gObj.selectionModule.preventFocus = true;\n            editargs.row.classList.add('e-dlgeditrow');\n        }\n        this.renderer.update(editargs);\n        this.uid = tr.getAttribute('data-uid');\n        gObj.editModule.applyFormValidation();\n        editargs.type = 'actionComplete';\n        gObj.trigger(events.actionComplete, editargs);\n        this.args = editargs;\n        if (this.parent.allowTextWrap) {\n            this.parent.notify(events.freezeRender, { case: 'textwrap' });\n        }\n    };\n    NormalEdit.prototype.updateRow = function (index, data) {\n        var _this = this;\n        var gObj = this.parent;\n        this.editRowIndex = index;\n        var args = {\n            requestType: 'save', action: 'edit', type: events.actionBegin, data: data, cancel: false,\n            previousData: gObj.getCurrentViewRecords()[index],\n            row: gObj.getRowByIndex(index)\n        };\n        gObj.showSpinner();\n        if (gObj.enableInfiniteScrolling) {\n            this.uid = args.row.getAttribute('data-uid');\n            var index_1 = parseInt(args.row.getAttribute('aria-rowindex'));\n            this.parent.notify(events.refreshInfiniteEditrowindex, { index: index_1 });\n        }\n        gObj.notify(events.updateData, args);\n        if (args.promise) {\n            args.promise.then(function () { return gObj.refresh(); }).catch(function (e) { return _this.edFail(e); });\n        }\n        else {\n            if (!gObj.enableInfiniteScrolling) {\n                gObj.refresh();\n            }\n        }\n    };\n    NormalEdit.prototype.editFormValidate = function () {\n        var gObj = this.parent;\n        var isValid = gObj.editModule.editFormValidate();\n        var validationArgs = {\n            prevData: this.previousData, isValid: true, editIdx: this.editRowIndex, addIdx: this.addedRowIndex\n        };\n        gObj.notify(events.validateVirtualForm, validationArgs);\n        return (isValid && validationArgs.isValid);\n    };\n    NormalEdit.prototype.endEdit = function () {\n        var gObj = this.parent;\n        if (!this.parent.isEdit || !this.editFormValidate()) {\n            return;\n        }\n        var editedData = extend({}, {}, this.previousData, true);\n        var args = extend(this.args, {\n            requestType: 'save', type: events.actionBegin, data: editedData, cancel: false,\n            previousData: this.previousData, selectedRow: gObj.selectedRowIndex, foreignKeyData: {}\n        });\n        var index = gObj.getFrozenMode() === 'Right' ? 1 : 0;\n        var isDlg = gObj.editSettings.mode === 'Dialog';\n        var dlgWrapper = select('#' + gObj.element.id + '_dialogEdit_wrapper', document);\n        var dlgForm = isDlg ? dlgWrapper.querySelector('.e-gridform') : gObj.element.getElementsByClassName('e-gridform')[index];\n        var data = {\n            virtualData: extend({}, {}, this.previousData, true), isAdd: false, isScroll: false, endEdit: true\n        };\n        this.parent.notify(events.getVirtualData, data);\n        if ((this.parent.enableVirtualization || this.parent.enableInfiniteScrolling)\n            && this.parent.editSettings.mode === 'Normal' && Object.keys(data.virtualData).length) {\n            if (this.parent.isEdit) {\n                this.currentVirtualData = editedData = args.data = data.virtualData;\n            }\n        }\n        else {\n            editedData = gObj.editModule.getCurrentEditedData(dlgForm, editedData);\n        }\n        if (gObj.isFrozenGrid() && gObj.editSettings.mode === 'Normal') {\n            var mhdrFrm = gObj.getMovableVirtualHeader().querySelector('.e-gridform');\n            var mCntFrm = gObj.getMovableVirtualContent().querySelector('.e-gridform');\n            var mvblEle = [mhdrFrm || mCntFrm];\n            var frHdrFrm = void 0;\n            var frCntFrm = void 0;\n            var frEle = [];\n            if (gObj.getFrozenMode() === literals.leftRight) {\n                frHdrFrm = gObj.getFrozenRightHeader().querySelector('.e-gridform');\n                frCntFrm = gObj.getFrozenRightContent().querySelector('.e-gridform');\n                frEle = [frHdrFrm || frCntFrm];\n            }\n            gridActionHandler(this.parent, function (tableName, elements) {\n                for (var _i = 0, elements_1 = elements; _i < elements_1.length; _i++) {\n                    var ele = elements_1[_i];\n                    if (ele) {\n                        editedData = gObj.editModule.getCurrentEditedData(ele, editedData);\n                    }\n                }\n            }, [[], mvblEle, frEle]);\n        }\n        var eleLength = [].slice.call(gObj.element.getElementsByClassName(literals.editedRow)).length;\n        if (!data.isAdd && Object.keys(this.currentVirtualData).length && !eleLength) {\n            eleLength = 1;\n        }\n        if (isDlg ? dlgWrapper.getElementsByClassName(literals.editedRow).length : eleLength) {\n            args.action = 'edit';\n            gObj.trigger(events.actionBegin, args, function (endEditArgs) {\n                if (endEditArgs.cancel) {\n                    return;\n                }\n                gObj.showSpinner();\n                gObj.notify(events.updateData, endEditArgs);\n            });\n        }\n        else {\n            args.action = 'add';\n            args.selectedRow = 0;\n            args.index = this.addedRowIndex;\n            gObj.notify(events.virtualScrollEditSuccess, {});\n            gObj.notify(events.modelChanged, args);\n            this.addedRowIndex = null;\n            if (args.cancel) {\n                return;\n            }\n        }\n    };\n    NormalEdit.prototype.destroyElements = function () {\n        var gObj = this.parent;\n        gObj.editModule.destroyWidgets();\n        gObj.editModule.destroyForm();\n        this.parent.notify(events.dialogDestroy, {});\n    };\n    NormalEdit.prototype.editHandler = function (args) {\n        var _this = this;\n        if (args.promise) {\n            args.promise.then(function (e) { return _this.edSucc(e, args); }).catch(function (e) { return _this.edFail(e); });\n        }\n        else {\n            this.editSuccess(args.data, args);\n        }\n    };\n    NormalEdit.prototype.edSucc = function (e, args) {\n        this.editSuccess(e, args);\n    };\n    NormalEdit.prototype.edFail = function (e) {\n        this.editFailure(e);\n    };\n    NormalEdit.prototype.updateCurrentViewData = function (data) {\n        if (!this.parent.enableVirtualization && !this.parent.enableInfiniteScrolling) {\n            this.parent.getCurrentViewRecords()[this.editRowIndex] = data;\n        }\n    };\n    NormalEdit.prototype.requestSuccess = function (args) {\n        if (this.parent.editModule.formObj && !this.parent.editModule.formObj.isDestroyed) {\n            this.destroyElements();\n            this.stopEditStatus();\n            if (this.parent.editSettings.mode === 'Dialog' && args.action !== 'add' &&\n                this.parent.selectionModule) {\n                this.parent.element.querySelector('.e-dlgeditrow').classList.remove('e-dlgeditrow');\n            }\n        }\n    };\n    NormalEdit.prototype.editSuccess = function (e, args) {\n        if (!isNullOrUndefined(e) && !(e instanceof Array)) {\n            var rowData = 'rowData';\n            args.data = extend({}, extend({}, args[rowData], args.data), e);\n        }\n        this.requestSuccess(args);\n        this.parent.trigger(events.beforeDataBound, args);\n        args.type = events.actionComplete;\n        this.parent.isEdit = false;\n        this.refreshRow(args.data);\n        this.parent.notify(events.virtualScrollEditSuccess, args);\n        this.parent.editModule.checkLastRow(args.row);\n        this.parent.editModule.isLastRow = false;\n        this.updateCurrentViewData(args.data);\n        this.blazorTemplate();\n        this.editRowIndex = null;\n        this.parent.trigger(events.actionComplete, args);\n        if (!(this.parent.isCheckBoxSelection || this.parent.selectionSettings.type === 'Multiple')\n            || (!this.parent.isPersistSelection) && !this.parent.selectionSettings.checkboxOnly) {\n            if (this.parent.editSettings.mode !== 'Dialog') {\n                this.parent.selectRow(this.rowIndex > -1 ? this.rowIndex : this.editRowIndex);\n            }\n        }\n        this.parent.hideSpinner();\n    };\n    NormalEdit.prototype.closeForm = function () {\n        if (!this.cloneRow && this.parent.isEdit) {\n            this.stopEditStatus();\n        }\n        if (this.cloneRow) {\n            this.cloneRow.remove();\n            this.cloneRow = null;\n            this.originalRow.classList.remove('e-hiddenrow');\n        }\n        if (this.parent.isFrozenGrid() && this.cloneFrozen) {\n            this.cloneFrozen.remove();\n            this.frozen.classList.remove('e-hiddenrow');\n        }\n    };\n    NormalEdit.prototype.blazorTemplate = function () {\n        var cols = this.parent.getColumns();\n        if (this.parent.editSettings.template && this.parent.editSettings.mode === 'Normal') {\n            updateBlazorTemplate(this.parent.element.id + 'editSettingsTemplate', 'Template', this.parent.editSettings);\n        }\n        for (var i = 0; i < cols.length; i++) {\n            var col = cols[i];\n            if (col.template) {\n                updateBlazorTemplate(this.parent.element.id + col.uid, 'Template', col, false);\n            }\n            if (col.editTemplate) {\n                updateBlazorTemplate(this.parent.element.id + col.uid + 'editTemplate', 'EditTemplate', col);\n            }\n        }\n    };\n    NormalEdit.prototype.editFailure = function (e) {\n        this.parent.trigger(events.actionFailure, ({ error: e }));\n        this.parent.hideSpinner();\n        this.parent.log('actionfailure', { error: e });\n    };\n    NormalEdit.prototype.needRefresh = function () {\n        var refresh = true;\n        var editedRow = this.parent.element.querySelector('.e-gridform');\n        if ((this.parent.enableVirtualization || this.parent.infiniteScrollSettings.enableCache)\n            && this.parent.editSettings.mode === 'Normal' && !editedRow) {\n            refresh = false;\n        }\n        return refresh;\n    };\n    NormalEdit.prototype.refreshRow = function (data) {\n        var frzCols = this.parent.isFrozenGrid();\n        var row = new RowRenderer(this.serviceLocator, null, this.parent);\n        var rowObj = this.parent.getRowObjectFromUID(this.uid);\n        if (rowObj) {\n            rowObj.changes = data;\n            this.parent.notify(events.refreshVirtualCache, { data: data });\n            refreshForeignData(rowObj, this.parent.getForeignKeyColumns(), rowObj.changes);\n            if (this.needRefresh()) {\n                row.refresh(rowObj, this.parent.getColumns(), true);\n            }\n            var tr = [].slice.call(this.parent.element.querySelectorAll('[aria-rowindex=\"' + rowObj.index + '\"]'));\n            if (frzCols && tr.length) {\n                for (var i = 0; i < tr.length; i++) {\n                    var rowUid = tr[i].getAttribute('data-uid');\n                    if (rowUid !== this.uid) {\n                        rowObj = this.parent.getRowObjectFromUID(rowUid);\n                        rowObj.changes = data;\n                        row.refresh(rowObj, this.parent.getColumns(), true);\n                        this.parent.editModule.checkLastRow(tr[i]);\n                    }\n                }\n            }\n        }\n    };\n    NormalEdit.prototype.closeEdit = function () {\n        var _this = this;\n        if (!this.parent.isEdit) {\n            return;\n        }\n        var gObj = this.parent;\n        var args = extend(this.args, {\n            requestType: 'cancel', type: events.actionBegin, cancel: false, data: this.previousData, selectedRow: gObj.selectedRowIndex\n        });\n        gObj.notify(events.virtualScrollEditCancel, args);\n        this.blazorTemplate();\n        gObj.trigger(events.actionBegin, args, function (closeEditArgs) {\n            if (closeEditArgs.cancel) {\n                return;\n            }\n            if (_this.parent.editSettings.mode === 'Dialog') {\n                _this.parent.notify(events.dialogDestroy, {});\n            }\n            gObj.isEdit = false;\n            _this.stopEditStatus();\n            closeEditArgs.type = events.actionComplete;\n            if (gObj.editSettings.mode !== 'Dialog') {\n                _this.refreshRow(closeEditArgs.data);\n            }\n            var isLazyLoad = gObj.groupSettings.enableLazyLoading && gObj.groupSettings.columns.length\n                && !gObj.getContentTable().querySelector('tr.e-emptyrow');\n            if (!gObj.getContentTable().querySelector('tr.e-emptyrow') &&\n                !gObj.getContentTable().querySelector('tr.e-row') && !isLazyLoad) {\n                gObj.renderModule.emptyRow();\n            }\n            if (gObj.editSettings.mode !== 'Dialog') {\n                gObj.selectRow(_this.rowIndex);\n            }\n            gObj.trigger(events.actionComplete, closeEditArgs);\n        });\n    };\n    NormalEdit.prototype.addRecord = function (data, index) {\n        var _this = this;\n        var gObj = this.parent;\n        this.addedRowIndex = index = !isNullOrUndefined(index) ? index : 0;\n        if (data) {\n            gObj.notify(events.modelChanged, {\n                requestType: 'save', type: events.actionBegin, data: data, selectedRow: 0, action: 'add', index: index\n            });\n            return;\n        }\n        if (gObj.isEdit) {\n            return;\n        }\n        this.previousData = {};\n        this.uid = '';\n        var cols = gObj.getColumns();\n        var rowData = { virtualData: {}, isScroll: false };\n        this.parent.notify(events.getVirtualData, rowData);\n        for (var i = 0; i < cols.length; i++) {\n            if (rowData.isScroll && cols[i].getFreezeTableName() !== 'movable') {\n                continue;\n            }\n            if (cols[i].field) {\n                DataUtil.setValue(cols[i].field, cols[i].defaultValue, this.previousData);\n            }\n        }\n        var args = {\n            cancel: false, foreignKeyData: {},\n            requestType: 'add', data: this.previousData, type: events.actionBegin, index: index,\n            rowData: this.previousData, target: undefined, isScroll: rowData.isScroll\n        };\n        if ((this.parent.enableVirtualization || this.parent.infiniteScrollSettings.enableCache)\n            && Object.keys(rowData.virtualData).length) {\n            args.data = args.rowData = rowData.virtualData;\n        }\n        if (!args.isScroll) {\n            this.parent.notify(events.createVirtualValidationForm, { uid: this.uid, prevData: this.previousData, argsCreator: this.getEditArgs.bind(this), renderer: this.renderer });\n            gObj.trigger(events.actionBegin, args, function (addArgs) {\n                if (addArgs.cancel) {\n                    return;\n                }\n                _this.inlineAddHandler(addArgs);\n            });\n        }\n        else {\n            this.inlineAddHandler(args);\n        }\n    };\n    NormalEdit.prototype.inlineAddHandler = function (addArgs) {\n        var gObj = this.parent;\n        gObj.isEdit = true;\n        if (gObj.editSettings.mode !== 'Dialog') {\n            gObj.clearSelection();\n        }\n        this.renderer.addNew(addArgs);\n        gObj.editModule.applyFormValidation();\n        addArgs.type = events.actionComplete;\n        addArgs.row = gObj.element.querySelector('.' + literals.addedRow);\n        gObj.trigger(events.actionComplete, addArgs);\n        this.args = addArgs;\n    };\n    NormalEdit.prototype.deleteRecord = function (fieldname, data) {\n        this.editRowIndex = this.parent.selectedRowIndex;\n        if (data) {\n            data = (data instanceof Array) ? data : [data];\n            var gObj = this.parent;\n            var dataLen = Object.keys(data).length;\n            fieldname = fieldname || this.parent.getPrimaryKeyFieldNames()[0];\n            var _loop_1 = function (i) {\n                var _a;\n                var tmpRecord;\n                var contained = gObj.currentViewData.some(function (record) {\n                    tmpRecord = record;\n                    return data[i] === getObject(fieldname, record) || data[i] === record;\n                });\n                data[i] = contained ? tmpRecord : data[i][fieldname] ? data[i] : (_a = {}, _a[fieldname] = data[i], _a);\n            };\n            for (var i = 0; i < dataLen; i++) {\n                _loop_1(i);\n            }\n        }\n        var args = {\n            requestType: 'delete', type: events.actionBegin, foreignKeyData: {},\n            data: data ? data : this.parent.getSelectedRecords(), tr: this.parent.getSelectedRows(), cancel: false\n        };\n        if (!isNullOrUndefined(this.parent.commandDelIndex)) {\n            args.data[0] =\n                this.parent.getRowObjectFromUID(this.parent.getRowByIndex(this.parent.commandDelIndex).getAttribute('data-uid')).data;\n        }\n        if (this.parent.enableVirtualization && args.data.length > 1) {\n            var uid = this.parent.getSelectedRows()[0].getAttribute('data-uid');\n            args.data = [this.parent.getRowObjectFromUID(uid).data];\n        }\n        this.parent.notify(events.modelChanged, args);\n    };\n    NormalEdit.prototype.stopEditStatus = function () {\n        var gObj = this.parent;\n        var addElements = [].slice.call(gObj.element.getElementsByClassName(literals.addedRow));\n        var editElements = [].slice.call(gObj.element.getElementsByClassName(literals.editedRow));\n        for (var i = 0; i < addElements.length; i++) {\n            remove(addElements[i]);\n        }\n        for (var i = 0; i < editElements.length; i++) {\n            editElements[i].classList.remove(literals.editedRow);\n        }\n    };\n    /**\n     * @returns {void}\n     * @hidden\n     */\n    NormalEdit.prototype.addEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.evtHandlers = [{ event: events.crudAction, handler: this.editHandler },\n            { event: events.doubleTap, handler: this.dblClickHandler },\n            { event: events.click, handler: this.clickHandler },\n            { event: events.recordAdded, handler: this.requestSuccess },\n            { event: events.dblclick, handler: this.dblClickHandler },\n            { event: events.deleteComplete, handler: this.editComplete },\n            { event: events.saveComplete, handler: this.editComplete },\n            { event: events.rowModeChange, handler: this.closeEdit },\n            { event: events.closeInline, handler: this.closeForm }];\n        addRemoveEventListener(this.parent, this.evtHandlers, true, this);\n    };\n    /**\n     * @returns {void}\n     * @hidden\n     */\n    NormalEdit.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        addRemoveEventListener(this.parent, this.evtHandlers, false);\n    };\n    /**\n     * @returns {void}\n     * @hidden\n     */\n    NormalEdit.prototype.destroy = function () {\n        this.removeEventListener();\n        this.renderer.destroy();\n    };\n    return NormalEdit;\n}());\nexport { NormalEdit };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { NormalEdit } from './normal-edit';\n/**\n * `InlineEdit` module is used to handle inline editing actions.\n *\n * @hidden\n */\nvar InlineEdit = /** @class */ (function (_super) {\n    __extends(InlineEdit, _super);\n    function InlineEdit(parent, serviceLocator, renderer) {\n        var _this = _super.call(this, parent, serviceLocator) || this;\n        _this.parent = parent;\n        _this.serviceLocator = serviceLocator;\n        _this.renderer = renderer;\n        return _this;\n    }\n    InlineEdit.prototype.closeEdit = function () {\n        _super.prototype.closeEdit.call(this);\n    };\n    InlineEdit.prototype.addRecord = function (data, index) {\n        _super.prototype.addRecord.call(this, data, index);\n    };\n    InlineEdit.prototype.endEdit = function () {\n        _super.prototype.endEdit.call(this);\n    };\n    InlineEdit.prototype.updateRow = function (index, data) {\n        _super.prototype.updateRow.call(this, index, data);\n    };\n    InlineEdit.prototype.deleteRecord = function (fieldname, data) {\n        _super.prototype.deleteRecord.call(this, fieldname, data);\n    };\n    InlineEdit.prototype.startEdit = function (tr) {\n        _super.prototype.startEdit.call(this, tr);\n    };\n    return InlineEdit;\n}(NormalEdit));\nexport { InlineEdit };\n","import { extend, addClass, removeClass, setValue, closest, select } from '@syncfusion/ej2-base';\nimport { remove, classList } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, isUndefined } from '@syncfusion/ej2-base';\nimport { CellType } from '../base/enum';\nimport { parentsUntil, inArray, refreshForeignData, getObject, alignFrozenEditForm, gridActionHandler, addRemoveEventListener } from '../base/util';\nimport { splitFrozenRowObjectCells, getGridRowElements } from '../base/util';\nimport { sliceElements, getCellByColAndRowIndex, getMovableTbody, getFrozenRightTbody } from '../base/util';\nimport { getGridRowObjects } from '../base/util';\nimport * as events from '../base/constant';\nimport { RowRenderer } from '../renderer/row-renderer';\nimport { CellRenderer } from '../renderer/cell-renderer';\nimport { Row } from '../models/row';\nimport { Cell } from '../models/cell';\nimport { RowModelGenerator } from '../services/row-model-generator';\nimport { DataUtil } from '@syncfusion/ej2-data';\nimport * as literals from '../base/string-literals';\n/**\n * `BatchEdit` module is used to handle batch editing actions.\n *\n * @hidden\n */\nvar BatchEdit = /** @class */ (function () {\n    function BatchEdit(parent, serviceLocator, renderer) {\n        this.cellDetails = {};\n        this.originalCell = {};\n        this.cloneCell = {};\n        this.editNext = false;\n        this.preventSaveCell = false;\n        this.parent = parent;\n        this.serviceLocator = serviceLocator;\n        this.renderer = renderer;\n        this.focus = serviceLocator.getService('focus');\n        this.addEventListener();\n    }\n    /**\n     * @returns {void}\n     * @hidden\n     */\n    BatchEdit.prototype.addEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.evtHandlers = [{ event: events.click, handler: this.clickHandler },\n            { event: events.dblclick, handler: this.dblClickHandler },\n            { event: events.beforeCellFocused, handler: this.onBeforeCellFocused },\n            { event: events.cellFocused, handler: this.onCellFocused },\n            { event: events.doubleTap, handler: this.dblClickHandler },\n            { event: events.keyPressed, handler: this.keyDownHandler },\n            { event: events.editNextValCell, handler: this.editNextValCell },\n            { event: events.closeBatch, handler: this.closeForm },\n            { event: events.destroy, handler: this.destroy }];\n        addRemoveEventListener(this.parent, this.evtHandlers, true, this);\n        this.dataBoundFunction = this.dataBound.bind(this);\n        this.batchCancelFunction = this.batchCancel.bind(this);\n        this.parent.addEventListener(events.dataBound, this.dataBoundFunction);\n        this.parent.addEventListener(events.batchCancel, this.batchCancelFunction);\n    };\n    /**\n     * @returns {void}\n     * @hidden\n     */\n    BatchEdit.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        addRemoveEventListener(this.parent, this.evtHandlers, false);\n        this.parent.removeEventListener(events.dataBound, this.dataBoundFunction);\n        this.parent.removeEventListener(events.batchCancel, this.batchCancelFunction);\n    };\n    BatchEdit.prototype.batchCancel = function () {\n        this.parent.focusModule.restoreFocus();\n    };\n    BatchEdit.prototype.dataBound = function () {\n        this.parent.notify(events.toolbarRefresh, {});\n    };\n    /**\n     * @returns {void}\n     * @hidden\n     */\n    BatchEdit.prototype.destroy = function () {\n        this.removeEventListener();\n    };\n    BatchEdit.prototype.clickHandler = function (e) {\n        if (!parentsUntil(e.target, this.parent.element.id + '_add', true)) {\n            if (this.parent.isEdit && closest(this.form, 'td') !== closest(e.target, 'td')) {\n                this.saveCell();\n                this.editNextValCell();\n            }\n            if (parentsUntil(e.target, literals.rowCell) && !this.parent.isEdit) {\n                this.setCellIdx(e.target);\n            }\n        }\n    };\n    BatchEdit.prototype.dblClickHandler = function (e) {\n        var target = parentsUntil(e.target, literals.rowCell);\n        var tr = parentsUntil(e.target, literals.row);\n        var rowIndex = tr && parseInt(tr.getAttribute(literals.ariaRowIndex), 10);\n        var colIndex = target && parseInt(target.getAttribute(literals.ariaColIndex), 10);\n        if (!isNullOrUndefined(target) && !isNullOrUndefined(rowIndex) && !isNaN(colIndex)\n            && !target.parentElement.classList.contains(literals.editedRow)) {\n            this.editCell(rowIndex, this.parent.getColumns()[colIndex].field, this.isAddRow(rowIndex));\n        }\n    };\n    BatchEdit.prototype.onBeforeCellFocused = function (e) {\n        if (this.parent.isEdit && this.validateFormObj() &&\n            (e.byClick || (['tab', 'shiftTab', 'enter', 'shiftEnter'].indexOf(e.keyArgs.action) > -1))) {\n            e.cancel = true;\n            if (e.byClick) {\n                e.clickArgs.preventDefault();\n            }\n            else {\n                e.keyArgs.preventDefault();\n            }\n        }\n    };\n    BatchEdit.prototype.onCellFocused = function (e) {\n        var frzCols = this.parent.getFrozenLeftCount();\n        var frzRightCols = this.parent.getFrozenRightColumnsCount();\n        var mCont = this.parent.getContent().querySelector('.' + literals.movableContent);\n        var mHdr = this.parent.getHeaderContent().querySelector('.' + literals.movableHeader);\n        var clear = (!e.container.isContent || !e.container.isDataCell) && !(this.parent.frozenRows && e.container.isHeader);\n        if (!e.byKey || clear) {\n            if (this.parent.isEdit && clear) {\n                this.saveCell();\n            }\n            return;\n        }\n        var _a = e.container.indexes, rowIndex = _a[0], cellIndex = _a[1];\n        if (frzCols && (mCont.contains(e.element) || (this.parent.frozenRows && mHdr.contains(e.element)))) {\n            cellIndex += frzCols;\n        }\n        if (frzRightCols) {\n            var frHdr = this.parent.getHeaderContent().querySelector('.e-frozen-right-header');\n            var frCont = this.parent.getContent().querySelector('.e-frozen-right-content');\n            if (frCont.contains(e.element) || (this.parent.frozenRows && frHdr.contains(e.element))) {\n                cellIndex += (frzCols + this.parent.getMovableColumnsCount());\n            }\n        }\n        if (this.parent.frozenRows && e.container.isContent) {\n            rowIndex += this.parent.frozenRows;\n        }\n        var isEdit = this.parent.isEdit;\n        if (!this.parent.element.getElementsByClassName('e-popup-open').length) {\n            isEdit = isEdit && !this.validateFormObj();\n            switch (e.keyArgs.action) {\n                case 'tab':\n                case 'shiftTab':\n                    // eslint-disable-next-line no-case-declarations\n                    var col = this.parent.getColumns()[e.indexes[1]];\n                    if (col && !this.parent.isEdit) {\n                        this.editCell(e.indexes[0], col.field);\n                    }\n                    if (isEdit || this.parent.isLastCellPrimaryKey) {\n                        this.editCellFromIndex(rowIndex, cellIndex);\n                    }\n                    break;\n                case 'enter':\n                case 'shiftEnter':\n                    e.keyArgs.preventDefault();\n                    // eslint-disable-next-line no-case-declarations\n                    var args = { cancel: false, keyArgs: e.keyArgs };\n                    this.parent.notify('beforeFocusCellEdit', args);\n                    if (!args.cancel && isEdit) {\n                        this.editCell(rowIndex, this.cellDetails.column.field);\n                    }\n                    break;\n                case 'f2':\n                    this.editCellFromIndex(rowIndex, cellIndex);\n                    this.focus.focus();\n                    break;\n            }\n        }\n    };\n    BatchEdit.prototype.isAddRow = function (index) {\n        return this.parent.getDataRows()[index].classList.contains('e-insertedrow');\n    };\n    BatchEdit.prototype.editCellFromIndex = function (rowIdx, cellIdx) {\n        this.cellDetails.rowIndex = rowIdx;\n        this.cellDetails.cellIndex = cellIdx;\n        this.editCell(rowIdx, this.parent.getColumns()[cellIdx].field, this.isAddRow(rowIdx));\n    };\n    BatchEdit.prototype.closeEdit = function () {\n        var _this = this;\n        var gObj = this.parent;\n        var rows = this.parent.getRowsObject();\n        var argument = { cancel: false, batchChanges: this.getBatchChanges() };\n        gObj.notify(events.beforeBatchCancel, argument);\n        if (argument.cancel) {\n            return;\n        }\n        if (gObj.isEdit) {\n            this.saveCell(true);\n        }\n        this.isAdded = false;\n        gObj.clearSelection();\n        var allRows = getGridRowObjects(this.parent);\n        var _loop_1 = function (i) {\n            var isInsert = false;\n            var isDirty = rows[i].isDirty;\n            gridActionHandler(this_1.parent, function (tableName, rows) {\n                isInsert = _this.removeBatchElementChanges(rows[i], isDirty);\n                if (isInsert) {\n                    rows.splice(i, 1);\n                }\n            }, allRows);\n            if (isInsert) {\n                i--;\n            }\n            out_i_1 = i;\n        };\n        var this_1 = this, out_i_1;\n        for (var i = 0; i < rows.length; i++) {\n            _loop_1(i);\n            i = out_i_1;\n        }\n        if (!gObj.getContentTable().querySelector('tr.e-row')) {\n            gObj.renderModule.renderEmptyRow();\n        }\n        var args = {\n            requestType: 'batchCancel', rows: this.parent.getRowsObject()\n        };\n        gObj.notify(events.batchCancel, {\n            rows: this.parent.getRowsObject().length ? this.parent.getRowsObject() :\n                [new Row({ isDataRow: true, cells: [new Cell({ isDataCell: true, visible: true })] })]\n        });\n        gObj.selectRow(this.cellDetails.rowIndex);\n        this.refreshRowIdx();\n        gObj.notify(events.toolbarRefresh, {});\n        this.parent.notify(events.tooltipDestroy, {});\n        args = { requestType: 'batchCancel', rows: this.parent.getRowsObject() };\n        gObj.trigger(events.batchCancel, args);\n    };\n    BatchEdit.prototype.removeBatchElementChanges = function (row, isDirty) {\n        var gObj = this.parent;\n        var rowRenderer = new RowRenderer(this.serviceLocator, null, this.parent);\n        var isInstertedRemoved = false;\n        if (isDirty) {\n            row.isDirty = isDirty;\n            var tr = gObj.getRowElementByUID(row.uid);\n            if (tr) {\n                if (tr.classList.contains('e-insertedrow')) {\n                    remove(tr);\n                    isInstertedRemoved = true;\n                }\n                else {\n                    refreshForeignData(row, this.parent.getForeignKeyColumns(), row.data);\n                    delete row.changes;\n                    delete row.edit;\n                    row.isDirty = false;\n                    classList(tr, [], ['e-hiddenrow', 'e-updatedtd']);\n                    rowRenderer.refresh(row, gObj.getColumns(), false);\n                }\n                if (this.parent.aggregates.length > 0) {\n                    var type = 'type';\n                    var editType = [];\n                    editType[type] = 'cancel';\n                    this.parent.notify(events.refreshFooterRenderer, editType);\n                    if (this.parent.groupSettings.columns.length > 0) {\n                        this.parent.notify(events.groupAggregates, editType);\n                    }\n                }\n            }\n        }\n        return isInstertedRemoved;\n    };\n    BatchEdit.prototype.removeHideAndSelection = function (tr) {\n        if (tr.classList.contains('e-hiddenrow')) {\n            tr.removeAttribute('aria-selected');\n            var tdElements = [].slice.call(tr.getElementsByClassName('e-selectionbackground'));\n            for (var i = 0; i < tdElements.length; i++) {\n                removeClass([tdElements[i]], ['e-selectionbackground', 'e-active']);\n            }\n        }\n        classList(tr, [], ['e-hiddenrow', 'e-updatedtd']);\n    };\n    BatchEdit.prototype.deleteRecord = function (fieldname, data) {\n        this.saveCell();\n        if (this.validateFormObj()) {\n            this.saveCell(true);\n        }\n        this.isAdded = false;\n        this.bulkDelete(fieldname, data);\n        if (this.parent.aggregates.length > 0) {\n            this.parent.notify(events.refreshFooterRenderer, {});\n            if (this.parent.groupSettings.columns.length > 0) {\n                this.parent.notify(events.groupAggregates, {});\n            }\n        }\n    };\n    BatchEdit.prototype.addRecord = function (data) {\n        this.bulkAddRow(data);\n    };\n    BatchEdit.prototype.endEdit = function () {\n        if (this.parent.isEdit && this.validateFormObj()) {\n            return;\n        }\n        this.batchSave();\n    };\n    BatchEdit.prototype.closeForm = function () {\n        for (var i = 0; i < Object.keys(this.originalCell).length; i++) {\n            for (var j = 0; j < Object.keys(this.cloneCell).length; j++) {\n                if (Object.keys(this.originalCell)[i] === Object.keys(this.cloneCell)[j]) {\n                    this.cloneCell[Object.keys(this.cloneCell)[j]].replaceWith(this.originalCell[Object.keys(this.originalCell)[i]]);\n                    if (this.originalCell[Object.keys(this.originalCell)[i]].classList.contains('e-selectionbackground')) {\n                        this.originalCell[Object.keys(this.originalCell)[i]]\n                            .classList.remove('e-selectionbackground', 'e-cellselectionbackground', 'e-active');\n                    }\n                }\n            }\n        }\n        this.cloneCell = {};\n        this.originalCell = {};\n    };\n    BatchEdit.prototype.validateFormObj = function () {\n        return this.parent.editModule.formObj && !this.parent.editModule.formObj.validate();\n    };\n    BatchEdit.prototype.batchSave = function () {\n        var gObj = this.parent;\n        var deletedRecords = 'deletedRecords';\n        if (gObj.isCheckBoxSelection) {\n            var checkAllBox = gObj.element.querySelector('.e-checkselectall').parentElement;\n            if (checkAllBox.classList.contains('e-checkbox-disabled') &&\n                gObj.pageSettings.totalRecordsCount > gObj.currentViewData.length) {\n                removeClass([checkAllBox], ['e-checkbox-disabled']);\n            }\n        }\n        this.saveCell();\n        if (gObj.isEdit || this.editNextValCell() || gObj.isEdit) {\n            return;\n        }\n        var changes = this.getBatchChanges();\n        if (this.parent.selectionSettings.type === 'Multiple' && changes[deletedRecords].length &&\n            this.parent.selectionSettings.persistSelection) {\n            changes[deletedRecords] = this.removeSelectedData;\n            this.removeSelectedData = [];\n        }\n        var original = {\n            changedRecords: this.parent.getRowsObject()\n                .filter(function (row) { return row.isDirty && ['add', 'delete'].indexOf(row.edit) === -1; })\n                .map(function (row) { return row.data; })\n        };\n        var args = { batchChanges: changes, cancel: false };\n        gObj.trigger(events.beforeBatchSave, args, function (beforeBatchSaveArgs) {\n            if (beforeBatchSaveArgs.cancel) {\n                return;\n            }\n            gObj.showSpinner();\n            gObj.notify(events.bulkSave, { changes: changes, original: original });\n        });\n    };\n    BatchEdit.prototype.getBatchChanges = function () {\n        var changes = {\n            addedRecords: [],\n            deletedRecords: [],\n            changedRecords: []\n        };\n        var rows = this.parent.getRowsObject();\n        for (var _i = 0, rows_1 = rows; _i < rows_1.length; _i++) {\n            var row = rows_1[_i];\n            if (row.isDirty) {\n                switch (row.edit) {\n                    case 'add':\n                        changes.addedRecords.push(row.changes);\n                        break;\n                    case 'delete':\n                        changes.deletedRecords.push(row.data);\n                        break;\n                    default:\n                        changes.changedRecords.push(row.changes);\n                }\n            }\n        }\n        return changes;\n    };\n    /**\n     * @param {string} uid - specifes the uid\n     * @returns {void}\n     * @hidden\n     */\n    BatchEdit.prototype.removeRowObjectFromUID = function (uid) {\n        var rows = this.parent.getRowsObject();\n        var i = 0;\n        for (var len = rows.length; i < len; i++) {\n            if (rows[i].uid === uid) {\n                break;\n            }\n        }\n        gridActionHandler(this.parent, function (tableName, rows) {\n            rows.splice(i, 1);\n        }, getGridRowObjects(this.parent));\n    };\n    /**\n     * @param {Row<Column>} row - specifies the row object\n     * @returns {void}\n     * @hidden\n     */\n    BatchEdit.prototype.addRowObject = function (row) {\n        var gObj = this.parent;\n        var isTop = gObj.editSettings.newRowPosition === 'Top';\n        gridActionHandler(this.parent, function (tableName, rows) {\n            var rowClone = row.clone();\n            rowClone.cells = splitFrozenRowObjectCells(gObj, rowClone.cells, tableName);\n            if (isTop) {\n                rows.unshift(rowClone);\n            }\n            else {\n                rows.push(rowClone);\n            }\n        }, getGridRowObjects(this.parent), true);\n    };\n    // tslint:disable-next-line:max-func-body-length\n    BatchEdit.prototype.bulkDelete = function (fieldname, data) {\n        var _this = this;\n        this.removeSelectedData = [];\n        var gObj = this.parent;\n        var index = gObj.selectedRowIndex;\n        var selectedRows = gObj.getSelectedRows();\n        var args = {\n            primaryKey: this.parent.getPrimaryKeyFieldNames(),\n            rowIndex: index,\n            rowData: data ? data : gObj.getSelectedRecords()[0],\n            cancel: false\n        };\n        if (data) {\n            args.row = gObj.editModule.deleteRowUid ? gObj.getRowElementByUID(gObj.editModule.deleteRowUid)\n                : gObj.getRows()[gObj.getCurrentViewRecords().indexOf(data)];\n        }\n        else {\n            args.row = data ? gObj.getRows()[index] : selectedRows[0];\n        }\n        if (!args.row) {\n            return;\n        }\n        // tslint:disable-next-line:max-func-body-length\n        gObj.trigger(events.beforeBatchDelete, args, function (beforeBatchDeleteArgs) {\n            if (beforeBatchDeleteArgs.cancel) {\n                return;\n            }\n            _this.removeSelectedData = gObj.getSelectedRecords();\n            gObj.clearSelection();\n            beforeBatchDeleteArgs.row = beforeBatchDeleteArgs.row ?\n                beforeBatchDeleteArgs.row : data ? gObj.getRows()[index] : selectedRows[0];\n            if (_this.parent.isFrozenGrid()) {\n                if (data) {\n                    index = parseInt(beforeBatchDeleteArgs.row.getAttribute(literals.ariaRowIndex), 10);\n                    selectedRows = [];\n                    selectedRows.push(gObj.getRowByIndex(index));\n                    selectedRows.push(gObj.getMovableRowByIndex(index));\n                    if (gObj.getFrozenMode() === literals.leftRight) {\n                        selectedRows.push(gObj.getFrozenRightRowByIndex(index));\n                    }\n                }\n                for (var i = 0; i < selectedRows.length; i++) {\n                    var uid = selectedRows[i].getAttribute('data-uid');\n                    if (selectedRows[i].classList.contains('e-insertedrow')) {\n                        _this.removeRowObjectFromUID(uid);\n                        remove(selectedRows[i]);\n                    }\n                    else {\n                        var rowObj = gObj.getRowObjectFromUID(uid);\n                        rowObj.isDirty = true;\n                        rowObj.edit = 'delete';\n                        classList(selectedRows[i], ['e-hiddenrow', 'e-updatedtd'], []);\n                        if (gObj.frozenRows && index < gObj.frozenRows && gObj.getMovableDataRows().length >= gObj.frozenRows) {\n                            gObj.getMovableHeaderTbody().appendChild(gObj.getMovableRowByIndex(gObj.frozenRows - 1));\n                            gObj.getFrozenHeaderTbody().appendChild(gObj.getRowByIndex(gObj.frozenRows - 1));\n                            if (gObj.getFrozenMode() === literals.leftRight) {\n                                gObj.getFrozenRightHeaderTbody().appendChild(gObj.getFrozenRightRowByIndex(gObj.frozenRows - 1));\n                            }\n                        }\n                        if (gObj.frozenRows && index < gObj.frozenRows && gObj.getDataRows().length >= gObj.frozenRows) {\n                            gObj.getHeaderTable().querySelector(literals.tbody).appendChild(gObj.getRowByIndex(gObj.frozenRows - 1));\n                        }\n                    }\n                    delete selectedRows[i];\n                }\n            }\n            else if (!_this.parent.isFrozenGrid() && (selectedRows.length === 1 || data)) {\n                var uid = beforeBatchDeleteArgs.row.getAttribute('data-uid');\n                uid = data && _this.parent.editModule.deleteRowUid ? uid = _this.parent.editModule.deleteRowUid : uid;\n                if (beforeBatchDeleteArgs.row.classList.contains('e-insertedrow')) {\n                    _this.removeRowObjectFromUID(uid);\n                    remove(beforeBatchDeleteArgs.row);\n                }\n                else {\n                    var rowObj = gObj.getRowObjectFromUID(uid);\n                    rowObj.isDirty = true;\n                    rowObj.edit = 'delete';\n                    classList(beforeBatchDeleteArgs.row, ['e-hiddenrow', 'e-updatedtd'], []);\n                }\n                delete beforeBatchDeleteArgs.row;\n            }\n            else {\n                for (var i = 0; i < selectedRows.length; i++) {\n                    var uniqueid = selectedRows[i].getAttribute('data-uid');\n                    if (selectedRows[i].classList.contains('e-insertedrow')) {\n                        _this.removeRowObjectFromUID(uniqueid);\n                        remove(selectedRows[i]);\n                    }\n                    else {\n                        classList(selectedRows[i], ['e-hiddenrow', 'e-updatedtd'], []);\n                        var selectedRow = gObj.getRowObjectFromUID(uniqueid);\n                        selectedRow.isDirty = true;\n                        selectedRow.edit = 'delete';\n                        delete selectedRows[i];\n                    }\n                }\n            }\n            _this.refreshRowIdx();\n            if (data) {\n                gObj.editModule.deleteRowUid = undefined;\n                if (gObj.getSelectedRows().length) {\n                    index = parseInt(gObj.getSelectedRows()[0].getAttribute(literals.ariaRowIndex), 10);\n                }\n            }\n            if (!gObj.isCheckBoxSelection) {\n                gObj.selectRow(index);\n            }\n            gObj.trigger(events.batchDelete, beforeBatchDeleteArgs);\n            gObj.notify(events.batchDelete, { rows: _this.parent.getRowsObject() });\n            gObj.notify(events.toolbarRefresh, {});\n        });\n    };\n    BatchEdit.prototype.refreshRowIdx = function () {\n        var gObj = this.parent;\n        var rows = gObj.getAllDataRows(true);\n        var dataRows = getGridRowElements(this.parent);\n        var dataObjects = getGridRowObjects(this.parent);\n        var _loop_2 = function (i, j, len) {\n            if (rows[i].classList.contains(literals.row) && !rows[i].classList.contains('e-hiddenrow')) {\n                gridActionHandler(this_2.parent, function (tableName, rowElements, rowObjects) {\n                    rowElements[i].setAttribute(literals.ariaRowIndex, j.toString());\n                    rowObjects[i].index = j;\n                }, dataRows, null, dataObjects);\n                j++;\n            }\n            else {\n                gridActionHandler(this_2.parent, function (tableName, rowElements, rowObjects) {\n                    rowElements[i].removeAttribute(literals.ariaRowIndex);\n                    rowObjects[i].index = -1;\n                }, dataRows, null, dataObjects);\n            }\n            out_j_1 = j;\n        };\n        var this_2 = this, out_j_1;\n        for (var i = 0, j = 0, len = rows.length; i < len; i++) {\n            _loop_2(i, j, len);\n            j = out_j_1;\n        }\n    };\n    BatchEdit.prototype.getIndexFromData = function (data) {\n        return inArray(data, this.parent.getCurrentViewRecords());\n    };\n    BatchEdit.prototype.bulkAddRow = function (data) {\n        var _this = this;\n        var gObj = this.parent;\n        if (!gObj.editSettings.allowAdding) {\n            return;\n        }\n        if (gObj.isEdit) {\n            this.saveCell();\n            this.parent.notify(events.editNextValCell, {});\n        }\n        if (gObj.isEdit) {\n            return;\n        }\n        this.parent.element.classList.add('e-editing');\n        var defaultData = data ? data : this.getDefaultData();\n        var args = {\n            defaultData: defaultData,\n            primaryKey: gObj.getPrimaryKeyFieldNames(),\n            cancel: false\n        };\n        gObj.trigger(events.beforeBatchAdd, args, function (beforeBatchAddArgs) {\n            if (beforeBatchAddArgs.cancel) {\n                return;\n            }\n            _this.isAdded = true;\n            gObj.clearSelection();\n            var mTr;\n            var frTr;\n            var row = new RowRenderer(_this.serviceLocator, null, _this.parent);\n            var model = new RowModelGenerator(_this.parent);\n            var modelData = model.generateRows([beforeBatchAddArgs.defaultData]);\n            var tr = row.render(modelData[0], gObj.getColumns());\n            var col;\n            var index;\n            for (var i = 0; i < _this.parent.groupSettings.columns.length; i++) {\n                tr.insertBefore(_this.parent.createElement('td', { className: 'e-indentcell' }), tr.firstChild);\n                modelData[0].cells.unshift(new Cell({ cellType: CellType.Indent }));\n            }\n            var tbody = gObj.getContentTable().querySelector(literals.tbody);\n            tr.classList.add('e-insertedrow');\n            if (tbody.querySelector('.e-emptyrow')) {\n                var emptyRow = tbody.querySelector('.e-emptyrow');\n                emptyRow.parentNode.removeChild(emptyRow);\n                _this.removeFrozenTbody();\n            }\n            if (gObj.isFrozenGrid()) {\n                frTr = tr.cloneNode(true);\n                mTr = _this.renderMovable(tr, frTr);\n                tr = gObj.getFrozenMode() === 'Right' ? frTr : tr;\n                _this.renderFrozenAddRow(tr, mTr, frTr);\n            }\n            if (gObj.frozenRows && gObj.editSettings.newRowPosition === 'Top') {\n                tbody = gObj.getHeaderTable().querySelector(literals.tbody);\n            }\n            else {\n                tbody = gObj.getContentTable().querySelector(literals.tbody);\n            }\n            if (_this.parent.editSettings.newRowPosition === 'Top') {\n                tbody.insertBefore(tr, tbody.firstChild);\n            }\n            else {\n                tbody.appendChild(tr);\n            }\n            addClass([].slice.call(tr.getElementsByClassName(literals.rowCell)), ['e-updatedtd']);\n            modelData[0].isDirty = true;\n            modelData[0].changes = extend({}, {}, modelData[0].data, true);\n            modelData[0].edit = 'add';\n            _this.addRowObject(modelData[0]);\n            _this.refreshRowIdx();\n            _this.focus.forgetPrevious();\n            gObj.notify(events.batchAdd, { rows: _this.parent.getRowsObject(), args: { isFrozen: _this.parent.isFrozenGrid() } });\n            var changes = _this.getBatchChanges();\n            var btmIdx = _this.getBottomIndex();\n            if (_this.parent.editSettings.newRowPosition === 'Top') {\n                gObj.selectRow(0);\n            }\n            else {\n                gObj.selectRow(btmIdx);\n            }\n            if (!data) {\n                index = _this.findNextEditableCell(0, true);\n                col = gObj.getColumns()[index];\n                if (_this.parent.editSettings.newRowPosition === 'Top') {\n                    _this.editCell(0, col.field, true);\n                }\n                else {\n                    _this.editCell(btmIdx, col.field, true);\n                }\n            }\n            if (_this.parent.aggregates.length > 0 && (data || changes[literals.addedRecords].length)) {\n                _this.parent.notify(events.refreshFooterRenderer, {});\n            }\n            var args1 = {\n                defaultData: beforeBatchAddArgs.defaultData, row: tr,\n                columnObject: col, columnIndex: index, primaryKey: beforeBatchAddArgs.primaryKey, cell: tr.cells[index]\n            };\n            gObj.trigger(events.batchAdd, args1);\n            if (gObj.isFrozenGrid()) {\n                alignFrozenEditForm(mTr.querySelector('td:not(.e-hide)'), tr.querySelector('td:not(.e-hide)'));\n            }\n        });\n    };\n    BatchEdit.prototype.renderFrozenAddRow = function (tr, mTr, frTr) {\n        var gObj = this.parent;\n        var mTbody = getMovableTbody(this.parent);\n        var frTbody = getFrozenRightTbody(this.parent);\n        if (gObj.editSettings.newRowPosition === 'Top') {\n            mTbody.insertBefore(mTr, mTbody.firstChild);\n        }\n        else {\n            mTbody.appendChild(mTr);\n        }\n        addClass([].slice.call(mTr.getElementsByClassName(literals.rowCell)), ['e-updatedtd']);\n        if (frTbody && frTr) {\n            if (gObj.editSettings.newRowPosition === 'Top') {\n                frTbody.insertBefore(frTr, frTbody.firstChild);\n            }\n            else {\n                frTbody.appendChild(frTr);\n            }\n            addClass([].slice.call(frTr.getElementsByClassName(literals.rowCell)), ['e-updatedtd']);\n            alignFrozenEditForm(frTr.querySelector('td:not(.e-hide)'), tr.querySelector('td:not(.e-hide)'));\n        }\n        if (gObj.height === 'auto') {\n            gObj.notify(events.frozenHeight, {});\n        }\n    };\n    BatchEdit.prototype.removeFrozenTbody = function () {\n        var gObj = this.parent;\n        if (gObj.isFrozenGrid()) {\n            var moveTbody = gObj.getContent().querySelector('.' + literals.movableContent).querySelector(literals.tbody);\n            (moveTbody.firstElementChild).parentNode.removeChild(moveTbody.firstElementChild);\n            if (gObj.getFrozenMode() === literals.leftRight) {\n                var frTbody = gObj.getContent().querySelector('.e-frozen-right-content').querySelector(literals.tbody);\n                (frTbody.firstElementChild).parentNode.removeChild(frTbody.firstElementChild);\n            }\n        }\n    };\n    BatchEdit.prototype.renderMovable = function (ele, rightEle) {\n        var mEle = ele.cloneNode(true);\n        var movable = this.parent.getMovableColumnsCount();\n        var left = this.parent.getFrozenLeftCount();\n        var right = this.parent.getFrozenRightColumnsCount();\n        sliceElements(ele, 0, left);\n        sliceElements(mEle, left, right ? mEle.children.length - right : mEle.children.length);\n        sliceElements(rightEle, left + movable, rightEle.children.length);\n        return mEle;\n    };\n    BatchEdit.prototype.findNextEditableCell = function (columnIndex, isAdd, isValOnly) {\n        var cols = this.parent.getColumns();\n        var endIndex = cols.length;\n        var validation;\n        for (var i = columnIndex; i < endIndex; i++) {\n            validation = isValOnly ? isNullOrUndefined(cols[i].validationRules) : false;\n            if (!isAdd && this.checkNPCell(cols[i])) {\n                return i;\n            }\n            else if (isAdd && !cols[i].template && cols[i].visible && cols[i].allowEditing &&\n                !(cols[i].isIdentity && cols[i].isPrimaryKey) && !validation) {\n                return i;\n            }\n        }\n        return -1;\n    };\n    BatchEdit.prototype.checkNPCell = function (col) {\n        return !col.template && col.visible && !col.isPrimaryKey && !col.isIdentity && col.allowEditing;\n    };\n    BatchEdit.prototype.getDefaultData = function () {\n        var gObj = this.parent;\n        var data = {};\n        var dValues = { 'number': 0, 'string': null, 'boolean': false, 'date': null, 'datetime': null };\n        for (var _i = 0, _a = (gObj.columnModel); _i < _a.length; _i++) {\n            var col = _a[_i];\n            if (col.field) {\n                setValue(col.field, Object.keys(col).indexOf('defaultValue') >= 0 ? col.defaultValue : dValues[col.type], data);\n            }\n        }\n        return data;\n    };\n    BatchEdit.prototype.setCellIdx = function (target) {\n        var gLen = 0;\n        if (this.parent.allowGrouping) {\n            gLen = this.parent.groupSettings.columns.length;\n        }\n        this.cellDetails.cellIndex = target.cellIndex - gLen;\n        this.cellDetails.rowIndex = parseInt(target.getAttribute('index'), 10);\n    };\n    BatchEdit.prototype.editCell = function (index, field, isAdd) {\n        var gObj = this.parent;\n        var col = gObj.getColumnByField(field);\n        this.index = index;\n        this.field = field;\n        this.isAdd = isAdd;\n        var checkEdit = gObj.isEdit && !(this.cellDetails.column.field === field\n            && (this.cellDetails.rowIndex === index && this.parent.getDataRows().length - 1 !== index));\n        if (gObj.editSettings.allowEditing) {\n            if (!checkEdit && col.allowEditing) {\n                this.editCellExtend(index, field, isAdd);\n            }\n            else if (checkEdit) {\n                this.editNext = true;\n                this.saveCell();\n            }\n        }\n    };\n    BatchEdit.prototype.editCellExtend = function (index, field, isAdd) {\n        var _this = this;\n        var gObj = this.parent;\n        var col = gObj.getColumnByField(field);\n        var keys = gObj.getPrimaryKeyFieldNames();\n        if (gObj.isEdit) {\n            return;\n        }\n        var row;\n        var mRowData;\n        var rowData = extend({}, {}, this.getDataByIndex(index), true);\n        if (col.getFreezeTableName() === 'movable' || col.getFreezeTableName() === literals.frozenRight) {\n            row = col.getFreezeTableName() === 'movable' ? gObj.getMovableDataRows()[index] : gObj.getFrozenRightDataRows()[index];\n            mRowData = this.parent.getRowObjectFromUID(row.getAttribute('data-uid'));\n            rowData = mRowData.changes ? extend({}, {}, mRowData.changes, true) : rowData;\n        }\n        else {\n            row = gObj.getDataRows()[index];\n            rowData = extend({}, {}, this.getDataByIndex(index), true);\n        }\n        if ((keys[0] === col.field && !row.classList.contains('e-insertedrow')) || col.columns ||\n            (col.isPrimaryKey && col.isIdentity)) {\n            this.parent.isLastCellPrimaryKey = true;\n            return;\n        }\n        this.parent.isLastCellPrimaryKey = false;\n        this.parent.element.classList.add('e-editing');\n        var rowObj = gObj.getRowObjectFromUID(row.getAttribute('data-uid'));\n        var cells = [].slice.apply(row.cells);\n        var args = {\n            columnName: col.field, isForeignKey: !isNullOrUndefined(col.foreignKeyValue),\n            primaryKey: keys, rowData: rowData,\n            validationRules: extend({}, col.validationRules ? col.validationRules : {}),\n            value: getObject(col.field, rowData),\n            type: !isAdd ? 'edit' : 'add', cancel: false,\n            foreignKeyData: rowObj && rowObj.foreignKeyData\n        };\n        args.cell = cells[this.getColIndex(cells, this.getCellIdx(col.uid))];\n        args.row = row;\n        args.columnObject = col;\n        if (!args.cell) {\n            return;\n        }\n        gObj.trigger(events.cellEdit, args, function (cellEditArgs) {\n            if (cellEditArgs.cancel) {\n                return;\n            }\n            cellEditArgs.cell = cellEditArgs.cell ? cellEditArgs.cell : cells[_this.getColIndex(cells, _this.getCellIdx(col.uid))];\n            cellEditArgs.row = cellEditArgs.row ? cellEditArgs.row : row;\n            cellEditArgs.columnObject = cellEditArgs.columnObject ? cellEditArgs.columnObject : col;\n            cellEditArgs.columnObject.index = isNullOrUndefined(cellEditArgs.columnObject.index) ? 0 : cellEditArgs.columnObject.index;\n            _this.cellDetails = {\n                rowData: rowData, column: col, value: cellEditArgs.value, isForeignKey: cellEditArgs.isForeignKey, rowIndex: index,\n                cellIndex: parseInt(cellEditArgs.cell.getAttribute(literals.ariaColIndex), 10),\n                foreignKeyData: cellEditArgs.foreignKeyData\n            };\n            if (cellEditArgs.cell.classList.contains('e-updatedtd')) {\n                _this.isColored = true;\n                cellEditArgs.cell.classList.remove('e-updatedtd');\n            }\n            gObj.isEdit = true;\n            gObj.clearSelection();\n            if (!gObj.isCheckBoxSelection || !gObj.isPersistSelection) {\n                gObj.selectRow(_this.cellDetails.rowIndex, true);\n            }\n            _this.renderer.update(cellEditArgs);\n            _this.parent.notify(events.batchEditFormRendered, cellEditArgs);\n            _this.form = select('#' + gObj.element.id + 'EditForm', gObj.element);\n            gObj.editModule.applyFormValidation([col]);\n            _this.parent.element.querySelector('.e-gridpopup').style.display = 'none';\n        });\n    };\n    BatchEdit.prototype.updateCell = function (rowIndex, field, value) {\n        var gObj = this.parent;\n        var col = gObj.getColumnByField(field);\n        var index = gObj.getColumnIndexByField(field);\n        if (col && !col.isPrimaryKey && col.allowEditing) {\n            var td = getCellByColAndRowIndex(this.parent, col, rowIndex, index);\n            var rowObj = col.getFreezeTableName() === 'movable' ? this.parent.getMovableRowsObject()[rowIndex] :\n                col.getFreezeTableName() === literals.frozenRight ? gObj.getFrozenRightRowsObject()[rowIndex]\n                    : gObj.getRowObjectFromUID(td.parentElement.getAttribute('data-uid'));\n            this.refreshTD(td, col, rowObj, value);\n            this.parent.trigger(events.queryCellInfo, {\n                cell: this.newReactTd || td, column: col, data: rowObj.changes\n            });\n        }\n    };\n    BatchEdit.prototype.setChanges = function (rowObj, field, value) {\n        var currentRowObj;\n        if (!this.parent.isFrozenGrid()) {\n            if (!rowObj.changes) {\n                rowObj.changes = extend({}, {}, rowObj.data, true);\n            }\n            if (!isNullOrUndefined(field)) {\n                DataUtil.setValue(field, value, rowObj.changes);\n            }\n            if (rowObj.data[field] !== value) {\n                var type = this.parent.getColumnByField(field).type;\n                if ((type === 'date' || type === 'datetime')) {\n                    if (new Date(rowObj.data[field]).toString() !== new Date(value).toString()) {\n                        rowObj.isDirty = true;\n                    }\n                }\n                else {\n                    rowObj.isDirty = true;\n                }\n            }\n        }\n        else {\n            var rowEle = this.parent.getRowElementByUID(rowObj.uid);\n            var rowIndex = parseInt(rowEle.getAttribute(literals.ariaRowIndex), 10);\n            currentRowObj = this.parent.getRowsObject()[rowIndex];\n            if (!currentRowObj.changes) {\n                currentRowObj.changes = extend({}, {}, rowObj.data, true);\n            }\n            if (!isNullOrUndefined(field)) {\n                setValue(field, value, currentRowObj.changes);\n            }\n            var movableRowObject = this.parent.getMovableRowsObject()[rowIndex];\n            movableRowObject.changes = extend({}, {}, currentRowObj.changes, true);\n            if (rowObj.data[field] !== value) {\n                movableRowObject.isDirty = true;\n                currentRowObj.isDirty = true;\n            }\n            if (this.parent.getFrozenMode() === literals.leftRight) {\n                var frRowObject = this.parent.getFrozenRightRowsObject()[rowIndex];\n                frRowObject.changes = extend({}, {}, currentRowObj.changes, true);\n                if (rowObj.data[field] !== value) {\n                    frRowObject.isDirty = true;\n                }\n            }\n        }\n    };\n    BatchEdit.prototype.updateRow = function (index, data) {\n        var keys = Object.keys(data);\n        for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n            var col = keys_1[_i];\n            this.updateCell(index, col, data[col]);\n        }\n    };\n    BatchEdit.prototype.getCellIdx = function (uid) {\n        var cIdx = this.parent.getColumnIndexByUid(uid) + this.parent.groupSettings.columns.length;\n        if (!isNullOrUndefined(this.parent.detailTemplate) || !isNullOrUndefined(this.parent.childGrid)) {\n            cIdx++;\n        }\n        if (this.parent.isRowDragable()) {\n            cIdx++;\n        }\n        return cIdx;\n    };\n    BatchEdit.prototype.refreshTD = function (td, column, rowObj, value) {\n        var cell = new CellRenderer(this.parent, this.serviceLocator);\n        var rowcell;\n        value = column.type === 'number' && !isNullOrUndefined(value) ? parseFloat(value) : value;\n        this.setChanges(rowObj, column.field, value);\n        var frzCols = this.parent.getFrozenColumns() || this.parent.getFrozenLeftColumnsCount()\n            || this.parent.getFrozenRightColumnsCount();\n        frzCols = frzCols && this.parent.isRowDragable() ? frzCols + 1 : frzCols;\n        refreshForeignData(rowObj, this.parent.getForeignKeyColumns(), rowObj.changes);\n        if (frzCols && column.getFreezeTableName() === 'movable' && this.parent.getColumns().length === rowObj.cells.length) {\n            rowcell = rowObj.cells.slice(frzCols, rowObj.cells.length);\n        }\n        else {\n            rowcell = rowObj.cells;\n        }\n        var parentElement;\n        var cellIndex;\n        if (this.parent.isReact) {\n            parentElement = td.parentElement;\n            cellIndex = td.cellIndex;\n        }\n        var index = 0;\n        if (frzCols) {\n            index = column.getFreezeTableName() === 'movable' && this.parent.getFrozenMode() !== 'Right'\n                ? frzCols : column.getFreezeTableName() === literals.frozenRight\n                ? this.parent.getFrozenLeftColumnsCount() + this.parent.getMovableColumnsCount() : index;\n        }\n        cell.refreshTD(td, rowcell[this.getCellIdx(column.uid) - index], rowObj.changes, { 'index': this.getCellIdx(column.uid) });\n        if (this.parent.isReact) {\n            this.newReactTd = parentElement.cells[cellIndex];\n            parentElement.cells[cellIndex].classList.add('e-updatedtd');\n        }\n        else {\n            td.classList.add('e-updatedtd');\n        }\n        td.classList.add('e-updatedtd');\n        this.parent.notify(events.toolbarRefresh, {});\n    };\n    BatchEdit.prototype.getColIndex = function (cells, index) {\n        var cIdx = 0;\n        if (this.parent.allowGrouping && this.parent.groupSettings.columns) {\n            cIdx = this.parent.groupSettings.columns.length;\n        }\n        if (!isNullOrUndefined(this.parent.detailTemplate) || !isNullOrUndefined(this.parent.childGrid)) {\n            cIdx++;\n        }\n        if (this.parent.isRowDragable()) {\n            cIdx++;\n        }\n        for (var m = 0; m < cells.length; m++) {\n            var colIndex = parseInt(cells[m].getAttribute(literals.ariaColIndex), 10);\n            if (colIndex === index - cIdx) {\n                return m;\n            }\n        }\n        return -1;\n    };\n    BatchEdit.prototype.editNextValCell = function () {\n        var gObj = this.parent;\n        var btmIdx = this.getBottomIndex();\n        if (this.isAdded && !gObj.isEdit) {\n            for (var i = this.cellDetails.cellIndex; i < gObj.getColumns().length; i++) {\n                if (gObj.isEdit) {\n                    return;\n                }\n                var index = this.findNextEditableCell(this.cellDetails.cellIndex + 1, true, true);\n                var col = gObj.getColumns()[index];\n                if (col) {\n                    if (this.parent.editSettings.newRowPosition === 'Bottom') {\n                        this.editCell(btmIdx, col.field, true);\n                    }\n                    else {\n                        var args = { index: 0, column: col };\n                        this.parent.notify(events.nextCellIndex, args);\n                        this.editCell(args.index, col.field, true);\n                    }\n                    this.saveCell();\n                }\n            }\n            if (!gObj.isEdit) {\n                this.isAdded = false;\n            }\n        }\n    };\n    BatchEdit.prototype.escapeCellEdit = function () {\n        var args = this.generateCellArgs();\n        args.value = args.previousValue;\n        this.successCallBack(args, args.cell.parentElement, args.column, true)(args);\n    };\n    BatchEdit.prototype.generateCellArgs = function () {\n        var gObj = this.parent;\n        this.parent.element.classList.remove('e-editing');\n        var column = this.cellDetails.column;\n        var obj = {};\n        obj[column.field] = getObject(column.field, this.cellDetails.rowData);\n        var editedData = gObj.editModule.getCurrentEditedData(this.form, obj);\n        var cloneEditedData = extend({}, editedData);\n        editedData = extend({}, editedData, this.cellDetails.rowData);\n        var value = getObject(column.field, cloneEditedData);\n        if (!isNullOrUndefined(column.field) && !isUndefined(value)) {\n            setValue(column.field, value, editedData);\n        }\n        var args = {\n            columnName: column.field,\n            value: getObject(column.field, editedData),\n            rowData: this.cellDetails.rowData,\n            column: column,\n            previousValue: this.cellDetails.value,\n            isForeignKey: this.cellDetails.isForeignKey,\n            cancel: false\n        };\n        args.cell = this.form.parentElement;\n        args.columnObject = column;\n        return args;\n    };\n    BatchEdit.prototype.saveCell = function (isForceSave) {\n        if (this.preventSaveCell || !this.form) {\n            return;\n        }\n        var gObj = this.parent;\n        if (!isForceSave && (!gObj.isEdit || this.validateFormObj())) {\n            return;\n        }\n        this.preventSaveCell = true;\n        var args = this.generateCellArgs();\n        var tr = args.cell.parentElement;\n        var col = args.column;\n        if (!isForceSave) {\n            gObj.trigger(events.cellSave, args, this.successCallBack(args, tr, col));\n            gObj.notify(events.batchForm, { formObj: this.form });\n        }\n        else {\n            this.successCallBack(args, tr, col)(args);\n        }\n    };\n    BatchEdit.prototype.successCallBack = function (cellSaveArgs, tr, column, isEscapeCellEdit) {\n        var _this = this;\n        return function (cellSaveArgs) {\n            var gObj = _this.parent;\n            cellSaveArgs.cell = cellSaveArgs.cell ? cellSaveArgs.cell : _this.form.parentElement;\n            cellSaveArgs.columnObject = cellSaveArgs.columnObject ? cellSaveArgs.columnObject : column;\n            cellSaveArgs.columnObject.index = isNullOrUndefined(cellSaveArgs.columnObject.index) ? 0 : cellSaveArgs.columnObject.index;\n            if (cellSaveArgs.cancel) {\n                _this.preventSaveCell = false;\n                if (_this.editNext) {\n                    _this.editNext = false;\n                    if (_this.cellDetails.rowIndex === _this.index && _this.cellDetails.column.field === _this.field) {\n                        return;\n                    }\n                    _this.editCellExtend(_this.index, _this.field, _this.isAdd);\n                }\n                return;\n            }\n            gObj.editModule.destroyWidgets([column]);\n            gObj.isEdit = false;\n            gObj.editModule.destroyForm();\n            _this.parent.notify(events.tooltipDestroy, {});\n            var rowObj = parentsUntil(cellSaveArgs.cell, literals.movableContent)\n                || parentsUntil(cellSaveArgs.cell, literals.movableHeader) ? gObj.getRowObjectFromUID(tr.getAttribute('data-uid'), true)\n                : gObj.getRowObjectFromUID(tr.getAttribute('data-uid'));\n            if (gObj.getFrozenMode() === literals.leftRight && (parentsUntil(cellSaveArgs.cell, 'e-frozen-right-header')\n                || parentsUntil(cellSaveArgs.cell, 'e-frozen-right-content'))) {\n                rowObj = gObj.getRowObjectFromUID(tr.getAttribute('data-uid'), false, true);\n            }\n            _this.refreshTD(cellSaveArgs.cell, column, rowObj, cellSaveArgs.value);\n            if (_this.parent.isReact) {\n                cellSaveArgs.cell = _this.newReactTd;\n            }\n            removeClass([tr], [literals.editedRow, 'e-batchrow']);\n            removeClass([cellSaveArgs.cell], ['e-editedbatchcell', 'e-boolcell']);\n            if (!isNullOrUndefined(cellSaveArgs.value) && cellSaveArgs.value.toString() ===\n                (!isNullOrUndefined(_this.cellDetails.value) ? _this.cellDetails.value : '').toString() && !_this.isColored\n                || (isNullOrUndefined(cellSaveArgs.value) && isNullOrUndefined(rowObj.data[column.field]) &&\n                    isNullOrUndefined(_this.cellDetails.value) && !cellSaveArgs.cell.parentElement.classList.contains('e-insertedrow'))) {\n                cellSaveArgs.cell.classList.remove('e-updatedtd');\n            }\n            if (isNullOrUndefined(isEscapeCellEdit)) {\n                gObj.trigger(events.cellSaved, cellSaveArgs);\n            }\n            gObj.notify(events.toolbarRefresh, {});\n            _this.isColored = false;\n            if (_this.parent.aggregates.length > 0) {\n                _this.parent.notify(events.refreshFooterRenderer, {});\n                if (_this.parent.groupSettings.columns.length > 0 && !_this.isAddRow(_this.cellDetails.rowIndex)) {\n                    _this.parent.notify(events.groupAggregates, {});\n                }\n            }\n            _this.preventSaveCell = false;\n            if (_this.editNext) {\n                _this.editNext = false;\n                if (_this.cellDetails.rowIndex === _this.index && _this.cellDetails.column.field === _this.field) {\n                    return;\n                }\n                var col = gObj.getColumnByField(_this.field);\n                if (col && col.allowEditing) {\n                    _this.editCellExtend(_this.index, _this.field, _this.isAdd);\n                }\n            }\n            if (isEscapeCellEdit) {\n                gObj.notify(events.restoreFocus, {});\n            }\n        };\n    };\n    BatchEdit.prototype.getDataByIndex = function (index) {\n        var row = this.parent.getRowObjectFromUID(this.parent.getDataRows()[index].getAttribute('data-uid'));\n        return row.changes ? row.changes : row.data;\n    };\n    BatchEdit.prototype.keyDownHandler = function (e) {\n        if ((e.action === 'tab' || e.action === 'shiftTab') && this.parent.isEdit) {\n            var gObj = this.parent;\n            var btmIdx = this.getBottomIndex();\n            var rowcell = parentsUntil(e.target, literals.rowCell);\n            if (rowcell) {\n                var cell = rowcell.querySelector('.e-field');\n                if (cell) {\n                    var visibleColumns = this.parent.getVisibleColumns();\n                    var columnIndex = e.action === 'tab' ? visibleColumns.length - 1 : 0;\n                    if (visibleColumns[columnIndex].field === cell.getAttribute('id').slice(this.parent.element.id.length)) {\n                        if (this.cellDetails.rowIndex === btmIdx && e.action === 'tab') {\n                            if (gObj.editSettings.newRowPosition === 'Top') {\n                                gObj.editSettings.newRowPosition = 'Bottom';\n                                this.addRecord();\n                                gObj.editSettings.newRowPosition = 'Top';\n                            }\n                            else {\n                                this.addRecord();\n                            }\n                        }\n                        else {\n                            this.saveCell();\n                        }\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * @returns {void}\n     * @hidden\n     */\n    BatchEdit.prototype.addCancelWhilePaging = function () {\n        if (this.validateFormObj()) {\n            this.parent.notify(events.destroyForm, {});\n            this.parent.isEdit = false;\n            this.isColored = false;\n        }\n    };\n    BatchEdit.prototype.getBottomIndex = function () {\n        var changes = this.getBatchChanges();\n        return this.parent.getCurrentViewRecords().length + changes[literals.addedRecords].length -\n            changes[literals.deletedRecords].length - 1;\n    };\n    return BatchEdit;\n}());\nexport { BatchEdit };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { NormalEdit } from './normal-edit';\n/**\n * `DialogEdit` module is used to handle dialog editing actions.\n *\n * @hidden\n */\nvar DialogEdit = /** @class */ (function (_super) {\n    __extends(DialogEdit, _super);\n    function DialogEdit(parent, serviceLocator, renderer) {\n        var _this = \n        //constructor\n        _super.call(this, parent, serviceLocator) || this;\n        _this.parent = parent;\n        _this.serviceLocator = serviceLocator;\n        _this.renderer = renderer;\n        return _this;\n    }\n    DialogEdit.prototype.closeEdit = function () {\n        //closeEdit\n        _super.prototype.closeEdit.call(this);\n    };\n    DialogEdit.prototype.addRecord = function (data, index) {\n        //addRecord\n        _super.prototype.addRecord.call(this, data, index);\n    };\n    DialogEdit.prototype.endEdit = function () {\n        //endEdit\n        _super.prototype.endEdit.call(this);\n    };\n    DialogEdit.prototype.updateRow = function (index, data) {\n        _super.prototype.updateRow.call(this, index, data);\n    };\n    DialogEdit.prototype.deleteRecord = function (fieldname, data) {\n        //deleteRecord\n        _super.prototype.deleteRecord.call(this, fieldname, data);\n    };\n    DialogEdit.prototype.startEdit = function (tr) {\n        _super.prototype.startEdit.call(this, tr);\n    };\n    return DialogEdit;\n}(NormalEdit));\nexport { DialogEdit };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { extend } from '@syncfusion/ej2-base';\nimport { DatePicker, DateTimePicker } from '@syncfusion/ej2-calendars';\nimport { isEditable, getObject, getCustomDateFormat } from '../base/util';\nimport { EditCellBase } from './edit-cell-base';\n/**\n * `DatePickerEditCell` is used to handle datepicker cell type editing.\n *\n * @hidden\n */\nvar DatePickerEditCell = /** @class */ (function (_super) {\n    __extends(DatePickerEditCell, _super);\n    function DatePickerEditCell() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    DatePickerEditCell.prototype.write = function (args) {\n        if (args.column.editType === 'datepickeredit') {\n            this.obj = new DatePicker(extend(dateanddatetimerender(args, this.parent.editSettings.mode, this.parent.enableRtl), args.column.edit.params));\n        }\n        else if (args.column.editType === 'datetimepickeredit') {\n            this.obj = new DateTimePicker(extend(dateanddatetimerender(args, this.parent.editSettings.mode, this.parent.enableRtl), args.column.edit.params));\n        }\n        this.obj.appendTo(args.element);\n    };\n    return DatePickerEditCell;\n}(EditCellBase));\nexport { DatePickerEditCell };\n// eslint-disable-next-line\nfunction dateanddatetimerender(args, mode, rtl) {\n    var isInline = mode !== 'Dialog';\n    var format = getCustomDateFormat(args.column.format, args.column.type);\n    var value = getObject(args.column.field, args.rowData);\n    value = value ? new Date(value) : null;\n    return {\n        floatLabelType: isInline ? 'Never' : 'Always',\n        value: value,\n        format: format,\n        placeholder: isInline ?\n            '' : args.column.headerText, enableRtl: rtl,\n        enabled: isEditable(args.column, args.requestType, args.element)\n    };\n}\n","/**\n * `TemplateEditCell` is used to handle template cell.\n *\n * @hidden\n */\nvar TemplateEditCell = /** @class */ (function () {\n    function TemplateEditCell(parent) {\n        this.parent = parent;\n    }\n    TemplateEditCell.prototype.read = function (element, value) {\n        return value;\n    };\n    TemplateEditCell.prototype.write = function () {\n        //\n    };\n    TemplateEditCell.prototype.destroy = function () {\n        //\n    };\n    return TemplateEditCell;\n}());\nexport { TemplateEditCell };\n","import { closest, addClass, select } from '@syncfusion/ej2-base';\nimport { extend, getValue } from '@syncfusion/ej2-base';\nimport { remove } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport * as events from '../base/constant';\nimport { EditRender } from '../renderer/edit-renderer';\nimport { BooleanEditCell } from '../renderer/boolean-edit-cell';\nimport { DropDownEditCell } from '../renderer/dropdown-edit-cell';\nimport { NumericEditCell } from '../renderer/numeric-edit-cell';\nimport { DefaultEditCell } from '../renderer/default-edit-cell';\nimport { InlineEdit } from './inline-edit';\nimport { BatchEdit } from './batch-edit';\nimport { DialogEdit } from './dialog-edit';\nimport { Dialog } from '@syncfusion/ej2-popups';\nimport { parentsUntil, getComplexFieldID, setComplexFieldID, getScrollBarWidth, setValidationRuels } from '../base/util';\nimport { FormValidator } from '@syncfusion/ej2-inputs';\nimport { DatePickerEditCell } from '../renderer/datepicker-edit-cell';\nimport { calculateRelativeBasedPosition } from '@syncfusion/ej2-popups';\nimport { TemplateEditCell } from '../renderer/template-edit-cell';\nimport { DataUtil } from '@syncfusion/ej2-data';\nimport { addRemoveEventListener, getColumnModelByFieldName } from '../base/util';\nimport * as literals from '../base/string-literals';\n/**\n * The `Edit` module is used to handle editing actions.\n */\nvar Edit = /** @class */ (function () {\n    /**\n     * Constructor for the Grid editing module\n     *\n     * @param {IGrid} parent - specifies the IGrid\n     * @param {ServiceLocator} serviceLocator - specifies the servicelocator\n     * @hidden\n     */\n    function Edit(parent, serviceLocator) {\n        this.editType = { 'Inline': InlineEdit, 'Normal': InlineEdit, 'Batch': BatchEdit, 'Dialog': DialogEdit };\n        this.parent = parent;\n        this.serviceLocator = serviceLocator;\n        this.l10n = this.serviceLocator.getService('localization');\n        this.addEventListener();\n        this.updateEditObj();\n        this.createAlertDlg();\n        this.createConfirmDlg();\n    }\n    Edit.prototype.updateColTypeObj = function () {\n        var cols = this.parent.columnModel;\n        for (var i = 0; i < cols.length; i++) {\n            if (this.parent.editSettings.template || cols[i].editTemplate) {\n                var templteCell = 'templateedit';\n                cols[i].edit = extend(new Edit.editCellType[templteCell](this.parent), cols[i].edit || {});\n            }\n            else {\n                cols[i].edit = extend(new Edit.editCellType[cols[i].editType && Edit.editCellType[cols[i].editType] ?\n                    cols[i].editType : 'defaultedit'](this.parent, this.serviceLocator), cols[i].edit || {});\n            }\n        }\n        this.parent.log('primary_column_missing');\n    };\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} returns the module name\n     * @private\n     */\n    Edit.prototype.getModuleName = function () {\n        return 'edit';\n    };\n    /**\n     * @param {NotifyArgs} e - specifies the notifyargs\n     * @returns {void}\n     * @hidden\n     */\n    Edit.prototype.onPropertyChanged = function (e) {\n        if (e.module !== this.getModuleName()) {\n            return;\n        }\n        var gObj = this.parent;\n        for (var _i = 0, _a = Object.keys(e.properties); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'allowAdding':\n                case 'allowDeleting':\n                case 'allowEditing':\n                    if (gObj.editSettings.allowAdding || gObj.editSettings.allowEditing || gObj.editSettings.allowDeleting) {\n                        this.initialEnd();\n                    }\n                    break;\n                case 'mode':\n                    this.updateEditObj();\n                    gObj.isEdit = false;\n                    gObj.refresh();\n                    break;\n            }\n        }\n    };\n    Edit.prototype.updateEditObj = function () {\n        if (this.editModule) {\n            this.editModule.destroy();\n        }\n        this.renderer = new EditRender(this.parent, this.serviceLocator);\n        this.editModule = new this.editType[this.parent.editSettings.mode](this.parent, this.serviceLocator, this.renderer);\n    };\n    Edit.prototype.initialEnd = function () {\n        this.updateColTypeObj();\n    };\n    /**\n     * Edits any bound record in the Grid by TR element.\n     *\n     * @param {HTMLTableRowElement} tr - Defines the table row to be edited.\n     * @returns {void}\n     */\n    Edit.prototype.startEdit = function (tr) {\n        var gObj = this.parent;\n        if (!gObj.editSettings.allowEditing || gObj.isEdit || gObj.editSettings.mode === 'Batch') {\n            return;\n        }\n        this.parent.element.classList.add('e-editing');\n        if (!gObj.getSelectedRows().length) {\n            if (!tr) {\n                this.showDialog('EditOperationAlert', this.alertDObj);\n                return;\n            }\n        }\n        else if (!tr) {\n            tr = gObj.getSelectedRows()[0];\n        }\n        this.isLastRow = tr.rowIndex === this.parent.getContent().querySelector('tr:last-child').rowIndex;\n        if (tr.style.display === 'none') {\n            return;\n        }\n        this.editModule.startEdit(tr);\n        this.refreshToolbar();\n        gObj.element.querySelector('.e-gridpopup').style.display = 'none';\n        this.parent.notify('start-edit', {});\n    };\n    /**\n     * @param {Element} tr - specifies the tr element\n     * @param {object} args - specifies the object\n     * @param {Element} args.row -specfifes the row\n     * @param {string} args.requestType - specifies the request type\n     * @returns {void}\n     * @hidden\n     */\n    Edit.prototype.checkLastRow = function (tr, args) {\n        var checkLastRow = this.isLastRow;\n        if (this.parent.height !== 'auto' && this.parent.editSettings.newRowPosition === 'Bottom' && args && args.requestType === 'add' &&\n            this.parent.getContent().firstElementChild.offsetHeight > this.parent.getContentTable().scrollHeight) {\n            addClass([].slice.call(tr.getElementsByClassName(literals.rowCell)), 'e-lastrowadded');\n        }\n        else if (checkLastRow && tr && tr.classList) {\n            addClass([].slice.call(tr.getElementsByClassName(literals.rowCell)), 'e-lastrowcell');\n        }\n    };\n    /**\n     * Cancels edited state.\n     *\n     * @returns {void}\n     */\n    Edit.prototype.closeEdit = function () {\n        if (this.parent.editSettings.mode === 'Batch' && this.parent.editSettings.showConfirmDialog\n            && this.parent.element.getElementsByClassName('e-updatedtd').length) {\n            this.showDialog('CancelEdit', this.dialogObj);\n            return;\n        }\n        this.parent.element.classList.remove('e-editing');\n        this.editModule.closeEdit();\n        this.refreshToolbar();\n        this.parent.notify(events.closeEdit, {});\n    };\n    Edit.prototype.refreshToolbar = function () {\n        this.parent.notify(events.toolbarRefresh, {});\n    };\n    /**\n     * To adds a new row at the top with the given data. When data is not passed, it will add empty rows.\n     * > `editSettings.allowEditing` should be true.\n     *\n     * @param {Object} data - Defines the new add record data.\n     * @param {number} index - Defines the row index to be added\n     * @returns {void}\n     */\n    Edit.prototype.addRecord = function (data, index) {\n        if (!this.parent.editSettings.allowAdding) {\n            return;\n        }\n        var args = { startEdit: true };\n        if (!data) {\n            this.parent.notify(events.virtualScrollAddActionBegin, args);\n        }\n        if (args.startEdit) {\n            this.parent.element.classList.add('e-editing');\n            this.editModule.addRecord(data, index);\n            this.refreshToolbar();\n            this.parent.notify('start-add', {});\n        }\n    };\n    /**\n     * Deletes a record with the given options. If fieldname and data are not given, the Grid will delete the selected record.\n     * > `editSettings.allowDeleting` should be true.\n     *\n     * @param {string} fieldname - Defines the primary key field name of the column.\n     * @param {Object} data - Defines the JSON data record to be deleted.\n     * @returns {void}\n     */\n    Edit.prototype.deleteRecord = function (fieldname, data) {\n        var gObj = this.parent;\n        if (!gObj.editSettings.allowDeleting) {\n            return;\n        }\n        if (!data) {\n            if (!gObj.getSelectedRecords().length && isNullOrUndefined(gObj.commandDelIndex)) {\n                this.showDialog('DeleteOperationAlert', this.alertDObj);\n                return;\n            }\n        }\n        if (gObj.editSettings.showDeleteConfirmDialog) {\n            this.showDialog('ConfirmDelete', this.dialogObj);\n            return;\n        }\n        this.editModule.deleteRecord(fieldname, data);\n    };\n    /**\n     * Deletes a visible row by TR element.\n     *\n     * @param {HTMLTableRowElement} tr - Defines the table row element.\n     * @returns {void}\n     */\n    Edit.prototype.deleteRow = function (tr) {\n        this.deleteRowUid = tr.getAttribute('data-uid');\n        var rowObj = this.parent.getRowObjectFromUID(this.deleteRowUid);\n        if (!isNullOrUndefined(rowObj)) {\n            this.deleteRecord(null, rowObj.data);\n        }\n    };\n    /**\n     * If Grid is in editable state, you can save a record by invoking endEdit.\n     *\n     * @returns {void}\n     */\n    Edit.prototype.endEdit = function () {\n        if (this.parent.editSettings.mode === 'Batch' && this.parent.editSettings.showConfirmDialog &&\n            (isNullOrUndefined(this.formObj) || this.formObj.validate())) {\n            this.parent.editModule.saveCell();\n            this.parent.notify(events.editNextValCell, {});\n            if (isNullOrUndefined(this.formObj) || this.formObj.validate()) {\n                this.showDialog('BatchSaveConfirm', this.dialogObj);\n                return;\n            }\n        }\n        this.endEditing();\n    };\n    /**\n     * To update the specified cell by given value without changing into edited state.\n     *\n     * @param {number} rowIndex Defines the row index.\n     * @param {string} field Defines the column field.\n     * @param {string | number | boolean | Date} value - Defines the value to be changed.\n     * @returns {void}\n     */\n    Edit.prototype.updateCell = function (rowIndex, field, value) {\n        this.editModule.updateCell(rowIndex, field, value);\n    };\n    /**\n     * To update the specified row by given values without changing into edited state.\n     *\n     * @param {number} index Defines the row index.\n     * @param {Object} data Defines the data object to be updated.\n     * @returns {void}\n     */\n    Edit.prototype.updateRow = function (index, data) {\n        this.editModule.updateRow(index, data);\n    };\n    /**\n     * Resets added, edited, and deleted records in the batch mode.\n     *\n     * @returns {void}\n     */\n    Edit.prototype.batchCancel = function () {\n        this.closeEdit();\n    };\n    /**\n     * Bulk saves added, edited, and deleted records in the batch mode.\n     *\n     * @returns {void}\n     */\n    Edit.prototype.batchSave = function () {\n        this.endEdit();\n    };\n    /**\n     * Changes a particular cell into edited state based on the row index and field name provided in the `batch` mode.\n     *\n     * @param {number} index - Defines row index to edit a particular cell.\n     * @param {string} field - Defines the field name of the column to perform batch edit.\n     * @returns {void}\n     */\n    Edit.prototype.editCell = function (index, field) {\n        this.editModule.editCell(index, field);\n    };\n    /**\n     * Checks the status of validation at the time of editing. If validation is passed, it returns true.\n     *\n     * @returns {boolean} returns whether the form is validated\n     */\n    Edit.prototype.editFormValidate = function () {\n        var form1 = this.formObj ? this.formObj.validate() : true;\n        var form2 = this.mFormObj ? this.mFormObj.validate() : true;\n        var form3 = this.frFormObj ? this.frFormObj.validate() : true;\n        return form1 && form2 && form3;\n    };\n    /**\n     * Gets the added, edited,and deleted data before bulk save to the DataSource in batch mode.\n     *\n     * @returns {Object} returns the Object\n     */\n    Edit.prototype.getBatchChanges = function () {\n        return this.editModule.getBatchChanges ? this.editModule.getBatchChanges() : {};\n    };\n    /**\n     * Gets the current value of the edited component.\n     *\n     * @returns {Object} returns the Object\n     */\n    Edit.prototype.getCurrentEditCellData = function () {\n        var obj = this.getCurrentEditedData(this.formObj.element, {});\n        return obj[Object.keys(obj)[0]];\n    };\n    /**\n     * Saves the cell that is currently edited. It does not save the value to the DataSource.\n     *\n     * @returns {void}\n     */\n    Edit.prototype.saveCell = function () {\n        this.editModule.saveCell();\n    };\n    Edit.prototype.endEditing = function () {\n        this.parent.element.classList.remove('e-editing');\n        this.editModule.endEdit();\n        this.refreshToolbar();\n    };\n    Edit.prototype.showDialog = function (content, obj) {\n        obj.content = '<div>' + this.l10n.getConstant(content) + '</div>';\n        obj.dataBind();\n        obj.show();\n    };\n    Edit.prototype.getValueFromType = function (col, value) {\n        var val = value;\n        switch (col.type) {\n            case 'number':\n                val = !isNaN(parseFloat(value)) ? parseFloat(value) : null;\n                break;\n            case 'boolean':\n                if (col.editType !== 'booleanedit') {\n                    val = value === this.l10n.getConstant('True') || value === true ? true : false;\n                }\n                break;\n            case 'date':\n            case 'datetime':\n                if (col.editType !== 'datepickeredit' && col.editType !== 'datetimepickeredit'\n                    && value && value.length) {\n                    val = new Date(value);\n                }\n                else if (value === '') {\n                    val = null;\n                }\n                break;\n        }\n        return val;\n    };\n    Edit.prototype.destroyToolTip = function () {\n        var elements = [].slice.call(this.parent.element.getElementsByClassName('e-griderror'));\n        for (var _i = 0, elements_1 = elements; _i < elements_1.length; _i++) {\n            var elem = elements_1[_i];\n            remove(elem);\n        }\n        this.parent.getContent().firstElementChild.style.position = 'relative';\n    };\n    Edit.prototype.createConfirmDlg = function () {\n        this.dialogObj = this.dlgWidget([\n            {\n                click: this.dlgOk.bind(this),\n                buttonModel: { content: this.l10n.getConstant('OKButton'), cssClass: 'e-primary', isPrimary: true }\n            },\n            {\n                click: this.dlgCancel.bind(this),\n                buttonModel: { cssClass: 'e-flat', content: this.l10n.getConstant('CancelButton') }\n            }\n        ], 'EditConfirm');\n    };\n    Edit.prototype.createAlertDlg = function () {\n        this.alertDObj = this.dlgWidget([\n            {\n                click: this.alertClick.bind(this), buttonModel: { content: this.l10n.getConstant('OKButton'), cssClass: 'e-flat', isPrimary: true }\n            }\n        ], 'EditAlert');\n    };\n    Edit.prototype.alertClick = function () {\n        this.alertDObj.hide();\n    };\n    Edit.prototype.dlgWidget = function (btnOptions, name) {\n        var div = this.parent.createElement('div', { id: this.parent.element.id + name });\n        this.parent.element.appendChild(div);\n        var options = {\n            showCloseIcon: false,\n            isModal: true,\n            visible: false,\n            closeOnEscape: true,\n            target: this.parent.element,\n            width: '320px',\n            animationSettings: { effect: 'None' }\n        };\n        options.buttons = btnOptions;\n        var obj = new Dialog(options);\n        var isStringTemplate = 'isStringTemplate';\n        obj[isStringTemplate] = true;\n        obj.appendTo(div);\n        return obj;\n    };\n    Edit.prototype.dlgCancel = function () {\n        this.parent.focusModule.clearIndicator();\n        this.parent.focusModule.restoreFocus();\n        this.dialogObj.hide();\n    };\n    Edit.prototype.dlgOk = function () {\n        switch (this.dialogObj.element.querySelector('.e-dlg-content').firstElementChild.innerText) {\n            case this.l10n.getConstant('ConfirmDelete'):\n                this.editModule.deleteRecord();\n                break;\n            case this.l10n.getConstant('CancelEdit'):\n                this.editModule.closeEdit();\n                break;\n            case this.l10n.getConstant('BatchSaveConfirm'):\n                this.endEditing();\n                break;\n            case this.l10n.getConstant('BatchSaveLostChanges'):\n                if (this.parent.editSettings.mode === 'Batch') {\n                    this.editModule.addCancelWhilePaging();\n                }\n                this.executeAction();\n                break;\n        }\n        this.dlgCancel();\n    };\n    Edit.prototype.destroyEditComponents = function () {\n        if (this.parent.isEdit) {\n            this.destroyWidgets();\n            this.destroyForm();\n        }\n        this.destroy();\n    };\n    /**\n     * @returns {void}\n     * @hidden\n     */\n    Edit.prototype.addEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.eventDetails = [{ event: events.inBoundModelChanged, handler: this.onPropertyChanged },\n            { event: events.initialEnd, handler: this.initialEnd },\n            { event: events.keyPressed, handler: this.keyPressHandler },\n            { event: events.autoCol, handler: this.updateColTypeObj },\n            { event: events.tooltipDestroy, handler: this.destroyToolTip },\n            { event: events.preventBatch, handler: this.preventBatch },\n            { event: events.destroyForm, handler: this.destroyForm },\n            { event: events.destroy, handler: this.destroyEditComponents }];\n        addRemoveEventListener(this.parent, this.eventDetails, true, this);\n        this.actionBeginFunction = this.onActionBegin.bind(this);\n        this.actionCompleteFunction = this.actionComplete.bind(this);\n        this.parent.addEventListener(events.actionBegin, this.actionBeginFunction);\n        this.parent.addEventListener(events.actionComplete, this.actionCompleteFunction);\n    };\n    /**\n     * @returns {void}\n     * @hidden\n     */\n    Edit.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        addRemoveEventListener(this.parent, this.eventDetails, false);\n        this.parent.removeEventListener(events.actionComplete, this.actionCompleteFunction);\n        this.parent.removeEventListener(events.actionBegin, this.actionBeginFunction);\n    };\n    Edit.prototype.actionComplete = function (e) {\n        var actions = ['add', 'beginEdit', 'save', 'delete', 'cancel'];\n        if (actions.indexOf(e.requestType) < 0) {\n            this.parent.isEdit = false;\n        }\n        if (e.requestType === 'batchsave') {\n            this.parent.focusModule.restoreFocus();\n        }\n        this.refreshToolbar();\n    };\n    /**\n     * @param {Element} form - specifies the element\n     * @param {Object} editedData - specifies the edited data\n     * @returns {Object} returns the object\n     * @hidden\n     */\n    Edit.prototype.getCurrentEditedData = function (form, editedData) {\n        var gObj = this.parent;\n        if (gObj.editSettings.template) {\n            var elements = [].slice.call(form.elements);\n            for (var k = 0; k < elements.length; k++) {\n                if (((elements[k].hasAttribute('name') && (elements[k].className !== 'e-multi-hidden')) ||\n                    elements[k].classList.contains('e-multiselect')) && !(elements[k].type === 'hidden' &&\n                    (parentsUntil(elements[k], 'e-switch-wrapper') || parentsUntil(elements[k], 'e-checkbox-wrapper')))) {\n                    var field = (elements[k].hasAttribute('name')) ? setComplexFieldID(elements[k].getAttribute('name')) :\n                        setComplexFieldID(elements[k].getAttribute('id'));\n                    var column = gObj.getColumnByField(field) || { field: field, type: elements[k].getAttribute('type') };\n                    var value = void 0;\n                    if (column.type === 'checkbox' || column.type === 'boolean') {\n                        value = elements[k].checked;\n                    }\n                    else if (elements[k].value) {\n                        value = elements[k].value;\n                        if (elements[k].ej2_instances &&\n                            elements[k].ej2_instances.length &&\n                            !isNullOrUndefined(elements[k].ej2_instances[0].value)) {\n                            elements[k].blur();\n                            value = elements[k].ej2_instances[0].value;\n                        }\n                    }\n                    else if (elements[k].ej2_instances) {\n                        value = elements[k].ej2_instances[0].value;\n                    }\n                    if (column.edit && typeof column.edit.read === 'string') {\n                        value = getValue(column.edit.read, window)(elements[k], value);\n                    }\n                    else if (column.edit && column.edit.read) {\n                        value = column.edit.read(elements[k], value);\n                    }\n                    value = gObj.editModule.getValueFromType(column, value);\n                    if (elements[k].type === 'radio') {\n                        if (elements[k].checked) {\n                            DataUtil.setValue(column.field, value, editedData);\n                        }\n                    }\n                    else {\n                        DataUtil.setValue(column.field, value, editedData);\n                    }\n                }\n            }\n            return editedData;\n        }\n        var col = gObj.columnModel.filter(function (col) { return col.editTemplate; });\n        for (var j = 0; j < col.length; j++) {\n            if (form[getComplexFieldID(col[j].field)]) {\n                var inputElements = [].slice.call(form[getComplexFieldID(col[j].field)]);\n                inputElements = inputElements.length ? inputElements : [form[getComplexFieldID(col[j].field)]];\n                var temp = inputElements.filter(function (e) {\n                    return !isNullOrUndefined((e.ej2_instances));\n                });\n                if (temp.length === 0) {\n                    temp = inputElements.filter(function (e) { return e.hasAttribute('name'); });\n                }\n                for (var k = 0; k < temp.length; k++) {\n                    var value = this.getValue(col[j], temp[k], editedData);\n                    DataUtil.setValue(col[j].field, value, editedData);\n                }\n            }\n        }\n        var inputs = [].slice.call(form.getElementsByClassName('e-field'));\n        for (var i = 0, len = inputs.length; i < len; i++) {\n            var col_1 = gObj.getColumnByUid(inputs[i].getAttribute('e-mappinguid'));\n            if (col_1 && col_1.field) {\n                var value = this.getValue(col_1, inputs[i], editedData);\n                DataUtil.setValue(col_1.field, value, editedData);\n            }\n        }\n        return editedData;\n    };\n    Edit.prototype.getValue = function (col, input, editedData) {\n        var value = input.ej2_instances ?\n            input.ej2_instances[0].value : input.value;\n        var gObj = this.parent;\n        var temp = col.edit.read;\n        if (col.type === 'checkbox' || col.type === 'boolean') {\n            value = input.checked;\n        }\n        if (typeof temp === 'string') {\n            temp = getValue(temp, window);\n            value = gObj.editModule.getValueFromType(col, (temp)(input, value));\n        }\n        else {\n            value = gObj.editModule.getValueFromType(col, col.edit.read(input, value));\n        }\n        if (isNullOrUndefined(editedData[col.field]) && value === '') {\n            value = editedData[col.field];\n        }\n        return value;\n    };\n    /**\n     * @param {NotifyArgs} e - specifies the NotifyArgs\n     * @returns {void}\n     * @hidden\n     */\n    Edit.prototype.onActionBegin = function (e) {\n        if (e.requestType === 'columnstate' && this.parent.isEdit\n            && this.parent.editSettings.mode !== 'Batch') {\n            this.closeEdit();\n        }\n        else {\n            var editRow = this.parent.element.querySelector('.' + literals.editedRow);\n            var addRow = this.parent.element.querySelector('.' + literals.addedRow);\n            if (editRow && this.parent.frozenRows && e.requestType === 'virtualscroll'\n                && parseInt(parentsUntil(editRow, literals.row).getAttribute(literals.ariaRowIndex), 10) < this.parent.frozenRows) {\n                return;\n            }\n            var restrictedRequestTypes = ['filterafteropen', 'filterbeforeopen', 'filterchoicerequest', 'save', 'infiniteScroll', 'virtualscroll'];\n            var isRestrict = restrictedRequestTypes.indexOf(e.requestType) === -1;\n            var isDestroyVirtualForm = this.parent.enableVirtualization && this.formObj\n                && !this.formObj.isDestroyed && (editRow || addRow || e.requestType === 'cancel') && isRestrict;\n            if ((!this.parent.enableVirtualization && this.parent.editSettings.mode !== 'Batch' && this.formObj && !this.formObj.isDestroyed\n                && isRestrict && !e.cancel) || isDestroyVirtualForm) {\n                this.destroyWidgets();\n                this.destroyForm();\n            }\n        }\n    };\n    /**\n     * @param {Column[]} cols - specfies the column\n     * @returns {void}\n     * @hidden\n     */\n    Edit.prototype.destroyWidgets = function (cols) {\n        var gObj = this.parent;\n        if (gObj.editSettings.template) {\n            this.parent.destroyTemplate(['editSettingsTemplate']);\n            if (this.parent.isReact) {\n                this.parent.renderTemplates();\n            }\n        }\n        cols = cols ? cols : this.parent.getCurrentVisibleColumns(this.parent.enableColumnVirtualization);\n        if (cols.some(function (column) { return !isNullOrUndefined(column.editTemplate); })) {\n            this.parent.destroyTemplate(['editTemplate']);\n            if (this.parent.isReact) {\n                this.parent.renderTemplates();\n            }\n        }\n        for (var _i = 0, cols_1 = cols; _i < cols_1.length; _i++) {\n            var col = cols_1[_i];\n            var temp = col.edit.destroy;\n            if (col.edit.destroy) {\n                if (typeof temp === 'string') {\n                    temp = getValue(temp, window);\n                    temp();\n                }\n                else {\n                    col.edit.destroy();\n                }\n            }\n        }\n        var elements = [].slice.call(this.formObj.element.elements);\n        for (var i = 0; i < elements.length; i++) {\n            if (elements[i].hasAttribute('name')) {\n                if (elements[i].ej2_instances &&\n                    elements[i].ej2_instances.length &&\n                    !elements[i].ej2_instances[0].isDestroyed) {\n                    elements[i].ej2_instances[0].destroy();\n                }\n            }\n        }\n    };\n    /**\n     * @returns {void}\n     * @hidden\n     */\n    Edit.prototype.destroyForm = function () {\n        this.destroyToolTip();\n        var formObjects = [this.formObj, this.mFormObj, this.frFormObj, this.virtualFormObj];\n        for (var i = 0; i < formObjects.length; i++) {\n            if (formObjects[i] && formObjects[i].element && !formObjects[i].isDestroyed) {\n                formObjects[i].destroy();\n            }\n        }\n        this.destroyToolTip();\n    };\n    /**\n     * To destroy the editing.\n     *\n     * @returns {void}\n     * @hidden\n     */\n    Edit.prototype.destroy = function () {\n        var gridElement = this.parent.element;\n        if (!gridElement) {\n            return;\n        }\n        var hasGridChild = gridElement.querySelector('.' + literals.gridHeader) &&\n            gridElement.querySelector('.' + literals.gridContent) ? true : false;\n        if (hasGridChild) {\n            this.destroyForm();\n        }\n        this.removeEventListener();\n        var elem = this.dialogObj.element;\n        if (elem.childElementCount > 0) {\n            this.dialogObj.destroy();\n            remove(elem);\n        }\n        elem = this.alertDObj.element;\n        if (elem.childElementCount > 0) {\n            this.alertDObj.destroy();\n            remove(elem);\n        }\n        if (!hasGridChild) {\n            return;\n        }\n        if (this.editModule) {\n            this.editModule.destroy();\n        }\n    };\n    Edit.prototype.keyPressHandler = function (e) {\n        switch (e.action) {\n            case 'insert':\n                this.addRecord();\n                break;\n            case 'delete':\n                if ((e.target.tagName !== 'INPUT' || e.target.classList.contains('e-checkselect'))\n                    && !document.querySelector('.e-popup-open')) {\n                    this.deleteRecord();\n                }\n                break;\n            case 'f2':\n                this.startEdit();\n                break;\n            case 'enter':\n                if (!parentsUntil(e.target, 'e-unboundcelldiv') && this.parent.editSettings.mode !== 'Batch' &&\n                    (parentsUntil(e.target, literals.gridContent) || (this.parent.frozenRows\n                        && parentsUntil(e.target, literals.headerContent)))\n                    && !document.getElementsByClassName('e-popup-open').length) {\n                    e.preventDefault();\n                    this.endEdit();\n                }\n                break;\n            case 'escape':\n                if (this.parent.isEdit) {\n                    if (this.parent.editSettings.mode === 'Batch') {\n                        this.editModule.escapeCellEdit();\n                    }\n                    else {\n                        this.closeEdit();\n                    }\n                }\n                break;\n        }\n    };\n    Edit.prototype.preventBatch = function (args) {\n        this.preventObj = args;\n        this.showDialog('BatchSaveLostChanges', this.dialogObj);\n    };\n    Edit.prototype.executeAction = function () {\n        this.preventObj.handler.call(this.preventObj.instance, this.preventObj.arg1, this.preventObj.arg2, this.preventObj.arg3, this.preventObj.arg4, this.preventObj.arg5, this.preventObj.arg6, this.preventObj.arg7, this.preventObj.arg8);\n    };\n    /**\n     * @param {Column[]} cols - specifies the column\n     * @returns {void}\n     * @hidden\n     */\n    Edit.prototype.applyFormValidation = function (cols) {\n        var gObj = this.parent;\n        var frzCols = gObj.isFrozenGrid();\n        var isInline = this.parent.editSettings.mode === 'Normal';\n        var idx = this.parent.getFrozenMode() === 'Right' && isInline ? 1 : 0;\n        var form = this.parent.editSettings.mode !== 'Dialog' ?\n            gObj.element.getElementsByClassName('e-gridform')[idx] :\n            select('#' + gObj.element.id + '_dialogEdit_wrapper .e-gridform', document);\n        var index = this.parent.getFrozenMode() === 'Right' && isInline ? 0 : 1;\n        var mForm = gObj.element.getElementsByClassName('e-gridform')[index];\n        var rules = {};\n        var mRules = {};\n        var frRules = {};\n        cols = cols ? cols : gObj.getColumns();\n        for (var i = 0; i < cols.length; i++) {\n            if (!cols[i].visible && (gObj.editSettings.mode !== 'Dialog' || (gObj.groupSettings.columns.indexOf(cols[i].field) === -1\n                && gObj.editSettings.mode === 'Dialog'))) {\n                continue;\n            }\n            if (cols[i].validationRules) {\n                setValidationRuels(cols[i], index, rules, mRules, frRules, cols.length);\n            }\n        }\n        if (frzCols && this.parent.editSettings.mode !== 'Dialog') {\n            this.parent.editModule.mFormObj = this.createFormObj(mForm, mRules);\n            if (this.parent.getFrozenMode() === literals.leftRight) {\n                var frForm = gObj.element.getElementsByClassName('e-gridform')[2];\n                this.parent.editModule.frFormObj = this.createFormObj(frForm, frRules);\n            }\n        }\n        else {\n            rules = extend(rules, mRules, frRules);\n        }\n        this.parent.editModule.formObj = this.createFormObj(form, rules);\n    };\n    /**\n     * @param {HTMLFormElement} form - Defined Form element\n     * @param {Object} rules - Defines form rules\n     * @returns {FormValidator} Returns formvalidator instance\n     * @hidden\n     */\n    Edit.prototype.createFormObj = function (form, rules) {\n        var _this = this;\n        return new FormValidator(form, {\n            rules: rules,\n            locale: this.parent.locale,\n            validationComplete: function (args) {\n                _this.validationComplete(args);\n            },\n            customPlacement: function (inputElement, error) {\n                var uid = inputElement.getAttribute('e-mappinguid');\n                var args = {\n                    column: _this.parent.getColumnByUid(uid),\n                    error: error,\n                    inputElement: inputElement,\n                    value: inputElement.value\n                };\n                _this.valErrorPlacement(inputElement, error);\n                _this.parent.notify(events.valCustomPlacement, args);\n            }\n        });\n    };\n    Edit.prototype.valErrorPlacement = function (inputElement, error) {\n        if (this.parent.isEdit) {\n            var id = error.getAttribute('for');\n            var elem = this.getElemTable(inputElement).querySelector('#' + id + '_Error');\n            if (!elem) {\n                this.createTooltip(inputElement, error, id, '');\n            }\n            else {\n                elem.querySelector('.e-tip-content').innerHTML = error.outerHTML;\n            }\n        }\n    };\n    Edit.prototype.getElemTable = function (inputElement) {\n        var isFHdr;\n        var gObj = this.parent;\n        var table;\n        if (gObj.editSettings.mode !== 'Dialog') {\n            isFHdr = (gObj.frozenRows && gObj.frozenRows\n                > (parseInt(closest(inputElement, '.' + literals.row).getAttribute(literals.ariaRowIndex), 10) || 0));\n            var field = inputElement.name;\n            var col = void 0;\n            if (field) {\n                col = getColumnModelByFieldName(this.parent, setComplexFieldID(field));\n            }\n            if (col && gObj.isFrozenGrid()) {\n                if (col.getFreezeTableName() === 'frozen-left') {\n                    table = isFHdr ? gObj.getFrozenVirtualHeader().querySelector('table')\n                        : gObj.getFrozenVirtualContent().querySelector('table');\n                }\n                else if (col.getFreezeTableName() === 'frozen-right') {\n                    table = isFHdr ? gObj.getFrozenRightHeader().querySelector('table')\n                        : gObj.getFrozenRightContent().querySelector('table');\n                }\n                else if (col.getFreezeTableName() === 'movable') {\n                    table = isFHdr ? gObj.getMovableVirtualHeader().querySelector('table')\n                        : gObj.getMovableVirtualContent().querySelector('table');\n                }\n            }\n            else {\n                table = isFHdr ? gObj.getHeaderTable() : gObj.getContentTable();\n            }\n        }\n        else {\n            table = select('#' + gObj.element.id + '_dialogEdit_wrapper', document);\n        }\n        return table;\n    };\n    Edit.prototype.resetElemPosition = function (elem, args) {\n        var td = parentsUntil(args.element, literals.rowCell);\n        if (td) {\n            var tdRight = td.getBoundingClientRect().right;\n            var elemRight = elem.getBoundingClientRect().right;\n            if (elemRight > tdRight) {\n                var offSet = elemRight - tdRight;\n                elem.style.left = (elem.offsetLeft - offSet) + 'px';\n            }\n        }\n    };\n    Edit.prototype.validationComplete = function (args) {\n        if (this.parent.isEdit) {\n            var elem = this.getElemTable(args.element).querySelector('#' + args.inputName + '_Error');\n            if (elem) {\n                if (args.status === 'failure') {\n                    elem.style.display = '';\n                    this.resetElemPosition(elem, args);\n                }\n                else {\n                    elem.style.display = 'none';\n                }\n            }\n        }\n    };\n    Edit.prototype.createTooltip = function (element, error, name, display) {\n        var column = this.parent.getColumnByField(name);\n        var formObj = this.parent.getFrozenMode() === literals.leftRight && this.parent.editSettings.mode === 'Normal'\n            && column.getFreezeTableName() === literals.frozenRight ? this.frFormObj.element : this.formObj.element;\n        var customForm = parentsUntil(element, 'e-virtual-validation');\n        if (customForm) {\n            formObj = this.virtualFormObj.element;\n        }\n        var gcontent = this.parent.getContent().firstElementChild;\n        var frzCols = this.parent.getFrozenColumns() || this.parent.getFrozenLeftColumnsCount()\n            || this.parent.getFrozenRightColumnsCount();\n        if (frzCols) {\n            gcontent = this.parent.getMovableVirtualContent();\n        }\n        var isScroll = gcontent.scrollHeight > gcontent.clientHeight || gcontent.scrollWidth > gcontent.clientWidth;\n        var isInline = this.parent.editSettings.mode !== 'Dialog';\n        var td = closest(element, '.' + literals.rowCell);\n        var row = closest(element, '.' + literals.row);\n        var fCont = this.parent.getContent().querySelector('.' + literals.frozenContent);\n        var isFHdr;\n        var isFHdrLastRow = false;\n        var validationForBottomRowPos;\n        var isBatchModeLastRow = false;\n        var viewPortRowCount = Math.round(this.parent.getContent().clientHeight / this.parent.getRowHeight()) - 1;\n        var rows = !fCont ? [].slice.call(this.parent.getContent().getElementsByClassName(literals.row))\n            : [].slice.call(this.parent.getFrozenVirtualContent().getElementsByClassName(literals.row));\n        if (this.parent.editSettings.mode === 'Batch') {\n            if (viewPortRowCount > 1 && rows.length >= viewPortRowCount\n                && rows[rows.length - 1].getAttribute(literals.ariaRowIndex) === row.getAttribute(literals.ariaRowIndex)) {\n                isBatchModeLastRow = true;\n            }\n        }\n        if (isInline) {\n            if (this.parent.frozenRows) {\n                var fHeraderRows = frzCols ? this.parent.getFrozenVirtualHeader().querySelector(literals.tbody).children\n                    : this.parent.getHeaderTable().querySelector(literals.tbody).children;\n                isFHdr = fHeraderRows.length > (parseInt(row.getAttribute(literals.ariaRowIndex), 10) || 0);\n                isFHdrLastRow = isFHdr && parseInt(row.getAttribute(literals.ariaRowIndex), 10) === fHeraderRows.length - 1;\n            }\n            if (isFHdrLastRow || (viewPortRowCount > 1 && rows.length >= viewPortRowCount\n                && ((this.parent.editSettings.newRowPosition === 'Bottom' && (this.editModule.args\n                    && this.editModule.args.requestType === 'add')) || (td.classList.contains('e-lastrowcell')\n                    && !row.classList.contains(literals.addedRow)))) || isBatchModeLastRow) {\n                validationForBottomRowPos = true;\n            }\n        }\n        var table = isInline ?\n            (isFHdr ? this.parent.getHeaderTable() : this.parent.getContentTable()) :\n            select('#' + this.parent.element.id + '_dialogEdit_wrapper .e-dlg-content', document);\n        var client = table.getBoundingClientRect();\n        var left = isInline ?\n            this.parent.element.getBoundingClientRect().left : client.left;\n        var input = closest(element, 'td');\n        var inputClient = input ? input.getBoundingClientRect() : element.parentElement.getBoundingClientRect();\n        var div = this.parent.createElement('div', {\n            className: 'e-tooltip-wrap e-lib e-control e-popup e-griderror',\n            id: name + '_Error',\n            styles: 'display:' + display + ';top:' +\n                ((isFHdr ? inputClient.top + inputClient.height : inputClient.bottom - client.top\n                    - (frzCols ? fCont.scrollTop : 0)) + table.scrollTop + 9) + 'px;left:' +\n                (inputClient.left - left + table.scrollLeft + inputClient.width / 2) + 'px;' +\n                'max-width:' + inputClient.width + 'px;text-align:center;'\n        });\n        if (isInline && client.left < left) {\n            div.style.left = parseInt(div.style.left, 10) - client.left + left + 'px';\n        }\n        var content = this.parent.createElement('div', { className: 'e-tip-content' });\n        content.appendChild(error);\n        var arrow;\n        if (validationForBottomRowPos) {\n            arrow = this.parent.createElement('div', { className: 'e-arrow-tip e-tip-bottom' });\n            arrow.appendChild(this.parent.createElement('div', { className: 'e-arrow-tip-outer e-tip-bottom' }));\n            arrow.appendChild(this.parent.createElement('div', { className: 'e-arrow-tip-inner e-tip-bottom' }));\n        }\n        else {\n            arrow = this.parent.createElement('div', { className: 'e-arrow-tip e-tip-top' });\n            arrow.appendChild(this.parent.createElement('div', { className: 'e-arrow-tip-outer e-tip-top' }));\n            arrow.appendChild(this.parent.createElement('div', { className: 'e-arrow-tip-inner e-tip-top' }));\n        }\n        div.appendChild(content);\n        div.appendChild(arrow);\n        if (!customForm && (frzCols || this.parent.frozenRows) && this.parent.editSettings.mode !== 'Dialog') {\n            var getEditCell = this.parent.editSettings.mode === 'Normal' ?\n                closest(element, '.e-editcell') : closest(element, '.' + literals.table);\n            getEditCell.style.position = 'relative';\n            div.style.position = 'absolute';\n            if (this.parent.editSettings.mode === 'Batch' ||\n                (closest(element, '.' + literals.frozenContent) || closest(element, '.' + literals.frozenHeader))\n                || (this.parent.frozenRows && !frzCols)) {\n                formObj.appendChild(div);\n            }\n            else {\n                this.mFormObj.element.appendChild(div);\n            }\n        }\n        else {\n            if (customForm) {\n                this.virtualFormObj.element.appendChild(div);\n            }\n            else {\n                this.formObj.element.appendChild(div);\n            }\n        }\n        if (!validationForBottomRowPos && isInline && gcontent.getBoundingClientRect().bottom < inputClient.bottom + inputClient.height) {\n            gcontent.scrollTop = gcontent.scrollTop + div.offsetHeight + arrow.scrollHeight;\n        }\n        var lineHeight = parseInt(document.defaultView.getComputedStyle(div, null).getPropertyValue('font-size'), 10);\n        if (div.getBoundingClientRect().width < inputClient.width &&\n            div.querySelector('label').getBoundingClientRect().height / (lineHeight * 1.2) >= 2) {\n            div.style.width = div.style.maxWidth;\n        }\n        if ((frzCols || this.parent.frozenRows) && this.parent.editSettings.mode !== 'Dialog') {\n            div.style.left = input.offsetLeft + (input.offsetWidth / 2 - div.offsetWidth / 2) + 'px';\n        }\n        else {\n            div.style.left = (parseInt(div.style.left, 10) - div.offsetWidth / 2) + 'px';\n        }\n        if (isInline && !isScroll && !this.parent.allowPaging || frzCols || this.parent.frozenRows) {\n            gcontent.style.position = 'static';\n            var pos = calculateRelativeBasedPosition(input, div);\n            div.style.top = pos.top + inputClient.height + 9 + 'px';\n        }\n        if (validationForBottomRowPos) {\n            if (isScroll && !frzCols && this.parent.height !== 'auto' && !this.parent.frozenRows\n                && !this.parent.enableVirtualization) {\n                var scrollWidth = gcontent.scrollWidth > gcontent.offsetWidth ? getScrollBarWidth() : 0;\n                div.style.bottom = (this.parent.height - gcontent.querySelector('table').offsetHeight\n                    - scrollWidth) + inputClient.height + 9 + 'px';\n            }\n            else {\n                div.style.bottom = inputClient.height + 9 + 'px';\n            }\n            if (rows.length < viewPortRowCount && this.parent.editSettings.newRowPosition === 'Bottom' && (this.editModule.args\n                && this.editModule.args.requestType === 'add')) {\n                var rowsCount = this.parent.frozenRows ? this.parent.frozenRows + (rows.length - 1) : rows.length - 1;\n                var rowsHeight = rowsCount * this.parent.getRowHeight();\n                var position = this.parent.getContent().clientHeight - rowsHeight;\n                div.style.bottom = position + 9 + 'px';\n            }\n            div.style.top = null;\n        }\n    };\n    /**\n     * @param {Column} col - specfies the column\n     * @returns {boolean} returns the whether column is grouped\n     * @hidden\n     */\n    Edit.prototype.checkColumnIsGrouped = function (col) {\n        return !col.visible && !(this.parent.groupSettings.columns.indexOf(col.field) > -1);\n    };\n    /**\n     * @param {object} editors -specfies the editors\n     * @returns {void}\n     * @hidden\n     */\n    Edit.AddEditors = function (editors) {\n        Edit.editCellType = extend(Edit.editCellType, editors);\n    };\n    Edit.editCellType = {\n        'dropdownedit': DropDownEditCell, 'numericedit': NumericEditCell,\n        'datepickeredit': DatePickerEditCell, 'datetimepickeredit': DatePickerEditCell,\n        'booleanedit': BooleanEditCell, 'defaultedit': DefaultEditCell,\n        'templateedit': TemplateEditCell\n    };\n    return Edit;\n}());\nexport { Edit };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { isNullOrUndefined, getValue, closest } from '@syncfusion/ej2-base';\nimport { attributes } from '@syncfusion/ej2-base';\nimport { CellRenderer } from './cell-renderer';\nimport { Input } from '@syncfusion/ej2-inputs';\nimport { appendChildren } from '../base/util';\nimport { DropDownList } from '@syncfusion/ej2-dropdowns';\nimport * as events from '../base/constant';\n/**\n * FilterCellRenderer class which responsible for building filter cell.\n *\n * @hidden\n */\nvar FilterCellRenderer = /** @class */ (function (_super) {\n    __extends(FilterCellRenderer, _super);\n    function FilterCellRenderer() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.element = _this.parent.createElement('TH', { className: 'e-filterbarcell' });\n        return _this;\n    }\n    /**\n     * Function to return the wrapper for the TH content.\n     *\n     * @returns {string} returns the gui\n     */\n    FilterCellRenderer.prototype.getGui = function () {\n        return this.parent.createElement('div');\n    };\n    /**\n     * Function to render the cell content based on Column object.\n     *\n     * @param  {Cell} cell\n     * @param  {Object} data\n     */\n    /* tslint:disable-next-line:max-func-body-length */\n    FilterCellRenderer.prototype.render = function (cell, data) {\n        var tr = this.parent.element.querySelector('.e-filterbar');\n        var node = this.element.cloneNode();\n        var innerDIV = this.getGui();\n        var input;\n        var column = cell.column;\n        tr.appendChild(node);\n        node.setAttribute('e-mappinguid', column.uid);\n        if (column.filterTemplate) {\n            var fltrData = {};\n            if (data) {\n                fltrData[column.field] = data[column.field];\n            }\n            var col = 'column';\n            fltrData[col] = column;\n            if (column.visible) {\n                var isReactCompiler = this.parent.isReact && typeof (column.filterTemplate) !== 'string';\n                var tempID = this.parent.element.id + column.uid + 'filterTemplate';\n                if (isReactCompiler) {\n                    column.getFilterTemplate()(fltrData, this.parent, 'filterTemplate', tempID, null, null, node);\n                    this.parent.renderTemplates();\n                }\n                else {\n                    var element = column.getFilterTemplate()(fltrData, this.parent, 'filterTemplate', tempID);\n                    appendChildren(node, element);\n                }\n            }\n            else {\n                node.classList.add('e-hide');\n            }\n        }\n        else {\n            if (column.type !== 'checkbox') {\n                if ((isNullOrUndefined(column.allowFiltering) || column.allowFiltering) && !isNullOrUndefined(column.filterBarTemplate)) {\n                    node.classList.add('e-fltrtemp');\n                    attributes(innerDIV, {\n                        'class': 'e-fltrtempdiv'\n                    });\n                    if (isNullOrUndefined(column.filterBarTemplate.create)) {\n                        input = this.parent.createElement('input', {\n                            id: column.field + '_filterBarcell', className: 'e-filterUi_input e-filtertext e-fltrTemp',\n                            attrs: { type: 'search', title: column.headerText }\n                        });\n                        innerDIV.appendChild(input);\n                    }\n                    else {\n                        var args = { column: column, node: Element };\n                        var temp = column.filterBarTemplate.create;\n                        if (typeof temp === 'string') {\n                            temp = getValue(temp, window);\n                        }\n                        input = temp(args);\n                        if (typeof input === 'string') {\n                            var div = this.parent.createElement('div');\n                            div.innerHTML = input;\n                            input = div.firstChild;\n                        }\n                        attributes(innerDIV, {\n                            class: 'e-filterUi_input e-filtertext e-fltrTemp',\n                            title: column.headerText,\n                            id: column.field + '_filterBarcell'\n                        });\n                        innerDIV.appendChild(input);\n                    }\n                }\n                else {\n                    attributes(innerDIV, {\n                        'class': 'e-filterdiv e-fltrinputdiv'\n                    });\n                    input = this.parent.createElement('input', {\n                        id: column.field + '_filterBarcell', className: 'e-filtertext',\n                        attrs: {\n                            type: 'search', title: column.headerText + cell.attributes.title,\n                            value: data[cell.column.field] ? data[cell.column.field] : '', role: 'search'\n                        }\n                    });\n                    innerDIV.appendChild(input);\n                    var args = {\n                        element: input, floatLabelType: 'Never',\n                        properties: {\n                            enableRtl: this.parent.enableRtl, showClearButton: true\n                        }\n                    };\n                    Input.createInput(args, this.parent.createElement);\n                }\n                //TODO: apply intial filtering\n                if (column.allowFiltering === false || column.field === '' || isNullOrUndefined(column.field)) {\n                    input.setAttribute('disabled', 'true');\n                    input.classList.add('e-disable');\n                }\n                if (!column.visible) {\n                    node.classList.add('e-hide');\n                }\n                this.appendHtml(node, innerDIV);\n                // render's the dropdownlist component if showFilterBarOperator sets to true\n                if (this.parent.filterSettings.showFilterBarOperator && this.parent.filterSettings.type === 'FilterBar' &&\n                    !this.parent.isPrinting && isNullOrUndefined(column.filterTemplate) && isNullOrUndefined(column.filterBarTemplate)) {\n                    this.operatorIconRender(innerDIV, column, cell);\n                }\n                if ((isNullOrUndefined(column.allowFiltering) || column.allowFiltering) && !isNullOrUndefined(column.filterBarTemplate)) {\n                    var templateWrite = column.filterBarTemplate.write;\n                    var args = { element: input, column: column };\n                    if (typeof templateWrite === 'string') {\n                        templateWrite = getValue(templateWrite, window);\n                    }\n                    templateWrite.call(this, args);\n                }\n            }\n        }\n        return node;\n    };\n    /**\n     * Function to specifies how the result content to be placed in the cell.\n     *\n     * @param {Element} node - specifies the node\n     * @param {string|Element} innerHtml - specifies the innerHTML\n     * @returns {Element} retruns the element\n     */\n    FilterCellRenderer.prototype.appendHtml = function (node, innerHtml) {\n        node.appendChild(innerHtml);\n        return node;\n    };\n    FilterCellRenderer.prototype.operatorIconRender = function (innerDIV, column, cell) {\n        var gObj = this.parent;\n        var fbicon = this.parent.createElement('input', {\n            className: ' e-filterbaroperator e-icons e-icon-filter',\n            id: cell.column.uid\n        });\n        innerDIV.querySelector('span').appendChild(fbicon);\n        var operators = (column.filter && column.filter.operator) ? column.filter.operator : 'equal';\n        if (!isNullOrUndefined(gObj.filterModule.operators[column.field])) {\n            operators = gObj.filterModule.operators[column.field];\n        }\n        this.dropOptr = new DropDownList({\n            fields: { text: 'text', value: 'value' },\n            popupHeight: 'auto',\n            value: operators,\n            width: '0px',\n            enabled: column.allowFiltering,\n            popupWidth: 'auto',\n            enableRtl: this.parent.enableRtl,\n            change: this.internalEvent.bind(this),\n            beforeOpen: function () {\n                var operator = gObj.filterModule.customOperators;\n                this.dataSource = operator[gObj.getColumnByUid(this.element.id).type + 'Operator'];\n                for (var i = 0; i < this.dataSource.length; i++) {\n                    if (column.filter && column.filter.operator && isNullOrUndefined(gObj.filterModule.operators[column.field]) &&\n                        this.dataSource[i].value === column.filter.operator) {\n                        this.value = column.filter.operator;\n                    }\n                }\n            }\n        });\n        this.dropOptr.appendTo(fbicon);\n        var spanElmt = closest(this.dropOptr.element, 'span');\n        spanElmt.classList.add('e-filterbardropdown');\n        spanElmt.removeAttribute('tabindex');\n    };\n    FilterCellRenderer.prototype.internalEvent = function (e) {\n        var gObj = this.parent;\n        var col = gObj.getColumnByUid(e.element.getAttribute('id'));\n        e.column = col;\n        gObj.filterModule.operators[col.field] = e.value;\n        gObj.notify(events.getFilterBarOperator, e);\n    };\n    return FilterCellRenderer;\n}(CellRenderer));\nexport { FilterCellRenderer };\n","import { DropDownList } from '@syncfusion/ej2-dropdowns';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { Query, DataManager } from '@syncfusion/ej2-data';\nimport * as events from '../base/constant';\nimport * as literals from '../base/string-literals';\n/**\n * `filter operators` render boolean column.\n *\n * @hidden\n */\nvar FlMenuOptrUI = /** @class */ (function () {\n    function FlMenuOptrUI(parent, customFltrOperators, serviceLocator, filterSettings) {\n        this.ddOpen = this.dropDownOpen.bind(this);\n        this.parent = parent;\n        this.serviceLocator = serviceLocator;\n        this.filterSettings = filterSettings;\n        this.customFilterOperators = customFltrOperators;\n        if (this.parent) {\n            this.parent.on(events.filterMenuClose, this.destroyDropDownList, this);\n            this.parent.on(events.destroy, this.destroyDropDownList, this);\n        }\n    }\n    /**\n     * @param {Element} dlgConetntEle - specifies the content element\n     * @param {Element} target - specifies the target\n     * @param {Column} column - specifies the column\n     * @param {Dialog} dlgObj - specifies the dialog\n     * @param {Object[]} operator - specifies the operator list\n     * @returns {void}\n     * @hidden\n     */\n    // eslint-disable-next-line max-len\n    FlMenuOptrUI.prototype.renderOperatorUI = function (dlgConetntEle, target, column, dlgObj, operator) {\n        this.dialogObj = dlgObj;\n        var optr = column.type + 'Operator';\n        this.optrData = this.customOptr = !isNullOrUndefined(operator) ? operator :\n            (!isNullOrUndefined(this.parent.filterSettings.operators) && !isNullOrUndefined(this.parent.filterSettings.operators[optr])) ?\n                this.parent.filterSettings.operators[optr] : this.customFilterOperators[optr];\n        var dropDatasource = this.customOptr;\n        var selectedValue = this.dropSelectedVal(column, optr);\n        var optrDiv = this.parent.createElement('div', { className: 'e-flm_optrdiv' });\n        dlgConetntEle.appendChild(optrDiv);\n        var optrInput = this.parent.createElement('input', { id: column.uid + '-floptr' });\n        optrDiv.appendChild(optrInput);\n        this.dropOptr = new DropDownList({\n            dataSource: dropDatasource,\n            fields: { text: 'text', value: 'value' },\n            cssClass: 'e-popup-flmenu',\n            enableRtl: this.parent.enableRtl,\n            text: selectedValue\n        });\n        this.dropOptr.addEventListener(literals.open, this.ddOpen);\n        this.dropOptr.appendTo('#' + column.uid + '-floptr');\n    };\n    FlMenuOptrUI.prototype.renderResponsiveDropDownList = function (args) {\n        args.popup.element.style.width = '100%';\n    };\n    FlMenuOptrUI.prototype.dropDownOpen = function (args) {\n        args.popup.element.style.zIndex = (this.dialogObj.zIndex + 1).toString();\n        if (this.parent.enableAdaptiveUI) {\n            this.renderResponsiveDropDownList(args);\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    FlMenuOptrUI.prototype.dropSelectedVal = function (col, optr) {\n        var selValue = '';\n        var columns = this.parent.filterSettings.columns;\n        for (var _i = 0, columns_1 = columns; _i < columns_1.length; _i++) {\n            var column = columns_1[_i];\n            if (col.field === column.field || (col.isForeignColumn() && col.foreignKeyValue === column.field)) {\n                var selectedField = new DataManager(this.optrData).executeLocal(new Query().where('value', 'equal', column.operator));\n                selValue = !isNullOrUndefined(selectedField[0]) ? selectedField[0].text : '';\n            }\n        }\n        if (selValue === '') { // rewuired or not\n            if (col.filter.operator) {\n                var optrLen = Object.keys(this.optrData).length;\n                for (var i = 0; i < optrLen; i++) {\n                    if (this.optrData[i].value === col.filter.operator) {\n                        selValue = this.optrData[i].text;\n                    }\n                }\n            }\n            else {\n                selValue = this.optrData[0].text;\n            }\n        }\n        return selValue;\n    };\n    /**\n     * @returns {string} returns the operator\n     * @hidden\n     */\n    FlMenuOptrUI.prototype.getFlOperator = function () {\n        return this.dropOptr.value;\n    };\n    FlMenuOptrUI.prototype.destroyDropDownList = function () {\n        if (this.dropOptr.isDestroyed) {\n            return;\n        }\n        this.dropOptr.removeEventListener(literals.open, this.ddOpen);\n        this.dropOptr.destroy();\n        this.parent.off(events.filterMenuClose, this.destroyDropDownList);\n        this.parent.off(events.destroy, this.destroyDropDownList);\n    };\n    return FlMenuOptrUI;\n}());\nexport { FlMenuOptrUI };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n// eslint-disable-next-line @typescript-eslint/triple-slash-reference\n/// <reference path='../drop-down-list/drop-down-list-model.d.ts'/>\nimport { EventHandler, Property, Event, addClass, Browser, removeClass, detach } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, NotifyPropertyChanges, getValue, setValue } from '@syncfusion/ej2-base';\nimport { DropDownList, dropDownListClasses } from '../drop-down-list/drop-down-list';\nimport { Search } from '../common/incremental-search';\nimport { createSpinner, showSpinner, hideSpinner } from '@syncfusion/ej2-popups';\nimport { Input } from '@syncfusion/ej2-inputs';\nvar SPINNER_CLASS = 'e-atc-spinner-icon';\ndropDownListClasses.root = 'e-combobox';\nvar inputObject = {\n    container: null,\n    buttons: []\n};\n/**\n * The ComboBox component allows the user to type a value or choose an option from the list of predefined options.\n * ```html\n * <select id=\"list\">\n *      <option value='1'>Badminton</option>\n *      <option value='2'>Basketball</option>\n *      <option value='3'>Cricket</option>\n *      <option value='4'>Football</option>\n *      <option value='5'>Tennis</option>\n * </select>\n * ```\n * ```typescript\n *   let games:ComboBox = new ComboBox();\n *   games.appendTo(\"#list\");\n * ```\n */\nvar ComboBox = /** @class */ (function (_super) {\n    __extends(ComboBox, _super);\n    /**\n     * *Constructor for creating the component\n     *\n     * @param {ComboBoxModel} options - Specifies the ComboBox model.\n     * @param {string | HTMLElement} element - Specifies the element to render as component.\n     * @private\n     */\n    function ComboBox(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    /**\n     * Initialize the event handler\n     *\n     * @private\n     * @returns {void}\n     */\n    ComboBox.prototype.preRender = function () {\n        _super.prototype.preRender.call(this);\n    };\n    ComboBox.prototype.getLocaleName = function () {\n        return 'combo-box';\n    };\n    ComboBox.prototype.wireEvent = function () {\n        if (this.getModuleName() === 'combobox') {\n            EventHandler.add(this.inputWrapper.buttons[0], 'mousedown', this.preventBlur, this);\n            EventHandler.add(this.inputWrapper.container, 'blur', this.onBlurHandler, this);\n        }\n        if (!isNullOrUndefined(this.inputWrapper.buttons[0])) {\n            EventHandler.add(this.inputWrapper.buttons[0], 'mousedown', this.dropDownClick, this);\n        }\n        EventHandler.add(this.inputElement, 'focus', this.targetFocus, this);\n        if (!this.readonly) {\n            EventHandler.add(this.inputElement, 'input', this.onInput, this);\n            EventHandler.add(this.inputElement, 'keyup', this.onFilterUp, this);\n            EventHandler.add(this.inputElement, 'keydown', this.onFilterDown, this);\n            EventHandler.add(this.inputElement, 'paste', this.pasteHandler, this);\n        }\n        this.bindCommonEvent();\n    };\n    ComboBox.prototype.preventBlur = function (e) {\n        if ((!this.allowFiltering && document.activeElement !== this.inputElement &&\n            !document.activeElement.classList.contains(dropDownListClasses.input) && Browser.isDevice || !Browser.isDevice)) {\n            e.preventDefault();\n        }\n    };\n    ComboBox.prototype.onBlurHandler = function (e) {\n        var inputValue = this.inputElement && this.inputElement.value === '' ?\n            null : this.inputElement && this.inputElement.value;\n        if (!isNullOrUndefined(this.listData) && !isNullOrUndefined(inputValue) && inputValue !== this.text) {\n            this.customValue(e);\n        }\n        _super.prototype.onBlurHandler.call(this, e);\n    };\n    ComboBox.prototype.targetElement = function () {\n        return this.inputElement;\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    ComboBox.prototype.setOldText = function (text) {\n        Input.setValue(this.text, this.inputElement, this.floatLabelType, this.showClearButton);\n        this.customValue();\n        this.removeSelection();\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    ComboBox.prototype.setOldValue = function (value) {\n        if (this.allowCustom) {\n            this.valueMuteChange(this.value);\n        }\n        else {\n            this.valueMuteChange(null);\n        }\n        this.removeSelection();\n        this.setHiddenValue();\n    };\n    ComboBox.prototype.valueMuteChange = function (value) {\n        var inputValue = isNullOrUndefined(value) ? null : value.toString();\n        Input.setValue(inputValue, this.inputElement, this.floatLabelType, this.showClearButton);\n        this.setProperties({ value: value, text: value, index: null }, true);\n        this.activeIndex = this.index;\n        var fields = this.fields;\n        var dataItem = {};\n        dataItem[fields.text] = isNullOrUndefined(value) ? null : value.toString();\n        dataItem[fields.value] = isNullOrUndefined(value) ? null : value.toString();\n        this.itemData = dataItem;\n        this.item = null;\n        if (this.previousValue !== this.value) {\n            this.detachChangeEvent(null);\n        }\n    };\n    ComboBox.prototype.updateValues = function () {\n        if (!isNullOrUndefined(this.value)) {\n            var li = this.getElementByValue(this.value);\n            if (li) {\n                this.setSelection(li, null);\n            }\n            else if (this.allowCustom) {\n                this.valueMuteChange(this.value);\n            }\n            else {\n                this.valueMuteChange(null);\n            }\n        }\n        else if (this.text && isNullOrUndefined(this.value)) {\n            var li = this.getElementByText(this.text);\n            if (li) {\n                this.setSelection(li, null);\n            }\n            else {\n                Input.setValue(this.text, this.inputElement, this.floatLabelType, this.showClearButton);\n                this.customValue();\n            }\n        }\n        else {\n            this.setSelection(this.liCollections[this.activeIndex], null);\n        }\n        this.setHiddenValue();\n        Input.setValue(this.text, this.inputElement, this.floatLabelType, this.showClearButton);\n    };\n    ComboBox.prototype.updateIconState = function () {\n        if (this.showClearButton) {\n            if (this.inputElement && this.inputElement.value !== '' && !this.readonly) {\n                removeClass([this.inputWrapper.clearButton], dropDownListClasses.clearIconHide);\n            }\n            else {\n                addClass([this.inputWrapper.clearButton], dropDownListClasses.clearIconHide);\n            }\n        }\n    };\n    ComboBox.prototype.getAriaAttributes = function () {\n        var ariaAttributes = {\n            'aria-owns': this.element.id + '_options',\n            'role': 'combobox',\n            'aria-autocomplete': 'both',\n            'aria-labelledby': this.hiddenElement.id,\n            'aria-hasPopup': 'true',\n            'aria-expanded': 'false',\n            'aria-readonly': this.readonly.toString(),\n            'autocomplete': 'off',\n            'autocorrect': 'off',\n            'autocapitalize': 'off',\n            'spellcheck': 'false'\n        };\n        return ariaAttributes;\n    };\n    ComboBox.prototype.searchLists = function (e) {\n        this.isTyped = true;\n        if (this.isFiltering()) {\n            _super.prototype.searchLists.call(this, e);\n            if (this.ulElement && this.filterInput.value.trim() === '') {\n                this.setHoverList(this.ulElement.querySelector('.' + dropDownListClasses.li));\n            }\n        }\n        else {\n            if (this.ulElement && this.inputElement.value === '' && this.preventAutoFill) {\n                this.setHoverList(this.ulElement.querySelector('.' + dropDownListClasses.li));\n            }\n            this.incrementalSearch(e);\n        }\n    };\n    ComboBox.prototype.getNgDirective = function () {\n        return 'EJS-COMBOBOX';\n    };\n    ComboBox.prototype.setSearchBox = function () {\n        this.filterInput = this.inputElement;\n        return (this.isFiltering() ? this.inputWrapper : inputObject);\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    ComboBox.prototype.onActionComplete = function (ulElement, list, e, isUpdated) {\n        var _this = this;\n        _super.prototype.onActionComplete.call(this, ulElement, list, e);\n        if (this.isSelectCustom) {\n            this.removeSelection();\n        }\n        if (!this.preventAutoFill && this.getModuleName() === 'combobox' && this.isTyped) {\n            setTimeout(function () {\n                _this.inlineSearch();\n            });\n        }\n    };\n    ComboBox.prototype.getFocusElement = function () {\n        var dataItem = this.isSelectCustom ? { text: '' } : this.getItemData();\n        var selected = this.list.querySelector('.' + dropDownListClasses.selected);\n        var isSelected = dataItem.text === this.inputElement.value && !isNullOrUndefined(selected);\n        if (isSelected) {\n            return selected;\n        }\n        if ((Browser.isDevice && !this.isDropDownClick || !Browser.isDevice) &&\n            !isNullOrUndefined(this.liCollections) && this.liCollections.length > 0) {\n            var inputValue = this.inputElement.value;\n            var activeItem = Search(inputValue, this.liCollections, this.filterType, true);\n            var activeElement = activeItem.item;\n            if (!isNullOrUndefined(activeElement)) {\n                var count = this.getIndexByValue(activeElement.getAttribute('data-value')) - 1;\n                var height = parseInt(getComputedStyle(this.liCollections[0], null).getPropertyValue('height'), 10);\n                if (!isNaN(height) && this.getModuleName() !== 'autocomplete') {\n                    this.removeFocus();\n                    var fixedHead = this.fields.groupBy ? this.liCollections[0].offsetHeight : 0;\n                    this.list.scrollTop = count * height + fixedHead;\n                    addClass([activeElement], dropDownListClasses.focus);\n                }\n            }\n            else {\n                if (this.isSelectCustom && this.inputElement.value.trim() !== '') {\n                    this.removeFocus();\n                    this.list.scrollTop = 0;\n                }\n            }\n            return activeElement;\n        }\n        else {\n            return null;\n        }\n    };\n    ComboBox.prototype.setValue = function (e) {\n        if (e && e.type === 'keydown' && e.action === 'enter') {\n            this.removeFillSelection();\n        }\n        if (this.autofill && this.getModuleName() === 'combobox' && e && e.type === 'keydown' && e.action !== 'enter') {\n            this.preventAutoFill = false;\n            this.inlineSearch(e);\n            return false;\n        }\n        else {\n            return _super.prototype.setValue.call(this, e);\n        }\n    };\n    ComboBox.prototype.checkCustomValue = function () {\n        this.itemData = this.getDataByValue(this.value);\n        var dataItem = this.getItemData();\n        if (!(this.allowCustom && isNullOrUndefined(dataItem.value) && isNullOrUndefined(dataItem.text))) {\n            this.setProperties({ 'value': dataItem.value, 'text': dataItem.text }, !this.allowCustom);\n        }\n    };\n    /**\n     * Shows the spinner loader.\n     *\n     * @returns {void}\n\n     */\n    ComboBox.prototype.showSpinner = function () {\n        if (isNullOrUndefined(this.spinnerElement)) {\n            this.spinnerElement = (this.getModuleName() === 'autocomplete') ? (this.inputWrapper.buttons[0] ||\n                this.inputWrapper.clearButton ||\n                Input.appendSpan('e-input-group-icon ' + SPINNER_CLASS, this.inputWrapper.container, this.createElement)) :\n                (this.inputWrapper.buttons[0] || this.inputWrapper.clearButton);\n            addClass([this.spinnerElement], dropDownListClasses.disableIcon);\n            createSpinner({\n                target: this.spinnerElement,\n                width: Browser.isDevice ? '16px' : '14px'\n            }, this.createElement);\n            showSpinner(this.spinnerElement);\n        }\n    };\n    /**\n     * Hides the spinner loader.\n     *\n     * @returns {void}\n\n     */\n    ComboBox.prototype.hideSpinner = function () {\n        if (!isNullOrUndefined(this.spinnerElement)) {\n            hideSpinner(this.spinnerElement);\n            removeClass([this.spinnerElement], dropDownListClasses.disableIcon);\n            if (this.spinnerElement.classList.contains(SPINNER_CLASS)) {\n                detach(this.spinnerElement);\n            }\n            else {\n                this.spinnerElement.innerHTML = '';\n            }\n            this.spinnerElement = null;\n        }\n    };\n    ComboBox.prototype.setAutoFill = function (activeElement, isHover) {\n        if (!isHover) {\n            this.setHoverList(activeElement);\n        }\n        if (this.autofill && !this.preventAutoFill) {\n            var currentValue = this.getTextByValue(activeElement.getAttribute('data-value')).toString();\n            var currentFillValue = this.getFormattedValue(activeElement.getAttribute('data-value'));\n            if (this.getModuleName() === 'combobox') {\n                if (!this.isSelected && this.previousValue !== currentFillValue) {\n                    this.updateSelectedItem(activeElement, null);\n                    this.isSelected = true;\n                    this.previousValue = this.getFormattedValue(activeElement.getAttribute('data-value'));\n                }\n                else {\n                    this.updateSelectedItem(activeElement, null, true);\n                }\n            }\n            if (!this.isAndroidAutoFill(currentValue)) {\n                this.setAutoFillSelection(currentValue);\n            }\n        }\n    };\n    ComboBox.prototype.isAndroidAutoFill = function (value) {\n        if (Browser.isAndroid) {\n            var currentPoints = this.getSelectionPoints();\n            var prevEnd = this.prevSelectPoints.end;\n            var curEnd = currentPoints.end;\n            var prevStart = this.prevSelectPoints.start;\n            var curStart = currentPoints.start;\n            if (prevEnd !== 0 && ((prevEnd === value.length && prevStart === value.length) ||\n                (prevStart > curStart && prevEnd > curEnd) || (prevEnd === curEnd && prevStart === curStart))) {\n                return true;\n            }\n            else {\n                return false;\n            }\n        }\n        else {\n            return false;\n        }\n    };\n    ComboBox.prototype.clearAll = function (e, property) {\n        if (isNullOrUndefined(property) || (!isNullOrUndefined(property) && isNullOrUndefined(property.dataSource))) {\n            _super.prototype.clearAll.call(this, e);\n        }\n        if (this.isFiltering() && !isNullOrUndefined(e) && e.target === this.inputWrapper.clearButton) {\n            this.searchLists(e);\n        }\n    };\n    ComboBox.prototype.isSelectFocusItem = function (element) {\n        return !isNullOrUndefined(element);\n    };\n    ComboBox.prototype.inlineSearch = function (e) {\n        var isKeyNavigate = (e && (e.action === 'down' || e.action === 'up' ||\n            e.action === 'home' || e.action === 'end' || e.action === 'pageUp' || e.action === 'pageDown'));\n        var activeElement = isKeyNavigate ? this.liCollections[this.activeIndex] : this.getFocusElement();\n        if (!isNullOrUndefined(activeElement)) {\n            if (!isKeyNavigate) {\n                var value = this.getFormattedValue(activeElement.getAttribute('data-value'));\n                this.activeIndex = this.getIndexByValue(value);\n                this.activeIndex = !isNullOrUndefined(this.activeIndex) ? this.activeIndex : null;\n            }\n            this.preventAutoFill = this.inputElement.value === '' ? false : this.preventAutoFill;\n            this.setAutoFill(activeElement, isKeyNavigate);\n        }\n        else if (this.inputElement.value === '') {\n            this.activeIndex = null;\n            this.list.scrollTop = 0;\n            var focusItem = this.list.querySelector('.' + dropDownListClasses.li);\n            this.setHoverList(focusItem);\n        }\n        else {\n            this.activeIndex = null;\n            this.removeSelection();\n            if (this.liCollections && this.liCollections.length > 0 && !this.isCustomFilter) {\n                this.removeFocus();\n            }\n        }\n    };\n    ComboBox.prototype.incrementalSearch = function (e) {\n        this.showPopup();\n        if (!isNullOrUndefined(this.listData)) {\n            this.inlineSearch(e);\n            e.preventDefault();\n        }\n    };\n    ComboBox.prototype.setAutoFillSelection = function (currentValue) {\n        var selection = this.getSelectionPoints();\n        var value = this.inputElement.value.substr(0, selection.start);\n        if (value && (value.toLowerCase() === currentValue.substr(0, selection.start).toLowerCase())) {\n            var inputValue = value + currentValue.substr(value.length, currentValue.length);\n            Input.setValue(inputValue, this.inputElement, this.floatLabelType, this.showClearButton);\n            this.inputElement.setSelectionRange(selection.start, this.inputElement.value.length);\n        }\n        else {\n            Input.setValue(currentValue, this.inputElement, this.floatLabelType, this.showClearButton);\n            this.inputElement.setSelectionRange(0, this.inputElement.value.length);\n        }\n    };\n    ComboBox.prototype.getValueByText = function (text) {\n        return _super.prototype.getValueByText.call(this, text, true, this.ignoreAccent);\n    };\n    ComboBox.prototype.unWireEvent = function () {\n        if (this.getModuleName() === 'combobox') {\n            EventHandler.remove(this.inputWrapper.buttons[0], 'mousedown', this.preventBlur);\n            EventHandler.remove(this.inputWrapper.container, 'blur', this.onBlurHandler);\n        }\n        if (!isNullOrUndefined(this.inputWrapper.buttons[0])) {\n            EventHandler.remove(this.inputWrapper.buttons[0], 'mousedown', this.dropDownClick);\n        }\n        if (this.inputElement) {\n            EventHandler.remove(this.inputElement, 'focus', this.targetFocus);\n            if (!this.readonly) {\n                EventHandler.remove(this.inputElement, 'input', this.onInput);\n                EventHandler.remove(this.inputElement, 'keyup', this.onFilterUp);\n                EventHandler.remove(this.inputElement, 'keydown', this.onFilterDown);\n                EventHandler.remove(this.inputElement, 'paste', this.pasteHandler);\n            }\n        }\n        this.unBindCommonEvent();\n    };\n    ComboBox.prototype.setSelection = function (li, e) {\n        _super.prototype.setSelection.call(this, li, e);\n        if (!isNullOrUndefined(li) && !this.autofill && !this.isDropDownClick) {\n            this.removeFocus();\n        }\n    };\n    ComboBox.prototype.selectCurrentItem = function (e) {\n        var li;\n        if (this.isPopupOpen) {\n            if (this.isSelected) {\n                li = this.list.querySelector('.' + dropDownListClasses.selected);\n            }\n            else {\n                li = this.list.querySelector('.' + dropDownListClasses.focus);\n            }\n            if (li) {\n                this.setSelection(li, e);\n                this.isTyped = false;\n            }\n            if (this.isSelected) {\n                this.isSelectCustom = false;\n                this.onChangeEvent(e);\n            }\n        }\n        if (e.action === 'enter' && this.inputElement.value.trim() === '') {\n            this.clearAll(e);\n        }\n        else if (this.isTyped && !this.isSelected && isNullOrUndefined(li)) {\n            this.customValue(e);\n        }\n        this.hidePopup();\n    };\n    ComboBox.prototype.setHoverList = function (li) {\n        this.removeSelection();\n        if (this.isValidLI(li) && !li.classList.contains(dropDownListClasses.selected)) {\n            this.removeFocus();\n            li.classList.add(dropDownListClasses.focus);\n        }\n    };\n    ComboBox.prototype.targetFocus = function (e) {\n        if (Browser.isDevice && !this.allowFiltering) {\n            this.preventFocus = false;\n        }\n        this.onFocus(e);\n    };\n    ComboBox.prototype.dropDownClick = function (e) {\n        e.preventDefault();\n        if (Browser.isDevice && !this.isFiltering()) {\n            this.preventFocus = true;\n        }\n        _super.prototype.dropDownClick.call(this, e);\n    };\n    ComboBox.prototype.customValue = function (e) {\n        var _this = this;\n        var value = this.getValueByText(this.inputElement.value);\n        if (!this.allowCustom && this.inputElement.value !== '') {\n            var previousValue = this.previousValue;\n            var currentValue = this.value;\n            this.setProperties({ value: value });\n            if (isNullOrUndefined(this.value)) {\n                Input.setValue('', this.inputElement, this.floatLabelType, this.showClearButton);\n            }\n            if (this.autofill && previousValue === this.value && currentValue !== this.value) {\n                this.onChangeEvent(null);\n            }\n        }\n        else if (this.inputElement.value.trim() !== '') {\n            var previousValue_1 = this.value;\n            if (isNullOrUndefined(value)) {\n                var value_1 = this.inputElement.value === '' ? null : this.inputElement.value;\n                // eslint-disable-next-line max-len\n                var eventArgs = { text: value_1, item: {} };\n                if (!this.initial) {\n                    this.trigger('customValueSpecifier', eventArgs, function (eventArgs) {\n                        _this.updateCustomValueCallback(value_1, eventArgs, previousValue_1, e);\n                    });\n                }\n                else {\n                    this.updateCustomValueCallback(value_1, eventArgs, previousValue_1);\n                }\n            }\n            else {\n                this.isSelectCustom = false;\n                this.setProperties({ value: value });\n                if (previousValue_1 !== this.value) {\n                    this.onChangeEvent(e);\n                }\n            }\n        }\n        else if (this.allowCustom) {\n            this.isSelectCustom = true;\n        }\n    };\n    ComboBox.prototype.updateCustomValueCallback = function (value, eventArgs, previousValue, e) {\n        var fields = this.fields;\n        var item = eventArgs.item;\n        var dataItem = {};\n        if (item && getValue(fields.text, item) && getValue(fields.value, item)) {\n            dataItem = item;\n        }\n        else {\n            setValue(fields.text, value, dataItem);\n            setValue(fields.value, value, dataItem);\n        }\n        this.itemData = dataItem;\n        var changeData = {\n            text: getValue(fields.text, this.itemData),\n            value: getValue(fields.value, this.itemData),\n            index: null\n        };\n        this.setProperties(changeData, true);\n        this.setSelection(null, null);\n        this.isSelectCustom = true;\n        if (previousValue !== this.value) {\n            this.onChangeEvent(e);\n        }\n    };\n    /**\n     * Dynamically change the value of properties.\n     *\n     * @param {ComboBoxModel} newProp - Returns the dynamic property value of the component.\n     * @param {ComboBoxModel} oldProp - Returns the previous property value of the component.\n     * @private\n     * @returns {void}\n     */\n    ComboBox.prototype.onPropertyChanged = function (newProp, oldProp) {\n        if (this.getModuleName() === 'combobox') {\n            this.checkData(newProp);\n            this.setUpdateInitial(['fields', 'query', 'dataSource'], newProp);\n        }\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'readonly':\n                    Input.setReadonly(this.readonly, this.inputElement);\n                    if (this.readonly) {\n                        EventHandler.remove(this.inputElement, 'input', this.onInput);\n                        EventHandler.remove(this.inputElement, 'keyup', this.onFilterUp);\n                        EventHandler.remove(this.inputElement, 'keydown', this.onFilterDown);\n                    }\n                    else {\n                        EventHandler.add(this.inputElement, 'input', this.onInput, this);\n                        EventHandler.add(this.inputElement, 'keyup', this.onFilterUp, this);\n                        EventHandler.add(this.inputElement, 'keydown', this.onFilterDown, this);\n                    }\n                    this.setReadOnly();\n                    break;\n                case 'allowFiltering':\n                    this.setSearchBox();\n                    if (this.isFiltering() && this.getModuleName() === 'combobox' && isNullOrUndefined(this.list)) {\n                        _super.prototype.renderList.call(this);\n                    }\n                    break;\n                case 'allowCustom':\n                    break;\n                default: {\n                    // eslint-disable-next-line max-len\n                    var comboProps = this.getPropObject(prop, newProp, oldProp);\n                    _super.prototype.onPropertyChanged.call(this, comboProps.newProperty, comboProps.oldProperty);\n                    if (this.isFiltering() && prop === 'dataSource' && isNullOrUndefined(this.list) && this.itemTemplate &&\n                        this.getModuleName() === 'combobox') {\n                        _super.prototype.renderList.call(this);\n                    }\n                    break;\n                }\n            }\n        }\n    };\n    /**\n     * To initialize the control rendering.\n     *\n     * @private\n     * @returns {void}\n     */\n    ComboBox.prototype.render = function () {\n        _super.prototype.render.call(this);\n        this.setSearchBox();\n        if (this.isFiltering() && this.getModuleName() === 'combobox' && isNullOrUndefined(this.list)) {\n            _super.prototype.renderList.call(this);\n        }\n        this.renderComplete();\n    };\n    /**\n     * Return the module name of this component.\n     *\n     * @private\n     * @returns {string} Return the module name of this component.\n     */\n    ComboBox.prototype.getModuleName = function () {\n        return 'combobox';\n    };\n    /**\n     * Adds a new item to the combobox popup list. By default, new item appends to the list as the last item,\n     * but you can insert based on the index parameter.\n     *\n     * @param  { Object[] } items - Specifies an array of JSON data or a JSON data.\n     * @param { number } itemIndex - Specifies the index to place the newly added item in the popup list.\n     * @returns {void}\n\n     */\n    ComboBox.prototype.addItem = function (items, itemIndex) {\n        _super.prototype.addItem.call(this, items, itemIndex);\n    };\n    /**\n     * To filter the data from given data source by using query\n     *\n     * @param  {Object[] | DataManager } dataSource - Set the data source to filter.\n     * @param  {Query} query - Specify the query to filter the data.\n     * @param  {FieldSettingsModel} fields - Specify the fields to map the column in the data table.\n     * @returns {void}\n\n     */\n    ComboBox.prototype.filter = function (dataSource, query, fields) {\n        _super.prototype.filter.call(this, dataSource, query, fields);\n    };\n    /**\n     * Opens the popup that displays the list of items.\n     *\n     * @returns {void}\n\n     */\n    ComboBox.prototype.showPopup = function () {\n        _super.prototype.showPopup.call(this);\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-param */\n    /**\n     * Hides the popup if it is in open state.\n     *\n     * @returns {void}\n\n     */\n    ComboBox.prototype.hidePopup = function (e) {\n        /* eslint-enable valid-jsdoc, jsdoc/require-param */\n        var inputValue = this.inputElement && this.inputElement.value === '' ? null\n            : this.inputElement && this.inputElement.value;\n        if (!isNullOrUndefined(this.listData)) {\n            var isEscape = this.isEscapeKey;\n            if (this.isEscapeKey) {\n                Input.setValue(this.typedString, this.inputElement, this.floatLabelType, this.showClearButton);\n                this.isEscapeKey = false;\n            }\n            if (this.autofill) {\n                this.removeFillSelection();\n            }\n            var dataItem = this.isSelectCustom ? { text: '' } : this.getItemData();\n            var selected = this.list.querySelector('.' + dropDownListClasses.selected);\n            if (this.inputElement && dataItem.text === this.inputElement.value && !isNullOrUndefined(selected)) {\n                if (this.isSelected) {\n                    this.onChangeEvent(e);\n                    this.isSelectCustom = false;\n                }\n                _super.prototype.hidePopup.call(this, e);\n                return;\n            }\n            if (this.getModuleName() === 'combobox' && this.inputElement.value.trim() !== '') {\n                var searchItem = Search(this.inputElement.value, this.liCollections, 'Equal', true);\n                this.selectedLI = searchItem.item;\n                if (isNullOrUndefined(searchItem.index)) {\n                    searchItem.index = Search(this.inputElement.value, this.liCollections, 'StartsWith', true).index;\n                }\n                this.activeIndex = searchItem.index;\n                if (!isNullOrUndefined(this.selectedLI)) {\n                    this.updateSelectedItem(this.selectedLI, null, true);\n                }\n                else if (isEscape) {\n                    this.isSelectCustom = true;\n                    this.removeSelection();\n                }\n            }\n            if (!this.isEscapeKey && this.isTyped && !this.isInteracted) {\n                this.customValue(e);\n            }\n        }\n        if (isNullOrUndefined(this.listData) && this.allowCustom && !isNullOrUndefined(inputValue) && inputValue !== this.value) {\n            this.customValue();\n        }\n        _super.prototype.hidePopup.call(this, e);\n    };\n    /**\n     * Sets the focus to the component for interaction.\n     *\n     * @returns {void}\n     */\n    ComboBox.prototype.focusIn = function () {\n        if (!this.enabled) {\n            return;\n        }\n        if (Browser.isDevice && !this.isFiltering()) {\n            this.preventFocus = true;\n        }\n        _super.prototype.focusIn.call(this);\n    };\n    /**\n     * Allows you to clear the selected values from the component.\n     *\n     * @returns {void}\n\n     */\n    ComboBox.prototype.clear = function () {\n        this.value = null;\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-param */\n    /**\n     * Moves the focus from the component if the component is already focused.\n     *\n     * @returns {void}\n\n     */\n    ComboBox.prototype.focusOut = function (e) {\n        /* eslint-enable valid-jsdoc, jsdoc/require-param */\n        _super.prototype.focusOut.call(this, e);\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Gets all the list items bound on this component.\n     *\n     * @returns {Element[]}\n\n     */\n    ComboBox.prototype.getItems = function () {\n        return _super.prototype.getItems.call(this);\n    };\n    /**\n     * Gets the data Object that matches the given value.\n     *\n     * @param { string | number } value - Specifies the value of the list item.\n     * @returns {Object}\n\n     */\n    ComboBox.prototype.getDataByValue = function (value) {\n        return _super.prototype.getDataByValue.call(this, value);\n    };\n    /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n    ComboBox.prototype.renderHightSearch = function () {\n        // update high light search\n    };\n    __decorate([\n        Property(false)\n    ], ComboBox.prototype, \"autofill\", void 0);\n    __decorate([\n        Property(true)\n    ], ComboBox.prototype, \"allowCustom\", void 0);\n    __decorate([\n        Property({})\n    ], ComboBox.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Property(false)\n    ], ComboBox.prototype, \"allowFiltering\", void 0);\n    __decorate([\n        Property(null)\n    ], ComboBox.prototype, \"query\", void 0);\n    __decorate([\n        Property(null)\n    ], ComboBox.prototype, \"index\", void 0);\n    __decorate([\n        Property(true)\n    ], ComboBox.prototype, \"showClearButton\", void 0);\n    __decorate([\n        Property(false)\n    ], ComboBox.prototype, \"enableRtl\", void 0);\n    __decorate([\n        Event()\n    ], ComboBox.prototype, \"customValueSpecifier\", void 0);\n    __decorate([\n        Event()\n    ], ComboBox.prototype, \"filtering\", void 0);\n    __decorate([\n        Property(null)\n    ], ComboBox.prototype, \"valueTemplate\", void 0);\n    __decorate([\n        Property('Never')\n    ], ComboBox.prototype, \"floatLabelType\", void 0);\n    __decorate([\n        Property(null)\n    ], ComboBox.prototype, \"filterBarPlaceholder\", void 0);\n    __decorate([\n        Property(null)\n    ], ComboBox.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(null)\n    ], ComboBox.prototype, \"headerTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], ComboBox.prototype, \"footerTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], ComboBox.prototype, \"placeholder\", void 0);\n    __decorate([\n        Property('100%')\n    ], ComboBox.prototype, \"width\", void 0);\n    __decorate([\n        Property('300px')\n    ], ComboBox.prototype, \"popupHeight\", void 0);\n    __decorate([\n        Property('100%')\n    ], ComboBox.prototype, \"popupWidth\", void 0);\n    __decorate([\n        Property(false)\n    ], ComboBox.prototype, \"readonly\", void 0);\n    __decorate([\n        Property(null)\n    ], ComboBox.prototype, \"text\", void 0);\n    __decorate([\n        Property(null)\n    ], ComboBox.prototype, \"value\", void 0);\n    ComboBox = __decorate([\n        NotifyPropertyChanges\n    ], ComboBox);\n    return ComboBox;\n}(DropDownList));\nexport { ComboBox };\n","/* eslint-disable jsdoc/require-param, valid-jsdoc */\n/**\n * Function helps to find which highlightSearch is to call based on your data.\n *\n * @param  {HTMLElement} element - Specifies an li element.\n * @param  {string} query - Specifies the string to be highlighted.\n * @param  {boolean} ignoreCase - Specifies the ignoreCase option.\n * @param  {HightLightType} type - Specifies the type of highlight.\n * @returns {void}\n */\nexport function highlightSearch(element, query, ignoreCase, type) {\n    if (query === '') {\n        return;\n    }\n    else {\n        var ignoreRegex = ignoreCase ? 'gim' : 'gm';\n        // eslint-disable-next-line\n        query = /^[a-zA-Z0-9- ]*$/.test(query) ? query : query.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, '\\\\$&');\n        var replaceQuery = type === 'StartsWith' ? '^(' + query + ')' : type === 'EndsWith' ?\n            '(' + query + ')$' : '(' + query + ')';\n        findTextNode(element, new RegExp(replaceQuery, ignoreRegex));\n    }\n}\n/* eslint-enable jsdoc/require-param, valid-jsdoc */\n/**\n *\n * @param {HTMLElement} element - Specifies the element.\n * @param {RegExp} pattern - Specifies the regex to match the searched text.\n * @returns {void}\n */\nfunction findTextNode(element, pattern) {\n    for (var index = 0; element.childNodes && (index < element.childNodes.length); index++) {\n        if (element.childNodes[index].nodeType === 3 && element.childNodes[index].textContent.trim() !== '') {\n            var value = element.childNodes[index].nodeValue.trim().replace(pattern, '<span class=\"e-highlight\">$1</span>');\n            element.childNodes[index].nodeValue = '';\n            element.innerHTML = element.innerHTML.trim() + value;\n            break;\n        }\n        else {\n            findTextNode(element.childNodes[index], pattern);\n        }\n    }\n}\n/**\n * Function helps to remove highlighted element based on your data.\n *\n * @param  {HTMLElement} content - Specifies an content element.\n * @returns {void}\n */\nexport function revertHighlightSearch(content) {\n    var contentElement = content.querySelectorAll('.e-highlight');\n    for (var i = contentElement.length - 1; i >= 0; i--) {\n        var parent_1 = contentElement[i].parentNode;\n        var text = document.createTextNode(contentElement[i].textContent);\n        parent_1.replaceChild(text, contentElement[i]);\n    }\n}\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n// eslint-disable-next-line @typescript-eslint/triple-slash-reference\n/// <reference path='../combo-box/combo-box-model.d.ts'/>\nimport { Property, EventHandler, isNullOrUndefined, detach } from '@syncfusion/ej2-base';\nimport { Event, Complex } from '@syncfusion/ej2-base';\nimport { removeClass, attributes, NotifyPropertyChanges } from '@syncfusion/ej2-base';\nimport { dropDownListClasses } from '../drop-down-list/drop-down-list';\nimport { ComboBox } from '../combo-box/combo-box';\nimport { highlightSearch, revertHighlightSearch } from '../common/highlight-search';\nimport { Search } from '../common/incremental-search';\nimport { FieldSettings } from '../drop-down-base/drop-down-base';\nimport { Input } from '@syncfusion/ej2-inputs';\nimport { DataManager, Query } from '@syncfusion/ej2-data';\ndropDownListClasses.root = 'e-autocomplete';\ndropDownListClasses.icon = 'e-input-group-icon e-ddl-icon e-search-icon';\n/**\n * The AutoComplete component provides the matched suggestion list when type into the input,\n * from which the user can select one.\n * ```html\n * <input id=\"list\" type=\"text\"/>\n * ```\n * ```typescript\n *   let atcObj:AutoComplete = new AutoComplete();\n *   atcObj.appendTo(\"#list\");\n * ```\n */\nvar AutoComplete = /** @class */ (function (_super) {\n    __extends(AutoComplete, _super);\n    /**\n     * * Constructor for creating the widget\n     *\n     * @param {AutoCompleteModel} options - Specifies the AutoComplete model.\n     * @param {string | HTMLElement} element - Specifies the element to render as component.\n     * @private\n     */\n    function AutoComplete(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.isFiltered = false;\n        _this.searchList = false;\n        return _this;\n    }\n    /**\n     * Initialize the event handler\n     *\n     * @private\n     * @returns {void}\n     */\n    AutoComplete.prototype.preRender = function () {\n        _super.prototype.preRender.call(this);\n    };\n    AutoComplete.prototype.getLocaleName = function () {\n        return 'auto-complete';\n    };\n    AutoComplete.prototype.getNgDirective = function () {\n        return 'EJS-AUTOCOMPLETE';\n    };\n    AutoComplete.prototype.getQuery = function (query) {\n        var filterQuery = query ? query.clone() : this.query ? this.query.clone() : new Query();\n        var filterType = (this.queryString === '' && !isNullOrUndefined(this.value)) ? 'equal' : this.filterType;\n        var queryString = (this.queryString === '' && !isNullOrUndefined(this.value)) ? this.value : this.queryString;\n        if (this.isFiltered) {\n            return filterQuery;\n        }\n        if (this.queryString !== null && this.queryString !== '') {\n            var dataType = this.typeOfData(this.dataSource).typeof;\n            if (!(this.dataSource instanceof DataManager) && dataType === 'string' || dataType === 'number') {\n                filterQuery.where('', filterType, queryString, this.ignoreCase, this.ignoreAccent);\n            }\n            else {\n                var mapping = !isNullOrUndefined(this.fields.value) ? this.fields.value : '';\n                filterQuery.where(mapping, filterType, queryString, this.ignoreCase, this.ignoreAccent);\n            }\n        }\n        if (!isNullOrUndefined(this.suggestionCount)) {\n            // Since defualt value of suggestioncount is 20, checked the condition\n            if (this.suggestionCount !== 20) {\n                for (var queryElements = 0; queryElements < filterQuery.queries.length; queryElements++) {\n                    if (filterQuery.queries[queryElements].fn === 'onTake') {\n                        filterQuery.queries.splice(queryElements, 1);\n                    }\n                }\n            }\n            filterQuery.take(this.suggestionCount);\n        }\n        return filterQuery;\n    };\n    AutoComplete.prototype.searchLists = function (e) {\n        var _this = this;\n        this.isTyped = true;\n        this.isDataFetched = this.isSelectCustom = false;\n        if (isNullOrUndefined(this.list)) {\n            _super.prototype.renderList.call(this, true);\n        }\n        this.queryString = this.filterInput.value;\n        if (e.type !== 'mousedown' && (e.keyCode === 40 || e.keyCode === 38)) {\n            this.queryString = this.queryString === '' ? null : this.queryString;\n            this.beforePopupOpen = true;\n            this.resetList(this.dataSource, this.fields);\n            return;\n        }\n        this.isSelected = false;\n        this.activeIndex = null;\n        var eventArgs = {\n            preventDefaultAction: false,\n            text: this.filterInput.value,\n            updateData: function (dataSource, query, fields) {\n                if (eventArgs.cancel) {\n                    return;\n                }\n                _this.isFiltered = true;\n                _this.filterAction(dataSource, query, fields);\n            },\n            cancel: false\n        };\n        this.trigger('filtering', eventArgs, function (eventArgs) {\n            if (!eventArgs.cancel && !_this.isFiltered && !eventArgs.preventDefaultAction) {\n                _this.searchList = true;\n                _this.filterAction(_this.dataSource, null, _this.fields);\n            }\n        });\n    };\n    /**\n     * To filter the data from given data source by using query\n     *\n     * @param  {Object[] | DataManager } dataSource - Set the data source to filter.\n     * @param  {Query} query - Specify the query to filter the data.\n     * @param  {FieldSettingsModel} fields - Specify the fields to map the column in the data table.\n     * @returns {void}\n\n     */\n    AutoComplete.prototype.filter = function (dataSource, query, fields) {\n        this.isFiltered = true;\n        this.filterAction(dataSource, query, fields);\n    };\n    AutoComplete.prototype.filterAction = function (dataSource, query, fields) {\n        this.beforePopupOpen = true;\n        if (this.queryString !== '' && (this.queryString.length >= this.minLength)) {\n            this.resetList(dataSource, fields, query);\n        }\n        else {\n            this.hidePopup();\n            this.beforePopupOpen = false;\n        }\n        this.renderReactTemplates();\n    };\n    AutoComplete.prototype.clearAll = function (e, property) {\n        if (isNullOrUndefined(property) || (!isNullOrUndefined(property) && isNullOrUndefined(property.dataSource))) {\n            _super.prototype.clearAll.call(this, e);\n        }\n        if (this.beforePopupOpen) {\n            this.hidePopup();\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    AutoComplete.prototype.onActionComplete = function (ulElement, list, e, isUpdated) {\n        this.fixedHeaderElement = null;\n        _super.prototype.onActionComplete.call(this, ulElement, list, e);\n        var item = this.list.querySelector('.' + dropDownListClasses.li);\n        if (!isNullOrUndefined(item)) {\n            removeClass([item], dropDownListClasses.focus);\n        }\n        this.postBackAction();\n    };\n    AutoComplete.prototype.postBackAction = function () {\n        if (this.autofill && !isNullOrUndefined(this.liCollections[0]) && this.searchList) {\n            var items = [this.liCollections[0]];\n            var searchItem = Search(this.inputElement.value, items, 'StartsWith', this.ignoreCase);\n            this.searchList = false;\n            if (!isNullOrUndefined(searchItem.item)) {\n                _super.prototype.setAutoFill.call(this, this.liCollections[0], true);\n            }\n        }\n    };\n    AutoComplete.prototype.setSelection = function (li, e) {\n        if (!this.isValidLI(li)) {\n            return;\n        }\n        if (!isNullOrUndefined(e) && e.type === 'keydown' && e.action !== 'enter'\n            && e.action !== 'tab' && this.isValidLI(li)) {\n            var value = this.getFormattedValue(li.getAttribute('data-value'));\n            this.activeIndex = this.getIndexByValue(value);\n            this.setHoverList(li);\n            this.selectedLI = li;\n            this.setScrollPosition(e);\n            if (this.autofill && this.isPopupOpen) {\n                this.preventAutoFill = false;\n                _super.prototype.setAutoFill.call(this, li);\n            }\n            attributes(this.inputElement, { 'aria-activedescendant': this.selectedLI ? this.selectedLI.id : null });\n        }\n        else {\n            _super.prototype.setSelection.call(this, li, e);\n        }\n    };\n    AutoComplete.prototype.listOption = function (dataSource, fieldsSettings) {\n        var _this = this;\n        var fields = _super.prototype.listOption.call(this, dataSource, fieldsSettings);\n        if (isNullOrUndefined(fields.itemCreated)) {\n            fields.itemCreated = function (e) {\n                if (_this.highlight) {\n                    if (_this.element.tagName === _this.getNgDirective() && _this.itemTemplate) {\n                        setTimeout(function () {\n                            highlightSearch(e.item, _this.queryString, _this.ignoreCase, _this.filterType);\n                        }, 0);\n                    }\n                    else {\n                        highlightSearch(e.item, _this.queryString, _this.ignoreCase, _this.filterType);\n                    }\n                }\n            };\n        }\n        else {\n            var itemCreated_1 = fields.itemCreated;\n            fields.itemCreated = function (e) {\n                if (_this.highlight) {\n                    highlightSearch(e.item, _this.queryString, _this.ignoreCase, _this.filterType);\n                }\n                itemCreated_1.apply(_this, [e]);\n            };\n        }\n        return fields;\n    };\n    AutoComplete.prototype.isFiltering = function () {\n        return true;\n    };\n    AutoComplete.prototype.renderPopup = function () {\n        this.list.scrollTop = 0;\n        _super.prototype.renderPopup.call(this);\n    };\n    AutoComplete.prototype.isEditTextBox = function () {\n        return true && this.inputElement.value.trim() !== '';\n    };\n    AutoComplete.prototype.isPopupButton = function () {\n        return this.showPopupButton;\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    AutoComplete.prototype.isSelectFocusItem = function (element) {\n        return false;\n    };\n    /**\n     * Search the entered text and show it in the suggestion list if available.\n     *\n     * @returns {void}\n\n     */\n    AutoComplete.prototype.showPopup = function () {\n        if (!this.enabled) {\n            return;\n        }\n        if (this.beforePopupOpen) {\n            this.refreshPopup();\n            return;\n        }\n        this.beforePopupOpen = true;\n        this.preventAutoFill = true;\n        if (isNullOrUndefined(this.list)) {\n            this.renderList();\n        }\n        else {\n            this.resetList(this.dataSource, this.fields);\n        }\n    };\n    /**\n     * Hides the popup if it is in open state.\n     *\n     * @returns {void}\n     */\n    AutoComplete.prototype.hidePopup = function () {\n        _super.prototype.hidePopup.call(this);\n        this.activeIndex = -1;\n    };\n    /**\n     * Dynamically change the value of properties.\n     *\n     * @param {AutoCompleteModel} newProp - Returns the dynamic property value of the component.\n     * @param {AutoCompleteModel} oldProp - Returns the previous property value of the component.\n     * @private\n     * @returns {void}\n     */\n    AutoComplete.prototype.onPropertyChanged = function (newProp, oldProp) {\n        if (this.getModuleName() === 'autocomplete') {\n            this.setUpdateInitial(['fields', 'query', 'dataSource'], newProp);\n        }\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'showPopupButton':\n                    if (this.showPopupButton) {\n                        var button = Input.appendSpan(dropDownListClasses.icon, this.inputWrapper.container, this.createElement);\n                        this.inputWrapper.buttons[0] = button;\n                        if (this.inputWrapper && this.inputWrapper.buttons && this.inputWrapper.buttons[0]) {\n                            EventHandler.add(this.inputWrapper.buttons[0], 'click', this.dropDownClick, this);\n                        }\n                    }\n                    else {\n                        detach(this.inputWrapper.buttons[0]);\n                        this.inputWrapper.buttons[0] = null;\n                    }\n                    break;\n                default: {\n                    // eslint-disable-next-line max-len\n                    var atcProps = this.getPropObject(prop, newProp, oldProp);\n                    _super.prototype.onPropertyChanged.call(this, atcProps.newProperty, atcProps.oldProperty);\n                    break;\n                }\n            }\n        }\n    };\n    AutoComplete.prototype.renderHightSearch = function () {\n        if (this.highlight) {\n            for (var i = 0; i < this.liCollections.length; i++) {\n                var isHighlight = this.ulElement.querySelector('.e-active');\n                if (!isHighlight) {\n                    revertHighlightSearch(this.liCollections[i]);\n                    highlightSearch(this.liCollections[i], this.queryString, this.ignoreCase, this.filterType);\n                }\n            }\n        }\n    };\n    /**\n     * Return the module name of this component.\n     *\n     * @private\n     * @returns {string} Return the module name of this component.\n     */\n    AutoComplete.prototype.getModuleName = function () {\n        return 'autocomplete';\n    };\n    /**\n     * To initialize the control rendering\n     *\n     * @private\n     * @returns {void}\n     */\n    AutoComplete.prototype.render = function () {\n        _super.prototype.render.call(this);\n    };\n    __decorate([\n        Complex({ value: null, iconCss: null, groupBy: null }, FieldSettings)\n    ], AutoComplete.prototype, \"fields\", void 0);\n    __decorate([\n        Property(true)\n    ], AutoComplete.prototype, \"ignoreCase\", void 0);\n    __decorate([\n        Property(false)\n    ], AutoComplete.prototype, \"showPopupButton\", void 0);\n    __decorate([\n        Property(false)\n    ], AutoComplete.prototype, \"highlight\", void 0);\n    __decorate([\n        Property(20)\n    ], AutoComplete.prototype, \"suggestionCount\", void 0);\n    __decorate([\n        Property({})\n    ], AutoComplete.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Property(null)\n    ], AutoComplete.prototype, \"query\", void 0);\n    __decorate([\n        Property(1)\n    ], AutoComplete.prototype, \"minLength\", void 0);\n    __decorate([\n        Property('Contains')\n    ], AutoComplete.prototype, \"filterType\", void 0);\n    __decorate([\n        Event()\n    ], AutoComplete.prototype, \"filtering\", void 0);\n    __decorate([\n        Property(null)\n    ], AutoComplete.prototype, \"index\", void 0);\n    __decorate([\n        Property('Never')\n    ], AutoComplete.prototype, \"floatLabelType\", void 0);\n    __decorate([\n        Property(null)\n    ], AutoComplete.prototype, \"valueTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], AutoComplete.prototype, \"filterBarPlaceholder\", void 0);\n    __decorate([\n        Property(false)\n    ], AutoComplete.prototype, \"allowFiltering\", void 0);\n    __decorate([\n        Property(null)\n    ], AutoComplete.prototype, \"text\", void 0);\n    AutoComplete = __decorate([\n        NotifyPropertyChanges\n    ], AutoComplete);\n    return AutoComplete;\n}(ComboBox));\nexport { AutoComplete };\n","import { AutoComplete } from '@syncfusion/ej2-dropdowns';\nimport { DataManager, Query } from '@syncfusion/ej2-data';\nimport { Browser, isNullOrUndefined, extend, getValue } from '@syncfusion/ej2-base';\nimport { getZIndexCalcualtion, eventPromise } from '../base/util';\nimport * as events from '../base/constant';\nimport * as literals from '../base/string-literals';\n/**\n * `string filterui` render string column.\n *\n * @hidden\n */\nvar StringFilterUI = /** @class */ (function () {\n    function StringFilterUI(parent, serviceLocator, filterSettings) {\n        this.parent = parent;\n        this.serLocator = serviceLocator;\n        this.filterSettings = filterSettings;\n        if (this.parent) {\n            this.parent.on(events.filterMenuClose, this.destroy, this);\n            this.parent.on(events.destroy, this.destroy, this);\n        }\n    }\n    StringFilterUI.prototype.create = function (args) {\n        this.instance = this.parent.createElement('input', { className: 'e-flmenu-input', id: 'strui-' + args.column.uid });\n        args.target.appendChild(this.instance);\n        this.dialogObj = args.dialogObj;\n        this.actObj = this.getAutoCompleteOptions(args);\n        this.actObj.appendTo(this.instance);\n    };\n    StringFilterUI.prototype.getAutoCompleteOptions = function (args) {\n        var isForeignColumn = args.column.isForeignColumn();\n        var foreignColumnQuery;\n        if (isForeignColumn) {\n            foreignColumnQuery = new Query();\n            foreignColumnQuery.params = this.parent.query.params;\n        }\n        var dataSource = isForeignColumn ? args.column.dataSource : this.parent.dataSource;\n        var fields = { value: isForeignColumn ? args.column.foreignKeyValue : args.column.field };\n        var autoComplete = new AutoComplete(extend({\n            dataSource: dataSource instanceof DataManager ? dataSource : new DataManager(dataSource),\n            fields: fields,\n            locale: this.parent.locale,\n            enableRtl: this.parent.enableRtl,\n            query: isForeignColumn ? foreignColumnQuery : this.parent.query.clone(),\n            sortOrder: 'Ascending',\n            cssClass: 'e-popup-flmenu',\n            autofill: true,\n            placeholder: args.localizeText.getConstant('EnterValue')\n        }, args.column.filter.params));\n        this.acFocus = this.focus(autoComplete, args);\n        this.acComplete = this.actionComplete(autoComplete);\n        this.acOpen = this.openPopup.bind(this);\n        autoComplete.addEventListener(literals.focus, this.acFocus);\n        autoComplete.addEventListener(literals.open, this.acOpen);\n        autoComplete.addEventListener(events.actionComplete, this.acComplete);\n        if (dataSource && 'result' in dataSource) {\n            var query = this.parent.getQuery ? this.parent.getQuery().clone() : new Query();\n            var defObj = eventPromise({ requestType: 'stringfilterrequest' }, query);\n            this.parent.trigger(events.dataStateChange, defObj.state);\n            var def = defObj.deffered;\n            def.promise.then(function (e) {\n                autoComplete.dataSource = new DataManager(e);\n            });\n        }\n        return autoComplete;\n    };\n    StringFilterUI.prototype.write = function (args) {\n        if (args.filteredValue !== '' && !isNullOrUndefined(args.filteredValue)) {\n            var struiObj = document.querySelector('#strui-' + args.column.uid).ej2_instances[0];\n            struiObj.value = args.filteredValue;\n        }\n    };\n    StringFilterUI.prototype.read = function (element, column, filterOptr, filterObj) {\n        var actuiObj = document.querySelector('#strui-' + column.uid).ej2_instances[0];\n        if (Browser.isDevice) {\n            actuiObj.hidePopup();\n            actuiObj.focusOut();\n        }\n        var filterValue = actuiObj.value;\n        if (isNullOrUndefined(filterValue) || filterValue === '') {\n            filterValue = null;\n        }\n        filterObj.filterByColumn(column.field, filterOptr, filterValue, 'and', this.parent.filterSettings.enableCaseSensitivity);\n    };\n    StringFilterUI.prototype.openPopup = function (args) {\n        getZIndexCalcualtion(args, this.dialogObj);\n    };\n    StringFilterUI.prototype.focus = function (actObj, args) {\n        return function () {\n            actObj.filterType = args.getOptrInstance.getFlOperator();\n        };\n    };\n    StringFilterUI.prototype.actionComplete = function (actObj) {\n        return function (e) {\n            e.result = e.result.filter(function (obj, index, arr) {\n                return arr.map(function (mapObj) {\n                    return (getValue(actObj.fields.value, mapObj));\n                }).indexOf(getValue((actObj.fields.value), obj)) === index;\n            });\n        };\n    };\n    StringFilterUI.prototype.destroy = function () {\n        if (!this.actObj || this.actObj.isDestroyed) {\n            return;\n        }\n        this.actObj.removeEventListener(literals.focus, this.acFocus);\n        this.actObj.removeEventListener(literals.open, this.acOpen);\n        this.actObj.removeEventListener(events.actionComplete, this.acComplete);\n        this.actObj.destroy();\n        this.parent.off(events.filterMenuClose, this.destroy);\n        this.parent.off(events.destroy, this.destroy);\n    };\n    return StringFilterUI;\n}());\nexport { StringFilterUI };\n","import { NumericTextBox } from '@syncfusion/ej2-inputs';\nimport { extend, isUndefined } from '@syncfusion/ej2-base';\nimport * as events from '../base/constant';\n/**\n * `numberfilterui` render number column.\n *\n * @hidden\n */\nvar NumberFilterUI = /** @class */ (function () {\n    function NumberFilterUI(parent, serviceLocator, filterSettings) {\n        this.filterSettings = filterSettings;\n        this.parent = parent;\n        this.serviceLocator = serviceLocator;\n        if (this.parent) {\n            this.parent.on(events.filterMenuClose, this.destroy, this);\n            this.parent.on(events.destroy, this.destroy, this);\n        }\n    }\n    NumberFilterUI.prototype.keyEventHandler = function (args) {\n        if (args.keyCode === 13 || args.keyCode === 9) {\n            var evt = document.createEvent('HTMLEvents');\n            evt.initEvent('change', false, true);\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            this.dispatchEvent(evt);\n        }\n    };\n    NumberFilterUI.prototype.create = function (args) {\n        this.instance = this.parent.createElement('input', { className: 'e-flmenu-input', id: 'numberui-' + args.column.uid });\n        args.target.appendChild(this.instance);\n        this.numericTxtObj = new NumericTextBox(extend({\n            format: typeof (args.column.format) === 'string' || isUndefined(args.column.format) ? args.column.format :\n                args.column.format.format,\n            locale: this.parent.locale,\n            cssClass: 'e-popup-flmenu',\n            placeholder: args.localizeText.getConstant('EnterValue'),\n            enableRtl: this.parent.enableRtl\n        }, args.column.filter.params));\n        this.numericTxtObj.appendTo(this.instance);\n    };\n    NumberFilterUI.prototype.write = function (args) {\n        var numberuiObj = document.querySelector('#numberui-' + args.column.uid).ej2_instances[0];\n        numberuiObj.element.addEventListener('keydown', this.keyEventHandler);\n        numberuiObj.value = args.filteredValue;\n    };\n    NumberFilterUI.prototype.read = function (element, column, filterOptr, filterObj) {\n        var numberuiObj = document.querySelector('#numberui-' + column.uid).ej2_instances[0];\n        var filterValue = numberuiObj.value;\n        filterObj.filterByColumn(column.field, filterOptr, filterValue, 'and', true);\n    };\n    NumberFilterUI.prototype.destroy = function () {\n        if (!this.numericTxtObj || this.numericTxtObj.isDestroyed) {\n            return;\n        }\n        this.numericTxtObj.destroy();\n        this.parent.off(events.filterMenuClose, this.destroy);\n        this.parent.off(events.destroy, this.destroy);\n    };\n    return NumberFilterUI;\n}());\nexport { NumberFilterUI };\n","import { getZIndexCalcualtion } from '../base/util';\nimport { Query, DataManager, DataUtil } from '@syncfusion/ej2-data';\nimport { DropDownList } from '@syncfusion/ej2-dropdowns';\nimport { isNullOrUndefined, extend } from '@syncfusion/ej2-base';\nimport * as events from '../base/constant';\nimport * as literals from '../base/string-literals';\n/**\n * `boolfilterui` render boolean column.\n *\n * @hidden\n */\nvar BooleanFilterUI = /** @class */ (function () {\n    function BooleanFilterUI(parent, serviceLocator, filterSettings) {\n        this.parent = parent;\n        this.serviceLocator = serviceLocator;\n        this.filterSettings = filterSettings;\n        if (this.parent) {\n            this.parent.on(events.filterMenuClose, this.destroy, this);\n            this.parent.on(events.destroy, this.destroy, this);\n        }\n    }\n    BooleanFilterUI.prototype.create = function (args) {\n        var isForeignColumn = args.column.isForeignColumn();\n        var dataSource = isForeignColumn ? args.column.dataSource : this.parent.dataSource;\n        var fields = isForeignColumn ? args.column.foreignKeyValue : args.column.field;\n        this.elem = this.parent.createElement('input', { className: 'e-flmenu-input', id: 'bool-ui-' + args.column.uid });\n        args.target.appendChild(this.elem);\n        this.dialogObj = args.dialogObj;\n        this.dropInstance = new DropDownList(extend({\n            dataSource: dataSource instanceof DataManager ?\n                dataSource : new DataManager(dataSource),\n            query: new Query().select(fields),\n            fields: { text: fields, value: fields },\n            placeholder: args.localizeText.getConstant('SelectValue'),\n            cssClass: 'e-popup-flmenu',\n            locale: this.parent.locale,\n            enableRtl: this.parent.enableRtl\n        }, args.column.filter.params));\n        this.ddOpen = this.openPopup.bind(this);\n        this.ddComplete = this.actionComplete(fields);\n        this.dropInstance.addEventListener(literals.open, this.ddOpen);\n        this.dropInstance.addEventListener(events.actionComplete, this.ddComplete);\n        this.dropInstance.appendTo(this.elem);\n    };\n    BooleanFilterUI.prototype.write = function (args) {\n        var drpuiObj = document.querySelector('#bool-ui-' + args.column.uid).ej2_instances[0];\n        if (!isNullOrUndefined(args.filteredValue)) {\n            drpuiObj.text = args.filteredValue;\n        }\n    };\n    BooleanFilterUI.prototype.read = function (element, column, filterOptr, filterObj) {\n        var drpuiObj = document.querySelector('#bool-ui-' + column.uid).ej2_instances[0];\n        var filterValue = drpuiObj.value;\n        filterObj.filterByColumn(column.field, filterOptr, filterValue, 'and', false);\n    };\n    BooleanFilterUI.prototype.openPopup = function (args) {\n        getZIndexCalcualtion(args, this.dialogObj);\n    };\n    BooleanFilterUI.prototype.actionComplete = function (fields) {\n        return function (e) {\n            e.result = DataUtil.distinct(e.result, fields, true);\n        };\n    };\n    BooleanFilterUI.prototype.destroy = function () {\n        if (!this.dropInstance || this.dropInstance.isDestroyed) {\n            return;\n        }\n        this.dropInstance.removeEventListener(literals.open, this.ddOpen);\n        this.dropInstance.removeEventListener(events.actionComplete, this.ddComplete);\n        this.dropInstance.destroy();\n        this.parent.off(events.filterMenuClose, this.destroy);\n        this.parent.off(events.destroy, this.destroy);\n    };\n    return BooleanFilterUI;\n}());\nexport { BooleanFilterUI };\n","import { DatePicker, DateTimePicker } from '@syncfusion/ej2-calendars';\nimport { isNullOrUndefined, extend } from '@syncfusion/ej2-base';\nimport { getCustomDateFormat } from '../base/util';\nimport * as events from '../base/constant';\nimport * as literals from '../base/string-literals';\n/**\n * `datefilterui` render date column.\n *\n * @hidden\n */\nvar DateFilterUI = /** @class */ (function () {\n    function DateFilterUI(parent, serviceLocator, filterSettings) {\n        this.dpOpen = this.openPopup.bind(this);\n        this.parent = parent;\n        this.locator = serviceLocator;\n        this.fltrSettings = filterSettings;\n        if (this.parent) {\n            this.parent.on(events.filterMenuClose, this.destroy, this);\n            this.parent.on(events.destroy, this.destroy, this);\n        }\n    }\n    DateFilterUI.prototype.create = function (args) {\n        var format = getCustomDateFormat(args.column.format, args.column.type);\n        this.dialogObj = args.dialogObj;\n        this.inputElem = this.parent.createElement('input', { className: 'e-flmenu-input', id: 'dateui-' + args.column.uid });\n        args.target.appendChild(this.inputElem);\n        if (args.column.type === 'date') {\n            this.datePickerObj = new DatePicker(extend({\n                format: format,\n                cssClass: 'e-popup-flmenu',\n                placeholder: args.localizeText.getConstant('ChooseDate'),\n                width: '100%',\n                locale: this.parent.locale,\n                enableRtl: this.parent.enableRtl\n            }, args.column.filter.params));\n        }\n        else if (args.column.type === 'datetime') {\n            this.datePickerObj = new DateTimePicker(extend({\n                format: format,\n                cssClass: 'e-popup-flmenu',\n                placeholder: args.localizeText.getConstant('ChooseDate'),\n                width: '100%',\n                locale: this.parent.locale,\n                enableRtl: this.parent.enableRtl\n            }, args.column.filter.params));\n        }\n        this.datePickerObj.addEventListener(literals.open, this.dpOpen);\n        this.datePickerObj.appendTo(this.inputElem);\n    };\n    DateFilterUI.prototype.write = function (args) {\n        var dateuiObj = document.querySelector('#dateui-' + args.column.uid).ej2_instances[0];\n        dateuiObj.value = !isNullOrUndefined(args.filteredValue) ? new Date(args.filteredValue) : null;\n    };\n    DateFilterUI.prototype.read = function (element, column, filterOptr, filterObj) {\n        var dateuiObj = document.querySelector('#dateui-' + column.uid).ej2_instances[0];\n        var filterValue = dateuiObj.value;\n        filterValue = isNullOrUndefined(filterValue) ? null : filterValue;\n        filterObj.filterByColumn(column.field, filterOptr, filterValue, 'and', true);\n    };\n    DateFilterUI.prototype.openPopup = function (args) {\n        args.popup.element.style.zIndex = (this.dialogObj.zIndex + 1).toString();\n    };\n    DateFilterUI.prototype.destroy = function () {\n        this.parent.off(events.filterMenuClose, this.destroy);\n        this.parent.off(events.destroy, this.destroy);\n        if (isNullOrUndefined(this.datePickerObj) || this.datePickerObj.isDestroyed) {\n            return;\n        }\n        this.datePickerObj.removeEventListener(literals.open, this.dpOpen);\n        this.datePickerObj.destroy();\n    };\n    return DateFilterUI;\n}());\nexport { DateFilterUI };\n","import { isNullOrUndefined, getValue, remove } from '@syncfusion/ej2-base';\nimport { Browser } from '@syncfusion/ej2-base';\nimport { Dialog } from '@syncfusion/ej2-popups';\nimport { FlMenuOptrUI } from './filter-menu-operator';\nimport { StringFilterUI } from './string-filter-ui';\nimport { NumberFilterUI } from './number-filter-ui';\nimport { BooleanFilterUI } from './boolean-filter-ui';\nimport { DateFilterUI } from './date-filter-ui';\nimport { getFilterMenuPostion, parentsUntil, appendChildren, clearReactVueTemplates } from '../base/util';\nimport * as events from '../base/constant';\nimport { CheckBoxFilterBase } from '../common/checkbox-filter-base';\n/**\n * `filter menu` render boolean column.\n *\n * @hidden\n */\nvar FilterMenuRenderer = /** @class */ (function () {\n    function FilterMenuRenderer(parent, filterSettings, serviceLocator, customFltrOperators, fltrObj) {\n        this.isDialogOpen = false;\n        this.maxHeight = '350px';\n        this.isMenuCheck = false;\n        this.colTypes = {\n            'string': StringFilterUI, 'number': NumberFilterUI, 'date': DateFilterUI, 'boolean': BooleanFilterUI, 'datetime': DateFilterUI\n        };\n        this.parent = parent;\n        this.filterSettings = filterSettings;\n        this.serviceLocator = serviceLocator;\n        this.customFilterOperators = customFltrOperators;\n        this.filterObj = fltrObj;\n        this.flMuiObj = new FlMenuOptrUI(this.parent, this.customFilterOperators, this.serviceLocator);\n        this.l10n = this.serviceLocator.getService('localization');\n        this.menuFilterBase = new CheckBoxFilterBase(parent);\n    }\n    FilterMenuRenderer.prototype.clearCustomFilter = function (col) {\n        this.clearBtnClick(col);\n    };\n    FilterMenuRenderer.prototype.applyCustomFilter = function (args) {\n        this.filterBtnClick(args.col);\n    };\n    FilterMenuRenderer.prototype.openDialog = function (args) {\n        this.options = args;\n        this.col = this.parent.getColumnByField(args.field);\n        if (isNullOrUndefined(this.col.filter) || (isNullOrUndefined(this.col.filter.type) || this.col.filter.type === 'Menu')) { ///\n            this.renderDlgContent(args.target, this.col);\n        }\n    };\n    FilterMenuRenderer.prototype.closeDialog = function (target) {\n        if (!this.dlgObj) {\n            return;\n        }\n        if (this.parent.isReact || this.parent.isVue) {\n            clearReactVueTemplates(this.parent, ['filterTemplate']);\n        }\n        var elem = document.getElementById(this.dlgObj.element.id);\n        if (this.dlgObj && !this.dlgObj.isDestroyed && elem) {\n            var argument = { cancel: false, column: this.col, target: target, element: elem };\n            this.parent.notify(events.filterMenuClose, argument);\n            if (argument.cancel) {\n                return;\n            }\n            this.isDialogOpen = false;\n            if (this.isMenuCheck) {\n                this.menuFilterBase.unWireEvents();\n                this.parent.off(events.cBoxFltrComplete, this.actionComplete);\n                this.isMenuCheck = false;\n            }\n            this.dlgObj.destroy();\n            remove(elem);\n        }\n        this.parent.notify(events.filterDialogClose, {});\n    };\n    FilterMenuRenderer.prototype.renderDlgContent = function (target, column) {\n        var args = {\n            requestType: events.filterBeforeOpen,\n            columnName: column.field, columnType: column.type\n        };\n        var filterModel = 'filterModel';\n        args[filterModel] = this;\n        this.parent.trigger(events.actionBegin, args);\n        var mainDiv = this.parent.createElement('div', { className: 'e-flmenu-maindiv', id: column.uid + '-flmenu' });\n        this.dlgDiv = this.parent.createElement('div', { className: 'e-flmenu', id: column.uid + '-flmdlg' });\n        this.dlgDiv.setAttribute('aria-label', this.l10n.getConstant('FilterMenuDialogARIA'));\n        if (this.parent.enableAdaptiveUI) {\n            var responsiveCnt = document.querySelector('.e-resfilter > .e-dlg-content > .e-mainfilterdiv');\n            responsiveCnt.appendChild(this.dlgDiv);\n        }\n        else {\n            this.parent.element.appendChild(this.dlgDiv);\n        }\n        this.dlgObj = new Dialog({\n            showCloseIcon: false,\n            closeOnEscape: false,\n            locale: this.parent.locale,\n            visible: false,\n            enableRtl: this.parent.enableRtl,\n            created: this.dialogCreated.bind(this, target, column),\n            position: this.parent.element.classList.contains('e-device') ? { X: 'center', Y: 'center' } : { X: '', Y: '' },\n            target: this.parent.element.classList.contains('e-device') ? document.body : this.parent.element,\n            buttons: [{\n                    click: this.filterBtnClick.bind(this, column),\n                    buttonModel: {\n                        content: this.l10n.getConstant('FilterButton'), isPrimary: true, cssClass: 'e-flmenu-okbtn'\n                    }\n                },\n                {\n                    click: this.clearBtnClick.bind(this, column),\n                    buttonModel: { content: this.l10n.getConstant('ClearButton'), cssClass: 'e-flmenu-cancelbtn' }\n                }],\n            content: mainDiv,\n            width: (!isNullOrUndefined(parentsUntil(target, 'e-bigger'))) || this.parent.element.classList.contains('e-device') ? 260 : 250,\n            animationSettings: { effect: 'None' },\n            cssClass: 'e-filter-popup'\n        });\n        var isStringTemplate = 'isStringTemplate';\n        this.dlgObj[isStringTemplate] = true;\n        this.renderResponsiveDialog();\n        this.dlgObj.appendTo(this.dlgDiv);\n    };\n    FilterMenuRenderer.prototype.renderResponsiveDialog = function () {\n        var gObj = this.parent;\n        if (gObj.enableAdaptiveUI) {\n            this.dlgObj.position = { X: '', Y: '' };\n            this.dlgObj.target = document.querySelector('.e-resfilter > .e-dlg-content > .e-mainfilterdiv');\n            this.dlgObj.width = '100%';\n            this.dlgObj.isModal = false;\n            this.dlgObj.buttons = [{}];\n        }\n    };\n    FilterMenuRenderer.prototype.dialogCreated = function (target, column) {\n        if (!Browser.isDevice && target) {\n            getFilterMenuPostion(target, this.dlgObj);\n        }\n        this.renderFilterUI(target, column);\n        if (column.showColumnMenu) {\n            this.parent.notify(events.filterDialogCreated, {});\n        }\n        if (this.parent.enableAdaptiveUI) {\n            this.dlgObj.element.style.left = '0px';\n            this.dlgObj.element.style.maxHeight = 'none';\n        }\n        else {\n            this.dlgObj.element.style.maxHeight = this.maxHeight;\n        }\n        this.dlgObj.show();\n        if (!column.filterTemplate) {\n            this.writeMethod(column, this.dlgObj.element.querySelector('#' + column.uid + '-flmenu'));\n        }\n        var args = {\n            requestType: events.filterAfterOpen,\n            columnName: column.field, columnType: column.type\n        };\n        var filterModel = 'filterModel';\n        args[filterModel] = this;\n        this.isDialogOpen = true;\n        if (!this.isMenuCheck) {\n            this.parent.trigger(events.actionComplete, args);\n        }\n    };\n    FilterMenuRenderer.prototype.renderFilterUI = function (target, col) {\n        var dlgConetntEle = this.dlgObj.element.querySelector('.e-flmenu-maindiv');\n        this.parent.log('column_type_missing', { column: col });\n        this.renderOperatorUI(dlgConetntEle, target, col);\n        this.renderFlValueUI(dlgConetntEle, target, col);\n    };\n    FilterMenuRenderer.prototype.renderOperatorUI = function (dlgConetntEle, target, column) {\n        this.flMuiObj.renderOperatorUI(dlgConetntEle, target, column, this.dlgObj, this.filterObj.menuOperator);\n    };\n    FilterMenuRenderer.prototype.renderFlValueUI = function (dlgConetntEle, target, column) {\n        var valueDiv = this.parent.createElement('div', { className: 'e-flmenu-valuediv' });\n        var fObj = this.filterObj;\n        dlgConetntEle.appendChild(valueDiv);\n        var instanceofFilterUI = new this.colTypes[column.type](this.parent, this.serviceLocator, this.parent.filterSettings);\n        if (column.filterTemplate) {\n            var fltrData = {};\n            var valueInString = 'value';\n            fltrData[column.field] = fltrData[valueInString] = fObj.values[column.field];\n            if (column.foreignKeyValue) {\n                fltrData[column.foreignKeyValue] = fObj.values[column.field];\n                fltrData[column.field] = undefined;\n            }\n            var col = 'column';\n            fltrData[col] = column;\n            var isReactCompiler = this.parent.isReact && typeof (column.filterTemplate) !== 'string';\n            var tempID = this.parent.element.id + column.uid + 'filterTemplate';\n            if (isReactCompiler) {\n                column.getFilterTemplate()(fltrData, this.parent, 'filterTemplate', tempID, null, null, valueDiv);\n                this.parent.renderTemplates();\n            }\n            else {\n                var compElement = column.getFilterTemplate()(fltrData, this.parent, 'filterTemplate', tempID);\n                appendChildren(valueDiv, compElement);\n            }\n            if (this.isMenuCheck) {\n                this.menuFilterBase.cBox = this.dlgObj.element.querySelector('.e-checkboxlist.e-fields');\n                this.menuFilterBase.wireEvents();\n                this.parent.on(events.cBoxFltrComplete, this.actionComplete, this);\n                this.menuFilterBase.getAllData();\n            }\n        }\n        else {\n            if (!isNullOrUndefined(column.filter) && !isNullOrUndefined(column.filter.ui)\n                && !isNullOrUndefined(column.filter.ui.create)) {\n                var temp = column.filter.ui.create;\n                if (typeof temp === 'string') {\n                    temp = getValue(temp, window);\n                }\n                temp({\n                    column: column, target: valueDiv,\n                    getOptrInstance: this.flMuiObj, dialogObj: this.dlgObj\n                });\n            }\n            else {\n                instanceofFilterUI.create({\n                    column: column, target: valueDiv,\n                    getOptrInstance: this.flMuiObj, localizeText: this.l10n, dialogObj: this.dlgObj\n                });\n            }\n        }\n    };\n    FilterMenuRenderer.prototype.writeMethod = function (col, dlgContentEle) {\n        var flValue;\n        var target = dlgContentEle.querySelector('.e-flmenu-valinput');\n        var instanceofFilterUI = new this.colTypes[col.type](this.parent, this.serviceLocator, this.parent.filterSettings);\n        var columns = this.filterSettings.columns;\n        for (var _i = 0, columns_1 = columns; _i < columns_1.length; _i++) {\n            var column = columns_1[_i];\n            if (col.uid === column.uid) {\n                flValue = column.value;\n            }\n        }\n        if (!isNullOrUndefined(col.filter) && !isNullOrUndefined(col.filter.ui)\n            && !isNullOrUndefined(col.filter.ui.write)) {\n            var temp = col.filter.ui.write;\n            if (typeof temp === 'string') {\n                temp = getValue(temp, window);\n            }\n            temp({ column: col, target: target, parent: this.parent, filteredValue: flValue });\n        }\n        else {\n            instanceofFilterUI.write({ column: col, target: target, parent: this.parent, filteredValue: flValue });\n        }\n    };\n    FilterMenuRenderer.prototype.filterBtnClick = function (col) {\n        var flValue;\n        var targ = this.dlgObj.element.querySelector('.e-flmenu-valuediv input');\n        var flOptrValue = this.flMuiObj.getFlOperator();\n        var instanceofFilterUI = new this.colTypes[col.type](this.parent, this.serviceLocator, this.parent.filterSettings);\n        if (col.filterTemplate) {\n            var element = this.dlgDiv.querySelector('.e-flmenu-valuediv');\n            var fltrValue = void 0;\n            if (element.children[0].value) {\n                fltrValue = element.children[0].value;\n            }\n            else {\n                if (!isNullOrUndefined(element.children[0].ej2_instances)) {\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    fltrValue = (this.parent.isAngular ? element.children[0] :\n                        element.querySelector('input')).ej2_instances[0].value;\n                }\n                else {\n                    var eControl = element.querySelector('.e-control');\n                    fltrValue = col.type === 'boolean' ? eControl.checked :\n                        !isNullOrUndefined(eControl.ej2_instances) ?\n                            eControl.ej2_instances[0].value :\n                            eControl.value;\n                }\n            }\n            this.filterObj.filterByColumn(col.field, flOptrValue, fltrValue);\n        }\n        else {\n            if (!isNullOrUndefined(col.filter) &&\n                !isNullOrUndefined(col.filter.ui) && !isNullOrUndefined(col.filter.ui.read)) {\n                var temp = col.filter.ui.read;\n                if (typeof temp === 'string') {\n                    temp = getValue(temp, window);\n                }\n                // eslint-disable-next-line\n                flValue = temp({ element: targ, column: col, operator: flOptrValue, fltrObj: this.filterObj });\n            }\n            else {\n                instanceofFilterUI.read(targ, col, flOptrValue, this.filterObj);\n            }\n        }\n        this.closeDialog();\n        if (this.parent.showColumnMenu) {\n            this.parent.notify(events.afterFilterColumnMenuClose, {});\n        }\n    };\n    FilterMenuRenderer.prototype.closeResponsiveDialog = function () {\n        this.closeDialog();\n    };\n    FilterMenuRenderer.prototype.clearBtnClick = function (column) {\n        this.filterObj.removeFilteredColsByField(column.field);\n        this.closeDialog();\n        var iconClass = this.parent.showColumnMenu && column.showColumnMenu ? '.e-columnmenu' : '.e-icon-filter';\n        var col = this.parent.element.querySelector('[e-mappinguid=\"' + column.uid + '\"]').parentElement;\n        var flIcon = col.querySelector(iconClass);\n        if (flIcon) {\n            flIcon.classList.remove('e-filtered');\n        }\n    };\n    FilterMenuRenderer.prototype.destroy = function () {\n        this.closeDialog();\n    };\n    /**\n     * @returns {FilterUI} returns the filterUI\n     * @hidden\n     */\n    FilterMenuRenderer.prototype.getFilterUIInfo = function () {\n        return { field: this.col.field, operator: this.flMuiObj.getFlOperator() };\n    };\n    FilterMenuRenderer.prototype.renderCheckBoxMenu = function () {\n        this.isMenuCheck = true;\n        this.menuFilterBase.updateModel(this.options);\n        this.menuFilterBase.getAndSetChkElem(this.options);\n        this.dlgObj.buttons = [{\n                click: this.menuFilterBase.btnClick.bind(this.menuFilterBase),\n                buttonModel: {\n                    content: this.menuFilterBase.getLocalizedLabel('FilterButton'),\n                    cssClass: 'e-primary', isPrimary: true\n                }\n            },\n            {\n                click: this.menuFilterBase.btnClick.bind(this.menuFilterBase),\n                buttonModel: { cssClass: 'e-flat', content: this.menuFilterBase.getLocalizedLabel('ClearButton') }\n            }];\n        this.menuFilterBase.dialogObj = this.dlgObj;\n        this.menuFilterBase.dlg = this.dlgObj.element;\n        this.menuFilterBase.dlg.classList.add('e-menucheckbox');\n        this.menuFilterBase.dlg.classList.remove('e-checkboxfilter');\n        this.maxHeight = '800px';\n        return this.menuFilterBase.sBox.innerHTML;\n    };\n    FilterMenuRenderer.prototype.actionComplete = function (args) {\n        if (this.isMenuCheck) {\n            this.parent.trigger(events.actionComplete, args);\n        }\n    };\n    return FilterMenuRenderer;\n}());\nexport { FilterMenuRenderer };\n","import * as events from '../base/constant';\nimport { isActionPrevent } from '../base/util';\nimport { CheckBoxFilterBase } from '../common/checkbox-filter-base';\n/**\n * @hidden\n * `CheckBoxFilter` module is used to handle filtering action.\n */\nvar CheckBoxFilter = /** @class */ (function () {\n    /**\n     * Constructor for checkbox filtering module\n     *\n     * @param {IGrid} parent - specifies the IGrid\n     * @param {FilterSettings} filterSettings - specifies the filtersettings\n     * @param {ServiceLocator} serviceLocator - specifies the ServiceLocator\n     * @hidden\n     */\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    function CheckBoxFilter(parent, filterSettings, serviceLocator) {\n        this.parent = parent;\n        this.isresetFocus = true;\n        this.checkBoxBase = new CheckBoxFilterBase(parent);\n        this.addEventListener();\n    }\n    /**\n     * To destroy the check box filter.\n     *\n     * @returns {void}\n     * @hidden\n     */\n    CheckBoxFilter.prototype.destroy = function () {\n        this.removeEventListener();\n        this.checkBoxBase.closeDialog();\n    };\n    CheckBoxFilter.prototype.openDialog = function (options) {\n        this.checkBoxBase.openDialog(options);\n        this.parent.log('column_type_missing', { column: options.column });\n    };\n    CheckBoxFilter.prototype.closeDialog = function () {\n        this.destroy();\n        if (this.isresetFocus) {\n            this.parent.notify(events.restoreFocus, {});\n        }\n    };\n    CheckBoxFilter.prototype.closeResponsiveDialog = function () {\n        this.checkBoxBase.closeDialog();\n    };\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} - returns the module name\n     * @private\n     */\n    CheckBoxFilter.prototype.getModuleName = function () {\n        return 'checkboxFilter';\n    };\n    CheckBoxFilter.prototype.actionBegin = function (args) {\n        this.parent.trigger(events.actionBegin, args);\n    };\n    CheckBoxFilter.prototype.actionComplete = function (args) {\n        this.parent.trigger(events.actionComplete, args);\n    };\n    CheckBoxFilter.prototype.actionPrevent = function (args) {\n        if (isActionPrevent(this.parent)) {\n            this.parent.notify(events.preventBatch, args);\n            args.cancel = true;\n        }\n    };\n    CheckBoxFilter.prototype.clearCustomFilter = function (col) {\n        this.checkBoxBase.clearFilter(col);\n    };\n    CheckBoxFilter.prototype.applyCustomFilter = function () {\n        this.checkBoxBase.fltrBtnHandler();\n        this.checkBoxBase.closeDialog();\n    };\n    CheckBoxFilter.prototype.addEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.on(events.cBoxFltrBegin, this.actionBegin, this);\n        this.parent.on(events.cBoxFltrComplete, this.actionComplete, this);\n        this.parent.on(events.fltrPrevent, this.actionPrevent, this);\n    };\n    CheckBoxFilter.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off(events.cBoxFltrBegin, this.actionBegin);\n        this.parent.off(events.cBoxFltrComplete, this.actionComplete);\n        this.parent.off(events.fltrPrevent, this.actionPrevent);\n    };\n    return CheckBoxFilter;\n}());\nexport { CheckBoxFilter };\n","import { select, detach } from '@syncfusion/ej2-base';\nimport { VScroll } from './v-scroll';\nimport { HScroll } from './h-scroll';\n/**\n * Used to add scroll in menu.\n *\n * @param {createElementType} createElement - Specifies the create element model\n * @param {HTMLElement} container - Specifies the element container\n * @param {HTMLElement} content - Specifies the content element\n * @param {string} scrollType - Specifies the scroll type\n * @param {boolean} enableRtl - Specifies the enable RTL property\n * @param {boolean} offset - Specifies the offset value\n * @returns {HTMLElement} - Element\n * @hidden\n */\nexport function addScrolling(createElement, container, content, scrollType, enableRtl, offset) {\n    var containerOffset;\n    var contentOffset;\n    var parentElem = container.parentElement;\n    if (scrollType === 'vscroll') {\n        containerOffset = offset || container.getBoundingClientRect().height;\n        contentOffset = content.getBoundingClientRect().height;\n    }\n    else {\n        containerOffset = container.getBoundingClientRect().width;\n        contentOffset = content.getBoundingClientRect().width;\n    }\n    if (containerOffset < contentOffset) {\n        return createScrollbar(createElement, container, content, scrollType, enableRtl, offset);\n    }\n    else if (parentElem) {\n        var width = parentElem.getBoundingClientRect().width;\n        if (width < containerOffset && scrollType === 'hscroll') {\n            contentOffset = width;\n            container.style.maxWidth = width + 'px';\n            return createScrollbar(createElement, container, content, scrollType, enableRtl, offset);\n        }\n        return content;\n    }\n    else {\n        return content;\n    }\n}\n/**\n * Used to create scroll bar in menu.\n *\n * @param {createElementType} createElement - Specifies the create element model\n * @param {HTMLElement} container - Specifies the element container\n * @param {HTMLElement} content - Specifies the content element\n * @param {string} scrollType - Specifies the scroll type\n * @param {boolean} enableRtl - Specifies the enable RTL property\n * @param {boolean} offset - Specifies the offset value\n * @returns {HTMLElement} - Element\n * @hidden\n */\nfunction createScrollbar(createElement, container, content, scrollType, enableRtl, offset) {\n    var scrollEle = createElement('div', { className: 'e-menu-' + scrollType });\n    container.appendChild(scrollEle);\n    scrollEle.appendChild(content);\n    if (offset) {\n        scrollEle.style.overflow = 'hidden';\n        scrollEle.style.height = offset + 'px';\n    }\n    else {\n        scrollEle.style.maxHeight = container.style.maxHeight;\n        container.style.overflow = 'hidden';\n    }\n    var scrollObj;\n    if (scrollType === 'vscroll') {\n        scrollObj = new VScroll({ enableRtl: enableRtl }, scrollEle);\n        scrollObj.scrollStep = select('.e-' + scrollType + '-bar', container).offsetHeight / 2;\n    }\n    else {\n        scrollObj = new HScroll({ enableRtl: enableRtl }, scrollEle);\n        scrollObj.scrollStep = select('.e-' + scrollType + '-bar', container).offsetWidth;\n    }\n    return scrollEle;\n}\n/**\n * Used to destroy the scroll option.\n *\n * @param {VScroll | HScroll} scrollObj - Specifies the scroller object\n * @param {Element} element - Specifies the element\n * @param {HTMLElement} skipEle - Specifies the skip  element\n * @returns {void}\n * @hidden\n */\nexport function destroyScroll(scrollObj, element, skipEle) {\n    if (scrollObj) {\n        var menu = select('.e-menu-parent', element);\n        if (menu) {\n            if (!skipEle || skipEle === menu) {\n                scrollObj.destroy();\n                element.parentElement.appendChild(menu);\n                detach(element);\n            }\n        }\n        else {\n            scrollObj.destroy();\n            detach(element);\n        }\n    }\n}\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, Property, ChildProperty, NotifyPropertyChanges, isBlazor } from '@syncfusion/ej2-base';\nimport { Event, EventHandler, KeyboardEvents, Touch } from '@syncfusion/ej2-base';\nimport { Animation } from '@syncfusion/ej2-base';\nimport { Browser, Collection, setValue, getValue, getUniqueID, getInstance, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { select, selectAll, closest, detach, append, rippleEffect, isVisible, Complex, addClass, removeClass } from '@syncfusion/ej2-base';\nimport { ListBase } from '@syncfusion/ej2-lists';\nimport { getZindexPartial, calculatePosition, isCollide, fit, Popup } from '@syncfusion/ej2-popups';\nimport { SanitizeHtmlHelper } from '@syncfusion/ej2-base';\nimport { getScrollableParent } from '@syncfusion/ej2-popups';\nimport { HScroll } from '../common/h-scroll';\nimport { VScroll } from '../common/v-scroll';\nimport { addScrolling, destroyScroll } from '../common/menu-scroll';\nvar ENTER = 'enter';\nvar ESCAPE = 'escape';\nvar FOCUSED = 'e-focused';\nvar HEADER = 'e-menu-header';\nvar SELECTED = 'e-selected';\nvar SEPARATOR = 'e-separator';\nvar UPARROW = 'uparrow';\nvar DOWNARROW = 'downarrow';\nvar LEFTARROW = 'leftarrow';\nvar RIGHTARROW = 'rightarrow';\nvar HOME = 'home';\nvar END = 'end';\nvar CARET = 'e-caret';\nvar ITEM = 'e-menu-item';\nvar DISABLED = 'e-disabled';\nvar HIDE = 'e-menu-hide';\nvar ICONS = 'e-icons';\nvar RTL = 'e-rtl';\nvar POPUP = 'e-menu-popup';\nvar TEMPLATE_PROPERTY = 'Template';\n/**\n * Configures the field options of the Menu.\n */\nvar FieldSettings = /** @class */ (function (_super) {\n    __extends(FieldSettings, _super);\n    function FieldSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('id')\n    ], FieldSettings.prototype, \"itemId\", void 0);\n    __decorate([\n        Property('parentId')\n    ], FieldSettings.prototype, \"parentId\", void 0);\n    __decorate([\n        Property('text')\n    ], FieldSettings.prototype, \"text\", void 0);\n    __decorate([\n        Property('iconCss')\n    ], FieldSettings.prototype, \"iconCss\", void 0);\n    __decorate([\n        Property('url')\n    ], FieldSettings.prototype, \"url\", void 0);\n    __decorate([\n        Property('separator')\n    ], FieldSettings.prototype, \"separator\", void 0);\n    __decorate([\n        Property('items')\n    ], FieldSettings.prototype, \"children\", void 0);\n    return FieldSettings;\n}(ChildProperty));\nexport { FieldSettings };\n/**\n * Specifies menu items.\n */\nvar MenuItem = /** @class */ (function (_super) {\n    __extends(MenuItem, _super);\n    function MenuItem() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], MenuItem.prototype, \"iconCss\", void 0);\n    __decorate([\n        Property('')\n    ], MenuItem.prototype, \"id\", void 0);\n    __decorate([\n        Property(false)\n    ], MenuItem.prototype, \"separator\", void 0);\n    __decorate([\n        Collection([], MenuItem)\n    ], MenuItem.prototype, \"items\", void 0);\n    __decorate([\n        Property('')\n    ], MenuItem.prototype, \"text\", void 0);\n    __decorate([\n        Property('')\n    ], MenuItem.prototype, \"url\", void 0);\n    return MenuItem;\n}(ChildProperty));\nexport { MenuItem };\n/**\n * Animation configuration settings.\n */\nvar MenuAnimationSettings = /** @class */ (function (_super) {\n    __extends(MenuAnimationSettings, _super);\n    function MenuAnimationSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('SlideDown')\n    ], MenuAnimationSettings.prototype, \"effect\", void 0);\n    __decorate([\n        Property(400)\n    ], MenuAnimationSettings.prototype, \"duration\", void 0);\n    __decorate([\n        Property('ease')\n    ], MenuAnimationSettings.prototype, \"easing\", void 0);\n    return MenuAnimationSettings;\n}(ChildProperty));\nexport { MenuAnimationSettings };\n/**\n * Base class for Menu and ContextMenu components.\n *\n *  @private\n */\nvar MenuBase = /** @class */ (function (_super) {\n    __extends(MenuBase, _super);\n    /**\n     * Constructor for creating the widget.\n     *\n     * @private\n     * @param {MenuBaseModel} options - Specifies the menu base model\n     * @param {string | HTMLUListElement} element - Specifies the element\n     */\n    function MenuBase(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.navIdx = [];\n        _this.animation = new Animation({});\n        _this.isTapHold = false;\n        _this.tempItem = [];\n        _this.showSubMenuOn = 'Auto';\n        return _this;\n    }\n    /**\n     * Initialized third party configuration settings.\n     *\n     * @private\n     * @returns {void}\n     */\n    MenuBase.prototype.preRender = function () {\n        if (!this.isMenu) {\n            var ul = void 0;\n            if (this.element.tagName === 'EJS-CONTEXTMENU') {\n                ul = this.createElement('ul', {\n                    id: getUniqueID(this.getModuleName()), className: 'e-control e-lib e-' + this.getModuleName()\n                });\n                var ejInst = getValue('ej2_instances', this.element);\n                removeClass([this.element], ['e-control', 'e-lib', 'e-' + this.getModuleName()]);\n                this.clonedElement = this.element;\n                this.element = ul;\n                setValue('ej2_instances', ejInst, this.element);\n            }\n            else {\n                ul = this.createElement('ul', { id: getUniqueID(this.getModuleName()) });\n                append([].slice.call(this.element.cloneNode(true).children), ul);\n                var refEle = this.element.nextElementSibling;\n                if (refEle) {\n                    this.element.parentElement.insertBefore(ul, refEle);\n                }\n                else {\n                    this.element.parentElement.appendChild(ul);\n                }\n                this.clonedElement = ul;\n            }\n            this.clonedElement.style.display = 'none';\n        }\n        if (this.element.tagName === 'EJS-MENU') {\n            var ele = this.element;\n            var ejInstance = getValue('ej2_instances', ele);\n            var ul = this.createElement('ul');\n            var wrapper = this.createElement('EJS-MENU', { className: 'e-' + this.getModuleName() + '-wrapper' });\n            for (var idx = 0, len = ele.attributes.length; idx < len; idx++) {\n                ul.setAttribute(ele.attributes[idx].nodeName, ele.attributes[idx].nodeValue);\n            }\n            ele.parentNode.insertBefore(wrapper, ele);\n            detach(ele);\n            ele = ul;\n            wrapper.appendChild(ele);\n            setValue('ej2_instances', ejInstance, ele);\n            this.clonedElement = wrapper;\n            this.element = ele;\n            if (!this.element.id) {\n                this.element.id = getUniqueID(this.getModuleName());\n            }\n        }\n    };\n    /**\n     * Initialize the control rendering.\n     *\n     * @private\n     * @returns {void}\n     */\n    MenuBase.prototype.render = function () {\n        var _this = this;\n        this.initialize();\n        this.renderItems();\n        this.wireEvents();\n        this.renderComplete();\n        var wrapper = this.getWrapper();\n        if (this.template && this.enableScrolling && (this.isReact || this.isAngular)) {\n            requestAnimationFrame(function () {\n                addScrolling(_this.createElement, wrapper, _this.element, 'hscroll', _this.enableRtl);\n            });\n        }\n    };\n    MenuBase.prototype.initialize = function () {\n        var wrapper = this.getWrapper();\n        if (!wrapper) {\n            wrapper = this.createElement('div', { className: 'e-' + this.getModuleName() + '-wrapper' });\n            if (this.isMenu) {\n                this.element.parentElement.insertBefore(wrapper, this.element);\n            }\n            else {\n                document.body.appendChild(wrapper);\n            }\n        }\n        if (this.cssClass) {\n            addClass([wrapper], this.cssClass.split(' '));\n        }\n        if (this.enableRtl) {\n            wrapper.classList.add(RTL);\n        }\n        wrapper.appendChild(this.element);\n        if (this.isMenu && this.hamburgerMode) {\n            if (!this.target) {\n                this.createHeaderContainer(wrapper);\n            }\n        }\n        this.defaultOption = this.showItemOnClick;\n    };\n    MenuBase.prototype.renderItems = function () {\n        if (!this.items.length) {\n            var items = ListBase.createJsonFromElement(this.element, { fields: { child: 'items' } });\n            this.setProperties({ items: items }, true);\n            if (isBlazor() && !this.isMenu) {\n                this.element = this.removeChildElement(this.element);\n            }\n            else {\n                this.element.innerHTML = '';\n            }\n        }\n        var ul = this.createItems(this.items);\n        append(Array.prototype.slice.call(ul.children), this.element);\n        this.element.classList.add('e-menu-parent');\n        if (this.isMenu) {\n            if (!this.hamburgerMode && this.element.classList.contains('e-vertical')) {\n                this.setBlankIconStyle(this.element);\n            }\n            if (this.enableScrolling) {\n                var wrapper = this.getWrapper();\n                if (this.element.classList.contains('e-vertical')) {\n                    addScrolling(this.createElement, wrapper, this.element, 'vscroll', this.enableRtl);\n                }\n                else {\n                    addScrolling(this.createElement, wrapper, this.element, 'hscroll', this.enableRtl);\n                }\n            }\n        }\n    };\n    MenuBase.prototype.wireEvents = function () {\n        var wrapper = this.getWrapper();\n        if (this.target) {\n            var target = void 0;\n            var targetElems = selectAll(this.target);\n            for (var i = 0, len = targetElems.length; i < len; i++) {\n                target = targetElems[i];\n                if (this.isMenu) {\n                    EventHandler.add(target, 'click', this.menuHeaderClickHandler, this);\n                }\n                else {\n                    if (Browser.isIos) {\n                        new Touch(target, { tapHold: this.touchHandler.bind(this) });\n                    }\n                    else {\n                        EventHandler.add(target, 'contextmenu', this.cmenuHandler, this);\n                    }\n                }\n            }\n            this.targetElement = target;\n            if (!this.isMenu) {\n                EventHandler.add(this.targetElement, 'scroll', this.scrollHandler, this);\n                for (var _i = 0, _a = getScrollableParent(this.targetElement); _i < _a.length; _i++) {\n                    var parent_1 = _a[_i];\n                    EventHandler.add(parent_1, 'scroll', this.scrollHandler, this);\n                }\n            }\n        }\n        if (!Browser.isDevice) {\n            this.delegateMoverHandler = this.moverHandler.bind(this);\n            this.delegateMouseDownHandler = this.mouseDownHandler.bind(this);\n            EventHandler.add(this.isMenu ? document : wrapper, 'mouseover', this.delegateMoverHandler, this);\n            EventHandler.add(document, 'mousedown', this.delegateMouseDownHandler, this);\n        }\n        this.delegateClickHandler = this.clickHandler.bind(this);\n        EventHandler.add(document, 'click', this.delegateClickHandler, this);\n        this.wireKeyboardEvent(wrapper);\n        this.rippleFn = rippleEffect(wrapper, { selector: '.' + ITEM });\n    };\n    MenuBase.prototype.wireKeyboardEvent = function (element) {\n        var keyConfigs = {\n            downarrow: DOWNARROW,\n            uparrow: UPARROW,\n            enter: ENTER,\n            leftarrow: LEFTARROW,\n            rightarrow: RIGHTARROW,\n            escape: ESCAPE\n        };\n        if (this.isMenu) {\n            keyConfigs.home = HOME;\n            keyConfigs.end = END;\n        }\n        new KeyboardEvents(element, {\n            keyAction: this.keyBoardHandler.bind(this),\n            keyConfigs: keyConfigs\n        });\n    };\n    MenuBase.prototype.mouseDownHandler = function (e) {\n        if (closest(e.target, '.e-' + this.getModuleName() + '-wrapper') !== this.getWrapper()\n            && (!closest(e.target, '.e-' + this.getModuleName() + '-popup'))) {\n            this.closeMenu(this.isMenu ? null : this.navIdx.length, e);\n        }\n    };\n    MenuBase.prototype.keyBoardHandler = function (e) {\n        var actionName = '';\n        var trgt = e.target;\n        var actionNeeded = this.isMenu && !this.hamburgerMode && !this.element.classList.contains('e-vertical')\n            && this.navIdx.length < 1;\n        e.preventDefault();\n        if (this.enableScrolling && e.keyCode === 13 && trgt.classList.contains('e-scroll-nav')) {\n            this.removeLIStateByClass([FOCUSED, SELECTED], [closest(trgt, '.e-' + this.getModuleName() + '-wrapper')]);\n        }\n        if (actionNeeded) {\n            switch (e.action) {\n                case RIGHTARROW:\n                    actionName = RIGHTARROW;\n                    e.action = DOWNARROW;\n                    break;\n                case LEFTARROW:\n                    actionName = LEFTARROW;\n                    e.action = UPARROW;\n                    break;\n                case DOWNARROW:\n                    actionName = DOWNARROW;\n                    e.action = RIGHTARROW;\n                    break;\n                case UPARROW:\n                    actionName = UPARROW;\n                    e.action = '';\n                    break;\n            }\n        }\n        else if (this.enableRtl) {\n            switch (e.action) {\n                case LEFTARROW:\n                    actionNeeded = true;\n                    actionName = LEFTARROW;\n                    e.action = RIGHTARROW;\n                    break;\n                case RIGHTARROW:\n                    actionNeeded = true;\n                    actionName = RIGHTARROW;\n                    e.action = LEFTARROW;\n                    break;\n            }\n        }\n        switch (e.action) {\n            case DOWNARROW:\n            case UPARROW:\n            case END:\n            case HOME:\n                this.upDownKeyHandler(e);\n                break;\n            case RIGHTARROW:\n                this.rightEnterKeyHandler(e);\n                break;\n            case LEFTARROW:\n                this.leftEscKeyHandler(e);\n                break;\n            case ENTER:\n                if (this.hamburgerMode && trgt.tagName === 'SPAN' && trgt.classList.contains('e-menu-icon')) {\n                    this.menuHeaderClickHandler(e);\n                }\n                else {\n                    this.rightEnterKeyHandler(e);\n                }\n                break;\n            case ESCAPE:\n                this.leftEscKeyHandler(e);\n                break;\n        }\n        if (actionNeeded) {\n            e.action = actionName;\n        }\n    };\n    MenuBase.prototype.upDownKeyHandler = function (e) {\n        var cul = this.getUlByNavIdx();\n        var defaultIdx = (e.action === DOWNARROW || e.action === HOME) ? 0 : cul.childElementCount - 1;\n        var fliIdx = defaultIdx;\n        var fli = this.getLIByClass(cul, FOCUSED);\n        if (fli) {\n            if (e.action !== END && e.action !== HOME) {\n                fliIdx = this.getIdx(cul, fli);\n            }\n            fli.classList.remove(FOCUSED);\n            if (e.action !== END && e.action !== HOME) {\n                if (e.action === DOWNARROW) {\n                    fliIdx++;\n                }\n                else {\n                    fliIdx--;\n                }\n                if (fliIdx === (e.action === DOWNARROW ? cul.childElementCount : -1)) {\n                    fliIdx = defaultIdx;\n                }\n            }\n        }\n        var cli = cul.children[fliIdx];\n        fliIdx = this.isValidLI(cli, fliIdx, e.action);\n        cul.children[fliIdx].classList.add(FOCUSED);\n        cul.children[fliIdx].focus();\n    };\n    MenuBase.prototype.isValidLI = function (cli, index, action) {\n        var cul = this.getUlByNavIdx();\n        if (cli.classList.contains(SEPARATOR) || cli.classList.contains(DISABLED) || cli.classList.contains(HIDE)) {\n            if ((action === DOWNARROW) || (action === RIGHTARROW)) {\n                index++;\n            }\n            else {\n                index--;\n            }\n        }\n        cli = cul.children[index];\n        if (cli.classList.contains(SEPARATOR) || cli.classList.contains(DISABLED) || cli.classList.contains(HIDE)) {\n            index = this.isValidLI(cli, index, action);\n        }\n        return index;\n    };\n    MenuBase.prototype.getUlByNavIdx = function (navIdxLen) {\n        if (navIdxLen === void 0) { navIdxLen = this.navIdx.length; }\n        if (this.isMenu) {\n            var popup = [this.getWrapper()].concat([].slice.call(selectAll('.' + POPUP)))[navIdxLen];\n            return isNullOrUndefined(popup) ? null : select('.e-menu-parent', popup);\n        }\n        else {\n            return this.getWrapper().children[navIdxLen];\n        }\n    };\n    MenuBase.prototype.rightEnterKeyHandler = function (e) {\n        var eventArgs;\n        var cul = this.getUlByNavIdx();\n        var fli = this.getLIByClass(cul, FOCUSED);\n        if (fli) {\n            var fliIdx = this.getIdx(cul, fli);\n            var navIdx = this.navIdx.concat(fliIdx);\n            var item = this.getItem(navIdx);\n            if (item.items.length) {\n                this.navIdx.push(fliIdx);\n                this.keyType = 'right';\n                this.action = e.action;\n                this.openMenu(fli, item, -1, -1, e);\n            }\n            else {\n                if (e.action === ENTER) {\n                    if (this.isMenu && this.navIdx.length === 0) {\n                        this.removeLIStateByClass([SELECTED], [this.getWrapper()]);\n                    }\n                    else {\n                        fli.classList.remove(FOCUSED);\n                    }\n                    fli.classList.add(SELECTED);\n                    eventArgs = { element: fli, item: item, event: e };\n                    this.trigger('select', eventArgs);\n                    this.closeMenu(null, e);\n                }\n            }\n        }\n    };\n    MenuBase.prototype.leftEscKeyHandler = function (e) {\n        if (this.navIdx.length) {\n            this.keyType = 'left';\n            this.closeMenu(this.navIdx.length, e);\n        }\n        else {\n            if (e.action === ESCAPE) {\n                this.closeMenu(null, e);\n            }\n        }\n    };\n    MenuBase.prototype.scrollHandler = function (e) {\n        this.closeMenu(null, e);\n    };\n    MenuBase.prototype.touchHandler = function (e) {\n        this.isTapHold = true;\n        this.cmenuHandler(e.originalEvent);\n    };\n    MenuBase.prototype.cmenuHandler = function (e) {\n        e.preventDefault();\n        this.isCMenu = true;\n        this.pageX = e.changedTouches ? e.changedTouches[0].pageX + 1 : e.pageX + 1;\n        this.pageY = e.changedTouches ? e.changedTouches[0].pageY + 1 : e.pageY + 1;\n        this.closeMenu(null, e);\n        if (this.isCMenu) {\n            if (this.canOpen(e.target)) {\n                this.openMenu(null, null, this.pageY, this.pageX, e);\n            }\n            this.isCMenu = false;\n        }\n    };\n    // eslint:disable-next-line:max-func-body-length\n    MenuBase.prototype.closeMenu = function (ulIndex, e, isIterated) {\n        var _this = this;\n        if (ulIndex === void 0) { ulIndex = 0; }\n        if (e === void 0) { e = null; }\n        if (this.isMenuVisible()) {\n            var sli = void 0;\n            var item_1;\n            var wrapper = this.getWrapper();\n            var beforeCloseArgs = void 0;\n            var items_1;\n            var popups = this.getPopups();\n            var isClose = false;\n            var cnt = this.isMenu ? popups.length + 1 : wrapper.childElementCount;\n            var ul_1 = this.isMenu && cnt !== 1 ? select('.e-ul', popups[cnt - 2])\n                : selectAll('.e-menu-parent', wrapper)[cnt - 1];\n            if (this.isMenu && ul_1.classList.contains('e-menu')) {\n                sli = this.getLIByClass(ul_1, SELECTED);\n                if (sli) {\n                    sli.classList.remove(SELECTED);\n                }\n                isClose = true;\n            }\n            if (!isClose) {\n                var liElem_1 = e && e.target && this.getLI(e.target);\n                item_1 = this.navIdx.length ? this.getItem(this.navIdx) : null;\n                items_1 = item_1 ? item_1.items : this.items;\n                beforeCloseArgs = { element: ul_1, parentItem: item_1, items: items_1, event: e, cancel: false, isFocused: true };\n                this.trigger('beforeClose', beforeCloseArgs, function (observedCloseArgs) {\n                    var popupEle;\n                    var closeArgs;\n                    var popupId = '';\n                    var popupObj;\n                    var isOpen = !observedCloseArgs.cancel;\n                    if (isOpen || _this.isCMenu) {\n                        if (_this.isMenu) {\n                            popupEle = closest(ul_1, '.' + POPUP);\n                            if (_this.hamburgerMode) {\n                                popupEle.parentElement.style.minHeight = '';\n                                closest(ul_1, '.e-menu-item').setAttribute('aria-expanded', 'false');\n                            }\n                            _this.unWireKeyboardEvent(popupEle);\n                            destroyScroll(getInstance(popupEle.children[0], VScroll), popupEle.children[0]);\n                            popupObj = getInstance(popupEle, Popup);\n                            popupObj.hide();\n                            popupId = popupEle.id;\n                            popupObj.destroy();\n                            detach(popupEle);\n                        }\n                        else {\n                            _this.toggleAnimation(ul_1, false);\n                        }\n                        closeArgs = { element: ul_1, parentItem: item_1, items: items_1 };\n                        _this.trigger('onClose', closeArgs);\n                        _this.navIdx.pop();\n                    }\n                    _this.updateReactTemplate();\n                    var trgtliId;\n                    var closedLi;\n                    var trgtLi;\n                    var trgtpopUp = _this.getWrapper() && _this.getUlByNavIdx();\n                    if (_this.isCMenu) {\n                        if (_this.canOpen(e.target)) {\n                            _this.openMenu(null, null, _this.pageY, _this.pageX, e);\n                        }\n                        _this.isCMenu = false;\n                    }\n                    if (_this.isMenu && trgtpopUp && popupId.length) {\n                        trgtliId = new RegExp('(.*)-ej2menu-' + _this.element.id + '-popup').exec(popupId)[1];\n                        closedLi = trgtpopUp.querySelector('[id=\"' + trgtliId + '\"]');\n                        trgtLi = (liElem_1 && trgtpopUp.querySelector('[id=\"' + liElem_1.id + '\"]'));\n                    }\n                    var submenus = liElem_1 && liElem_1.querySelectorAll('.e-menu-item');\n                    if (isOpen && _this.hamburgerMode && ulIndex && !(submenus.length)) {\n                        _this.afterCloseMenu(e);\n                    }\n                    else if (isOpen && !_this.hamburgerMode && _this.navIdx.length && closedLi && !trgtLi && _this.keyType !== \"left\") {\n                        var ele = (e && e.target.classList.contains('e-vscroll'))\n                            ? closest(e.target, '.e-menu-wrapper') : null;\n                        if (ele) {\n                            ele = ele.querySelector('.e-menu-item');\n                            if (_this.showItemOnClick || (ele && _this.getIndex(ele.id, true).length <= _this.navIdx.length)) {\n                                _this.closeMenu(_this.navIdx[_this.navIdx.length - 1], e, true);\n                            }\n                        }\n                        else {\n                            _this.closeMenu(_this.navIdx[_this.navIdx.length - 1], e);\n                        }\n                    }\n                    else if (isOpen && !isIterated && !ulIndex && ((_this.hamburgerMode && _this.navIdx.length) ||\n                        _this.navIdx.length === 1)) {\n                        _this.closeMenu(null, e);\n                    }\n                    else if (isOpen && isNullOrUndefined(ulIndex) && _this.navIdx.length) {\n                        _this.closeMenu(null, e);\n                    }\n                    else if (isOpen && !_this.isMenu && !ulIndex && _this.navIdx.length === 0 && !_this.isMenusClosed) {\n                        _this.isMenusClosed = true;\n                        _this.closeMenu(0, e);\n                    }\n                    else if (isOpen && _this.isMenu && e && e.target &&\n                        _this.navIdx.length !== 0 && closest(e.target, '.e-menu-parent.e-control')) {\n                        _this.closeMenu(0, e);\n                    }\n                    else {\n                        if (isOpen && (_this.keyType === 'right' || _this.keyType === 'click')) {\n                            _this.afterCloseMenu(e);\n                        }\n                        else {\n                            var cul = _this.getUlByNavIdx();\n                            var sli_1 = _this.getLIByClass(cul, SELECTED);\n                            if (sli_1) {\n                                sli_1.setAttribute('aria-expanded', 'false');\n                                sli_1.classList.remove(SELECTED);\n                                if (observedCloseArgs.isFocused && liElem_1 || _this.keyType === \"left\") {\n                                    sli_1.classList.add(FOCUSED);\n                                    sli_1.focus();\n                                }\n                            }\n                            if (!isOpen && _this.hamburgerMode && liElem_1 && liElem_1.getAttribute('aria-expanded') === 'false' &&\n                                liElem_1.getAttribute('aria-haspopup') === 'true') {\n                                if (closest(liElem_1, '.e-menu-parent.e-control')) {\n                                    _this.navIdx = [];\n                                }\n                                else {\n                                    _this.navIdx.pop();\n                                }\n                                _this.navIdx.push(_this.cliIdx);\n                                var item_2 = _this.getItem(_this.navIdx);\n                                liElem_1.setAttribute('aria-expanded', 'true');\n                                _this.openMenu(liElem_1, item_2, -1, -1, e);\n                            }\n                        }\n                        if (_this.navIdx.length < 1) {\n                            if (_this.showSubMenuOn === 'Hover' || _this.showSubMenuOn === 'Click') {\n                                _this.showItemOnClick = _this.defaultOption;\n                                _this.showSubMenuOn = 'Auto';\n                            }\n                        }\n                    }\n                    _this.removeStateWrapper();\n                });\n            }\n        }\n    };\n    MenuBase.prototype.updateReactTemplate = function () {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (this.isReact && this.template && this.navIdx.length === 0) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            var portals = this.portals.splice(0, this.items.length);\n            this.clearTemplate(['template']);\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            this.portals = portals;\n            this.renderReactTemplates();\n        }\n    };\n    MenuBase.prototype.getMenuItemModel = function (item, level) {\n        if (isNullOrUndefined(item)) {\n            return null;\n        }\n        if (isNullOrUndefined(level)) {\n            level = 0;\n        }\n        var fields = this.getFields(level);\n        return { text: item[fields.text], id: item[fields.id], items: item[fields.child], separator: item[fields.separator],\n            iconCss: item[fields.iconCss], url: item[fields.url] };\n    };\n    MenuBase.prototype.getPopups = function () {\n        var _this = this;\n        var popups = [];\n        [].slice.call(document.querySelectorAll('.' + POPUP)).forEach(function (elem) {\n            if (!isNullOrUndefined(elem.querySelector('.' + ITEM)) && _this.getIndex(elem.querySelector('.' + ITEM).id, true).length) {\n                popups.push(elem);\n            }\n        });\n        return popups;\n    };\n    MenuBase.prototype.isMenuVisible = function () {\n        return (this.navIdx.length > 0 || (this.element.classList.contains('e-contextmenu') && isVisible(this.element).valueOf()));\n    };\n    MenuBase.prototype.canOpen = function (target) {\n        var canOpen = true;\n        if (this.filter) {\n            canOpen = false;\n            var filter = this.filter.split(' ');\n            for (var i = 0, len = filter.length; i < len; i++) {\n                if (closest(target, '.' + filter[i])) {\n                    canOpen = true;\n                    break;\n                }\n            }\n        }\n        return canOpen;\n    };\n    MenuBase.prototype.openMenu = function (li, item, top, left, e, target) {\n        var _this = this;\n        if (top === void 0) { top = 0; }\n        if (left === void 0) { left = 0; }\n        if (e === void 0) { e = null; }\n        if (target === void 0) { target = this.targetElement; }\n        var wrapper = this.getWrapper();\n        this.lItem = li;\n        var elemId = this.element.id !== '' ? this.element.id : 'menu';\n        this.isMenusClosed = false;\n        if (isNullOrUndefined(top)) {\n            top = -1;\n        }\n        if (isNullOrUndefined(left)) {\n            left = -1;\n        }\n        if (li) {\n            this.uList = this.createItems(item[this.getField('children', this.navIdx.length - 1)]);\n            if (!this.isMenu && Browser.isDevice) {\n                wrapper.lastChild.style.display = 'none';\n                var data = {\n                    text: item[this.getField('text')].toString(), iconCss: ICONS + ' e-previous'\n                };\n                var hdata = new MenuItem(this.items[0], 'items', data, true);\n                var hli = this.createItems([hdata]).children[0];\n                hli.classList.add(HEADER);\n                this.uList.insertBefore(hli, this.uList.children[0]);\n            }\n            if (this.isMenu) {\n                this.popupWrapper = this.createElement('div', {\n                    className: 'e-' + this.getModuleName() + '-wrapper ' + POPUP, id: li.id + '-ej2menu-' + elemId + '-popup'\n                });\n                if (this.hamburgerMode) {\n                    top = li.offsetHeight;\n                    li.appendChild(this.popupWrapper);\n                }\n                else {\n                    document.body.appendChild(this.popupWrapper);\n                }\n                this.isNestedOrVertical = this.element.classList.contains('e-vertical') || this.navIdx.length !== 1;\n                this.popupObj = this.generatePopup(this.popupWrapper, this.uList, li, this.isNestedOrVertical);\n                if (this.template) {\n                    this.renderReactTemplates();\n                }\n                if (this.hamburgerMode) {\n                    this.calculateIndentSize(this.uList, li);\n                }\n                else {\n                    if (this.cssClass) {\n                        addClass([this.popupWrapper], this.cssClass.split(' '));\n                    }\n                    this.popupObj.hide();\n                }\n                if (!this.hamburgerMode && !this.showItemOnClick && this.hoverDelay) {\n                    window.clearInterval(this.timer);\n                    this.timer = window.setTimeout(function () { _this.triggerBeforeOpen(li, _this.uList, item, e, 0, 0, 'menu'); }, this.hoverDelay);\n                }\n                else {\n                    this.triggerBeforeOpen(li, this.uList, item, e, 0, 0, 'menu');\n                }\n            }\n            else {\n                this.uList.style.zIndex = this.element.style.zIndex;\n                wrapper.appendChild(this.uList);\n                if (!this.showItemOnClick && this.hoverDelay) {\n                    window.clearInterval(this.timer);\n                    this.timer = window.setTimeout(function () { _this.triggerBeforeOpen(li, _this.uList, item, e, top, left, 'none'); }, this.hoverDelay);\n                }\n                else {\n                    this.triggerBeforeOpen(li, this.uList, item, e, top, left, 'none');\n                }\n            }\n        }\n        else {\n            this.uList = this.element;\n            this.uList.style.zIndex = getZindexPartial(target ? target : this.element).toString();\n            this.triggerBeforeOpen(li, this.uList, item, e, top, left, 'none');\n        }\n    };\n    MenuBase.prototype.calculateIndentSize = function (ul, li) {\n        var liStyle = getComputedStyle(li);\n        var liIndent = parseInt(liStyle.textIndent, 10);\n        if (this.navIdx.length < 2 && !li.classList.contains('e-blankicon')) {\n            liIndent *= 2;\n        }\n        else {\n            liIndent += (liIndent / 4);\n        }\n        ul.style.textIndent = liIndent + 'px';\n        var blankIconElem = ul.querySelectorAll('.e-blankicon');\n        if (blankIconElem && blankIconElem.length) {\n            var menuIconElem = ul.querySelector('.e-menu-icon');\n            var menuIconElemStyle = getComputedStyle(menuIconElem);\n            var blankIconIndent = (parseInt(menuIconElemStyle.marginRight, 10) + menuIconElem.offsetWidth + liIndent);\n            for (var i = 0; i < blankIconElem.length; i++) {\n                blankIconElem[i].style.textIndent = blankIconIndent + 'px';\n            }\n        }\n    };\n    MenuBase.prototype.generatePopup = function (popupWrapper, ul, li, isNestedOrVertical) {\n        var _this = this;\n        var popupObj = new Popup(popupWrapper, {\n            actionOnScroll: this.hamburgerMode ? 'none' : 'reposition',\n            relateTo: li,\n            collision: this.hamburgerMode ? { X: 'none', Y: 'none' } : { X: isNestedOrVertical ||\n                    this.enableRtl ? 'none' : 'flip', Y: 'fit' },\n            position: (isNestedOrVertical && !this.hamburgerMode) ? { X: 'right', Y: 'top' } : { X: 'left', Y: 'bottom' },\n            targetType: 'relative',\n            enableRtl: this.enableRtl,\n            content: ul,\n            open: function () {\n                var scrollEle = select('.e-menu-vscroll', popupObj.element);\n                if (scrollEle) {\n                    scrollEle.style.height = 'inherit';\n                    scrollEle.style.maxHeight = '';\n                }\n                var ul = select('.e-ul', popupObj.element);\n                popupObj.element.style.maxHeight = '';\n                ul.focus();\n                _this.triggerOpen(ul);\n            }\n        });\n        return popupObj;\n    };\n    MenuBase.prototype.createHeaderContainer = function (wrapper) {\n        wrapper = wrapper || this.getWrapper();\n        var spanElem = this.createElement('span', { className: 'e-' + this.getModuleName() + '-header' });\n        var tempTitle = (this.enableHtmlSanitizer) ? SanitizeHtmlHelper.sanitize(this.title) : this.title;\n        var spanTitle = this.createElement('span', {\n            className: 'e-' + this.getModuleName() + '-title', innerHTML: tempTitle\n        });\n        var spanIcon = this.createElement('span', {\n            className: 'e-icons e-' + this.getModuleName() + '-icon', attrs: { 'tabindex': '0' }\n        });\n        spanElem.appendChild(spanTitle);\n        spanElem.appendChild(spanIcon);\n        wrapper.insertBefore(spanElem, this.element);\n    };\n    MenuBase.prototype.openHamburgerMenu = function (e) {\n        if (this.hamburgerMode) {\n            this.triggerBeforeOpen(null, this.element, null, e, 0, 0, 'hamburger');\n        }\n    };\n    MenuBase.prototype.closeHamburgerMenu = function (e) {\n        var _this = this;\n        var beforeCloseArgs = { element: this.element, parentItem: null, event: e,\n            items: this.items, cancel: false };\n        this.trigger('beforeClose', beforeCloseArgs, function (observedHamburgerCloseArgs) {\n            if (!observedHamburgerCloseArgs.cancel) {\n                _this.closeMenu(null, e);\n                _this.element.classList.add('e-hide-menu');\n                _this.trigger('onClose', { element: _this.element, parentItem: null, items: _this.items });\n            }\n        });\n    };\n    MenuBase.prototype.callFit = function (element, x, y, top, left) {\n        return fit(element, null, { X: x, Y: y }, { top: top, left: left });\n    };\n    MenuBase.prototype.triggerBeforeOpen = function (li, ul, item, e, top, left, type) {\n        var _this = this;\n        var items = li ? item[this.getField('children', this.navIdx.length - 1)] : this.items;\n        var eventArgs = {\n            element: ul, items: items, parentItem: item, event: e, cancel: false, top: top, left: left, showSubMenuOn: 'Auto'\n        };\n        var menuType = type;\n        this.trigger('beforeOpen', eventArgs, function (observedOpenArgs) {\n            switch (menuType) {\n                case 'menu':\n                    if (!_this.hamburgerMode) {\n                        if (observedOpenArgs.showSubMenuOn !== 'Auto') {\n                            _this.showItemOnClick = !_this.defaultOption;\n                            _this.showSubMenuOn = observedOpenArgs.showSubMenuOn;\n                        }\n                        _this.top = observedOpenArgs.top;\n                        _this.left = observedOpenArgs.left;\n                    }\n                    _this.popupWrapper.style.display = 'block';\n                    if (!_this.hamburgerMode) {\n                        _this.popupWrapper.style.maxHeight = _this.popupWrapper.getBoundingClientRect().height + 'px';\n                        if (_this.enableScrolling) {\n                            addScrolling(_this.createElement, _this.popupWrapper, _this.uList, 'vscroll', _this.enableRtl);\n                        }\n                        _this.checkScrollOffset(e);\n                    }\n                    if (!_this.hamburgerMode && !_this.left && !_this.top) {\n                        _this.popupObj.refreshPosition(_this.lItem, true);\n                        _this.left = parseInt(_this.popupWrapper.style.left, 10);\n                        _this.top = parseInt(_this.popupWrapper.style.top, 10);\n                        if (_this.enableRtl) {\n                            _this.left =\n                                _this.isNestedOrVertical ? _this.left - _this.popupWrapper.offsetWidth - _this.lItem.parentElement.offsetWidth + 2\n                                    : _this.left - _this.popupWrapper.offsetWidth + _this.lItem.offsetWidth;\n                        }\n                        if (_this.template && (_this.isReact || _this.isAngular)) {\n                            requestAnimationFrame(function () {\n                                _this.collision();\n                                _this.popupWrapper.style.display = '';\n                            });\n                        }\n                        else {\n                            _this.collision();\n                            _this.popupWrapper.style.display = '';\n                        }\n                    }\n                    else {\n                        _this.popupObj.collision = { X: 'none', Y: 'none' };\n                        _this.popupWrapper.style.display = '';\n                    }\n                    break;\n                case 'none':\n                    _this.top = observedOpenArgs.top;\n                    _this.left = observedOpenArgs.left;\n                    break;\n                case 'hamburger':\n                    if (!observedOpenArgs.cancel) {\n                        _this.element.classList.remove('e-hide-menu');\n                        _this.triggerOpen(_this.element);\n                    }\n                    break;\n            }\n            if (menuType !== 'hamburger') {\n                if (observedOpenArgs.cancel) {\n                    if (_this.isMenu) {\n                        _this.popupObj.destroy();\n                        detach(_this.popupWrapper);\n                    }\n                    else if (ul.className.indexOf('e-ul') > -1) {\n                        detach(ul);\n                    }\n                    _this.navIdx.pop();\n                }\n                else {\n                    if (_this.isMenu) {\n                        if (_this.hamburgerMode) {\n                            _this.popupWrapper.style.top = _this.top + 'px';\n                            _this.popupWrapper.style.left = 0 + 'px';\n                            _this.toggleAnimation(_this.popupWrapper);\n                        }\n                        else {\n                            _this.setBlankIconStyle(_this.popupWrapper);\n                            _this.wireKeyboardEvent(_this.popupWrapper);\n                            rippleEffect(_this.popupWrapper, { selector: '.' + ITEM });\n                            if (_this.popupWrapper.style.position === 'fixed' && _this.top > 0) {\n                                _this.popupWrapper.style.left = _this.left + 'px';\n                                _this.popupWrapper.style.top = _this.top + scrollY + 'px';\n                            }\n                            else {\n                                _this.popupWrapper.style.left = _this.left + 'px';\n                                _this.popupWrapper.style.top = _this.top + 'px';\n                            }\n                            var animationOptions = _this.animationSettings.effect !== 'None' ? {\n                                name: _this.animationSettings.effect, duration: _this.animationSettings.duration,\n                                timingFunction: _this.animationSettings.easing\n                            } : null;\n                            _this.popupObj.show(animationOptions, _this.lItem);\n                        }\n                    }\n                    else {\n                        _this.setBlankIconStyle(_this.uList);\n                        _this.setPosition(_this.lItem, _this.uList, _this.top, _this.left);\n                        _this.toggleAnimation(_this.uList);\n                    }\n                }\n            }\n            if (_this.keyType === 'right') {\n                var cul = _this.getUlByNavIdx();\n                li.classList.remove(FOCUSED);\n                if (_this.isMenu && _this.navIdx.length === 1) {\n                    _this.removeLIStateByClass([SELECTED], [_this.getWrapper()]);\n                }\n                li.classList.add(SELECTED);\n                if (_this.action === ENTER) {\n                    var eventArgs_1 = { element: li, item: item, event: e };\n                    _this.trigger('select', eventArgs_1);\n                }\n                li.focus();\n                cul = _this.getUlByNavIdx();\n                var index = _this.isValidLI(cul.children[0], 0, _this.action);\n                cul.children[index].classList.add(FOCUSED);\n                cul.children[index].focus();\n            }\n        });\n    };\n    MenuBase.prototype.collision = function () {\n        var collide;\n        collide = isCollide(this.popupWrapper, null, this.left, this.top);\n        if ((this.isNestedOrVertical || this.enableRtl) && (collide.indexOf('right') > -1\n            || collide.indexOf('left') > -1)) {\n            this.popupObj.collision.X = 'none';\n            var offWidth = closest(this.lItem, '.e-' + this.getModuleName() + '-wrapper').offsetWidth;\n            this.left =\n                this.enableRtl ? calculatePosition(this.lItem, this.isNestedOrVertical ? 'right' : 'left', 'top').left\n                    : this.left - this.popupWrapper.offsetWidth - offWidth + 2;\n        }\n        collide = isCollide(this.popupWrapper, null, this.left, this.top);\n        if (collide.indexOf('left') > -1 || collide.indexOf('right') > -1) {\n            this.left = this.callFit(this.popupWrapper, true, false, this.top, this.left).left;\n        }\n        this.popupWrapper.style.left = this.left + 'px';\n    };\n    MenuBase.prototype.setBlankIconStyle = function (menu) {\n        var blankIconList = [].slice.call(menu.getElementsByClassName('e-blankicon'));\n        if (!blankIconList.length) {\n            return;\n        }\n        var iconLi = menu.querySelector('.e-menu-item:not(.e-blankicon):not(.e-separator)');\n        var icon = iconLi.querySelector('.e-menu-icon');\n        if (!icon) {\n            return;\n        }\n        var cssProp = this.enableRtl ? { padding: 'paddingRight', margin: 'marginLeft' } :\n            { padding: 'paddingLeft', margin: 'marginRight' };\n        var iconCssProps = getComputedStyle(icon);\n        var iconSize = parseInt(iconCssProps.fontSize, 10);\n        if (!!parseInt(iconCssProps.width, 10) && parseInt(iconCssProps.width, 10) > iconSize) {\n            iconSize = parseInt(iconCssProps.width, 10);\n        }\n        // eslint:disable\n        var size = iconSize + parseInt(\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        iconCssProps[cssProp.margin], 10) + parseInt(getComputedStyle(iconLi)[cssProp.padding], 10) + \"px\";\n        blankIconList.forEach(function (li) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            li.style[cssProp.padding] = size;\n        });\n        // eslint:enable\n    };\n    MenuBase.prototype.checkScrollOffset = function (e) {\n        var wrapper = this.getWrapper();\n        if (wrapper.children[0].classList.contains('e-menu-hscroll') && this.navIdx.length === 1) {\n            var trgt = isNullOrUndefined(e) ? this.element : closest(e.target, '.' + ITEM);\n            var offsetEle = select('.e-hscroll-bar', wrapper);\n            if (offsetEle.scrollLeft > trgt.offsetLeft) {\n                offsetEle.scrollLeft -= (offsetEle.scrollLeft - trgt.offsetLeft);\n            }\n            var offsetLeft = offsetEle.scrollLeft + offsetEle.offsetWidth;\n            var offsetRight = trgt.offsetLeft + trgt.offsetWidth;\n            if (offsetLeft < offsetRight) {\n                offsetEle.scrollLeft += (offsetRight - offsetLeft);\n            }\n        }\n    };\n    MenuBase.prototype.setPosition = function (li, ul, top, left) {\n        var px = 'px';\n        this.toggleVisiblity(ul);\n        if (ul === this.element || (left > -1 && top > -1)) {\n            var collide = isCollide(ul, null, left, top);\n            if (collide.indexOf('right') > -1) {\n                left = left - ul.offsetWidth;\n            }\n            if (collide.indexOf('bottom') > -1) {\n                var offset = this.callFit(ul, false, true, top, left);\n                top = offset.top - 20;\n                if (top < 0) {\n                    var newTop = (pageYOffset + document.documentElement.clientHeight) - ul.getBoundingClientRect().height;\n                    if (newTop > -1) {\n                        top = newTop;\n                    }\n                }\n            }\n            collide = isCollide(ul, null, left, top);\n            if (collide.indexOf('left') > -1) {\n                var offset = this.callFit(ul, true, false, top, left);\n                left = offset.left;\n            }\n        }\n        else {\n            if (Browser.isDevice) {\n                top = Number(this.element.style.top.replace(px, ''));\n                left = Number(this.element.style.left.replace(px, ''));\n            }\n            else {\n                var x = this.enableRtl ? 'left' : 'right';\n                var offset = calculatePosition(li, x, 'top');\n                top = offset.top;\n                left = offset.left;\n                var collide = isCollide(ul, null, this.enableRtl ? left - ul.offsetWidth : left, top);\n                var xCollision = collide.indexOf('left') > -1 || collide.indexOf('right') > -1;\n                if (xCollision) {\n                    offset = calculatePosition(li, this.enableRtl ? 'right' : 'left', 'top');\n                    left = offset.left;\n                }\n                if (this.enableRtl || xCollision) {\n                    left = (this.enableRtl && xCollision) ? left : left - ul.offsetWidth;\n                }\n                if (collide.indexOf('bottom') > -1) {\n                    offset = this.callFit(ul, false, true, top, left);\n                    top = offset.top;\n                }\n            }\n        }\n        this.toggleVisiblity(ul, false);\n        ul.style.top = top + px;\n        ul.style.left = left + px;\n    };\n    MenuBase.prototype.toggleVisiblity = function (ul, isVisible) {\n        if (isVisible === void 0) { isVisible = true; }\n        ul.style.visibility = isVisible ? 'hidden' : '';\n        ul.style.display = isVisible ? 'block' : 'none';\n    };\n    MenuBase.prototype.createItems = function (items) {\n        var _this = this;\n        var level = this.navIdx ? this.navIdx.length : 0;\n        var fields = this.getFields(level);\n        var showIcon = this.hasField(items, this.getField('iconCss', level));\n        var listBaseOptions = {\n            showIcon: showIcon,\n            moduleName: 'menu',\n            fields: fields,\n            template: this.template,\n            itemNavigable: true,\n            itemCreating: function (args) {\n                if (!args.curData[args.fields[fields.id]]) {\n                    args.curData[args.fields[fields.id]] = getUniqueID('menuitem');\n                }\n                args.curData.htmlAttributes = {\n                    role: 'menuitem',\n                    tabindex: '-1'\n                };\n                if (_this.isMenu && !args.curData[_this.getField('separator', level)]) {\n                    args.curData.htmlAttributes['aria-label'] = args.curData[args.fields.text];\n                }\n                if (args.curData[args.fields[fields.iconCss]] === '') {\n                    args.curData[args.fields[fields.iconCss]] = null;\n                }\n            },\n            itemCreated: function (args) {\n                if (args.curData[_this.getField('separator', level)]) {\n                    args.item.classList.add(SEPARATOR);\n                    args.item.removeAttribute('role');\n                }\n                if (showIcon && !args.curData[args.fields.iconCss]\n                    && !args.curData[_this.getField('separator', level)]) {\n                    args.item.classList.add('e-blankicon');\n                }\n                if (args.curData[args.fields.child]\n                    && args.curData[args.fields.child].length) {\n                    var span = _this.createElement('span', { className: ICONS + ' ' + CARET });\n                    args.item.appendChild(span);\n                    args.item.setAttribute('aria-haspopup', 'true');\n                    args.item.setAttribute('aria-expanded', 'false');\n                    if (!_this.isMenu) {\n                        args.item.removeAttribute('role');\n                    }\n                    args.item.classList.add('e-menu-caret-icon');\n                }\n                if (_this.isMenu && _this.template) {\n                    args.item.setAttribute('id', args.curData[args.fields.id].toString());\n                    args.item.removeAttribute('data-uid');\n                    if (args.item.classList.contains('e-level-1')) {\n                        args.item.classList.remove('e-level-1');\n                    }\n                    if (args.item.classList.contains('e-has-child')) {\n                        args.item.classList.remove('e-has-child');\n                    }\n                }\n                var eventArgs = { item: args.curData, element: args.item };\n                _this.trigger('beforeItemRender', eventArgs);\n            }\n        };\n        this.setProperties({ 'items': this.items }, true);\n        if (this.isMenu) {\n            listBaseOptions.templateID = this.element.id + TEMPLATE_PROPERTY;\n        }\n        var ul = ListBase.createList(this.createElement, items, listBaseOptions, !this.template, this);\n        ul.setAttribute('tabindex', '0');\n        if (this.isMenu) {\n            ul.setAttribute('role', 'menu');\n        }\n        return ul;\n    };\n    MenuBase.prototype.moverHandler = function (e) {\n        var trgt = e.target;\n        this.liTrgt = trgt;\n        var cli = this.getLI(trgt);\n        var wrapper = cli ? closest(cli, '.e-' + this.getModuleName() + '-wrapper') : this.getWrapper();\n        var hdrWrapper = this.getWrapper();\n        var regex = new RegExp('-ej2menu-(.*)-popup');\n        var ulId;\n        var isDifferentElem = false;\n        if (!wrapper) {\n            return;\n        }\n        if (wrapper.id !== '') {\n            ulId = regex.exec(wrapper.id)[1];\n        }\n        else {\n            ulId = wrapper.querySelector('ul').id;\n        }\n        if (ulId !== this.element.id) {\n            this.removeLIStateByClass([FOCUSED, SELECTED], [this.getWrapper()]);\n            if (this.navIdx.length) {\n                isDifferentElem = true;\n            }\n            else {\n                return;\n            }\n        }\n        if (cli && closest(cli, '.e-' + this.getModuleName() + '-wrapper') && !isDifferentElem) {\n            this.removeLIStateByClass([FOCUSED], this.isMenu ? [wrapper].concat(this.getPopups()) : [wrapper]);\n            this.removeLIStateByClass([FOCUSED], this.isMenu ? [hdrWrapper].concat(this.getPopups()) : [hdrWrapper]);\n            cli.classList.add(FOCUSED);\n            if (!this.showItemOnClick) {\n                this.clickHandler(e);\n            }\n        }\n        else if (this.isMenu && this.showItemOnClick && !isDifferentElem) {\n            this.removeLIStateByClass([FOCUSED], [wrapper].concat(this.getPopups()));\n        }\n        if (this.isMenu) {\n            if (!this.showItemOnClick && (trgt.parentElement !== wrapper && !closest(trgt, '.e-' + this.getModuleName() + '-popup'))\n                && (!cli || (cli && !this.getIndex(cli.id, true).length)) && this.showSubMenuOn !== 'Hover') {\n                this.removeLIStateByClass([FOCUSED], [wrapper]);\n                if (this.navIdx.length) {\n                    this.isClosed = true;\n                    this.closeMenu(null, e);\n                }\n            }\n            else if (isDifferentElem && !this.showItemOnClick) {\n                if (this.navIdx.length) {\n                    this.isClosed = true;\n                    this.closeMenu(null, e);\n                }\n            }\n            if (!this.isClosed) {\n                this.removeStateWrapper();\n            }\n            this.isClosed = false;\n        }\n    };\n    MenuBase.prototype.removeStateWrapper = function () {\n        if (this.liTrgt) {\n            var wrapper = closest(this.liTrgt, '.e-menu-vscroll');\n            if (this.liTrgt.tagName === 'DIV' && wrapper) {\n                this.removeLIStateByClass([FOCUSED, SELECTED], [wrapper]);\n            }\n        }\n    };\n    MenuBase.prototype.removeLIStateByClass = function (classList, element) {\n        var li;\n        var _loop_1 = function (i) {\n            classList.forEach(function (className) {\n                li = select('.' + className, element[i]);\n                if (li) {\n                    li.classList.remove(className);\n                }\n            });\n        };\n        for (var i = 0; i < element.length; i++) {\n            _loop_1(i);\n        }\n    };\n    MenuBase.prototype.getField = function (propName, level) {\n        if (level === void 0) { level = 0; }\n        var fieldName = this.fields[propName];\n        return typeof fieldName === 'string' ? fieldName :\n            (!fieldName[level] ? fieldName[fieldName.length - 1].toString()\n                : fieldName[level].toString());\n    };\n    MenuBase.prototype.getFields = function (level) {\n        if (level === void 0) { level = 0; }\n        return {\n            id: this.getField('itemId', level),\n            iconCss: this.getField('iconCss', level),\n            text: this.getField('text', level),\n            url: this.getField('url', level),\n            child: this.getField('children', level),\n            separator: this.getField('separator', level)\n        };\n    };\n    MenuBase.prototype.hasField = function (items, field) {\n        for (var i = 0, len = items.length; i < len; i++) {\n            if (items[i][field]) {\n                return true;\n            }\n        }\n        return false;\n    };\n    MenuBase.prototype.menuHeaderClickHandler = function (e) {\n        if (closest(e.target, '.e-menu-wrapper').querySelector('ul.e-menu-parent').id !== this.element.id) {\n            return;\n        }\n        if (this.element.classList.contains('e-hide-menu')) {\n            this.openHamburgerMenu(e);\n        }\n        else {\n            this.closeHamburgerMenu(e);\n        }\n    };\n    MenuBase.prototype.clickHandler = function (e) {\n        if (this.isTapHold) {\n            this.isTapHold = false;\n        }\n        else {\n            var wrapper = this.getWrapper();\n            var trgt = e.target;\n            var cli = this.cli = this.getLI(trgt);\n            var regex = new RegExp('-ej2menu-(.*)-popup');\n            var cliWrapper = cli ? closest(cli, '.e-' + this.getModuleName() + '-wrapper') : null;\n            var isInstLI = cli && cliWrapper && (this.isMenu ? this.getIndex(cli.id, true).length > 0\n                : wrapper.firstElementChild.id === cliWrapper.firstElementChild.id);\n            if (Browser.isDevice && this.isMenu) {\n                this.removeLIStateByClass([FOCUSED], [wrapper].concat(this.getPopups()));\n                this.mouseDownHandler(e);\n            }\n            if (cli && cliWrapper && this.isMenu) {\n                var cliWrapperId = cliWrapper.id ? regex.exec(cliWrapper.id)[1] : cliWrapper.querySelector('.e-menu-parent').id;\n                if (this.element.id !== cliWrapperId) {\n                    return;\n                }\n            }\n            if (isInstLI && e.type === 'click' && !cli.classList.contains(HEADER)) {\n                this.setLISelected(cli);\n                var navIdx = this.getIndex(cli.id, true);\n                var item = this.getItem(navIdx);\n                var eventArgs = { element: cli, item: item, event: e };\n                this.trigger('select', eventArgs);\n            }\n            if (isInstLI && (e.type === 'mouseover' || Browser.isDevice || this.showItemOnClick)) {\n                var ul = void 0;\n                if (cli.classList.contains(HEADER)) {\n                    ul = wrapper.children[this.navIdx.length - 1];\n                    this.toggleAnimation(ul);\n                    var sli = this.getLIByClass(ul, SELECTED);\n                    if (sli) {\n                        sli.classList.remove(SELECTED);\n                    }\n                    detach(cli.parentNode);\n                    this.navIdx.pop();\n                }\n                else {\n                    if (!cli.classList.contains(SEPARATOR)) {\n                        this.showSubMenu = true;\n                        var cul = cli.parentNode;\n                        this.cliIdx = this.getIdx(cul, cli);\n                        if (this.isMenu || !Browser.isDevice) {\n                            var culIdx = this.isMenu ? Array.prototype.indexOf.call([wrapper].concat(this.getPopups()), closest(cul, '.' + 'e-' + this.getModuleName() + '-wrapper'))\n                                : this.getIdx(wrapper, cul);\n                            if (this.navIdx[culIdx] === this.cliIdx) {\n                                this.showSubMenu = false;\n                            }\n                            if (culIdx !== this.navIdx.length && (e.type !== 'mouseover' || this.showSubMenu)) {\n                                var sli = this.getLIByClass(cul, SELECTED);\n                                if (sli) {\n                                    sli.classList.remove(SELECTED);\n                                }\n                                this.isClosed = true;\n                                this.keyType = 'click';\n                                if (this.showItemOnClick) {\n                                    this.setLISelected(cli);\n                                }\n                                this.closeMenu(culIdx + 1, e);\n                                if (this.showItemOnClick) {\n                                    this.setLISelected(cli);\n                                }\n                            }\n                        }\n                        if (!this.isClosed) {\n                            this.afterCloseMenu(e);\n                        }\n                        this.isClosed = false;\n                    }\n                }\n            }\n            else {\n                if (this.isMenu && trgt.tagName === 'DIV' && this.navIdx.length && closest(trgt, '.e-menu-vscroll')) {\n                    var popupEle = closest(trgt, '.' + POPUP);\n                    var cIdx = Array.prototype.indexOf.call(this.getPopups(), popupEle) + 1;\n                    if (cIdx < this.navIdx.length) {\n                        this.closeMenu(cIdx + 1, e);\n                        if (popupEle) {\n                            this.removeLIStateByClass([FOCUSED, SELECTED], [popupEle]);\n                        }\n                    }\n                }\n                else if (this.isMenu && this.hamburgerMode && trgt.tagName === 'SPAN'\n                    && trgt.classList.contains('e-menu-icon')) {\n                    this.menuHeaderClickHandler(e);\n                }\n                else {\n                    if (trgt.tagName !== 'UL' || (this.isMenu ? trgt.parentElement.classList.contains('e-menu-wrapper') &&\n                        !this.getIndex(trgt.querySelector('.' + ITEM).id, true).length : trgt.parentElement !== wrapper)) {\n                        if (!cli) {\n                            this.removeLIStateByClass([SELECTED], [wrapper]);\n                        }\n                        if (!cli || !cli.querySelector('.' + CARET)) {\n                            this.closeMenu(null, e);\n                        }\n                    }\n                }\n            }\n        }\n    };\n    MenuBase.prototype.afterCloseMenu = function (e) {\n        var isHeader;\n        if (this.showSubMenu) {\n            if (this.showItemOnClick && this.navIdx.length === 0) {\n                isHeader = closest(e.target, '.e-menu-parent.e-control');\n            }\n            else {\n                isHeader = closest(this.element, '.e-menu-parent.e-control');\n            }\n            var idx = this.navIdx.concat(this.cliIdx);\n            var item = this.getItem(idx);\n            if (item && item[this.getField('children', idx.length - 1)] &&\n                item[this.getField('children', idx.length - 1)].length) {\n                if (e.type === 'mouseover' || (Browser.isDevice && this.isMenu)) {\n                    this.setLISelected(this.cli);\n                }\n                if ((!this.hamburgerMode && isHeader) || (this.hamburgerMode && this.cli.getAttribute('aria-expanded') === 'false')) {\n                    this.cli.setAttribute('aria-expanded', 'true');\n                    this.navIdx.push(this.cliIdx);\n                    this.openMenu(this.cli, item, null, null, e);\n                }\n            }\n            else {\n                if (e.type !== 'mouseover') {\n                    this.closeMenu(null, e);\n                }\n            }\n            if (!isHeader) {\n                var cul = this.getUlByNavIdx();\n                var sli = this.getLIByClass(cul, SELECTED);\n                if (sli) {\n                    sli.setAttribute('aria-expanded', 'false');\n                    sli.classList.remove(SELECTED);\n                }\n            }\n        }\n        this.keyType = '';\n    };\n    MenuBase.prototype.setLISelected = function (li) {\n        var sli = this.getLIByClass(li.parentElement, SELECTED);\n        if (sli) {\n            sli.classList.remove(SELECTED);\n        }\n        if (!this.isMenu) {\n            li.classList.remove(FOCUSED);\n        }\n        li.classList.add(SELECTED);\n    };\n    MenuBase.prototype.getLIByClass = function (ul, classname) {\n        for (var i = 0, len = ul.children.length; i < len; i++) {\n            if (ul.children[i].classList.contains(classname)) {\n                return ul.children[i];\n            }\n        }\n        return null;\n    };\n    /**\n     * This method is used to get the index of the menu item in the Menu based on the argument.\n     *\n     * @param {MenuItem | string} item - item be passed to get the index | id to be passed to get the item index.\n     * @param {boolean} isUniqueId - Set `true` if it is a unique id.\n     * @returns {void}\n     */\n    MenuBase.prototype.getItemIndex = function (item, isUniqueId) {\n        var idx;\n        if (typeof item === 'string') {\n            idx = item;\n        }\n        else {\n            idx = item.id;\n        }\n        var isText = (isUniqueId === false) ? false : true;\n        var navIdx = this.getIndex(idx, isText);\n        return navIdx;\n    };\n    /**\n     * This method is used to set the menu item in the Menu based on the argument.\n     *\n     * @param {MenuItem} item - item need to be updated.\n     * @param {string} id - id / text to be passed to update the item.\n     * @param {boolean} isUniqueId - Set `true` if it is a unique id.\n     * @returns {void}\n     */\n    MenuBase.prototype.setItem = function (item, id, isUniqueId) {\n        var idx;\n        if (isUniqueId) {\n            idx = id ? id : item.id;\n        }\n        else {\n            idx = id ? id : item.text;\n        }\n        var navIdx = this.getIndex(idx, isUniqueId);\n        var newItem = this.getItem(navIdx);\n        newItem.iconCss = item.iconCss || newItem.iconCss;\n        newItem.text = item.text || newItem.text;\n        newItem.url = item.url || newItem.url;\n        newItem.separator = item.separator || newItem.separator;\n    };\n    MenuBase.prototype.getItem = function (navIdx) {\n        navIdx = navIdx.slice();\n        var idx = navIdx.pop();\n        var items = this.getItems(navIdx);\n        return items[idx];\n    };\n    MenuBase.prototype.getItems = function (navIdx) {\n        var items = this.items;\n        for (var i = 0; i < navIdx.length; i++) {\n            items = items[navIdx[i]][this.getField('children', i)];\n        }\n        return items;\n    };\n    MenuBase.prototype.setItems = function (newItems, navIdx) {\n        var items = this.getItems(navIdx);\n        items.splice(0, items.length);\n        for (var i = 0; i < newItems.length; i++) {\n            items.splice(i, 0, newItems[i]);\n        }\n    };\n    MenuBase.prototype.getIdx = function (ul, li, skipHdr) {\n        if (skipHdr === void 0) { skipHdr = true; }\n        var idx = Array.prototype.indexOf.call(ul.children, li);\n        if (skipHdr && ul.children[0].classList.contains(HEADER)) {\n            idx--;\n        }\n        return idx;\n    };\n    MenuBase.prototype.getLI = function (elem) {\n        if (elem.tagName === 'LI' && elem.classList.contains('e-menu-item')) {\n            return elem;\n        }\n        return closest(elem, 'li.e-menu-item');\n    };\n    MenuBase.prototype.updateItemsByNavIdx = function () {\n        var items = this.items;\n        var count = 0;\n        for (var index = 0; index < this.navIdx.length; index++) {\n            items = items[index].items;\n            if (!items) {\n                break;\n            }\n            count++;\n            var ul = this.getUlByNavIdx(count);\n            if (!ul) {\n                break;\n            }\n            this.updateItem(ul, items);\n        }\n    };\n    MenuBase.prototype.removeChildElement = function (elem) {\n        while (elem.firstElementChild) {\n            elem.removeChild(elem.firstElementChild);\n        }\n        return elem;\n    };\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @private\n     * @param {MenuBaseModel} newProp - Specifies the new properties\n     * @param {MenuBaseModel} oldProp - Specifies the old properties\n     * @returns {void}\n     */\n    MenuBase.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var _this = this;\n        var wrapper = this.getWrapper();\n        var _loop_2 = function (prop) {\n            switch (prop) {\n                case 'cssClass':\n                    if (oldProp.cssClass) {\n                        removeClass([wrapper], oldProp.cssClass.split(' '));\n                    }\n                    if (newProp.cssClass) {\n                        addClass([wrapper], newProp.cssClass.split(' '));\n                    }\n                    break;\n                case 'enableRtl':\n                    wrapper.classList.toggle(RTL);\n                    break;\n                case 'showItemOnClick':\n                    this_1.unWireEvents();\n                    this_1.showItemOnClick = newProp.showItemOnClick;\n                    this_1.wireEvents();\n                    break;\n                case 'enableScrolling':\n                    if (newProp.enableScrolling) {\n                        var ul_2;\n                        if (this_1.element.classList.contains('e-vertical')) {\n                            addScrolling(this_1.createElement, wrapper, this_1.element, 'vscroll', this_1.enableRtl);\n                        }\n                        else {\n                            addScrolling(this_1.createElement, wrapper, this_1.element, 'hscroll', this_1.enableRtl);\n                        }\n                        this_1.getPopups().forEach(function (wrapper) {\n                            ul_2 = select('.e-ul', wrapper);\n                            addScrolling(_this.createElement, wrapper, ul_2, 'vscroll', _this.enableRtl);\n                        });\n                    }\n                    else {\n                        var ul_3 = wrapper.children[0];\n                        if (this_1.element.classList.contains('e-vertical')) {\n                            destroyScroll(getInstance(ul_3, VScroll), ul_3);\n                        }\n                        else {\n                            destroyScroll(getInstance(ul_3, HScroll), ul_3);\n                        }\n                        wrapper.style.overflow = '';\n                        wrapper.appendChild(this_1.element);\n                        this_1.getPopups().forEach(function (wrapper) {\n                            ul_3 = wrapper.children[0];\n                            destroyScroll(getInstance(ul_3, VScroll), ul_3);\n                            wrapper.style.overflow = '';\n                        });\n                    }\n                    break;\n                case 'items': {\n                    var idx = void 0;\n                    var navIdx = void 0;\n                    var item = void 0;\n                    if (!Object.keys(oldProp.items).length) {\n                        this_1.updateItem(this_1.element, this_1.items);\n                        if (!this_1.hamburgerMode) {\n                            for (var i = 1, count = wrapper.childElementCount; i < count; i++) {\n                                detach(wrapper.lastElementChild);\n                            }\n                        }\n                        this_1.navIdx = [];\n                    }\n                    else {\n                        var keys = Object.keys(newProp.items);\n                        for (var i = 0; i < keys.length; i++) {\n                            navIdx = this_1.getChangedItemIndex(newProp, [], Number(keys[i]));\n                            if (navIdx.length <= this_1.getWrapper().children.length) {\n                                idx = navIdx.pop();\n                                item = this_1.getItems(navIdx);\n                                this_1.insertAfter([item[idx]], item[idx].text);\n                                this_1.removeItem(item, navIdx, idx);\n                                this_1.setItems(item, navIdx);\n                            }\n                            navIdx.length = 0;\n                        }\n                    }\n                    break;\n                }\n            }\n        };\n        var this_1 = this;\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            _loop_2(prop);\n        }\n    };\n    MenuBase.prototype.updateItem = function (ul, items) {\n        if (isBlazor() && !this.isMenu) {\n            ul = this.removeChildElement(ul);\n        }\n        else {\n            ul.innerHTML = '';\n        }\n        var lis = [].slice.call(this.createItems(items).children);\n        lis.forEach(function (li) {\n            ul.appendChild(li);\n        });\n    };\n    MenuBase.prototype.getChangedItemIndex = function (newProp, index, idx) {\n        index.push(idx);\n        var key = Object.keys(newProp.items[idx]).pop();\n        if (key === 'items') {\n            var item = newProp.items[idx];\n            var popStr = Object.keys(item.items).pop();\n            if (popStr) {\n                this.getChangedItemIndex(item, index, Number(popStr));\n            }\n        }\n        else {\n            if (key === 'isParentArray' && index.length > 1) {\n                index.pop();\n            }\n        }\n        return index;\n    };\n    MenuBase.prototype.removeItem = function (item, navIdx, idx) {\n        item.splice(idx, 1);\n        var uls = this.getWrapper().children;\n        if (navIdx.length < uls.length) {\n            detach(uls[navIdx.length].children[idx]);\n        }\n    };\n    /**\n     * Used to unwire the bind events.\n     *\n     * @private\n     * @param {string} targetSelctor - Specifies the target selector\n     * @returns {void}\n     */\n    MenuBase.prototype.unWireEvents = function (targetSelctor) {\n        if (targetSelctor === void 0) { targetSelctor = this.target; }\n        var wrapper = this.getWrapper();\n        if (targetSelctor) {\n            var target = void 0;\n            var touchModule = void 0;\n            var targetElems = selectAll(targetSelctor);\n            for (var i = 0, len = targetElems.length; i < len; i++) {\n                target = targetElems[i];\n                if (this.isMenu) {\n                    EventHandler.remove(target, 'click', this.menuHeaderClickHandler);\n                }\n                else {\n                    if (Browser.isIos) {\n                        touchModule = getInstance(target, Touch);\n                        if (touchModule) {\n                            touchModule.destroy();\n                        }\n                    }\n                    else {\n                        EventHandler.remove(target, 'contextmenu', this.cmenuHandler);\n                    }\n                }\n            }\n            if (!this.isMenu) {\n                EventHandler.remove(this.targetElement, 'scroll', this.scrollHandler);\n                for (var _i = 0, _a = getScrollableParent(this.targetElement); _i < _a.length; _i++) {\n                    var parent_2 = _a[_i];\n                    EventHandler.remove(parent_2, 'scroll', this.scrollHandler);\n                }\n            }\n        }\n        if (!Browser.isDevice) {\n            EventHandler.remove(this.isMenu ? document : wrapper, 'mouseover', this.delegateMoverHandler);\n            EventHandler.remove(document, 'mousedown', this.delegateMouseDownHandler);\n        }\n        EventHandler.remove(document, 'click', this.delegateClickHandler);\n        this.unWireKeyboardEvent(wrapper);\n        this.rippleFn();\n    };\n    MenuBase.prototype.unWireKeyboardEvent = function (element) {\n        var keyboardModule = getInstance(element, KeyboardEvents);\n        if (keyboardModule) {\n            keyboardModule.destroy();\n        }\n    };\n    MenuBase.prototype.toggleAnimation = function (ul, isMenuOpen) {\n        var _this = this;\n        if (isMenuOpen === void 0) { isMenuOpen = true; }\n        var pUlHeight;\n        var pElement;\n        if (this.animationSettings.effect === 'None' || !isMenuOpen) {\n            this.end(ul, isMenuOpen);\n        }\n        else {\n            this.animation.animate(ul, {\n                name: this.animationSettings.effect,\n                duration: this.animationSettings.duration,\n                timingFunction: this.animationSettings.easing,\n                begin: function (options) {\n                    if (_this.hamburgerMode) {\n                        pElement = options.element.parentElement;\n                        options.element.style.position = 'absolute';\n                        pUlHeight = pElement.offsetHeight;\n                        options.element.style.maxHeight = options.element.offsetHeight + 'px';\n                        pElement.style.maxHeight = '';\n                    }\n                    else {\n                        options.element.style.display = 'block';\n                        options.element.style.maxHeight = options.element.getBoundingClientRect().height + 'px';\n                    }\n                },\n                progress: function (options) {\n                    if (_this.hamburgerMode) {\n                        pElement.style.minHeight = (pUlHeight + options.element.offsetHeight) + 'px';\n                    }\n                },\n                end: function (options) {\n                    if (_this.hamburgerMode) {\n                        options.element.style.position = '';\n                        options.element.style.maxHeight = '';\n                        pElement.style.minHeight = '';\n                        options.element.style.top = 0 + 'px';\n                        options.element.children[0].focus();\n                        _this.triggerOpen(options.element.children[0]);\n                    }\n                    else {\n                        _this.end(options.element, isMenuOpen);\n                    }\n                }\n            });\n        }\n    };\n    MenuBase.prototype.triggerOpen = function (ul) {\n        var item = this.navIdx.length ? this.getItem(this.navIdx) : null;\n        var eventArgs = {\n            element: ul, parentItem: item, items: item ? item.items : this.items\n        };\n        this.trigger('onOpen', eventArgs);\n    };\n    MenuBase.prototype.end = function (ul, isMenuOpen) {\n        if (isMenuOpen) {\n            ul.style.display = 'block';\n            ul.style.maxHeight = '';\n            this.triggerOpen(ul);\n            if (ul.querySelector('.' + FOCUSED)) {\n                ul.querySelector('.' + FOCUSED).focus();\n            }\n            else {\n                var ele = this.getWrapper().children[this.getIdx(this.getWrapper(), ul) - 1];\n                if (ele) {\n                    ele.querySelector('.' + SELECTED).focus();\n                }\n                else {\n                    this.element.focus();\n                }\n            }\n        }\n        else {\n            if (ul === this.element) {\n                var fli = this.getLIByClass(this.element, FOCUSED);\n                if (fli) {\n                    fli.classList.remove(FOCUSED);\n                }\n                var sli = this.getLIByClass(this.element, SELECTED);\n                if (sli) {\n                    sli.classList.remove(SELECTED);\n                }\n                ul.style.display = 'none';\n            }\n            else {\n                detach(ul);\n            }\n        }\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     *\n     * @returns {string} - Persist data\n     */\n    MenuBase.prototype.getPersistData = function () {\n        return '';\n    };\n    /**\n     * Get wrapper element.\n     *\n     * @returns {Element} - Wrapper element\n     * @private\n     */\n    MenuBase.prototype.getWrapper = function () {\n        return closest(this.element, '.e-' + this.getModuleName() + '-wrapper');\n    };\n    MenuBase.prototype.getIndex = function (data, isUniqueId, items, nIndex, isCallBack, level) {\n        if (items === void 0) { items = this.items; }\n        if (nIndex === void 0) { nIndex = []; }\n        if (isCallBack === void 0) { isCallBack = false; }\n        if (level === void 0) { level = 0; }\n        var item;\n        level = isCallBack ? level + 1 : 0;\n        for (var i = 0, len = items.length; i < len; i++) {\n            item = items[i];\n            if ((isUniqueId ? item[this.getField('itemId', level)] : item[this.getField('text', level)]) === data) {\n                nIndex.push(i);\n                break;\n            }\n            else if (item[this.getField('children', level)]\n                && item[this.getField('children', level)].length) {\n                nIndex = this.getIndex(data, isUniqueId, item[this.getField('children', level)], nIndex, true, level);\n                if (nIndex[nIndex.length - 1] === -1) {\n                    if (i !== len - 1) {\n                        nIndex.pop();\n                    }\n                }\n                else {\n                    nIndex.unshift(i);\n                    break;\n                }\n            }\n            else {\n                if (i === len - 1) {\n                    nIndex.push(-1);\n                }\n            }\n        }\n        return (!isCallBack && nIndex[0] === -1) ? [] : nIndex;\n    };\n    /**\n     * This method is used to enable or disable the menu items in the Menu based on the items and enable argument.\n     *\n     * @param {string[]} items - Text items that needs to be enabled/disabled.\n     * @param {boolean} enable - Set `true`/`false` to enable/disable the list items.\n     * @param {boolean} isUniqueId - Set `true` if it is a unique id.\n     * @returns {void}\n     */\n    MenuBase.prototype.enableItems = function (items, enable, isUniqueId) {\n        if (enable === void 0) { enable = true; }\n        var ul;\n        var idx;\n        var navIdx;\n        var disabled = DISABLED;\n        var skipItem;\n        for (var i = 0; i < items.length; i++) {\n            navIdx = this.getIndex(items[i], isUniqueId);\n            if (this.navIdx.length) {\n                if (navIdx.length !== 1) {\n                    skipItem = false;\n                    for (var i_1 = 0, len = navIdx.length - 1; i_1 < len; i_1++) {\n                        if (navIdx[i_1] !== this.navIdx[i_1]) {\n                            skipItem = true;\n                            break;\n                        }\n                    }\n                    if (skipItem) {\n                        continue;\n                    }\n                }\n            }\n            else {\n                if (navIdx.length !== 1) {\n                    continue;\n                }\n            }\n            idx = navIdx.pop();\n            ul = this.getUlByNavIdx(navIdx.length);\n            if (ul) {\n                if (enable) {\n                    if (this.isMenu) {\n                        ul.children[idx].classList.remove(disabled);\n                        ul.children[idx].removeAttribute('aria-disabled');\n                    }\n                    else {\n                        if (Browser.isDevice && !ul.classList.contains('e-contextmenu')) {\n                            ul.children[idx + 1].classList.remove(disabled);\n                        }\n                        else {\n                            ul.children[idx].classList.remove(disabled);\n                        }\n                    }\n                }\n                else {\n                    if (this.isMenu) {\n                        ul.children[idx].classList.add(disabled);\n                        ul.children[idx].setAttribute('aria-disabled', 'true');\n                    }\n                    else {\n                        if (Browser.isDevice && !ul.classList.contains('e-contextmenu')) {\n                            ul.children[idx + 1].classList.add(disabled);\n                        }\n                        else {\n                            ul.children[idx].classList.add(disabled);\n                        }\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * This method is used to show the menu items in the Menu based on the items text.\n     *\n     * @param {string[]} items - Text items that needs to be shown.\n     * @param {boolean} isUniqueId - Set `true` if it is a unique id.\n     * @returns {void}\n     */\n    MenuBase.prototype.showItems = function (items, isUniqueId) {\n        this.showHideItems(items, false, isUniqueId);\n    };\n    /**\n     * This method is used to hide the menu items in the Menu based on the items text.\n     *\n     * @param {string[]} items - Text items that needs to be hidden.\n     * @param {boolean} isUniqueId - Set `true` if it is a unique id.\n     * @returns {void}\n     */\n    MenuBase.prototype.hideItems = function (items, isUniqueId) {\n        this.showHideItems(items, true, isUniqueId);\n    };\n    MenuBase.prototype.showHideItems = function (items, ishide, isUniqueId) {\n        var ul;\n        var index;\n        var navIdx;\n        for (var i = 0; i < items.length; i++) {\n            navIdx = this.getIndex(items[i], isUniqueId);\n            index = navIdx.pop();\n            ul = this.getUlByNavIdx(navIdx.length);\n            if (ul) {\n                if (ishide) {\n                    if (Browser.isDevice && !ul.classList.contains('e-contextmenu')) {\n                        ul.children[index + 1].classList.add(HIDE);\n                    }\n                    else {\n                        ul.children[index].classList.add(HIDE);\n                    }\n                }\n                else {\n                    if (Browser.isDevice && !ul.classList.contains('e-contextmenu')) {\n                        ul.children[index + 1].classList.remove(HIDE);\n                    }\n                    else {\n                        ul.children[index].classList.remove(HIDE);\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * It is used to remove the menu items from the Menu based on the items text.\n     *\n     * @param {string[]} items Text items that needs to be removed.\n     * @param {boolean} isUniqueId - Set `true` if it is a unique id.\n     * @returns {void}\n     */\n    MenuBase.prototype.removeItems = function (items, isUniqueId) {\n        var idx;\n        var navIdx;\n        var iitems;\n        for (var i = 0; i < items.length; i++) {\n            navIdx = this.getIndex(items[i], isUniqueId);\n            idx = navIdx.pop();\n            iitems = this.getItems(navIdx);\n            this.removeItem(iitems, navIdx, idx);\n        }\n    };\n    /**\n     * It is used to insert the menu items after the specified menu item text.\n     *\n     * @param {MenuItemModel[]} items - Items that needs to be inserted.\n     * @param {string} text - Text item after that the element to be inserted.\n     * @param {boolean} isUniqueId - Set `true` if it is a unique id.\n     * @returns {void}\n     */\n    MenuBase.prototype.insertAfter = function (items, text, isUniqueId) {\n        this.insertItems(items, text, isUniqueId);\n    };\n    /**\n     * It is used to insert the menu items before the specified menu item text.\n     *\n     * @param {MenuItemModel[]} items - Items that needs to be inserted.\n     * @param {string} text - Text item before that the element to be inserted.\n     * @param  {boolean} isUniqueId - Set `true` if it is a unique id.\n     * @returns {void}\n     */\n    MenuBase.prototype.insertBefore = function (items, text, isUniqueId) {\n        this.insertItems(items, text, isUniqueId, false);\n    };\n    MenuBase.prototype.insertItems = function (items, text, isUniqueId, isAfter) {\n        if (isAfter === void 0) { isAfter = true; }\n        var li;\n        var idx;\n        var navIdx;\n        var iitems;\n        var menuitem;\n        for (var i = 0; i < items.length; i++) {\n            navIdx = this.getIndex(text, isUniqueId);\n            idx = navIdx.pop();\n            iitems = this.getItems(navIdx);\n            menuitem = new MenuItem(iitems[0], 'items', items[i], true);\n            iitems.splice(isAfter ? idx + 1 : idx, 0, menuitem);\n            var uls = this.isMenu ? [this.getWrapper()].concat(this.getPopups()) : [].slice.call(this.getWrapper().children);\n            if (navIdx.length < uls.length) {\n                idx = isAfter ? idx + 1 : idx;\n                li = this.createItems(iitems).children[idx];\n                var ul = this.isMenu ? select('.e-menu-parent', uls[navIdx.length]) : uls[navIdx.length];\n                ul.insertBefore(li, ul.children[idx]);\n            }\n        }\n    };\n    MenuBase.prototype.removeAttributes = function () {\n        var _this = this;\n        ['top', 'left', 'display', 'z-index'].forEach(function (key) {\n            _this.element.style.removeProperty(key);\n        });\n        ['role', 'tabindex', 'class', 'style'].forEach(function (key) {\n            if (key === 'class' && _this.element.classList.contains('e-menu-parent')) {\n                _this.element.classList.remove('e-menu-parent');\n            }\n            if (['class', 'style'].indexOf(key) === -1 || !_this.element.getAttribute(key)) {\n                _this.element.removeAttribute(key);\n            }\n            if (_this.isMenu && key === 'class' && _this.element.classList.contains('e-vertical')) {\n                _this.element.classList.remove('e-vertical');\n            }\n        });\n    };\n    /**\n     * Destroys the widget.\n     *\n     * @returns {void}\n     */\n    MenuBase.prototype.destroy = function () {\n        var wrapper = this.getWrapper();\n        if (wrapper) {\n            this.unWireEvents();\n            if (!this.isMenu) {\n                this.clonedElement.style.display = '';\n                if (this.clonedElement.tagName === 'EJS-CONTEXTMENU') {\n                    addClass([this.clonedElement], ['e-control', 'e-lib', 'e-' + this.getModuleName()]);\n                    this.element = this.clonedElement;\n                }\n                else {\n                    if (this.refreshing && this.clonedElement.childElementCount && this.clonedElement.children[0].tagName === 'LI') {\n                        this.setProperties({ 'items': [] }, true);\n                    }\n                    if (document.getElementById(this.clonedElement.id)) {\n                        var refEle = this.clonedElement.nextElementSibling;\n                        if (refEle && refEle !== wrapper) {\n                            this.clonedElement.parentElement.insertBefore(this.element, refEle);\n                        }\n                        else {\n                            this.clonedElement.parentElement.appendChild(this.element);\n                        }\n                        if (isBlazor() && !this.isMenu) {\n                            this.element = this.removeChildElement(this.element);\n                        }\n                        else {\n                            this.element.innerHTML = '';\n                        }\n                        append([].slice.call(this.clonedElement.children), this.element);\n                        detach(this.clonedElement);\n                        this.removeAttributes();\n                    }\n                }\n                this.clonedElement = null;\n            }\n            else {\n                this.closeMenu();\n                if (isBlazor() && !this.isMenu) {\n                    this.element = this.removeChildElement(this.element);\n                }\n                else {\n                    this.element.innerHTML = '';\n                }\n                this.removeAttributes();\n                wrapper.parentNode.insertBefore(this.element, wrapper);\n                this.clonedElement = null;\n            }\n            if (this.isMenu && this.clonedElement) {\n                detach(this.element);\n                wrapper.style.display = '';\n                wrapper.classList.remove('e-' + this.getModuleName() + '-wrapper');\n                wrapper.removeAttribute('data-ripple');\n            }\n            else {\n                detach(wrapper);\n            }\n            _super.prototype.destroy.call(this);\n            if (this.template) {\n                this.clearTemplate(['template']);\n            }\n        }\n    };\n    __decorate([\n        Event()\n    ], MenuBase.prototype, \"beforeItemRender\", void 0);\n    __decorate([\n        Event()\n    ], MenuBase.prototype, \"beforeOpen\", void 0);\n    __decorate([\n        Event()\n    ], MenuBase.prototype, \"onOpen\", void 0);\n    __decorate([\n        Event()\n    ], MenuBase.prototype, \"beforeClose\", void 0);\n    __decorate([\n        Event()\n    ], MenuBase.prototype, \"onClose\", void 0);\n    __decorate([\n        Event()\n    ], MenuBase.prototype, \"select\", void 0);\n    __decorate([\n        Event()\n    ], MenuBase.prototype, \"created\", void 0);\n    __decorate([\n        Property('')\n    ], MenuBase.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(0)\n    ], MenuBase.prototype, \"hoverDelay\", void 0);\n    __decorate([\n        Property(false)\n    ], MenuBase.prototype, \"showItemOnClick\", void 0);\n    __decorate([\n        Property('')\n    ], MenuBase.prototype, \"target\", void 0);\n    __decorate([\n        Property('')\n    ], MenuBase.prototype, \"filter\", void 0);\n    __decorate([\n        Property(null)\n    ], MenuBase.prototype, \"template\", void 0);\n    __decorate([\n        Property(false)\n    ], MenuBase.prototype, \"enableScrolling\", void 0);\n    __decorate([\n        Property(false)\n    ], MenuBase.prototype, \"enableHtmlSanitizer\", void 0);\n    __decorate([\n        Complex({ itemId: 'id', text: 'text', parentId: 'parentId', iconCss: 'iconCss', url: 'url', separator: 'separator', children: 'items' }, FieldSettings)\n    ], MenuBase.prototype, \"fields\", void 0);\n    __decorate([\n        Collection([], MenuItem)\n    ], MenuBase.prototype, \"items\", void 0);\n    __decorate([\n        Complex({ duration: 400, easing: 'ease', effect: 'SlideDown' }, MenuAnimationSettings)\n    ], MenuBase.prototype, \"animationSettings\", void 0);\n    MenuBase = __decorate([\n        NotifyPropertyChanges\n    ], MenuBase);\n    return MenuBase;\n}(Component));\nexport { MenuBase };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/* eslint-disable @typescript-eslint/triple-slash-reference */\n/// <reference path='../common/menu-base-model.d.ts'/>\nimport { attributes, getUniqueID, Collection, NotifyPropertyChanges, Property } from '@syncfusion/ej2-base';\nimport { getZindexPartial } from '@syncfusion/ej2-popups';\nimport { MenuBase, MenuItem } from '../common/menu-base';\n/**\n * The ContextMenu is a graphical user interface that appears on the user right click/touch hold operation.\n * ```html\n * <div id = 'target'></div>\n * <ul id = 'contextmenu'></ul>\n * ```\n * ```typescript\n * <script>\n * var contextMenuObj = new ContextMenu({items: [{ text: 'Cut' }, { text: 'Copy' },{ text: 'Paste' }], target: '#target'});\n * </script>\n * ```\n */\nvar ContextMenu = /** @class */ (function (_super) {\n    __extends(ContextMenu, _super);\n    /**\n     * Constructor for creating the widget.\n     *\n     * @private\n     * @param {ContextMenuModel} options - Specifies the context menu model\n     * @param {string} element - Specifies the element\n     */\n    function ContextMenu(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    /**\n     * For internal use only - prerender processing.\n     *\n     * @private\n     * @returns {void}\n     */\n    ContextMenu.prototype.preRender = function () {\n        this.isMenu = false;\n        this.element.id = this.element.id || getUniqueID('ej2-contextmenu');\n        _super.prototype.preRender.call(this);\n    };\n    ContextMenu.prototype.initialize = function () {\n        _super.prototype.initialize.call(this);\n        attributes(this.element, { 'role': 'menubar', 'tabindex': '0' });\n        this.element.style.zIndex = getZindexPartial(this.element).toString();\n    };\n    /**\n     * This method is used to open the ContextMenu in specified position.\n     *\n     * @param {number} top - To specify ContextMenu vertical positioning.\n     * @param {number} left - To specify ContextMenu horizontal positioning.\n     * @param {HTMLElement} target - To calculate z-index for ContextMenu based upon the specified target.\n     * @function open\n     * @returns {void}\n     */\n    ContextMenu.prototype.open = function (top, left, target) {\n        _super.prototype.openMenu.call(this, null, null, top, left, null, target);\n    };\n    /**\n     * Closes the ContextMenu if it is opened.\n     *\n     * @function close\n     * @returns {void}\n     */\n    ContextMenu.prototype.close = function () {\n        _super.prototype.closeMenu.call(this);\n    };\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @private\n     * @param {ContextMenuModel} newProp - Specifies new properties\n     * @param {ContextMenuModel} oldProp - Specifies old properties\n     * @returns {void}\n     */\n    ContextMenu.prototype.onPropertyChanged = function (newProp, oldProp) {\n        _super.prototype.onPropertyChanged.call(this, newProp, oldProp);\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'filter':\n                    this.close();\n                    this.filter = newProp.filter;\n                    break;\n                case 'target':\n                    this.unWireEvents(oldProp.target);\n                    this.wireEvents();\n                    break;\n            }\n        }\n    };\n    /**\n     * Get module name.\n     *\n     * @returns {string} - Module Name\n     * @private\n     */\n    ContextMenu.prototype.getModuleName = function () {\n        return 'contextmenu';\n    };\n    __decorate([\n        Property('')\n    ], ContextMenu.prototype, \"target\", void 0);\n    __decorate([\n        Property('')\n    ], ContextMenu.prototype, \"filter\", void 0);\n    __decorate([\n        Collection([], MenuItem)\n    ], ContextMenu.prototype, \"items\", void 0);\n    ContextMenu = __decorate([\n        NotifyPropertyChanges\n    ], ContextMenu);\n    return ContextMenu;\n}(MenuBase));\nexport { ContextMenu };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { EventHandler, remove, Browser } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { Query, DataManager, Predicate } from '@syncfusion/ej2-data';\nimport { Dialog } from '@syncfusion/ej2-popups';\nimport { DropDownList, AutoComplete } from '@syncfusion/ej2-dropdowns';\nimport { NumericTextBox } from '@syncfusion/ej2-inputs';\nimport { RadioButton, CheckBox } from '@syncfusion/ej2-buttons';\nimport { distinctStringValues, isComplexField, getComplexFieldID, getCustomDateFormat, applyBiggerTheme, performComplexDataOperation, registerEventHandlers, removeEventHandlers, clearReactVueTemplates } from '../base/util';\nimport { DatePicker, DateTimePicker } from '@syncfusion/ej2-calendars';\nimport { parentsUntil, appendChildren, extend, eventPromise } from '../base/util';\nimport * as events from '../base/constant';\nimport { ContextMenu } from '@syncfusion/ej2-navigations';\nimport { CheckBoxFilterBase } from '../common/checkbox-filter-base';\nimport * as literals from '../base/string-literals';\n/**\n * @hidden\n * `ExcelFilter` module is used to handle filtering action.\n */\nvar ExcelFilterBase = /** @class */ (function (_super) {\n    __extends(ExcelFilterBase, _super);\n    /**\n     * Constructor for excel filtering module\n     *\n     * @param {IXLFilter} parent - parent details\n     * @param {Object} customFltrOperators - operator details\n     * @hidden\n     */\n    function ExcelFilterBase(parent, customFltrOperators) {\n        var _this = _super.call(this, parent) || this;\n        _this.childRefs = [];\n        _this.eventHandlers = {};\n        _this.isDevice = false;\n        _this.customFilterOperators = customFltrOperators;\n        _this.isExcel = true;\n        return _this;\n    }\n    ExcelFilterBase.prototype.getCMenuDS = function (type, operator) {\n        var options = {\n            number: ['Equal', 'NotEqual', '', 'LessThan', 'LessThanOrEqual', 'GreaterThan',\n                'GreaterThanOrEqual', 'Between', '', 'CustomFilter'],\n            string: ['Equal', 'NotEqual', '', 'StartsWith', 'EndsWith', '', 'Contains', '', 'CustomFilter']\n        };\n        options.date = options.number;\n        options.datetime = options.number;\n        var model = [];\n        for (var i = 0; i < options[type].length; i++) {\n            if (options[type][i].length) {\n                if (operator) {\n                    model.push({\n                        text: this.getLocalizedLabel(options[type][i]) + '...',\n                        iconCss: 'e-icons e-icon-check ' + (operator === options[type][i].toLowerCase() ? '' : 'e-emptyicon')\n                    });\n                }\n                else {\n                    model.push({\n                        text: this.getLocalizedLabel(options[type][i]) + '...'\n                    });\n                }\n            }\n            else {\n                model.push({ separator: true });\n            }\n        }\n        return model;\n    };\n    /**\n     * To destroy the filter bar.\n     *\n     * @returns {void}\n     * @hidden\n     */\n    ExcelFilterBase.prototype.destroy = function () {\n        if (this.dlg) {\n            this.unwireExEvents();\n            _super.prototype.closeDialog.call(this);\n        }\n        if (!this.isDevice && this.menuObj) {\n            var li = this.menuObj.element.querySelector('li.e-focused');\n            if (!(li && parentsUntil(li, 'e-excel-menu'))) {\n                this.destroyCMenu();\n            }\n        }\n        if (this.dlgObj && !this.dlgObj.isDestroyed) {\n            this.removeDialog();\n        }\n    };\n    ExcelFilterBase.prototype.createMenu = function (type, isFiltered, isCheckIcon, eleOptions) {\n        var options = { string: 'TextFilter', date: 'DateFilter', datetime: 'DateTimeFilter', number: 'NumberFilter' };\n        this.menu = this.parent.createElement('div', { className: 'e-contextmenu-wrapper' });\n        if (this.parent.enableRtl) {\n            this.menu.classList.add('e-rtl');\n        }\n        else {\n            this.menu.classList.remove('e-rtl');\n        }\n        var ul = this.parent.createElement('ul');\n        var icon = isFiltered ? 'e-excl-filter-icon e-filtered' : 'e-excl-filter-icon';\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (this.parent.allowSorting && this.parent.getModuleName() === 'grid'\n            && !this.options.isResponsiveFilter) {\n            var hdrele = this.parent.getColumnHeaderByUid(eleOptions.uid).getAttribute('aria-sort');\n            var colIsSort = this.parent.getColumnByField(eleOptions.field).allowSorting;\n            var isAsc = (!colIsSort || hdrele === 'ascending') ? 'e-disabled e-excel-ascending' : 'e-excel-ascending';\n            var isDesc = (!colIsSort || hdrele === 'descending') ? 'e-disabled e-excel-descending' : 'e-excel-descending';\n            var ascName = (type === 'string') ? this.getLocalizedLabel('SortAtoZ') : (type === 'datetime' || type === 'date') ?\n                this.getLocalizedLabel('SortByOldest') : this.getLocalizedLabel('SortSmallestToLargest');\n            var descName = (type === 'string') ? this.getLocalizedLabel('SortZtoA') : (type === 'datetime' || type === 'date') ?\n                this.getLocalizedLabel('SortByNewest') : this.getLocalizedLabel('SortLargestToSmallest');\n            ul.appendChild(this.createMenuElem(ascName, isAsc, 'e-sortascending'));\n            ul.appendChild(this.createMenuElem(descName, isDesc, 'e-sortdescending'));\n            var separator = this.parent.createElement('li', { className: 'e-separator e-menu-item e-excel-separator' });\n            ul.appendChild(separator);\n        }\n        if (!this.options.isResponsiveFilter) {\n            ul.appendChild(this.createMenuElem(this.getLocalizedLabel('ClearFilter'), isFiltered ? '' : 'e-disabled', icon));\n        }\n        if (type !== 'boolean') {\n            ul.appendChild(this.createMenuElem(this.getLocalizedLabel(options[type]), 'e-submenu', isCheckIcon && this.ensureTextFilter() ? 'e-icon-check' : icon + ' e-emptyicon', true));\n        }\n        this.menu.appendChild(ul);\n        this.parent.notify(events.beforeFltrcMenuOpen, { element: this.menu });\n        this.parent.notify(events.refreshCustomFilterClearBtn, { isFiltered: isFiltered });\n    };\n    ExcelFilterBase.prototype.createMenuElem = function (val, className, iconName, isSubMenu) {\n        var li = this.parent.createElement('li', { className: className + ' e-menu-item' });\n        li.innerHTML = val;\n        li.insertBefore(this.parent.createElement('span', { className: 'e-menu-icon e-icons ' + iconName }), li.firstChild);\n        if (isSubMenu) {\n            li.appendChild(this.parent.createElement('span', { className: 'e-icons e-caret' }));\n        }\n        return li;\n    };\n    ExcelFilterBase.prototype.wireExEvents = function () {\n        EventHandler.add(this.dlg, 'mouseover', this.hoverHandler, this);\n        EventHandler.add(this.dlg, 'click', this.clickExHandler, this);\n    };\n    ExcelFilterBase.prototype.unwireExEvents = function () {\n        EventHandler.remove(this.dlg, 'mouseover', this.hoverHandler);\n        EventHandler.remove(this.dlg, 'click', this.clickExHandler);\n    };\n    ExcelFilterBase.prototype.clickExHandler = function (e) {\n        var options = { string: 'TextFilter', date: 'DateFilter', datetime: 'DateTimeFilter', number: 'NumberFilter' };\n        var menuItem = parentsUntil(e.target, 'e-menu-item');\n        if (menuItem) {\n            if (this.getLocalizedLabel('ClearFilter') === menuItem.innerText.trim()) {\n                this.clearFilter();\n                this.closeDialog();\n            }\n            else if (this.options.isResponsiveFilter\n                && this.getLocalizedLabel(options[this.options.type]) === menuItem.innerText.trim()) {\n                this.hoverHandler(e);\n            }\n        }\n    };\n    ExcelFilterBase.prototype.destroyCMenu = function () {\n        this.isCMenuOpen = false;\n        if (this.menuObj && !this.menuObj.isDestroyed) {\n            this.menuObj.destroy();\n            remove(this.cmenu);\n            this.parent.notify(events.renderResponsiveCmenu, { target: null, header: '', isOpen: false, col: this.options.column });\n        }\n    };\n    ExcelFilterBase.prototype.hoverHandler = function (e) {\n        if (this.options.isResponsiveFilter && e.type === 'mouseover') {\n            return;\n        }\n        var target = e.target.querySelector('.e-contextmenu');\n        var li = parentsUntil(e.target, 'e-menu-item');\n        var focused = this.menu.querySelector('.e-focused');\n        var isSubMenu;\n        if (focused) {\n            focused.classList.remove('e-focused');\n        }\n        if (li) {\n            li.classList.add('e-focused');\n            isSubMenu = li.classList.contains('e-submenu');\n        }\n        if (target) {\n            return;\n        }\n        if (!isSubMenu) {\n            var submenu = this.menu.querySelector('.e-submenu');\n            if (!isNullOrUndefined(submenu)) {\n                submenu.classList.remove('e-selected');\n            }\n            this.destroyCMenu();\n        }\n        var selectedMenu = this.ensureTextFilter();\n        if (!this.isCMenuOpen && isSubMenu) {\n            li.classList.add('e-selected');\n            this.isCMenuOpen = true;\n            var menuOptions = {\n                items: this.getCMenuDS(this.options.type, selectedMenu ? selectedMenu.replace(/\\s/g, '') : undefined),\n                select: this.selectHandler.bind(this),\n                onClose: this.destroyCMenu.bind(this),\n                enableRtl: this.parent.enableRtl,\n                beforeClose: this.preventClose.bind(this),\n                cssClass: this.options.isResponsiveFilter ? 'e-res-contextmenu-wrapper' : ''\n            };\n            this.parent.element.appendChild(this.cmenu);\n            this.menuObj = new ContextMenu(menuOptions, this.cmenu);\n            var client = this.menu.querySelector('.e-submenu').getBoundingClientRect();\n            var pos = { top: 0, left: 0 };\n            if (this.options.isResponsiveFilter) {\n                var options = { string: 'TextFilter', date: 'DateFilter', datetime: 'DateTimeFilter', number: 'NumberFilter' };\n                var content = document.querySelector('.e-responsive-dialog > .e-dlg-header-content');\n                var height = content.offsetHeight + 4;\n                this.menuObj.element.style.height = 'calc(100% - ' + height + 'px)';\n                this.menuObj.open(height, 0, document.body);\n                var header = this.getLocalizedLabel(options[this.options.type]);\n                this.parent.notify(events.renderResponsiveCmenu, {\n                    target: this.menuObj.element.parentElement, header: header, isOpen: true\n                });\n            }\n            else {\n                if (Browser.isDevice) {\n                    this.isDevice = true;\n                    var contextRect = this.getContextBounds();\n                    pos.top = (window.innerHeight - contextRect.height) / 2;\n                    pos.left = (window.innerWidth - contextRect.width) / 2;\n                    this.closeDialog();\n                    this.isDevice = false;\n                }\n                else {\n                    pos.top = Browser.isIE ? window.pageYOffset + client.top : window.scrollY + client.top;\n                    pos.left = this.getCMenuYPosition(this.dlg);\n                }\n                this.menuObj.open(pos.top, pos.left, e.target);\n            }\n            applyBiggerTheme(this.parent.element, this.menuObj.element.parentElement);\n        }\n    };\n    ExcelFilterBase.prototype.ensureTextFilter = function () {\n        var selectedMenu;\n        var predicates = this.existingPredicate[this.options.field];\n        if (predicates && predicates.length === 2) {\n            if (predicates[0].operator === 'greaterthanorequal' && predicates[1].operator === 'lessthanorequal') {\n                selectedMenu = 'between';\n            }\n            else {\n                selectedMenu = 'customfilter';\n            }\n        }\n        else {\n            if (predicates && predicates.length === 1) {\n                this.optrData = this.customFilterOperators[this.options.type + 'Operator'];\n                selectedMenu = predicates[0].operator;\n            }\n        }\n        return selectedMenu;\n    };\n    ExcelFilterBase.prototype.preventClose = function (args) {\n        if (this.options && this.options.isResponsiveFilter && args.event) {\n            var target = args.event.target;\n            var isFilterBack = target.classList.contains('e-resfilterback')\n                || target.classList.contains('e-res-back-btn') || target.classList.contains('e-menu-item');\n            args.cancel = !isFilterBack;\n        }\n        else {\n            if (args.event instanceof MouseEvent && args.event.target.classList.contains('e-submenu')) {\n                args.cancel = true;\n            }\n        }\n    };\n    ExcelFilterBase.prototype.getContextBounds = function () {\n        this.menuObj.element.style.display = 'block';\n        return this.menuObj.element.getBoundingClientRect();\n    };\n    ExcelFilterBase.prototype.getCMenuYPosition = function (target) {\n        var contextWidth = this.getContextBounds().width;\n        var targetPosition = target.getBoundingClientRect();\n        var leftPos = targetPosition.right + contextWidth - this.parent.element.clientWidth;\n        var targetBorder = target.offsetWidth - target.clientWidth;\n        targetBorder = targetBorder ? targetBorder + 1 : 0;\n        return (leftPos < 1) ? (targetPosition.right + 1 - targetBorder) : (targetPosition.left - contextWidth - 1 + targetBorder);\n    };\n    ExcelFilterBase.prototype.openDialog = function (options) {\n        var _this = this;\n        this.updateModel(options);\n        this.getAndSetChkElem(options);\n        this.showDialog(options);\n        if (options.cancel) {\n            return;\n        }\n        this.dialogObj.dataBind();\n        var filterLength = (this.existingPredicate[options.field] && this.existingPredicate[options.field].length) ||\n            this.options.filteredColumns.filter(function (col) {\n                return _this.options.field === col.field;\n            }).length;\n        this.createMenu(options.type, filterLength > 0, (filterLength === 1 || filterLength === 2), options);\n        this.dlg.insertBefore(this.menu, this.dlg.firstChild);\n        this.dlg.classList.add('e-excelfilter');\n        if (this.parent.enableRtl) {\n            this.dlg.classList.add('e-rtl');\n        }\n        this.dlg.classList.remove('e-checkboxfilter');\n        this.cmenu = this.parent.createElement('ul', { className: 'e-excel-menu' });\n        if (options.column.showColumnMenu) {\n            this.parent.notify(events.filterDialogCreated, {});\n        }\n        this.wireExEvents();\n    };\n    ExcelFilterBase.prototype.closeDialog = function () {\n        this.destroy();\n    };\n    ExcelFilterBase.prototype.selectHandler = function (e) {\n        if (e.item) {\n            this.parent.notify(events.filterCmenuSelect, {});\n            this.menuItem = e.item;\n            this.renderDialogue(e);\n        }\n    };\n    /**\n     * @hidden\n     * @param {MenuEventArgs} e - event args\n     * @returns {void}\n     */\n    ExcelFilterBase.prototype.renderDialogue = function (e) {\n        var _this = this;\n        var target = e ? e.element : undefined;\n        var column = this.options.field;\n        var isComplex = !isNullOrUndefined(column) && isComplexField(column);\n        var complexFieldName = !isNullOrUndefined(column) && getComplexFieldID(column);\n        var mainDiv = this.parent.createElement('div', {\n            className: 'e-xlfl-maindiv',\n            id: isComplex ? complexFieldName + '-xlflmenu' : column + '-xlflmenu'\n        });\n        this.dlgDiv = this.parent.createElement('div', {\n            className: 'e-xlflmenu',\n            id: isComplex ? complexFieldName + '-xlfldlg' : column + '-xlfldlg'\n        });\n        if (this.options.isResponsiveFilter) {\n            var responsiveCnt = document.querySelector('.e-resfilter > .e-dlg-content > .e-xl-customfilterdiv');\n            responsiveCnt.appendChild(this.dlgDiv);\n        }\n        else {\n            this.parent.element.appendChild(this.dlgDiv);\n        }\n        this.dlgObj = new Dialog({\n            header: this.getLocalizedLabel('CustomFilter'),\n            isModal: true,\n            overlayClick: this.removeDialog.bind(this),\n            showCloseIcon: true,\n            closeOnEscape: false,\n            target: document.body,\n            // target: this.parent.element,\n            visible: false,\n            enableRtl: this.parent.enableRtl,\n            open: function () {\n                var row = _this.dlgObj.element.querySelector('table.e-xlfl-table>tr');\n                if (_this.options.column.filterTemplate) {\n                    row.querySelector('#' + _this.options.column.field + '-xlfl-frstvalue').focus();\n                }\n                else {\n                    //(row.cells[1].querySelector('input:not([type=hidden])') as HTMLElement).focus();\n                }\n            },\n            close: this.removeDialog.bind(this),\n            created: this.createdDialog.bind(this, target, column),\n            buttons: [{\n                    click: this.filterBtnClick.bind(this, column),\n                    buttonModel: {\n                        content: this.getLocalizedLabel('OKButton'), isPrimary: true, cssClass: 'e-xlfl-okbtn'\n                    }\n                },\n                {\n                    click: this.removeDialog.bind(this),\n                    buttonModel: { content: this.getLocalizedLabel('CancelButton'), cssClass: 'e-xlfl-cancelbtn' }\n                }],\n            content: mainDiv,\n            width: 430,\n            animationSettings: { effect: 'None' }\n        });\n        var isStringTemplate = 'isStringTemplate';\n        this.dlgObj[isStringTemplate] = true;\n        this.renderResponsiveDialog();\n        this.dlgDiv.setAttribute('aria-label', this.getLocalizedLabel('CustomFilterDialogARIA'));\n        this.childRefs.push(this.dlgObj);\n        this.dlgObj.appendTo(this.dlgDiv);\n    };\n    ExcelFilterBase.prototype.renderResponsiveDialog = function () {\n        if (this.options.isResponsiveFilter) {\n            var rowResponsiveDlg = document.querySelector('.e-row-responsive-filter');\n            if (rowResponsiveDlg) {\n                rowResponsiveDlg.classList.remove('e-row-responsive-filter');\n            }\n            this.dlgObj.buttons = [{}];\n            this.dlgObj.header = undefined;\n            this.dlgObj.position = { X: '', Y: '' };\n            this.dlgObj.target = document.querySelector('.e-resfilter > .e-dlg-content > .e-xl-customfilterdiv');\n            this.dlgObj.width = '100%';\n            this.dlgObj.isModal = false;\n            this.dlgObj.showCloseIcon = false;\n        }\n    };\n    /**\n     * @hidden\n     * @returns {void}\n     */\n    ExcelFilterBase.prototype.removeDialog = function () {\n        this.parent.notify(events.customFilterClose, {});\n        if ((this.parent.isReact || this.parent.isVue) && this.parent.destroyTemplate !== undefined) {\n            clearReactVueTemplates(this.parent, ['filterTemplate']);\n        }\n        this.removeObjects(this.childRefs);\n        remove(this.dlgDiv);\n        this.parent.notify(events.filterDialogClose, {});\n    };\n    ExcelFilterBase.prototype.createdDialog = function (target, column) {\n        this.renderCustomFilter(target, column);\n        this.dlgObj.element.style.left = '0px';\n        if (!this.options.isResponsiveFilter) {\n            this.dlgObj.element.style.top = '0px';\n        }\n        else {\n            var content = document.querySelector('.e-responsive-dialog > .e-dlg-header-content');\n            var height = content.offsetHeight + 4;\n            this.dlgObj.element.style.top = height + 'px';\n        }\n        if (!this.options.isResponsiveFilter && Browser.isDevice && window.innerWidth < 440) {\n            this.dlgObj.element.style.width = '90%';\n        }\n        this.parent.notify(events.beforeCustomFilterOpen, { column: column, dialog: this.dialogObj });\n        this.dlgObj.show();\n        applyBiggerTheme(this.parent.element, this.dlgObj.element.parentElement);\n    };\n    ExcelFilterBase.prototype.renderCustomFilter = function (target, column) {\n        var dlgConetntEle = this.dlgObj.element.querySelector('.e-xlfl-maindiv');\n        var dlgFields = this.parent.createElement('div', { innerHTML: this.getLocalizedLabel('ShowRowsWhere'), className: 'e-xlfl-dlgfields' });\n        dlgConetntEle.appendChild(dlgFields);\n        //column name\n        var fieldSet = this.parent.createElement('div', { innerHTML: this.options.displayName, className: 'e-xlfl-fieldset' });\n        dlgConetntEle.appendChild(fieldSet);\n        this.renderFilterUI(column, dlgConetntEle);\n    };\n    /**\n     * @hidden\n     * @param {string} col - Defines column details\n     * @returns {void}\n     */\n    ExcelFilterBase.prototype.filterBtnClick = function (col) {\n        var isComplex = !isNullOrUndefined(col) && isComplexField(col);\n        var complexFieldName = !isNullOrUndefined(col) && getComplexFieldID(col);\n        var colValue = isComplex ? complexFieldName : col;\n        var fValue = this.dlgDiv.querySelector('#' + colValue + '-xlfl-frstvalue').ej2_instances[0];\n        var fOperator = this.dlgDiv.querySelector('#' + colValue + '-xlfl-frstoptr').ej2_instances[0];\n        var sValue = this.dlgDiv.querySelector('#' + colValue + '-xlfl-secndvalue').ej2_instances[0];\n        var sOperator = this.dlgDiv.querySelector('#' + colValue + '-xlfl-secndoptr').ej2_instances[0];\n        var checkBoxValue;\n        if (this.options.type === 'string') {\n            var checkBox = this.dlgDiv.querySelector('#' + colValue + '-xlflmtcase').ej2_instances[0];\n            checkBoxValue = checkBox.checked;\n        }\n        var andRadio = this.dlgDiv.querySelector('#' + colValue + 'e-xlfl-frstpredicate').ej2_instances[0];\n        var predicate = (andRadio.checked ? 'and' : 'or');\n        if (sValue.value === null) {\n            predicate = 'or';\n        }\n        this.filterByColumn(this.options.field, fOperator.value, fValue.value, predicate, checkBoxValue, this.options.ignoreAccent, sOperator.value, sValue.value);\n        this.removeDialog();\n    };\n    /**\n     * @hidden\n     * Filters grid row by column name with given options.\n     *\n     * @param {string} fieldName - Defines the field name of the filter column.\n     * @param {string} firstOperator - Defines the first operator by how to filter records.\n     * @param {string | number | Date | boolean} firstValue - Defines the first value which is used to filter records.\n     * @param  {string} predicate - Defines the relationship between one filter query with another by using AND or OR predicate.\n     * @param {boolean} matchCase - If ignore case set to true, then filter records with exact match or else\n     * filter records with case insensitive(uppercase and lowercase letters treated as same).\n     * @param {boolean} ignoreAccent - If ignoreAccent set to true, then ignores the diacritic characters or accents when filtering.\n     * @param {string} secondOperator - Defines the second operator by how to filter records.\n     * @param {string | number | Date | boolean} secondValue - Defines the first value which is used to filter records.\n     * @returns {void}\n     */\n    ExcelFilterBase.prototype.filterByColumn = function (fieldName, firstOperator, firstValue, predicate, matchCase, ignoreAccent, secondOperator, secondValue) {\n        var col = this.parent.getColumnByField ? this.parent.getColumnByField(fieldName) : this.options.column;\n        var field = this.isForeignColumn(col) ? col.foreignKeyValue : fieldName;\n        var fColl = [];\n        var mPredicate;\n        fColl.push({\n            field: field,\n            predicate: predicate,\n            matchCase: matchCase,\n            ignoreAccent: ignoreAccent,\n            operator: firstOperator,\n            value: firstValue,\n            type: this.options.type\n        });\n        var arg = {\n            instance: this, handler: this.filterByColumn, arg1: fieldName, arg2: firstOperator, arg3: firstValue, arg4: predicate,\n            arg5: matchCase, arg6: ignoreAccent, arg7: secondOperator, arg8: secondValue, cancel: false\n        };\n        this.parent.notify(events.fltrPrevent, arg);\n        if (arg.cancel) {\n            return;\n        }\n        mPredicate = new Predicate(field, firstOperator.toLowerCase(), firstValue, !matchCase, ignoreAccent);\n        if (!isNullOrUndefined(secondValue) && !isNullOrUndefined(secondOperator)) {\n            fColl.push({\n                field: field,\n                predicate: predicate,\n                matchCase: matchCase,\n                ignoreAccent: ignoreAccent,\n                operator: secondOperator,\n                value: secondValue,\n                type: this.options.type\n            });\n            // eslint-disable-next-line max-len\n            mPredicate = mPredicate[predicate](field, secondOperator.toLowerCase(), secondValue, !matchCase, ignoreAccent);\n        }\n        var args = {\n            action: 'filtering', filterCollection: fColl, field: this.options.field,\n            ejpredicate: mPredicate, actualPredicate: fColl\n        };\n        if (this.isForeignColumn(col)) {\n            this.foreignKeyFilter(args, fColl, mPredicate);\n        }\n        else {\n            this.options.handler(args);\n        }\n    };\n    // eslint-disable-next-line max-len\n    ExcelFilterBase.prototype.renderOperatorUI = function (column, table, elementID, predicates, isFirst) {\n        var fieldElement = this.parent.createElement('tr', { className: 'e-xlfl-fields' });\n        table.appendChild(fieldElement);\n        var xlfloptr = this.parent.createElement('td', { className: 'e-xlfl-optr' });\n        fieldElement.appendChild(xlfloptr);\n        var optrDiv = this.parent.createElement('div', { className: 'e-xlfl-optrdiv' });\n        var isComplex = !isNullOrUndefined(column) && isComplexField(column);\n        var complexFieldName = !isNullOrUndefined(column) && getComplexFieldID(column);\n        var optrInput = this.parent\n            .createElement('input', { id: isComplex ? complexFieldName + elementID : column + elementID });\n        optrDiv.appendChild(optrInput);\n        xlfloptr.appendChild(optrDiv);\n        var optr = this.options.type + 'Operator';\n        var dropDatasource = this.customFilterOperators[optr];\n        this.optrData = dropDatasource;\n        var selectedValue = this.dropSelectedVal(this.options.column, predicates, isFirst);\n        //Trailing three dots are sliced.\n        var menuText = '';\n        if (this.menuItem) {\n            menuText = this.menuItem.text.slice(0, -3);\n            if (menuText !== this.getLocalizedLabel('CustomFilter')) {\n                selectedValue = isFirst ? menuText : undefined;\n            }\n            if (menuText === this.getLocalizedLabel('Between')) {\n                selectedValue = this.getLocalizedLabel(isFirst ? 'GreaterThanOrEqual' : 'LessThanOrEqual');\n            }\n        }\n        var col = this.options.column;\n        var dropOptr = new DropDownList(extend({\n            dataSource: dropDatasource,\n            fields: { text: 'text', value: 'value' },\n            text: selectedValue,\n            enableRtl: this.parent.enableRtl\n        }, col.filter.params));\n        this.childRefs.push(dropOptr);\n        var evt = { 'open': this.dropDownOpen.bind(this), 'change': this.dropDownValueChange.bind(this) };\n        registerEventHandlers(optrInput.id, [literals.open, literals.change], evt, this);\n        dropOptr.addEventListener(literals.open, this.eventHandlers[optrInput.id][literals.open]);\n        dropOptr.addEventListener(literals.change, this.eventHandlers[optrInput.id][literals.change]);\n        dropOptr.appendTo(optrInput);\n        var operator = this.getSelectedValue(selectedValue);\n        return { fieldElement: fieldElement, operator: operator };\n    };\n    ExcelFilterBase.prototype.removeHandlersFromComponent = function (component) {\n        if (component.element.classList.contains('e-dropdownlist')) {\n            removeEventHandlers(component, [literals.open, literals.change], this);\n        }\n        else if (component.element.classList.contains('e-autocomplete')) {\n            removeEventHandlers(component, [events.actionComplete, literals.focus], this);\n        }\n    };\n    ExcelFilterBase.prototype.dropDownOpen = function (args) {\n        args.popup.element.style.zIndex = (this.dialogObj.zIndex + 1).toString();\n    };\n    ExcelFilterBase.prototype.dropDownValueChange = function (args) {\n        if (args.element.id.includes('-xlfl-frstoptr')) {\n            this.firstOperator = args.value.toString();\n        }\n        else {\n            this.secondOperator = args.value.toString();\n        }\n    };\n    /**\n     * @hidden\n     * @returns {FilterUI} returns filter UI\n     */\n    ExcelFilterBase.prototype.getFilterUIInfo = function () {\n        return { firstOperator: this.firstOperator, secondOperator: this.secondOperator, field: this.options.field };\n    };\n    ExcelFilterBase.prototype.getSelectedValue = function (text) {\n        var selectedField = new DataManager(this.optrData).executeLocal(new Query().where('text', 'equal', text));\n        return !isNullOrUndefined(selectedField[0]) ? selectedField[0].value : '';\n    };\n    ExcelFilterBase.prototype.dropSelectedVal = function (col, predicates, isFirst) {\n        var operator;\n        if (predicates && predicates.length > 0) {\n            operator = predicates.length === 2 ?\n                (isFirst ? predicates[0].operator : predicates[1].operator) :\n                (isFirst ? predicates[0].operator : undefined);\n        }\n        else if (isFirst && col.type === 'string' && !col.filter.operator) {\n            operator = 'startswith';\n        }\n        else {\n            operator = isFirst ? col.filter.operator || 'equal' : undefined;\n        }\n        return this.getSelectedText(operator);\n    };\n    ExcelFilterBase.prototype.getSelectedText = function (operator) {\n        var selectedField = new DataManager(this.optrData).executeLocal(new Query().where('value', 'equal', operator));\n        return !isNullOrUndefined(selectedField[0]) ? selectedField[0].text : '';\n    };\n    ExcelFilterBase.prototype.renderFilterUI = function (column, dlgConetntEle) {\n        var predicates = this.existingPredicate[column];\n        var table = this.parent.createElement('table', { className: 'e-xlfl-table' });\n        dlgConetntEle.appendChild(table);\n        var colGroup = this.parent.createElement(literals.colGroup);\n        colGroup.innerHTML = '<col style=\"width: 50%\"></col><col style=\"width: 50%\"></col>';\n        table.appendChild(colGroup);\n        //Renders first dropdown\n        var optr = this.renderOperatorUI(column, table, '-xlfl-frstoptr', predicates, true);\n        this.firstOperator = optr.operator;\n        //Renders first value\n        this.renderFlValueUI(column, optr, '-xlfl-frstvalue', predicates, true);\n        var predicate = this.parent.createElement('tr', { className: 'e-xlfl-predicate' });\n        table.appendChild(predicate);\n        //Renders first radion button\n        this.renderRadioButton(column, predicate, predicates);\n        //Renders second dropdown\n        optr = this.renderOperatorUI(column, table, '-xlfl-secndoptr', predicates, false);\n        this.secondOperator = optr.operator;\n        //Renders second text box\n        this.renderFlValueUI(column, optr, '-xlfl-secndvalue', predicates, false);\n    };\n    ExcelFilterBase.prototype.renderRadioButton = function (column, tr, predicates) {\n        var td = this.parent.createElement('td', { className: 'e-xlfl-radio', attrs: { 'colSpan': '2' } });\n        tr.appendChild(td);\n        var radioDiv = this.parent\n            .createElement('div', { className: 'e-xlfl-radiodiv', attrs: { 'style': 'display: inline-block' } });\n        var isComplex = !isNullOrUndefined(column) && isComplexField(column);\n        var complexFieldName = !isNullOrUndefined(column) && getComplexFieldID(column);\n        var frstpredicate = this.parent.createElement('input', { id: isComplex ? complexFieldName + 'e-xlfl-frstpredicate' : column + 'e-xlfl-frstpredicate', attrs: { 'type': 'radio' } });\n        var secndpredicate = this.parent.createElement('input', { id: isComplex ? complexFieldName + 'e-xlfl-secndpredicate' : column + 'e-xlfl-secndpredicate', attrs: { 'type': 'radio' } });\n        //appends into div\n        radioDiv.appendChild(frstpredicate);\n        radioDiv.appendChild(secndpredicate);\n        td.appendChild(radioDiv);\n        if (this.options.type === 'string') {\n            this.renderMatchCase(column, tr, td, '-xlflmtcase', predicates);\n        }\n        // Initialize AND RadioButton component.\n        var andRadio = new RadioButton({ label: this.getLocalizedLabel('AND'), name: 'default', checked: true, enableRtl: this.parent.enableRtl });\n        this.childRefs.push(andRadio);\n        // Initialize OR RadioButton component.\n        var orRadio = new RadioButton({ label: this.getLocalizedLabel('OR'), name: 'default', enableRtl: this.parent.enableRtl });\n        this.childRefs.push(orRadio);\n        var flValue = predicates && predicates.length === 2 ? predicates[1].predicate : 'and';\n        if (flValue === 'and') {\n            andRadio.checked = true;\n            orRadio.checked = false;\n        }\n        else {\n            orRadio.checked = true;\n            andRadio.checked = false;\n        }\n        // Render initialized RadioButton.\n        andRadio.appendTo(frstpredicate);\n        orRadio.appendTo(secndpredicate);\n        andRadio.element.nextElementSibling.classList.add('e-xlfl-radio-and');\n        orRadio.element.nextElementSibling.classList.add('e-xlfl-radio-or');\n    };\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    ExcelFilterBase.prototype.removeObjects = function (elements) {\n        for (var _i = 0, elements_1 = elements; _i < elements_1.length; _i++) {\n            var obj = elements_1[_i];\n            if (obj && !obj.isDestroyed) {\n                this.removeHandlersFromComponent(obj);\n                obj.destroy();\n            }\n        }\n    };\n    // eslint-disable-next-line max-len\n    ExcelFilterBase.prototype.renderFlValueUI = function (column, optr, elementId, predicates, isFirst) {\n        var value = this.parent.createElement('td', { className: 'e-xlfl-value' });\n        optr.fieldElement.appendChild(value);\n        var isComplex = !isNullOrUndefined(column) && isComplexField(column);\n        var complexFieldName = !isNullOrUndefined(column) && getComplexFieldID(column);\n        var valueDiv = this.parent.createElement('div', { className: 'e-xlfl-valuediv' });\n        var isFilteredCol = this.options.filteredColumns.some(function (col) { return column === col.field; });\n        var fltrPredicates = this.options.filteredColumns.filter(function (col) { return col.field === column; });\n        if (this.options.column.filterTemplate) {\n            var data = {};\n            var columnObj = this.options.column;\n            if (isFilteredCol && elementId) {\n                data = this.getExcelFilterData(elementId, data, columnObj, predicates, fltrPredicates);\n            }\n            var isReactCompiler = this.parent.isReact && typeof (this.options.column.filterTemplate) !== 'string';\n            var tempID = this.parent.element.id + columnObj.uid + 'filterTemplate';\n            if (isReactCompiler) {\n                this.options.column.getFilterTemplate()(data, this.parent, 'filterTemplate', tempID, null, null, valueDiv);\n                this.parent.renderTemplates();\n            }\n            else {\n                var element = this.options.column.getFilterTemplate()(data, this.parent, 'filterTemplate', tempID);\n                appendChildren(valueDiv, element);\n            }\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            (this.parent.isAngular ? valueDiv.children[0] : valueDiv.querySelector('input')).id = isComplex ?\n                complexFieldName + elementId : column + elementId;\n            value.appendChild(valueDiv);\n        }\n        else {\n            var valueInput = this.parent\n                .createElement('input', { id: isComplex ? complexFieldName + elementId : column + elementId });\n            valueDiv.appendChild(valueInput);\n            value.appendChild(valueDiv);\n            var flValue = void 0;\n            var predicate = void 0;\n            if (predicates && predicates.length > 0) {\n                predicate = predicates.length === 2 ?\n                    (isFirst ? predicates[0] : predicates[1]) :\n                    (isFirst ? predicates[0] : undefined);\n                flValue = (predicate && predicate.operator === optr.operator) ? predicate.value : undefined;\n                if (isNullOrUndefined(flValue)) {\n                    flValue = undefined;\n                }\n            }\n            var types = {\n                'string': this.renderAutoComplete.bind(this),\n                'number': this.renderNumericTextBox.bind(this),\n                'date': this.renderDate.bind(this),\n                'datetime': this.renderDateTime.bind(this)\n            };\n            types[this.options.type](this.options, column, valueInput, flValue, this.parent.enableRtl);\n        }\n    };\n    ExcelFilterBase.prototype.getExcelFilterData = function (elementId, data, columnObj, predicates, fltrPredicates) {\n        var predIndex = elementId === '-xlfl-frstvalue' ? 0 : 1;\n        if (elementId === '-xlfl-frstvalue' || fltrPredicates.length > 1) {\n            data = { column: predicates instanceof Array ? predicates[predIndex] : predicates };\n            var indx = this.options.column.columnData && fltrPredicates.length > 1 ?\n                (this.options.column.columnData.length === 1 ? 0 : 1) : predIndex;\n            data[this.options.field] = columnObj.foreignKeyValue ? this.options.column.columnData[indx][columnObj.foreignKeyValue] :\n                fltrPredicates[indx].value;\n            if (this.options.foreignKeyValue) {\n                data[this.options.foreignKeyValue] = this.options.column.columnData[indx][columnObj.foreignKeyValue];\n            }\n        }\n        return data;\n    };\n    // eslint-disable-next-line max-len\n    ExcelFilterBase.prototype.renderMatchCase = function (column, tr, matchCase, elementId, predicates) {\n        var matchCaseDiv = this.parent.createElement('div', { className: 'e-xlfl-matchcasediv', attrs: { 'style': 'display: inline-block' } });\n        var isComplex = !isNullOrUndefined(column) && isComplexField(column);\n        var complexFieldName = !isNullOrUndefined(column) && getComplexFieldID(column);\n        var matchCaseInput = this.parent.createElement('input', { id: isComplex ? complexFieldName + elementId : column + elementId, attrs: { 'type': 'checkbox' } });\n        matchCaseDiv.appendChild(matchCaseInput);\n        matchCase.appendChild(matchCaseDiv);\n        var flValue = predicates && predicates.length > 0 ?\n            (predicates && predicates.length === 2 ? predicates[1].matchCase : predicates[0].matchCase) :\n            false;\n        // Initialize Match Case check box.\n        var checkbox = new CheckBox({\n            label: this.getLocalizedLabel('MatchCase'),\n            enableRtl: this.parent.enableRtl, checked: flValue\n        });\n        this.childRefs.push(checkbox);\n        // Render initialized CheckBox.\n        checkbox.appendTo(matchCaseInput);\n    };\n    // eslint-disable-next-line max-len\n    ExcelFilterBase.prototype.renderDate = function (options, column, inputValue, fValue, isRtl) {\n        var format = getCustomDateFormat(options.format, options.type) || options.format;\n        var datePicker = new DatePicker(extend({\n            format: format,\n            cssClass: 'e-popup-flmenu',\n            placeholder: this.getLocalizedLabel('CustomFilterDatePlaceHolder'),\n            width: '100%',\n            enableRtl: isRtl,\n            value: new Date(fValue),\n            locale: this.parent.locale\n        }, options.column.filter.params));\n        this.childRefs.push(datePicker);\n        datePicker.appendTo(inputValue);\n    };\n    // eslint-disable-next-line max-len\n    ExcelFilterBase.prototype.renderDateTime = function (options, column, inputValue, fValue, isRtl) {\n        var format = getCustomDateFormat(options.format, options.type);\n        var dateTimePicker = new DateTimePicker(extend({\n            format: format,\n            cssClass: 'e-popup-flmenu',\n            placeholder: this.getLocalizedLabel('CustomFilterDatePlaceHolder'),\n            width: '100%',\n            enableRtl: isRtl,\n            value: new Date(fValue),\n            locale: this.parent.locale\n        }, options.column.filter.params));\n        this.childRefs.push(dateTimePicker);\n        dateTimePicker.appendTo(inputValue);\n    };\n    ExcelFilterBase.prototype.completeAction = function (e) {\n        e.result = distinctStringValues(e.result);\n    };\n    // eslint-disable-next-line max-len\n    ExcelFilterBase.prototype.renderNumericTextBox = function (options, column, inputValue, fValue, isRtl) {\n        var numericTextBox = new NumericTextBox(extend({\n            format: options.format,\n            placeholder: this.getLocalizedLabel('CustomFilterPlaceHolder'),\n            enableRtl: isRtl,\n            value: fValue,\n            locale: this.parent.locale\n        }, options.column.filter.params));\n        this.childRefs.push(numericTextBox);\n        numericTextBox.appendTo(inputValue);\n    };\n    // eslint-disable-next-line max-len\n    ExcelFilterBase.prototype.renderAutoComplete = function (options, column, inputValue, fValue, isRtl) {\n        var colObj = this.options.column;\n        var isForeignColumn = this.isForeignColumn(colObj);\n        var dataSource = isForeignColumn ? colObj.dataSource : options.dataSource;\n        var fields = { value: isForeignColumn ? colObj.foreignKeyValue : column };\n        var actObj = new AutoComplete(extend({\n            dataSource: dataSource instanceof DataManager ? dataSource : new DataManager(dataSource),\n            fields: fields,\n            query: this.getQuery(),\n            sortOrder: 'Ascending',\n            locale: this.parent.locale,\n            cssClass: 'e-popup-flmenu',\n            autofill: true,\n            placeholder: this.getLocalizedLabel('CustomFilterPlaceHolder'),\n            enableRtl: isRtl,\n            text: fValue\n        }, colObj.filter.params));\n        if (dataSource && 'result' in dataSource) {\n            var defObj = eventPromise({ requestType: 'stringfilterrequest' }, this.getQuery());\n            this.parent.trigger(events.dataStateChange, defObj.state);\n            var def = defObj.deffered;\n            def.promise.then(function (e) {\n                actObj.dataSource = new DataManager(e);\n            });\n        }\n        this.childRefs.push(actObj);\n        var evt = { 'actionComplete': this.acActionComplete(actObj, column), 'focus': this.acFocus(actObj, column, options, inputValue) };\n        registerEventHandlers(inputValue.id, [events.actionComplete, literals.focus], evt, this);\n        actObj.addEventListener(literals.focus, this.eventHandlers[inputValue.id][literals.focus]);\n        actObj.addEventListener(events.actionComplete, this.eventHandlers[inputValue.id][events.actionComplete]);\n        actObj.appendTo(inputValue);\n    };\n    ExcelFilterBase.prototype.acActionComplete = function (actObj, column) {\n        return function (e) {\n            var isComplex = !isNullOrUndefined(column) && isComplexField(column);\n            e.result = e.result.filter(function (obj, index, arr) {\n                return arr.map(function (mapObject) {\n                    return isComplex ? performComplexDataOperation(actObj.fields.value, mapObject)\n                        : mapObject[actObj.fields.value];\n                }).indexOf(isComplex ? performComplexDataOperation(actObj.fields.value, obj) :\n                    obj[actObj.fields.value]) === index;\n            });\n        };\n    };\n    ExcelFilterBase.prototype.acFocus = function (actObj, column, options, inputValue) {\n        var _this = this;\n        return function () {\n            var isComplex = !isNullOrUndefined(column) && isComplexField(column);\n            var complexFieldName = !isNullOrUndefined(column) && getComplexFieldID(column);\n            var columnvalue = isComplex ? complexFieldName : column;\n            actObj.filterType = _this.dlgDiv.querySelector('#' + columnvalue +\n                (inputValue.id === (columnvalue + '-xlfl-frstvalue') ?\n                    '-xlfl-frstoptr' :\n                    '-xlfl-secndoptr')).ej2_instances[0].value;\n            actObj.ignoreCase = options.type === 'string' ?\n                !_this.dlgDiv.querySelector('#' + columnvalue + '-xlflmtcase').ej2_instances[0].checked :\n                true;\n            actObj.filterType = !isNullOrUndefined(actObj.filterType) ? actObj.filterType :\n                'equal';\n        };\n    };\n    return ExcelFilterBase;\n}(CheckBoxFilterBase));\nexport { ExcelFilterBase };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { ExcelFilterBase } from '../common/excel-filter-base';\nimport { CheckBoxFilter } from './checkbox-filter';\nimport * as events from '../base/constant';\n/**\n * @hidden\n * `ExcelFilter` module is used to handle filtering action.\n */\nvar ExcelFilter = /** @class */ (function (_super) {\n    __extends(ExcelFilter, _super);\n    /**\n     * Constructor for excelbox filtering module\n     *\n     * @param {IGrid} parent - specifies the IGrid\n     * @param {FilterSettings} filterSettings - specifies the Filtersettings\n     * @param {ServiceLocator} serviceLocator - specifies the serviceLocator\n     * @param {object} customFltrOperators - specifies the customFltrOperators\n     * @hidden\n     */\n    function ExcelFilter(parent, filterSettings, serviceLocator, customFltrOperators) {\n        var _this = _super.call(this, parent, filterSettings, serviceLocator) || this;\n        _this.parent = parent;\n        _this.isresetFocus = true;\n        _this.excelFilterBase = new ExcelFilterBase(parent, customFltrOperators);\n        return _this;\n    }\n    /**\n     * To destroy the excel filter.\n     *\n     * @returns {void}\n     * @hidden\n     */\n    ExcelFilter.prototype.destroy = function () {\n        this.excelFilterBase.closeDialog();\n    };\n    ExcelFilter.prototype.openDialog = function (options) {\n        this.excelFilterBase.openDialog(options);\n    };\n    ExcelFilter.prototype.closeDialog = function () {\n        this.excelFilterBase.closeDialog();\n        if (this.isresetFocus) {\n            this.parent.notify(events.restoreFocus, {});\n        }\n    };\n    ExcelFilter.prototype.clearCustomFilter = function (col) {\n        this.excelFilterBase.clearFilter(col);\n    };\n    ExcelFilter.prototype.closeResponsiveDialog = function (isCustomFilter) {\n        if (isCustomFilter) {\n            this.excelFilterBase.removeDialog();\n        }\n        else {\n            this.closeDialog();\n        }\n    };\n    ExcelFilter.prototype.applyCustomFilter = function (args) {\n        if (!args.isCustomFilter) {\n            this.excelFilterBase.fltrBtnHandler();\n            this.excelFilterBase.closeDialog();\n        }\n        else {\n            this.excelFilterBase.filterBtnClick(args.col.field);\n        }\n    };\n    ExcelFilter.prototype.filterByColumn = function (fieldName, firstOperator, firstValue, predicate, matchCase, ignoreAccent, secondOperator, secondValue) {\n        this.excelFilterBase.filterByColumn(fieldName, firstOperator, firstValue, predicate, matchCase, ignoreAccent, secondOperator, secondValue);\n    };\n    /**\n     * @returns {FilterUI} returns the filterUI\n     * @hidden\n     */\n    ExcelFilter.prototype.getFilterUIInfo = function () {\n        return this.excelFilterBase.getFilterUIInfo();\n    };\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} returns the module name\n     * @private\n     */\n    ExcelFilter.prototype.getModuleName = function () {\n        return 'excelFilter';\n    };\n    return ExcelFilter;\n}(CheckBoxFilter));\nexport { ExcelFilter };\n","import { EventHandler, isNullOrUndefined, extend, closest, getValue } from '@syncfusion/ej2-base';\nimport { getActualPropFromColl, isActionPrevent, getColumnByForeignKeyValue } from '../base/util';\nimport { remove, matches } from '@syncfusion/ej2-base';\nimport { DataUtil, Query, DataManager } from '@syncfusion/ej2-data';\nimport * as events from '../base/constant';\nimport { CellType, ResponsiveDialogAction } from '../base/enum';\nimport { RowRenderer } from '../renderer/row-renderer';\nimport { Cell } from '../models/cell';\nimport { Row } from '../models/row';\nimport { FilterCellRenderer } from '../renderer/filter-cell-renderer';\nimport { parentsUntil } from '../base/util';\nimport { FilterMenuRenderer } from '../renderer/filter-menu-renderer';\nimport { CheckBoxFilter } from '../actions/checkbox-filter';\nimport { ExcelFilter } from '../actions/excel-filter';\nimport * as literals from '../base/string-literals';\nimport { Input } from '@syncfusion/ej2-inputs';\n/**\n *\n * The `Filter` module is used to handle filtering action.\n */\nvar Filter = /** @class */ (function () {\n    /**\n     * Constructor for Grid filtering module\n     *\n     * @param {IGrid} parent - specifies the IGrid\n     * @param {FilterSettings} filterSettings - specifies the filterSettings\n     * @param {ServiceLocator} serviceLocator - specifes the serviceLocator\n     * @hidden\n     */\n    function Filter(parent, filterSettings, serviceLocator) {\n        this.predicate = 'and';\n        this.contentRefresh = true;\n        this.filterByMethod = true;\n        this.refresh = true;\n        this.values = {};\n        this.operators = {};\n        this.cellText = {};\n        this.nextFlMenuOpen = '';\n        this.type = { 'Menu': FilterMenuRenderer, 'CheckBox': CheckBoxFilter, 'Excel': ExcelFilter };\n        /** @hidden */\n        this.filterOperators = {\n            contains: 'contains', endsWith: 'endswith', equal: 'equal', greaterThan: 'greaterthan', greaterThanOrEqual: 'greaterthanorequal',\n            lessThan: 'lessthan', lessThanOrEqual: 'lessthanorequal', notEqual: 'notequal', startsWith: 'startswith'\n        };\n        this.fltrDlgDetails = { field: '', isOpen: false };\n        /** @hidden */\n        this.skipNumberInput = ['=', ' ', '!'];\n        this.skipStringInput = ['>', '<', '='];\n        this.actualPredicate = {};\n        this.parent = parent;\n        this.filterSettings = filterSettings;\n        this.serviceLocator = serviceLocator;\n        this.addEventListener();\n        this.setFullScreenDialog();\n    }\n    /**\n     * To render filter bar when filtering enabled.\n     *\n     * @param {NotifyArgs} e - specifies the NotifyArgs\n     * @returns {void}\n     * @hidden\n     */\n    Filter.prototype.render = function (e) {\n        if (DataUtil.getObject('args.isFrozen', e) || (this.parent.getFrozenMode() === literals.leftRight &&\n            DataUtil.getObject('args.renderFrozenRightContent', e))) {\n            return;\n        }\n        var gObj = this.parent;\n        this.l10n = this.serviceLocator.getService('localization');\n        this.getLocalizedCustomOperators();\n        if (this.parent.filterSettings.type === 'FilterBar') {\n            if (gObj.columns.length) {\n                var fltrElem = this.parent.element.querySelector('.e-filterbar');\n                if (fltrElem) {\n                    remove(fltrElem);\n                }\n                var rowRenderer = new RowRenderer(this.serviceLocator, CellType.Filter, gObj);\n                var cellrender = this.serviceLocator.getService('cellRendererFactory');\n                cellrender.addCellRenderer(CellType.Filter, new FilterCellRenderer(this.parent, this.serviceLocator));\n                this.valueFormatter = this.serviceLocator.getService('valueFormatter');\n                rowRenderer.element = this.parent.createElement('tr', { className: 'e-filterbar' });\n                var row = this.generateRow();\n                row.data = this.values;\n                if (gObj.getFrozenMode() === 'Right') {\n                    var thead = gObj.getFrozenRightHeader().querySelector('thead');\n                    thead.appendChild(rowRenderer.element);\n                }\n                else {\n                    this.parent.getHeaderContent().querySelector('thead').appendChild(rowRenderer.element);\n                }\n                var rowdrag = this.parent.element.querySelector('.e-rowdragheader');\n                this.element = rowRenderer.render(row, gObj.getColumns(), null, null, rowRenderer.element);\n                var detail = this.element.querySelector('.e-detailheadercell');\n                if (detail) {\n                    detail.className = 'e-filterbarcell e-mastercell';\n                }\n                if (rowdrag) {\n                    rowdrag.className = 'e-dragheadercell e-mastercell';\n                }\n                var gCells = [].slice.call(this.element.getElementsByClassName('e-grouptopleftcell'));\n                if (gCells.length) {\n                    gCells[gCells.length - 1].classList.add('e-lastgrouptopleftcell');\n                }\n                this.wireEvents();\n                this.parent.notify(events.freezeRender, { case: 'filter' });\n            }\n        }\n    };\n    /**\n     * To show the responsive custom filter dialog\n     *\n     * @param {boolean} enable - specifes dialog open\n     * @returns {void}\n     * @hidden\n     */\n    Filter.prototype.showCustomFilter = function (enable) {\n        this.responsiveDialogRenderer.isCustomDialog = enable;\n        this.responsiveDialogRenderer.showResponsiveDialog(this.column);\n    };\n    /**\n     * To create the filter module.\n     *\n     * @param {Column} col - specifies the filtering column name\n     * @returns {void}\n     * @hidden\n     */\n    Filter.prototype.setFilterModel = function (col) {\n        var type = col.filter.type || this.parent.filterSettings.type;\n        this.filterModule = new this.type[type](this.parent, this.parent.filterSettings, this.serviceLocator, this.customOperators, this);\n    };\n    /**\n     * To destroy the filter bar.\n     *\n     * @returns {void}\n     * @hidden\n     */\n    Filter.prototype.destroy = function () {\n        var gridElement = this.parent.element;\n        if (!gridElement || (!gridElement.querySelector('.' + literals.gridHeader) && !gridElement.querySelector('.' + literals.gridContent))) {\n            return;\n        }\n        if (this.filterModule) {\n            this.filterModule.destroy();\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (!this.parent.refreshing && (this.parent.isDestroyed || !this.parent.allowFiltering)) {\n            this.filterSettings.columns = [];\n        }\n        this.updateFilterMsg();\n        this.removeEventListener();\n        this.unWireEvents();\n        if (this.filterSettings.type === 'FilterBar' && this.filterSettings.showFilterBarOperator) {\n            var dropdownlist = [].slice.call(this.element.getElementsByClassName('e-filterbaroperator'));\n            for (var i = 0; i < dropdownlist.length; i++) {\n                if (dropdownlist[i].ej2_instances[0]) {\n                    dropdownlist[i].ej2_instances[0].destroy();\n                }\n            }\n        }\n        if (this.element) {\n            if (this.element.parentElement) {\n                remove(this.element);\n            }\n            var filterBarElement = this.parent.getHeaderContent().querySelector('.e-filterbar');\n            if (this.parent.isFrozenGrid() && filterBarElement) {\n                remove(filterBarElement);\n            }\n        }\n    };\n    Filter.prototype.setFullScreenDialog = function () {\n        if (this.serviceLocator) {\n            this.serviceLocator.registerAdaptiveService(this, this.parent.enableAdaptiveUI, ResponsiveDialogAction.isFilter);\n        }\n    };\n    Filter.prototype.generateRow = function () {\n        var options = {};\n        var row = new Row(options);\n        row.cells = this.generateCells();\n        return row;\n    };\n    Filter.prototype.generateCells = function () {\n        //TODO: generate dummy column for group, detail, stacked row here for filtering;\n        var cells = [];\n        if (this.parent.allowGrouping) {\n            for (var c = 0, len = this.parent.groupSettings.columns.length; c < len; c++) {\n                cells.push(this.generateCell({}, CellType.HeaderIndent));\n            }\n        }\n        if (this.parent.detailTemplate || this.parent.childGrid) {\n            cells.push(this.generateCell({}, CellType.DetailHeader));\n        }\n        if (this.parent.isRowDragable() && this.parent.getFrozenMode() !== 'Right') {\n            cells.push(this.generateCell({}, CellType.RowDragHIcon));\n        }\n        for (var _i = 0, _a = this.parent.getColumns(); _i < _a.length; _i++) {\n            var dummy = _a[_i];\n            cells.push(this.generateCell(dummy));\n        }\n        if (this.parent.getFrozenMode() === 'Right') {\n            cells.push(this.generateCell({}, CellType.RowDragHIcon));\n        }\n        return cells;\n    };\n    Filter.prototype.generateCell = function (column, cellType) {\n        var opt = {\n            'visible': column.visible,\n            'isDataCell': false,\n            'rowId': '',\n            'column': column,\n            'cellType': cellType ? cellType : CellType.Filter,\n            'attributes': { title: this.l10n.getConstant('FilterbarTitle') }\n        };\n        return new Cell(opt);\n    };\n    /**\n     * To update filterSettings when applying filter.\n     *\n     * @returns {void}\n     * @hidden\n     */\n    Filter.prototype.updateModel = function () {\n        var col = this.parent.getColumnByField(this.fieldName);\n        this.filterObjIndex = this.getFilteredColsIndexByField(col);\n        this.prevFilterObject = this.filterSettings.columns[this.filterObjIndex];\n        var arrayVal = Array.isArray(this.value) ? this.value : [this.value];\n        var moduleName = this.parent.dataSource.adaptor && this.parent.dataSource.adaptor.getModuleName ? this.parent.dataSource.adaptor.getModuleName() : undefined;\n        for (var i = 0, len = arrayVal.length; i < len; i++) {\n            var field = col.isForeignColumn() ? col.foreignKeyValue : this.fieldName;\n            var isMenuNotEqual = this.operator === 'notequal';\n            this.currentFilterObject = {\n                field: field, uid: col.uid, isForeignKey: col.isForeignColumn(), operator: this.operator,\n                value: arrayVal[i], predicate: this.predicate,\n                matchCase: this.matchCase, ignoreAccent: this.ignoreAccent, actualFilterValue: {}, actualOperator: {}\n            };\n            var index = this.getFilteredColsIndexByField(col);\n            if (index > -1 && !Array.isArray(this.value)) {\n                this.filterSettings.columns[index] = this.currentFilterObject;\n            }\n            else {\n                this.filterSettings.columns.push(this.currentFilterObject);\n            }\n            if (isNullOrUndefined(this.value) && (this.operator === 'equal' || this.operator === 'notequal') &&\n                (moduleName !== 'ODataAdaptor' && moduleName !== 'ODataV4Adaptor')) {\n                this.filterSettings.columns = [];\n                if (col.type === 'string') {\n                    this.filterSettings.columns.push({\n                        field: field, ignoreAccent: this.ignoreAccent, matchCase: this.matchCase,\n                        operator: this.operator, predicate: isMenuNotEqual ? 'and' : 'or', value: ''\n                    });\n                }\n                this.filterSettings.columns.push({\n                    field: field, ignoreAccent: this.ignoreAccent, matchCase: this.matchCase,\n                    operator: this.operator, predicate: isMenuNotEqual ? 'and' : 'or', value: undefined\n                });\n                this.filterSettings.columns.push({\n                    field: field, ignoreAccent: this.ignoreAccent, matchCase: this.matchCase,\n                    operator: this.operator, predicate: isMenuNotEqual ? 'and' : 'or', value: null\n                });\n            }\n        }\n        // eslint-disable-next-line no-self-assign\n        this.filterSettings.columns = this.filterSettings.columns;\n        this.parent.dataBind();\n    };\n    Filter.prototype.getFilteredColsIndexByField = function (col) {\n        var cols = this.filterSettings.columns;\n        for (var i = 0, len = cols.length; i < len; i++) {\n            if (cols[i].uid === col.uid || (col.isForeignColumn() && this.parent.getColumnByUid(col.uid).field === col.foreignKeyValue)) {\n                return i;\n            }\n        }\n        return -1;\n    };\n    /**\n     * To trigger action complete event.\n     *\n     * @param {NotifyArgs} e - specifies the NotifyArgs\n     * @returns {void}\n     * @hidden\n     */\n    Filter.prototype.onActionComplete = function (e) {\n        var args = !this.isRemove ? {\n            currentFilterObject: this.currentFilterObject,\n            /* tslint:disable:no-string-literal */\n            currentFilteringColumn: !isNullOrUndefined(this.column) ? this.column.field : undefined,\n            /* tslint:enable:no-string-literal */\n            columns: this.filterSettings.columns, requestType: 'filtering', type: events.actionComplete\n        } : {\n            requestType: 'filtering', type: events.actionComplete\n        };\n        this.parent.trigger(events.actionComplete, extend(e, args));\n        this.isRemove = false;\n    };\n    Filter.prototype.wireEvents = function () {\n        EventHandler.add(this.parent.getHeaderContent(), 'keyup', this.keyUpHandlerImmediate, this);\n    };\n    Filter.prototype.unWireEvents = function () {\n        EventHandler.remove(this.parent.getHeaderContent(), 'keyup', this.keyUpHandlerImmediate);\n    };\n    Filter.prototype.enableAfterRender = function (e) {\n        if (e.module === this.getModuleName() && e.enable) {\n            this.parent.getHeaderTable().classList.add('e-sortfilter');\n            this.render();\n        }\n    };\n    Filter.prototype.refreshFilterValue = function () {\n        if (this.filterSettings.type === 'FilterBar' && this.filterSettings.columns.length &&\n            !this.parent.getCurrentViewRecords().length && this.parent.enablePersistence) {\n            this.initialEnd();\n            this.parent.removeEventListener(events.beforeDataBound, this.refreshFilterValueFn);\n        }\n    };\n    Filter.prototype.initialEnd = function () {\n        this.parent.off(events.contentReady, this.initialEnd);\n        if (this.parent.getColumns().length && this.filterSettings.columns.length) {\n            var gObj = this.parent;\n            this.contentRefresh = false;\n            this.initialLoad = true;\n            for (var _i = 0, _a = gObj.filterSettings.columns; _i < _a.length; _i++) {\n                var col = _a[_i];\n                this.filterByColumn(col.field, col.operator, col.value, col.predicate, col.matchCase, col.ignoreAccent, col.actualFilterValue, col.actualOperator);\n            }\n            this.initialLoad = false;\n            this.updateFilterMsg();\n            this.contentRefresh = true;\n        }\n    };\n    /**\n     * @returns {void}\n     * @hidden\n     */\n    Filter.prototype.addEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.on(events.setFullScreenDialog, this.setFullScreenDialog, this);\n        this.parent.on(events.uiUpdate, this.enableAfterRender, this);\n        this.parent.on(events.filterComplete, this.onActionComplete, this);\n        this.parent.on(events.inBoundModelChanged, this.onPropertyChanged, this);\n        this.parent.on(events.keyPressed, this.keyUpHandler, this);\n        this.parent.on(events.columnPositionChanged, this.columnPositionChanged, this);\n        this.parent.on(events.headerRefreshed, this.render, this);\n        this.parent.on(events.contentReady, this.initialEnd, this);\n        this.parent.on(events.filterMenuClose, this.filterMenuClose, this);\n        this.docClickHandler = this.clickHandler.bind(this);\n        EventHandler.add(document, 'click', this.docClickHandler, this);\n        EventHandler.add(this.parent.element, 'mousedown', this.refreshClearIcon, this);\n        this.parent.on(events.filterOpen, this.columnMenuFilter, this);\n        this.parent.on(events.click, this.filterIconClickHandler, this);\n        this.parent.on('persist-data-changed', this.initialEnd, this);\n        this.parent.on(events.closeFilterDialog, this.clickHandler, this);\n        this.parent.on(events.destroy, this.destroy, this);\n        this.refreshFilterValueFn = this.refreshFilterValue.bind(this);\n        this.parent.addEventListener(events.beforeDataBound, this.refreshFilterValueFn);\n    };\n    /**\n     * @returns {void}\n     * @hidden\n     */\n    Filter.prototype.removeEventListener = function () {\n        EventHandler.remove(document, 'click', this.docClickHandler);\n        EventHandler.remove(this.parent.element, 'mousedown', this.refreshClearIcon);\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off(events.setFullScreenDialog, this.setFullScreenDialog);\n        this.parent.off(events.uiUpdate, this.enableAfterRender);\n        this.parent.off(events.filterComplete, this.onActionComplete);\n        this.parent.off(events.inBoundModelChanged, this.onPropertyChanged);\n        this.parent.off(events.keyPressed, this.keyUpHandler);\n        this.parent.off(events.columnPositionChanged, this.columnPositionChanged);\n        this.parent.off(events.headerRefreshed, this.render);\n        this.parent.off(events.filterOpen, this.columnMenuFilter);\n        this.parent.off(events.filterMenuClose, this.filterMenuClose);\n        this.parent.off(events.click, this.filterIconClickHandler);\n        this.parent.off(events.closeFilterDialog, this.clickHandler);\n        this.parent.off(events.destroy, this.destroy);\n    };\n    Filter.prototype.refreshClearIcon = function (e) {\n        if (this.parent.allowFiltering && this.parent.filterSettings.type === 'FilterBar' &&\n            e.target.classList.contains('e-clear-icon')) {\n            var targetText = e.target.previousElementSibling;\n            Input.setValue(null, targetText, 'Never', true);\n            if (this.filterSettings.mode === 'Immediate') {\n                this.removeFilteredColsByField(targetText.id.slice(0, -14)); //Length of _filterBarcell = 14\n            }\n        }\n    };\n    Filter.prototype.filterMenuClose = function () {\n        this.fltrDlgDetails.isOpen = false;\n    };\n    /**\n     * Filters the Grid row by fieldName, filterOperator, and filterValue.\n     *\n     * @param  {string} fieldName - Defines the field name of the filter column.\n     * @param  {string} filterOperator - Defines the operator to filter records.\n     * @param  {string | number | Date | boolean} filterValue - Defines the value which is used to filter records.\n     * @param  {string} predicate - Defines the relationship of one filter query with another by using AND or OR predicate.\n     * @param  {boolean} matchCase - If match case is set to true, then the filter records\n     * the exact match or <br> filters records that are case insensitive (uppercase and lowercase letters treated the same).\n     * @param {boolean} ignoreAccent - If ignoreAccent set to true, then filter ignores the diacritic characters or accents while filtering.\n     * @param  {string} actualFilterValue - Defines the actual filter value for the filter column.\n     * @param  {string} actualOperator - Defines the actual filter operator for the filter column.\n     * @returns {void}\n     */\n    Filter.prototype.filterByColumn = function (fieldName, filterOperator, filterValue, predicate, matchCase, ignoreAccent, actualFilterValue, actualOperator) {\n        var _this = this;\n        var gObj = this.parent;\n        var filterCell;\n        this.column = gObj.grabColumnByFieldFromAllCols(fieldName);\n        if (this.filterSettings.type === 'FilterBar' && this.filterSettings.showFilterBarOperator\n            && isNullOrUndefined(this.column.filterBarTemplate)) {\n            filterOperator = this.getOperatorName(fieldName);\n        }\n        if (!this.column) {\n            return;\n        }\n        if (this.filterSettings.type === 'FilterBar') {\n            filterCell = gObj.getHeaderContent().querySelector('[id=\\'' + this.column.field + '_filterBarcell\\']');\n        }\n        if (!isNullOrUndefined(this.column.allowFiltering) && !this.column.allowFiltering) {\n            this.parent.log('action_disabled_column', { moduleName: this.getModuleName(), columnName: this.column.headerText });\n            return;\n        }\n        if (isActionPrevent(gObj)) {\n            gObj.notify(events.preventBatch, {\n                instance: this, handler: this.filterByColumn, arg1: fieldName, arg2: filterOperator, arg3: filterValue, arg4: predicate,\n                arg5: matchCase, arg6: ignoreAccent, arg7: actualFilterValue, arg8: actualOperator\n            });\n            return;\n        }\n        this.predicate = predicate ? predicate : Array.isArray(filterValue) ? 'or' : 'and';\n        this.value = filterValue;\n        this.matchCase = matchCase || false;\n        this.ignoreAccent = this.ignoreAccent = !isNullOrUndefined(ignoreAccent) ? ignoreAccent : this.parent.filterSettings.ignoreAccent;\n        this.fieldName = fieldName;\n        this.operator = filterOperator;\n        filterValue = !isNullOrUndefined(filterValue) ? filterValue.toString() : filterValue;\n        if (this.column.type === 'number' || this.column.type === 'date') {\n            this.matchCase = true;\n        }\n        gObj.getColumnHeaderByField(fieldName).setAttribute('aria-filtered', 'true');\n        if (filterCell && this.filterSettings.type === 'FilterBar') {\n            if ((filterValue && filterValue.length < 1) || (!this.filterByMethod &&\n                this.checkForSkipInput(this.column, filterValue))) {\n                this.filterStatusMsg = (filterValue && filterValue.length < 1) ? '' : this.l10n.getConstant('InvalidFilterMessage');\n                this.updateFilterMsg();\n                return;\n            }\n            if (filterCell.value !== filterValue) {\n                filterCell.value = filterValue;\n            }\n        }\n        if (!isNullOrUndefined(this.column.format)) {\n            this.applyColumnFormat(filterValue);\n            if (this.initialLoad && this.filterSettings.type === 'FilterBar') {\n                filterCell.value = this.values[this.column.field];\n            }\n        }\n        else {\n            this.values[this.column.field] = filterValue; //this line should be above updateModel\n        }\n        var predObj = {\n            field: this.fieldName,\n            predicate: predicate,\n            matchCase: matchCase,\n            ignoreAccent: ignoreAccent,\n            operator: this.operator,\n            value: this.value,\n            type: this.column.type\n        };\n        var filterColumn = this.parent.filterSettings.columns.filter(function (fColumn) {\n            return (fColumn.field === _this.fieldName);\n        });\n        if (filterColumn.length > 1 && !isNullOrUndefined(this.actualPredicate[this.fieldName])) {\n            this.actualPredicate[this.fieldName].push(predObj);\n        }\n        else {\n            this.actualPredicate[this.fieldName] = [predObj];\n        }\n        if (this.checkAlreadyColFiltered(this.column.field)) {\n            return;\n        }\n        this.updateModel();\n    };\n    Filter.prototype.applyColumnFormat = function (filterValue) {\n        var _this = this;\n        var getFlvalue = (this.column.type === 'date' || this.column.type === 'datetime') ?\n            new Date(filterValue) : parseFloat(filterValue);\n        if ((this.column.type === 'date' || this.column.type === 'datetime') && filterValue &&\n            filterValue.split(',').length > 1) {\n            this.values[this.column.field] = ((filterValue).split(',')).map(function (val) {\n                return _this.setFormatForFlColumn(new Date(val), _this.column);\n            });\n        }\n        else {\n            this.values[this.column.field] = this.setFormatForFlColumn(getFlvalue, this.column);\n        }\n    };\n    // To skip the second time request to server while applying initial filtering - EJ2-44361\n    Filter.prototype.skipUid = function (col) {\n        var flag = true;\n        var colLen = Object.keys((col));\n        for (var i = 0; i < colLen.length; i++) {\n            var key = Object.keys(col[colLen[i]]);\n            if (key.length === 1 && key[0] === 'uid') {\n                flag = false;\n            }\n        }\n        return flag;\n    };\n    Filter.prototype.onPropertyChanged = function (e) {\n        if (e.module !== this.getModuleName()) {\n            return;\n        }\n        for (var _i = 0, _a = Object.keys(e.properties); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'columns':\n                    // eslint-disable-next-line no-case-declarations\n                    var col = 'columns';\n                    // eslint-disable-next-line no-case-declarations\n                    var args = {\n                        currentFilterObject: this.currentFilterObject, currentFilteringColumn: this.column ?\n                            this.column.field : undefined, action: 'filter', columns: this.filterSettings.columns,\n                        requestType: 'filtering', type: events.actionBegin, cancel: false\n                    };\n                    if (this.contentRefresh && this.skipUid(e.properties[col])) {\n                        this.parent.notify(events.modelChanged, args);\n                        if (args.cancel) {\n                            if (isNullOrUndefined(this.prevFilterObject)) {\n                                this.filterSettings.columns.splice(this.filterSettings.columns.length - 1, 1);\n                            }\n                            else {\n                                this.filterSettings.columns[this.filterObjIndex] = this.prevFilterObject;\n                            }\n                            return;\n                        }\n                        this.updateFilterIcon();\n                        this.refreshFilterSettings();\n                        this.updateFilterMsg();\n                        this.updateFilter();\n                    }\n                    break;\n                case 'showFilterBarStatus':\n                    if (e.properties[prop]) {\n                        this.updateFilterMsg();\n                    }\n                    else if (this.parent.allowPaging) {\n                        this.parent.updateExternalMessage('');\n                    }\n                    break;\n                case 'showFilterBarOperator':\n                case 'type':\n                    this.parent.refreshHeader();\n                    this.refreshFilterSettings();\n                    break;\n            }\n        }\n    };\n    Filter.prototype.refreshFilterSettings = function () {\n        if (this.filterSettings.type === 'FilterBar') {\n            for (var i = 0; i < this.filterSettings.columns.length; i++) {\n                this.column = this.parent.grabColumnByUidFromAllCols(this.filterSettings.columns[i].uid);\n                var filterValue = this.filterSettings.columns[i].value;\n                filterValue = !isNullOrUndefined(filterValue) && filterValue.toString();\n                if (!isNullOrUndefined(this.column.format)) {\n                    this.applyColumnFormat(filterValue);\n                }\n                else {\n                    var key = this.filterSettings.columns[i].field;\n                    this.values[key] = this.filterSettings.columns[i].value;\n                }\n                var filterElement = this.getFilterBarElement(this.column.field);\n                if (filterElement) {\n                    if (this.cellText[this.filterSettings.columns[i].field] !== ''\n                        && !isNullOrUndefined(this.cellText[this.filterSettings.columns[i].field])) {\n                        filterElement.value = this.cellText[this.column.field];\n                    }\n                    else {\n                        filterElement.value = this.filterSettings.columns[i].value;\n                    }\n                }\n            }\n            if (this.filterSettings.columns.length === 0) {\n                var col = this.parent.getColumns();\n                for (var i = 0; i < col.length; i++) {\n                    var filterElement = this.getFilterBarElement(col[i].field);\n                    if (filterElement && filterElement.value !== '') {\n                        filterElement.value = '';\n                        delete this.values[col[i].field];\n                    }\n                }\n            }\n        }\n    };\n    Filter.prototype.updateFilterIcon = function () {\n        if (this.filterSettings.columns.length === 0 && this.parent.element.querySelector('.e-filtered')) {\n            var fltrIconElement = [].slice.call(this.parent.element.getElementsByClassName('e-filtered'));\n            for (var i = 0, len = fltrIconElement.length; i < len; i++) {\n                fltrIconElement[i].removeAttribute('aria-filtered');\n                fltrIconElement[i].classList.remove('e-filtered');\n            }\n        }\n    };\n    Filter.prototype.getFilterBarElement = function (col) {\n        var selector = '[id=\\'' + col + '_filterBarcell\\']';\n        var filterElement;\n        if (selector && !isNullOrUndefined(this.element)) {\n            filterElement = this.element.querySelector(selector);\n        }\n        return filterElement;\n    };\n    /**\n     * @private\n     * @returns {void}\n     */\n    Filter.prototype.refreshFilter = function () {\n        this.refreshFilterSettings();\n        this.updateFilterMsg();\n    };\n    /**\n     * Clears all the filtered rows of the Grid.\n     *\n     * @param {string[]} fields - returns the fields\n     * @returns {void}\n     */\n    Filter.prototype.clearFiltering = function (fields) {\n        var _this = this;\n        var cols = getActualPropFromColl(this.filterSettings.columns);\n        if (!isNullOrUndefined(fields)) {\n            this.refresh = false;\n            fields.forEach(function (field) { _this.removeFilteredColsByField(field, false); });\n            this.parent.setProperties({ filterSettings: { columns: this.filterSettings.columns } }, true);\n            this.parent.renderModule.refresh();\n            this.refresh = true;\n            return;\n        }\n        if (isActionPrevent(this.parent)) {\n            this.parent.notify(events.preventBatch, { instance: this, handler: this.clearFiltering });\n            return;\n        }\n        for (var i = 0; i < cols.length; i++) {\n            cols[i].uid = cols[i].uid || this.parent.getColumnByField(cols[i].field).uid;\n        }\n        var colUid = cols.map(function (f) { return f.uid; });\n        var filteredcols = colUid.filter(function (item, pos) { return colUid.indexOf(item) === pos; });\n        this.refresh = false;\n        for (var i = 0, len = filteredcols.length; i < len; i++) {\n            this.removeFilteredColsByField(this.parent.getColumnByUid(filteredcols[i]).field, false);\n        }\n        this.refresh = true;\n        if (filteredcols.length) {\n            this.parent.renderModule.refresh();\n        }\n        if (this.parent.filterSettings.columns.length === 0 && this.parent.element.querySelector('.e-filtered')) {\n            var fltrElement = [].slice.call(this.parent.element.getElementsByClassName('e-filtered'));\n            for (var i = 0, len = fltrElement.length; i < len; i++) {\n                fltrElement[0].removeAttribute('aria-filtered');\n                fltrElement[0].classList.remove('e-filtered');\n            }\n        }\n        this.isRemove = true;\n        this.filterStatusMsg = '';\n        this.updateFilterMsg();\n    };\n    Filter.prototype.checkAlreadyColFiltered = function (field) {\n        var columns = this.filterSettings.columns;\n        for (var _i = 0, columns_1 = columns; _i < columns_1.length; _i++) {\n            var col = columns_1[_i];\n            if (col.field === field && col.value === this.value &&\n                col.operator === this.operator && col.predicate === this.predicate) {\n                return true;\n            }\n        }\n        return false;\n    };\n    Filter.prototype.columnMenuFilter = function (args) {\n        this.column = args.col;\n        var ele = closest(args.target, '#' + args.id);\n        if (args.isClose && !ele) {\n            this.filterModule.closeDialog();\n        }\n        else if (ele) {\n            this.filterDialogOpen(this.column, args.target);\n        }\n    };\n    Filter.prototype.filterDialogOpen = function (col, target, left, top) {\n        if (this.filterModule) {\n            this.filterModule.closeDialog();\n        }\n        this.setFilterModel(col);\n        this.filterModule.openDialog(this.createOptions(col, target, left, top));\n    };\n    /**\n     * Create filter dialog options\n     *\n     * @param  {Column} col - Filtering column detail.\n     * @param  {Element} target -  Filter dialog target.\n     * @param  {number} left -  Filter dialog left position.\n     * @param  {number} top -  Filter dialog top position.\n     * @returns {Object} returns the created dialog options\n     * @hidden\n     */\n    Filter.prototype.createOptions = function (col, target, left, top) {\n        var gObj = this.parent;\n        var dataSource = col.filter.dataSource || gObj.dataSource && 'result' in gObj.dataSource ? gObj.dataSource :\n            gObj.getDataModule().dataManager;\n        var type = col.filter.type || this.parent.filterSettings.type;\n        var options = {\n            type: col.type, field: col.field, displayName: col.headerText,\n            dataSource: dataSource, format: col.format, height: 800, columns: gObj.getColumns(),\n            filteredColumns: gObj.filterSettings.columns, target: target, dataManager: gObj.getDataModule().dataManager,\n            formatFn: col.getFormatter(), ignoreAccent: gObj.filterSettings.ignoreAccent,\n            parserFn: col.getParser(), query: gObj.query, template: col.getFilterItemTemplate(),\n            hideSearchbox: isNullOrUndefined(col.filter.hideSearchbox) ? false : col.filter.hideSearchbox,\n            handler: this.filterHandler.bind(this), localizedStrings: gObj.getLocaleConstants(),\n            position: { X: left, Y: top }, column: col, foreignKeyValue: col.foreignKeyValue,\n            actualPredicate: this.actualPredicate, localeObj: gObj.localeObj,\n            isRemote: gObj.getDataModule().isRemote(), allowCaseSensitive: this.filterSettings.enableCaseSensitivity,\n            isResponsiveFilter: this.parent.enableAdaptiveUI,\n            operator: this.actualPredicate[col.field] && type === 'Menu' ? this.actualPredicate[col.field][0].operator : 'equal'\n        };\n        return options;\n    };\n    /**\n     * Removes filtered column by field name.\n     *\n     * @param  {string} field - Defines column field name to remove filter.\n     * @param  {boolean} isClearFilterBar - Specifies whether the filter bar value needs to be cleared.\n     * @returns {void}\n     * @hidden\n     */\n    Filter.prototype.removeFilteredColsByField = function (field, isClearFilterBar) {\n        var fCell;\n        var cols = this.filterSettings.columns;\n        if (isActionPrevent(this.parent)) {\n            var args = { instance: this, handler: this.removeFilteredColsByField, arg1: field, arg2: isClearFilterBar };\n            this.parent.notify(events.preventBatch, args);\n            return;\n        }\n        var colUid = cols.map(function (f) { return f.uid; });\n        var filteredColsUid = colUid.filter(function (item, pos) { return colUid.indexOf(item) === pos; });\n        var _loop_1 = function (i, len) {\n            cols[i].uid = cols[i].uid || this_1.parent.getColumnByField(cols[i].field).uid;\n            var len_1 = cols.length;\n            var column = this_1.parent.grabColumnByUidFromAllCols(filteredColsUid[i]);\n            if (column.field === field || (column.field === column.foreignKeyValue && column.isForeignColumn())) {\n                var currentPred = this_1.filterSettings.columns.filter(function (e) {\n                    return e.uid === column.uid;\n                })[0];\n                if (this_1.filterSettings.type === 'FilterBar' && !isClearFilterBar) {\n                    var selector = '[id=\\'' + column.field + '_filterBarcell\\']';\n                    fCell = this_1.parent.getHeaderContent().querySelector(selector);\n                    if (fCell) {\n                        fCell.value = '';\n                        delete this_1.values[field];\n                    }\n                }\n                while (len_1--) {\n                    if (cols[len_1].uid === column.uid) {\n                        cols.splice(len_1, 1);\n                    }\n                }\n                var fltrElement = this_1.parent.getColumnHeaderByField(column.field);\n                fltrElement.removeAttribute('aria-filtered');\n                if (this_1.filterSettings.type !== 'FilterBar') {\n                    var iconClass = this_1.parent.showColumnMenu && column.showColumnMenu ? '.e-columnmenu' : '.e-icon-filter';\n                    fltrElement.querySelector(iconClass).classList.remove('e-filtered');\n                }\n                this_1.isRemove = true;\n                if (this_1.actualPredicate[field]) {\n                    delete this_1.actualPredicate[field];\n                }\n                if (this_1.values[field]) {\n                    delete this_1.values[field];\n                }\n                if (this_1.refresh) {\n                    this_1.parent.notify(events.modelChanged, {\n                        requestType: 'filtering', type: events.actionBegin, currentFilterObject: currentPred,\n                        currentFilterColumn: column, action: 'clearFilter'\n                    });\n                }\n                return \"break\";\n            }\n        };\n        var this_1 = this;\n        for (var i = 0, len = filteredColsUid.length; i < len; i++) {\n            var state_1 = _loop_1(i, len);\n            if (state_1 === \"break\")\n                break;\n        }\n        this.updateFilterMsg();\n    };\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} returns the module name\n     * @private\n     */\n    Filter.prototype.getModuleName = function () {\n        return 'filter';\n    };\n    Filter.prototype.keyUpHandlerImmediate = function (e) {\n        if (e.keyCode !== 13) {\n            this.keyUpHandler(e);\n        }\n    };\n    Filter.prototype.keyUpHandler = function (e) {\n        var gObj = this.parent;\n        var target = e.target;\n        if (target && matches(target, '.e-filterbar input')) {\n            var closeHeaderEle = closest(target, 'th.e-filterbarcell');\n            this.column = gObj.getColumnByUid(closeHeaderEle.getAttribute('e-mappinguid'));\n            if (!this.column) {\n                return;\n            }\n            if (e.action === 'altDownArrow' && this.parent.filterSettings.showFilterBarOperator) {\n                var dropDownListInput = closest(target, 'span').querySelector('.e-filterbaroperator');\n                dropDownListInput.ej2_instances[0].showPopup();\n                dropDownListInput.focus();\n            }\n            if ((this.filterSettings.mode === 'Immediate' || (e.keyCode === 13 &&\n                !e.target.classList.contains('e-filterbaroperator')))\n                && e.keyCode !== 9 && !this.column.filterTemplate) {\n                this.value = target.value.trim();\n                this.processFilter(e);\n            }\n        }\n        if (e.action === 'altDownArrow' && this.filterSettings.type !== 'FilterBar') {\n            var element = gObj.focusModule.currentInfo.element;\n            if (element && element.classList.contains('e-headercell')) {\n                var column = gObj.getColumnByUid(element.firstElementChild.getAttribute('e-mappinguid'));\n                this.openMenuByField(column.field);\n                this.parent.focusModule.clearIndicator();\n            }\n        }\n        if (e.action === 'escape' && this.filterSettings.type === 'Menu' && this.filterModule) {\n            this.filterModule.closeDialog();\n            gObj.notify(events.restoreFocus, {});\n        }\n    };\n    Filter.prototype.updateCrossIcon = function (element) {\n        if (element.value.length) {\n            element.nextElementSibling.classList.remove('e-hide');\n        }\n    };\n    Filter.prototype.updateFilterMsg = function () {\n        if (this.filterSettings.type === 'FilterBar') {\n            var gObj = this.parent;\n            var getFormatFlValue = void 0;\n            var columns = this.filterSettings.columns;\n            var column = void 0;\n            if (!this.filterSettings.showFilterBarStatus) {\n                return;\n            }\n            if (columns.length > 0 && this.filterStatusMsg !== this.l10n.getConstant('InvalidFilterMessage')) {\n                this.filterStatusMsg = '';\n                for (var index = 0; index < columns.length; index++) {\n                    column = gObj.grabColumnByUidFromAllCols(columns[index].uid) || gObj.grabColumnByFieldFromAllCols(columns[index].field);\n                    if (index) {\n                        this.filterStatusMsg += ' && ';\n                    }\n                    if (!isNullOrUndefined(column.format)) {\n                        var flValue = (column.type === 'date' || column.type === 'datetime') ?\n                            this.valueFormatter.fromView(this.values[column.field], column.getParser(), column.type) :\n                            this.values[column.field];\n                        if (!(column.type === 'date' || column.type === 'datetime')) {\n                            var formater = this.serviceLocator.getService('valueFormatter');\n                            getFormatFlValue = formater.toView(flValue, column.getParser()).toString();\n                        }\n                        else {\n                            getFormatFlValue = this.setFormatForFlColumn(flValue, column);\n                        }\n                        this.filterStatusMsg += column.headerText + ': ' + getFormatFlValue;\n                    }\n                    else {\n                        this.filterStatusMsg += column.headerText + ': ' + this.values[column.field];\n                    }\n                }\n            }\n            if (gObj.allowPaging) {\n                gObj.updateExternalMessage(this.filterStatusMsg);\n            }\n            //TODO: virtual paging\n            this.filterStatusMsg = '';\n        }\n    };\n    Filter.prototype.setFormatForFlColumn = function (value, column) {\n        var formater = this.serviceLocator.getService('valueFormatter');\n        return formater.toView(value, column.getFormatter()).toString();\n    };\n    Filter.prototype.checkForSkipInput = function (column, value) {\n        var isSkip;\n        if (column.type === 'number') {\n            if (DataUtil.operatorSymbols[value] || this.skipNumberInput.indexOf(value) > -1) {\n                isSkip = true;\n            }\n        }\n        else if (column.type === 'string') {\n            for (var _i = 0, value_1 = value; _i < value_1.length; _i++) {\n                var val = value_1[_i];\n                if (this.skipStringInput.indexOf(val) > -1) {\n                    isSkip = true;\n                }\n            }\n        }\n        return isSkip;\n    };\n    Filter.prototype.processFilter = function (e) {\n        this.stopTimer();\n        this.startTimer(e);\n    };\n    Filter.prototype.startTimer = function (e) {\n        var _this = this;\n        this.timer = window.setInterval(function () { _this.onTimerTick(); }, e.keyCode === 13 ? 0 : this.filterSettings.immediateModeDelay);\n    };\n    Filter.prototype.stopTimer = function () {\n        window.clearInterval(this.timer);\n    };\n    Filter.prototype.onTimerTick = function () {\n        var selector = '[id=\\'' + this.column.field + '_filterBarcell\\']';\n        var filterElement = this.element.querySelector(selector);\n        if (!filterElement && this.parent.isFrozenGrid()) {\n            filterElement = this.parent.getHeaderContent().querySelector(selector);\n        }\n        var filterValue;\n        this.cellText[this.column.field] = filterElement.value;\n        this.stopTimer();\n        if (!isNullOrUndefined(this.column.filterBarTemplate)) {\n            var templateRead = this.column.filterBarTemplate.read;\n            if (typeof templateRead === 'string') {\n                templateRead = getValue(templateRead, window);\n            }\n            if (!isNullOrUndefined(templateRead)) {\n                this.value = templateRead.call(this, filterElement);\n            }\n        }\n        else {\n            filterValue = JSON.parse(JSON.stringify(filterElement.value));\n        }\n        if (isNullOrUndefined(this.value) || this.value === '') {\n            this.removeFilteredColsByField(this.column.field);\n            return;\n        }\n        this.validateFilterValue(this.value);\n        this.filterByMethod = false;\n        this.filterByColumn(this.column.field, this.operator, this.value, this.predicate, this.filterSettings.enableCaseSensitivity, this.ignoreAccent);\n        this.filterByMethod = true;\n        filterElement.value = filterValue;\n        this.updateFilterMsg();\n    };\n    Filter.prototype.validateFilterValue = function (value) {\n        var skipInput;\n        var index;\n        this.matchCase = this.filterSettings.enableCaseSensitivity;\n        switch (this.column.type) {\n            case 'number':\n                if (this.column.filter.operator) {\n                    this.operator = this.column.filter.operator;\n                }\n                else {\n                    this.operator = this.filterOperators.equal;\n                }\n                skipInput = ['>', '<', '=', '!'];\n                for (var i = 0; i < value.length; i++) {\n                    if (skipInput.indexOf(value[i]) > -1) {\n                        index = i;\n                        break;\n                    }\n                }\n                this.getOperator(value.substring(index));\n                if (index !== 0) {\n                    this.value = value.substring(0, index);\n                }\n                if (this.value !== '' && value.length >= 1) {\n                    this.value = this.valueFormatter.fromView(this.value, this.column.getParser(), this.column.type);\n                }\n                if (isNaN(this.value)) {\n                    this.filterStatusMsg = this.l10n.getConstant('InvalidFilterMessage');\n                }\n                break;\n            case 'date':\n            case 'datetime':\n                this.operator = this.filterOperators.equal;\n                if (this.value !== '' && !(this.value instanceof Date)) {\n                    this.getOperator(value);\n                    this.value = this.valueFormatter.fromView(this.value, this.column.getParser(), this.column.type);\n                    if (isNullOrUndefined(this.value)) {\n                        this.filterStatusMsg = this.l10n.getConstant('InvalidFilterMessage');\n                    }\n                }\n                break;\n            case 'string':\n                this.matchCase = false;\n                if (value.charAt(0) === '*') {\n                    this.value = this.value.slice(1);\n                    this.operator = this.filterOperators.startsWith;\n                }\n                else if (value.charAt(value.length - 1) === '%') {\n                    this.value = this.value.slice(0, -1);\n                    this.operator = this.filterOperators.startsWith;\n                }\n                else if (value.charAt(0) === '%') {\n                    this.value = this.value.slice(1);\n                    this.operator = this.filterOperators.endsWith;\n                }\n                else {\n                    if (this.column.filter.operator) {\n                        this.operator = this.column.filter.operator;\n                    }\n                    else {\n                        this.operator = this.filterOperators.startsWith;\n                    }\n                }\n                break;\n            case 'boolean':\n                if (value.toLowerCase() === 'true' || value === '1') {\n                    this.value = true;\n                }\n                else if (value.toLowerCase() === 'false' || value === '0') {\n                    this.value = false;\n                }\n                else if (value.length) {\n                    this.filterStatusMsg = this.l10n.getConstant('InvalidFilterMessage');\n                }\n                this.operator = this.filterOperators.equal;\n                break;\n            default:\n                if (this.column.filter.operator) {\n                    this.operator = this.column.filter.operator;\n                }\n                else {\n                    this.operator = this.filterOperators.equal;\n                }\n        }\n    };\n    Filter.prototype.getOperator = function (value) {\n        var singleOp = value.charAt(0);\n        var multipleOp = value.slice(0, 2);\n        var operators = extend({ '=': this.filterOperators.equal, '!': this.filterOperators.notEqual }, DataUtil.operatorSymbols);\n        // eslint-disable-next-line no-prototype-builtins\n        if (operators.hasOwnProperty(singleOp) || operators.hasOwnProperty(multipleOp)) {\n            this.operator = operators[singleOp];\n            this.value = value.substring(1);\n            if (!this.operator) {\n                this.operator = operators[multipleOp];\n                this.value = value.substring(2);\n            }\n        }\n        if (this.operator === this.filterOperators.lessThan || this.operator === this.filterOperators.greaterThan) {\n            if (this.value.charAt(0) === '=') {\n                this.operator = this.operator + 'orequal';\n                this.value = this.value.substring(1);\n            }\n        }\n    };\n    Filter.prototype.columnPositionChanged = function () {\n        if (this.parent.filterSettings.type !== 'FilterBar') {\n            return;\n        }\n    };\n    Filter.prototype.getLocalizedCustomOperators = function () {\n        var numOptr = [\n            { value: 'equal', text: this.l10n.getConstant('Equal') },\n            { value: 'greaterthan', text: this.l10n.getConstant('GreaterThan') },\n            { value: 'greaterthanorequal', text: this.l10n.getConstant('GreaterThanOrEqual') },\n            { value: 'lessthan', text: this.l10n.getConstant('LessThan') },\n            { value: 'lessthanorequal', text: this.l10n.getConstant('LessThanOrEqual') },\n            { value: 'notequal', text: this.l10n.getConstant('NotEqual') }\n        ];\n        this.customOperators = {\n            stringOperator: [\n                { value: 'startswith', text: this.l10n.getConstant('StartsWith') },\n                { value: 'endswith', text: this.l10n.getConstant('EndsWith') },\n                { value: 'contains', text: this.l10n.getConstant('Contains') },\n                { value: 'equal', text: this.l10n.getConstant('Equal') },\n                { value: 'notequal', text: this.l10n.getConstant('NotEqual') }\n            ],\n            numberOperator: numOptr,\n            dateOperator: numOptr,\n            datetimeOperator: numOptr,\n            booleanOperator: [\n                { value: 'equal', text: this.l10n.getConstant('Equal') },\n                { value: 'notequal', text: this.l10n.getConstant('NotEqual') }\n            ]\n        };\n    };\n    /**\n     * @param {string} field - specifies the field name\n     * @returns {void}\n     * @hidden\n     */\n    Filter.prototype.openMenuByField = function (field) {\n        var gObj = this.parent;\n        if (gObj.enableAdaptiveUI) {\n            this.showCustomFilter(false);\n            return;\n        }\n        var column = gObj.getColumnByField(field);\n        var header = gObj.getColumnHeaderByField(field);\n        var target = header.querySelector('.e-filtermenudiv');\n        if (!target) {\n            return;\n        }\n        var gClient = gObj.element.getBoundingClientRect();\n        var fClient = target.getBoundingClientRect();\n        this.filterDialogOpen(column, target, fClient.right - gClient.left, fClient.bottom - gClient.top);\n    };\n    Filter.prototype.filterIconClickHandler = function (e) {\n        var target = e.target;\n        if (target.classList.contains('e-filtermenudiv') && (this.parent.filterSettings.type === 'Menu' ||\n            this.parent.filterSettings.type === 'CheckBox' || this.parent.filterSettings.type === 'Excel')) {\n            var gObj = this.parent;\n            var col = gObj.getColumnByUid(parentsUntil(target, 'e-headercell').firstElementChild.getAttribute('e-mappinguid'));\n            this.column = col;\n            if (this.fltrDlgDetails.field === col.field && this.fltrDlgDetails.isOpen) {\n                return;\n            }\n            if (this.filterModule) {\n                this.filterModule.closeDialog();\n            }\n            this.fltrDlgDetails = { field: col.field, isOpen: true };\n            this.openMenuByField(col.field);\n        }\n    };\n    Filter.prototype.clickHandler = function (e) {\n        if (this.filterSettings.type === 'FilterBar' && this.filterSettings.showFilterBarOperator) {\n            if (parentsUntil(e.target, 'e-filterbarcell') &&\n                e.target.classList.contains('e-input-group-icon')) {\n                closest(e.target, 'div').querySelector('.e-filterbaroperator').focus();\n            }\n            if (e.target.classList.contains('e-list-item')) {\n                var inputId = document.querySelector('.e-popup-open').getAttribute('id').replace('_popup', '');\n                if (inputId.indexOf('grid-column') !== -1) {\n                    closest(document.getElementById(inputId), 'div').querySelector('.e-filtertext').focus();\n                }\n            }\n        }\n        if (this.filterSettings.mode === 'Immediate' || this.parent.filterSettings.type === 'Menu' ||\n            this.parent.filterSettings.type === 'CheckBox' || this.parent.filterSettings.type === 'Excel') {\n            var target = e.target;\n            var datepickerEle = target.classList.contains('e-day'); // due to datepicker popup cause\n            var dialog = parentsUntil(this.parent.element, 'e-dialog');\n            var hasDialog = false;\n            var popupEle = parentsUntil(target, 'e-popup');\n            var hasDialogClosed = this.parent.element.querySelector('.e-filter-popup');\n            if (dialog && popupEle) {\n                hasDialog = dialog.id === popupEle.id;\n            }\n            if ((hasDialogClosed && (parentsUntil(target, 'e-excel-ascending') ||\n                parentsUntil(target, 'e-excel-descending')))) {\n                this.filterModule.closeDialog(target);\n            }\n            if (parentsUntil(target, 'e-filter-popup') || target.classList.contains('e-filtermenudiv')) {\n                return;\n            }\n            else if (this.filterModule && (!parentsUntil(target, 'e-popup-wrapper')\n                && (!closest(target, '.e-filter-item.e-menu-item'))) && !datepickerEle) {\n                if ((hasDialog && (!parentsUntil(target, 'e-filter-popup'))\n                    && (!parentsUntil(target, 'e-popup-flmenu'))) || (!popupEle && hasDialogClosed)) {\n                    this.filterModule.isresetFocus = parentsUntil(target, 'e-grid') &&\n                        parentsUntil(target, 'e-grid').id === this.parent.element.id;\n                    this.filterModule.closeDialog(target);\n                }\n            }\n        }\n    };\n    Filter.prototype.filterHandler = function (args) {\n        this.actualPredicate[args.field] = args.actualPredicate;\n        var dataManager = new DataManager(this.filterSettings.columns);\n        var query = new Query().where('field', this.filterOperators.equal, args.field);\n        var result = dataManager.executeLocal(query);\n        for (var i = 0; i < result.length; i++) {\n            var index = -1;\n            for (var j = 0; j < this.filterSettings.columns.length; j++) {\n                if (result[i].field === this.filterSettings.columns[j].field) {\n                    index = j;\n                    break;\n                }\n            }\n            if (index !== -1) {\n                this.filterSettings.columns.splice(index, 1);\n            }\n        }\n        if (this.values[args.field]) {\n            delete this.values[args.field];\n        }\n        var col = this.parent.getColumnByField(args.field);\n        var iconClass = this.parent.showColumnMenu && col.showColumnMenu ? '.e-columnmenu' : '.e-icon-filter';\n        var filterIconElement = this.parent.getColumnHeaderByField(args.field).querySelector(iconClass);\n        if (args.action === 'filtering') {\n            this.filterSettings.columns = this.filterSettings.columns.concat(args.filterCollection);\n            if (this.filterSettings.columns.length && filterIconElement) {\n                filterIconElement.classList.add('e-filtered');\n            }\n        }\n        else {\n            if (filterIconElement) {\n                filterIconElement.classList.remove('e-filtered');\n            }\n            args.requestType = 'filtering';\n            this.parent.renderModule.refresh(args); //hot-fix onpropertychanged not working for object { array }\n        }\n        this.parent.dataBind();\n    };\n    Filter.prototype.updateFilter = function () {\n        var cols = this.filterSettings.columns;\n        this.actualPredicate = {};\n        for (var i = 0; i < cols.length; i++) {\n            this.column = this.parent.getColumnByField(cols[i].field) ||\n                getColumnByForeignKeyValue(cols[i].field, this.parent.getForeignKeyColumns());\n            var fieldName = cols[i].field;\n            if (!this.parent.getColumnByField(cols[i].field)) {\n                fieldName = getColumnByForeignKeyValue(cols[i].field, this.parent.getForeignKeyColumns()).field;\n            }\n            this.refreshFilterIcon(fieldName, cols[i].operator, cols[i].value, cols[i].type, cols[i].predicate, cols[i].matchCase, cols[i].ignoreAccent, cols[i].uid);\n        }\n    };\n    Filter.prototype.refreshFilterIcon = function (fieldName, operator, value, type, predicate, matchCase, ignoreAccent, uid) {\n        var obj = {\n            field: fieldName,\n            predicate: predicate,\n            matchCase: matchCase,\n            ignoreAccent: ignoreAccent,\n            operator: operator,\n            value: value,\n            type: type\n        };\n        if (this.actualPredicate[fieldName]) {\n            this.actualPredicate[fieldName].push(obj);\n        }\n        else {\n            this.actualPredicate[fieldName] = [obj];\n        }\n        var field = uid ? this.parent.grabColumnByUidFromAllCols(uid).field : fieldName;\n        this.addFilteredClass(field);\n    };\n    Filter.prototype.addFilteredClass = function (fieldName) {\n        var filterIconElement;\n        var col = this.parent.getColumnByField(fieldName);\n        if (this.parent.showColumnMenu && col.showColumnMenu) {\n            filterIconElement = this.parent.getColumnHeaderByField(fieldName).querySelector('.e-columnmenu');\n        }\n        else if (col) {\n            filterIconElement = this.parent.getColumnHeaderByField(fieldName).querySelector('.e-icon-filter');\n        }\n        if (filterIconElement) {\n            filterIconElement.classList.add('e-filtered');\n        }\n    };\n    /**\n     * @hidden\n     * @returns {FilterUI} returns the FilterUI\n     */\n    Filter.prototype.getFilterUIInfo = function () {\n        return this.filterModule ? this.filterModule.getFilterUIInfo() : {};\n    };\n    /**\n     * @param {string} field - specifies the field name\n     * @returns {string} returns the operator name\n     * @hidden\n     */\n    Filter.prototype.getOperatorName = function (field) {\n        return document.getElementById(this.parent.getColumnByField(field).uid).ej2_instances[0].value;\n    };\n    /**\n     * Renders checkbox items in Menu filter dialog.\n     *\n     * @returns {void}\n     */\n    Filter.prototype.renderCheckboxOnFilterMenu = function () {\n        return this.filterModule.renderCheckBoxMenu();\n    };\n    return Filter;\n}());\nexport { Filter };\n","import { Browser } from '@syncfusion/ej2-base';\nimport { extend, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { closest, classList } from '@syncfusion/ej2-base';\nimport { ResponsiveDialogAction } from '../base/enum';\nimport { setCssInGridPopUp, getActualPropFromColl, isActionPrevent, iterateExtend, parentsUntil } from '../base/util';\nimport { addRemoveEventListener } from '../base/util';\nimport * as events from '../base/constant';\nimport { AriaService } from '../services/aria-service';\nimport * as literals from '../base/string-literals';\n/**\n *\n * The `Sort` module is used to handle sorting action.\n */\nvar Sort = /** @class */ (function () {\n    /**\n     * Constructor for Grid sorting module\n     *\n     * @param {IGrid} parent - specifies the IGrid\n     * @param {SortSettings} sortSettings - specifies the SortSettings\n     * @param {string[]} sortedColumns - specifies the string\n     * @param {ServiceLocator} locator - specifies the ServiceLocator\n     * @hidden\n     */\n    function Sort(parent, sortSettings, sortedColumns, locator) {\n        this.contentRefresh = true;\n        this.isModelChanged = true;\n        this.aria = new AriaService();\n        this.currentTarget = null;\n        this.parent = parent;\n        this.sortSettings = sortSettings;\n        this.sortedColumns = sortedColumns;\n        this.serviceLocator = locator;\n        this.focus = locator.getService('focus');\n        this.addEventListener();\n        this.setFullScreenDialog();\n    }\n    /**\n     * The function used to update sortSettings\n     *\n     * @returns {void}\n     * @hidden\n     */\n    Sort.prototype.updateModel = function () {\n        var sortedColumn = { field: this.columnName, direction: this.direction };\n        var index;\n        var gCols = this.parent.groupSettings.columns;\n        var flag = false;\n        if (!this.isMultiSort) {\n            if (!gCols.length) {\n                this.sortSettings.columns = [sortedColumn];\n            }\n            else {\n                var sortedCols = [];\n                for (var i = 0, len = gCols.length; i < len; i++) {\n                    index = this.getSortedColsIndexByField(gCols[i], sortedCols);\n                    if (this.columnName === gCols[i]) {\n                        flag = true;\n                        sortedCols.push(sortedColumn);\n                    }\n                    else {\n                        var sCol = this.getSortColumnFromField(gCols[i]);\n                        sortedCols.push({ field: sCol.field, direction: sCol.direction, isFromGroup: sCol.isFromGroup });\n                    }\n                }\n                if (!flag) {\n                    sortedCols.push(sortedColumn);\n                }\n                this.sortSettings.columns = sortedCols;\n            }\n        }\n        else {\n            index = this.getSortedColsIndexByField(this.columnName);\n            if (index > -1) {\n                this.sortSettings.columns.splice(index, 1);\n            }\n            this.sortSettings.columns.push(sortedColumn);\n            // eslint-disable-next-line no-self-assign\n            this.sortSettings.columns = this.sortSettings.columns;\n        }\n        this.parent.dataBind();\n        this.lastSortedCol = this.columnName;\n    };\n    /**\n     * The function used to trigger onActionComplete\n     *\n     * @param {NotifyArgs} e - specifies the NotifyArgs\n     * @returns {void}\n     * @hidden\n     */\n    Sort.prototype.onActionComplete = function (e) {\n        var args = !this.isRemove ? {\n            columnName: this.columnName, direction: this.direction, requestType: 'sorting', type: events.actionComplete\n        } : { requestType: 'sorting', type: events.actionComplete };\n        this.isRemove = false;\n        this.parent.trigger(events.actionComplete, extend(e, args));\n    };\n    /**\n     * Sorts a column with the given options.\n     *\n     * @param {string} columnName - Defines the column name to sort.\n     * @param {SortDirection} direction - Defines the direction of sorting field.\n     * @param {boolean} isMultiSort - Specifies whether the previously sorted columns are to be maintained.\n     * @returns {void}\n     */\n    Sort.prototype.sortColumn = function (columnName, direction, isMultiSort) {\n        var gObj = this.parent;\n        if (this.parent.getColumnByField(columnName).allowSorting === false || this.parent.isContextMenuOpen()) {\n            this.parent.log('action_disabled_column', { moduleName: this.getModuleName(), columnName: columnName });\n            return;\n        }\n        if (!gObj.allowMultiSorting) {\n            isMultiSort = gObj.allowMultiSorting;\n        }\n        if (this.isActionPrevent()) {\n            gObj.notify(events.preventBatch, {\n                instance: this, handler: this.sortColumn,\n                arg1: columnName, arg2: direction, arg3: isMultiSort\n            });\n            return;\n        }\n        this.backupSettings();\n        this.columnName = columnName;\n        this.direction = direction;\n        this.isMultiSort = isMultiSort;\n        this.removeSortIcons();\n        this.updateSortedCols(columnName, isMultiSort);\n        this.updateModel();\n    };\n    Sort.prototype.setFullScreenDialog = function () {\n        if (this.serviceLocator) {\n            this.serviceLocator.registerAdaptiveService(this, this.parent.enableAdaptiveUI, ResponsiveDialogAction.isSort);\n        }\n    };\n    Sort.prototype.backupSettings = function () {\n        this.lastSortedCols = iterateExtend(this.sortSettings.columns);\n        this.lastCols = this.sortedColumns;\n    };\n    Sort.prototype.restoreSettings = function () {\n        this.isModelChanged = false;\n        this.isMultiSort = true;\n        this.parent.setProperties({ sortSettings: { columns: this.lastSortedCols } }, true);\n        //this.parent.sortSettings.columns =  this.lastSortedCols;\n        this.sortedColumns = this.lastCols;\n        this.isModelChanged = true;\n    };\n    Sort.prototype.updateSortedCols = function (columnName, isMultiSort) {\n        if (!isMultiSort) {\n            if (this.parent.allowGrouping) {\n                for (var i = 0, len = this.sortedColumns.length; i < len; i++) {\n                    if (this.parent.groupSettings.columns.indexOf(this.sortedColumns[i]) < 0) {\n                        this.sortedColumns.splice(i, 1);\n                        len--;\n                        i--;\n                    }\n                }\n            }\n            else {\n                this.sortedColumns.splice(0, this.sortedColumns.length);\n            }\n        }\n        if (this.sortedColumns.indexOf(columnName) < 0) {\n            this.sortedColumns.push(columnName);\n        }\n    };\n    /**\n     * @param {NotifyArgs} e - specifies the NotifyArgs\n     * @returns {void}\n     * @hidden\n     */\n    Sort.prototype.onPropertyChanged = function (e) {\n        if (e.module !== this.getModuleName()) {\n            return;\n        }\n        if (this.contentRefresh) {\n            var args = this.sortSettings.columns.length ? {\n                columnName: this.columnName, direction: this.direction, requestType: 'sorting',\n                type: events.actionBegin, target: this.currentTarget, cancel: false\n            } : {\n                requestType: 'sorting', type: events.actionBegin, cancel: false,\n                target: this.currentTarget\n            };\n            this.parent.notify(events.modelChanged, args);\n        }\n        this.refreshSortSettings();\n        this.removeSortIcons();\n        this.addSortIcons();\n    };\n    Sort.prototype.refreshSortSettings = function () {\n        this.sortedColumns.length = 0;\n        var sortColumns = this.sortSettings.columns;\n        for (var i = 0; i < sortColumns.length; i++) {\n            if (!sortColumns[i].isFromGroup) {\n                this.sortedColumns.push(sortColumns[i].field);\n            }\n        }\n    };\n    /**\n     * Clears all the sorted columns of the Grid.\n     *\n     * @returns {void}\n     */\n    Sort.prototype.clearSorting = function () {\n        var cols = getActualPropFromColl(this.sortSettings.columns);\n        if (this.isActionPrevent()) {\n            this.parent.notify(events.preventBatch, { instance: this, handler: this.clearSorting });\n            return;\n        }\n        for (var i = 0, len = cols.length; i < len; i++) {\n            this.removeSortColumn(cols[i].field);\n        }\n    };\n    Sort.prototype.isActionPrevent = function () {\n        return isActionPrevent(this.parent);\n    };\n    /**\n     * Remove sorted column by field name.\n     *\n     * @param {string} field - Defines the column field name to remove sort.\n     * @returns {void}\n     * @hidden\n     */\n    Sort.prototype.removeSortColumn = function (field) {\n        var gObj = this.parent;\n        var cols = this.sortSettings.columns;\n        if (cols.length === 0 && this.sortedColumns.indexOf(field) < 0) {\n            return;\n        }\n        if (this.isActionPrevent()) {\n            this.parent.notify(events.preventBatch, { instance: this, handler: this.removeSortColumn, arg1: field });\n            return;\n        }\n        this.backupSettings();\n        this.removeSortIcons();\n        var args = { requestType: 'sorting', type: events.actionBegin, target: this.currentTarget };\n        for (var i = 0, len = cols.length; i < len; i++) {\n            if (cols[i].field === field) {\n                if (gObj.allowGrouping && gObj.groupSettings.columns.indexOf(cols[i].field) > -1) {\n                    continue;\n                }\n                this.sortedColumns.splice(this.sortedColumns.indexOf(cols[i].field), 1);\n                cols.splice(i, 1);\n                this.isRemove = true;\n                if (this.isModelChanged) {\n                    this.parent.notify(events.modelChanged, args);\n                }\n                break;\n            }\n        }\n        if (!args.cancel) {\n            this.addSortIcons();\n        }\n    };\n    Sort.prototype.getSortedColsIndexByField = function (field, sortedColumns) {\n        var cols = sortedColumns ? sortedColumns : this.sortSettings.columns;\n        for (var i = 0, len = cols.length; i < len; i++) {\n            if (cols[i].field === field) {\n                return i;\n            }\n        }\n        return -1;\n    };\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} returns the module name\n     * @private\n     */\n    Sort.prototype.getModuleName = function () {\n        return 'sort';\n    };\n    Sort.prototype.initialEnd = function () {\n        this.parent.off(events.contentReady, this.initialEnd);\n        if (this.parent.getColumns().length && this.sortSettings.columns.length) {\n            var gObj = this.parent;\n            this.contentRefresh = false;\n            this.isMultiSort = this.sortSettings.columns.length > 1;\n            for (var _i = 0, _a = gObj.sortSettings.columns.slice(); _i < _a.length; _i++) {\n                var col = _a[_i];\n                if (this.sortedColumns.indexOf(col.field) > -1) {\n                    this.sortColumn(col.field, col.direction, true);\n                }\n            }\n            this.isMultiSort = false;\n            this.contentRefresh = true;\n        }\n    };\n    /**\n     * @returns {void}\n     * @hidden\n     */\n    Sort.prototype.addEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.evtHandlers = [{ event: events.setFullScreenDialog, handler: this.setFullScreenDialog },\n            { event: events.contentReady, handler: this.initialEnd },\n            { event: events.sortComplete, handler: this.onActionComplete },\n            { event: events.inBoundModelChanged, handler: this.onPropertyChanged },\n            { event: events.click, handler: this.clickHandler },\n            { event: events.headerRefreshed, handler: this.refreshSortIcons },\n            { event: events.keyPressed, handler: this.keyPressed },\n            { event: events.cancelBegin, handler: this.cancelBeginEvent },\n            { event: events.destroy, handler: this.destroy }];\n        addRemoveEventListener(this.parent, this.evtHandlers, true, this);\n    };\n    /**\n     * @returns {void}\n     * @hidden\n     */\n    Sort.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        addRemoveEventListener(this.parent, this.evtHandlers, false);\n    };\n    /**\n     * To destroy the sorting\n     *\n     * @returns {void}\n     * @hidden\n     */\n    Sort.prototype.destroy = function () {\n        this.isModelChanged = false;\n        var gridElement = this.parent.element;\n        if (!gridElement || (!gridElement.querySelector('.' + literals.gridHeader) && !gridElement.querySelector('.' + literals.gridContent))) {\n            return;\n        }\n        if (this.parent.element.querySelector('.e-gridpopup').getElementsByClassName('e-sortdirect').length) {\n            this.parent.element.querySelector('.e-gridpopup').style.display = 'none';\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (!this.parent.refreshing && (this.parent.isDestroyed || !this.parent.allowSorting)) {\n            this.clearSorting();\n        }\n        this.isModelChanged = true;\n        this.removeEventListener();\n    };\n    Sort.prototype.cancelBeginEvent = function (e) {\n        if (e.requestType === 'sorting') {\n            this.restoreSettings();\n            this.refreshSortIcons();\n            this.isMultiSort = true;\n        }\n    };\n    Sort.prototype.clickHandler = function (e) {\n        var gObj = this.parent;\n        this.currentTarget = null;\n        this.popUpClickHandler(e);\n        var target = closest(e.target, '.e-headercell');\n        if (target && !e.target.classList.contains('e-grptogglebtn') &&\n            !(target.classList.contains('e-resized')) &&\n            !e.target.classList.contains('e-rhandler') &&\n            !e.target.classList.contains('e-columnmenu') &&\n            !e.target.classList.contains('e-filtermenudiv') &&\n            !parentsUntil(e.target, 'e-stackedheadercell') &&\n            !(gObj.allowSelection && gObj.selectionSettings.allowColumnSelection &&\n                e.target.classList.contains('e-headercell'))) {\n            var gObj_1 = this.parent;\n            var colObj = gObj_1.getColumnByUid(target.querySelector('.e-headercelldiv').getAttribute('e-mappinguid'));\n            if (colObj.type !== 'checkbox') {\n                this.initiateSort(target, e, colObj);\n                if (Browser.isDevice) {\n                    this.showPopUp(e);\n                }\n            }\n        }\n        if (target) {\n            target.classList.remove('e-resized');\n        }\n        if (parentsUntil(e.target, 'e-excel-ascending') ||\n            parentsUntil(e.target, 'e-excel-descending')) {\n            var colUid = closest(e.target, '.e-filter-popup').getAttribute('uid');\n            var direction = isNullOrUndefined(parentsUntil(e.target, 'e-excel-descending')) ?\n                'Ascending' : 'Descending';\n            this.sortColumn(gObj.getColumnByUid(colUid).field, direction, false);\n        }\n    };\n    Sort.prototype.keyPressed = function (e) {\n        var ele = e.target;\n        if (!this.parent.isEdit && (e.action === 'enter' || e.action === 'ctrlEnter' || e.action === 'shiftEnter')\n            && closest(ele, '.e-headercell')) {\n            var target = this.focus.getFocusedElement();\n            if (isNullOrUndefined(target) || !target.classList.contains('e-headercell')\n                || !target.querySelector('.e-headercelldiv')) {\n                return;\n            }\n            var col = this.parent.getColumnByUid(target.querySelector('.e-headercelldiv').getAttribute('e-mappinguid'));\n            this.initiateSort(target, e, col);\n        }\n    };\n    Sort.prototype.initiateSort = function (target, e, column) {\n        var gObj = this.parent;\n        var field = column.field;\n        this.currentTarget = e.target;\n        var direction = !target.getElementsByClassName('e-ascending').length ? 'Ascending' :\n            'Descending';\n        this.isMultiSort = e.ctrlKey || this.enableSortMultiTouch ||\n            (navigator.userAgent.indexOf('Mac OS') !== -1 && e.metaKey);\n        if (e.shiftKey || (this.sortSettings.allowUnsort && target.getElementsByClassName('e-descending').length)\n            && !(gObj.groupSettings.columns.indexOf(field) > -1)) {\n            this.removeSortColumn(field);\n        }\n        else {\n            this.sortColumn(field, direction, this.isMultiSort);\n        }\n    };\n    Sort.prototype.showPopUp = function (e) {\n        var target = closest(e.target, '.e-headercell');\n        if (this.parent.allowMultiSorting && (!isNullOrUndefined(target) || this.parent.isContextMenuOpen())) {\n            setCssInGridPopUp(this.parent.element.querySelector('.e-gridpopup'), e, 'e-sortdirect e-icons e-icon-sortdirect' + (this.sortedColumns.length > 1 ? ' e-spanclicked' : ''));\n        }\n    };\n    Sort.prototype.popUpClickHandler = function (e) {\n        var target = e.target;\n        if (closest(target, '.e-headercell') || e.target.classList.contains(literals.rowCell) ||\n            closest(target, '.e-gridpopup')) {\n            if (target.classList.contains('e-sortdirect')) {\n                if (!target.classList.contains('e-spanclicked')) {\n                    target.classList.add('e-spanclicked');\n                    this.enableSortMultiTouch = true;\n                }\n                else {\n                    target.classList.remove('e-spanclicked');\n                    this.enableSortMultiTouch = false;\n                    this.parent.element.querySelector('.e-gridpopup').style.display = 'none';\n                }\n            }\n        }\n        else {\n            this.parent.element.querySelector('.e-gridpopup').style.display = 'none';\n        }\n    };\n    Sort.prototype.addSortIcons = function () {\n        var gObj = this.parent;\n        var header;\n        var filterElement;\n        var cols = this.sortSettings.columns;\n        var fieldNames = this.parent.getColumns().map(function (c) { return c.field; });\n        for (var i = 0, len = cols.length; i < len; i++) {\n            header = gObj.getColumnHeaderByField(cols[i].field);\n            if (fieldNames.indexOf(cols[i].field) === -1 || isNullOrUndefined(header)) {\n                continue;\n            }\n            this.aria.setSort(header, (cols[i].direction).toLowerCase());\n            if (cols.length > 1) {\n                header.querySelector('.e-headercelldiv').insertBefore(this.parent.createElement('span', { className: 'e-sortnumber', innerHTML: (i + 1).toString() }), header.querySelector('.e-headertext'));\n            }\n            filterElement = header.querySelector('.e-sortfilterdiv');\n            if (cols[i].direction === 'Ascending') {\n                classList(filterElement, ['e-ascending', 'e-icon-ascending'], []);\n            }\n            else {\n                classList(filterElement, ['e-descending', 'e-icon-descending'], []);\n            }\n        }\n    };\n    Sort.prototype.removeSortIcons = function (position) {\n        var gObj = this.parent;\n        var header;\n        var cols = this.sortSettings.columns;\n        var fieldNames = this.parent.getColumns().map(function (c) { return c.field; });\n        for (var i = position ? position : 0, len = !isNullOrUndefined(position) ? position + 1 : cols.length; i < len; i++) {\n            header = gObj.getColumnHeaderByField(cols[i].field);\n            if (isNullOrUndefined(header) || (gObj.allowGrouping && gObj.groupSettings.columns.indexOf(cols[i].field) > -1 &&\n                !header.querySelector('.e-sortfilterdiv'))) {\n                continue;\n            }\n            if (fieldNames.indexOf(cols[i].field) === -1) {\n                continue;\n            }\n            this.aria.setSort(header, 'none');\n            classList(header.querySelector('.e-sortfilterdiv'), [], ['e-descending', 'e-icon-descending', 'e-ascending', 'e-icon-ascending']);\n            if (header.querySelector('.e-sortnumber')) {\n                header.querySelector('.e-headercelldiv').removeChild(header.querySelector('.e-sortnumber'));\n            }\n        }\n    };\n    Sort.prototype.getSortColumnFromField = function (field) {\n        for (var i = 0, len = this.sortSettings.columns.length; i < len; i++) {\n            if (this.sortSettings.columns[i].field === field) {\n                return this.sortSettings.columns[i];\n            }\n        }\n        return false;\n    };\n    Sort.prototype.updateAriaAttr = function () {\n        var fieldNames = this.parent.getColumns().map(function (c) { return c.field; });\n        for (var _i = 0, _a = this.sortedColumns; _i < _a.length; _i++) {\n            var col = _a[_i];\n            if (fieldNames.indexOf(col) === -1) {\n                continue;\n            }\n            var header = this.parent.getColumnHeaderByField(col);\n            this.aria.setSort(header, this.getSortColumnFromField(col).direction);\n        }\n    };\n    Sort.prototype.refreshSortIcons = function (params) {\n        if (params === void 0) { params = { args: { isFrozen: false } }; }\n        if (!params.args.isFrozen) {\n            this.removeSortIcons();\n            this.isMultiSort = true;\n            this.removeSortIcons();\n            this.addSortIcons();\n            this.isMultiSort = false;\n            this.updateAriaAttr();\n        }\n    };\n    /**\n     * To show the responsive custom sort dialog\n     *\n     * @param {boolean} enable - specifes dialog open\n     * @returns {void}\n     * @hidden\n     */\n    Sort.prototype.showCustomSort = function (enable) {\n        this.responsiveDialogRenderer.isCustomDialog = enable;\n        this.responsiveDialogRenderer.showResponsiveDialog();\n    };\n    return Sort;\n}());\nexport { Sort };\n","import { EventHandler, extend, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { remove, select } from '@syncfusion/ej2-base';\nimport { Toolbar as tool } from '@syncfusion/ej2-navigations';\nimport * as events from '../base/constant';\nimport { templateCompiler, appendChildren, parentsUntil, addRemoveEventListener } from '../base/util';\nimport { ResponsiveToolbarAction } from '../base/enum';\nimport { SearchBox } from '../services/focus-strategy';\n/**\n * The `Toolbar` module is used to handle ToolBar actions.\n *\n * @hidden\n */\nvar Toolbar = /** @class */ (function () {\n    function Toolbar(parent, serviceLocator) {\n        this.predefinedItems = {};\n        this.items = ['Add', 'Edit', 'Update', 'Delete', 'Cancel', 'Print', 'Search',\n            'ColumnChooser', 'PdfExport', 'ExcelExport', 'CsvExport', 'WordExport'];\n        this.parent = parent;\n        this.gridID = parent.element.id;\n        this.serviceLocator = serviceLocator;\n        this.addEventListener();\n    }\n    Toolbar.prototype.render = function () {\n        this.l10n = this.serviceLocator.getService('localization');\n        var preItems = ['Add', 'Edit', 'Update', 'Delete', 'Cancel', 'Print',\n            'PdfExport', 'ExcelExport', 'WordExport', 'CsvExport'];\n        var isAdaptive = this.parent.enableAdaptiveUI;\n        var excludingItems = ['Edit', 'Delete', 'Update', 'Cancel'];\n        for (var _i = 0, preItems_1 = preItems; _i < preItems_1.length; _i++) {\n            var item = preItems_1[_i];\n            var itemStr = item.toLowerCase();\n            var localeName = itemStr[0].toUpperCase() + itemStr.slice(1);\n            this.predefinedItems[item] = {\n                id: this.gridID + '_' + itemStr, prefixIcon: 'e-' + itemStr,\n                text: this.l10n.getConstant(localeName), tooltipText: this.l10n.getConstant(localeName)\n            };\n            if (isAdaptive) {\n                this.predefinedItems[item].text = '';\n                this.predefinedItems[item].visible = excludingItems.indexOf(item) === -1;\n            }\n        }\n        this.predefinedItems.Search = {\n            id: this.gridID + '_search',\n            tooltipText: this.l10n.getConstant('Search'), align: 'Right', cssClass: 'e-search-wrapper',\n            type: 'Input'\n        };\n        this.predefinedItems.ColumnChooser = {\n            id: this.gridID + '_' + 'columnchooser', cssClass: 'e-cc e-ccdiv e-cc-toolbar', suffixIcon: 'e-' + 'columnchooser-btn',\n            text: isAdaptive ? '' : this.l10n.getConstant('Columnchooser'),\n            tooltipText: this.l10n.getConstant('Columnchooser'), align: 'Right'\n        };\n        if (this.parent.rowRenderingMode === 'Vertical') {\n            if (this.parent.allowFiltering && this.parent.filterSettings.type !== 'FilterBar') {\n                this.predefinedItems.responsiveFilter = {\n                    id: this.gridID + '_' + 'responsivefilter', cssClass: 'e-gridresponsiveicons e-icons',\n                    suffixIcon: 'e-' + 'resfilter-icon', tooltipText: this.l10n.getConstant('FilterButton')\n                };\n            }\n            if (this.parent.allowSorting) {\n                this.predefinedItems.responsiveSort = {\n                    id: this.gridID + '_' + 'responsivesort', cssClass: 'e-gridresponsiveicons e-icons',\n                    suffixIcon: 'e-' + 'ressort-icon', tooltipText: this.l10n.getConstant('Sort')\n                };\n            }\n        }\n        if (this.parent.enableAdaptiveUI && this.parent.toolbar.indexOf('Search') > -1) {\n            this.predefinedItems.responsiveBack = {\n                id: this.gridID + '_' + 'responsiveback', cssClass: 'e-gridresponsiveicons e-icons',\n                suffixIcon: 'e-' + 'resback-icon', visible: false\n            };\n        }\n        this.createToolbar();\n    };\n    /**\n     * Gets the toolbar of the Grid.\n     *\n     * @returns {Element} returns the element\n     * @hidden\n     */\n    Toolbar.prototype.getToolbar = function () {\n        return this.toolbar.element;\n    };\n    /**\n     * Destroys the ToolBar.\n     *\n     * @function destroy\n     * @returns {void}\n     */\n    Toolbar.prototype.destroy = function () {\n        if (this.toolbar && !this.toolbar.isDestroyed) {\n            if (!this.toolbar.element) {\n                this.parent.destroyTemplate(['toolbarTemplate']);\n                if (this.parent.isReact) {\n                    this.parent.renderTemplates();\n                }\n            }\n            else {\n                this.toolbar.off('render-react-toolbar-template', this.addReactToolbarPortals);\n                this.toolbar.destroy();\n            }\n            this.unWireEvent();\n            this.removeEventListener();\n            if (this.element.parentNode) {\n                remove(this.element);\n            }\n        }\n    };\n    Toolbar.prototype.bindSearchEvents = function () {\n        this.searchElement = select('#' + this.gridID + '_searchbar', this.element);\n        this.wireEvent();\n        this.refreshToolbarItems();\n        if (this.parent.searchSettings) {\n            this.updateSearchBox();\n        }\n    };\n    Toolbar.prototype.toolbarCreated = function (isNormal) {\n        if (this.element.querySelector('.e-search-wrapper')) {\n            if (!this.parent.enableAdaptiveUI || isNormal) {\n                this.element.querySelector('.e-search-wrapper').innerHTML = '<div class=\"e-input-group e-search\" role=\"search\">\\\n                    <input id=\"' + this.gridID + '_searchbar\" class=\"e-input\" name=\"input\" type=\"search\" \\\n                    placeholder= \"' + this.l10n.getConstant('Search') + '\"/>\\\n                    <span id=\"' + this.gridID + '_searchbutton\" class=\"e-input-group-icon e-search-icon e-icons\" \\\n                    tabindex=\"-1\" title=\"' + this.l10n.getConstant('Search') + '\" aria-label= \"search\"></span> \\\n                    </div>';\n            }\n            else {\n                this.element.querySelector('.e-search-wrapper').innerHTML = '<span id=\"' + this.gridID\n                    + '_searchbutton\" class=\"e-input-group-icon e-search-icon e-icons\" \\\n                    tabindex=\"-1\" title=\"' + this.l10n.getConstant('Search') + '\" aria-label= \"search\"></span> \\\n                    </div>';\n            }\n        }\n        this.bindSearchEvents();\n    };\n    Toolbar.prototype.createToolbar = function () {\n        var items = this.getItems();\n        this.toolbar = new tool({\n            items: items,\n            clicked: this.toolbarClickHandler.bind(this),\n            enablePersistence: this.parent.enablePersistence,\n            enableRtl: this.parent.enableRtl,\n            created: this.toolbarCreated.bind(this)\n        });\n        this.toolbar.isReact = this.parent.isReact;\n        this.toolbar.on('render-react-toolbar-template', this.addReactToolbarPortals, this);\n        var isStringTemplate = 'isStringTemplate';\n        this.toolbar[isStringTemplate] = true;\n        var viewStr = 'viewContainerRef';\n        var registerTemp = 'registeredTemplate';\n        if (this.parent[viewStr]) {\n            this.toolbar[registerTemp] = {};\n            this.toolbar[viewStr] = this.parent[viewStr];\n        }\n        this.element = this.parent.createElement('div', { id: this.gridID + '_toolbarItems' });\n        if (this.parent.enableAdaptiveUI) {\n            this.element.classList.add('e-res-toolbar');\n        }\n        if (this.parent.toolbarTemplate) {\n            if (typeof (this.parent.toolbarTemplate) === 'string') {\n                this.toolbar.appendTo(this.parent.toolbarTemplate);\n                this.element = this.toolbar.element;\n            }\n            else {\n                var isReactCompiler = this.parent.isReact && typeof (this.parent.toolbarTemplate) !== 'string';\n                var ID = this.parent.element.id + 'toolbarTemplate';\n                if (isReactCompiler) {\n                    templateCompiler(this.parent.toolbarTemplate)({}, this.parent, 'toolbarTemplate', ID, null, null, this.element);\n                    this.parent.renderTemplates();\n                }\n                else {\n                    appendChildren(this.element, templateCompiler(this.parent.toolbarTemplate)({}, this.parent, 'toolbarTemplate'));\n                }\n            }\n        }\n        else {\n            this.toolbar.appendTo(this.element);\n        }\n        this.parent.element.insertBefore(this.element, this.parent.getHeaderContent());\n    };\n    Toolbar.prototype.addReactToolbarPortals = function (args) {\n        if (this.parent.isReact && args) {\n            this.parent.portals = this.parent.portals.concat(args);\n            this.parent.renderTemplates();\n        }\n    };\n    Toolbar.prototype.renderResponsiveSearch = function (isRender) {\n        if (isRender) {\n            this.toolbarCreated(true);\n            this.refreshResponsiveToolbarItems(ResponsiveToolbarAction.isSearch);\n            this.searchElement = select('#' + this.gridID + '_searchbar', this.element);\n            var right = parentsUntil(this.searchElement, 'e-toolbar-right');\n            right.classList.add('e-responsive-right');\n            if (this.parent.searchSettings) {\n                this.updateSearchBox();\n            }\n            this.searchBoxObj.searchFocus({ target: this.searchElement });\n            this.searchElement.focus();\n        }\n        else {\n            this.refreshResponsiveToolbarItems(ResponsiveToolbarAction.isInitial);\n        }\n    };\n    Toolbar.prototype.refreshResponsiveToolbarItems = function (action) {\n        if (action === ResponsiveToolbarAction.isInitial) {\n            var id = this.parent.element.id;\n            var items = [id + '_edit', id + '_delete'];\n            var selectedRecords = this.parent.getSelectedRowIndexes();\n            var excludingItems = [id + '_responsiveback', id + '_update', id + '_cancel'];\n            for (var _i = 0, _a = this.toolbar.items; _i < _a.length; _i++) {\n                var item = _a[_i];\n                var toolbarEle = this.toolbar.element.querySelector('#' + item.id);\n                if (toolbarEle) {\n                    if (items.indexOf(item.id) > -1) {\n                        if (selectedRecords.length) {\n                            toolbarEle.parentElement.classList.remove('e-hidden');\n                        }\n                        else {\n                            toolbarEle.parentElement.classList.add('e-hidden');\n                        }\n                    }\n                    else {\n                        if (excludingItems.indexOf(item.id) === -1) {\n                            toolbarEle.parentElement.classList.remove('e-hidden');\n                        }\n                        else {\n                            toolbarEle.parentElement.classList.add('e-hidden');\n                        }\n                    }\n                }\n            }\n            if (this.searchElement) {\n                var right = parentsUntil(this.searchElement, 'e-toolbar-right');\n                right.classList.remove('e-responsive-right');\n                this.toolbarCreated(false);\n                this.unWireEvent();\n                this.searchElement = undefined;\n            }\n        }\n        if (action === ResponsiveToolbarAction.isSearch) {\n            var items = [this.parent.element.id + '_responsiveback', this.parent.element.id + '_search'];\n            for (var _b = 0, _c = this.toolbar.items; _b < _c.length; _b++) {\n                var item = _c[_b];\n                var toolbarEle = this.toolbar.element.querySelector('#' + item.id);\n                if (toolbarEle) {\n                    if (items.indexOf(item.id) > -1) {\n                        toolbarEle.parentElement.classList.remove('e-hidden');\n                    }\n                    else {\n                        toolbarEle.parentElement.classList.add('e-hidden');\n                    }\n                }\n            }\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    Toolbar.prototype.refreshToolbarItems = function (args) {\n        var gObj = this.parent;\n        var enableItems = [];\n        var disableItems = [];\n        var edit = gObj.editSettings;\n        var hasData = gObj.currentViewData && gObj.currentViewData.length;\n        if (edit.allowAdding) {\n            enableItems.push(this.gridID + '_add');\n        }\n        else {\n            disableItems.push(this.gridID + '_add');\n        }\n        if (edit.allowEditing && hasData) {\n            enableItems.push(this.gridID + '_edit');\n        }\n        else {\n            disableItems.push(this.gridID + '_edit');\n        }\n        if (edit.allowDeleting && hasData) {\n            enableItems.push(this.gridID + '_delete');\n        }\n        else {\n            disableItems.push(this.gridID + '_delete');\n        }\n        if (gObj.editSettings.mode === 'Batch') {\n            if (gObj.element.getElementsByClassName('e-updatedtd').length && (edit.allowAdding || edit.allowEditing)) {\n                enableItems.push(this.gridID + '_update');\n                enableItems.push(this.gridID + '_cancel');\n            }\n            else {\n                disableItems.push(this.gridID + '_update');\n                disableItems.push(this.gridID + '_cancel');\n            }\n        }\n        else {\n            if (gObj.isEdit && (edit.allowAdding || edit.allowEditing)) {\n                enableItems = [this.gridID + '_update', this.gridID + '_cancel'];\n                disableItems = [this.gridID + '_add', this.gridID + '_edit', this.gridID + '_delete'];\n            }\n            else {\n                disableItems.push(this.gridID + '_update');\n                disableItems.push(this.gridID + '_cancel');\n            }\n        }\n        this.enableItems(enableItems, true);\n        this.enableItems(disableItems, false);\n    };\n    Toolbar.prototype.getItems = function () {\n        var items = [];\n        var toolbarItems = this.parent.toolbar || [];\n        if (typeof (this.parent.toolbar) === 'string') {\n            return [];\n        }\n        if (this.parent.rowRenderingMode === 'Vertical') {\n            if (this.parent.allowFiltering && this.parent.filterSettings.type !== 'FilterBar') {\n                items.push(this.getItemObject('responsiveFilter'));\n            }\n            if (this.parent.allowSorting) {\n                items.push(this.getItemObject('responsiveSort'));\n            }\n        }\n        for (var _i = 0, toolbarItems_1 = toolbarItems; _i < toolbarItems_1.length; _i++) {\n            var item = toolbarItems_1[_i];\n            switch (typeof item) {\n                case 'number':\n                    items.push(this.getItemObject(this.items[item]));\n                    break;\n                case 'string':\n                    items.push(this.getItemObject(item));\n                    break;\n                default:\n                    items.push(this.getItem(item));\n            }\n        }\n        if (this.parent.enableAdaptiveUI && this.parent.toolbar.indexOf('Search') > -1) {\n            items.push(this.getItemObject('responsiveBack'));\n        }\n        return items;\n    };\n    Toolbar.prototype.getItem = function (itemObject) {\n        var item = this.predefinedItems[itemObject.text];\n        return item ? extend(item, item, itemObject) : itemObject;\n    };\n    Toolbar.prototype.getItemObject = function (itemName) {\n        return this.predefinedItems[itemName] || { text: itemName, id: this.gridID + '_' + itemName };\n    };\n    /**\n     * Enables or disables ToolBar items.\n     *\n     * @param {string[]} items - Defines the collection of itemID of ToolBar items.\n     * @param {boolean} isEnable - Defines the items to be enabled or disabled.\n     * @returns {void}\n     * @hidden\n     */\n    Toolbar.prototype.enableItems = function (items, isEnable) {\n        for (var _i = 0, items_1 = items; _i < items_1.length; _i++) {\n            var item = items_1[_i];\n            var element = select('#' + item, this.element);\n            if (element) {\n                this.toolbar.enableItems(element.parentElement, isEnable);\n            }\n        }\n    };\n    Toolbar.prototype.toolbarClickHandler = function (args) {\n        var _this = this;\n        var gObj = this.parent;\n        var gID = this.gridID;\n        extend(args, { cancel: false });\n        var newArgs = args;\n        var originalEvent = args.originalEvent;\n        gObj.trigger(events.toolbarClick, newArgs, function (toolbarargs) {\n            toolbarargs.originalEvent = toolbarargs.originalEvent ? toolbarargs.originalEvent : originalEvent;\n            if (!toolbarargs.cancel) {\n                switch (!isNullOrUndefined(toolbarargs.item) && toolbarargs.item.id) {\n                    case gID + '_print':\n                        gObj.print();\n                        break;\n                    case gID + '_edit':\n                        gObj.startEdit();\n                        break;\n                    case gID + '_update':\n                        gObj.endEdit();\n                        break;\n                    case gID + '_cancel':\n                        gObj.closeEdit();\n                        break;\n                    case gID + '_add':\n                        gObj.addRecord();\n                        break;\n                    case gID + '_delete':\n                        gObj.deleteRecord();\n                        break;\n                    case gID + '_search':\n                        if (toolbarargs.originalEvent.target.id === gID + '_searchbutton' && _this.searchElement) {\n                            _this.search();\n                        }\n                        else if (gObj.enableAdaptiveUI && !_this.searchElement\n                            && (toolbarargs.originalEvent.target.classList.contains('e-search-wrapper')\n                                || toolbarargs.originalEvent.target.id === gID + '_searchbutton')) {\n                            _this.renderResponsiveSearch(true);\n                        }\n                        break;\n                    case gID + '_columnchooser':\n                        /* eslint-disable */\n                        var tarElement = _this.parent.element.querySelector('.e-ccdiv');\n                        var y = tarElement.getBoundingClientRect().top;\n                        var x = tarElement.getBoundingClientRect().left;\n                        var targetEle = toolbarargs.originalEvent.target;\n                        /* eslint-enable */\n                        y = tarElement.getBoundingClientRect().top + tarElement.offsetTop;\n                        gObj.createColumnchooser(x, y, targetEle);\n                        break;\n                    case gID + '_responsivefilter':\n                        gObj.showResponsiveCustomFilter();\n                        break;\n                    case gID + '_responsivesort':\n                        gObj.showResponsiveCustomSort();\n                        break;\n                    case gID + '_responsiveback':\n                        _this.renderResponsiveSearch(false);\n                        break;\n                }\n            }\n        });\n    };\n    Toolbar.prototype.modelChanged = function (e) {\n        if (e.module === 'edit') {\n            this.refreshToolbarItems();\n        }\n    };\n    Toolbar.prototype.onPropertyChanged = function (e) {\n        if (e.module !== this.getModuleName() || !this.parent.toolbar) {\n            return;\n        }\n        if (this.element) {\n            remove(this.element);\n        }\n        this.render();\n    };\n    Toolbar.prototype.keyUpHandler = function (e) {\n        if (e.keyCode === 13) {\n            this.search();\n        }\n    };\n    Toolbar.prototype.search = function () {\n        this.parent.search(this.searchElement.value);\n    };\n    Toolbar.prototype.updateSearchBox = function () {\n        if (this.searchElement) {\n            this.searchElement.value = this.parent.searchSettings.key;\n        }\n    };\n    Toolbar.prototype.wireEvent = function () {\n        if (this.searchElement) {\n            this.searchBoxObj = new SearchBox(this.searchElement);\n            EventHandler.add(this.searchElement, 'keyup', this.keyUpHandler, this);\n            this.searchBoxObj.wireEvent();\n        }\n    };\n    Toolbar.prototype.unWireEvent = function () {\n        if (this.searchElement) {\n            EventHandler.remove(this.searchElement, 'keyup', this.keyUpHandler);\n            this.searchBoxObj.unWireEvent();\n        }\n    };\n    Toolbar.prototype.reRenderToolbar = function () {\n        if (this.element) {\n            remove(this.element);\n        }\n        this.render();\n    };\n    Toolbar.prototype.addEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.evtHandlers = [{ event: events.setFullScreenDialog, handler: this.reRenderToolbar },\n            { event: events.initialEnd, handler: this.render },\n            { event: events.uiUpdate, handler: this.onPropertyChanged },\n            { event: events.inBoundModelChanged, handler: this.updateSearchBox.bind(this) },\n            { event: events.modelChanged, handler: this.refreshToolbarItems },\n            { event: events.toolbarRefresh, handler: this.refreshToolbarItems },\n            { event: events.inBoundModelChanged, handler: this.modelChanged },\n            { event: events.dataBound, handler: this.refreshToolbarItems },\n            { event: events.click, handler: this.removeResponsiveSearch },\n            { event: events.rowModeChange, handler: this.reRenderToolbar },\n            { event: events.destroy, handler: this.destroy }];\n        addRemoveEventListener(this.parent, this.evtHandlers, true, this);\n        this.rowSelectedFunction = this.rowSelected.bind(this);\n        this.rowDeSelectedFunction = this.rowSelected.bind(this);\n        this.parent.addEventListener(events.rowSelected, this.rowSelectedFunction);\n        this.parent.addEventListener(events.rowDeselected, this.rowDeSelectedFunction);\n    };\n    Toolbar.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        addRemoveEventListener(this.parent, this.evtHandlers, false);\n        this.parent.removeEventListener(events.rowSelected, this.rowSelectedFunction);\n        this.parent.removeEventListener(events.rowDeselected, this.rowDeSelectedFunction);\n    };\n    Toolbar.prototype.removeResponsiveSearch = function (e) {\n        var target = e.target;\n        var isSearch = target.classList.contains('e-search-icon') || target.classList.contains('e-search-wrapper');\n        if (this.parent.enableAdaptiveUI && !isSearch && this.searchElement\n            && !parentsUntil(e.target, 'e-res-toolbar')) {\n            this.renderResponsiveSearch(false);\n        }\n    };\n    Toolbar.prototype.rowSelected = function () {\n        if (this.parent.enableAdaptiveUI) {\n            this.refreshResponsiveToolbarItems(ResponsiveToolbarAction.isInitial);\n        }\n    };\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} returns the module name\n     */\n    Toolbar.prototype.getModuleName = function () {\n        return 'toolbar';\n    };\n    return Toolbar;\n}());\nexport { Toolbar };\n"],"names":["InlineEditRender","parent","this","prototype","addNew","elements","args","tbody","isEdit","mTbody","getMovableTbody","frTbody","getFrozenRightTbody","isFrozenGrid","isVirtualFrozen","enableColumnVirtualization","isScroll","frozenRows","editSettings","newRowPosition","getMovableHeaderTbody","getHeaderTable","querySelector","literals","getMovableContentTbody","getContentTable","row","createElement","className","emptyRow","parentNode","removeChild","moveTbody","getContent","firstElementChild","getFrozenMode","frTbody_1","insertBefore","firstChild","appendChild","getEditElement","undefined","editModule","checkLastRow","mEle","renderMovableform","setAttribute","getVisibleFrozenColumns","getVisibleColumns","length","frEle","renderFrozenRightForm","colSpan","getFrozenRightColumnsCount","height","notify","events","ele","cloneNode","form","frozenRightForm","template","innerHTML","appendChildren","rowData","renderRightFrozen","getHeaderContent","movableForm","renderMovable","updateFreezeEdit","td","concat","slice","call","getFreezeRow","querySelectorAll","getFreezeRightRow","idx","parseInt","getAttribute","fCont","getFrozenLeftContentTbody","fHdr","getFrozenHeaderTbody","frHdr","getFrozenRightHeaderTbody","frCont","getFrozenRightContentTbody","contains","getFrozenRightRowByIndex","getRowByIndex","mCont","mHdr","getMovableRowByIndex","update","isCustomFormValidation","closest","tdElement","classList","add","refreshFreezeEdit","fCls","cont","mTd","frTd","refreshEditForm","fRows","frRows","updateFrozenCont","updateFrozenRightCont","alignFrozenEditForm","data","getCurrentVisibleColumns","cols","getColumns","k","i","getFreezeTableName","index","getMovableColumnsCount","children","isRowDragable","isFrozen","gObj","gLen","isDetail","isNullOrUndefined","detailTemplate","childGrid","allowGrouping","groupSettings","columns","attrs","colspan","getIndentCount","toString","id","element","table","cellspacing","tr","m","columnModel","span","col","commands","commandsTemplate","field","td_1","style","textAlign","visible","uid","rowRenderingMode","setStyleAndAttributes","headerText","editType","addClass","removeEventListener","dummyData","extend","isAdd","editTemplateID","isReact","getEditTemplate","renderTemplates","BatchEditRender","columnObject","parentRow","cell","parentElement","newTd","focus","remove","DialogEditRender","serviceLocator","isDestroyed","on","destroy","setLocaleObj","l10n","getService","createDialog","createDialogHeader","enableAdaptiveUI","responsiveDlgRenderer","ResponsiveDialogRenderer","action","ResponsiveDialogAction","renderResponsiveHeader","headerTemplate","getDialogEditTemplateElement","getConstant","primaryKeyValue","dialog","styles","dialogObj","Dialog","header","isModal","cssClass","content","showCloseIcon","allowDragging","close","dialogClose","bind","created","dialogCreated","closeOnEscape","width","target","document","body","animationSettings","effect","footerTemplate","buttons","click","btnClick","buttonModel","isPrimary","params","renderResponsiveDialog","appendTo","applyBiggerTheme","show","addBiggerDialog","_this","adaptiveDlgTarget","open","maxHeight","e","toLowerCase","innerText","trim","endEdit","closeEdit","dialogEditTemplates","templateName","charAt","toUpperCase","updateBlazorTemplate","dialogTemp","tempDiv","templateID","getEditHeaderTemplate","getEditFooterTemplate","div","validationRules","formObj","rules","checkColumnIsGrouped","type","dataCell","enableRtl","off","EditRender","renderer","mode","getEditElements","convertWidget","isFocused","fForm","frForm","frzCols","select","getElementsByClassName","rowIndex","requestType","_i","cols_1","getColumnByField","columnName","valueAccessor","temp","edit","write","getObject","window","column","foreignKeyData","isForeignColumn","parentsUntil","focusElement","cellArgs","getComplexFieldID","allowTextWrap","mTdElement","fTdElement","offsetHeight","elem","chkBox","nextElementSibling","onClick","enableVirtualization","preventScroll","setSelectionRange","value","len","cellRendererFact","model","RowModelGenerator","cellRenderer","getCellRenderer","CellType","CommandColumn","generateRows","cells","filter","rowID","render","tArgs","create","input","editTemplate","tempID","tempData","extendObjWithFn","isInput","tagName","complexFieldName","attributes","name","isPrimaryKey","isIdentity","EditCellBase","createEditElement","read","ej2_instances","obj","removeEventHandler","__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","BooleanEditCell","_super","apply","arguments","activeClasses","classNames","checked","selectChkBox","chkState","JSON","parse","editRow","getRowObjectFromUID","isSelected","addRemoveActiveClasses","CheckBox","label","disabled","isEditable","addEventListener","cbChange","checkBoxChange","removeAttribute","DropDownEditCell","flag","isInline","pred","Predicate","keys","clone","DropDownList","dataSource","DataManager","query","Query","where","enabled","fields","placeholder","popupHeight","floatLabelType","sortOrder","ddCreated","dropdownCreated","ddOpen","dropDownOpen","ddBeforeOpen","dropdownBeforeOpen","ddComplete","ddActionComplete","result","DataUtil","distinct","ddEditedData","json","dlgElement","dlgObj","popup","zIndex","NumericEditCell","keyEventHandler","keyCode","evt","createEvent","initEvent","dispatchEvent","instances","Internationalization","locale","NumericTextBox","parseFloat","DefaultEditCell","attr","TextBox","NormalEdit","currentVirtualData","clickHandler","dblClickHandler","allowEditOnDblClick","startEdit","editComplete","isCheckBoxSelection","selectionSettings","isPersistSelection","selectRow","trigger","editRowIndex","getEditArgs","editedData","rowObj","primaryKeys","getPrimaryKeyFieldNames","primaryKeyValues","push","primaryKey","cancel","enableInfiniteScrolling","selector","isGroupAdaptive","rObj","previousData","getCurrentViewRecords","inlineEditHandler","prevData","argsCreator","begineditargs","editargs","clearSelection","selectionModule","preventFocus","applyFormValidation","case","updateRow","showSpinner","index_1","promise","then","refresh","catch","edFail","editFormValidate","isValid","validationArgs","editIdx","addIdx","addedRowIndex","selectedRow","selectedRowIndex","isDlg","dlgWrapper","dlgForm","virtualData","getCurrentEditedData","mhdrFrm","getMovableVirtualHeader","mCntFrm","getMovableVirtualContent","mvblEle","frHdrFrm","frCntFrm","getFrozenRightHeader","getFrozenRightContent","gridActionHandler","tableName","elements_1","eleLength","endEditArgs","destroyElements","destroyWidgets","destroyForm","editHandler","edSucc","editSuccess","editFailure","updateCurrentViewData","requestSuccess","stopEditStatus","refreshRow","isLastRow","blazorTemplate","checkboxOnly","hideSpinner","closeForm","cloneRow","originalRow","cloneFrozen","frozen","error","log","needRefresh","editedRow","infiniteScrollSettings","enableCache","RowRenderer","changes","refreshForeignData","getForeignKeyColumns","rowUid","closeEditArgs","isLazyLoad","enableLazyLoading","renderModule","addRecord","setValue","defaultValue","inlineAddHandler","addArgs","deleteRecord","fieldname","dataLen","_loop_1","_a","tmpRecord","contained","currentViewData","some","record","getSelectedRecords","getSelectedRows","commandDelIndex","addElements","editElements","evtHandlers","event","handler","addRemoveEventListener","InlineEdit","BatchEdit","cellDetails","originalCell","cloneCell","editNext","preventSaveCell","onBeforeCellFocused","onCellFocused","keyDownHandler","editNextValCell","dataBoundFunction","dataBound","batchCancelFunction","batchCancel","focusModule","restoreFocus","saveCell","setCellIdx","colIndex","isNaN","editCell","isAddRow","validateFormObj","byClick","indexOf","keyArgs","clickArgs","preventDefault","getFrozenLeftCount","frzRightCols","clear","container","isContent","isDataCell","isHeader","byKey","indexes","cellIndex","isLastCellPrimaryKey","editCellFromIndex","getDataRows","rowIdx","cellIdx","rows","getRowsObject","argument","batchChanges","getBatchChanges","isAdded","out_i_1","allRows","getGridRowObjects","isInsert","isDirty","this_1","removeBatchElementChanges","splice","renderEmptyRow","Row","isDataRow","Cell","refreshRowIdx","rowRenderer","isInstertedRemoved","getRowElementByUID","aggregates","removeHideAndSelection","tdElements","removeClass","bulkDelete","bulkAddRow","batchSave","j","replaceWith","validate","deletedRecords","checkAllBox","pageSettings","totalRecordsCount","persistSelection","removeSelectedData","original","changedRecords","map","beforeBatchSaveArgs","addedRecords","rows_1","removeRowObjectFromUID","addRowObject","isTop","rowClone","splitFrozenRowObjectCells","unshift","selectedRows","deleteRowUid","getRows","beforeBatchDeleteArgs","getMovableDataRows","uniqueid","out_j_1","getAllDataRows","dataRows","getGridRowElements","dataObjects","_loop_2","this_2","rowElements","rowObjects","getIndexFromData","inArray","allowAdding","defaultData","getDefaultData","beforeBatchAddArgs","mTr","frTr","modelData","cellType","Indent","removeFrozenTbody","renderFrozenAddRow","forgetPrevious","btmIdx","getBottomIndex","findNextEditableCell","args1","columnIndex","rightEle","movable","left","right","sliceElements","isValOnly","validation","endIndex","checkNPCell","allowEditing","dValues","checkEdit","editCellExtend","mRowData","getDataByIndex","getFrozenRightDataRows","isForeignKey","foreignKeyValue","getColIndex","getCellIdx","cellEditArgs","isColored","display","updateCell","getColumnIndexByField","getCellByColAndRowIndex","getMovableRowsObject","getFrozenRightRowsObject","refreshTD","newReactTd","setChanges","currentRowObj","rowEle","movableRowObject","frRowObject","Date","keys_1","cIdx","getColumnIndexByUid","rowcell","CellRenderer","getFrozenColumns","getFrozenLeftColumnsCount","escapeCellEdit","generateCellArgs","previousValue","successCallBack","cloneEditedData","isUndefined","isForceSave","cellSaveArgs","isEscapeCellEdit","visibleColumns","addCancelWhilePaging","DialogEdit","DatePickerEditCell","DatePicker","dateanddatetimerender","DateTimePicker","rtl","format","getCustomDateFormat","TemplateEditCell","Edit","updateEditObj","createAlertDlg","createConfirmDlg","updateColTypeObj","editCellType","getModuleName","onPropertyChanged","module","properties","allowDeleting","initialEnd","showDialog","alertDObj","refreshToolbar","scrollHeight","showConfirmDialog","showDeleteConfirmDialog","deleteRow","endEditing","form1","form2","mFormObj","form3","frFormObj","getCurrentEditCellData","dataBind","getValueFromType","val","destroyToolTip","position","dlgWidget","dlgOk","dlgCancel","alertClick","hide","btnOptions","options","clearIndicator","executeAction","destroyEditComponents","eventDetails","keyPressHandler","preventBatch","actionBeginFunction","onActionBegin","actionCompleteFunction","actionComplete","hasAttribute","setComplexFieldID","blur","getValue","inputElements","inputs","col_1","getColumnByUid","addRow","isRestrict","isDestroyVirtualForm","destroyTemplate","formObjects","virtualFormObj","gridElement","hasGridChild","childElementCount","preventObj","instance","arg1","arg2","arg3","arg4","arg5","arg6","arg7","arg8","mForm","mRules","frRules","setValidationRuels","createFormObj","FormValidator","validationComplete","customPlacement","inputElement","valErrorPlacement","getElemTable","outerHTML","createTooltip","isFHdr","getColumnModelByFieldName","getFrozenVirtualHeader","getFrozenVirtualContent","resetElemPosition","tdRight","getBoundingClientRect","elemRight","offSet","offsetLeft","inputName","status","customForm","gcontent","validationForBottomRowPos","clientHeight","scrollWidth","clientWidth","isFHdrLastRow","isBatchModeLastRow","viewPortRowCount","Math","round","getRowHeight","fHeraderRows","client","inputClient","top","bottom","scrollTop","scrollLeft","arrow","lineHeight","defaultView","getComputedStyle","getPropertyValue","maxWidth","offsetWidth","allowPaging","pos","calculateRelativeBasedPosition","getScrollBarWidth","rowsHeight","AddEditors","editors","FilterCellRenderer","getGui","node","innerDIV","filterTemplate","fltrData","isReactCompiler","getFilterTemplate","allowFiltering","filterBarTemplate","title","role","showClearButton","Input","createInput","Element","class","appendHtml","filterSettings","showFilterBarOperator","isPrinting","operatorIconRender","templateWrite","innerHtml","fbicon","operators","operator","filterModule","dropOptr","text","popupWidth","change","internalEvent","beforeOpen","customOperators","spanElmt","FlMenuOptrUI","customFltrOperators","customFilterOperators","destroyDropDownList","renderOperatorUI","dlgConetntEle","optr","optrData","customOptr","dropDatasource","selectedValue","dropSelectedVal","optrDiv","optrInput","renderResponsiveDropDownList","selValue","columns_1","selectedField","executeLocal","optrLen","getFlOperator","__decorate","decorators","key","desc","c","r","getOwnPropertyDescriptor","Reflect","decorate","defineProperty","SPINNER_CLASS","dropDownListClasses","root","inputObject","ComboBox","preRender","getLocaleName","wireEvent","EventHandler","inputWrapper","preventBlur","onBlurHandler","dropDownClick","targetFocus","readonly","onInput","onFilterUp","onFilterDown","pasteHandler","bindCommonEvent","activeElement","Browser","isDevice","inputValue","listData","customValue","targetElement","setOldText","removeSelection","setOldValue","allowCustom","valueMuteChange","setHiddenValue","setProperties","activeIndex","dataItem","itemData","item","detachChangeEvent","updateValues","li","getElementByText","setSelection","liCollections","getElementByValue","updateIconState","clearButton","clearIconHide","getAriaAttributes","hiddenElement","searchLists","isTyped","isFiltering","ulElement","filterInput","setHoverList","preventAutoFill","incrementalSearch","getNgDirective","setSearchBox","onActionComplete","list","isUpdated","isSelectCustom","setTimeout","inlineSearch","getFocusElement","getItemData","selected","isDropDownClick","Search","filterType","removeFocus","count","getIndexByValue","fixedHead","groupBy","removeFillSelection","autofill","checkCustomValue","getDataByValue","spinnerElement","appendSpan","disableIcon","createSpinner","detach","setAutoFill","isHover","currentValue","getTextByValue","currentFillValue","getFormattedValue","updateSelectedItem","isAndroidAutoFill","setAutoFillSelection","isAndroid","currentPoints","getSelectionPoints","prevEnd","prevSelectPoints","end","curEnd","prevStart","start","curStart","clearAll","property","isSelectFocusItem","isKeyNavigate","focusItem","isCustomFilter","showPopup","selection","substr","getValueByText","ignoreAccent","unWireEvent","unBindCommonEvent","selectCurrentItem","isPopupOpen","onChangeEvent","hidePopup","isValidLI","onFocus","previousValue_1","value_1","eventArgs","initial","updateCustomValueCallback","changeData","newProp","oldProp","checkData","setUpdateInitial","prop","setReadonly","setReadOnly","renderList","comboProps","getPropObject","newProperty","oldProperty","itemTemplate","renderComplete","addItem","items","itemIndex","isEscape","isEscapeKey","typedString","searchItem","selectedLI","isInteracted","focusIn","focusOut","getItems","renderHightSearch","Property","Event","NotifyPropertyChanges","highlightSearch","ignoreCase","ignoreRegex","test","replace","findTextNode","RegExp","pattern","childNodes","nodeType","textContent","nodeValue","revertHighlightSearch","contentElement","parent_1","createTextNode","replaceChild","icon","AutoComplete","isFiltered","searchList","getQuery","filterQuery","queryString","dataType","typeOfData","typeof","mapping","suggestionCount","queryElements","queries","fn","take","isDataFetched","beforePopupOpen","resetList","preventDefaultAction","updateData","filterAction","minLength","renderReactTemplates","fixedHeaderElement","postBackAction","setScrollPosition","listOption","fieldsSettings","itemCreated","highlight","itemCreated_1","renderPopup","isEditTextBox","isPopupButton","showPopupButton","refreshPopup","button","atcProps","Complex","iconCss","FieldSettings","StringFilterUI","serLocator","actObj","getAutoCompleteOptions","foreignColumnQuery","autoComplete","localizeText","acFocus","acComplete","acOpen","openPopup","defObj","eventPromise","state","deffered","filteredValue","filterOptr","filterObj","actuiObj","filterValue","filterByColumn","enableCaseSensitivity","getZIndexCalcualtion","getOptrInstance","arr","mapObj","NumberFilterUI","numericTxtObj","numberuiObj","BooleanFilterUI","dropInstance","drpuiObj","DateFilterUI","dpOpen","locator","fltrSettings","inputElem","datePickerObj","FilterMenuRenderer","fltrObj","isDialogOpen","isMenuCheck","colTypes","flMuiObj","menuFilterBase","CheckBoxFilterBase","clearCustomFilter","clearBtnClick","applyCustomFilter","filterBtnClick","openDialog","renderDlgContent","closeDialog","isVue","clearReactVueTemplates","getElementById","unWireEvents","columnType","mainDiv","dlgDiv","X","Y","getFilterMenuPostion","renderFilterUI","showColumnMenu","writeMethod","renderFlValueUI","menuOperator","valueDiv","fObj","instanceofFilterUI","values","compElement","cBox","wireEvents","getAllData","ui","dlgContentEle","flValue","targ","flOptrValue","fltrValue","eControl","isAngular","closeResponsiveDialog","removeFilteredColsByField","iconClass","flIcon","getFilterUIInfo","renderCheckBoxMenu","updateModel","getAndSetChkElem","getLocalizedLabel","dlg","sBox","CheckBoxFilter","isresetFocus","checkBoxBase","actionBegin","actionPrevent","isActionPrevent","clearFilter","fltrBtnHandler","addScrolling","scrollType","offset","containerOffset","contentOffset","parentElem","createScrollbar","scrollEle","overflow","VScroll","scrollStep","HScroll","destroyScroll","scrollObj","skipEle","menu","ENTER","ESCAPE","FOCUSED","HEADER","SELECTED","SEPARATOR","UPARROW","DOWNARROW","LEFTARROW","RIGHTARROW","HOME","END","CARET","ITEM","DISABLED","HIDE","ICONS","RTL","POPUP","ChildProperty","MenuItem","Collection","MenuAnimationSettings","MenuBase","navIdx","animation","Animation","isTapHold","tempItem","showSubMenuOn","isMenu","ul","getUniqueID","ejInst","clonedElement","append","refEle","ejInstance","wrapper","nodeName","initialize","renderItems","getWrapper","enableScrolling","requestAnimationFrame","split","hamburgerMode","createHeaderContainer","defaultOption","showItemOnClick","ListBase","createJsonFromElement","child","isBlazor","removeChildElement","createItems","setBlankIconStyle","targetElems","selectAll","menuHeaderClickHandler","isIos","Touch","tapHold","touchHandler","cmenuHandler","scrollHandler","getScrollableParent","delegateMoverHandler","moverHandler","delegateMouseDownHandler","mouseDownHandler","delegateClickHandler","wireKeyboardEvent","rippleFn","rippleEffect","keyConfigs","downarrow","uparrow","enter","leftarrow","rightarrow","escape","home","KeyboardEvents","keyAction","keyBoardHandler","closeMenu","actionName","trgt","actionNeeded","removeLIStateByClass","upDownKeyHandler","rightEnterKeyHandler","leftEscKeyHandler","cul","getUlByNavIdx","defaultIdx","fliIdx","fli","getLIByClass","getIdx","cli","navIdxLen","getItem","keyType","openMenu","originalEvent","isCMenu","pageX","changedTouches","pageY","canOpen","ulIndex","isIterated","isMenuVisible","item_1","items_1","sli","beforeCloseArgs","popups","getPopups","isClose","cnt","ul_1","liElem_1","getLI","parentItem","observedCloseArgs","popupEle","closeArgs","popupObj","trgtliId","closedLi","trgtLi","popupId","isOpen","minHeight","unWireKeyboardEvent","getInstance","Popup","toggleAnimation","pop","updateReactTemplate","trgtpopUp","exec","submenus","afterCloseMenu","getIndex","isMenusClosed","sli_1","cliIdx","item_2","removeStateWrapper","portals","clearTemplate","getMenuItemModel","level","getFields","separator","url","forEach","isVisible","valueOf","lItem","elemId","uList","getField","lastChild","hdata","hli","popupWrapper","isNestedOrVertical","generatePopup","calculateIndentSize","hoverDelay","triggerBeforeOpen","clearInterval","timer","getZindexPartial","liStyle","liIndent","textIndent","blankIconElem","menuIconElem","menuIconElemStyle","blankIconIndent","marginRight","actionOnScroll","relateTo","collision","targetType","triggerOpen","spanElem","tempTitle","enableHtmlSanitizer","SanitizeHtmlHelper","sanitize","spanTitle","spanIcon","openHamburgerMenu","closeHamburgerMenu","observedHamburgerCloseArgs","callFit","x","y","fit","menuType","observedOpenArgs","checkScrollOffset","refreshPosition","scrollY","animationOptions","duration","timingFunction","easing","setPosition","eventArgs_1","collide","isCollide","offWidth","calculatePosition","blankIconList","iconLi","cssProp","padding","margin","iconCssProps","iconSize","fontSize","size","offsetEle","offsetRight","px","toggleVisiblity","newTop","pageYOffset","documentElement","Number","xCollision","visibility","showIcon","hasField","listBaseOptions","moduleName","itemNavigable","itemCreating","curData","htmlAttributes","tabindex","createList","liTrgt","hdrWrapper","regex","isDifferentElem","isClosed","propName","fieldName","cliWrapper","isInstLI","cliWrapperId","setLISelected","showSubMenu","culIdx","classname","getItemIndex","isUniqueId","isText","setItem","newItem","setItems","newItems","skipHdr","updateItemsByNavIdx","updateItem","toggle","ul_2","ul_3","getChangedItemIndex","insertAfter","removeItem","lastElementChild","popStr","uls","targetSelctor","touchModule","parent_2","keyboardModule","isMenuOpen","pUlHeight","pElement","animate","begin","progress","getPersistData","nIndex","isCallBack","enableItems","enable","skipItem","i_1","showItems","showHideItems","hideItems","ishide","removeItems","iitems","insertItems","isAfter","menuitem","removeAttributes","removeProperty","refreshing","itemId","parentId","Component","ContextMenu","ExcelFilterBase","childRefs","eventHandlers","isExcel","getCMenuDS","number","string","date","datetime","unwireExEvents","menuObj","destroyCMenu","removeDialog","createMenu","isCheckIcon","eleOptions","allowSorting","isResponsiveFilter","hdrele","getColumnHeaderByUid","colIsSort","isAsc","isDesc","ascName","descName","createMenuElem","ensureTextFilter","iconName","isSubMenu","wireExEvents","hoverHandler","clickExHandler","menuItem","isCMenuOpen","cmenu","focused","submenu","selectedMenu","menuOptions","selectHandler","onClose","beforeClose","preventClose","contextRect","getContextBounds","innerHeight","innerWidth","isIE","getCMenuYPosition","predicates","existingPredicate","isFilterBack","MouseEvent","contextWidth","targetPosition","leftPos","targetBorder","filterLength","filteredColumns","renderDialogue","isComplex","isComplexField","overlayClick","createdDialog","rowResponsiveDlg","removeObjects","renderCustomFilter","dlgFields","fieldSet","displayName","checkBoxValue","colValue","fValue","fOperator","sValue","sOperator","predicate","firstOperator","firstValue","matchCase","secondOperator","secondValue","mPredicate","fColl","arg","filterCollection","ejpredicate","actualPredicate","foreignKeyFilter","elementID","isFirst","fieldElement","xlfloptr","menuText","dropDownValueChange","registerEventHandlers","getSelectedValue","removeHandlersFromComponent","component","removeEventHandlers","includes","getSelectedText","colGroup","renderRadioButton","radioDiv","frstpredicate","secndpredicate","renderMatchCase","andRadio","RadioButton","orRadio","elementId","isFilteredCol","fltrPredicates","columnObj","getExcelFilterData","valueInput","renderAutoComplete","renderNumericTextBox","renderDate","renderDateTime","predIndex","indx","columnData","matchCaseDiv","matchCaseInput","checkbox","isRtl","datePicker","dateTimePicker","completeAction","distinctStringValues","numericTextBox","colObj","acActionComplete","mapObject","performComplexDataOperation","columnvalue","ExcelFilter","excelFilterBase","Filter","contentRefresh","filterByMethod","cellText","nextFlMenuOpen","filterOperators","endsWith","equal","greaterThan","greaterThanOrEqual","lessThan","lessThanOrEqual","notEqual","startsWith","fltrDlgDetails","skipNumberInput","skipStringInput","setFullScreenDialog","getLocalizedCustomOperators","fltrElem","addCellRenderer","valueFormatter","generateRow","rowdrag","detail","gCells","showCustomFilter","responsiveDialogRenderer","isCustomDialog","showResponsiveDialog","setFilterModel","updateFilterMsg","dropdownlist","filterBarElement","registerAdaptiveService","isFilter","generateCells","generateCell","HeaderIndent","DetailHeader","RowDragHIcon","dummy","opt","filterObjIndex","getFilteredColsIndexByField","prevFilterObject","arrayVal","isArray","adaptor","isMenuNotEqual","currentFilterObject","actualFilterValue","actualOperator","isRemove","currentFilteringColumn","keyUpHandlerImmediate","enableAfterRender","refreshFilterValue","enablePersistence","refreshFilterValueFn","initialLoad","keyUpHandler","columnPositionChanged","filterMenuClose","docClickHandler","refreshClearIcon","columnMenuFilter","filterIconClickHandler","targetText","previousElementSibling","filterOperator","filterCell","grabColumnByFieldFromAllCols","getOperatorName","getColumnHeaderByField","checkForSkipInput","filterStatusMsg","applyColumnFormat","predObj","fColumn","checkAlreadyColFiltered","getFlvalue","setFormatForFlColumn","skipUid","colLen","updateFilterIcon","refreshFilterSettings","updateFilter","updateExternalMessage","refreshHeader","grabColumnByUidFromAllCols","filterElement","getFilterBarElement","fltrIconElement","refreshFilter","clearFiltering","getActualPropFromColl","colUid","f","filteredcols","fltrElement","filterDialogOpen","createOptions","getDataModule","dataManager","formatFn","getFormatter","parserFn","getParser","getFilterItemTemplate","hideSearchbox","filterHandler","localizedStrings","getLocaleConstants","localeObj","isRemote","allowCaseSensitive","isClearFilterBar","fCell","filteredColsUid","len_1","currentPred","currentFilterColumn","matches","closeHeaderEle","dropDownListInput","processFilter","currentInfo","openMenuByField","updateCrossIcon","getFormatFlValue","showFilterBarStatus","fromView","toView","isSkip","operatorSymbols","stopTimer","startTimer","setInterval","onTimerTick","immediateModeDelay","stringify","templateRead","validateFilterValue","skipInput","getOperator","substring","singleOp","multipleOp","numOptr","stringOperator","numberOperator","dateOperator","datetimeOperator","booleanOperator","gClient","fClient","inputId","datepickerEle","hasDialog","hasDialogClosed","filterIconElement","getColumnByForeignKeyValue","refreshFilterIcon","addFilteredClass","renderCheckboxOnFilterMenu","Sort","sortSettings","sortedColumns","isModelChanged","aria","AriaService","currentTarget","sortedColumn","direction","gCols","isMultiSort","getSortedColsIndexByField","sortedCols","sCol","getSortColumnFromField","isFromGroup","lastSortedCol","sortColumn","isContextMenuOpen","allowMultiSorting","backupSettings","removeSortIcons","updateSortedCols","isSort","lastSortedCols","iterateExtend","lastCols","restoreSettings","refreshSortSettings","addSortIcons","sortColumns","clearSorting","removeSortColumn","refreshSortIcons","keyPressed","cancelBeginEvent","popUpClickHandler","allowSelection","allowColumnSelection","initiateSort","showPopUp","getFocusedElement","ctrlKey","enableSortMultiTouch","navigator","userAgent","metaKey","shiftKey","allowUnsort","setCssInGridPopUp","fieldNames","setSort","updateAriaAttr","showCustomSort","Toolbar","predefinedItems","gridID","isAdaptive","excludingItems","preItems_1","itemStr","localeName","prefixIcon","tooltipText","align","ColumnChooser","suffixIcon","responsiveFilter","responsiveSort","toolbar","responsiveBack","createToolbar","getToolbar","addReactToolbarPortals","bindSearchEvents","searchElement","refreshToolbarItems","searchSettings","updateSearchBox","toolbarCreated","isNormal","tool","clicked","toolbarClickHandler","viewStr","toolbarTemplate","ID","templateCompiler","renderResponsiveSearch","isRender","refreshResponsiveToolbarItems","ResponsiveToolbarAction","isSearch","searchBoxObj","searchFocus","isInitial","selectedRecords","getSelectedRowIndexes","toolbarEle","_b","_c","disableItems","hasData","toolbarItems","getItemObject","toolbarItems_1","itemObject","itemName","isEnable","gID","newArgs","toolbarargs","print","search","tarElement","targetEle","offsetTop","createColumnchooser","showResponsiveCustomFilter","showResponsiveCustomSort","modelChanged","SearchBox","reRenderToolbar","removeResponsiveSearch","rowSelectedFunction","rowSelected","rowDeSelectedFunction"],"sourceRoot":""}